Recuperación y control de pérdidas intraflujo para VoIP Henning Sanneck GMD Fokus Nguyen Tuong Long Le GMD Fokus Kaiserin-Augusta-Allee 31 Kaiserin-Augusta-Allee 31 D-l 0589 Berlín, Alemania D-l 0589 Berlín, Alemania sanneck@fokus.gmd.de le@fokus.gmd.de Adam Wolisz Universidad Técnica de Berlín, Grupo de Redes de Telecomunicaciones, Sekr. Las redes de conmutación de paquetes de mejor esfuerzo, como Internet, no ofrecen una transmisión confiable de paquetes a aplicaciones con restricciones de tiempo real, como la voz. Por lo tanto, la pérdida de paquetes afecta la utilidad a nivel de aplicación. Para la voz, este deterioro de utilidad es doble: por un lado, incluso breves ráfagas de paquetes perdidos pueden disminuir significativamente la capacidad del receptor para ocultar la pérdida de paquetes y la reproducción de la señal de voz se interrumpe. Por otro lado, algunos paquetes pueden ser particularmente sensibles a la pérdida, ya que contienen información más importante en términos de percepción del usuario que otros paquetes. Primero desarrollamos un modelo de extremo a extremo basado en longitudes de ejecución de pérdidas con el cual podemos describir la distribución de pérdidas dentro de un flujo. Estas métricas a nivel de paquete luego se vinculan con métricas de calidad de voz a nivel de usuario. Utilizando este marco de trabajo, encontramos que para los códecs de muestras de baja compresión (PCM) con ocultamiento de pérdidas, las pérdidas de paquetes aisladas pueden ser ocultadas de manera efectiva, mientras que las pérdidas en ráfaga tienen un mayor impacto perceptual. Para códecs basados en cuadros de alta compresión (G.729), por un lado, el impacto de la pérdida se amplifica a través de la propagación de errores causada por las memorias del filtro del decodificador, aunque por otro lado, dichos esquemas de codificación ayudan a realizar el encubrimiento de la pérdida mediante la extrapolación del estado del decodificador. A diferencia de los códecs basados en muestras, demostramos que el rendimiento del ocultamiento puede fallar en las transiciones dentro de la señal de voz. Luego proponemos mecanismos que diferencian entre paquetes dentro de un flujo de datos de voz para minimizar el impacto de la pérdida de paquetes. Designamos estos métodos como recuperación y control de pérdidas intraflujo. A nivel de extremo a extremo, se lleva a cabo la identificación de paquetes sensibles a la pérdida (emisor) así como la ocultación de la pérdida (receptor). Los esquemas de soporte de salto a salto permiten (estadísticamente) intercambiar la pérdida de un paquete, que se considera más importante, por otro de la misma secuencia que es de menor importancia. Dado que ambos paquetes requieren el mismo costo en términos de transmisión de red, es posible obtener una mejora en la percepción del usuario. Mostramos que se pueden lograr mejoras significativas en la calidad del habla y evitar costos adicionales de datos y retrasos, manteniendo un servicio de red virtualmente idéntico al de mejor esfuerzo a largo plazo. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Comunicación de Computadoras]: Sistemas Distribuidos-Aplicaciones Distribuidas; (3.2.6 [Redes de Comunicación de Computadoras]: Interconexión-Enrutadores; C.4 [Organización de Sistemas de Computadoras]: Rendimiento de Sistemas-Técnicas de evaluación; C.4 [Organización de Sistemas de Computadoras]: Rendimiento de Sistemas-Técnicas de modelado Términos Generales Diseño, Medición, Rendimiento, Confiabilidad 1. CONSIDERACIONES Considerando que un flujo en tiempo real puede experimentar pérdida de paquetes, el impacto de la pérdida puede variar significativamente dependiendo de qué paquetes se pierdan dentro de un flujo. En lo siguiente distinguimos dos razones para tal sensibilidad variable a la pérdida: Sensibilidad temporal: La pérdida de ADUs que está correlacionada en el tiempo puede provocar interrupciones en el servicio. Se debe tener en cuenta que este efecto se ve aún más agravado por cierta interdependencia entre las Unidades de Datos de Aplicación (ADUs) (es decir, que una ADU solo puede ser decodificada cuando una ADU anterior ha sido recibida y decodificada con éxito). Para la voz, dado que un solo paquete típicamente contiene varios ADU (cuadros de voz), este efecto es por lo tanto más significativo que, por ejemplo, para el video. Se traduce básicamente a pérdidas de paquetes aisladas versus pérdidas que ocurren en ráfagas. Sensibilidad debido a la heterogeneidad de las Unidades de Datos de Aplicación (ADU): Ciertas ADUs podrían contener partes de la señal codificada que son la Unidad de Datos de Aplicación: la unidad de datos emitida por un codificador fuente como un fotograma de video o voz. Figura 1: Funciones de utilidad esquemáticas dependientes de la pérdida de paquetes más (+1) y menos (-1) importantes, siendo más importante con respecto a la percepción del usuario que otros de la misma secuencia. Consideremos un flujo con dos tipos de cuadros de gran importancia perceptualmente diferente (asumimos el mismo tamaño, frecuencia y ninguna interdependencia entre los cuadros). Bajo la pérdida del 50% de los paquetes, la calidad perceptual varía enormemente entre el caso en el que se reciben el 50% de los fotogramas con alta importancia perceptual y el caso en el que se reciben el 50% de los fotogramas menos importantes. El soporte de red para flujos multimedia en tiempo real puede, por un lado, tener como objetivo ofrecer un servicio sin pérdidas, que, sin embargo, para ser implementado en una red de conmutación de paquetes, resultará costoso para el proveedor de red y, por lo tanto, para el usuario. Por otro lado, dentro de un servicio con pérdida de datos, se deben tener en cuenta las restricciones de sensibilidad mencionadas anteriormente. Es nuestra firme creencia que esto debe hacerse de manera genérica, es decir, no se debería requerir conocimiento específico de la aplicación (sobre esquemas de codificación particulares, por ejemplo) dentro de la red y, viceversa, no se debería requerir conocimiento sobre detalles específicos de la red dentro de una aplicación. Consideremos ahora el caso en el que el 50% de los paquetes de un flujo son identificados como más importantes (designados con +1) o menos importantes (-1) debido a cualquiera de las restricciones de sensibilidad mencionadas anteriormente. La Figura 1 a) muestra una función de utilidad genérica que describe el Nivel de Servicio de Calidad (QoS) a nivel de aplicación dependiendo del porcentaje de paquetes perdidos. Para el tráfico multimedia en tiempo real, dicha utilidad debería corresponder a la calidad percibida del video/voz. Si el sistema de transmisión no conoce la importancia relativa de los paquetes, las tasas de pérdida de los paquetes +1 y -1 son iguales. Debido a la sensibilidad sobreproporcional de los paquetes +l a la pérdida, así como a la dependencia del rendimiento de recuperación de pérdidas del extremo t* en los paquetes fl, la función de utilidad disminuye significativamente de manera no lineal (aproximada en la figura por funciones lineales por tramos) con una tasa de pérdida creciente. La figura 1 b) presenta el CBS~ donde todos los paquetes +l están protegidos a expensas de -1 pa&&. La decadencia de la función de utilidad (para tasas de pérdida < 50%) se reduce, ya que los paquetes +l están protegidos y la recuperación de pérdidas de extremo a extremo puede operar correctamente sobre un rango más amplio de tasas de pérdida indicado por el área sombreada. Esto resulta en una degradación elegante de la utilidad de las aplicaciones. Ten en cuenta que cuanto mayor sea la no linealidad de la contribución de utilidad de los paquetes fl (desviación de la curva punteada en la Fig. 1 a), mayor será la ganancia potencial en utilidad cuando se habilita la protección para los paquetes +l. Los resultados para la calidad percibida actual como utilidad para aplicaciones multimedia muestran un comportamiento no lineal. Para describir este efecto y proporcionar una taxonomía para diferentes enfoques de mejora de la calidad de servicio, introducimos un nuevo término: designamos como QoS entre flujos a los mecanismos que influyen en los parámetros de QoS entre Bows (disminuyendo así la tasa de pérdida de un flujo a expensas de otros flujos). Los esquemas que, en presencia de pérdida, diferencian entre paquetes dentro de un flujo, como se muestra en la Figura 1 arriba, proporcionan mejora de la calidad de servicio intraflujo. Como los mecanismos de QoS deben implementarse dentro de la red (salto a salto) y/o en los sistemas finales (extremo a extremo), tenemos otro eje de clasificación. La adaptación de la tasa de bits de los emisores al estado actual de congestión de la red como un esquema de QoS intraflujo (evitación de pérdidas, [IS]) es difícil de aplicar a la voz. Dado que los flujos de voz tienen una tasa de bits muy baja, el costo relativo de transmitir la información de retroalimentación es alto (en comparación, por ejemplo, con un flujo de video). Para reducir este costo, sería necesario aumentar el intervalo de retroalimentación, lo que resultaría en una mayor probabilidad de decisiones de adaptación incorrectas. La principal dificultad, sin embargo, es la falta de un códec que sea verdaderamente escalable en cuanto a su velocidad de bits de salida y calidad perceptual correspondiente. Actualmente, los códecs de voz estandarizados generalmente solo tienen una tasa de bits de salida 6 veces mayor. Aunque se ha propuesto cambiar entre los códecs de voz ([2]), los valores de MOS (calidad subjetiva) para los códecs empleados no difieren mucho: por ejemplo, los códecs de la UIT G.723.1, G.729, G.728, G.726 y G.711 cubren un rango de velocidad de bits de 5.3 kbit/s a 64 kbit/s, mientras que la calidad subjetiva difiere en menos de 0.25 en una escala MOS de 1 a 5 ([4], 1: mala, 5: excelente calidad). Por lo tanto, cuando se asume la disponibilidad de suficiente potencia de cálculo, se puede elegir de forma permanente el códec de menor velocidad de bits sin disminuir realmente la calidad perceptual. Para la recuperación de pérdidas de extremo a extremo, debido a las restricciones de retraso en tiempo real, se han propuesto esquemas de lazo abierto como la Corrección de Errores Hacia Adelante (FEC) ([2]). Si bien estos esquemas son atractivos porque pueden ser utilizados en Internet hoy en día, también tienen varias desventajas. La cantidad de información redundante debe ser adaptable para evitar quitar ancho de banda a otros flujos. Esta adaptación es crucial, especialmente cuando la fracción de tráfico que utiliza esquemas de redundancia es grande (181). Si la redundancia es un código fuente en sí mismo, como a menudo se ha propuesto ([7]), los comentarios anteriores sobre la adaptación también son aplicables. El uso de redundancia también tiene implicaciones en la adaptación del retraso de reproducción ([lo]) empleada para eliminar la variabilidad de los paquetes en el receptor. Es importante tener en cuenta que los tipos de sensibilidad a la pérdida presentados también se aplican a las aplicaciones que se ven beneficiadas por mecanismos de recuperación de pérdidas de extremo a extremo. Los mecanismos de extremo a extremo pueden reducir y cambiar tales sensibilidades, pero no pueden eliminarlas por completo. Por lo tanto, en este trabajo asumimos que se elige la tasa de bits más baja posible que proporcione la calidad deseada. Ni se utiliza retroalimentación/adaptación ni redundancia, sin embargo, a nivel de extremo a extremo, se lleva a cabo la identificación/marcado de paquetes sensibles a la pérdida (emisor) así como la ocultación de la pérdida (receptor). Los esquemas de soporte de salto a salto permiten intercambiar la pérdida de un paquete, considerado más importante, por otro de la misma secuencia que tiene menor importancia. Empleamos códecs reales y medimos su utilidad en presencia de pérdida de paquetes utilizando medidas objetivas de calidad de voz. El documento está estructurado de la siguiente manera: La Sección 2 introduce métricas a nivel de paquete y de usuario. Empleamos estas métricas para describir la sensibilidad del tráfico de VoIP a la pérdida de paquetes en la sección 3. La sección 4 introduce brevemente un algoritmo de gestión de colas que se puede utilizar para el control de pérdidas dentro del flujo. En la sección 5, presentamos resultados que documentan el rendimiento de los mecanismos propuestos tanto a nivel de extremo a extremo como de salto a salto. La sección 6 concluye el artículo. MÉTRICAS 2.1 Métricas a nivel de paquete Se define un modelo de Markov general ([19, S]) que describe el proceso de pérdida de la siguiente manera: Sea P( Z(s) ] Z(s - m),... ,Z(s - 2),Z(s - 1) ) la probabilidad de transición de estado de un modelo de Markov general de orden m, donde Z(s) es la función indicadora de pérdida para el paquete con el número de secuencia s. Todas las combinaciones de los valores (0 y 1) de las secuencias Z(s-m), . . . , Z(s-2),Z(s-1) aparecen en el espacio de estados. Como ejemplo, P( Z(s) = 1 | Z(s - 2), Z(s - 1) = 0 ) proporciona la probabilidad de transición de estado cuando el paquete actual s se pierde, el paquete anterior s - 1 también se ha perdido y el paquete s - 2 no se ha perdido. El número de estados del modelo es 2. Dos transiciones de estado pueden tener lugar desde cualquiera de los estados. Por lo tanto, el número de parámetros que deben ser calculados es 2m+1. Incluso para valores relativamente pequeños de m, esta cantidad de parámetros es difícil de evaluar y comparar. La Tabla 1 muestra algunos valores para las probabilidades de estado y transición para un modelo de Markov general de tercer orden medido de extremo a extremo en Internet por Yajnik et al. ([19]). Es interesante notar que para todos los estados con Z(s - 1) = 0, la probabilidad de que el siguiente paquete no se pierda (Z(s) = 0) es generalmente muy alta (> 0.8, en negrita), mientras que cuando Z(s - 1) = 1, las probabilidades de transición de estado a ese evento abarcan el rango de 0.15 a 0.61. Eso significa que los eventos pasados de no pérdida no afectan tanto el proceso de pérdida como los eventos pasados de pérdida. Intuitivamente, esto parece tener sentido, ya que un paquete que llega con éxito puede ser visto como un indicador de alivio de congestión. Andren et al. ([l]) así como Yajnik et al. ([20]) confirmaron esto midiendo la correlación cruzada de las longitudes de secuencias con pérdida y sin pérdida. Llegaron a la conclusión de que dicha correlación es muy débil. Esto implica que los patrones de ráfagas cortas de pérdida intercaladas con breves períodos de llegadas exitosas de paquetes ocurren raramente (nótese en este contexto que en la tabla 1 el patrón 101 tiene de lejos la probabilidad de estado más baja). Por lo tanto, en lo siguiente empleamos un modelo ([12]) que solo considera los eventos de pérdida pasados para la probabilidad de transición de estado. El número de estados del modelo se puede reducir de 2m a m + 1. Esto significa que solo consideramos la probabilidad de transición de estado P( Z(s) ] Z(s - k), . . . ,Z(s - 1) ) con Z(s - Ic + i) = 1 V i E [0, Ic - 1], donde Ic (0 < k 5 m) es un parámetro variable. Definimos una longitud de ejecución de pérdidas lc para una secuencia de Ic paquetes perdidos consecutivamente detectados en sj (sj > Ic > 0) con Z(sj - k - 1) = O, Z(sj) = 0 y Z(sj - k + i) = 1 V i E [0, Ic - 11, j siendo el j-ésimo evento de pérdida en ráfaga. Se debe tener en cuenta que los parámetros del modelo se vuelven independientes del número de secuencia s y ahora pueden ser descritos por la ocurrencia ok de una longitud de racha de pérdida k. Definimos la variable aleatoria X de la siguiente manera: X = 0: ningún paquete perdido, X = k (0 < lc < m): exactamente lc paquetes consecutivos perdidos, y X ≥ k (0 < k < m): al menos k paquetes consecutivos perdidos. Con esta definición, establecemos un modelo de longitud de racha de pérdidas con un número finito de estados (m + 1) que proporciona probabilidades de pérdida dependientes de la longitud de la ráfaga. En el modelo, por cada paquete adicional perdido que se suma a la longitud de una ráfaga de pérdida, tiene lugar una transición de estado. Si un paquete es recibido exitosamente, el estado vuelve a X = 0. Por lo tanto, la probabilidad estatal del sistema para 0 < Ic < m es P(X 2 Zc). Debido a la memoria limitada del sistema, el último estado X = m se define simplemente como m paquetes perdidos consecutivos, con P(X = m) siendo la probabilidad del estado. Dado el caso de un número finito de paquetes a para un flujo, que experimenta d = cpC1 ]cok caídas de paquetes, tenemos la frecuencia relativa pL,k = 2 (P(X = k) para a + 00) para la ocurrencia de una ráfaga de pérdida de longitud lc. Una aproximación para la esperanza de la variable aleatoria X se puede calcular como pi = cr==, #+L,k y se puede identificar con la tasa media de pérdida. También podemos aproximar las probabilidades de estado del modelo mediante la tasa de pérdida acumulativa p~,~,,~(k) = CrSkp~,,, (0 < k < m) y p~,~ = Cr.p=, (n--mzl)ot (k = m). Las probabilidades de transición para 1 < lc < m se pueden calcular fácilmente como: p(k--l)(k) = P(X>klX>k-l)= P(X>knX>k-1) P(X>k-1) ZZ P ( X > k ) P(X>k-1) Estas probabilidades de pérdida condicionales nuevamente pueden ser aproximadas por PL,cond@) = PL,cum(k-l) - C;Ek--l 0,. Para la Figura 2 de la Figura 443: Modelo de longitud de ejecución de pérdida con m + 1 estados P(X = m]X = m) tenemos: PL,,,d(rn) = %Lf;:P. La Figura 2 muestra la cadena de Markov para el modelo. (1) Además, también definimos una variable aleatoria Y que describe la distribución de las longitudes de pérdida de ráfaga con respecto a los eventos de pérdida de ráfaga j (y no a eventos de paquetes como en la definición de X). Tenemos la tasa de longitud de pérdida de ráfaga ga = * como una estimación para P(Y = k). Por lo tanto, la longitud media de pérdida de ráfaga es g = h = e = CT==, kgb correspondiente a E[Y] (brecha de pérdida promedio, [5]). El modelo de longitud de carrera implica una distribución geométrica para residir en el estado X = m. Por lo tanto, para la probabilidad de una longitud de pérdida de ráfaga de k paquetes, podemos calcular estimaciones para los parámetros de rendimiento en una representación de modelo de orden superior (nota que aquí Y representa la variable aleatoria utilizada en los modelos de orden superior). Para un modelo de tres estados tenemos, por ejemplo, para P(Y = k): P(Y = k) = P(Y=k)=l-pm: k=l pn p;; (1 -pm): k 2 2 c-4 Para el caso especial de un sistema con una memoria de solo el paquete anterior (m = l), podemos utilizar la distribución de longitud de racha para un cálculo simple de los parámetros del modelo de Gilbert comúnmente utilizado (Fig. 3) para caracterizar el proceso de pérdida (siendo X la variable aleatoria asociada con X = 0: ningún paquete perdido, X = 1 un paquete perdido). Entonces, la probabilidad de estar en el estado m se puede ver como la probabilidad de pérdida incondicional ulp y aproximarse por la pérdida media (pr. = pi,,,,). Solo existe una probabilidad de pérdida condicional (clp) para la transición 1 --t 1: p~,E-d = CFL(~ - lbd (3) Si las pérdidas de un flujo están correlacionadas (es decir, la probabilidad de pérdida de un paquete que llega está influenciada por la contribución al estado de la cola de un paquete anterior del mismo flujo y/o tanto el paquete anterior como el actual ven llegadas agitadas de otro tráfico, [15]) tenemos pal < clp y por lo tanto ulp 5 clp. Para pal = elp, el modelo de Gilbert es equivalente a un modelo de estado l (Bernotilli) con zllp = elp (sin correlación de pérdida). Como en la ecuación 2 podemos calcular una estimación para la probabilidad de una longitud de pérdida de ráfaga de k paquetes para una representación de modelo de orden superior: B(Y = k) = clpk-(1 - clp) (4) Figura 3: Modelo de longitud de ejecución de pérdida (modelo Gilbert) con dos estados Figura 4: Componentes de la configuración de medición de recuperación/control de pérdida de extremo a extremo. 2.2 Métricas de calidad de voz objetivo A diferencia de los métodos convencionales como la Relación Señal-Ruido (SNR), las nuevas medidas de calidad objetivo intentan estimar la calidad subjetiva lo más cercanamente posible mediante la modelización del sistema auditivo humano. En nuestra evaluación utilizamos dos medidas objetivas de calidad: la Distorsión Espectral Mejorada de Mod&d Bark (EMBSD, [21]) y los Bloques Normalizadores de Medición (MNB) descritos en el Apéndice II de la Recomendación P.861 de la UIT-T ([18]). Estas dos medidas de calidad objetivas se informa que tienen una correlación muy alta con pruebas subjetivas, su relación con el rango de valores de resultados de pruebas subjetivas (MOS) es casi lineal y se recomienda que sean adecuadas para la evaluación del habla degradada por errores de transmisión en entornos de red reales como errores de bits y borrado de tramas ([18, 211). Ambas métricas son medidas de distancia, es decir, un valor de IB de 0 implica una calidad perfecta, cuanto mayor sea el valor, peor será la calidad del habla (en la Fig. 5 mostramos un eje con valores MOS aproximados correspondientes). Para todas las simulaciones en este artículo utilizamos ambos esquemas. Dado que arrojaron resultados muy similares (aunque los resultados de MNB generalmente mostraron menos variabilidad), solo presentamos los resultados de EMBSD. 3. La Figura 4 muestra los componentes del montaje de medición que utilizaremos para evaluar nuestro enfoque de recuperación y control de pérdidas combinadas de extremo a extremo y de salto a salto. Las 444 casillas sombreadas muestran los componentes en la ruta de datos donde se encuentran los mecanismos de recuperación de pérdidas. Junto con los parámetros del modelo de red (sección 2.1) y el modelo perceptual, obtenemos una configuración de medición que nos permite mapear una entrada de señal PCM específica a una medida de calidad de voz. Al utilizar una caracterización de pérdida simple de extremo a extremo, generamos una gran cantidad de patrones de pérdida utilizando diferentes semillas para el generador de números pseudoaleatorios (para los resultados presentados aquí utilizamos 300 patrones para cada condición simulada para una única muestra de voz). Este procedimiento tiene en cuenta que el impacto de la pérdida en una señal de entrada puede no ser homogéneo (es decir, una ráfaga de pérdida dentro de un segmento de esa señal puede tener un impacto perceptual diferente que una ráfaga de pérdida del mismo tamaño dentro de otro segmento). Al promediar el resultado de la medida de calidad objetiva para varios patrones de pérdida, obtenemos una indicación confiable del rendimiento del códec operando bajo una determinada condición de pérdida de red. Empleamos un modelo de Gilbert (Fig. 3) como modelo de red para las simulaciones, ya que hemos encontrado que aquí los modelos de orden superior no proporcionan mucha información adicional. 3.1 Sensibilidad temporal 3.1.1 Pa4 Primero analizamos el comportamiento de flujos PCM de ~-ley (64 kbit/s) con y sin ocultamiento de pérdidas, donde el ocultamiento de pérdidas repara solo pérdidas aisladas (la estacionariedad del habla solo se puede asumir para intervalos de tiempo pequeños). Los resultados se muestran para el algoritmo de ocultamiento AP/C ([ll]). Se obtuvieron resultados similares con otros algoritmos de ocultación. La Figura 5 muestra el caso sin ocultamiento de pérdidas habilitado donde se varían los parámetros del modelo de Gilbert. La calidad del habla resultante es insensible al parámetro de distribución de pérdida (elp). Los resultados están disminuyendo ligeramente incluso para un aumento de clp, lo que indica una variabilidad significativa de los resultados. En la Figura 6 se representan los resultados con ocultamiento de pérdidas. Cuando la correlación de pérdida (dp) es baja, el ocultamiento de pérdidas proporciona una mejora significativa en el rendimiento. La mejora relativa aumenta con la pérdida (pulpa) creciente. Para valores de clp más altos, los casos con y sin ocultamiento se vuelven cada vez más similares y muestran el mismo rendimiento en clp x 0.3. Las figuras 5 y 6 respectivamente también contienen una curva que muestra el rendimiento bajo la suposición de pérdidas aleatorias (modelo de Bernoulli, ulp = elp). Por lo tanto, considerando una unidad de punto flotante dada, un patrón de pérdida en el peor de los casos de pérdidas alternas (I(s mod 2) = l,l([s + l] mod 2) = 0) permitiría una mejora considerable en el rendimiento (con ok = OVk > 1: p~,cond = 0, Ec. 3). Como encontramos mediante inspección visual que las distribuciones de los valores de distorsión perceptual para una condición de pérdida parecen seguir aproximadamente una distribución normal, empleamos la media y la desviación estándar para describir la variabilidad estadística de los valores medidos. La Figura 7 presenta la distorsión perceptual como en la figura anterior, pero también muestra la desviación estándar como barras de error para la condición de pérdida respectiva. Muestra la creciente variabilidad de los resultados con la correlación de pérdida creciente (clp), mientras que la variabilidad no parece cambiar mucho con una cantidad creciente de pérdida (alp). Por un lado, esto apunta a cierta sensibilidad, aunque débil, con respecto a la heterogeneidad (es decir, importa en qué área de la señal de voz (voz/no voz) se produce una pérdida de explosión). Por otro lado, se muestra que un gran número de patrones de pérdida diferentes es necesario para una muestra de habla específica al utilizar medidas objetivas de calidad de habla para evaluar el impacto de la correlación de pérdida en la percepción del usuario. G.729 utiliza el esquema de codificación Conjugate Structure Algebraic Code Excited Linear Prediction (CS-ACELP) y opera a 8 kbit/s. En G.729, un tramo de voz es de 10 ms de duración. Para cada cuadro, el codificador G.7i9 analiza los datos de entrada y extrae los parámetros del modelo de Predicción Lineal Excitada por Código (CELP) como los coeficientes del filtro de predicción lineal y los vectores de excitación. Cuando se pierde o corrompe un cuadro, el decodificador G.729 utiliza los parámetros del cuadro anterior para interpolar los del cuadro perdido. Los coeficientes de pares espectrales de línea (LSP3) del último cuadro bueno se repiten y los coeficientes de ganancia se toman del cuadro anterior pero se amortiguan para reducir gradualmente su impacto. Cuando se produce una pérdida de trama, el decodificador no puede actualizar su estado, lo que resulta en una divergencia del estado del codificador y del decodificador. Por lo tanto, los errores no solo se introducen durante el período de tiempo representado por el fotograma actual, sino también en los siguientes. Además del impacto de las palabras de código faltantes, la distorsión se incrementa por la falta de actualización de las memorias del filtro predictor para los pares espectrales de línea y las memorias del filtro de síntesis de predicción lineal. La Figura 8 muestra que para condiciones de red similares, la calidad de salida del G.729* es peor que la del PCM con ocultamiento de pérdida, demostrando el compromiso entre compresión y calidad bajo pérdida de paquetes. Curiosamente, la correlación de pérdida (parámetro dp) tiene cierto impacto en la calidad del habla, sin embargo, el efecto es débil, lo que señala una cierta robustez del códec G.729 en cuanto a la resistencia a pérdidas de paquetes consecutivas debido al ocultamiento interno de pérdidas. Rosenberg ha realizado un experimento similar ([9]), mostrando que la diferencia entre la señal original y la señal oculta con el aumento de la pérdida de ráfagas en términos de un error cuadrático medio es significativa, sin embargo. Esto demuestra la importancia de las métricas perceptuales que pueden incluir LSPs de ocultamiento, que son otra representación de los coeficientes de predicción lineal. Dos tramas G.729 están contenidas en un paquete. Figura 9: Tiempo de resincronización (en cuadros) del decodificador G.729 después de la pérdida de k cuadros consecutivos (k ∈ [1,4]) en función de la posición del cuadro. (y no solo la reconstrucción) operaciones en la evaluación de calidad. 3.2 Sensibilidad debido a la heterogeneidad de la ADU. PCM es una codificación sin memoria. Por lo tanto, el contenido de ADU es solo débilmente heterogéneo (Figura 7). Por lo tanto, en esta sección nos concentramos en el códice G.729. El experimento que llevamos a cabo es medir el tiempo de resincronización del decodificador después de que se pierden k fotogramas consecutivos. Se dice que el decodificador G.729 se ha resincronizado con el codificador cuando la energía de la señal de error cae por debajo del uno por ciento de la energía de la señal decodificada sin pérdida de tramas (esto es equivalente a un umbral de relación señal-ruido (SNR) de 20 dB). La energía de la señal de error (y por lo tanto la relación señal/ruido) se calcula en función de cada cuadro. La Figura 9 muestra el tiempo de resincronización (expresado en el número de cuadros necesarios hasta que se excede el umbral) trazado en función de la posición de la pérdida (es decir, el índice del primer cuadro perdido) para diferentes valores de k. La muestra de voz es producida por un hablante masculino donde ocurre una transición no sonora/sonora (au) en el octavo cuadro. Podemos ver en la Figura 9 que la posición de una pérdida de trama tiene una influencia significativa en la degradación de la señal resultante, mientras que la degradación no es tan sensible a la longitud de la ráfaga de pérdida de trama k. La pérdida de tramas no sonoras parece tener un impacto bastante pequeño en la degradación de la señal y el decodificador recupera rápidamente la información de estado después. La pérdida de tramas con voz causa una degradación mayor de la señal de voz y el decodificador necesita más tiempo para resincronizarse con el emisor. Sin embargo, la pérdida de tramas sonoras en una transición de no sonora a sonora conlleva a una degradación significativa de la señal. Hemos repetido el experimento con diferentes hablantes masculinos y femeninos y obtuvimos resultados similares. Teniendo en cuenta el esquema de codificación de voz, el fenómeno anterior podría explicarse de la siguiente manera: Debido a que los sonidos sonoros tienen una energía más alta que los sonidos sordos, la pérdida de cuadros sonoros causa una degradación de la señal mayor que la pérdida de cuadros sordos. Sin embargo, debido a la propiedad periódica de los sonidos sonoros, el decodificador puede ocultar. Mientras por un lado vemos que las medidas de SNR a menudo no se correlacionan bien con la calidad subjetiva del habla, por otro lado, las grandes diferencias en el tiempo de resincronización basado en el umbral de SNR claramente apuntan a un impacto significativo en la calidad subjetiva del habla. Figura 10: Probabilidades diferenciales de caída de RED en función de los tamaños promedio de la cola, la pérdida de tramas sonoras una vez que ha obtenido suficiente información sobre ellas. El decodificador no logra ocultar la pérdida de tramas sonoras en una transición de sonido no sonoro/sonoro porque intenta ocultar la pérdida de tramas sonoras utilizando los coeficientes del filtro y la excitación para un sonido no sonoro. Además, debido a que el codificador G.729 utiliza un filtro de media móvil para predecir los valores de los pares espectrales de línea y solo transmite la diferencia entre los valores reales y predichos, lleva mucho tiempo al decodificador resincronizarse con el codificador una vez que ha fallado en construir el filtro de predicción lineal apropiado. 4. GESTIÓN DE COLAS PARA EL CONTROL DE PÉRDIDAS INTRAFLOW Si bien hemos resaltado la sensibilidad del tráfico de VoIP a la distribución de pérdidas en las últimas secciones, ahora queremos introducir brevemente un mecanismo de gestión de colas ([13]) que es capaz de hacer cumplir las preferencias relativas de la aplicación con respecto a las pérdidas. Consideramos los flujos con paquetes marcados con +l e I1 (como se describe en la introducción) como tráfico de primer plano (FT) y otros flujos (mejor esfuerzo) como tráfico de fondo (BT). El marcado de paquetes, además de mantener la propiedad deseable de la agregación de estado dentro del núcleo de la red según lo propuesto por la arquitectura de Servicios Diferenciados de la IETF, se explota aquí para transmitir los requisitos de flujo interno de una baja. Dado que se debe evitar introducir el reordenamiento de los paquetes de un flujo en la red, consideramos mecanismos para la gestión de una sola cola con diferentes niveles de prioridad. Un enfoque para lograr la diferenciación de servicios entre flujos utilizando una sola cola es RIO (RED con ENTRADA y SALIDA, [3]). Con RIO, se calculan dos tamaños de cola promedio como indicadores de congestión: uno solo para los paquetes de ENTRADA (alta prioridad) y otro para los paquetes de ENTRADA y SALIDA (baja prioridad). Los paquetes marcados como OUT se descartan antes (en términos del tamaño promedio de la cola) que los paquetes IN. RIO ha sido diseñado para disminuir el retardo visto por arcos particulares a expensas de otros flujos. En este trabajo, sin embargo, queremos mantener el ulp tal como se da por otros parámetros mientras modificamos la distribución de pérdidas para el tráfico principal (FT). Esto equivale a intercambiar la pérdida de un paquete +1 por un paquete -1 de la misma secuencia (en un sentido estadístico). La Fig. 10 muestra la curva convencional de probabilidad de pérdida RED (po en función del tamaño promedio de la cola para todas las llegadas avg), que se aplica a todo el tráfico no marcado (0) (tráfico de fondo: BT). La relación necesaria entre las probabilidades de caída para paquetes marcados como -1 y +1 se puede derivar de la siguiente manera (nota que esta relación es válida tanto a nivel de extremo a extremo como en cada salto individual): Sea a = a0 + a+ + a- el número total de paquetes emitidos por un flujo FT y a[-1,0,+1] el número de paquetes pertenecientes a una clase específica (donde la clase 0 corresponde al tráfico de mejor esfuerzo (sin marcar)). Entonces, con a+, = a-1 = a,~, y considerando que el servicio resultante debe ser de mejor esfuerzo a largo plazo, tenemos: aopo + a+lp+l + LIP-1 A ape Qlll@+l fP-1) = (a--oo)m P - l = zpo-p+1 (5) Debido a esta relación entre la probabilidad de descarte para paquetes +l y -1, designamos este algoritmo de gestión de colas como RED Diferencial (DiERED). La Figura 10 muestra las curvas de probabilidad de caída correspondientes. Debido a la condición de a+, = (I-L = todo, además del comportamiento RED convencional, la implementación de DiffRED también debería monitorear los procesos de llegada +l y -1. Si la proporción de paquetes +1 a -1 en una puerta de enlace no es 1 (ya sea debido a flujos mal comportados o a un número significativo de flujos que ya han experimentado pérdidas en saltos anteriores), la probabilidad de pérdida de -1 disminuye y la probabilidad de +1 aumenta al mismo tiempo, degradando así el servicio para todos los usuarios. Las áreas sombreadas arriba y abajo de la curva po(avg) (Fig. 10) muestran el área de operación cuando se agrega esta corrección. En [13] se ha demostrado que utilizar solo el tamaño promedio de la cola convencional RED (avg) para la operación DSRED no es suficiente. Esto se debe a la posible falta de correlación del valor aug calculado entre las llegadas consecutivas de +1 y -1, especialmente cuando la proporción del tráfico FT es baja. Dado que esto podría resultar en una distribución injusta de pérdidas entre las fracciones FT y BT, se calcula un valor avgl específico muestreando el tamaño de la cola solo en los instantes de llegada de FT. Por lo tanto, es posible una diferenciación de servicio para el tráfico de primer plano que no difiere del comportamiento RED convencional en el promedio a largo plazo (es decir, en el ulp). 5. RECUPERACIÓN Y CONTROL DE PÉRDIDAS INTRAFLUJO 5.1 Sensibilidad temporal Considerando un flujo con sensibilidad a pérdidas temporales, el párrafo 3.1.1 ha demostrado que un patrón de pérdida simple y periódico mejora el rendimiento de la recuperación de pérdidas de extremo a extremo. El patrón no está vinculado a paquetes particulares, por lo tanto, una caracterización por flujo con las métricas introducidas es aplicable. En este párrafo asumimos que un flujo expresó su sensibilidad temporal marcando su flujo con un patrón alternante de ,c+l,>,c~l,,, 447 Figura 11: Comparación de tasas de longitud de pérdida de ráfagas reales y estimadas Figura 12: Comparación de tasas de longitud de pérdida de ráfagas reales y estimadas como función de la longitud de ráfaga k: modelo basado en longitud de ejecución de tres estados k: modelo basado en longitud de ejecución de dos estados (Gilbert). Las figuras 11 y 12 muestran las tasas para las longitudes de pérdida de ráfaga reales y estimadas para un modelo de tres estados (m = 2) y un modelo de dos estados (m = 1, Gilbert) respectivamente. Podemos observar que DiffRED moldea la curva de probabilidad de ráfagas de la manera deseada. La mayor parte de la masa de probabilidad se concentra en pérdidas aisladas (el comportamiento ideal sería la ocurrencia de solo pérdidas aisladas (Ic = 1) que se puede expresar con clp = 0 en términos de los parámetros del modelo de Gilbert). Con Drop Tail se puede obtener una probabilidad de pérdida de ráfagas aproximadamente decreciente de forma geométrica con el aumento de la longitud de la ráfaga (Ec. 4), aunque el parámetro clp es relativamente grande. Por lo tanto, considerando la voz con sensibilidad a la pérdida temporal como el tráfico principal de interés, con DifFRED se pueden intercambiar una gran cantidad de ráfagas cortas molestas por un mayor número de pérdidas aisladas y pocas ráfagas de pérdida largas (que ocurren cuando la cola está temporalmente sobrecargada, es decir, awg > maxth, Fig. 10). Podemos ver que la estimación del modelo de tres estados (Ec. 2) refleja las dos áreas de la operación de DifFRED (la brusca caída de la tasa de longitud de pérdida de ráfagas para k = 2 y la disminución a lo largo de una asíntota geométricamente decreciente para k > 2). Este efecto no puede ser capturado por el modelo de dos estados (Ec. 4), el cual sobreestima la tasa de longitud de pérdida de ráfagas para Ic = 2 y luego la subestima enormemente para k > 2. Curiosamente, para Drop Tail, aunque ambos modelos capturan la forma de la curva real, el modelo de orden inferior es más preciso en la estimación. Esto se puede explicar de la siguiente manera: si las probabilidades de longitud de pérdida de ráfaga están de hecho cerca de una distribución geométrica, la estimación es más robusta si se incluyen todos los datos (nota que la aproximación basada en la longitud de ejecución de la probabilidad de pérdida condicional P(X = m|X = m) solo incluye ocurrencias de longitud de ejecución de pérdida mayores o iguales a m: Ec. 1). Solo discutimos los resultados cualitativamente aquí para dar un ejemplo de cómo funciona un algoritmo de control de pérdida intraflujo y para mostrar cómo los modelos de pérdida pueden capturar este rendimiento. Los detalles sobre el escenario de simulación y parámetros se pueden encontrar en [12]. 5.2 Sensibilidad debido a la heterogeneidad de las unidades de alojamiento (ADU). En el párrafo 3.1.2 hemos visto que la sensibilidad a la heterogeneidad de las ADU resulta en un cierto patrón de pérdida no periódico. Por lo tanto, es necesario un mecanismo en (o cerca) del remitente que extraiga ese patrón de los datos de voz. Además, es necesaria una cooperación explícita entre los mecanismos de extremo a extremo y de salto a salto (Fig. 4). Utilizamos el resultado del párrafo 3.2 para desarrollar un nuevo esquema de marcado de paquetes llamado Marcado Diferencial Selectivo Basado en Propiedades del Habla (SPB-DIFFMARK). El esquema DIFFMARK concentra los paquetes de mayor prioridad en los fotogramas esenciales para la señal de voz y depende del ocultamiento de los decodificadores para otros fotogramas. La Figura 13 muestra el algoritmo simple escrito en pseudocódigo que se utiliza para detectar una transición no sonora/sonora (uw) y proteger los cuadros sonoros al principio de una señal sonora. El análisis del procedimiento0 se utiliza para clasificar un bloque de cuadros Ic como sonoros, sordos o en transición de uv. send0 se utiliza para enviar un bloque de cuadros Ic como un solo paquete con la prioridad adecuada (ya sea fl, 0 o -1). Dado que el algoritmo central solo proporciona una decisión de marcado binario (proteger el paquete o no), empleamos un algoritmo simple para enviar los paquetes necesarios de -1 para la compensación (Ec. 5): después de que se haya enviado una ráfaga de paquetes de +1, se envía inmediatamente un número correspondiente de paquetes de -1. Se debe tener en cuenta el número necesario de paquetes -1 a enviar en caso de que el algoritmo SPB active el siguiente grupo de paquetes +1 antes de que se envíen todos los paquetes -1 necesarios para la compensación. Por lo tanto, visto en intervalos de tiempo que son largos en comparación con los tiempos de ráfaga +1/-1, la pérdida media para el flujo será igual al caso de mejor esfuerzo (Ec. 5). N es un valor predefinido y define cuántos cuadros al principio de una señal de voz deben ser protegidos. Nuestras simulaciones (Fig. 9) han demostrado que el rango de 10 a 20 son valores apropiados para N (dependiendo de la condición de pérdida de la red). En las simulaciones presentadas a continuación, elegimos Ic = 2, un típico 448 proteger = 0 fcm?ach (k frames) clasificar = análisis(k frames)] si (proteger > 0) si (clasificar == no sonoro) proteger = 0 si (compensación > 0) compensación = compensación-k enviar(k frames, -1) else enviar(k frames, 0) endif else enviar(k frames, +l) proteger = proteger-k compensación = compensación+k endif else si (clasificar == transición uvfransition) enviar(k frames, +l) proteger = N - k compensación = compensación+k else si (compensación > 0) compensación = compensación-k enviar(k frames, -1) else enviar(k frames, 0) endif endif endif endfor Figura 13: Código Pseudo SPB-DIFFMARK valor para transmisiones de voz interactivas a través de Internet (20ms de datos de audio por paquete). Un número mayor de Ic ayudaría a reducir la sobrecarga relativa del encabezado del protocolo, pero también aumenta el retraso de paquetización y dificulta la clasificación del remitente y el ocultamiento del receptor en caso de pérdida de paquetes (debido a un intervalo de pérdida más grande). 5.2.1 Descripción de la simulación de extremo a extremo. Debido al patrón de pérdida no periódico, necesitamos asociar explícitamente una probabilidad de pérdida con un solo paquete dentro de un modelo de extremo a extremo. Por lo tanto, utilizamos un modelo de Markov de un solo estado separado (modelo de Bernoulli) para describir el comportamiento de la red tal como es percibido por cada clase de paquetes. Los paquetes de mejor esfuerzo (designados por 0 en la Fig. 14) se descartan con una probabilidad pc, mientras que los paquetes marcados con +1 y -1 se descartan con probabilidades de p+i y p-1 respectivamente. Esta es una suposición razonable con respecto a la interdependencia de las diferentes clases, de hecho, como se ha demostrado que DiffRED (Figs. 11 y 12) logra una cantidad justa de decorrelación de pérdidas de paquetes +1 y -1. Sin embargo, para incluir cierta correlación entre las clases, hemos establecido p+i = 10m3 pc para las simulaciones posteriores. La adecuación del modelado simple de extremo a extremo utilizado ha sido investigada en [12] con simulación de eventos discretos utilizando una topología de múltiples saltos y modelado detallado de fuentes de tráfico de primer plano y de fondo. El modelo de red del esquema de marcado N O M A R K lolo/ 0~0~0~ 01 F U L L M A R K +I +I +I +I +l +I SPB MARK 1 0 1+I j +I I 0 I 0 / 0 ALT MARK o/+11 Ol+ll o/+1 +I Pcl 330 po S P B D I F F M A R K 1 IJ / +l I +l I -1 j-1 / 0 I ALT DIFFMARK I-1 / +I 1-1 1+I /-I 1+I 1 Figura 14: Esquemas de marcado y modelos de red correspondientes. también permiten una evaluación razonable de cómo las pérdidas en la clase fl afectan el rendimiento de los algoritmos SPB. Para una comparación directa con SPB-DIFFMARK, evaluamos un esquema en el que los paquetes se marcan alternativamente como -1 o +1 (ALT-DIFFMARK, Figura 14). Además, incluimos esquemas de protección de pérdidas interflujo relacionadas. El primer esquema utiliza protección total (FULL MARK, todos los paquetes están marcados como +l). El esquema SPB-MARK opera de manera similar a SPB-DIFFMARK, pero no se envían paquetes -1 para compensación (esos paquetes también se marcan como 0). Para la comparación, nuevamente utilizamos un esquema en el que los paquetes se marcan alternativamente como 0 o +1 (ALT-MARK). Finalmente, los paquetes de flujos de mejor esfuerzo puro se descartan con la probabilidad po (caso SIN MARCA en la Figura 14). Para los esquemas de marcado SPB, el porcentaje de paquetes marcados con +l y -l respectivamente es del 40.4% para el material de habla utilizado. Obtuvimos porcentajes de marcado similares para otras muestras de habla. Los esquemas de marcado ALT marcan exactamente el 50% de sus paquetes como fl. 5.2.2 Resultados. La Figura 15 muestra la distorsión perceptual para los esquemas de marcado dependiendo de la probabilidad de descarte pc. El estuche sin protección (SIN MARCA) tiene la mayor distorsión perceptual y, por lo tanto, la peor calidad de voz*. El esquema de marcado diferencial (SPB-DIFFMARK) ofrece una calidad de voz significativamente mejor incluso al utilizar solo un servicio de red que se limita a un esfuerzo óptimo a largo plazo. Ten en cuenta que la estrategia de marcado ALT-DIFFMARK no difiere del caso de mejor esfuerzo (lo cual confirma el resultado del párrafo 3.1.2). SPB-DIFFMARK es incluso mejor que el esquema ALT-MARK de QoS entre flujos, especialmente para valores más altos de pe. Estos resultados validan la estrategia de nuestros esquemas de marcado de SPB que no marcan de manera equitativa todos los paquetes con una prioridad más alta, sino que protegen un subconjunto de tramas que son esenciales para la calidad del habla. El esquema SPB-FEC ([12]), *También hemos realizado pruebas de escucha informales que confirmaron los resultados utilizando las métricas objetivas. Figura 15: Distorsión perceptual (EMBSD) para los esquemas de marcado y SPB-FEC que utiliza redundancia9 empotrada en los paquetes de carga principal (RFC 2198, [7]) para proteger un subconjunto de los paquetes, permite una calidad de voz de salida muy buena para tasas de pérdida bajas. Sin embargo, cabe destacar que la cantidad de datos enviados a través de la red se incrementa en un 40.4%. Ten en cuenta que la simulación presume que este ancho de banda adicional consumido no contribuye significativamente a la congestión. Esta suposición solo es válida si una pequeña fracción del tráfico es de voz ([S]). La curva SPB-FEC es convexa con un aumento de po, debido a la creciente correlación de pérdida, un número creciente de paquetes consecutivos que llevan redundancia se pierden, lo que conduce a pérdidas irreparables. La curva para SPB-DIFFMARK es cóncava, sin embargo, produce un mejor rendimiento para pe & 0.22. El esquema de marca ALT-MARK de calidad de servicio inter-flujo (el 50% de los paquetes están marcados) mejora la calidad perceptual. Sin embargo, la distancia auditiva y la distorsión perceptual del esquema SPB-MARK (con un 40.4% de todos los paquetes marcados) es significativamente menor y muy cercana a la calidad de la señal decodificada cuando todos los paquetes están marcados (FULL MARK). Esto también muestra que al proteger todo el flujo, solo se obtiene una mejora mínima en la calidad perceptual. Los resultados del esquema FULL MARK también muestran que, si bien la pérdida de algunos de los paquetes +l tiene un impacto medible, el impacto en la calidad perceptual aún puede considerarse muy bajo. 6. CONCLUSIONES En este documento hemos caracterizado el comportamiento de un códec basado en muestras (PCM) y un códec basado en tramas (G.729) en presencia de pérdida de paquetes. Hemos desarrollado mecanismos de recuperación y control de pérdidas intraflujo para aumentar la calidad perceptual. Aunque hemos probado otros códecs solo de manera informal, creemos que nuestros resultados reflejan la diferencia fundamental entre los códecs que codifican directamente la onda de voz o que se basan en la predicción lineal. También utilizamos el codificador G.729 para la codificación de fuente redundante. Para PCM sin ocultamiento de pérdidas, hemos encontrado que no muestra una sensibilidad temporal significativa ni sensibilidad a la heterogeneidad de la carga útil. Con el ocultamiento de pérdidas, sin embargo, la calidad del habla se incrementa, pero la cantidad de aumento muestra una fuerte sensibilidad temporal. Los códecs basados en cuadros amplifican, por un lado, el impacto de la pérdida por propagación de errores, aunque por otro lado, dichos esquemas de codificación ayudan a realizar el ocultamiento de la pérdida mediante la extrapolación del estado del decodificador. A diferencia de los códecs basados en muestras, hemos demostrado que el rendimiento de ocultación del decodificador G.729 puede fallar en transiciones dentro de la señal de voz, mostrando así una fuerte sensibilidad a la heterogeneidad de la carga útil. Hemos introducido brevemente un algoritmo de gestión de colas que es capaz de controlar patrones de pérdida sin cambiar la cantidad de pérdida y caracterizamos su rendimiento para el control de pérdidas de un flujo que exhibe sensibilidad temporal. Luego desarrollamos un nuevo esquema de marcado de paquetes llamado Marcado Diferencial Selectivo Basado en Propiedades del Habla para una protección eficiente de códecs basados en tramas. El esquema SPBDIFFMARK concentra los paquetes de mayor prioridad en los fotogramas esenciales para la señal de voz y confía en el ocultamiento de los decodificadores para otros fotogramas. También hemos evaluado el mapeo de un algoritmo de extremo a extremo para la protección de interflujo. Hemos descubierto que el esquema de marcado selectivo funciona casi tan bien como la protección de todo el flujo con un número significativamente menor de paquetes de alta prioridad necesarios. Por lo tanto, parece que los esquemas combinados de flujo interno de extremo a extremo / salto a salto son adecuados para redes con una carga elevada y una fracción relativamente grande de tráfico de voz. Esto se debe a que no necesitan la adición de redundancia ni retroalimentación (lo cual incurriría en datos adicionales y retraso) y por lo tanto ofrecen una calidad de voz estable incluso para tasas de pérdida más altas debido a la ausencia de FEC y pérdida de retroalimentación. Tales esquemas pueden adaptarse mejor a códecs con tasas de bits de salida fijas, que son difíciles de integrar en esquemas FEC que requieren adaptabilidad tanto del códec como del generador de redundancia. Además, es útil para códecs adaptativos que funcionan con la tasa de bits más baja posible. Evitar la redundancia y la retroalimentación también es interesante en escenarios de conferencias multicast donde las características de pérdida de extremo a extremo de los diferentes caminos que llevan a los miembros de la sesión son en gran medida diferentes. Nuestro trabajo se ha centrado claramente en vincular modelos simples de extremo a extremo que pueden ser fácilmente parametrizados con la característica conocida de control de pérdida hop-by-hop a métricas a nivel de usuario. Un análisis de la implementación a gran escala de FEC no adaptativo o adaptativo en comparación con la implementación de nuestro esquema combinado requiere claramente un estudio adicional. 7. AGRADECIMIENTOS Nos gustaría agradecer a Wonho Yang y Robert Yantorno, de la Universidad de Temple, por proporcionar el software EMBSD para las mediciones objetivas de calidad del habla. Michael Zander, de GMD Fokus, ayudó con las simulaciones de los esquemas de gestión de colas. 8. AUTORES ADICIONALES Autor adicional: Georg Carle (GMD Fokus, correo electrónico: carle@fokus.gmd.de). 450 9. PI PI [31 PI [51 PI [71 PI PI WI WI w REFERENCIAS J. Andren, M. Hilding y D. Veitch. Comprendiendo la dinámica del tráfico de internet de extremo a extremo. En las Actas de IEEE GLOBECOM, Sídney, Australia, noviembre de 1998. J.-C. Bolot, S. Fosse-Parisis y D. Towsley. Control de errores basado en FEC adaptativo para audio interactivo en Internet. En Actas de IEEE INFOCOM, Nueva York, NY, marzo de 1999. D. Clark y W. Fang. Asignación explícita del servicio de entrega de paquetes de mejor esfuerzo. Informe técnico, MIT LCS, 1997. http://diffserv.lcs.mit.edu/Papers/expallot-ddc-wf.pdf. R. Cox y P. Kroon. Codificadores de voz de baja tasa de bits para comunicación multimedia. Revista de Comunicaciones de IEEE, páginas 34-41, diciembre de 1996. J. Ferrandiz y A. Lazar. Pérdida consecutiva de paquetes en el tráfico de paquetes en tiempo real. En Actas de la Cuarta Conferencia Internacional sobre Sistemas de Comunicación de Datos, IFIP TC6, páginas 306-324, Barcelona, junio de 1990. W. Jiang y H. Schulzrinne. Medición de la calidad de servicio de servicios multimedia en tiempo real de Internet. En las Actas de NOSSDAV, Chapel Hill, Carolina del Norte, junio de 2000. C. Perkins, I. Kouvelas, 0. 

C. Perkins, I. Kouvelas, 0. Hodson, M. Handley y J. Bolot. Carga útil RTP para datos de audio redundantes. RFC 2198, IETF, septiembre de 1997. ftp://ftp.ietf.org/rfc/rfc2198.txt. M. Podolsky, C. Romer y S. McCanne. Simulación de control de errores basado en FEC para audio en paquetes en Internet. En las Actas de IEEE INFOCOM, páginas 48-52, San Francisco, CA, marzo de 1998. J. Rosenberg. Recuperación de errores G.729 para la telefonía por Internet. Informe del proyecto, Universidad de Columbia, 1997. J. Rosenberg, L. Qiu y H. Schulzrinne. Integrando FEC de paquetes en algoritmos adaptativos de búfer de reproducción de voz en Internet. En las Actas de IEEE INFOCOM, Tel Aviv, Israel, marzo de 2000. H. Sanneck. Ocultamiento de paquetes de voz perdidos mediante la adaptación de la paquetización. En Actas de los Sistemas Multimedia IEEE, páginas 140-149, Austin, TX, junio de 1998. ftp://ftp.fokus.gmd.de/pub/glone/papers/Sann9806: Adaptive.ps.gz. H. Sanneck. Recuperación y control de pérdida de paquetes para la transmisión de voz a través de Internet. Tesis doctoral, GMD Fokus / Grupo de Redes de Telecomunicaciones, Universidad Técnica de Berlín, octubre de 2000. P31 PI P51 WI P71 P31 w PI PI http://sanneck.net/research/publications/thesis/ SannOOlOLoss.pdf. 

P31 PI P51 WI P71 P31 w PI PI http://sanneck.net/investigacion/publicaciones/tesis/ SannOOlOLoss.pdf. H. Sanneck y G. Carle. Un algoritmo de gestión de colas para la diferenciación de servicios en el flujo interno en Internet de mejor esfuerzo. En Actas de la Octava Conferencia sobre Comunicaciones y Redes de Computadoras (ICCCN), páginas 419-426, Natick, MA, octubre de 1999. ftp://ftp.fokus.gmd.de/pub/glone/papers/Sann9910: Intra-Flow.ps.gz. H. Sanneck, N. Le y A. Wolisz. Soporte eficiente de QoS para aplicaciones de Voz sobre IP utilizando marcado selectivo de paquetes. En la Sesión Especial sobre Técnicas de Control de Errores para la Entrega en Tiempo Real de Datos Multimedia, Primer Taller Internacional sobre Computación Multimedia Inteligente (IMMCN), páginas 553-556, Atlantic City, NJ, febrero de 2000. ftp://ftp.fokus.gmd.de/pub/glone/papers/Sann0002: VoIP-marking.ps.gz. H. Schulzrinne, J. Kurose y D. Towsley. Correlación de pérdida para colas con flujos de entrada con ráfagas. En Actas ICC, páginas 219-224, Chicago, IL, 1992. D. Sisalem y A. Wolisz. Adaptación amigable con TCP de LDAf: Un estudio de medición y comparación. En las Actas de NOSSDAV, Chapel Hill, Carolina del Norte, junio de 2000. Unión Internacional de Telecomunicaciones. Codificación de voz a 8 kbit/s utilizando predicción lineal excitada por código algebraico de estructura conjugada (CS-ACELP). Recomendación G.729, UIT-T, marzo de 1996. Unión Internacional de Telecomunicaciones. Medición objetiva de la calidad de los códecs de voz de banda telefónica (300-3400 Hz). Recomendación P.861, ITU-T, febrero de 1998. M. Yajnik, J. Kurose y D. Towsley. Correlación de pérdida de paquetes en la red de multidifusión MBone: Mediciones experimentales y modelos de cadenas de Markov. Informe técnico 95-115, Departamento de Ciencias de la Computación, Universidad de Massachusetts, Amherst, 1995. M. Yajnik, S. Moon, J. Kurose y D. Towsley. Medición y modelado de la dependencia temporal en la pérdida de paquetes. Informe técnico 98-78, Departamento de Ciencias de la Computación, Universidad de Massachusetts, Amherst, 1998. W. Yang y R. Yantorno. Mejora del umbral de enmascaramiento de ruido de escala MBSD y análisis de correlación con la diferencia de MOS en lugar de MOS. En Actas ICASSP, páginas 673-676, Phoenix, AZ, marzo de 1999. por 451