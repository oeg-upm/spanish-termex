Compartir costos en un problema de programación de trabajos utilizando el Valor de Shapley. Los trabajos tienen tiempos de procesamiento y generan costos de espera (lineales en su tiempo de espera). Los trabajos comparten sus costos a través de compensación utilizando transferencias monetarias. Caracterizamos la regla del valor de Shapley para este modelo utilizando axiomas de equidad. Nuestros axiomas incluyen un límite en la participación en los costos de trabajos en un grupo, eficiencia y algunas propiedades de independencia en la participación en los costos de un trabajo. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1. INTRODUCCIÓN Un conjunto de trabajos debe ser atendido por un servidor. El servidor solo puede procesar un trabajo a la vez. Cada trabajo tiene un tiempo de procesamiento finito y un costo de espera por unidad de tiempo. La ordenación eficiente de esta cola nos indica que debemos atender los trabajos en orden creciente de la relación entre el costo de espera por unidad de tiempo y el tiempo de procesamiento. Para compensar la espera en los trabajos, se permiten transferencias monetarias a los trabajos. ¿Cómo deben los trabajos compartir equitativamente el costo entre ellos mismos (a través de transferencias)? El problema de la división justa de costos entre agentes en una cola tiene muchas aplicaciones prácticas. Por ejemplo, los programas informáticos se programan regularmente en servidores, los datos se programan para ser transmitidos a través de redes, los trabajos se programan en el piso de la tienda en máquinas, y las colas aparecen en muchos servicios públicos (oficinas de correos, bancos). El estudio de problemas de colas ha atraído a economistas durante mucho tiempo [7, 17]. El reparto de costos es un problema fundamental en muchos entornos en Internet. Internet puede ser visto como un recurso común compartido por muchos usuarios y el costo incurrido al utilizar el recurso debe ser compartido de manera equitativa. El actual aumento en la literatura sobre el intercambio de costos por parte de científicos de la computación valida esta afirmación [8, 11, 12, 6, 24]. Internet tiene muchos entornos en los que aparece nuestro modelo de programación de trabajos y los agentes que esperan en una cola incurren en costos (trabajos programados en servidores, consultas respondidas desde una base de datos, datos programados para ser transmitidos a través de una red de ancho de banda fijo, etc.). Esperamos que nuestro análisis brinde nuevas perspectivas sobre los problemas de reparto de costos de esta naturaleza. Recientemente, ha habido un aumento en el interés en los métodos de reparto de costos con funciones de costo submodulares [11, 12, 6, 24]. Si bien muchos entornos tienen funciones de costo submodulares (por ejemplo, juegos de transmisión de multidifusión [8]), la función de costo de nuestro juego es supermodular. Además, este tipo de literatura generalmente no asume equilibrio presupuestario (transferencias que se compensan entre sí), mientras que es una característica inherente de nuestro modelo. Un artículo reciente de Maniquet [15] es el más cercano a nuestro modelo y es la motivación detrás de nuestro trabajo 1. Maniquet [15] estudia un modelo en el que asume que todos los tiempos de procesamiento son unitarios. Para dicho modelo, caracteriza la regla del valor de Shapley utilizando axiomas clásicos de equidad. Chun interpreta el valor de una coalición de trabajos de manera diferente para el mismo modelo y deriva una regla inversa. Chun caracteriza esta regla utilizando axiomas de equidad similares. Chun [2] también estudia las propiedades de envidia de estas reglas. Moulin [22, 21] estudia el problema de las colas desde un punto de vista estratégico cuando los costos de espera por unidad son unitarios. Moulin introduce nuevos conceptos en entornos de colas como la división y fusión de trabajos, y formas de prevenirlos. Otro flujo de literatura se centra en los juegos de secuenciación, introducidos por primera vez por Curiel et al. [4]. Para una encuesta detallada, consulte a Curiel et al. [3]. Curiel et al. [4] definieron juegos de secuenciación similares a nuestro modelo, pero en los que se proporciona un orden inicial de trabajos. Además, su noción del valor de una coalición es muy diferente de las nociones estudiadas en Maniquet [15] y Chun [1] (estas son las nociones utilizadas en nuestro trabajo también). La noción particular del valor de una coalición convierte el juego de secuenciación de Curiel et al. [4] en convexo, mientras que nuestro juego no es convexo y no asume la presencia de ningún orden inicial. En resumen, el enfoque de esta corriente de investigación es cómo compartir los ahorros en costos desde el pedido inicial hasta el pedido óptimo entre los trabajos (ver también Hamers et al. [9], Curiel et al. [5]). Recientemente, Klijn y Sánchez [13, 14] consideraron juegos de secuenciación sin ningún orden inicial de trabajos. Ellos toman dos enfoques para definir el valor de las coaliciones. Uno de sus enfoques, llamado el juego de la cola, está relacionado con la regla inversa de Chun [1]. En el juego de la cola, los trabajos en una coalición se atienden después de que se atienden los trabajos que no están en la coalición. Klijn y Sánchez [14] demostraron que el juego de la cola está equilibrado. Además, proporcionan expresiones para el valor de Shapley en el juego de cola en términos de vectores marginales y vectores marginales invertidos. Proporcionamos una expresión más simple del valor de Shapley en el juego de la cola, generalizando el resultado en Chun [1]. Klijn y Sánchez [13] estudian detalladamente el núcleo de este juego. Los aspectos estratégicos de los problemas de colas también han sido investigados. Mitra [19] estudia la mejor implementación en modelos de colas con funciones de costo genéricas. La primera mejor implementación significa que existe un mecanismo eficiente en el cual los trabajos en la cola tienen una estrategia dominante para revelar sus verdaderos tipos y que sus transferencias se suman a cero. Suijs [27] muestra que si los costos de espera de los trabajos son lineales, entonces la implementación de primera mejor opción es posible. Mitra [19] muestra que entre una clase más general de problemas de colas, la implementación óptima en primer lugar es posible si y solo si el costo es lineal. Para otro modelo de colas, Mitra [18] muestra que la implementación óptima es posible si y solo si la función de costos cumple con una propiedad combinatoria y una propiedad de independencia. Moulin [22, 21] estudia conceptos estratégicos como la división y fusión en problemas de colas con costos de espera por unidad. La literatura sobre el reparto de costos en general es extensa y tiene una larga historia. Para una buena encuesta, nos referimos a [20]. Desde la obra seminal de Shapley [25] hasta trabajos recientes sobre el reparto de costos en transmisiones de multidifusión y problemas de optimización [8, 6, 23], esta área ha atraído a economistas, científicos de la computación e investigadores en operaciones. 1.1 Nuestra Contribución Nuestro modelo es el primero que considera el reparto de costos cuando tanto el tiempo de procesamiento como el costo de espera por unidad de trabajos están presentes. Tomamos un enfoque de teoría de juegos cooperativos y aplicamos la regla clásica del valor de Shapley al problema. Mostramos que la regla del valor de Shapley cumple con muchos axiomas intuitivos de equidad. Debido a la naturaleza bidimensional de nuestro modelo y a la naturaleza unidimensional del modelo de Maniquets [15], sus axiomas son insuficientes para caracterizar el valor de Shapley en nuestro contexto. Introducimos axiomas como la independencia del costo de espera de las unidades de trabajos anteriores y la independencia del tiempo de procesamiento de los trabajos siguientes. Un axioma clave que introducimos nos da un límite en la participación en costos de un trabajo en un grupo de trabajos que tienen la misma proporción de costo de espera por unidad de tiempo y tiempo de procesamiento (estos trabajos pueden ser ordenados de cualquier manera entre sí en un orden eficiente). Si dicho grupo consiste en un solo trabajo, entonces el axioma dice que dicho trabajo al menos debería pagar su propio costo de procesamiento (es decir, el costo que habría incurrido si fuera el único trabajo en la cola). Si hay varios trabajos en un grupo, la probabilidad de que dos trabajos de ese grupo se influyan mutuamente con costos es la misma (1 2) en un ordenamiento eficiente. Dependiendo del orden seleccionado, un trabajo impone costos al otro. Nuestro axioma de equidad dice que cada trabajo debería al menos soportar esos costos esperados. Caracterizamos la regla del valor de Shapley utilizando estos axiomas de equidad. También extendemos los resultados de envidia en [2] a nuestro contexto y discutimos una clase de mecanismos de reparto de costos razonables. 2. EL MODELO Hay n trabajos que deben ser atendidos por un servidor que solo puede procesar un trabajo a la vez. El conjunto de trabajos se denota como N = {1, . . . , n}. σ : N → N es un ordenamiento de trabajos en N y σi denota la posición del trabajo i en el ordenamiento σ. Dada una ordenación σ, define Fi(σ) = {j ∈ N : σi < σj} y Pi(σ) = {j ∈ N : σi > σj}. Cada trabajo i está identificado por dos parámetros: (pi, θi). pi es el tiempo de procesamiento y θi es el costo por unidad de tiempo de espera del trabajo i. Por lo tanto, un problema de colas se define por una lista q = (N, p, θ) ∈ Q, donde Q es el conjunto de todas las listas posibles. Denotaremos γi = θi pi. Dado un ordenamiento de trabajos σ, el costo incurrido por el trabajo i está dado por ci(σ) = piθi + θi   j∈Pi(σ) pj. El costo total incurrido por todos los trabajos debido a un ordenamiento σ se puede escribir de dos maneras: (i) sumando el costo incurrido por cada trabajo y (ii) sumando los costos infligidos por un trabajo en otros trabajos con su propio costo de procesamiento. C(N, σ) =  i∈N ci(σ) =  i∈N piθi +  i∈N ¡θi  j∈Pi(σ) pj¢. =  i∈N piθi +  i∈N ¡pi  j∈Fi(σ) θj¢.

C(N, σ) =  i∈N ci(σ) =  i∈N piθi +  i∈N ¡θi  j∈Pi(σ) pj¢. =  i∈N piθi +  i∈N ¡pi  j∈Fi(σ) θj¢. Un ordenamiento eficiente σ∗ es aquel que minimiza el costo total incurrido por todos los trabajos. Entonces, C(N, σ∗ ) ≤ C(N, σ) para todo σ ∈ Σ. Para lograr simplicidad notacional, escribiremos el costo total en un orden eficiente de trabajos desde N como C(N) siempre que no sea confuso. A veces, solo nos ocuparemos de un subconjunto de trabajos S ⊆ N. El ordenamiento σ se definirá entonces solo en los trabajos de S y escribiremos el costo total de un ordenamiento eficiente de trabajos en S como C(S). El siguiente lema muestra que los trabajos están ordenados en γ decreciente en un ordenamiento eficiente. Esto también se conoce como la regla del tiempo de procesamiento más corto ponderado, introducida por primera vez por Smith [26]. Lema 1. Para cualquier S ⊆ N, sea σ∗ una ordenación eficiente de trabajos en S. Para todo i = j, i, j ∈ S, si σ∗ i > σ∗ j, entonces γi ≤ γj. Prueba. Supongamos para contradicción que la afirmación del lema no es verdadera. Esto significa que podemos encontrar dos trabajos consecutivos i, j ∈ S (σ∗ i = σ∗ j + 1) tales que γi > γj. Define un nuevo orden σ intercambiando i y j en σ∗. Los costos para los trabajos en S \ {i, j} no cambian de σ∗ a σ. La diferencia entre los costos totales en σ∗ y σ está dada por, C(S, σ) − C(S, σ∗ ) = θjpi − θipj. De la eficiencia obtenemos θjpi − θipj ≥ 0. Esto nos da γj ≥ γi, lo cual es una contradicción. Una asignación para q = (N, p, θ) ∈ Q tiene dos componentes: un orden σ y una transferencia ti para cada trabajo i ∈ N. ti denota el pago recibido por el trabajo i. Dado un tiempo de transferencia ti y un ordenamiento σ, la participación en los costos del trabajo i se define como, πi = ci(σ) − ti = θi   j∈N:σj ≤σi pj − ti. Una asignación (σ, t) es eficiente para q = (N, p, θ) siempre que σ sea un ordenamiento eficiente y £i∈N ti = 0. El conjunto de ordenamientos eficientes de q se denota como Σ∗ (q) y σ∗ (q) se usará para referirse a un elemento típico del conjunto. El siguiente lema directo dice que para dos ordenamientos eficientes diferentes, la participación en los costos en una asignación eficiente es posible de lograr en la otra mediante la modificación adecuada de las transferencias. Lema 2. Sea (σ, t) una asignación eficiente y π sea el vector de participaciones de costos de los trabajos de esta asignación. Si σ∗ = σ es un ordenamiento eficiente y t∗ i = ci(σ∗ ) − πi ∀ i ∈ N, entonces (σ∗ , t∗ ) también es una asignación eficiente. Prueba. Dado que (σ, t) es eficiente, £i∈N ti = 0. Esto da £i∈N πi = C(N). Dado que σ∗ es un orden eficiente, £i∈N ci(σ∗ ) = C(N). Esto significa, £i∈N t∗ i = £i∈N [ci(σ∗ ) − πi] = 0. Entonces, (σ∗ , t∗ ) es una asignación eficiente. Dependiendo de las transferencias, las participaciones en los costos en diferentes asignaciones eficientes pueden diferir. Una regla de asignación ψ asocia a cada q ∈ Q un subconjunto no vacío ψ(q) de asignaciones. COMPARTICIÓN DE COSTOS UTILIZANDO EL VALOR DE SHAPLEY En esta sección, definimos el costo coalicional de este juego y analizamos la solución propuesta por el valor de Shapley. Dada una cola q ∈ Q, el costo de una coalición de trabajos S ⊆ N en la cola se define como el costo incurrido por los trabajos en S si estos son los únicos trabajos atendidos en la cola utilizando un ordenamiento eficiente. Formalmente, el costo de una coalición S ⊆ N es, C(S) =   i∈S   j∈S:σ∗ j ≤σ∗ i θjpj, donde σ∗ = σ∗ (S) es un ordenamiento eficiente considerando solo trabajos de S. El valor de una coalición de S trabajos es simplemente −C(S). Maniquet [15] observa otra forma equivalente de definir el valor de una coalición es utilizando la función dual de la función de coste C(·). Otras formas interesantes de definir el valor de una coalición en tales juegos son discutidas por Chun [1], quien asume que una coalición de trabajos se sirve después de que los trabajos que no están en la coalición son servidos. El valor de Shapley (o participación en costos) de un trabajo i se define como, SVi = S⊆N\{i} |S|! (|N| − |S| − 1)! |N|! ¡C(S∪{i})−C(S)¢. (1) La regla de asignación del valor de Shapley dice que los trabajos se ordenan utilizando un ordenamiento eficiente y las transferencias se asignan a los trabajos de manera que la participación en costos del trabajo i se da por la Ecuación 1. Lema 3. Sea σ∗ una ordenación eficiente de trabajos en el conjunto N. Para todo i ∈ N, el valor de Shapley se da por, SVi = piθi + 1 2 ¡Li + Ri¢, donde Li = θi £j∈Pi(σ∗) pj y Ri = pi £j∈Fi(σ∗) θj. Prueba. Otra forma de escribir la fórmula del valor de Shapley es la siguiente [10], SVi = S⊆N:i∈S ∆(S) |S| , donde ∆(S) = C(S) si |S| = 1 y ∆(S) = C(S)−£T S ∆(T). Esto da ∆({i}) = C({i}) = piθi ∀i ∈ N. Para cualquier i, j ∈ N con i = j, tenemos ∆({i, j}) = C({i, j}) − C({i}) − C({j}) = min(piθi + pjθj + pjθi, piθi + pjθj + piθj) − piθi − pjθj = min(pjθi, piθj). Demostraremos por inducción que ∆(S) = 0 si |S| > 2. Para |S| = 3, sea S = {i, j, k}. Sin pérdida de generalidad, asumir θi pi ≥ θj pj ≥ θk pk. Entonces, ∆(S) = C(S) − ∆({i, j}) − ∆({j, k}) − ∆({i, k})−∆({i})−∆({j})−∆({k}) = C(S)−piθj −pjθk − piθk − piθi − pjθj − pkθk = C(S) − C(S) = 0. Ahora, asume para T S, ∆(T) = 0 si |T| > 2. Sin pérdida de generalidad, asumir que σ es la función identidad. Ahora, ∆(S) = C(S) −   T S ∆(T) = C(S) −   i∈S   j∈S:j<i ∆({i, j}) −   i∈S ∆({i}) = C(S) −   i∈S   j∈S:j<i pjθi −   i∈S piθi = C(S) − C(S) = 0. Esto demuestra que ∆(S) = 0 si |S| > 2. Usando la fórmula del valor de Shapley ahora, SVi = S⊆N:i∈S ∆(S) |S| = ∆({i}) + 1 2 j∈N:j=i ∆({i, j}) = piθi + 1 2 ¡ j<i ∆({i, j}) + j>i ∆({i, j})¢ = piθi + 1 2 ¡ j<i pjθi + j>i piθj¢= piθi + 1 2 ¡Li + Ri¢. 4. CARACTERIZACIÓN AXIOMÁTICA DEL VALOR DE SHAPLEY En esta sección, definiremos varios axiomas sobre equidad y caracterizaremos el valor de Shapley utilizando estos. Para un q dado ∈ Q, denotaremos ψ(q) como el conjunto de asignaciones de la regla de asignación ψ. Además, denotaremos el vector de participación en los costos asociado con una regla de asignación (σ, t) como π y aquel con la regla de asignación (σ, t) como π, etc. 4.1 Los Axiomas de Equidad Definiremos tres tipos de axiomas de equidad: (i) relacionados con la eficiencia, (ii) relacionados con la equidad, y (iii) relacionados con la independencia. Axiomas de eficiencia Definimos dos tipos de axiomas de eficiencia. Uno relacionado con la eficiencia que establece que se debe seleccionar un orden eficiente y que las transferencias de trabajos deben sumar cero (equilibrio presupuestario). Definición 1. Una regla de asignación ψ satisface eficiencia si para cada q ∈ Q y (σ, t) ∈ ψ(q), (σ, t) es una asignación eficiente. El segundo axioma relacionado con la eficiencia dice que la regla de asignación no debe discriminar entre dos asignaciones que son equivalentes entre sí en términos de participaciones en los costos de los trabajos. Definición 2. Una regla de asignación ψ satisface la indiferencia de Pareto si para cada q ∈ Q, (σ, t) ∈ ψ(q), y (σ , t ) ∈ Σ(q), tenemos que ¡πi = πi ∀ i ∈ N¢⇒ ¡(σ , t ) ∈ ψ(q)¢. Una implicación del axioma de indiferencia de Pareto y del Lema 2 es que para cada ordenación eficiente existe un conjunto de transferencias de trabajos que forma parte de una regla eficiente y el costo compartido de un trabajo en todas estas asignaciones es el mismo. Axiomas de equidad ¿Cómo se debe compartir el costo entre dos trabajos si los trabajos tienen algún tipo de similitud entre ellos? Los axiomas de equidad nos proporcionan propiedades de justicia que nos ayudan a responder esta pregunta. Proporcionamos cinco axiomas de este tipo. Algunos de estos axiomas (por ejemplo, anonimato, trato igual para iguales) son estándar en la literatura, mientras que otros son nuevos. Comenzamos con un axioma de equidad bien conocido llamado anonimato. Denote ρ : N → N como una permutación de elementos en N. Sea ρ(σ, t) la asignación obtenida al permutar los elementos en σ y t de acuerdo con ρ. De manera similar, dejemos que ρ(p, θ) denote la nueva lista de (p, θ) obtenida al permutar los elementos de p y θ de acuerdo con ρ. Nuestro primer axioma de equidad establece que las reglas de asignación deben ser inmunes a tal permutación de datos. Definición 3. Una regla de asignación ψ satisface el anonimato si para todo q ∈ Q, (σ, t) ∈ ψ(q) y para cada permutación ρ, entonces ρ(σ, t) ∈ ψ(N, ρ(q)). El próximo axioma de equidad es clásico en la literatura y establece que dos trabajos similares deben ser compensados de manera que sus participaciones en el costo sean iguales. Esto implica que si todos los trabajos son del mismo tipo, entonces los trabajos deberían compartir equitativamente el costo total del sistema. Definición 4. Una regla de asignación ψ satisface el trato igual a iguales (ETE) si para todo q ∈ Q, (σ, t) ∈ ψ(q), i, j ∈ N, entonces ¡pi = pj; θi = θj¢⇒ ¡πi = πj¢. ETE nos indica que debemos compartir los costos de manera equitativa entre los trabajos si tienen el mismo costo de espera por unidad y tiempo de procesamiento. Pero no menciona las participaciones en los costos de dos trabajos i y j que satisfacen θi pi = θj pj. Introducimos un nuevo axioma para esto. Si una regla eficiente elige σ de manera que σi < σj para algunos i, j ∈ N, entonces el trabajo i está infligiendo un costo de piθj al trabajo j y el trabajo j está infligiendo un costo de cero al trabajo i. Para algún γ ≥ 0, S(γ) = {i ∈ N : γi = γ}. En una regla eficiente, los elementos en S(γ) pueden ser ordenados de cualquier manera (en |S(γ)|! formas). Si i, j ∈ S(γ) entonces tenemos pjθi = piθj. La probabilidad de que σi < σj es 1/2 y también lo es la probabilidad de que σi > σj. El costo esperado que i inflige en j es 1 2 piθj y el que j inflige en i es 1 2 pjθi. Nuestro próximo axioma de equidad dice que i y j deben ser responsables de su propio costo de procesamiento y del costo esperado que infligen el uno al otro. Argumentando para cada par de trabajos i, j ∈ S(γ), establecemos un límite en la participación de costos de los trabajos en S(γ). Imponemos esto como un axioma de equidad a continuación. Definición 5. Una regla de asignación satisface el límite de costo esperado (ECB) si para todo q ∈ Q, (σ, t) ∈ ψ(q) con π siendo la participación de costos resultante, para cualquier γ ≥ 0, y para cada i ∈ S(γ), tenemos que πi ≥ piθi + 1/2 ¡   j∈S(γ):σj <σi pjθi +   j∈S(γ):σj >σi piθj¢. La idea central detrás de este axioma es la del costo esperado infligido. Si una regla de asignación elige múltiples asignaciones, podemos asignar probabilidades iguales de seleccionar una de las asignaciones. En ese caso, se puede calcular el costo esperado infligido por un trabajo i en otro trabajo j en la regla de asignación. Nuestro axioma dice que la participación en los costos de un trabajo debe ser al menos su propio costo de procesamiento y el costo total esperado que inflige a los demás. Ten en cuenta que el límite anterior no impone restricciones sobre cómo se comparten los costos entre diferentes grupos. También observe que si S(γ) contiene solo un trabajo, ECB dice que ese trabajo al menos debe cubrir su propio costo de procesamiento. Una consecuencia directa del ECB es el siguiente lema. Lema 4. Sea ψ una regla eficiente que cumple con ECB. Para un q ∈ Q si S(γ) = N, entonces para cualquier (σ, t) ∈ ψ(q) que dé una participación de costos de π, πi = piθi + 1 2 ¡Li + Ri¢∀ i ∈ N. Prueba. Del BCE, obtenemos πi ≥ piθi+1 2 ¡Li+Ri¢∀ i ∈ N. Supongamos por contradicción que existe j ∈ N tal que πj > pjθj + 1 2 ¡Li + Ri¢. Usando eficiencia y el hecho de que £i∈N Li = £i∈N Ri, obtenemos £i∈N πi = C(N) > £i∈N piθi + 1 2 £i∈N ¡Li + Ri¢ = C(N). Esto nos da una contradicción. A continuación, introducimos un axioma sobre compartir la transferencia de un trabajo entre un conjunto de trabajos. En particular, si el último trabajo abandona el sistema, entonces el orden no necesita cambiar. Pero la transferencia al último trabajo debe ser compartida entre los otros trabajos. Esto debe hacerse en proporción a sus tiempos de procesamiento, ya que cada trabajo influyó en el trabajo anterior en función de su tiempo de procesamiento. Definición 6. Una regla de asignación ψ satisface la responsabilidad proporcional de p (PRp) si para todo q ∈ Q, para todo (σ, t) ∈ ψ(q), k ∈ N tal que σk = |N|, q = (N \ {k}, p, θ) ∈ Q, tal que para todo i ∈ N\{k}: θi = θi, pi = pi, existe (σ, t) ∈ ψ(q) tal que para todo i ∈ N \ {k}: σi = σi y ti = ti + tk pi £j=k pj. Un axioma de equidad análogo resulta si eliminamos el trabajo del principio de la cola. Dado que la presencia del primer trabajo influenció a cada trabajo dependiendo de sus valores de θ, su transferencia debe ser compartida en proporción a los valores de θ. Definición 7. Una regla de asignación ψ satisface la responsabilidad proporcional de θ (PRθ) si para todo q ∈ Q, para todo (σ, t) ∈ ψ(q), k ∈ N tal que σk = 1, q = (N \{k}, p, θ) ∈ Q, tal que para todo i ∈ N \{k}: θi = θi, pi = pi, existe (σ, t) ∈ ψ(q) tal que para todo i ∈ N \{k}: σi = σi y ti = ti + tk θi £j=k θj. Los axiomas de responsabilidad proporcional son generalizaciones de los axiomas de responsabilidad igual introducidos por Maniquet [15]. 235 Axiomas de Independencia El costo de espera de un trabajo no depende del costo de espera por unidad de sus trabajos anteriores. Del mismo modo, el costo de espera impuesto por un trabajo a sus trabajos siguientes es independiente de los tiempos de procesamiento de los trabajos siguientes. Estas propiedades de independencia deben ser aplicadas a las reglas de reparto de costos. Esto nos da dos axiomas de independencia. Definición 8. Una regla de asignación ψ satisface la independencia de trabajos anteriores θ (IPJθ) si para todo q = (N, p, θ), q = (N, p, θ) ∈ Q, (σ, t) ∈ ψ(q), (σ, t) ∈ ψ(q), si para todo i ∈ N \ {k}: θi = θi, pi = pi y γk < γk, pk = pk, entonces para todo j ∈ N tal que σj > σk: πj = πj, donde π es la participación en los costos en (σ, t) y π es la participación en los costos en (σ, t). Definición 9. Una regla de asignación ψ satisface la independencia de los trabajos siguientes p (IFJp) si para todo q = (N, p, θ), q = (N, p, θ) ∈ Q, (σ, t) ∈ ψ(q), (σ, t) ∈ ψ(q), si para todo i ∈ N \ {k}: θi = θi, pi = pi y γk > γk, θk = θk, entonces para todo j ∈ N tal que σj < σk: πj = πj, donde π es la participación en los costos en (σ, t) y π es la participación en los costos en (σ, t). 4.2 Resultados de la Caracterización Después de haber establecido los axiomas de equidad, proponemos tres formas diferentes de caracterizar la regla del valor de Shapley utilizando estos axiomas. Todas nuestras caracterizaciones implican eficiencia y ECB. Pero si tenemos IPJθ, necesitamos IFJp o PRp. De manera similar, si tenemos IFJp, necesitamos IPJθ o PRθ. Proposición 1. Cualquier regla eficiente ψ que cumpla con ECB, IPJθ e IFJp es una regla implicada por la regla del valor de Shapley. Prueba. Para cualquier i, j ∈ N, θi j = γipj y pi j = θj γi. Suponga sin pérdida de generalidad que σ es un ordenamiento eficiente con σi = i ∀ i ∈ N. Considere el q = (N, p, θ) correspondiente al trabajo i con pj = pj si j ≤ i y pj = pi j si j > i, θj = θi j si j < i y θj = θj si j ≥ i. Observa que todos los trabajos tienen el mismo γ: γi. Por el Lema 2 y la eficiencia, (σ, t) ∈ ψ(q) para algún conjunto de transferencias t. Usando el Lema 4, obtenemos la participación en los costos de i desde (σ, t) como πi = piθi + 1 2 (Li + Ri). Ahora, para cualquier j < i, si cambiamos θj a θj sin cambiar el tiempo de procesamiento, el nuevo γ de j es γj ≥ γi. Aplicando IPJθ, la participación en los costos del trabajo i no debería cambiar. De manera similar, para cualquier trabajo j > i, si cambiamos pj a pj sin cambiar θj, el nuevo γ de j es γj ≤ γi. Aplicando IFJp, la participación en los costos del trabajo i no debería cambiar. Aplicando este procedimiento para cada j < i con IPJθ y para cada j > i con IFJp, llegamos a q = (N, p, θ) y la ganancia de i no cambia de πi. Usando este argumento para cada i ∈ N y utilizando la expresión para el valor de Shapley en el Lema 3, obtenemos la regla del valor de Shapley. Es posible reemplazar uno de los axiomas de independencia con un axioma de equidad sobre el reparto de la transferencia de un trabajo. Esto se muestra en las Proposiciones 2 y 3. Proposición 2. Cualquier regla eficiente ψ que cumpla con ECB, IPJθ y PRp es una regla implicada por la regla del valor de Shapley. Prueba. Como en la demostración de la Proposición 1, define θi j = γipj ∀ i, j ∈ N. Supongamos sin pérdida de generalidad que σ es un ordenamiento eficiente con σi = i ∀ i ∈ N. Considera una cola con trabajos en el conjunto K = {1, . . . , i, i + 1}, donde i < n. Define q = (K, p, θ), donde θj = θi+1 j ∀ j ∈ K. Define σj = σj ∀ j ∈ K. σ es un ordenamiento eficiente para q. Por el BCE y el Lema 4, la participación en los costos del trabajo i + 1 en cualquier regla de asignación en ψ debe ser πi+1 = pi+1θi+1 + 1 2 ¡£j<i+1 pjθi+1¢. Ahora, considera q = (K, p, θ) tal que θj = θi j ∀ j ≤ i y θi+1 = θi+1. σ sigue siendo un ordenamiento eficiente en q y mediante IPJθ, la participación en los costos de i + 1 sigue siendo πi+1. En q = (K \ {i + 1}, p, θ), podemos calcular la participación en los costos del trabajo i utilizando ECB y el Lema 4 como πi = piθi + 1 2 £j<i pjθi. Por lo tanto, utilizando PRp obtenemos la nueva participación en los costos del trabajo i en q como πi = πi + ti+1 pi j<i+1 pj = piθi + 1 2 ¡£j<i pjθi + piθi+1¢. Ahora, podemos establecer K = K ∪ {i + 2}. Como antes, podemos encontrar la participación en costos de i + 2 en esta cola como πi+2 = pi+2θi+2 + 1 2 ¡£j<i+2 pjθi+2¢. Usando PRp obtenemos la nueva participación en los costos del trabajo i en la nueva cola como πi = piθi + 1 2 ¡£j<i pjθi + piθi+1 + piθi+2¢. Este proceso se puede repetir hasta que agreguemos el trabajo n, momento en el que la participación en el costo de i es piθi + 1/2 ¡£j<i pjθi + £j>i piθj¢. Entonces, podemos ajustar el θ de los trabajos anteriores a i a su valor original y aplicando IPJθ, las ganancias de los trabajos de i a n no cambiarán. Esto nos da los valores de Shapley de los trabajos i a n. Estableciendo i = 1, obtenemos las participaciones de costos de todos los trabajos de ψ como el valor de Shapley. Proposición 3. Cualquier regla eficiente ψ que cumpla con ECB, IFJp y PRθ es una regla implicada por la regla del valor de Shapley. Prueba. La prueba refleja la prueba de la Proposición 2. Proporcionamos un breve bosquejo. Análogo a la demostración de la Proposición 2, los θs se mantienen iguales a los datos originales y los tiempos de procesamiento se inicializan en pi+1 j. Esto nos permite usar IFJp. Además, en contraste con la Proposición 2, consideramos K = {i, i + 1, . . . , n} y añadimos repetidamente trabajos al principio de la cola manteniendo el mismo orden eficiente. Por lo tanto, agregamos los componentes de costo de los trabajos anteriores al costo compartido de los trabajos en cada iteración y convergemos a la regla del valor de Shapley. La siguiente proposición muestra que la regla del valor de Shapley cumple con todos los axiomas de equidad discutidos. Proposición 4. La regla del valor de Shapley satisface eficiencia, indiferencia de Pareto, anonimato, ETE, ECB, IPJθ, IFJp, PRp y PRθ. Prueba. La regla del valor de Shapley elige un orden eficiente y, por definición, los pagos suman cero. Entonces, satisface eficiencia. El valor de Shapley asigna la misma participación de costos a un trabajo independientemente del orden eficiente elegido. Entonces, es indiferente en términos de Pareto. El valor de Shapley es anónimo porque el índice particular de un trabajo no afecta su orden o participación en costos. Para ETE, considera dos trabajos i, j ∈ N tales que pi = pj y θi = θj. Sin pérdida de generalidad, asuma que el orden eficiente es 1, . . . , i, . . . , j, . . . , n. Ahora, el valor de Shapley del trabajo i es 236 SVi = piθi + 1 2 ¡Li + Ri¢ (De la Lema 3) = pjθj + 1 2 ¡Lj + Rj¢− 1 2 ¡Li − Lj + Ri − Rj¢ = SVj − 1 2 ¡   i<k≤j piθk −   i≤k<j pkθi¢ = SVj − 1 2   i<k≤j (piθk − pkθi) (Usando pi = pj y θi = θj) = SVj (Usando θk pk = θi pi para todo i ≤ k ≤ j). El valor de Shapley satisface ECB por su expresión en el Lema 3. Considerando cualquier trabajo i, en un ordenamiento eficiente σ, si aumentamos el valor de γj para algún j = i tal que σj > σi, entonces el conjunto Pi (trabajos anteriores) no cambia en el nuevo ordenamiento eficiente. Si γj se cambia de manera que pj permanezca igual, entonces la expresión £j∈Pi θipj no cambia. Si los valores (p, θ) de ningún otro trabajo son cambiados, entonces el valor de Shapley no cambia al aumentar γj para algún j ∈ Pi manteniendo pj sin cambios. Por lo tanto, la regla del valor de Shapley satisface IPJθ. Un argumento análogo muestra que la regla del valor de Shapley satisface IFJp. Para PRp, asumir sin pérdida de generalidad que los trabajos están ordenados del 1 al n en un orden eficiente. Denote la transferencia del trabajo i = n debido al valor de Shapley con el conjunto de trabajos N y el conjunto de trabajos N \ {n} como ti y ti respectivamente. La transferencia del último trabajo es tn = 1 2 θn £j<n pj. Ahora, ti = 1 2 ¡θi   j<i pj − pi   j>i θj¢ = 1 2 ¡θi   j<i pj − pi   j>i:j=n θj¢− 1 2 piθn = ti − 1 2 θn   j<n pj pi £j<n pj = ti − tn pi £j<n pj. Un argumento similar muestra que la regla del valor de Shapley cumple con PRθ. Estas series de proposiciones nos llevan a nuestro resultado principal. Teorema 1. Sea ψ una regla de asignación. Las siguientes afirmaciones son equivalentes: 1) Para cada q ∈ Q, ψ(q) selecciona todas las asignaciones que asignan trabajos con participaciones de costos implícitas en el valor de Shapley. 2) ψ satisface eficiencia, ECB, IFJp e IPJθ. 3) ψ satisface eficiencia, ECB, IFJp y PRθ. 4) ψ satisface eficiencia, ECB, PRp e IPJθ. Prueba. La prueba se sigue de las Proposiciones 1, 2, 3 y 4. 5. DISCUSIONES 5.1 Una Clase Razonable de Mecanismos de Compartición de Costos En esta sección, definiremos una clase razonable de mecanismos de compartición de costos. Mostraremos cómo estos mecanismos razonables conducen al mecanismo del valor de Shapley. Definición 10. Una regla de asignación ψ es razonable si para todo q ∈ Q y (σ, t) ∈ ψ(q) tenemos que para todo i ∈ N, ti = α ¡θi   j∈Pi(σ) pj − pi   j∈Fi(σ) θj¢∀ i ∈ N, donde 0 ≤ α ≤ 1. El mecanismo de reparto de costos razonable establece que cada trabajo debe ser pagado con una fracción constante de la diferencia entre el costo de espera que incurre y el costo de espera que inflige a otros trabajos. Si α = 0, entonces cada trabajo tiene su propio costo. Si α = 1, entonces cada trabajo recibe compensación por su costo de espera pero compensa a otros por el costo que inflige en ellos. La regla del valor de Shapley surge como resultado de ETE, como se muestra en la siguiente proposición. Proposición 5. Cualquier regla de asignación eficiente y razonable ψ que cumpla con ETE es una regla implícita de la regla del valor de Shapley. Prueba. Considera un q ∈ Q en el que pi = pj y θi = θj. Que (σ, t) ∈ ψ(q) y π sean las participaciones de costos resultantes. De ETE, obtenemos, πi = πj ⇒ ci(σ) − ti = cj(σ) − tj ⇒ piθi + (1 − α)Li + αRi = pjθj + (1 − α)Lj + αRj (Dado que ψ es eficiente y razonable) ⇒ (1 − α)(Li − Lj) = α(Rj − Ri) (Usando pi = pj, θi = θj) ⇒ 1 − α = α (Usando Li − Lj = Rj − Ri = 0) ⇒ α = 1 2. Esto nos da la regla del valor de Shapley según el Lema 3. 5.2. Resultados sobre Envy Chun [2] discute una condición de equidad llamada no-envidia para el caso en que los tiempos de procesamiento de todos los trabajos son unitarios. Definición 11. Una regla de asignación satisface no envidia si para todo q ∈ Q, (σ, t) ∈ ψ(q), e i, j ∈ N, tenemos que πi ≤ ci(σij) - tj, donde π es la participación en los costos de la regla de asignación (σ, t) y σij es el orden obtenido al intercambiar i y j. A partir del resultado en [2], la regla del valor de Shapley tampoco satisface la no envidia en nuestro modelo. Para superar esto, Chun [2] introduce la noción de no envidia ajustada, la cual demuestra que se cumple en la regla del valor de Shapley cuando los tiempos de procesamiento de todos los trabajos son unitarios. Aquí mostramos que la envidia ajustada sigue manteniéndose en la regla del valor de Shapley en nuestro modelo (cuando los tiempos de procesamiento no necesariamente son unitarios). Como antes, denotemos σij como un ordenamiento donde la posición de i y j se intercambia de un ordenamiento σ. Para la no envidia ajustada, si (σ, t) es una asignación para algún q ∈ Q, dejemos que tij sea la transferencia 237 del trabajo i cuando la transferencia de i se calcula con respecto al orden σij. Observe que una asignación puede no permitir el cálculo de tij. Por ejemplo, si ψ es eficiente, entonces tij no puede ser calculado si σij tampoco es eficiente. Para simplificar, establecemos la definición de envidia ajustada para aplicar a todas las reglas de este tipo. Definición 12. Una regla de asignación satisface la no envidia ajustada si para todo q ∈ Q, (σ, t) ∈ ψ(q), e i, j ∈ N, tenemos que πi ≤ ci(σij) - tij. Proposición 6. La regla del valor de Shapley satisface la no envidia ajustada. Prueba. Sin pérdida de generalidad, asuma que el orden eficiente de los trabajos es: 1, . . . , n. Considere dos trabajos i e i + k. A partir del Lema 3, SVi = piθi + 1 2 ¡  j<i θipj +   j>i θjpi¢. Sea ˆπi la participación en el costo de i debido al traslado ajustado tii+k i en el orden σii+k . ˆπi = ci(σii+k ) − tii+k i = piθi + 1 2 ¡ j<i θipj + θipi+k + i<j<i+k θipj + j>i θjpi − θi+kpi − i<j<i+k θjpi¢ = SVi + 1 2 i<j≤i+k ¡θipj − θjpi¢ ≥ SVi (Utilizando el hecho de que θi pi ≥ θj pj para i < j). 6. CONCLUSIÓN Estudiamos el problema de compartir costos para un problema de programación de trabajos en un único servidor, cuando los trabajos tienen tiempos de procesamiento y costos de espera unitarios. Tomamos un enfoque de teoría de juegos cooperativos y mostramos que la famosa regla del valor de Shapley cumple con muchas propiedades de equidad. Caracterizamos la regla del valor de Shapley utilizando diferentes axiomas intuitivos de equidad. En el futuro, planeamos simplificar aún más algunos de los axiomas de equidad. Algunas simplificaciones iniciales ya aparecen en [16], donde proporcionamos un axioma alternativo a ECB y también discutimos la implicación de transferencias entre trabajos (en lugar de transferencias desde trabajos a un servidor central). También planeamos examinar mecanismos de reparto de costos distintos al valor de Shapley. Investigar el poder estratégico de los empleos en tales mecanismos es otra línea de investigación futura. 7. REFERENCIAS [1] Youngsub Chun. Una nota sobre la caracterización de Maniquet del Valor de Shapley en problemas de colas. Documento de trabajo, Universidad de Rochester, 2004. [2] Youngsub Chun. Ausencia de envidia en problemas de colas. Documento de trabajo, Universidad de Rochester, 2004. [3] Imma Curiel, Herbert Hamers y Flip Klijn. Juegos de secuenciación: Una encuesta. En Peter Borm y Hans Peters, editores, Capítulo en Teoría de Juegos. Biblioteca de Teoría y Decisión, Editorial Kulwer Academic, 2002. [4] Imma Curiel, Giorgio Pederzoli y Stef Tijs. Juegos de secuenciación. Revista Europea de Investigación Operativa, 40:344-351, 1989. [5] Imma Curiel, Jos Potters, Rajendra Prasad, Stef Tijs y Bart Veltman. Secuenciación y Cooperación. Investigación de Operaciones, 42(3):566-568, mayo-junio de 1994. [6] Nikhil R. Devanur, Milena Mihail y Vijay V. Vazirani. Mecanismos de reparto de costos a prueba de estrategias para juegos de cobertura de conjuntos y ubicación de instalaciones. En Actas de la Cuarta Conferencia Anual de la ACM sobre Comercio Electrónico, 2003. [7] Robert J. Dolan. Mecanismos de incentivos para problemas de colas prioritarias. Revista Bell de Economía, 9:421-436, 1978. [8] Joan Feigenbaum, Christos Papadimitriou y Scott Shenker. Compartiendo el costo de las transmisiones multicast. En Actas del Trigésimo Segundo Simposio Anual de la ACM sobre Teoría de la Computación, 2000. [9] Herbert Hamers, Jeroen Suijs, Stef Tijs y Peter Borm. El núcleo dividido para juegos de secuenciación. Juegos y Comportamiento Económico, 15:165-176, 1996. [10] John C. Harsanyi. Contribuciones a la Teoría de Juegos IV, capítulo Un Modelo de Negociación para Juegos Cooperativos de n personas. Prensa de la Universidad de Princeton, 1959. Editores: A. W. Tucker, R. D. Luce. [11] Kamal Jain y Vijay Vazirani. Aplicaciones de algoritmos aproximados a juegos cooperativos. En Actas del 33º Simposio sobre Teoría de la Computación (STOC 01), 2001. [12] Kamal Jain y Vijay Vazirani. Asignaciones de costos equitativas a través de algoritmos de tipo primal-dual. En Actas del 34º Simposio sobre Teoría de la Computación (STOC 02), 2002. [13] Flip Klijn y Estela Sánchez. Juegos de secuenciación sin un orden inicial completamente especificado. Informe en Estadística e Investigación de Operaciones, páginas 1-17, 2002. Informe 02-04. [14] Flip Klijn y Estela Sánchez. Juegos de secuenciación sin orden inicial. Documento de trabajo, Universitat Autónoma de Barcelona, julio de 2004. [15] François Maniquet. Una caracterización del valor de Shapley en problemas de colas. Revista de Teoría Económica, 109:90-103, 2003. [16] Debasis Mishra y Bharath Rangarajan. Compartir costos en un problema de programación de trabajos. Documento de trabajo, CORE, 2005. [17] Manipushpak Mitra. Ensayos sobre problemas de incentivos implementables de primera mejor solución. Tesis de doctorado, Instituto Estadístico de la India, Nueva Delhi, 2000. [18] Manipushpak Mitra. Diseño de mecanismos en problemas de colas. Teoría Económica, 17(2):277-305, 2001. [19] Manipushpak Mitra. Logrando lo mejor en problemas de secuenciación. Revisión de Diseño Económico, 7:75-91, 2002. [20] Hervé Moulin. Manual de Elección Social y Bienestar, capítulo Compartición Axiomática de Costos y Excedentes. Holanda del Norte, 2002. Editores: Arrow, Sen, Suzumura. [21] Hervé Moulin. En la programación de tarifas para prevenir la fusión, división y transferencia de trabajos 238. Documento de trabajo, Universidad Rice, 2004. [22] Hervé Moulin. Programación probabilística a prueba de divisiones. Documento de trabajo, Universidad Rice, 2004. [23] Hervé Moulin y Rakesh Vohra. Caracterización de Métodos de Compartición de Costos Aditivos. Cartas Económicas, 80:399-407, 2003. [24] Martin Pál y Eva Tardos. Mecanismos de grupo a prueba de estrategias a través de algoritmos primal-dual. En Actas del 44º Simposio Anual de la IEEE sobre los Fundamentos de la Ciencia de la Computación (FOCS 03), 2003. [25] Lloyd S. Shapley. Contribuciones a la Teoría de Juegos II, capítulo Un Valor para Juegos de n personas, páginas 307-317. Anales de Estudios Matemáticos, 1953. Editores: H. W. Kuhn, A. W. Tucker. [26] Wayne E. Smith. Varios optimizadores para producción de una sola etapa. Revista Cuatrimestral de Logística de Investigación Naval, 3:59-66, 1956. [27] Jeroen Suijs. Sobre la compatibilidad de incentivos y el equilibrio presupuestario en la toma de decisiones públicas. Diseño Económico, 2, 2002. 239