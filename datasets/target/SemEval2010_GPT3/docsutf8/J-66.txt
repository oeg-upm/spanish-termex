Cuando se dona dinero a una causa (digamos, benéfica), es posible utilizar la donación contemplada como material de negociación para inducir a otras partes interesadas en la organización benéfica a donar más. Tales negociaciones suelen realizarse en términos de ofertas coincidentes, donde una parte se compromete a pagar una cierta cantidad si las demás pagan una cierta cantidad. Sin embargo, en su forma actual, las ofertas coincidentes solo permiten una negociación limitada. Por un lado, no está claro de inmediato cómo varias partes pueden hacer ofertas coincidentes al mismo tiempo sin crear dependencias circulares. Además, no está claro de inmediato cómo hacer una donación condicionada a otras donaciones a múltiples organizaciones benéficas, cuando el donante tiene diferentes niveles de aprecio por las diferentes organizaciones benéficas. En ambos casos, la limitada expresividad de las ofertas de emparejamiento causa pérdidas económicas: puede suceder que un acuerdo que hubiera beneficiado a todas las partes (tanto donantes como organizaciones benéficas) no pueda expresarse en términos de ofertas de emparejamiento y, por lo tanto, no se lleve a cabo. En este artículo, presentamos un lenguaje de oferta para expresar tipos muy generales de ofertas de emparejamiento en múltiples organizaciones benéficas. Formulamos el problema de compensación correspondiente (decidir cuánto paga cada postor y cuánto recibe cada organización benéfica) y demostramos que es NP-completo aproximar a cualquier proporción incluso en entornos muy restringidos. Presentamos una formulación de programa mixto entero del problema de compensación, y demostramos que para ofertas cóncavas, el programa se reduce a un programa lineal. Luego demostramos que el problema de compensación para una subclase de ofertas cóncavas es al menos tan difícil como la variante de decisión de programación lineal. Posteriormente, demostramos que el problema de liquidación es mucho más fácil cuando las ofertas son cuasilineales para el excedente, el problema se descompone entre organizaciones benéficas, y para maximizar los pagos, un enfoque codicioso es óptimo si las ofertas son cóncavas (aunque este último problema es débilmente NP-completo cuando las ofertas no son cóncavas). Para el entorno cuasilineal, estudiamos la pregunta de diseño de mecanismos. Demostramos que un mecanismo ex post eficiente es imposible incluso con solo una organización benéfica y una clase muy restringida de ofertas. También demostramos que puede haber beneficios al vincular las organizaciones benéficas desde el punto de vista del diseño de mecanismos. Categorías y Descriptores de Asignaturas F.2 [Teoría de la Computación]: Análisis de Algoritmos y Complejidad de Problemas; J.4 [Aplicaciones Informáticas]: Ciencias Sociales y del Comportamiento-Economía Términos Generales Algoritmos, Economía, Teoría 1. INTRODUCCIÓN Cuando se dona dinero a una causa benéfica (u otra) (en adelante referida como caridad), a menudo la parte donante da de forma incondicional: se transfiere una cantidad fija del donante a la caridad, y ninguna de esta transferencia depende de otros eventos, en particular, no depende de la cantidad donada por otras partes. De hecho, esta es actualmente a menudo la única forma de hacer una donación, especialmente para pequeños donantes como individuos privados. Sin embargo, cuando varias partes apoyan la misma organización benéfica, cada una de ellas preferiría ver a las demás dar más en lugar de menos a esta organización benéfica. En tales escenarios, es sensato que una parte utilice su donación contemplada como material de negociación para inducir a los demás a dar más. Esto se logra condicionando la donación a las donaciones de los demás. El siguiente ejemplo ilustrará esto y mostrará que las partes donantes, así como la causa benéfica, pueden beneficiarse simultáneamente del potencial de tal negociación. Supongamos que tenemos dos partes, 1 y 2, que son ambos partidarios de la organización benéfica A. Para cualquiera de ellos, valdría $0.75 si A recibiera $1. Ninguno de ellos estará dispuesto a dar incondicionalmente, ya que $0.75 < $1. Sin embargo, si las dos partes redactan un contrato que establece que cada una dará $0.5, ambas partes tienen un incentivo para aceptar este contrato (en lugar de no tener contrato alguno): con el contrato, la organización benéfica recibirá $1 (en lugar de $0 sin contrato), lo cual vale $0.75 para cada parte, cantidad mayor que los $0.5 que esa parte tendrá que dar. Efectivamente, cada parte ha condicionado su donación a la donación de la otra parte, lo que ha llevado a donaciones más grandes y mayor felicidad para todas las partes involucradas. Un método que se utiliza a menudo para lograr esto es hacer una oferta de igualación. Ejemplos de ofertas de coincidencia son: Daré x dólares por cada dólar donado, o daré x dólares si el total recaudado de otras partes supera y. En nuestro ejemplo anterior, una de las partes puede hacer la oferta de donar $0.5 si la otra parte también dona al menos esa cantidad, y la otra parte tendrá un incentivo para efectivamente donar $0.5, de modo que la cantidad total donada a la caridad aumente en $1. Por lo tanto, esta oferta de coincidencia implementa el contrato sugerido anteriormente. Como ejemplo del mundo real, el gobierno de los Estados Unidos ha autorizado una donación de hasta $1 mil millones al Fondo Mundial para la Lucha contra el SIDA, la Tuberculosis y la Malaria, bajo la condición de que la contribución estadounidense no exceda un tercio del total, para animar a otros países a dar más [23]. Sin embargo, existen varias limitaciones severas al enfoque simple de emparejar ofertas tal como se acaba de describir. 1. No está claro cómo dos partes pueden hacer ofertas coincidentes donde la oferta de cada parte se expresa en términos de la cantidad que la otra paga. (Por ejemplo, no está claro cuál debería ser el resultado cuando ambas partes ofrecen igualar la donación de la otra). Por lo tanto, las ofertas de coincidencia solo pueden basarse en pagos realizados por las partes que están dando incondicionalmente (no en términos de una oferta de coincidencia), o al menos no puede haber dependencias circulares. Dada la infraestructura actual para hacer ofertas de coincidencia, es poco práctico hacer que una oferta de coincidencia dependa de las cantidades donadas a múltiples organizaciones benéficas. Por ejemplo, una parte puede desear especificar que pagará $100 dado que la caridad A reciba un total de $1000, pero también contará las donaciones hechas a la caridad B, a la mitad de la tasa. (Por lo tanto, un pago total de $500 a la caridad A combinado con un pago total de $1000 a la caridad B sería justo suficiente para que la oferta de la parte tenga efecto). Por el contrario, en este documento proponemos un nuevo enfoque donde cada parte puede expresar sus preferencias relativas por diferentes organizaciones benéficas, y hacer su oferta condicional a su propia apreciación por el vector de donaciones realizadas a las diferentes organizaciones benéficas. Además, se permite que la cantidad que el partido ofrece donar en diferentes niveles de aprecio varíe arbitrariamente (no es necesario que sea un acuerdo de igualación de dólar por dólar (o n-dólar por dólar), o un acuerdo en el que el partido ofrezca una cantidad fija siempre que se haya superado un total dado (límite)). Finalmente, hay una interpretación clara de lo que significa cuando varias partes hacen ofertas condicionales que se expresan en términos mutuos. Dada cada combinación de ofertas (condicionales), hay una solución (generalmente) única que determina cuánto paga cada parte y cuánto recibe cada organización benéfica. Sin embargo, como mostraremos, encontrar esta solución (el problema de compensación) requiere resolver un problema de optimización potencialmente difícil. Una gran parte de este documento está dedicada a estudiar qué tan difícil es este problema bajo diferentes suposiciones sobre la estructura de las ofertas, y proporcionar algoritmos para resolverlo. Típicamente, organizaciones más grandes emparejan ofertas de individuos privados. Por ejemplo, el Fondo de Desastres Liberty de la Cruz Roja Americana mantiene una lista de empresas que igualan las donaciones de sus clientes [8]. Hacia el final del documento, también estudiamos el problema de diseño de mecanismos para motivar a los postores a hacer ofertas veraces. En resumen, la negociación expresiva sobre donaciones a organizaciones benéficas es una nueva forma en la que el comercio electrónico puede ayudar al mundo. Una implementación basada en la web de las ideas descritas en este documento puede facilitar la reasignación voluntaria de riqueza a escala global. Además, resolver de manera óptima el problema de compensación (y por ende generar el máximo bienestar económico) requiere la aplicación de algoritmos sofisticados. 2. COMPARACIÓN CON SUBASTAS Y INTERCAMBIOS COMBINATORIOS Esta sección discute la relación entre la donación caritativa expresiva y las subastas y los intercambios combinatorios. Puede omitirse, pero puede resultar de interés para el lector con experiencia en subastas y intercambios combinatorios. En una subasta combinatoria, hay m artículos en venta, y los postores pueden realizar ofertas en paquetes de uno o más artículos. El subastador posteriormente etiqueta cada oferta como ganadora o perdedora, bajo la restricción de que ningún artículo puede estar en más de una oferta ganadora, para maximizar la suma de los valores de las ofertas ganadoras. (Esto se conoce como el problema de liquidación). Las variantes incluyen subastas combinatorias inversas, donde el subastador busca adquirir un conjunto de artículos; y los intercambios combinatorios, donde los postores pueden comprar y vender artículos (incluso dentro de la misma oferta). Otras extensiones incluyen permitir restricciones laterales, así como la especificación de atributos de los artículos en las ofertas. Las subastas y los intercambios combinatorios se han convertido recientemente en un tema de investigación popular [20, 21, 17, 22, 9, 18, 13, 3, 12, 26, 19, 25, 2]. Los problemas de liquidar mercados de donaciones caritativas expresivas y liquidar subastas o intercambios combinatorios son muy diferentes en su formulación. Sin embargo, hay interesantes paralelos. Una de las principales razones del interés en las subastas y intercambios combinatorios es que permite realizar ofertas expresivas. Un postor puede expresar exactamente cuánto vale para él cada asignación diferente, y así el asignación globalmente óptima puede ser elegida por el subastador. Comparar esto con un postor que tiene que ofertar por dos artículos diferentes en dos subastas diferentes (de un solo artículo), sin ninguna forma de expresar que (por ejemplo) un artículo no tiene valor si no se gana el otro artículo. En este escenario, el postor puede ganar el primer artículo pero no el segundo (debido a que hubo otra oferta alta en el segundo artículo que ella no anticipó), lo que conduce a una ineficiencia económica. La puja expresiva también es uno de los principales beneficios del mercado de donaciones caritativas expresivas. Aquí, los postores pueden expresar exactamente cuánto están dispuestos a donar por cada vector de cantidades donadas a organizaciones benéficas. Esto puede permitir a los licitadores negociar un acuerdo complejo sobre quién da cuánto a qué organización benéfica, lo cual es beneficioso para todas las partes involucradas; mientras que tal acuerdo no habría sido posible si los licitadores hubieran estado restringidos a usar ofertas de emparejamiento simples en organizaciones benéficas individuales. Nuevamente, la oferta expresiva es necesaria para lograr eficiencia económica. Otro paralelo es la complejidad computacional del problema de compensación. Para lograr la máxima eficiencia económica permitida por la expresividad de los mercados (o acercarse a ella), es necesario resolver problemas computacionales complejos en subastas y intercambios combinatorios, así como en el mercado de donaciones de caridad (como veremos). 52 3. DEFINICIONES A lo largo de este documento, nos referiremos a las ofertas que realizan las partes donantes como pujas, y a las partes donantes como postores. En nuestro marco de licitación, una oferta especificará, para cada vector de pagos totales realizados a las organizaciones benéficas, cuánto está dispuesto a contribuir ese oferente. (La contribución de este oferente también se cuenta en el vector de pagos, por lo que el vector de pagos totales a las organizaciones benéficas representa la cantidad donada por todas las partes donantes, no solo las que no son este oferente). El lenguaje de la oferta es lo suficientemente expresivo como para que ningún ofertante tenga que hacer más de una oferta. La siguiente definición precisa la forma general de una oferta en nuestro marco de trabajo. Definición 1. En un entorno con m organizaciones benéficas c1, c2, . . . , cm, una oferta del postor bj es una función vj: Rm → R. La interpretación es que si la organización benéfica ci recibe una cantidad total de πci, entonces el postor j está dispuesto a donar (hasta) vj(πc1, πc2, . . . , πcm). Ahora definimos los posibles resultados en nuestro modelo y qué resultados son válidos dados los ofrecimientos que se hicieron. Definición 2. Un resultado es un vector de pagos realizados por los postores (πb1, πb2, . . . , πbn), y un vector de pagos recibidos por las organizaciones benéficas (πc1, πc2, . . . , πcm). Un resultado válido es un resultado donde 1. n j=1 πbj ≥ m i=1 πci (se recoge al menos la misma cantidad de dinero que se entrega); 2. Para todo 1 ≤ j ≤ n, πbj ≤ vj(πc1 , πc2 , . . . , πcm ) (ningún postor ofrece más de lo que está dispuesto a dar). Por supuesto, al final, solo se puede elegir uno de los resultados válidos. Elegimos el resultado válido que maximiza el objetivo que tenemos para el proceso de donación. Definición 3. Un objetivo es una función del conjunto de todos los resultados a R.2. Después de que se hayan recopilado todas las ofertas, se elegirá un resultado válido que maximice este objetivo. Un ejemplo de un objetivo es el excedente, dado por n j=1 πbj − m i=1 πci. El excedente podría ser las ganancias de una empresa que gestiona el mercado de donaciones expresivas; pero, alternativamente, el excedente podría ser devuelto a los postores o donado a organizaciones benéficas. Otro objetivo es el monto total donado, dado por Σci, donde i va de 1 a m. (Aquí, también se podrían asignar diferentes pesos a las distintas organizaciones benéficas). Encontrar el resultado válido que maximiza el objetivo es un problema computacional (no trivial). Nos referiremos a esto como el problema de la claridad. La definición formal sigue. Definición 4 (LIMPIEZA DE DONACIONES). Se nos da un conjunto de n ofertas sobre organizaciones benéficas c1, c2, . . . , cm. Además, se nos proporciona una función objetivo. Se nos pide encontrar un resultado válido que maximice el objetivo. La dificultad del problema de COMPENSACIÓN DE DONACIONES depende de los tipos de ofertas utilizadas y del idioma en el que se expresen. Este es el tema de la próxima sección. En general, la función objetivo también puede depender de las ofertas, pero las funciones objetivo consideradas en este documento no dependen de las ofertas. Las técnicas presentadas en este documento generalmente se pueden aplicar a objetivos que tienen en cuenta directamente las ofertas. 4. Un LENGUAJE DE OFERTA SIMPLIFICADO Especificar una oferta general en nuestro marco de trabajo (como se define arriba) requiere poder especificar una función de valor real arbitraria sobre Rm. Aunque restrigiéramos el pago total posible a cada organización benéfica al conjunto {0, 1, 2, . . . , s}, esto seguiría requiriendo que un postor especifique (s+1)m valores. Por lo tanto, necesitamos un lenguaje de oferta que permita a los licitadores especificar al menos algunas ofertas de manera más concisa. Especificaremos un lenguaje de oferta que solo represente un subconjunto de todas las ofertas posibles, que se pueden describir de manera concisa. Para introducir nuestro lenguaje de oferta, primero describiremos la función de oferta como una composición de dos funciones; luego delinearemos nuestras suposiciones sobre cada una de estas funciones. Primero, hay una función de utilidad uj: Rm → R, que especifica cuánto aprecia el postor j un vector dado de donaciones totales a las organizaciones benéficas. (Tenga en cuenta que la forma en que definimos la función de utilidad de los postores no tiene en cuenta los pagos que el postor realiza). Luego, existe una función de disposición a donar wj : R → R, que especifica cuánto está dispuesto a pagar el postor j dada su utilidad por el vector de donaciones a las organizaciones benéficas. Enfatizamos que esta función no necesita ser lineal, por lo que las utilidades no deben ser consideradas como expresables en cantidades de dólares. (De hecho, cuando un individuo está donando a una organización benéfica grande, la razón por la que el individuo dona solo una cantidad limitada no suele ser el valor marginal decreciente del dinero donado a la organización benéfica, sino más bien que el valor marginal de un dólar para la oferente misma se vuelve mayor a medida que su presupuesto se reduce). Entonces, tenemos wj(uj(πc1 , πc2 , . . . , πcm )) = vj(πc1 , πc2 , . . . , πcm ), y permitimos que la postora describa sus funciones uj y wj por separado. (Ella enviará estas funciones como su oferta). Nuestra primera restricción es que la utilidad que un postor obtiene del dinero donado a una organización benéfica es independiente de la cantidad donada a otra organización benéfica. Por lo tanto, uj(πc1 , πc2 , . . . , πcm ) = m i=1 ui j(πci ). (Observamos que esto no implica que la función de oferta vj se descomponga de manera similar, debido a la no linealidad de wj.) Además, cada ui j debe ser lineal por partes. Un caso especial interesante que estudiaremos es cuando cada ui j es una línea: ui j(πci ) = ai jπci. Este caso especial está justificado en entornos donde la escala de las donaciones de los postores es pequeña en comparación con los montos que las organizaciones benéficas reciben de otras fuentes, de modo que el uso marginal de un dólar para la organización benéfica no se ve afectado por la cantidad dada por los postores. La única restricción que imponemos a las funciones de disposición al pago wj es que sean lineales por tramos. Un caso especial interesante es una oferta de umbral, donde wj es una función escalonada: el oferente proporcionará t dólares si su utilidad supera a s, y de lo contrario 0. Otro caso interesante es cuando una oferta es parcialmente aceptable: el oferente proporcionará t dólares si su utilidad supera a s; pero si su utilidad es u < s, todavía está dispuesto a proporcionar u veces s dólares. Uno podría preguntarse por qué, si se nos dan las funciones de utilidad de los postores, no simplemente maximizamos la suma de las utilidades en lugar del excedente o la donación total. Hay varias razones. Primero, dado que las transformaciones afines no afectan de manera fundamental a las funciones de utilidad, sería posible que un postor aumentara su utilidad al cambiar sus unidades, haciendo que su oferta sea más importante para la maximización de la utilidad. Segundo, un oferente podría simplemente proporcionar una función de disposición a pagar que sea 0 en todas partes, y que su utilidad sea tomada en cuenta al decidir el resultado, a pesar de no contribuir con nada. 5. EVITANDO PAGOS INDIRECTOS En una implementación inicial, el enfoque de hacer donaciones a un centro y que este centro reenvíe estos pagos a organizaciones benéficas puede no ser deseable. Más bien, puede ser preferible tener una solución parcialmente descentralizada, donde las partes donantes emitan cheques a las organizaciones benéficas directamente de acuerdo con una solución prescrita por el centro. En este escenario, el centro solo tiene que verificar que las partes estén entregando las cantidades prescritas. Las ventajas de esto incluyen que el centro puede mantener su estatus legal mínimo, así como que no requerimos que las partes donantes confíen en el centro para transferir sus donaciones a las organizaciones benéficas (o requerir algún protocolo de verificación complicado). También es un paso hacia una solución completamente descentralizada, si esto es deseable. Para lograr esto, aún podemos utilizar el enfoque descrito anteriormente. Después de despejar el mercado de la manera descrita anteriormente, conocemos la cantidad que cada donante debe dar y la cantidad que cada organización benéfica debe recibir. Entonces, es sencillo dar algunas especificaciones sobre quién debería dar cuánto a qué organización benéfica, que sea coherente con esa liquidación. Cualquier algoritmo voraz que aumente el flujo de efectivo de cualquier postor que aún no haya pagado lo suficiente, a cualquier organización benéfica que aún no haya recibido lo suficiente, hasta que el postor haya pagado lo suficiente o la organización benéfica haya recibido lo suficiente, proporcionará tal especificación. (Todo esto asumiendo que bj πbj = ci πci). En el caso en que haya un excedente no nulo, es decir, bj πbj > ci πci, podemos distribuir este excedente entre los postores no exigiéndoles que paguen la cantidad total, o entre las organizaciones benéficas dándoles más de lo que especifica la solución. Sin embargo, con este enfoque, un oferente puede tener que emitir un cheque a una organización benéfica por la que no siente ningún interés. (Por ejemplo, un activista ambiental que estaba utilizando el sistema para aumentar las donaciones a un fondo de preservación de la vida silvestre podría verse obligado a emitir un cheque a un grupo que apoya a un partido político de derecha). Esto probablemente provocará quejas y falta de cumplimiento con la limpieza. Podemos abordar este problema permitiendo que cada postor especifique explícitamente (antes de la liquidación) a qué organizaciones benéficas estaría dispuesto a hacer un cheque. Estas restricciones adicionales, por supuesto, pueden cambiar la solución óptima. En general, verificar si una solución centralizada dada (sin excedente) se puede lograr a través de pagos descentralizados cuando existen tales restricciones se puede modelar como un problema de FLUJO MÁXIMO. En la instancia de FLUJO-MÁXIMO, hay una arista desde el nodo fuente s hacia cada postor bj, con una capacidad de πbj (como se especifica en la solución centralizada); una arista desde cada postor bj hacia cada organización benéfica ci a la que el postor está dispuesto a donar dinero, con una capacidad de ∞; y una arista desde cada organización benéfica ci hacia el nodo objetivo t con una capacidad de πci (como se especifica en la solución centralizada). En el resto de este documento, todos nuestros resultados de dificultad se aplican incluso al escenario en el que no hay restricción sobre qué postores pueden pagar a qué organización benéfica (es decir, incluso el problema tal como se especificó antes de esta sección es difícil). También generalizamos nuestros algoritmos de compensación al caso parcialmente descentralizado con restricciones. 6. DIFICULTAD DE DESPEJAR EL MERCADO En esta sección, demostraremos que el problema de despeje es completamente no aproximable, incluso cuando la función de utilidad de cada postor es lineal (con pendiente 0 o 1 en los pagos de cada organización benéfica), cada postor se preocupa por un máximo de dos organizaciones benéficas o por todas las organizaciones benéficas por igual, y la función de disposición al pago de cada postor es una función escalonada. Reduciremos de MAX2SAT (dada una fórmula en forma normal conjuntiva (donde cada cláusula tiene dos literales) y un número objetivo de cláusulas satisfechas T, ¿existe una asignación de valores de verdad a las variables que haga que al menos T cláusulas sean verdaderas?), lo cual es NP-completo [7]. Teorema 1. Existe una reducción de instancias de MAX2SAT a instancias de DONATION-CLEARING tal que 1. Si la instancia de MAX2SAT no tiene solución, entonces el único resultado válido es el resultado cero (ningún postor paga nada y ninguna organización benéfica recibe nada); 2. De lo contrario, existe una solución con excedente positivo. Además, las instancias de COMPENSACIÓN DE DONACIONES que reducimos tienen las siguientes propiedades: 1. Cada ui j es una línea; es decir, la utilidad que cada postor obtiene de cualquier organización benéfica es lineal; 2. Todas las ui tienen una pendiente de 0 o 1; 3. Cada postor tiene como máximo 2 organizaciones benéficas que afectan su utilidad (con pendiente 1), o todas las organizaciones benéficas afectan su utilidad (con pendiente 1); 4. Cada oferta es una oferta de umbral; es decir, la función de disposición a pagar de cada postor wj es una función escalonada. Prueba. El problema está en NP porque podemos elegir de manera no determinista los pagos a realizar y recibir, y verificar la validez y el valor objetivo de este resultado. En lo siguiente, representaremos las ofertas de la siguiente manera: ({(ck, ak)}, s, t) indica que uk j (πck ) = akπck (esta función es 0 para ck no mencionado en la oferta), y wj(uj) = t para uj ≥ s, wj(uj) = 0 en caso contrario. Para demostrar la NP-dificultad, reducimos una instancia arbitraria de MAX2SAT, dada por un conjunto de cláusulas K = {k} = {(l1 k, l2 k)} sobre un conjunto de variables V junto con un número objetivo de cláusulas satisfechas T, a la siguiente instancia de DONATION-CLEARING. Que el conjunto de organizaciones benéficas sea el siguiente. Para cada literal l ∈ L, hay una caridad cl. Entonces, dejemos que el conjunto de ofertas sea el siguiente. Para cada variable v, hay una oferta bv = ({(c+v, 1), (c−v, 1)}, 2, 1 − 1 4|V | ). Para cada literal l, hay una oferta bl = ({(cl, 1)}, 2, 1). Para cada cláusula k = {l1 k, l2 k} ∈ K, hay una oferta bk = ({(cl1 k , 1), (cl2 k , 1)}, 2, 1 8|V ||K| ). Finalmente, hay una única oferta que valora a todas las organizaciones benéficas por igual: b0 = ({(c1, 1), (c2, 1), . . . , (cm, 1)}, 2|V| + T 8|V||K|, 1 4 + 1 16|V||K|). Mostramos que las dos instancias son equivalentes. Primero, supongamos que existe una solución para la instancia MAX2SAT. Si en esta solución, l es verdadero, entonces dejemos que πcl = 2 + T 8|V |2|K|; de lo contrario, πcl = 0. Además, las únicas ofertas que no se aceptan (es decir, no se cumple el umbral) son las bl donde l es falso, y las bk tales que tanto l1 k como l2 k son falsos. Primero demostramos que ningún postor cuya oferta sea aceptada paga más de lo que está dispuesto a pagar. Para cada bv, ya sea c+v o c-v recibe al menos 2, por lo que se ha alcanzado el umbral de este postor. Para cada bl, ya sea l es falso y la oferta no es aceptada, o l es verdadero, cl recibe al menos 2, y se ha alcanzado el umbral. Para cada bk, o ambas l1 k y l2 k son falsas y la oferta no es aceptada, o al menos una de ellas (digamos li k) es verdadera (es decir, k está satisfecho) y cli k recibe al menos 2, y se ha alcanzado el umbral. Finalmente, dado que la cantidad total recibida por las organizaciones benéficas es 2|V | + T 8|V ||K|, también se ha alcanzado el umbral de b0s. El monto total que se puede extraer de las ofertas aceptadas es al menos |V |(1− 1 4|V | )+|V |+T 1 8|V ||K| + 1 4 + 1 16|V ||K| ) = 2|V |+ T 8|V ||K| + 1 16|V ||K| > 2|V |+ T 8|V ||K| , por lo tanto hay un excedente positivo. Por lo tanto, existe una solución con excedente positivo para la instancia de COMPENSACIÓN DE DONACIONES. Ahora supongamos que existe un resultado distinto de cero en la instancia de COMPENSACIÓN DE DONACIONES. Primero mostramos que no es posible (para cualquier v ∈ V) que tanto b+v como b−v sean aceptados. Para esto, se requeriría que πc+v + πc−v ≥ 4. Las ofertas bv, b+v, b-v no pueden contribuir más de 3, por lo que necesitamos al menos otro 1. Es fácil ver que para cualquier otro v, aceptar cualquier subconjunto de {bv, b+v, b-v} requeriría que al menos se le dé a c+v y c-v tanto como se pueda extraer de estas ofertas, por lo que esto no puede ayudar. Finalmente, todas las otras ofertas combinadas pueden contribuir como máximo |K| 1 8|V ||K| + 1 4 + 1 16|V ||K| < 1. Se deduce que podemos interpretar el resultado en la instancia de DONATION-CLEARING como una asignación parcial de valores de verdad a variables: v se establece como verdadero si b+v es aceptado, y como falso si b-v es aceptado. Todo lo que queda por demostrar es que esta asignación parcial satisface al menos T cláusulas. Primero mostramos que si una oferta de cláusula bk es aceptada, entonces se acepta bl1 k o bl2 k (y por lo tanto se establece l1 k o l2 k como verdadero, por lo tanto k está satisfecho). Si se acepta bk, al menos uno de cl1 k y cl2 k debe recibir al menos 1; sin pérdida de generalidad, digamos que es cl1 k, y digamos que l1 k corresponde a la variable v1 k (es decir, es +v1 k o −v1 k). Si cl1 k no recibe al menos 2, bl1 k no es aceptado, y es fácil comprobar que las ofertas bv1 k , b+v1 k , b−v1 k contribuyen (al menos) 1 menos de lo que se paga a c+v1 k y c+v1 k. Pero esta es la misma situación que analizamos antes, y sabemos que es imposible. Todo lo que queda por demostrar es que al menos se aceptan las ofertas de la cláusula T. Ahora demostramos que b0 es aceptado. Supongamos que no lo es; entonces uno de los bv debe ser aceptado. (La solución es distinta de cero por suposición; si solo algunos bk son aceptados, el pago total de estas ofertas es a lo sumo |K| 1 8|V ||K| < 1, lo cual no es suficiente para que se acepte ninguna oferta; y si uno de los bl es aceptado, entonces también se alcanza el umbral para el bv correspondiente). Para este v, bv1 k , b+v1 k , b−v1 k contribuyen (al menos) 1 4|V | menos que los pagos totales a c+v y c−v. Nuevamente, el otro bv y bl no pueden (por sí mismos) ayudar a cerrar esta brecha; y el bk puede contribuir como máximo |K| 1 8|V ||K| < 1 4|V |. Se deduce que b0 es aceptado. Ahora, para que b0 sea aceptado, se debe donar un total de 2|V| + T 8|V||K|. Dado que no es posible (para cualquier v ∈ V) que tanto b+v como b−v sean aceptados, se sigue que el pago total por el bv y el bl puede ser a lo sumo 2|V| − 1/4. Sumando el pago de b0s de 1 4 + 1 16|V ||K| a esto, todavía necesitamos T − 1 2 8|V ||K| del bk. Pero cada uno de ellos contribuye como máximo 1 8|V ||K|, por lo que al menos T de ellos deben ser aceptados. Corolario 1. A menos que P sea igual a NP, no existe un algoritmo de tiempo polinómico para aproximar la COMPENSACIÓN DE DONACIONES (ya sea con el excedente o el monto total donado como objetivo) dentro de cualquier proporción f(n), donde f es una función distinta de cero del tamaño de la instancia. Esto se cumple incluso si las estructuras de DONATIONCLEARING satisfacen todas las propiedades dadas en el Teorema 1. Prueba. Supongamos que tuviéramos un algoritmo de tiempo polinómico y lo aplicáramos a las instancias de DONATION-CLEARING que se redujeron a partir de las instancias de MAX2SAT en el Teorema 1. Devolvería una solución distinta de cero cuando la instancia de MAX2SAT tenga una solución, y una solución de cero en caso contrario. Para poder decidir si las instancias arbitrarias de MAX2SAT son satisfacibles de esta manera, y se seguiría que P=NP. (Resolver el problema hasta la optimalidad es NP-completo en muchos otros contextos (no comparables o incluso más restringidos) también, omitimos tales resultados debido a limitaciones de espacio). Esto no debe interpretarse como que nuestro enfoque es inviable. Primero, como mostraremos, existen familias de ofertas muy expresivas para las cuales el problema es soluble en tiempo polinómico. Segundo, la NP-completitud a menudo se supera en la práctica (especialmente cuando las apuestas son altas). Por ejemplo, aunque el problema de despejar subastas combinatorias es NP-completo [20] (incluso para aproximarse [21]), típicamente se resuelven a la perfección en la práctica. 7. FORMULACIÓN DE PROGRAMACIÓN DE ENTEROS MIXTOS En esta sección, presentamos una formulación de programación de enteros mixtos (MIP) para el problema general. También discutimos en qué casos especiales esta formulación se reduce a una formulación de programación lineal (PL). En tales casos, el problema es soluble en tiempo polinómico, ya que los programas lineales pueden resolverse en tiempo polinómico [11]. Las variables del MIP que definen el resultado final son los pagos realizados a las organizaciones benéficas, denotados por πci, y los pagos extraídos de los postores, πbj. En el caso en el que intentamos evitar los pagos directos y permitimos que los postores paguen a las organizaciones benéficas directamente, agregamos variables πci,bj que indican cuánto paga bj a ci, con las restricciones de que para cada ci, πci ≤ bj πci,bj; y para cada bj, πbj ≥ ci πci,bj. Además, hay una restricción πci,bj = 0 siempre que el postor bj no esté dispuesto a pagar la caridad ci. El resto del MIP se puede expresar en términos de los πci y πbj. Los objetivos que hemos discutido anteriormente son lineales: el excedente se da por n j=1 πbj − m i=1 πci, y la cantidad total donada se da por m i=1 πci (los coeficientes pueden ser añadidos para representar diferentes pesos en las diferentes organizaciones benéficas en el objetivo). La restricción de que el resultado debe ser válido (sin déficit) se expresa simplemente como: n j=1 πbj ≥ m i=1 πci. Para cada postor, para cada organización benéfica, definimos una variable de utilidad adicional ui j que indica la utilidad que este postor obtiene del pago a esta organización benéfica. El total de utilidad de los postores, 55, está dado por otra variable uj, con la restricción de que uj = m i=1 ui j. Cada ui j se da como una función de πci por la función (lineal por partes) proporcionada por el postor. Para representar esta función en la formulación MIP, simplemente colocaremos restricciones de límite superior en ui j, de modo que no pueda exceder las funciones dadas. El solucionador MIP puede entonces aumentar las variables ui j hasta el límite de la restricción, con el fin de extraer la mayor cantidad de pago posible de este postor. En el caso en que los ui j sean cóncavos, esto es fácil: si (sl, tl) y (sl+1, tl+1) son los extremos de un segmento lineal finito en la función, agregamos la restricción de que ui j ≤ tl + πci −sl sl+1−sl (tl+1 − tl). Si el segmento final (infinito) comienza en (sk, tk) y tiene una pendiente d, agregamos la restricción de que ui j ≤ tk + d(πci − sk). Usando el hecho de que la función es cóncava, para cada valor de πci, el límite superior más ajustado en ui j es el que corresponde al segmento por encima de ese valor de πci, y por lo tanto, estas restricciones son suficientes para forzar el valor correcto de ui j. Cuando la función no es cóncava, necesitamos (por primera vez) algunas variables binarias. Primero, definimos otro punto en la función: (sk+1, tk+1) = (sk + M, tk + dM), donde d es la pendiente del segmento infinito y M es cualquier cota superior en los πcj. Esto tiene el efecto de que nunca estaremos en el segmento infinito de nuevo. Ahora, dejemos que xi,j sea una variable indicadora que debe ser 1 si πci está por debajo del l-ésimo segmento de la función, y 0 en caso contrario. Para lograr esto, primero agregue una restricción k l=0 xi,j l = 1. Ahora, nuestro objetivo es representar πci como un promedio ponderado de sus dos vecinos si,j l. Para 0 ≤ l ≤ k + 1, dejemos que λi,j l sea el peso en si,j l. Añadimos la restricción k+1 l=0 λi,j l = 1. Además, para 0 ≤ l ≤ k + 1, agregamos la restricción λi,j l ≤ xl−1 +xl (donde x−1 y xk+1 se definen como cero), de modo que efectivamente solo los dos vecinos si,j l tengan peso distinto de cero. Ahora agregamos la restricción πci = k+1 l=0 si,j l λi,j l , y ahora los λi,j l deben ser establecidos correctamente. Entonces, podemos establecer ui j = k+1 l=0 ti,j l λi,j l. (Esta es una técnica MIP estándar [16].) Finalmente, cada πbj está acotado por una función de uj por la función (lineal por partes) proporcionada por el postor (wj). Representar esta función es completamente análogo a cómo representamos ui j como una función de πci. (Nuevamente necesitaremos variables binarias solo si la función no es cóncava). Dado que solo usamos variables binarias cuando una función de utilidad ui j o una función de disposición a pagar wj no son cóncavas, se sigue que si todas estas son cóncavas, nuestra formulación MIP es simplemente un programa lineal, que puede resolverse en tiempo polinómico. Por lo tanto: Teorema 2. Si todas las funciones ui j y wj son cóncavas (y lineales por partes), el problema de COMPENSACIÓN DE DONACIONES puede resolverse en tiempo polinómico utilizando programación lineal. Aunque algunas de estas funciones no sean cóncavas, simplemente podemos reemplazar cada una de esas funciones por la función cóncava superior más pequeña, y utilizar la formulación de programación lineal para obtener un límite superior en el objetivo, lo cual puede ser útil en una formulación de búsqueda del problema general. Por qué uno no puede hacer mucho mejor que la programación lineal. Uno puede preguntarse si, para los casos especiales del problema de DONATIONCLEARING que pueden resolverse en tiempo polinómico con programación lineal, existen algoritmos de propósito especial que sean mucho más rápidos que los algoritmos de programación lineal. En esta sección, demostramos que este no es el caso. Damos una reducción del problema general de programación lineal (variante de decisión) a un caso especial del problema de COMPENSACIÓN DE DONACIONES (que puede resolverse en tiempo polinómico utilizando programación lineal). (La variante de decisión de un problema de optimización plantea la pregunta binaria: ¿Puede el valor objetivo exceder o?) Por lo tanto, cualquier algoritmo de propósito especial para resolver la variante de decisión de este caso especial del problema de DONATIONCLEARING podría ser utilizado para resolver una pregunta de decisión sobre un programa lineal arbitrario con la misma rapidez. (Y así, si estamos dispuestos a llamar al algoritmo un número logarítmico de veces, podemos resolver la versión de optimización del programa lineal). Primero observamos que para la programación lineal, una pregunta de decisión sobre el objetivo puede simplemente formularse como otra restricción en el PL (obligando al objetivo a superar el valor dado); luego, la pregunta de decisión original coincide con preguntar si el programa lineal resultante tiene una solución factible. Teorema 3. La pregunta de si un LP (dado por un conjunto de restricciones lineales) tiene una solución factible puede ser modelada como una instancia de COMPENSACIÓN DE DONACIONES con maximización de pagos como objetivo, con 2v organizaciones benéficas y v + c ofertas (donde v es el número de variables en el LP, y c es el número de restricciones). En este modelo, cada oferta bj tiene solo funciones lineales ui j, y es una oferta de umbral parcialmente aceptable (wj(u) = tj para u ≥ sj, de lo contrario wj(u) = utj sj). Las ofertas v correspondientes a las variables mencionan solo dos organizaciones benéficas cada una; las ofertas c correspondientes a las restricciones mencionan solo dos veces el número de variables en la restricción correspondiente. Prueba. Para cada variable xi en el LP, que haya dos organizaciones benéficas, c+xi y c−xi. Sea H algún número tal que si hay una solución factible para el LP, existe una en la que cada variable tiene un valor absoluto de a lo sumo H. A continuación, representaremos las ofertas de la siguiente manera: ({(ck, ak)}, s, t) indica que uk j (πck ) = akπck (esta función es 0 para ck no mencionado en la oferta), y wj(uj) = t para uj ≥ s, wj(uj) = uj t s en caso contrario. Para cada variable xi en el LP, que haya una oferta bxi = ({(c+xi , 1), (c−xi , 1)}, 2H, 2H − c v). Para cada restricción i rj i xi ≤ sj en el programa lineal, permita que haya una oferta bj = ({(c−xi , rj i )}i:r j i >0 ∪ {(c+xi , −rj i )}i:r j i <0 , ( i |rj i |)H − sj, 1). Que la cantidad total objetivo donada sea 2vH. Supongamos que hay una solución factible (x∗ 1, x∗ 2, . . . , x∗ v) para el LP. Sin pérdida de generalidad, podemos suponer que |x∗ i | ≤ H para todo i. Luego, en la instancia de DONATION-CLEARING, estas restricciones deben incluir límites en las variables (incluidos los límites de no negatividad), si los hay. Para cada i, dejemos que πc+xi = H + x∗ i, y que πc−xi = H − x∗ i (para un pago total de 2H a estas dos organizaciones benéficas). Esto nos permite extraer el pago máximo de las ofertas bxi, un pago total de 2vH − c. Además, la utilidad del postor bj es ahora i:r j i >0 rj i (H − x∗ i ) + i:r j i <0 −rj i (H + x∗ i ) = ( i |rj i |)H − i rj i x∗ i ≥ ( i |rj i |)H − sj (donde la última desigualdad se deriva del hecho de que la restricción j debe cumplirse en la solución LP), por lo que se sigue que podemos extraer el pago máximo de todos los postores bj, por un pago total de c. Se deduce que podemos extraer el pago requerido de 2vH de los postores, y existe una solución a la instancia de DONATION-CLEARING con un monto total donado de al menos 2vH. Ahora supongamos que hay una solución para la instancia de DONATIONCLEARING con un monto total donado de al menos vH. Entonces, el pago máximo debe ser extraído de cada postor. Del hecho de que el pago máximo debe ser extraído de cada postor bxi, se sigue que para cada i, πc+xi + πc−xi ≥ 2H. Dado que el pago total máximo extraíble es 2vH, se sigue que para cada i, πc+xi + πc−xi = 2H. Deja x∗ i = πc+xi − H = H − πc−xi. Entonces, a partir del hecho de que el pago máximo debe ser extraído de cada postor bj, se sigue que ( i |rj i |)H − sj ≤ i:r j i >0 rj i πc−xi + i:r j i <0 −rj i πc+xi = i:r j i >0 rj i (H − x∗ i ) + i:r j i <0 −rj i (H + x∗ i ) = ( i |rj i |)H − i rj i x∗ i. De manera equivalente, i rj i x∗ i ≤ sj. Se deduce que los x∗ i constituyen una solución factible para el LP. 9. OFERTAS CUASILINEALES Otra clase de ofertas de interés es la clase de ofertas cuasilineales. En una oferta cuasilineal, la función de disposición a pagar de los postores es lineal en utilidad: es decir, wj = uj. (Dado que las unidades de utilidad son arbitrarias, podríamos dejarlas corresponder exactamente a unidades de dinero, por lo que no necesitamos un multiplicador constante). En la mayoría de los casos, la cuasilinealidad es una suposición poco razonable: por ejemplo, generalmente los postores tienen un presupuesto limitado para donaciones, por lo que la disposición a pagar dejará de aumentar en utilidad después de cierto punto (o al menos aumentará más lentamente en el caso de una restricción presupuestaria más flexible). Sin embargo, la cuasilinealidad puede ser una suposición razonable en el caso en que los postores sean grandes organizaciones con presupuestos amplios, y las organizaciones benéficas sean unos pocos proyectos pequeños que requieren relativamente poco dinero. En este escenario, una vez que se ha donado una cierta cantidad pequeña a una organización benéfica, un postor no obtendrá más utilidad de que se done más dinero desde esa organización benéfica. Por lo tanto, los postores nunca alcanzarán una utilidad lo suficientemente alta para que su restricción presupuestaria (incluso cuando es flexible) entre en efecto, por lo que una aproximación lineal de su función de disposición a pagar es razonable. Otra razón para estudiar el entorno cuasilineal es que es el entorno más fácil para el diseño de mecanismos, del cual hablaremos en breve. En esta sección, veremos que el problema de compensación es mucho más fácil en el caso de ofertas cuasilineales. Primero, abordamos el caso en el que intentamos maximizar el excedente (que es el escenario más natural para el diseño de mecanismos). La observación clave aquí es que cuando las ofertas son cuasilineales, el problema de liquidación se descompone entre las organizaciones benéficas. Lema 1. Supongamos que todas las ofertas son cuasilineales y que el excedente es el objetivo. Entonces podemos despejar el mercado de manera óptima al despejar el mercado para cada organización benéfica individualmente. Es decir, para cada postor bj, sea πbj = ci πbi j. Entonces, para cada organización benéfica ci, maximiza ( bj πbi j ) − πci, bajo la restricción de que para cada postor bj, πbi j ≤ ui j(πci). Prueba. La solución resultante es ciertamente válida: en primer lugar, se recauda al menos la misma cantidad de dinero que se regala, porque bj πbj − ci πci = bj ci πbi j − ci πci = ci (( bj πbi j ) − πci )-y los términos de esta suma son los objetivos de los problemas de optimización individuales, cada uno de los cuales puede establecerse al menos en 0 (al establecer todas las variables en 0), por lo que se deduce que la expresión es no negativa. Segundo, ningún postor bj paga más de lo que está dispuesto a pagar, porque uj −πbj = ci ui j(πci )− ci πbi j = ci (ui j(πci )−πbi j )- y los términos de esta suma son no negativos debido a las restricciones que impusimos en los problemas de optimización individuales. Todo lo que queda por demostrar es que la solución es óptima. Dado que en una solución óptima extraeremos la mayor cantidad de pago posible de los postores dados los πci, todo lo que necesitamos demostrar es que los πci están establecidos de manera óptima mediante este enfoque. Que π∗ ci sea la cantidad pagada a la caridad πci en alguna solución óptima. Si cambiamos esta cantidad a πci y dejamos todo lo demás sin cambios, esto solo afectará el pago que podemos extraer de los postores debido a esta organización benéfica en particular, y la diferencia en el excedente será bj ui j(πci ) − ui j(π∗ ci ) − πci + π∗ ci. Esta expresión es, por supuesto, 0 si πci = π∗ ci. Pero ahora observe que esta expresión se maximiza como una función de πci por la solución descompuesta para esta organización benéfica (los términos sin πci no importan, y por supuesto en la solución descompuesta siempre establecemos πbi j = ui j(πci)). Se deduce que si cambiamos πci por la solución descompuesta, el cambio en el excedente será de al menos 0 (y la solución seguirá siendo válida). Por lo tanto, podemos cambiar el πci uno por uno a la solución descompuesta sin perder nunca ningún excedente. Teorema 4. Cuando todas las ofertas son cuasilineales y el excedente es el objetivo, la COMPENSACIÓN POR DONACIÓN se puede realizar en tiempo lineal. Prueba. Por el Lema 1, podemos resolver el problema por separado para cada organización benéfica. Para la caridad ci, esto equivale a maximizar ( bj ui j(πci )) − πci como una función de πci. Dado que todos sus términos son funciones lineales por partes, esta función completa es lineal por partes y debe maximizarse en uno de los puntos donde no es diferenciable. Se sigue que solo necesitamos verificar todos los puntos en los que uno de los términos es no diferenciable. Desafortunadamente, el lema de descomposición no se cumple para la maximización del pago. Proposición 1. Cuando el objetivo es maximizar el pago, incluso cuando las ofertas son cuasilineales, la solución obtenida al descomponer el problema entre organizaciones benéficas generalmente no es óptima (incluso con ofertas cóncavas). 57 Prueba. Considere un único postor b1 colocando la siguiente oferta cuasilineal sobre dos organizaciones benéficas c1 y c2: u1 1(πc1 ) = 2πci para 0 ≤ πci ≤ 1, u1 1(πc1 ) = 2 + πci −1 4 de lo contrario; u2 1(πc2 ) = πci 2. La solución descompuesta es πc1 = 7 3 , πc2 = 0, para una donación total de 7 3 . Pero la solución πc1 = 1, πc2 = 2 también es válida, para una donación total de 3 > 7 3. De hecho, cuando la maximización del pago es el objetivo, la COMPENSACIÓN DE DONACIONES sigue siendo (débilmente) NP-completa en general. (En el resto del documento, las pruebas se omiten debido a limitaciones de espacio). Teorema 5. La COMPENSACIÓN DE DONACIONES es (débilmente) NP-completa cuando la maximización del pago es el objetivo, incluso cuando cada oferta se refiere solo a una organización benéfica (y tiene una función de utilidad de paso para esta organización benéfica), y es cuasilineal. Sin embargo, cuando las ofertas también son cóncavas, un algoritmo de compensación codicioso simple es óptimo. Teorema 6. Dado una instancia de COMPENSACIÓN DE DONACIONES con maximización de pagos como objetivo, donde todas las ofertas son cuasilineales y cóncavas, considere el siguiente algoritmo. Comienza con πci = 0 para todas las organizaciones benéficas. Entonces, dejando γci = d bj ui j (πci ) dπci (en puntos no diferenciables, estas derivadas deben tomarse desde la derecha), aumenta πc∗ i (donde c∗ i ∈ arg maxci γci ), hasta que γc∗ i ya no sea el más alto (en cuyo caso, recalcular c∗ i y comenzar a aumentar el pago correspondiente), o bj uj = ci πci y γc∗ i < 1. Finalmente, dejemos que πbj = uj. (Un algoritmo codicioso similar funciona cuando el objetivo es el excedente y las ofertas son cuasilineales y cóncavas, con la única diferencia de que dejamos de aumentar los pagos tan pronto como γc∗ i < 1.) 10. Hasta este punto, no hemos discutido los incentivos de los postores para ofertar de una manera particular. Específicamente, las ofertas pueden no reflejar honestamente las preferencias de los postores sobre organizaciones benéficas porque un postor puede ofertar estratégicamente, tergiversando sus preferencias para obtener un resultado que le beneficie más a ella misma. Esto significa que el mecanismo no es a prueba de estrategias. (Mostraremos algunos ejemplos concretos de esto en breve). Esto no es demasiado sorprendente, porque el mecanismo descrito hasta ahora es, en cierto sentido, un mecanismo de primer precio, donde el mecanismo extraerá tanto pago de un postor como su oferta lo permita. Tales mecanismos (por ejemplo, subastas de primer precio, donde los ganadores pagan el valor de sus ofertas) generalmente no son a prueba de estrategias: si un postor informa su verdadera valoración por un resultado, entonces, si este resultado ocurre, el pago que el postor tendrá que hacer compensará completamente sus ganancias del resultado. Por supuesto, podríamos intentar cambiar las reglas del juego - qué resultado (vector de pagos a organizaciones benéficas) seleccionamos para qué vector de oferta, y qué postor paga cuánto - con el fin de hacer que ofertar sinceramente sea beneficioso, y mejorar el resultado con respecto a las verdaderas preferencias de los postores. Este es el campo del diseño de mecanismos. En esta sección, discutiremos brevemente las opciones que el diseño de mecanismos proporciona para el problema de donación caritativa expresiva. 10.1 Ofertas estratégicas bajo el mecanismo de primer precio. Primero señalamos algunas razones por las cuales los postores podrían informar incorrectamente sus preferencias bajo el mecanismo de primer precio descrito en el documento hasta este punto. En primer lugar, incluso cuando solo hay una organización benéfica, puede tener sentido ofrecer menos de su verdadera valoración por la organización benéfica. Por ejemplo, supongamos que un postor desea que una organización benéfica reciba una cierta cantidad x, pero no le importa si la organización benéfica recibe más que eso. Además, supongamos que las otras ofertas garantizan que la organización benéfica recibirá al menos x sin importar la oferta que presente el postor (y el postor lo sabe). Entonces, el postor está mejor sin hacer ninguna oferta (o presentando una utilidad para la caridad de 0), para evitar tener que realizar algún pago. (Esto se conoce en economía como el problema del "gorrón" [14]). Con múltiples organizaciones benéficas, puede ocurrir otro tipo de manipulación, donde el postor intenta dirigir los pagos de otros hacia su organización benéfica preferida. Supongamos que hay dos organizaciones benéficas y tres postores. El primer postor ofrece u1 1(πc1 ) = 1 si πc1 ≥ 1, u1 1(πc1 ) = 0 en caso contrario; u2 1(πc2 ) = 1 si πc2 ≥ 1, u2 1(πc2 ) = 0 en caso contrario; y w1(u1) = u1 si u1 ≤ 1, w1(u1) = 1+ 1 100 (u1 −1) en caso contrario. El segundo postor ofrece u1 2(πc1 ) = 1 si πc1 ≥ 1, u1 1(πc1 ) = 0 en caso contrario; u2 2(πc2 ) = 0 (siempre); w2(u2) = 1 4 u2 si u2 ≤ 1, w2(u2) = 1 4 + 1 100 (u2 −1) en otro caso. Ahora, las verdaderas preferencias del tercer postor están representadas con precisión por la oferta u1 3(πc1 ) = 1 si πc1 ≥ 1, u1 3(πc1 ) = 0 en caso contrario; u2 3(πc2 ) = 3 si πc2 ≥ 1, u2 3(πc1 ) = 0 en caso contrario; y w3(u3) = 1 3 u3 si u3 ≤ 1, w3(u3) = 1 3 + 1 100 (u3 − 1) en caso contrario. Ahora, es fácil comprobar que, si el tercer postor hace una oferta veraz, independientemente de si el objetivo es maximizar el excedente o la donación total, la organización benéfica 1 recibirá al menos 1, y la organización benéfica 2 recibirá menos de 1. Lo mismo ocurre si el postor 3 no realiza ninguna oferta (como en el tipo de manipulación anterior); por lo tanto, la utilidad del postor 2 será 1 en este caso. Pero ahora, si el postor 3 informa que u1 3(πc1 ) = 0 en todas partes; u2 3(πc2 ) = 3 si πc2 ≥ 1, u2 3(πc2 ) = 0 en caso contrario (esta parte de la oferta es veraz); y w3(u3) = 1 3 u3 si u3 ≤ 1, w3(u3) = 1 3 en caso contrario; entonces la organización benéfica 2 recibirá al menos 1, y el postor 3 tendrá que pagar como máximo 1 3 . Dado que hasta este monto de pago, una unidad de dinero corresponde a tres unidades de utilidad para el postor 3, se sigue que su utilidad es ahora de al menos 3 − 1 = 2 > 1. Observamos que en este caso, el postor estratégico no solo está afectando cuánto pagan los postores, sino también cuánto reciben las organizaciones benéficas. 10.2 Diseño de mecanismos en el entorno cuasilineal. Hay cuatro razones por las cuales el enfoque de diseño de mecanismos es probable que sea más exitoso en el entorno de preferencias cuasilineales. Primero, históricamente, el diseño de mecanismos ha sido más exitoso cuando se puede hacer la suposición cuasilineal. Segundo, debido a este éxito, se han descubierto algunos mecanismos muy generales para el entorno cuasilineal (por ejemplo, los mecanismos VCG [24, 4, 10], o el mecanismo dAGVA [6, 1]) que podríamos aplicar directamente al problema de donación caritativa expresiva. Tercero, como vimos en la Sección 9, el problema de compensación es mucho más fácil en 5. Formalmente, esto significa que si al postor se le obliga a pagar la cantidad total que su oferta permite para un vector particular de pagos a organizaciones benéficas, el postor es indiferente entre esto y no participar en el mecanismo en absoluto. (Compare esto con ofertar sinceramente en una subasta de primer precio.) 58 en esta configuración, y por lo tanto es menos probable que nos encontremos con problemas computacionales para el problema de diseño del mecanismo. Cuarto, como mostraremos en breve, la suposición de cuasilinealidad en algunos casos permite descomponer el problema de diseño de mecanismos sobre las organizaciones benéficas (como lo hizo para el simple problema de compensación). Además, en el entorno cuasilineal (a diferencia del entorno general), tiene sentido perseguir el bienestar social (la suma de las utilidades) como objetivo, porque ahora 1) las unidades de utilidad corresponden directamente a unidades de dinero, por lo que no tenemos el problema de que los postores escalen arbitrariamente sus utilidades; y 2) ya no es posible dar una función de disposición a pagar de 0 y aún así afectar las donaciones a través de una función de utilidad. Antes de presentar el resultado de la descomposición, introducimos algunos términos de la teoría de juegos. Un tipo es un perfil de preferencia que un postor puede tener y reportar (por lo tanto, un reporte de tipo es una oferta). La compatibilidad de incentivos (IC) significa que los postores están mejor al informar sus preferencias de manera veraz; ya sea independientemente de los otros tipos (en estrategias dominantes), o en expectativa sobre ellos (en equilibrio de Bayes-Nash). La racionalidad individual (RI) significa que los agentes están al menos tan bien participando en el mecanismo como no participando; ya sea independientemente de los otros tipos (ex-post), o en expectativa sobre ellos (ex-interino). Un mecanismo está equilibrado presupuestariamente si no hay flujo de dinero hacia adentro o hacia afuera del sistema en general (ex post), o en expectativa sobre los informes de tipo (ex ante). Un mecanismo es eficiente si (siempre) produce la asignación eficiente de riqueza a organizaciones benéficas. Teorema 7. Supongamos que las preferencias de todos los agentes son cuasilineales. Además, supongamos que existe un mecanismo de caridad único M que, para una cierta subclase P de preferencias (cuasilineales), bajo un concepto de solución dado S (implementación en estrategias dominantes o equilibrio de Bayes-Nash) y una noción dada de racionalidad individual R (ex post, ex interim, o ninguna), satisface una cierta noción de equilibrio presupuestario (ex post, ex ante, o ninguna), y es eficiente ex post. Entonces existe un mecanismo para cualquier cantidad de organizaciones benéficas. Dos mecanismos que satisfacen eficiencia (y de hecho pueden aplicarse directamente al problema de múltiples organizaciones benéficas sin necesidad de utilizar el teorema anterior) son los mecanismos VCG (que son compatibles con incentivos en estrategias dominantes) y dAGVA (que son compatibles con incentivos solo en equilibrio de Bayes-Nash). Cada uno de ellos, sin embargo, tiene un inconveniente que probablemente lo haría poco práctico en el contexto de donaciones a organizaciones benéficas. El mecanismo VCG no está equilibrado presupuestariamente. El mecanismo dAGVA no satisface la racionalidad individual ex post. En la siguiente subsección, investigaremos si podemos mejorar en el ámbito de las donaciones a organizaciones benéficas. 10.3 Imposibilidad de eficiencia En esta subsección, demostramos que incluso en un entorno muy restringido, y con requisitos mínimos en las restricciones de CI e IR, es imposible crear un mecanismo que sea eficiente. Teorema 8. No existe un mecanismo que sea ex post equilibrado presupuestariamente, eficiente ex post e individualmente racional ex interim con el equilibrio de Bayes-Nash como concepto de solución (incluso con solo una organización benéfica, solo dos postores cuasilineales, con distribuciones de tipo idénticas (uniformes sobre dos tipos, con ambas funciones de utilidad siendo funciones escalonadas o ambas funciones de utilidad siendo funciones lineales por partes cóncavas)). El caso de las funciones escalonadas en este teorema corresponde exactamente al caso de un bien público único, de tamaño fijo y no excluible (siendo este bien público el monto deseado que recibe la organización benéfica), para el cual ya se conoce un resultado de imposibilidad [14]. Se conocen muchos resultados similares, probablemente el más famoso de los cuales es el resultado de imposibilidad de Myerson-Satterthwaite, que demuestra la imposibilidad de un comercio bilateral eficiente bajo los mismos requisitos [15]. El Teorema 7 indica que no hay razón para decidir sobre donaciones a múltiples organizaciones benéficas bajo un mecanismo único (en lugar de uno separado para cada organización benéfica), cuando existe un mecanismo eficiente con las propiedades deseadas para el caso de una sola organización benéfica. Sin embargo, debido a que bajo los requisitos del Teorema 8, no existe tal mecanismo, puede haber un beneficio en agrupar las organizaciones benéficas bajo el mismo paraguas. La siguiente proposición muestra que esto es cierto. Proposición 2. Existen configuraciones con dos organizaciones benéficas donde no existe un mecanismo ex post equilibrado en presupuesto, eficiente ex post y racional individualmente ex interim con equilibrio de Bayes-Nash como concepto de solución para cada organización benéfica por separado; pero existe un mecanismo ex post equilibrado en presupuesto, eficiente ex post y racional individualmente ex post con estrategias dominantes como concepto de solución para ambas organizaciones benéficas juntas. (Incluso cuando las condiciones son las mismas que en el Teorema 8, aparte del hecho de que ahora hay dos organizaciones benéficas.) 11. CONCLUSIÓN Introdujimos un lenguaje de subasta para expresar tipos muy generales de ofertas de emparejamiento sobre múltiples organizaciones benéficas. Formulamos el problema de compensación correspondiente (decidir cuánto paga cada postor y cuánto recibe cada organización benéfica) y demostramos que es NP-completo aproximar a cualquier proporción incluso en entornos muy restringidos. Proporcionamos una formulación de programa entero mixto del problema de compensación, y demostramos que para ofertas cóncavas (donde las funciones de utilidad y de disposición a pagar son cóncavas), el programa se reduce a un programa lineal y por lo tanto puede resolverse en tiempo polinómico. Luego demostramos que el problema de liquidación para una subclase de ofertas cóncavas es al menos tan difícil como la variante de decisión de la programación lineal, lo que sugiere que no podemos hacer mucho mejor que una implementación de programación lineal para tales ofertas. Posteriormente, demostramos que el problema de liquidación es mucho más fácil cuando las ofertas son cuasilineales (donde las funciones de disposición a pagar son lineales): para el excedente, el problema se descompone entre las organizaciones benéficas, y para la maximización del pago, un enfoque codicioso es óptimo si las ofertas son cóncavas (aunque este último problema es débilmente NP-completo cuando las ofertas no son cóncavas). Para el entorno cuasilineal, estudiamos la pregunta de diseño de mecanismos para lograr que los postores informen sus preferencias de manera veraz en lugar de estratégica. Demostramos que un mecanismo ex post eficiente es imposible incluso con solo una organización benéfica y una clase muy restringida de ofertas. También demostramos que aunque el problema de compensación se descompone entre las organizaciones benéficas en el entorno cuasilineal, puede haber beneficios al vincular las organizaciones benéficas desde el punto de vista del diseño de mecanismos. Hay muchas direcciones para investigaciones futuras. Uno consiste en construir una implementación basada en la web del mecanismo (de precio único) propuesto en este documento. Otra opción es estudiar la escalabilidad computacional de nuestro enfoque MIP/LP. También es importante identificar otras clases de ofertas (además de las cóncavas) para las cuales el problema de liquidación sea manejable. Queda mucho trabajo crucial por hacer en el problema de diseño de mecanismos. Finalmente, ¿existen buenos mecanismos iterativos para la donación caritativa? REFERENCIAS [1] K. Arrow. La doctrina de los derechos de propiedad y la revelación de la demanda bajo información incompleta. En M. Boskin, editor, Economía y bienestar humano. New York Academic Press, 1979. [2] L. M. Ausubel y P. Milgrom. Subastas ascendentes con ofertas de paquetes. Fronteras de la Economía Teórica, 1, 2002. No. 1, Artículo 1. [3] Y. Bartal, R. Gonen y N. Nisan. Subastas combinatorias multiunidad compatibles con incentivos. En Aspectos Teóricos de la Racionalidad y el Conocimiento (TARK IX), Bloomington, Indiana, EE. UU., 2003. [4] E. H. Clarke. Precios escalonados de bienes públicos. Elección Pública, 11:17-33, 1971. [5] V. Conitzer y T. Sandholm. Complejidad del diseño de mecanismos. En Actas de la 18ª Conferencia Anual sobre Incertidumbre en Inteligencia Artificial (UAI-02), páginas 103-110, Edmonton, Canadá, 2002. [6] C. d'Aspremont y L. A. Gérard-Varet. Incentivos e información incompleta. Revista de Economía Pública, 11:25-45, 1979. [7] M. R. Garey, D. S. Johnson y L. Stockmeyer. Algunos problemas de grafos NP-completos simplificados. Ciencia de la Computación Teórica, 1:237-267, 1976. [8] D. Goldburg y S. McElligott. Declaración de la Cruz Roja sobre ubicaciones oficiales de donación. 2001. Comunicado de prensa, http://www.redcross.org/press/disaster/ds pr/ 011017legitdonors.html. [9] R. Gonen y D. Lehmann. Soluciones óptimas para subastas combinatorias de múltiples unidades: heurísticas de ramificación y acotamiento. En Actas de la Conferencia de la ACM sobre Comercio Electrónico (ACM-EC), páginas 13-20, Minneapolis, MN, octubre de 2000. [10] T. Groves. Incentivos en equipos. Econometrica, 41:617-631, 1973. [11] L. Khachiyan. 

Econometrica, 41:617-631, 1973. [11] L. Khachiyan. Un algoritmo polinómico en programación lineal. Matemática soviética. Doklady, 20:191-194, 1979. [12] R. Lavi, A. MuAlem, y N. Nisan. Hacia una caracterización de subastas combinatorias veraces. En Actas del Simposio Anual sobre Fundamentos de la Ciencia de la Computación (FOCS), 2003. [13] D. Lehmann, L. I. OCallaghan y Y. Shoham. Revelación de la verdad en subastas combinatorias rápidas y aproximadamente eficientes. Revista de la ACM, 49(5):577-602, 2002. Una versión temprana apareció en ACMEC-99. Compare, por ejemplo, mecanismos iterativos en el contexto de subastas combinatorias [19, 25, 2]. [14] A. Mas-Colell, M. Whinston y J. R. Green. Teoría microeconómica. Oxford University Press, 1995. [15] R. Myerson y M. Satterthwaite. Mecanismos eficientes para el comercio bilateral. Revista de Teoría Económica, 28:265-281, 1983. [16] G. L. Nemhauser y L. A. Wolsey. Optimización entera y combinatoria. John Wiley & Sons, 1999. 

John Wiley & Sons, 1999. Sección 4, página 11. [17] N. Nisan. Subasta y asignación en subastas combinatorias. En Actas de la Conferencia ACM sobre Comercio Electrónico (ACM-EC), páginas 1-12, Minneapolis, MN, 2000. [18] N. Nisan y A. Ronen. Mecanismos VCG computacionalmente factibles. En Actas de la Conferencia ACM sobre Comercio Electrónico (ACM-EC), páginas 242-252, Minneapolis, MN, 2000. [19] D. C. Parkes. iBundle: Una subasta de paquetes de precios ascendentes eficiente. En Actas de la Conferencia de la ACM sobre Comercio Electrónico (ACM-EC), páginas 148-157, Denver, CO, noviembre de 1999. [20] M. H. Rothkopf, A. Pekeˇc y R. M. Harstad. Subastas combinatorias manejables computacionalmente. Ciencia de la Gestión, 44(8):1131-1147, 1998. [21] T. Sandholm. Algoritmo para la determinación óptima del ganador en subastas combinatorias. Inteligencia Artificial, 135:1-54, Ene. 2002. La versión de la conferencia apareció en la Conferencia Conjunta Internacional sobre Inteligencia Artificial (IJCAI), pp. 542-547, Estocolmo, Suecia, 1999. [22] T. Sandholm, S. Suri, A. Gilpin y D. Levine. CABOB: Un algoritmo óptimo rápido para subastas combinatorias. En Actas de la Decimoséptima Conferencia Internacional Conjunta de Inteligencia Artificial (IJCAI), páginas 1102-1108, Seattle, WA, 2001. [23] J. Tagliabue. Los Fondos Globales para el SIDA Reciben Atención, pero no Dinero. El New York Times, 1 de junio de 2003. Reimpreso en http://www.healthgap.org/comunicados de prensa/a03/ 060103 NYT HGAP G8 fund.html. [24] W. Vickrey. Contrarreforma, subastas y licitaciones selladas competitivas. Revista de Finanzas, 16:8-37, 1961. [25] P. R. Wurman y M. P. Wellman. AkBA: Una subasta combinatoria progresiva y de precio anónimo. En Actas de la Conferencia de la ACM sobre Comercio Electrónico (ACM-EC), páginas 21-29, Minneapolis, MN, octubre de 2000. [26] M. Yokoo. La caracterización de estrategias/protocolos de subasta combinatoria a prueba de nombres falsos: Protocolo orientado al precio y libre de racionamiento. En Actas de la Decimoctava Conferencia Internacional Conjunta sobre Inteligencia Artificial (IJCAI), Acapulco, México, Ago. 2003. 60