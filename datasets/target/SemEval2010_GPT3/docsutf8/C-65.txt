Localización de tiradores y clasificación de armas con sensores en red portátiles para soldados. Peter Volgyesi, Gyorgy Balogh, Andras Nadas, Christopher B. Nash, Akos Ledeczi Instituto de Sistemas Integrados de Software, Universidad de Vanderbilt Nashville, TN, EE. UU. akos.ledeczi@vanderbilt.edu RESUMEN El artículo presenta un sistema móvil contra francotiradores basado en una red de sensores inalámbricos. Un nodo sensor consta de un conjunto de micrófonos montados en un casco, un mote MICAz COTS para la comunicación entre nodos y una placa de sensores personalizada que implementa los algoritmos de detección acústica y estimación del Tiempo de Llegada (ToA) en un FPGA. Una brújula de 3 ejes proporciona auto-orientación y se utiliza Bluetooth para la comunicación con la PDA de los soldados que ejecuta la fusión de datos y la interfaz de usuario. El algoritmo de fusión de sensores heterogéneos puede trabajar con datos de un solo sensor o puede fusionar observaciones de ToA o Ángulo de Llegada (AoA) de explosiones de boca de fuego y ondas de choque balísticas de múltiples sensores. El sistema estima la trayectoria, el alcance, el calibre y el tipo de arma. El artículo presenta el diseño del sistema y los resultados de una evaluación independiente en el Centro de Pruebas del Ejército de los Estados Unidos en Aberdeen. El rendimiento del sistema se caracteriza por una precisión de trayectoria de 1 grado y una precisión de estimación de calibre de más del 95% para todos los disparos, y una precisión de estimación de arma cercana al 100% para 4 de las 6 armas probadas. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Comunicación de Computadoras]: Sistemas Distribuidos; J.7 [Computadoras en Otros Sistemas]: Términos Generales Militares: Diseño, Medición, Rendimiento 1. INTRODUCCIÓN La importancia de los sistemas contratiradores se destaca por la constante corriente de informes de noticias que provienen de Oriente Medio. En octubre de 2006, CNN informó sobre una nueva táctica empleada por insurgentes. Un equipo móvil de francotiradores se desplaza por las concurridas calles de la ciudad en un coche, se posiciona a una buena distancia de seguridad de los militares estadounidenses desmontados, realiza un único disparo bien apuntado y se funde de inmediato en el tráfico de la ciudad. Para cuando los soldados pueden reaccionar, ya se han ido. Un sistema contratirador que proporcione la ubicación del tirador casi de inmediato a cada soldado en las cercanías proporcionaría claros beneficios a los combatientes. Nuestro equipo introdujo PinPtr, el primer sistema de contratirador basado en redes de sensores [17, 8] en 2003. El sistema se basa en potencialmente cientos de nodos sensores económicos desplegados en el área de interés formando una red ad-hoc de múltiples saltos. Los sensores acústicos miden el Tiempo de Llegada (ToA) de las explosiones de boca y las ondas de choque balísticas, ondas de presión inducidas por el proyectil supersónico, envían los datos a una estación base donde un algoritmo de fusión de sensores determina el origen del disparo. PinPtr se caracteriza por su alta precisión: una precisión promedio de 1m en 3D para disparos que se originan dentro o cerca de la red de sensores y una precisión de 1 grado en el rumbo tanto en azimut como en elevación, y una precisión del 10% en la estimación de la distancia para disparos a larga distancia. La característica verdaderamente única del sistema es que funciona en entornos tan reverberantes como terrenos urbanos abarrotados y que puede resolver múltiples disparos simultáneos al mismo tiempo. Esta capacidad se debe a la amplia distribución de sensores y al enfoque único de fusión de sensores [8]. El sistema ha sido probado varias veces en instalaciones de MOUT (Operaciones Militares en Terreno Urbano) del Ejército de los Estados Unidos. La desventaja obvia de un sistema así es su naturaleza estática. Una vez que los sensores están distribuidos, cubren cierta área. Dependiendo de la operación, el despliegue puede ser necesario durante una hora o un mes, pero eventualmente el área pierde su importancia. No es práctico recoger y reutilizar los sensores, especialmente en condiciones de combate. Aunque los sensores sean baratos, sigue siendo un desperdicio y un problema logístico proporcionar un flujo continuo de sensores a medida que las operaciones se trasladan de un lugar a otro. Dado que principalmente son los soldados a quienes protege el sistema, una extensión natural es montar los sensores en los propios soldados. Si bien existen sistemas contratiradores montados en vehículos disponibles comercialmente, no tenemos conocimiento de un sistema desplegado que proteja a los soldados a pie. Un sistema montado en el casco fue desarrollado a mediados de los años 90 por BBN, pero no se continuó más allá del programa de Darpa que lo financió. Moverse de una solución basada en una red de sensores estáticos a una altamente móvil presenta desafíos significativos. Las posiciones y la orientación del sensor deben ser monitoreadas constantemente. Dado que los soldados pueden trabajar en grupos de tan solo cuatro personas, el número de sensores que miden los fenómenos acústicos puede ser un orden de magnitud menor que antes. Además, el sistema debería ser útil incluso para un solo soldado. Finalmente, se requirió la estimación del calibre y la clasificación de armas, además de la localización de la fuente. El artículo presenta el diseño y la evaluación de nuestro sistema móvil contra francotiradores portátil para soldados. Describe la arquitectura de hardware y software, incluyendo la placa de sensores personalizada equipada con un pequeño conjunto de micrófonos y conectada a un nodo MICAz COTS [12]. Se presta especial atención a la técnica de fusión de sensores que estima la trayectoria, alcance, calibre y tipo de arma simultáneamente. Los resultados y el análisis de una evaluación independiente del sistema en el Centro de Pruebas del Ejército de los Estados Unidos en Aberdeen también se presentan. 2. El disparo de un rifle militar típico, como el AK47 o M16, produce dos fenómenos acústicos distintos. La explosión del freno de boca se genera en la boca del arma y viaja a la velocidad del sonido. El proyectil supersónico genera una onda de choque acústica, una especie de explosión sónica. La frente de onda tiene una forma cónica, cuyo ángulo depende del número de Mach, la velocidad de la bala en relación con la velocidad del sonido. La onda de choque tiene una forma característica que se asemeja a la letra N mayúscula. El tiempo de subida tanto al inicio como al final de la señal es muy rápido, inferior a 1 μseg. La longitud está determinada por el calibre y la distancia de error, la distancia entre la trayectoria y el sensor. Normalmente son unos pocos cientos de μseg. Una vez que se tiene una estimación de la trayectoria, la longitud de la onda de choque se puede utilizar para estimar el calibre. Nuestro sistema se basa en cuatro micrófonos conectados a una placa de sensores. El tablero detecta ondas de choque y explosiones de boca y mide su tiempo de llegada. Si al menos tres canales acústicos detectan el mismo evento, también se calcula su AoA. Si tanto la onda de choque como el ángulo de ataque de la explosión del cañón están disponibles, una solución analítica simple proporciona la ubicación del tirador como se muestra en la Sección 6. Dado que los micrófonos están cerca uno del otro, típicamente de 2 a 4, no podemos esperar una precisión muy alta. Además, este método no estima una trayectoria. De hecho, un número infinito de pares de trayectoria y velocidad de bala satisfacen las observaciones. Sin embargo, las placas de sensores también están conectadas a los nodos MICAz COTS y comparten sus mediciones de AoA y ToA, así como su propia ubicación y orientación, entre sí utilizando un servicio de enrutamiento multihop [9]. Un algoritmo híbrido de fusión de sensores luego estima la trayectoria, el alcance, el calibre y el tipo de arma basándose en todas las observaciones disponibles. La placa de sensores también es compatible con Bluetooth para la comunicación con la PDA o la computadora portátil de los soldados. Una conexión USB por cable también está disponible. El algoritmo de fusión de sensores y la interfaz de usuario obtienen sus datos a través de uno de estos canales. La orientación del conjunto de micrófonos en el momento de la detección es proporcionada por una brújula digital de 3 ejes. Actualmente, el sistema asume que el PDA de los soldados tiene capacidad GPS y no proporciona un servicio de auto-localización por sí mismo. Sin embargo, la precisión del GPS es de unos pocos metros, degradando la precisión general del sistema. Consulte la Sección 7 para un análisis. La placa de sensores de última generación cuenta con un radio Texas Instruments CC-1000 que permite el enfoque de auto-localización interferométrica de alta precisión que hemos desarrollado por separado [7]. Sin embargo, dejamos la integración de las dos tecnologías para trabajos futuros. 3. HARDWARE Desde la primera versión estática de nuestro sistema en 2003, los nodos sensores se han construido sobre la línea de productos UC Berkeley/Crossbow MICA [11]. Aunque el procesamiento rudimentario de señales acústicas se puede realizar en estas placas basadas en microcontroladores, no proporcionan el rendimiento computacional requerido para la detección de ondas de choque y las mediciones del ángulo de llegada, donde múltiples señales de diferentes micrófonos deben ser procesadas en paralelo a una alta tasa de muestreo. Nuestra placa de sensores de tercera generación está diseñada para ser utilizada con los motes MICAz, de hecho, tiene casi el mismo tamaño que el mote en sí mismo (ver Figura 1). La placa utiliza un potente chip FPGA Xilinx XC3S1000 con varios núcleos IP periféricos estándar, múltiples núcleos de procesador suave y lógica personalizada para los detectores acústicos (Figura 2). Los módulos Flash integrados (4MB) y PSRAM (8MB) permiten almacenar muestras en bruto de varios eventos acústicos, que pueden utilizarse para construir bibliotecas de diferentes firmas acústicas y para refinar los núcleos de detección fuera de línea. Además, los bloques de memoria externa pueden almacenar el código del programa y los datos utilizados por los núcleos de procesador suave en la FPGA. La placa soporta cuatro canales analógicos independientes muestreados a una velocidad de hasta 1 MS/s (millón de muestras por segundo). Estos canales, que cuentan con un micrófono electret (Panasonic WM64PNT), amplificadores con ganancia controlable (30-60 dB) y un convertidor analógico-digital serie de 12 bits (Analog Devices AD7476), se encuentran en placas pequeñas separadas que están conectadas a la placa principal del sensor con cables de cinta. Esta partición permite el uso de canales de audio verdaderamente diferentes (por ejemplo: frecuencia de muestreo más lenta, ganancia o rango dinámico diferentes) y también resulta en mediciones menos ruidosas al evitar largas rutas de señal analógica. La plataforma del sensor ofrece un amplio conjunto de interfaces y puede integrarse con sistemas existentes de diversas formas. Un puerto RS232 y un enlace inalámbrico Bluetooth (BlueGiga WT12) con emulación de UART virtual están directamente disponibles en la placa y proporcionan medios simples para conectar el sensor a computadoras y PDAs. La interfaz mote consiste en un bus I2C junto con una línea de interrupción y GPIO (esta última se utiliza para la sincronización precisa del tiempo entre la placa y el mote). Los motes están equipados con transceptores de radio compatibles con IEEE 802.15.4 y admiten redes inalámbricas ad-hoc entre los nodos y hacia/desde la estación base. La placa de sensores también admite transferencias USB de alta velocidad (con dongles USB personalizados) para subir muestras de audio grabadas a la PC. La cadena JTAG integrada, accesible directamente a través de un conector dedicado, contiene la parte del FPGA y la memoria de configuración y proporciona facilidades de programación y depuración en el sistema. El módulo de brújula digital integrado Honeywell HMR3300 proporciona información de rumbo, inclinación y balance con una precisión de 1◦, lo cual es esencial para calcular y combinar estimaciones direccionales de los eventos detectados. Debido a los complejos requisitos de voltaje de la FPGA, la circuitería de suministro de energía se implementa en la placa del sensor y proporciona energía tanto localmente como al nodo. Utilizamos un paquete cuádruple de pilas recargables tipo AA como fuente de energía (aunque cualquier otra configuración viable que cumpla con los requisitos de voltaje es aceptable). Los voltajes del núcleo de la FPGA (1.2 V) y de entrada/salida (3.3 V) son generados por un regulador conmutado buck altamente eficiente. La configuración del FPGA (2.5 V) y una red de alimentación separada de 3.3 V son alimentadas por LDOs de baja corriente, este último se utiliza para proporcionar energía independiente al mote y a la radio Bluetooth. Los reguladores, excepto el último, pueden encenderse/apagarse desde el mote o a través de la radio Bluetooth (a través de las líneas GPIO) para ahorrar energía. El primer prototipo de nuestro sistema empleó 10 nodos sensores. Algunos de estos nodos fueron montados en cascos militares de kevlar con los micrófonos directamente unidos a la superficie a una separación de aproximadamente 20 cm, como se muestra en la Figura 3(a). El resto de los nodos fueron montados en cajas de plástico (Figura 3(b)) con los micrófonos colocados cerca de las esquinas de las cajas para formar rectángulos de aproximadamente 5 cm × 10 cm. 4. La aplicación del sensor se basa en tres subsistemas que explotan tres paradigmas informáticos diferentes, tal como se muestra en la Figura 4. Aunque cada uno de estos modelos de ejecución se adapta extremadamente bien a sus tareas específicas de dominio, esta diversidad presenta un desafío para el desarrollo de software e integración de sistemas. El subsistema de fusión de sensores y la interfaz de usuario se están ejecutando en PDAs y fueron implementados en Java. Las tareas de detección y procesamiento de señales son ejecutadas por un FPGA, que también actúa como puente entre varios canales de comunicación cableados e inalámbricos. La comunicación entre nodos ad-hoc, la sincronización de tiempo y el intercambio de datos son responsabilidades de un módulo de radio basado en microcontrolador. De igual manera, la aplicación emplea una amplia variedad de protocolos de comunicación como Bluetooth y enlaces inalámbricos IEEE 802.14.5, así como buses UARTs, I2C y/o USB opcionales. Dispositivo operado por soldados (PDA/Laptop) Placa de sensores FPGA Módulo de radio Mica Enlace inalámbrico de 2.4 GHz Enrutamiento de mensajes de control de radio Codificador de eventos acústicos Sincronización de tiempo de sensores. Sincronización de tiempo de red. Control remoto. Estampado de tiempo. Interrupciones. Interfaz de registro virtual. C O O R D I N A D O R A. Canales analógicos. Brújula. PicoBlaze. Comunicación. Interfaz PicoBlaze WT12 Radio Bluetooth MOTE IF:I2C, Interrupciones USB PSRAM U A R T U A R T MB det SW det REC Enlace Bluetooth Interfaz de Usuario Fusión de Sensores Motor de Localización GPS Mensaje (Des)Ensamblador de Sensores Control de Sensores Figura 4: Diagrama de arquitectura de software. El módulo de fusión de sensores recibe y desempaqueta las mediciones en bruto (marcas de tiempo y vectores de características) de la placa de sensores a través de la conexión Bluetooth. Además, ajusta finamente la ejecución de los núcleos de procesamiento de señales al establecer parámetros a través del mismo enlace. Ten en cuenta que las mediciones de otros nodos, junto con su información de ubicación y orientación, también llegan desde la placa de sensores, que actúa como una pasarela entre la PDA y la red de sensores. El dispositivo portátil obtiene sus propios datos de ubicación GPS y recibe directamente información de orientación a través de la placa del sensor. Los resultados de la fusión de sensores se muestran en la pantalla del PDA con baja latencia. Dado que la aplicación está implementada en Java puro, es portátil en diferentes plataformas de PDA. La frontera entre el software y el hardware está considerablemente difuminada en la placa del sensor. Los núcleos IP implementados en lenguajes de descripción de hardware (HDL) en la tela FPGA reconfigurable se asemejan estrechamente a bloques de construcción de hardware. Sin embargo, algunos de ellos, especialmente los núcleos de procesador suave, ejecutan programas de software reales. Las tareas principales del software de la placa del sensor son 1) adquirir muestras de datos de los canales analógicos, 2) procesar datos acústicos (detección) y 3) proporcionar acceso a los resultados y parámetros en tiempo de ejecución a través de diferentes interfaces. Como se muestra en la Figura 4, un archivo de registro virtual centralizado contiene la lógica de decodificación de direcciones, los registros para almacenar valores de parámetros y resultados, y los buses de datos punto a punto hacia y desde los periféricos. Por lo tanto, integra de manera efectiva los bloques de construcción dentro de la placa del sensor y desacopla las diversas interfaces de comunicación. Esta arquitectura nos permitió desplegar el mismo conjunto de sensores en un escenario centralizado, donde la red de motes ad-hoc (utilizando la interfaz I2C) recopilaba y enviaba los resultados a una estación base, o construir un sistema descentralizado donde las PDAs locales ejecutan la fusión de sensores en los datos obtenidos a través de la interfaz Bluetooth (y opcionalmente de otros sensores a través de la interfaz de mote). El mismo conjunto de registros también es accesible a través de un enlace UART con un programa de emulación de terminal. Además, debido a que las interfaces de bajo nivel están ocultas por el archivo de registros, uno puede fácilmente agregar/reemplazarlas con nuevas (por ejemplo: la primera generación de motas soportaba un bus de interfaz estándar μP en el conector del sensor, el cual fue eliminado en diseños posteriores). Los resultados más importantes son los sellos de tiempo de los eventos detectados. Estos sellos de tiempo y toda otra información de temporización (parámetros, características de eventos acústicos) se basan en un reloj de 1 MHz y un temporizador interno en la FPGA. La conversión de tiempo y sincronización entre la red de sensores y la placa es realizada por el mote al solicitar periódicamente la captura del valor actual del temporizador a través de una línea GPIO dedicada y leer el valor capturado del archivo de registro a través de la interfaz I2C. Basándose en las lecturas actuales y anteriores y los sellos de tiempo locales correspondientes del mote, este puede calcular y mantener el factor de escala y el desplazamiento entre los dos dominios de tiempo. La interfaz mote está implementada por el núcleo IP esclavo I2C y una capa de adaptación delgada que proporciona una abstracción de bus de datos y direcciones encima de él. El ancho de banda efectivo máximo es de 100 Kbps a través de esta interfaz. El FPGA también contiene varios núcleos UART: para comunicarse con el módulo Bluetooth integrado, para controlar la brújula digital y para proporcionar una conexión cableada RS232 a través de un conector dedicado. Los registros de control, estado y datos de los módulos UART están disponibles a través del archivo de registros. Los protocolos de nivel superior en estas líneas son implementados por núcleos de microcontrolador Xilinx PicoBlaze [13] y programas de software correspondientes. Uno de ellos proporciona una interfaz de línea de comandos para propósitos de prueba y depuración, mientras que el otro es responsable de analizar lecturas de brújula. Por defecto, están conectados al puerto RS232 y a la línea de la brújula digital integrada respectivamente, sin embargo, pueden ser cableados a cualquier interfaz de comunicación cambiando la dirección base del archivo de registro en los programas (por ejemplo, la interfaz de línea de comandos puede ser proporcionada a través del canal Bluetooth). Dos de las interfaces externas no son accesibles a través del archivo de registro: un enlace USB de alta velocidad y la interfaz SRAM están conectados al bloque del grabador. El módulo USB implementa un simple FIFO con líneas de datos paralelas conectadas a un controlador de dispositivo USB externo FT245R. El controlador de RAM implementa ciclos de lectura/escritura de datos con el tiempo correcto y está conectado a la pseudo SRAM integrada en la placa. Estas interfaces proporcionan un ancho de banda efectivo de 1 MB/s para descargar muestras de audio grabadas, por ejemplo. Las rutas de adquisición de datos y procesamiento de señales muestran una clara simetría: el mismo conjunto de núcleos IP se instancian cuatro veces (es decir, el número de canales acústicos) y se ejecutan de forma independiente. Las rutas de señal se encuentran justo antes del archivo de registros. Cada uno de los canales analógicos es controlado por un núcleo A/D serie para proporcionar un reloj serie de 20 MHz y desplazar muestras de datos de 8 bits a 1 MS/s, y un controlador de potenciómetro digital para ajustar la ganancia requerida. Cada canal tiene su propio detector de onda de choque y explosión de boca de fuego, los cuales se describen en la Sección 5. Los detectores obtienen los valores de los parámetros de tiempo de ejecución del archivo de registros y también almacenan sus resultados allí. El núcleo del coordinador monitorea constantemente los resultados de detección y genera una interrupción de mote de manera inmediata al completarse la detección total o después de un tiempo de espera razonable tras la detección parcial. El componente de grabación no se utiliza en la implementación final, sin embargo, es esencial para propósitos de desarrollo para refinar los valores de los parámetros para nuevos tipos de armas u otras fuentes acústicas. Este componente recibe las muestras de todos los canales y las almacena en búferes circulares en el dispositivo PSRAM. Si la amplitud de la señal en uno de los canales cruza un umbral predefinido, el componente grabador suspende la recolección de muestras con un retraso predefinido y descarga el contenido de los buffers a través del enlace USB. La longitud de estos búferes y retrasos, la tasa de muestreo, el nivel de umbral y el conjunto de canales grabados pueden ser (re)configurados en tiempo de ejecución a través del archivo de registros. Ten en cuenta que el núcleo opera de forma independiente de los otros módulos de procesamiento de señales, por lo tanto, se puede utilizar para validar los resultados de detección fuera de línea. Los núcleos de FPGA están implementados en VHDL, los programas de PicoBlaze se escriben en ensamblador. La configuración completa ocupa el 40% de los recursos (slices) de la FPGA y la velocidad máxima del reloj es de 30 MHz, que es seguramente más alta que la velocidad utilizada con el dispositivo actual (20 MHz). Los nodos MICAz son responsables de distribuir los datos de medición a lo largo de la red, lo que mejora drásticamente los resultados de localización y clasificación en cada nodo. Además de una capa de radio (MAC) robusta, los motes requieren dos servicios de middleware esenciales para lograr este objetivo. Los mensajes deben ser propagados en la red ad-hoc multihop utilizando un servicio de enrutamiento. Integramos con éxito el Marco de Enrutamiento de Inundación Dirigida (DFRF) [9] en nuestra aplicación. Además de la agregación automática de mensajes y la gestión eficiente de búferes, la característica más única de DFRF es su arquitectura de plug-ins, que acepta políticas de enrutamiento personalizadas. Las políticas de enrutamiento son máquinas de estado que regulan cómo se almacenan, reenvían o descartan los mensajes recibidos. Los ejemplos de políticas incluyen enrutamiento de árbol de expansión, difusión, enrutamiento geográfico, etc. Diferentes políticas pueden ser utilizadas para diferentes mensajes simultáneamente, y la aplicación puede cambiar las políticas subyacentes en tiempo de ejecución (por ejemplo, debido al cambio del entorno de RF o presupuesto de energía). De hecho, alternamos varias veces entre una política de difusión simple pero lujosa y un enrutamiento de gradiente más eficiente en el campo. La correlación de las mediciones de ToA requiere una base de tiempo común y una sincronización precisa en la red de sensores. El protocolo de Sincronización de Tiempo Integrado en Enrutamiento (RITS) [15] se basa en marcas de tiempo muy precisas a nivel de MAC para incrustar el retraso acumulado que un mensaje de datos ha acumulado desde el momento de la detección en el propio mensaje. Es decir, en cada nodo mide el tiempo que el mensaje pasó allí y lo suma al número en la ranura de retraso de tiempo del mensaje, justo antes de que salga del nodo actual. Cada nodo receptor puede restar el retraso de su tiempo actual para obtener el tiempo de detección en su referencia horaria local. El servicio proporciona una conversión de tiempo muy precisa (con un error de unos pocos μs por salto), lo cual es más que adecuado para esta aplicación. Ten en cuenta que los motes también necesitan convertir las marcas de tiempo de la placa de sensores a la hora del mote, tal como se describe anteriormente. La aplicación mote está implementada en nesC [5] y se ejecuta sobre TinyOS [6]. Con sus 3 KB de RAM y requisito de espacio de programa de 28 KB (ROM), se adapta fácilmente a los motes MICAz. ALGORITMO DE DETECCIÓN Existen varias características de las ondas de choque acústico y explosiones de boca de fuego que distinguen sus algoritmos de detección y procesamiento de señales de las aplicaciones de audio regulares. Ambos eventos son transitorios por naturaleza y presentan estímulos muy intensos a los micrófonos. Esto se vuelve cada vez más problemático con los micrófonos electret de bajo costo diseñados para captar el habla o la música regular. Aunque el amortiguamiento mecánico de las membranas del micrófono puede mitigar el problema, este enfoque no está exento de efectos secundarios. Los algoritmos de detección deben ser lo suficientemente robustos para manejar distorsiones no lineales severas y oscilaciones transitorias. Dado que la firma de la explosión del cañón sigue de cerca la señal de la onda de choque y debido a posibles ráfagas de armas automáticas, es extremadamente importante ajustar los canales de audio y la lógica de detección lo antes posible después de un evento. Además, la estimación precisa del ángulo de llegada requiere una alta frecuencia de muestreo (en el rango de MHz) y una detección precisa de eventos. Además, la lógica de detección necesita procesar múltiples canales en paralelo (4 canales en nuestro hardware existente). Estos requisitos dictaron algoritmos simples y robustos tanto para la detección de la explosión de la boca del cañón como de la onda de choque. En lugar de utilizar detectores de energía mundanos, que podrían no ser capaces de distinguir los dos eventos diferentes, los detectores aplicados se esfuerzan por encontrar las características más importantes de las dos señales en el dominio del tiempo utilizando lógica de máquina de estados simples. Los detectores se implementan como núcleos IP independientes dentro de la FPGA, un par para cada canal. Los núcleos son configurables en tiempo de ejecución y proporcionan señales de eventos de detección con marcas de tiempo de alta precisión y vectores de características específicas del evento. Aunque los núcleos funcionan de forma independiente y en paralelo, un módulo de fusión local rudimentario los integra al apagar aquellos núcleos que no cumplieron con sus eventos después de un tiempo de espera razonable y al generar un único mensaje de detección hacia el mote. En este punto, el mote puede leer y reenviar los tiempos de detección y características, y es responsable de reiniciar los núcleos posteriormente. Las características más conspicuas de una onda de choque acústica (ver Figura 5(a)) son los bordes de subida pronunciados al principio y al final de la señal. Además, la longitud de la onda N es bastante predecible, tal como se describe en la Sección 6.5, y es relativamente corta (200-300 μs). El núcleo de detección de ondas de choque está buscando continuamente dos flancos ascendentes dentro de un intervalo dado. La máquina de estados del algoritmo se muestra en la Figura 5(b). Los parámetros de entrada son la pendiente mínima de los bordes (D, E) y los límites en la longitud de la onda (Lmin, Lmax). La única característica calculada por el núcleo es la longitud de la señal de la onda de choque observada. A diferencia de las ondas de choque, las firmas de explosión del cañón se caracterizan por un largo período inicial (1-5 ms) donde el primer semiperíodo es significativamente más corto que el segundo [4]. Debido a las limitaciones físicas de la circuitería analógica descrita al principio de esta sección, pueden aparecer oscilaciones irregulares y fallas dentro de esta ventana de tiempo más larga, como se puede ver claramente en la Figura 6(a). Por lo tanto, el verdadero desafío para el núcleo de detección de coincidencias es identificar adecuadamente los períodos de la primera y segunda mitad. La máquina de estados (Figura 6(b)) no trabaja directamente con las muestras en bruto, sino que es alimentada por un codificador de cruce por cero (ZC). Después de la activación inicial, el detector intenta recopilar aquellos segmentos de ZC que pertenecen al primer período (amplitud positiva) mientras descarta segmentos demasiado cortos (en nuestra terminología: basura), implementando efectivamente un filtro paso bajo rudimentario en el dominio de ZC. Después de encontrar un segmento negativo lo suficientemente largo, ejecuta la misma lógica de recolección para la segunda mitad del período. Si se descarta demasiada basura en las fases de recolección, el núcleo se reinicia para evitar la detección (falsa) de las mitades de períodos completamente diferentes separados por una oscilación rápida o ruido. Finalmente, si se cumplen las restricciones en la longitud total y en la proporción de longitud, el núcleo genera un evento de detección junto con la longitud real, la amplitud y la energía del período calculadas simultáneamente. El mecanismo de activación inicial se basa en dos umbrales de amplitud: uno estático (pero configurable) y otro calculado dinámicamente. El último es esencial para adaptar el sensor a diferentes entornos de ruido ambiental y para suspender temporalmente el detector de explosiones de boca después de un evento de onda de choque (las oscilaciones en la sección analógica o las reverberaciones en el recinto del sensor de lo contrario podrían desencadenar detecciones falsas de explosiones de boca). El nivel dinámico de ruido se estima mediante un filtro pasa bajos recursivo de un solo polo (corte @ 0.5 kHz) en el FPGA. 117 0 1000 2000 3000 4000 5000 6000 7000 8000 9000 10000 -1 -0.8 -0.6 -0.4 -0.2 0 0.2 0.4 0.6 0.8 1 Tiempo (µs) Amplitud Explosión de boca (M16) 1 2 3 4 5 len2 + len1 (a) INACTIVO 1 SEGUNDO ZC 3 ZC PENDIENTE 4 PRIMER ZC 2 ENCONTRADO 5 umbral de amplitud ZC positivo largo ZC negativo largo período completo válido basura máxima basura signo incorrecto recolección de basura primer período recolección de basura primer período basura (b) Figura 6: Firma de explosión de boca (a) producida por un rifle de asalto M16 y la lógica de detección correspondiente (b). Los núcleos de detección fueron originalmente implementados en Java y evaluados en señales pregrabadas debido a la ejecución de pruebas mucho más rápida y a instalaciones de depuración más convenientes. Más tarde, fueron trasladados a VHDL y sintetizados utilizando la suite de herramientas Xilinx ISE. La equivalencia funcional entre las dos implementaciones fue probada mediante bancos de pruebas VHDL y scripts de Python que proporcionaron una forma automatizada de poner en funcionamiento los núcleos de detección en el mismo conjunto de señales pregrabadas y comparar los resultados. 6. La fusión de sensores El algoritmo de fusión de sensores recibe mensajes de detección de la red de sensores y estima la trayectoria de la bala, la posición del tirador, el calibre del proyectil y el tipo de arma. El algoritmo consiste en tareas computacionales bien separadas detalladas a continuación: 1. Calcular la dirección de llegada de la explosión de la boca y la onda de choque para cada sensor individual (ver 6.1). 2. Calcular estimaciones de rango. Este algoritmo puede fusionar analíticamente un par de estimaciones de ángulo de ataque de onda de choque y explosión de boca de fuego. (ver 6.2). 3. Calcular una única trayectoria a partir de todas las mediciones de ondas de choque (ver 6.3). 4. Si la trayectoria está disponible, calcular el alcance (ver 6.4). De lo contrario, calcular primero la posición del tirador y luego la trayectoria basada en ella (ver 6.4). 5. Si la trayectoria está disponible, calcular el calibre (ver 6.5). 6. Si el calibre está disponible, calcular el tipo de arma (ver 6.6). Describimos cada paso en las siguientes secciones en detalle. 6.1 Dirección de llegada El primer paso de la fusión de sensores es calcular el ángulo de llegada del estampido y la onda de choque AoA-s para cada placa de sensor. Cada placa de sensores tiene cuatro micrófonos que miden los ToA-s. Dado que el espaciado de los micrófonos es órdenes de magnitud más pequeño que la distancia a la fuente de sonido, podemos aproximar la onda sonora que se acerca con un plano (suposición de campo lejano). Formalicemos primero el problema para 3 micrófonos. Que P1, P2 y P3 sean las posiciones de los micrófonos ordenadas por el tiempo de llegada t1 < t2 < t3. Primero aplicamos un paso de validación de geometría simple. La diferencia de tiempo medida entre dos micrófonos no puede ser mayor que el tiempo de propagación del sonido entre los dos micrófonos: |ti − tj| <= |Pi − Pj |/c + ε Donde c es la velocidad del sonido y ε es el error máximo de medición. Si esta condición no se cumple, las detecciones correspondientes son descartadas. Sea v(x, y, z) el vector normal de la dirección de llegada desconocida. También usamos r1(x1, y1, z1), el vector de P1 a P2 y r2(x2, y2, z2), el vector de P1 a P3. Consideremos la proyección de la dirección del movimiento del frente de onda (v) en r1 dividida por la velocidad del sonido (c). Esto nos da cuánto tiempo tarda el frente de onda en propagarse de P1 a P2: vr1 = c(t2 − t1) La misma relación se cumple para r2 y v: vr2 = c(t3 − t1) También sabemos que v es un vector normal: vv = 1 Pasar de vectores a coordenadas utilizando la definición del producto punto nos lleva a un sistema cuadrático: xx1 + yy1 + zz1 = c(t2 − t1) xx2 + yy2 + zz2 = c(t3 − t1) x2 + y2 + z2 = 1 Omitimos los pasos de la solución aquí, ya que son directos pero largos. Hay dos soluciones (si la fuente está en el plano P1P2P3, las dos soluciones coinciden). Utilizamos la cuarta medición de los micrófonos, si existe, para eliminar uno de ellos. De lo contrario, ambas soluciones se consideran para su procesamiento adicional. 6.2 Fusión de choque de boca u v 11, tP 22, tP tP, 2P′ Trayectoria de la bala Figura 7: Plano de sección de un disparo (en P) y dos sensores (en P1 y en P2). Un sensor detecta los estallidos de boca, el otro el tiempo y la dirección de llegada de las ondas de choque. Considera la situación en la Figura 7. Un disparo fue realizado desde P en el momento t. Tanto P como t son desconocidos. Tenemos una detección de la explosión de la boca del cañón y una detección de la onda de choque por dos sensores diferentes 118 con información de AoA y, por lo tanto, información de ToA disponible. La detección de la explosión del freno de boca se encuentra en la posición P1 con el tiempo t1 y el ángulo de ataque u. La detección de la onda de choque está en P2 con el tiempo t2 y el ángulo de ataque v. u y v son vectores normales. Se muestra a continuación que estas medidas son suficientes para calcular la posición del tirador (P). Que P2 sea el punto en la superficie extendida del cono de onda de choque donde PP2 es perpendicular a la superficie. Ten en cuenta que PP2 es paralelo a v. Dado que P2 está en la superficie del cono que alcanza a P2, un sensor en P2 detectaría el mismo tiempo de llegada de la onda de choque (t2). La superficie del cono se desplaza a la velocidad del sonido (c), por lo que podemos expresar P usando P2: P = P2 + cv(t2 − t). P también se puede expresar a partir de P1: P = P1 + cu(t1 − t) resultando en P1 + cu(t1 − t) = P2 + cv(t2 − t). P2P2 es perpendicular a v: (P2 − P2)v = 0, lo que da como resultado (P1 + cu(t1 − t) − cv(t2 − t) − P2)v = 0, que contiene solo una incógnita t. Se obtiene: t = (P1−P2)v c +uvt1−t2 uv−1. Desde aquí podemos calcular la posición más corta P. Consideremos el caso especial de un solo sensor donde P1 = P2 (un sensor detecta tanto la onda de choque como el ángulo de llegada de la explosión del cañón). En este caso: t = uvt1−t2 uv−1. Dado que u y v no se utilizan por separado, solo uv, la orientación absoluta del sensor puede ser arbitraria, aún obtenemos t que nos da el rango. Aquí asumimos que la onda de choque es un cono, lo cual solo es cierto para velocidades constantes del proyectil. En realidad, el ángulo del cono crece lentamente; la superficie se asemeja a la mitad de un balón de fútbol americano. La bala que se desacelera resulta en una diferencia de tiempo más pequeña entre las detecciones de la onda de choque y la explosión en la boca del cañón porque la generación de la onda de choque se ralentiza con la bala. Una diferencia de tiempo más pequeña resulta en un rango más pequeño, por lo que la fórmula anterior subestima el verdadero rango. Sin embargo, aún se puede utilizar con una función de corrección de desaceleración adecuada. Dejamos esto para trabajos futuros. 6.3 Estimación de trayectoria Danicki demostró que la trayectoria y la velocidad de la bala se pueden calcular analíticamente a partir de dos mediciones independientes de ondas de choque donde se miden tanto el ToA como el AoA [2]. El método se vuelve más sensible a los errores de medición a medida que las dos direcciones de onda de choque se acercan entre sí. En el caso especial en el que ambas direcciones sean iguales, la trayectoria no se puede calcular. En una aplicación del mundo real, los sensores suelen ser desplegados en un avión aproximadamente. En este caso, todos los sensores ubicados en un lado de la trayectoria miden casi el mismo ángulo de ataque de la onda de choque. Para evitar este problema de sensibilidad al error, consideramos pares de mediciones de ondas de choque solo si la diferencia en la dirección de llegada es mayor que un umbral específico. Tenemos múltiples sensores y un sensor puede reportar dos direcciones diferentes (cuando solo tres micrófonos detectan la onda de choque). Por lo tanto, típicamente tenemos varios candidatos de trayectoria, es decir, uno para cada par de AoA por encima del umbral. Aplicamos un método de filtrado de valores atípicos y promediado para fusionar la dirección de la onda de choque y la información de tiempo y obtener una única trayectoria. Supongamos que tenemos N mediciones individuales del ángulo de ataque de la onda de choque. Tomemos todos los pares posibles sin ordenar donde la diferencia de dirección esté por encima del umbral mencionado y calculemos la trayectoria para cada uno. Esto nos da como máximo N(N−1) 2 trayectorias. Una trayectoria está representada por un punto pi y el vector normal vi (donde i es el índice de la trayectoria). Definimos la distancia de dos trayectorias como el producto punto de sus vectores normales: D(i, j) = vivj Para cada trayectoria se define un conjunto de vecinos: N(i) := {j|D(i, j) < R} donde R es un parámetro de radio. El conjunto de vecinos más grande se considera el conjunto central C, todas las demás trayectorias son valores atípicos. El conjunto central se puede encontrar en tiempo O(N2). Las trayectorias en el conjunto central se promedian para obtener la trayectoria final. Puede suceder que no podamos formar ningún par de sensores debido al umbral de diferencia de dirección. Significa que todos los sensores están en el mismo lado de la trayectoria. En este caso, primero calculamos la posición del tirador (descrita en la siguiente sección) que fija p haciendo que v sea el único desconocido. Para encontrar v en este caso, utilizamos una búsqueda en una rejilla de alta resolución y minimizamos una función de error basada en las direcciones de las ondas de choque. Hemos realizado experimentos para utilizar la longitud de la onda de choque medida en la estimación de la trayectoria. Hay algunos resultados prometedores, pero necesita más investigación. 6.4 Estimación de la posición del tirador El algoritmo de estimación de la posición del tirador agrega la siguiente información heterogénea generada por pasos computacionales anteriores: 1. trayectoria, 2. tiempo de llegada del estampido del cañón en un sensor, 3. ángulo de llegada del estampido del cañón en un sensor, que efectivamente es una estimación de la dirección al tirador, y 4. estimación de la distancia en un sensor (cuando tanto la onda de choque como el ángulo de llegada del estampido del cañón están disponibles). Algunos sensores reportan solo el tiempo de llegada (ToA), algunos también tienen estimaciones de dirección y algunos también tienen estimaciones de rango, dependiendo del número de detecciones exitosas de la explosión y la onda de choque por parte del sensor. Para un ejemplo, consulte la Figura 8. Ten en cuenta que un sensor puede tener dos estimaciones diferentes de rumbo y alcance. 3 detecciones dan dos posibles ángulos de llegada para la explosión de la boca de fuego (es decir, rumbo) y/o la onda de choque. Además, la combinación de dos ángulos de ataque de onda de choque y explosión de boca de fuego diferentes puede resultar en dos rangos distintos. 119 11111 ,,,, rrvvt ′′ 22 ,vt 333 ,, vvt ′ 4t 5t 6t trayectoria de bala posición del tirador Figura 8: Ejemplo de datos de entrada heterogéneos para el algoritmo de estimación de la posición del tirador. Todos los sensores tienen mediciones de ToA (t1, t2, t3, t4, t5), un sensor tiene una única estimación de dirección (v2), un sensor tiene dos posibles direcciones (v3, v3) y un sensor tiene dos estimaciones de dirección y dos de rango (v1, v1, r1, r1). En un entorno de multipercusión, estas detecciones no solo contendrán ruido gaussiano, sino también posiblemente grandes errores debido a ecos. Se ha demostrado en nuestro trabajo anterior que un problema similar puede resolverse eficientemente con un algoritmo de búsqueda por bisección basado en aritmética de intervalos [8]. La idea básica es definir una función de consistencia discreta sobre el área de interés y subdividir el espacio en cajas tridimensionales. Para cualquier caja tridimensional dada, esta función proporciona el número de mediciones que respaldan la hipótesis de que el tirador estaba dentro de esa caja. La búsqueda comienza con una caja lo suficientemente grande como para contener toda el área de interés, luego se acerca dividiendo y evaluando cajas. La caja con la máxima consistencia se divide hasta alcanzar la precisión deseada. El retroceso es posible para evitar quedarse atascado en un máximo local. Este enfoque ha demostrado ser lo suficientemente rápido para el procesamiento en línea. Sin embargo, hay que tener en cuenta que cuando la trayectoria ya ha sido calculada en pasos anteriores, la búsqueda solo debe realizarse en la trayectoria, lo que la hace ser órdenes de magnitud más rápida. A continuación, describamos detalladamente cómo se calcula la función de consistencia. Consideremos B, una caja tridimensional, cuyo valor de consistencia nos gustaría calcular. Primero consideramos solo la información de ToA. Si un sensor tiene múltiples detecciones de ToA, utilizamos el promedio de esos tiempos, de modo que un sensor suministra como máximo una estimación de ToA. Para cada ToA, podemos calcular el tiempo correspondiente del disparo, ya que se asume que el origen está en la caja B. Dado que se trata de una caja y no de un punto único, esto nos proporciona un intervalo para el tiempo de disparo. El número máximo de intervalos de tiempo superpuestos nos da el valor de la función de consistencia para B. Para obtener una descripción detallada de la función de consistencia y el algoritmo de búsqueda, consulte [8]. Aquí extendemos el enfoque de la siguiente manera. Modificamos la función de consistencia basándonos en los datos de rumbo y alcance de los sensores individuales. Una estimación de orientación apoya a B si el segmento de línea que parte del sensor con la dirección medida intersecta la caja B. Un rango soporta a B, si la esfera con el radio del rango y el origen del sensor intersecta a B. En lugar de simplemente verificar si la posición especificada por los pares de rumbo-distancia correspondientes cae dentro de B, esto elimina el posible error de orientación de los sensores. El valor de la función de consistencia se incrementa en uno por cada estimación de dirección y rango que sea consistente con B. 6.5 Estimación de calibre Las características de la señal de onda de choque han sido estudiadas anteriormente por Whitham [20]. Mostró que el período de la onda de choque T está relacionado con el diámetro del proyectil d, la longitud l, la distancia perpendicular de error b desde la trayectoria de la bala hasta el sensor, el número de Mach M y la velocidad del sonido c. T = 1.82Mb1/4 c(M2−1)3/8 d l1/4 ≈ 1.82d c (Mb l )1/4 0 100 200 300 400 500 600 0 10 20 30 distancia de error (m)longitud de la onda de choque (microsegundos) .50 cal 5.56 mm 7.62 mm Figura 9: Relación entre la longitud de la onda de choque y la distancia de error. Cada punto de datos representa una placa de sensor después de una agregación de las mediciones individuales de los cuatro canales acústicos. Se han probado tres proyectiles de diferentes calibres (196 disparos, 10 sensores). Para ilustrar la relación entre la distancia de error y la longitud de la onda de choque, aquí utilizamos los 196 disparos con proyectiles de tres calibres diferentes disparados durante la evaluación. (Durante la evaluación utilizamos datos obtenidos previamente con unos pocos disparos de práctica por arma). 10 sensores (4 micrófonos por sensor) midieron la longitud de la onda de choque. Para cada sensor, consideramos válida la estimación de la longitud de la onda de choque si al menos tres de los cuatro micrófonos estuvieron de acuerdo en un valor con una variación de máximo 5 microsegundos. Este filtrado resulta en una tasa de informes del 86% por sensor y elimina los errores de medición grandes. Los datos experimentales se muestran en la Figura 9. La fórmula de Whitham sugiere que la longitud de la onda de choque para un calibre dado puede aproximarse con una función de potencia de la distancia errónea (con un exponente de 1/4). Las funciones de mejor ajuste en nuestros datos son: .50 cal: T = 237.75b0.2059 7.62 mm: T = 178.11b0.1996 5.56 mm: T = 144.39b0.1757 Para evaluar un disparo, tomamos el calibre cuya función de aproximación resulte en el menor error cuadrático medio de las lecturas del sensor filtradas. Este método tiene menos del 1% de error en la estimación del calibre cuando se dispone de una estimación precisa de la trayectoria. En otras palabras, la estimación del calibre solo funciona si se realizan suficientes detecciones de ondas de choque por el sistema para calcular una trayectoria. 120 6.6 Estimación de armas Analizamos todas las características de la señal medida para encontrar información específica de la arma. Lamentablemente, concluimos que la firma observada de la explosión del cañón no es lo suficientemente característica del arma para fines de clasificación. Las reflexiones de la explosión de alta energía del freno de boca tienen un impacto mucho mayor en la forma de la señal de la explosión del freno de boca que el arma en sí misma. Disparar la misma arma desde diferentes lugares causó diferencias más grandes en la señal registrada que disparar diferentes armas desde el mismo lugar. 0 100 200 300 400 500 600 700 800 900 0 100 200 300 400 rango (m) velocidad (m/s) AK-47 M240 Figura 10: Mediciones de desaceleración de balas de AK47 y M240. Ambas armas tienen el mismo calibre. Los datos se aproximan utilizando regresión lineal simple. 0 100 200 300 400 500 600 700 800 900 1000 0 50 100 150 200 250 300 350 rango (m) velocidad (m/s) M16 M249 M4 Figura 11: Mediciones de desaceleración de balas M16, M249 y M4. Todas las armas tienen el mismo calibre. Los datos se aproximan utilizando regresión lineal simple. Sin embargo, la velocidad medida del proyectil y su calibre mostraron una buena correlación con el tipo de arma. Esto se debe a que, para un tipo de arma y par de municiones dados, la velocidad inicial es casi constante. En las Figuras 10 y 11 podemos ver la relación entre el alcance y la velocidad de bala medida para diferentes calibres y armas. En el rango de velocidad supersónica, la desaceleración de la bala se puede aproximar con una función lineal. En el caso del calibre 7.62 mm, las dos armas probadas (AK47, M240) pueden ser claramente diferenciadas (Figura 10). Desafortunadamente, esto no es necesariamente cierto para el calibre 5.56 mm. El M16 con su mayor velocidad de boca aún puede ser bien clasificado, pero las armas M4 y M249 parecen prácticamente indistinguibles (Figura 11). Sin embargo, esto puede deberse en parte al número limitado de disparos de práctica que pudimos realizar antes de que comenzaran las pruebas reales. Más datos de entrenamiento pueden revelar una mejor separación entre las dos armas, ya que sus velocidades de boca publicadas difieren ligeramente. El sistema lleva a cabo la clasificación de armas de la siguiente manera. Una vez que se conoce la trayectoria, la velocidad se puede calcular para cada sensor basándose en la geometría de la onda de choque. Para evaluar un disparo, elegimos el tipo de arma cuya función de desaceleración resulta en el menor error cuadrático medio de los pares estimados de rango-velocidad para la clase de calibre estimada. 7. RESULTADOS Una evaluación independiente del sistema fue realizada por un equipo de NIST en el Centro de Pruebas del Ejército de los Estados Unidos en Aberdeen en abril de 2006 [19]. El experimento se llevó a cabo en un campo de tiro con edificios y paredes de madera simulados para soportar posiciones elevadas de tiradores y generar efectos de trayectorias múltiples. La Figura 12 muestra la interfaz de usuario con una fotografía aérea del sitio. Se desplegaron 10 nodos sensores en puntos relevados en un área de aproximadamente 30×30 m. Había cinco objetivos fijos detrás de la red de sensores. Varias posiciones de disparo se ubicaron en cada una de las líneas de tiro a 50, 100, 200 y 300 metros. Estas posiciones eran conocidas por los evaluadores, pero no por los operadores del sistema. Se utilizaron seis armas diferentes: AK47 y M240 disparando proyectiles de 7.62 mm, M16, M4 y M249 con munición de 5.56 mm y el M107 de calibre .50. Ten en cuenta que los sensores permanecieron estáticos durante la prueba. La razón principal de esto es que a nadie se le permite estar en la zona de tiro durante las pruebas con fuego real. Utilizar algún tipo de plataforma de control remoto habría sido demasiado complicado dada la limitada disponibilidad de tiempo para la prueba. Por lo tanto, el experimento no probó el aspecto de movilidad del sistema. Durante la prueba de un día, se realizaron 196 disparos. Los resultados se resumen en la Tabla 1. El sistema detectó todos los disparos exitosamente. Dado que una onda de choque balística es un fenómeno acústico único, hace que la detección sea muy robusta. No hubo falsos positivos para las ondas de choque, pero hubo un puñado de detecciones falsas de explosiones de boca de fuego debido a pruebas paralelas de artillería en un campo cercano. Tirador Local- Calibre Trayectoria Trayectoria Distancia No. Tabla 1: Resumen de resultados fusionando todas las observaciones de sensores disponibles. Todas las tomas fueron detectadas con éxito, por lo que la tasa de detección se omite. La tasa de localización significa el porcentaje de disparos cuya trayectoria el sensor de fusión pudo estimar. La tasa de precisión del calibre es relativa a los disparos localizados y no a todos los disparos, ya que la estimación del calibre requiere la trayectoria. El error de trayectoria se descompone en azimut en grados y la distancia real del tirador a la trayectoria. El error de distancia muestra la distancia entre la posición real del tirador y la posición estimada del tirador. Por lo tanto, incluye el error causado tanto por la trayectoria como por la estimación del alcance. Ten en cuenta que las medidas tradicionales de rumbo y alcance no son adecuadas para un sistema distribuido como el nuestro debido a la falta de un único punto de referencia. Figura 12: La interfaz de usuario del sistema mostrando la configuración experimental. Los 10 nodos sensores están etiquetados por su ID y marcados con círculos oscuros. Los objetivos son cuadrados negros marcados como T-1 a T-5. Las flechas largas y blancas señalan la posición del tirador estimada por cada sensor. Donde faltaba, el sensor correspondiente no tuvo suficientes detecciones para medir el AoA de la explosión del cañón, la onda de choque o ambas. La línea negra gruesa y el círculo grande indican la trayectoria estimada y la posición del tirador según lo estimado al fusionar todas las detecciones disponibles de la red. Este disparo desde la línea de los 100 metros en el blanco T-3 fue localizado casi perfectamente por la red de sensores. El calibre y el arma también fueron identificados correctamente. 6 de cada 10 nodos pudieron estimar la ubicación por sí solos. Su precisión de orientación está dentro de un grado, mientras que el alcance tiene un margen de error de menos del 10% en el peor de los casos. La tasa de localización caracteriza la capacidad del sistema para estimar con éxito la trayectoria de los disparos. Dado que la estimación del calibre y la clasificación de armas dependen de la trayectoria, los disparos no localizados tampoco son clasificados. Hubo 7 disparos de 196 que no fueron localizados. La razón de los tiros fallados es el problema de ambigüedad de trayectoria que ocurre cuando el proyectil pasa por un lado de todos los sensores. En este caso, dos trayectorias significativamente diferentes pueden generar el mismo conjunto de observaciones (ver [8] y también la Sección 6.3). En lugar de estimar cuál es más probable o mostrar ambas posibilidades, decidimos no proporcionar una trayectoria en absoluto. Es mejor no dar una respuesta que no sea una alarma de disparo que confundir al soldado. La precisión de la localización se desglosa en la precisión de la trayectoria y la precisión de la estimación de rango. El ángulo de la trayectoria estimada fue mejor que 1 grado, excepto para el rango de 300 m. Dado que el alcance no debería afectar la estimación de la trayectoria siempre y cuando el proyectil pase sobre la red, sospechamos que la ligera disminución en la precisión del ángulo para 300 m se debe a los disparos apresurados que presenciamos que los soldados realizaron cerca del final del día. Esto también se indica por otro dato: la distancia estimada de trayectoria desde los objetivos reales tiene un error promedio de 1.3 m para disparos de 300 m, 0.75 m para disparos de 200 m y 0.6 m para todos menos los disparos de 300 m. Dado que la distancia entre los objetivos y la red de sensores estaba fija, este número no debería mostrar una mejora de 2× solo porque el tirador está más cerca. Dado que el ángulo de la trayectoria en sí no caracteriza el error general, también puede haber una traducción. La Tabla 1 también proporciona la distancia del tirador desde la trayectoria estimada. Estos indican un error que es aproximadamente del 1-2% del rango. Para poner esto en perspectiva, es muy probable que una estimación de trayectoria para un disparo de 100 m pase por o muy cerca de la ventana en la que se encuentra el tirador. Una vez más, creemos que los errores desproporcionadamente mayores a 300 m se deben a errores humanos en la puntería. Dado que la verdad de referencia se obtuvo al conocer la ubicación precisa del tirador y del objetivo, cualquier inexactitud en la trayectoria real se suma directamente al error percibido del sistema. Llamamos estimación de la posición del tirador en la estimación del alcance de la trayectoria calculada debido a la falta de un término mejor. Las estimaciones de alcance son más precisas que el 5% a 50 m y el 10% a 100 m. Sin embargo, esto empeora a un 20% o más para distancias más largas. No teníamos una instalación para probar el sistema antes de la evaluación para rangos superiores a 100 m. Durante la evaluación, nos encontramos con el problema de confundir los ecos de ondas de choque con los disparos de la boca del cañón. Estos ecos llegaron a los sensores antes de la verdadera explosión del cañón solo para disparos a larga distancia, ya que el proyectil viaja 2-3 veces más rápido que la velocidad del sonido, por lo que el tiempo entre la onda de choque (y su posible eco de objetos cercanos) y la explosión del cañón aumenta con el aumento de las distancias. Esto resultó en subestimar el alcance, ya que el sistema medía tiempos más cortos que los reales. Desde la evaluación, ajustamos el algoritmo de detección de explosiones de boca para evitar este problema. Distancia M16 AK47 M240 M107 M4 M249 M4-M249 50m 100% 100% 100% 100% 11% 25% 94% 100m 100% 100% 100% 100% 22% 33% 100% 200m 100% 100% 100% 100% 50% 22% 100% 300m 67% 100% 83% 100% 33% 0% 57% Todos 96% 100% 97% 100% 23% 23% 93% Tabla 2: Resultados de clasificación de armas. Los porcentajes son relativos al número de disparos localizados y no a todos los disparos, ya que el algoritmo de clasificación necesita conocer la trayectoria y el alcance. Ten en cuenta que la diferencia es pequeña; se localizaron 189 disparos de un total de 196. Las tasas de precisión de estimación del calibre y del arma se basan en los 189 disparos que fueron localizados con éxito. Se debe tener en cuenta que hubo un único disparo que fue clasificado erróneamente por el estimador de calibre. La precisión general de clasificación de armas del 73% no parece impresionante. Pero si lo desglosamos en las seis armas diferentes probadas, la imagen cambia drásticamente como se muestra en la Tabla 2. Para cuatro de las armas (AK14, M16, M240 y M107), la tasa de clasificación es casi del 100%. Solo hubo dos tiros de aproximadamente 140 que fallaron. El M4 y el M249 resultaron ser demasiado similares y la mayoría de las veces se confundían entre sí. Una posible explicación es que solo tuvimos un número limitado de disparos de prueba tomados con estas armas justo antes de la evaluación y utilizamos la función de aproximación de desaceleración incorrecta. Cualquier error similar a este fue cometido 122 veces, ya que si simplemente usáramos lo opuesto a la respuesta del sistema donde se indicaba que una de estas armas estaba presente, la precisión habría mejorado 3 veces. Si consideramos estas dos armas como una sola clase de arma, entonces la precisión de clasificación para ella es del 93%. Ten en cuenta que el AK47 y el M240 tienen el mismo calibre (7.62 mm), al igual que el M16, M4 y M249 (5.56 mm). Es decir, el sistema es capaz de diferenciar entre armas del mismo calibre. No tenemos conocimiento de ningún sistema que clasifique armas con tanta precisión. 7.1 Rendimiento de un solo sensor Como se mostró anteriormente, un solo sensor por sí solo es capaz de localizar al tirador si puede determinar tanto la explosión del cañón como el ángulo de llegada de la onda de choque, es decir, necesita medir el tiempo de llegada de ambos en al menos tres canales acústicos. Si bien la detección de ondas de choque es independiente del alcance, a menos que el proyectil se vuelva subsónico, la probabilidad de detectar la explosión del cañón más allá de 150 metros no es suficiente para obtener de manera consistente al menos tres por nodo sensor para la estimación del ángulo de llegada. Por lo tanto, solo evaluamos el rendimiento del sensor único para las 104 tomas que se tomaron desde 50 y 100 m. Tenga en cuenta que utilizamos los mismos datos de prueba que en la sección anterior, pero evaluamos individualmente para cada sensor. La Tabla 3 resume los resultados desglosados por los diez sensores utilizados. Dado que esto ya no es un sistema distribuido, los resultados se dan en relación a la posición del sensor dado, es decir, se proporciona una estimación de rumbo y alcance. Ten en cuenta que muchas de las fuentes comunes de error del sistema en red no tienen relevancia aquí. La sincronización de tiempo no es aplicable. La ubicación absoluta de los sensores es irrelevante (al igual que la ubicación relativa de varios sensores). La orientación de los sensores sigue siendo importante. Existen varias desventajas del caso del sensor único en comparación con el sistema en red: no hay redundancia para compensar otros errores y realizar el rechazo de valores atípicos, la tasa de localización es notablemente más baja, y un solo sensor por sí solo no es capaz de estimar el calibre o clasificar el arma. Sensor id 1 2 3 5 7 8 9 10 11 12 Loc. rate 44% 37% 53% 52% 19% 63% 51% 31% 23% 44% Bearing (deg) 0.80 1.25 0.60 0.85 1.02 0.92 0.73 0.71 1.28 1.44 Range (m) 3.2 6.1 4.4 4.7 4.6 4.6 4.1 5.2 4.8 8.2 Tabla 3: Precisión de un solo sensor para 108 disparos realizados desde 50 y 100 metros. La tasa de localización se refiere al porcentaje de disparos que el sensor dado pudo localizar por sí solo. Los valores de rumbo y alcance son errores promedio. Caracterizan la precisión de la localización desde la perspectiva de los sensores dados. Los datos indican que el rendimiento de los sensores varió significativamente, especialmente considerando la tasa de localización. Un factor a considerar es la ubicación del sensor dado, incluyendo qué tan lejos estaba de las líneas de disparo y qué tan obstruida estaba su vista. Además, los sensores eran prototipos construidos a mano que no utilizaban ni de cerca empaques/montajes de calidad de producción. A la luz de estos factores, el error promedio general de orientación de 0.9 grados y el error de alcance de 5 m con un espaciado de micrófono de menos de 10 cm son excelentes. Creemos que la fabricación profesional y mejores micrófonos podrían lograr fácilmente un mejor rendimiento que el mejor sensor en nuestro experimento (>60% de tasa de localización y un error de rango de 3 m). Curiosamente, el mayor error en el rango fue de enormes 90 m, claramente debido a alguna detección errónea, sin embargo, el mayor error en la dirección fue de menos de 12 grados, lo cual sigue siendo una buena indicación para el soldado de hacia dónde mirar. La tasa de localización general de todos los sensores individuales fue del 42%, mientras que para disparos de 50 m solamente, esto aumentó al 61%. Se debe tener en cuenta que el campo de tiro fue preparado para simular en cierta medida un área urbana: había algunas estructuras de madera de uno y dos pisos construidas tanto dentro como alrededor del área de despliegue de sensores y las líneas de tiro. Por lo tanto, no todos los sensores tenían línea de visión a todas las posiciones de disparo. Estimamos que en promedio el 10% de los sensores tenían la vista obstruida hacia el tirador. Por lo tanto, podemos afirmar que un sensor dado tenía aproximadamente un 50% de probabilidad de localizar un disparo dentro de 130 m. (Dado que el área de despliegue del sensor era de 30 m de profundidad, los disparos de 100 m corresponden a distancias reales entre 100 y 130 m). Nuevamente, enfatizamos que la localización requiere al menos tres detecciones de explosión de boca de fuego y tres de onda de choque de un posible total de cuatro para cada sensor. La tasa de detección para sensores individuales, correspondiente a al menos una detección de onda de choque por sensor, fue prácticamente del 100%. 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100% 0 1 2 3 4 5 6 7 8 9 10 número de sensores porcentaje de disparos Figura 13: Histograma que muestra qué fracción de los 104 disparos tomados desde 50 y 100 metros fueron localizados por al menos cuántos sensores individuales solamente. El 13% de los disparos no fueron detectados por ningún sensor, es decir, ninguno de ellos tuvo detecciones tanto de la explosión del cañón como de la onda de choque. Cabe destacar que casi todos estos disparos fueron localizados con precisión por el sistema en red, es decir, la fusión de sensores utilizando todas las observaciones disponibles en la red de sensores. Sería engañoso interpretar estos resultados como si el sistema estuviera perdiendo la mitad de los disparos. Dado que los soldados nunca trabajan solos y el nodo sensor es relativamente económico para equipar a cada soldado con uno, también necesitamos analizar las tasas de detección globales para cada disparo. La Figura 13 muestra el histograma del porcentaje de disparos vs. el número de sensores individuales que lo localizaron. El 13% de los disparos no fueron localizados por ningún sensor por sí solo, pero el 87% fue localizado por al menos un sensor de diez. 7.2 Fuentes de error En esta sección, analizamos las fuentes de error más significativas que afectan el rendimiento del sistema de localización de tiradores en red y clasificación de armas. Para correlacionar las observaciones distribuidas de los eventos acústicos, los nodos necesitan tener una referencia común de tiempo y espacio. Por lo tanto, los errores en la sincronización del tiempo, la localización de nodos y la orientación de nodos degradan la precisión general del sistema. Nuestro enfoque de sincronización del tiempo produce errores significativamente inferiores a 100 microsegundos. Dado que el sonido viaja aproximadamente 3 cm en ese tiempo, los errores de sincronización temporal tienen un efecto insignificante en el sistema. Por otro lado, la ubicación y orientación del nodo pueden tener un efecto directo en el rendimiento general del sistema. Observa que para analizar esto, no tenemos que recurrir a la simulación, en su lugar podemos utilizar los datos reales de prueba recopilados en Aberdeen. Pero en lugar de utilizar las ubicaciones reales de los sensores conocidas con gran precisión y las orientaciones de los nodos medidas y calibradas casi perfectamente, podemos agregar términos de error a ellas y ejecutar la fusión de sensores. Esto replica exactamente cómo el sistema habría funcionado durante la prueba utilizando las ubicaciones y orientaciones imprecisamente conocidas. Otro aspecto del rendimiento del sistema que se puede evaluar de esta manera es el efecto del número de sensores disponibles. En lugar de utilizar los diez sensores en la fusión de datos, podemos elegir cualquier subconjunto de los nodos para ver cómo disminuye la precisión a medida que reducimos el número de nodos. El siguiente experimento fue llevado a cabo. El número de sensores varió de 2 a 10 en incrementos de 2. Cada ejecución seleccionó los sensores al azar utilizando una distribución uniforme. En cada ejecución, cada nodo fue movido aleatoriamente a una nueva ubicación dentro de un círculo alrededor de su posición real, con un radio determinado por una distribución gaussiana de media cero. Finalmente, las orientaciones de los nodos fueron perturbadas utilizando una distribución gaussiana con media cero. Cada combinación de parámetros se generó 100 veces y se utilizó para los 196 disparos. Los resultados se resumen en la Figura 14. Hay un gráfico de barras en 3D para cada uno de los conjuntos de experimentos con el número fijo de sensores dado. El eje x muestra el error de ubicación del nodo, es decir, la desviación estándar de la distribución gaussiana correspondiente que varió entre 0 y 6 metros. El eje y muestra la desviación estándar del error de orientación del nodo que varió entre 0 y 6 grados. El eje z es el error de azimut de la trayectoria resultante. Se observó que los ángulos de elevación presentaron errores algo mayores que los de azimut. Dado que todos los sensores estaban aproximadamente en un plano horizontal y solo unas pocas posiciones de tirador estaban fuera del mismo plano y solo por unos 2 m, la prueba no fue suficiente para evaluar este aspecto del sistema. Se pueden hacer muchas observaciones interesantes al analizar estos gráficos. Los errores de ubicación del nodo en este rango tienen un efecto pequeño en la precisión. Los errores de orientación de los nodos, por otro lado, degradan notablemente el rendimiento. Aún así, los errores más grandes en este experimento de 3.5 grados para 6 sensores y 5 grados para 2 sensores siguen siendo muy buenos. Ten en cuenta que a medida que aumentan los errores de ubicación y orientación y disminuye el número de sensores, la métrica de rendimiento más afectada de manera significativa es la tasa de localización. Consulta la Tabla 4 para un resumen. La localización exitosa disminuye de casi el 100% a un 50% cuando pasamos de 10 sensores a 2, incluso sin errores adicionales. Esto es causado principalmente por la geometría: para una localización exitosa, la bala necesita pasar sobre la red de sensores, es decir, al menos un sensor debe estar en el lado de la trayectoria distinto al resto de los nodos. (Esta es una simplificación con fines ilustrativos). Si todos los sensores y la trayectoria no son coplanares, la localización puede ser exitosa incluso si el proyectil pasa por un lado de la red. Ver la Sección 6.3. A medida que disminuyeron los números de sensores en el experimento al seleccionar aleatoriamente un subconjunto, la probabilidad de que las trayectorias cumplieran con esta regla disminuyó. Esto también significa que incluso si hay 0 2 4 6 0 2 4 6 0 1 2 3 4 5 6 errores de azimut (grados) error de posición (m) error de orientación (grados) 2 sensores 0 2 4 6 0 2 4 6 0 1 2 3 4 5 6 errores de azimut (grados) error de posición (m) error de orientación (grados) 4 sensores 0 2 4 6 0 2 4 6 0 1 2 3 4 5 6 errores de azimut (grados) error de posición (m) error de orientación (grados) 6 sensores 0 2 4 6 0 2 4 6 0 1 2 3 4 5 6 errores de azimut (grados) error de posición (m) error de orientación (grados) 8 sensores Figura 14: El efecto de los errores de localización y orientación del nodo en la precisión del azimut con 2, 4, 6 y 8 nodos. Ten en cuenta que el gráfico para 10 nodos es casi idéntico al caso de 8 nodos, por lo tanto, se omite. Si hay demasiados sensores (es decir, soldados), pero todos están uno al lado del otro, la tasa de localización se verá afectada. Sin embargo, cuando la fusión de sensores proporciona un resultado, sigue siendo preciso incluso con pocos sensores disponibles y errores individuales relativamente grandes. Unas pocas observaciones consistentes llevan a una buena precisión, ya que las inconsistentes son descartadas por el algoritmo. Esto también se ve respaldado por la observación de que, para los casos con un mayor número de sensores (8 o 10), la tasa de localización apenas se ve afectada incluso por errores grandes. Errores/Sensores 2 4 6 8 10 0 m, 0 grados 54% 87% 94% 95% 96% 2 m, 2 grados 53% 80% 91% 96% 96% 6 m, 0 grados 43% 79% 88% 94% 94% 0 m, 6 grados 44% 78% 90% 93% 94% 6 m, 6 grados 41% 73% 85% 89% 92% Tabla 4: Tasa de localización en función del número de sensores utilizados, los errores de ubicación y orientación del nodo sensor. Una de las observaciones más significativas en la Figura 14 y la Tabla 4 es que apenas hay diferencia en los datos para 6, 8 y 10 sensores. Esto significa que hay poco beneficio en agregar más nodos más allá de 6 sensores en cuanto a la precisión se refiere. La velocidad del sonido depende de la temperatura ambiente. El prototipo actual considera constante lo que normalmente se establece antes de una prueba. Sería sencillo emplear un sensor de temperatura para actualizar periódicamente el valor de la velocidad del sonido durante la operación. Tenga en cuenta también que el viento puede afectar negativamente la precisión del sistema. La fusión de sensores, sin embargo, podría incorporar la velocidad del viento en sus cálculos. Sería más complicado que la compensación de temperatura, pero se podría hacer. Otros problemas prácticos también deben ser considerados antes de implementar en el mundo real. Los silenciadores reducen la energía de la explosión en la boca del cañón y, por lo tanto, el alcance efectivo en el que el sistema puede detectarla. Sin embargo, los silenciadores no afectan la onda de choque y el sistema seguiría detectando con precisión la trayectoria y el calibre. El alcance y el tipo de arma no se pudieron estimar sin detectar la explosión en la boca del cañón. Las armas subsónicas no producen una onda de choque. Sin embargo, esto no es de gran importancia, ya que tienen un alcance más corto, menor precisión y mucha menos letalidad. Por lo tanto, su uso no es generalizado y representan menos peligro en cualquier caso. Otro problema es el tipo de munición utilizada. Los ejércitos irregulares pueden usar balas de calidad inferior, incluso fabricadas a mano. Esto afecta la velocidad inicial del proyectil del arma. Para que la clasificación de armas funcione con precisión, el sistema debería ser calibrado con la munición típica utilizada por el adversario dado. TRABAJO RELACIONADO La detección y reconocimiento acústico ha sido objeto de investigación desde principios de los años cincuenta. La zona tiene una estrecha relevancia con el tema de la mecánica del flujo supersónico [20]. Fansler analizó las complejas ondas de presión de campo cercano que ocurren dentro de un pie de la explosión del cañón. El trabajo de Fansler proporciona una buena idea de la onda de presión ideal del estallido del cañón sin contaminación de ecos o efectos de propagación [4]. Los experimentos con distancias mayores desde la boca del cañón fueron realizados por Stoughton [18]. Las mediciones de las ondas de choque balísticas utilizando transductores de presión calibrados en ubicaciones conocidas, velocidades de bala medidas y distancias de error de 355 metros para proyectiles de 5.56 mm y 7.62 mm fueron realizadas. Los resultados indican que la interacción con el suelo se convierte en un problema para distancias de error de 30 metros o más grandes. Otra área de investigación es el procesamiento de señales de la acústica de disparos. El enfoque se centra en la detección robusta y estimación de la longitud de ondas de choque acústicas de pequeño calibre y explosiones de boca de fuego. Posibles técnicas para clasificar señales como ondas de choque o explosiones de boca de fuego incluyen la Transformada de Fourier de tiempo corto (STFT), la distribución de Wigner-Ville pseudo suavizada (SPWVD) y una transformación discreta de wavelet (DWT). Los espectrogramas de tiempo-frecuencia conjunta (JTF) se utilizan para analizar la separación típica de los transitorios de la onda de choque y la explosión del cañón tanto en tiempo como en frecuencia. Mays concluye que la DWT es el mejor método para clasificar señales como ondas de choque o explosiones de boca de fuego porque funciona bien y es menos costoso de calcular que el SPWVD [10]. Los bordes de la onda de choque suelen estar bien definidos y la longitud de la onda de choque está directamente relacionada con las características de la bala. Un artículo de Sadler [14] compara dos métodos de detección de bordes de onda de choque: un detector simple basado en gradientes y un detector de ondaleta de múltiples escalas. También demuestra cómo la longitud de la onda de choque, determinada por los detectores de borde, puede ser utilizada junto con las ecuaciones de Whitham [20] para estimar el calibre de un proyectil. Ten en cuenta que el rendimiento computacional disponible en los nodos sensores, el ancho de banda inalámbrico limitado y los requisitos en tiempo real hacen que estos enfoques sean inviables en nuestra plataforma. Un tema relacionado es la investigación y desarrollo de sistemas experimentales y prototipos de localización de disparos. Los investigadores de BBN han desarrollado el sistema Bullet Ears [3], el cual tiene la capacidad de ser instalado en una posición fija o usado por soldados. El sistema fijo tiene matrices de micrófonos con forma de tetraedro con un espaciado de 1.5 metros. El sistema en general consiste en dos o tres de estos conjuntos espaciados de 20 a 100 metros entre sí. El sistema usado por los soldados cuenta con 12 micrófonos, así como una antena GPS y sensores de orientación montados en un casco. Hay una conexión de RF de baja velocidad desde el casco hasta el cuerpo de procesamiento. Se ha realizado una prueba extensa para medir el rendimiento de ambos tipos de sistemas. El rendimiento de los sistemas fijos fue una orden de magnitud mejor en los cálculos de ángulo, mientras que su rendimiento en alcance fue igualado. La precisión del ángulo del sistema fijo era predominantemente inferior a un grado, mientras que era de alrededor de cinco grados para el montado en el casco. La precisión del rango fue de alrededor del 5 por ciento para ambos sistemas. El problema con este y otros sistemas centralizados similares es la necesidad de que uno o un puñado de matrices de micrófonos estén a la vista del tirador. Una solución basada en redes de sensores tiene la ventaja de un amplio alcance de detección para una mejor cobertura, compensación de efectos de múltiples trayectorias y resolución de múltiples disparos simultáneos [8]. Esto es especialmente importante para operar en áreas urbanas con reverberación acústica. Ten en cuenta que el sistema actual montado en vehículos de BBN llamado BOOMERANG, una versión modificada de Bullet Ears, se utiliza actualmente en Iraq [1]. La empresa ShotSpotter se especializa en sistemas de aplicación de la ley que informan la ubicación de disparos a la policía en cuestión de segundos. El objetivo del sistema es significativamente diferente al de los sistemas militares. Shotspotter informa una precisión típica de 25 m, lo cual es más que suficiente para que la policía responda a 125. También están fabricando sistemas experimentales portátiles para soldados y montados en UAV para uso militar [16], pero no hay especificaciones ni resultados de evaluación disponibles públicamente. 9. CONCLUSIONES La principal contribución de este trabajo es doble. Primero, el rendimiento del sistema distribuido en red en general es excelente. Lo más destacado es la precisión de la trayectoria de un grado, la tasa de estimación de calibre correcta de más del 90% y la tasa de clasificación de armas cercana al 100% para 4 de las 6 armas probadas. El sistema demostró ser muy robusto al aumentar los errores de ubicación y orientación de los nodos y al disminuir el número de sensores disponibles hasta llegar a solo un par. El factor clave detrás de esto es la capacidad de los algoritmos de fusión de sensores para rechazar mediciones erróneas. También vale la pena mencionar que los resultados presentados aquí corresponden al primer y único test del sistema más allá de los 100 m y con seis armas diferentes. Creemos que con las lecciones aprendidas en la prueba, un experimento de campo consecutivo podría haber mostrado resultados significativamente mejorados, especialmente en la estimación de alcance más allá de los 100 m y la clasificación de armas para las dos armas restantes que se confundieron la mayoría de las veces durante la prueba. Segundo, el rendimiento del sistema cuando se utilizaba en modo independiente, es decir, cuando solo los sensores proporcionaban la localización, también fue muy bueno. Si bien la tasa de localización general del 42% por sensor para disparos de hasta 130 m podría mejorarse, la precisión del rumbo de menos de un grado y el error promedio de rango del 5% son notables utilizando los prototipos hechos a mano de los nodos de bajo costo. Se observó que el 87% de los disparos fueron localizados con éxito por al menos uno de los diez sensores utilizados en modo independiente. Creemos que la tecnología está suficientemente madura como para que una próxima revisión del sistema pueda ser comercial. Sin embargo, todavía sería necesario trabajar en aspectos importantes del sistema. Todavía no hemos abordado el manejo de energía. Un nodo actual funciona con 4 pilas AA durante aproximadamente 12 horas de operación continua. Una versión desplegable del nodo sensor debería estar en modo de reposo durante la operación normal y solo despertarse cuando ocurre un evento interesante. Un circuito de disparo analógico podría resolver este problema, sin embargo, el sistema se perdería el primer disparo. En cambio, los canales acústicos deberían ser muestreados y almacenados en un búfer circular. El resto del tablero podría apagarse. Cuando un disparador despierta la placa, los datos acústicos estarían disponibles de inmediato. Los experimentos con una placa de sensores de generación anterior indicaron que esto podría proporcionar un aumento de 10 veces en la vida útil de la batería. Otros problemas pendientes incluyen el empaquetado resistente a la intemperie y la robustez, así como la integración con la infraestructura militar actual. 10. REFERENCIAS [1] Sitio web de BBN Technologies. http://www.bbn.com. [2] E. Danicki. Localización acústica de francotiradores. Archivos de Acústica, 30(2):233-245, 2005. [3] G. L. Duckworth y col. Sistemas acústicos fijos y portátiles para la detección de francotiradores para las fuerzas del orden. En E. M. Carapezza y D. B. Ley, editores, Proc. SPIE Vol. 3577, p. 210-230, páginas 210-230, enero de 1999. [4] K. Fansler. Descripción de la explosión de la boca de fuego mediante modelos de escala modificados. Shock and Vibration, 5(1):1-12, 1998. [5] D. Gay, P. Levis, R. von Behren, M. Welsh, E. Brewer, and D. Culler.

Impacto y Vibración, 5(1):1-12, 1998. [5] D. Gay, P. Levis, R. von Behren, M. Welsh, E. Brewer y D. Culler. El lenguaje nesC: un enfoque holístico para sistemas embebidos en red. Actas del Diseño e Implementación de Lenguajes de Programación (PLDI), junio de 2003. [6] J. Hill, R. Szewczyk, A. Woo, S. Hollar, D. Culler y K. Pister. Direcciones de arquitectura del sistema para sensores en red. en Proc. de ASPLOS 2000, noviembre de 2000. [7] B. Kus´y, G. Balogh, P. V¨olgyesi, J. Sallai, A. N´adas, A. L´edeczi, M. Mar´oti y L. Meertens. Localización independiente de la densidad de nodos. Procesamiento de información en redes de sensores (IPSN 06) SPOTS Track, abril de 2006. [8] A. L´edeczi, A. N´adas, P. V¨olgyesi, G. Balogh, B. Kus´y, J. Sallai, G. Pap, S. D´ora, K. Moln´ar, M. Mar´oti y G. Simon. Sistema contratirador para la guerra urbana. ACM Transactions on Sensor Networks, 1(1):153-177, Nov. 2005. [9] M. Maróti. Marco de enrutamiento de inundaciones dirigidas para redes de sensores inalámbricos. En Actas de la 5ta Conferencia Internacional de Middleware ACM/IFIP/USENIX, páginas 99-114, Nueva York, NY, EE. UU., 2004. Springer-Verlag New York, Inc. [10] B. Mays. 

Springer-Verlag New York, Inc. [10] B. Mays. Clasificación de la onda de choque y la explosión de la boca del cañón mediante análisis conjunto de tiempo-frecuencia y wavelet. Informe técnico, Laboratorio de Investigación del Ejército, Adelphi MD 20783-1197, septiembre de 2001. [11] Plataformas de hardware de TinyOS. http://tinyos.net/scoop/special/hardware. [12] Módulo de radio Crossbow MICAz (MPR2400). http://www.xbow.com/Products/productsdetails.aspx?sid=101. [13] Recursos para usuarios de PicoBlaze. http://www.xilinx.com/ipcenter/processor_central/picoblaze/picoblaze_user_resources.htm. [14] B. M. Sadler, T. Pham y L. C. Sadler. Detección y estimación óptima basada en wavelets de onda de choque. Revista de la Sociedad Acústica de América, 104:955-963, agosto de 1998. [15] J. Sallai, B. Kus´y, A. L´edeczi y P. Dutta. Sobre la escalabilidad de la sincronización de tiempo integrada en enrutamiento. 3er Taller Europeo sobre Redes de Sensores Inalámbricos (EWSN 2006), febrero de 2006. [16] Sitio web de ShotSpotter. http://www.shotspotter.com/products/military.html. [17] G. Simon, M. Maróti, A. Lédeczi, G. Balogh, B. Kušy, A. Nádas, G. Pap, J. Sallai y K. Frampton. Sistema de contratirador basado en redes de sensores. En SenSys 04: Actas de la 2ª conferencia internacional sobre sistemas de sensores en red integrados, páginas 1-12, Nueva York, NY, EE. UU., 2004. ACM Press. [18] R. Stoughton. 

ACM Press. [18] R. Stoughton. Mediciones de ondas de choque balísticas de pequeño calibre en el aire. Revista de la Sociedad Acústica de América, 102:781-787, agosto de 1997. [19] B. A. Weiss, C. Schlenoff, M. Shneier y A. Virts. Evaluaciones de tecnología y métricas de rendimiento para sensores llevados por soldados para asistencia. En el taller de Métricas de Rendimiento para Sistemas Inteligentes, agosto de 2006. [20] G. Whitham. Patrón de flujo de un proyectil supersónico. Comunicaciones en matemáticas puras y aplicadas, 5(3):301, 1952. 126