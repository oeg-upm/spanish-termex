MSP: Posicionamiento Multi-secuencia de Nodos Sensores Inalámbricos∗ Ziguo Zhong Ciencias de la Computación e Ingeniería Universidad de Minnesota zhong@cs.umn.edu Tian He Ciencias de la Computación e Ingeniería Universidad de Minnesota tianhe@cs.umn.edu Resumen Las Redes de Sensores Inalámbricos han sido propuestas para su uso en muchas aplicaciones dependientes de la ubicación. La mayoría de estos necesitan identificar las ubicaciones de los nodos de sensores inalámbricos, una tarea desafiante debido a las severas restricciones en costos, energía y alcance efectivo de los dispositivos de sensores. Para superar las limitaciones en las soluciones existentes, presentamos un método de Posicionamiento de Multi-secuencia (MSP) para la localización de nodos sensores estacionarios a gran escala en entornos exteriores. La novedosa idea detrás de MSP es reconstruir y estimar información de ubicación bidimensional para cada nodo sensor al procesar múltiples secuencias de nodos unidimensionales, fácilmente obtenidas a través de una distribución de eventos ligeramente guiada. Partiendo de un diseño básico de MSP, proponemos cuatro optimizaciones que trabajan juntas para aumentar la precisión de la localización. Abordamos varios problemas interesantes, como secuencias de nodos incompletas (parciales) y cambio de secuencia, encontrados en el banco de pruebas Mirage que construimos. Hemos evaluado el sistema MSP a través de análisis teóricos, simulaciones extensas y dos sistemas físicos (una versión interior con 46 nodos MICAz y una versión exterior con 20 nodos MICAz). Esta evaluación demuestra que MSP puede lograr una precisión de hasta un pie, sin necesidad de hardware adicional costoso en los nodos sensores ni una distribución precisa de eventos. También ofrece un buen equilibrio entre el costo físico (anclas) y el costo suave (eventos), manteniendo al mismo tiempo la precisión de la localización. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Comunicaciones de Computadoras]: Sistemas Distribuidos Términos Generales Algoritmos, Medición, Diseño, Rendimiento, Experimentación 1 Introducción Aunque las Redes de Sensores Inalámbricos (WSN) han mostrado perspectivas prometedoras en diversas aplicaciones [5], los investigadores aún enfrentan varios desafíos para la implementación masiva de tales redes. Una de ellas es identificar la ubicación de nodos de sensores individuales en entornos exteriores. Debido a la dinámica impredecible del flujo en escenarios aéreos, actualmente no es factible localizar nodos sensores durante despliegues masivos basados en UVA. Por otro lado, la información geométrica es indispensable en estas redes, ya que los usuarios necesitan saber dónde ocurren eventos de interés (por ejemplo, la ubicación de intrusos o de una explosión de bomba). La investigación previa sobre la localización de nodos se divide en dos categorías: enfoques basados en rango y enfoques sin rango. Los enfoques basados en rangos [13, 17, 19, 24] calculan la información de ubicación por nodo de forma iterativa o recursiva basándose en distancias medidas entre nodos objetivo y algunos anclajes que conocen con precisión sus ubicaciones. Estos enfoques generalmente requieren hardware costoso (por ejemplo, GPS) y tienen un rango efectivo limitado debido a restricciones energéticas (por ejemplo, TDOA basado en ultrasonido [3, 17]). Aunque las soluciones basadas en alcance pueden ser adecuadas para su uso en entornos interiores a pequeña escala, se consideran menos rentables para implementaciones a gran escala. Por otro lado, los enfoques sin rango [4, 8, 10, 13, 14, 15] no requieren mediciones precisas de distancia, pero localizan el nodo en función de la información de conectividad de la red (proximidad). Desafortunadamente, dado que la conectividad inalámbrica está altamente influenciada por el entorno y la calibración del hardware, las soluciones existentes no logran ofrecer resultados empíricos alentadores, o requieren encuestas sustanciales [2] y calibración [24] caso por caso. Dándose cuenta de la impracticabilidad de las soluciones existentes para el entorno exterior a gran escala, investigadores han propuesto recientemente soluciones (por ejemplo, Spotlight [20] y Lighthouse [18]) para la localización de nodos sensores utilizando la correlación espacio-temporal de eventos controlados (es decir, inferir las ubicaciones de los nodos basándose en el tiempo de detección de eventos controlados). Estas soluciones demuestran que la localización de largo alcance y alta precisión se puede lograr simultáneamente con poco costo adicional en los nodos sensores. Estos beneficios, sin embargo, vienen acompañados de la suposición implícita de que los eventos controlados pueden ser distribuidos con precisión a una ubicación especificada en un momento especificado. Sostenemos que es difícil lograr una distribución precisa de eventos, especialmente a gran escala cuando el terreno es irregular, el dispositivo de distribución de eventos no está bien calibrado y su posición es difícil de mantener (por ejemplo, en el escenario montado en helicóptero en [20]). Para abordar estas limitaciones en los enfoques actuales, en este artículo presentamos un método de posicionamiento de múltiples secuencias (MSP) para la localización de nodos sensores estacionarios a gran escala, en despliegues donde una fuente de eventos tiene línea de visión con todos los sensores. La novedosa idea detrás de MSP es estimar la ubicación bidimensional de cada nodo sensor al procesar múltiples secuencias de nodos unidimensionales fáciles de obtener (por ejemplo, el orden de detección de eventos) obtenidas a través de una distribución de eventos ligeramente guiada. Este diseño ofrece varios beneficios. Primero, en comparación con un enfoque basado en rangos, MSP no requiere hardware adicional costoso. Funciona utilizando sensores típicamente utilizados en aplicaciones de redes de sensores, como sensores de luz y acústicos, ambos de los cuales consideramos específicamente en este trabajo. En segundo lugar, en comparación con un enfoque sin rango, MSP solo necesita un pequeño número de anclas (teóricamente, tan pocas como dos), por lo que se puede lograr una alta precisión de manera económica al introducir más eventos en lugar de más anclas. Y tercero, en comparación con Spotlight, MSP no requiere una distribución de eventos precisa y sofisticada, una ventaja que simplifica significativamente el diseño del sistema y reduce el costo de calibración. Este documento ofrece las siguientes contribuciones intelectuales adicionales: • Somos los primeros en localizar nodos sensores utilizando el concepto de secuencia de nodos, una lista ordenada de nodos sensores, clasificados por el tiempo de detección de un evento diseminado. Demostramos que aprovechar al máximo la información incrustada en secuencias de nodos unidimensionales puede mejorar significativamente la precisión de la localización. Interesantemente, descubrimos que el reprocesamiento repetido de secuencias de nodos unidimensionales puede aumentar aún más la precisión de la localización. • Proponemos una estrategia de estimación de ubicación basada en la distribución que obtiene la ubicación final de los nodos sensores utilizando la probabilidad marginal de la distribución conjunta entre nodos adyacentes dentro de la secuencia. Este nuevo algoritmo supera la ampliamente adoptada estimación del Centroide [4, 8]. • Hasta donde sabemos, este es el primer trabajo que mejora la precisión de localización de nodos mediante eventos adaptativos. La generación de eventos posteriores está guiada por los resultados de localización de eventos anteriores. • Evaluamos MSP basado en líneas en nuestra nueva plataforma de pruebas Mirage, y MSP basado en ondas en entornos exteriores. A través de la implementación del sistema, descubrimos y abordamos varios problemas interesantes como secuencias parciales y cambios de secuencia. Para revelar el rendimiento de MSP a gran escala, proporcionamos resultados analíticos, así como un estudio completo de simulación. Todo el código de simulación e implementación está disponible en línea en http://www.cs.umn.edu/∼zhong/MSP. El resto del documento está organizado de la siguiente manera. La sección 2 hace un breve repaso del trabajo relacionado. La sección 3 presenta una visión general del sistema de localización de MSP. En las secciones 4 y 5, se presentan el MSP básico y cuatro métodos avanzados de procesamiento. La sección 6 describe cómo se puede aplicar MSP en un escenario de propagación de ondas. La sección 7 discute varios problemas de implementación. La Sección 8 presenta los resultados de la simulación, y la Sección 9 informa de una evaluación de MSP en el banco de pruebas Mirage y en un banco de pruebas al aire libre. La sección 10 concluye el artículo. 2 Trabajos Relacionados Se han propuesto muchos métodos para localizar dispositivos de sensores inalámbricos al aire libre. La mayoría de estos pueden clasificarse en dos categorías: localización basada en rango y localización sin rango. Los sistemas de localización basados en rango, como GPS [23], Cricket [17], AHLoS [19], AOA [16], Robust Quadrilaterals [13] y Sweeps [7], se basan en la estimación de distancias punto a punto o estimación de ángulos de alta precisión para identificar la ubicación por nodo. Las limitaciones en el costo, la energía y el espacio físico del hardware de cada nodo sensor hacen que estos métodos basados en el rango sean poco deseables para implementaciones masivas en exteriores. Además, las señales de rango generadas por los nodos sensores tienen un alcance efectivo muy limitado debido a preocupaciones de energía y factor de forma. Por ejemplo, las señales de ultrasonido suelen propagarse de manera efectiva entre 20 y 30 pies utilizando un transmisor incorporado [17]. Por consiguiente, estas soluciones basadas en el rango requieren una densidad de implementación indeseablemente alta. Aunque los métodos relacionados con el indicador de fuerza de la señal recibida (RSSI) [2, 24] fueron considerados en algún momento una solución ideal de bajo costo, la irregularidad de la propagación de radio [26] limita seriamente la precisión de dichos sistemas. El sistema de localización RIPS recientemente propuesto [11] superpone dos ondas de radiofrecuencia juntas, creando una envolvente de baja frecuencia que puede ser medida con precisión. Esta técnica de medición funciona muy bien siempre y cuando las antenas estén bien orientadas y los factores ambientales como los efectos de multi-trayectoria y el ruido de fondo sean abordados adecuadamente. Los métodos sin rango no necesitan estimar ni medir distancias o ángulos precisos. En su lugar, se utilizan anclajes o distribuciones de eventos controlados para la localización de nodos. Los métodos sin rango pueden clasificarse generalmente en dos tipos: soluciones basadas en anclas y soluciones sin anclas. • Para soluciones basadas en anclas como Centroid [4], APIT [8], SeRLoc [10], Gradient [13] y APS [15], la idea principal es que la ubicación de cada nodo se estima en función de las ubicaciones conocidas de los nodos ancla. Diferentes combinaciones de anclaje reducen las áreas en las que los nodos objetivo pueden estar ubicados. Las soluciones basadas en anclajes normalmente requieren una alta densidad de nodos ancla para lograr una buena precisión. En la práctica, es deseable tener la menor cantidad posible de nodos ancla para reducir el costo del sistema. • Las soluciones sin anclas no requieren nodos ancla. En cambio, se utilizan generadores de eventos externos y plataformas de procesamiento de datos. La idea principal es correlacionar el tiempo de detección de eventos en un nodo sensor con la relación espacio-temporal conocida de eventos controlados en el generador, de modo que las marcas de tiempo de detección puedan ser mapeadas en las ubicaciones de los sensores. Spotlight [20] y Lighthouse [18] funcionan de esta manera. En Spotlight [20], la distribución de eventos debe ser precisa tanto en tiempo como en espacio. La distribución precisa de eventos es difícil de lograr sin una calibración cuidadosa, especialmente cuando los dispositivos generadores de eventos requieren ciertas maniobras mecánicas (por ejemplo, el montaje del telescopio utilizado en Spotlight). Todos estos aumentan el costo del sistema y reducen la velocidad de localización. StarDust [21], que funciona mucho más rápido, utiliza algoritmos de relajación de etiquetas para emparejar los puntos de luz reflejados por reflectores retroreflectantes de cubo de esquina (CCR) con nodos sensores utilizando varios restricciones. Los algoritmos de relajación de etiquetas convergen solo cuando se obtiene un número suficiente de restricciones robustas. Debido al impacto ambiental en las restricciones de conectividad de RF, sin embargo, StarDust es menos preciso que Spotlight. En este artículo, proponemos una solución equilibrada que evita las limitaciones tanto de las soluciones basadas en anclas como de las soluciones libres de anclas. A diferencia de las soluciones basadas en anclas [4, 8], MSP permite un equilibrio flexible entre el costo físico (nodos ancla) con el suave 16 1 A B 2 3 4 5 Nodo objetivoNodo ancla 1A 5 3 B2 4 1 B2 5A 43 1A25B4 3 1 52 AB 4 3 1 2 3 5 4 (b) (c)(d) (a) Evento 1 Secuencia de nodos generada por el evento 1 Evento 3 Secuencia de nodos generada por el evento 2 Secuencia de nodos generada por el evento 3 Secuencia de nodos generada por el evento 4 Evento 2 Evento 4 Figura 1. La descripción general del sistema MSP cuesta (eventos de localización). MSP utiliza solo un pequeño número de anclas (teóricamente, tan solo dos). A diferencia de las soluciones sin anclaje, MSP no necesita mantener relaciones rígidas de tiempo y espacio al distribuir eventos, lo que hace que el diseño del sistema sea más simple, flexible y robusto frente a errores de calibración. La descripción general del sistema MSP funciona extrayendo información de ubicación relativa de múltiples ordenamientos unidimensionales simples de nodos. La Figura 1(a) muestra un diseño de una red de sensores con nodos ancla y nodos objetivo. Los nodos objetivo se definen como los nodos a ser localizados. Breve, el sistema MSP funciona de la siguiente manera. Primero, los eventos se generan uno a la vez en el área de la red (por ejemplo, propagaciones de ultrasonido desde diferentes ubicaciones, escaneos láser con ángulos diversos). A medida que cada evento se propaga, como se muestra en la Figura 1(a), cada nodo lo detecta en algún momento particular. Para un solo evento, llamamos a la ordenación de nodos, que se basa en la detección secuencial del evento, una secuencia de nodos. Cada secuencia de nodo incluye tanto los objetivos como los anclajes, como se muestra en la Figura 1(b). Segundo, un algoritmo de procesamiento de múltiples secuencias ayuda a reducir la posible ubicación de cada nodo a un área pequeña (Figura 1(c)). Finalmente, un método de estimación basado en distribuciones estima la ubicación exacta de cada nodo sensor, como se muestra en la Figura 1(d). La Figura 1 muestra que las secuencias de nodos se pueden obtener de manera mucho más económica que las mediciones precisas de distancias par-a-par entre nodos objetivo y nodos de anclaje a través de métodos de alcance. Además, este sistema no requiere una relación rígida de tiempo y espacio para los eventos de localización, lo cual es crítico pero difícil de lograr en escenarios de distribución de eventos controlados (por ejemplo, Spotlight [20]). Para mayor claridad en la presentación, presentamos nuestro sistema en dos casos: • Caso Ideal, en el cual todas las secuencias de nodos obtenidas de la red son completas y correctas, y los nodos están sincronizados en el tiempo [12, 9]. • Implementación Realista, en la cual (i) las secuencias de nodos pueden ser parciales (incompletas), (ii) los elementos en las secuencias pueden invertirse (es decir, el orden obtenido está al revés de la realidad), y (iii) los nodos no están sincronizados en el tiempo. Para introducir el algoritmo MSP, primero consideramos un escenario simple de escaneo en línea recta. Luego, describimos cómo implementar escaneos en línea recta, así como otros tipos de eventos, como la propagación de ondas sonoras. 1 A 2 3 4 5 B C 6 7 8 9 Escaneo en línea recta 1 Escaneo en línea recta 2 8 1 5 A 6 C 4 3 7 2 B 9 3 1 C 5 9 2 A 4 6 B 7 8 Nodo objetivo Nodo ancla Figura 2. Obteniendo Múltiples Secuencias de Nodos 4 MSP Básico Consideremos una red de sensores con N nodos objetivo y M nodos ancla desplegados aleatoriamente en un área de tamaño S. La idea principal para el MSP básico es dividir toda el área de la red de sensores en pequeñas piezas mediante el procesamiento de secuencias de nodos. Dado que se conocen las ubicaciones exactas de todos los anclajes en una secuencia de nodos, todos los nodos en esta secuencia pueden dividirse en O(M +1) partes en el área. En la Figura 2, usamos círculos numerados para denotar nodos objetivo y hexágonos numerados para denotar nodos ancla. El MSP básico utiliza dos líneas rectas para escanear el área desde diferentes direcciones, tratando cada escaneo como un evento. Todos los nodos reaccionan al evento de forma secuencial generando dos secuencias de nodos. Para el escaneo vertical 1, la secuencia de nodos es (8,1,5,A,6,C,4,3,7,2,B,9), como se muestra fuera del límite derecho del área en la Figura 2; para el escaneo horizontal 2, la secuencia de nodos es (3,1,C,5,9,2,A,4,6,B,7,8), como se muestra debajo del límite inferior del área en la Figura 2. Dado que las ubicaciones de los nodos ancla están disponibles, los nodos ancla en las dos secuencias de nodos dividen realmente el área vertical y horizontalmente en 16 partes, como se muestra en la Figura 2. Para extender este proceso, supongamos que tenemos M nodos de anclaje y realizamos d exploraciones desde diferentes ángulos, obteniendo d secuencias de nodos y dividiendo el área en muchas partes pequeñas. Obviamente, el número de partes es una función del número de anclas M, el número de escaneos d, la ubicación de las anclas y la pendiente k para cada línea de escaneo. Según el teorema de corte de la tarta [22], el área se puede dividir en O(M2d2) partes. Cuando M y d son lo suficientemente grandes, el polígono para cada nodo objetivo puede volverse lo suficientemente pequeño como para lograr una estimación precisa. Enfatizamos que la precisión se ve afectada no solo por el número de anclas M, sino también por el número de eventos d. En otras palabras, MSP proporciona un equilibrio entre el costo físico de las anclas y el costo suave de los eventos. El Algoritmo 1 describe la arquitectura informática del MSP básico. Cada secuencia de nodos se procesa dentro de las líneas 1 a 8. Para cada nodo, GetBoundaries() en la línea 5 busca los anclajes predecesor y sucesor en la secuencia para determinar los límites de este nodo. Entonces, en la línea 6 UpdateMap() reduce el área de ubicación de este nodo de acuerdo a los límites recién obtenidos. Después de procesar todas las secuencias, la Estimación del Centroide (línea 11) estableció el centro de gravedad del polígono final como la ubicación estimada del nodo objetivo. El MSP básico solo hace uso de la información de orden entre un nodo objetivo y los nodos ancla en cada secuencia. De hecho, podemos extraer mucha más información de ubicación del Proceso MSP Básico del Algoritmo 1 de la Salida: La ubicación estimada de cada nodo. 1: repetir 2: ObtenerUnaSecuenciaNoProcesada(); 3: repetir 4: ObtenerUnNodoDeLaSecuenciaEnOrden(); 5: ObtenerLímites(); 6: ActualizarMapa(); 7: hasta que todos los nodos objetivo estén actualizados; 8: hasta que todas las secuencias de nodos estén procesadas; 9: repetir 10: ObtenerUnNodoNoEstimado(); 11: EstimaciónDelCentroide(); 12: hasta que todos los nodos objetivo estén estimados; de cada secuencia. La sección 5 presentará el MSP avanzado, en el cual se proponen cuatro nuevas optimizaciones para mejorar significativamente el rendimiento del MSP. 5 MSP Avanzado Se proponen cuatro mejoras al MSP básico en esta sección. Las primeras tres mejoras no necesitan sensores ni comunicación adicionales en las redes, pero solo requieren un poco más de computación fuera de línea. El objetivo de todas estas mejoras es aprovechar al máximo la información incrustada en las secuencias de nodos. Los resultados que hemos obtenido empíricamente indican que la implementación de los dos primeros métodos puede reducir drásticamente el error de localización, y que los métodos tercero y cuarto son útiles para algunas implementaciones del sistema. 5.1 MSP basado en secuencias Como se muestra en la Figura 2, cada línea de escaneo y M anclas dividen toda el área en M + 1 partes. Cada nodo objetivo cae en un polígono formado por líneas de escaneo. Observamos que en el MSP básico, solo se utilizan los anclajes para delimitar el polígono de cada nodo objetivo, pero en realidad hay más información en la secuencia de nodos que podemos aprovechar. Primero veamos un ejemplo sencillo mostrado en la Figura 3. Los escaneos anteriores reducen las ubicaciones del nodo objetivo 1 y del nodo 2 en dos rectángulos punteados mostrados en la parte izquierda de la Figura 3. Entonces, un nuevo escaneo genera una nueva secuencia (1, 2). Con conocimiento de la dirección de los escaneos, es fácil decir que el nodo 1 está ubicado a la izquierda del nodo 2. Por lo tanto, podemos reducir aún más el área de ubicación del nodo 2 al eliminar la parte sombreada del rectángulo del nodo 2. Esto se debe a que el nodo 2 está ubicado a la derecha del nodo 1 mientras que el área sombreada está fuera del límite inferior del nodo 1. De manera similar, el área de ubicación del nodo 1 se puede reducir al eliminar la parte sombreada fuera del límite derecho del nodo 2. Llamamos a este procedimiento MSP basado en secuencia, lo que significa que toda la secuencia de nodos debe ser procesada nodo por nodo en orden. Específicamente, el MSP basado en secuencias sigue esta regla de procesamiento exacta: 1 2 1 2 1 2 Límite inferior de 1 Límite superior de 1 Límite inferior de 2 Límite superior de 2 Nueva secuencia Nuevo límite superior de 1 Nuevo límite inferior de 2 Propagación de eventos Figura 3. Regla de ilustración en el algoritmo MSP basado en secuencias 2 Proceso MSP basado en secuencias Salida: La ubicación estimada de cada nodo. 1: repetir 2: ObtenerUnaSecuenciaNoProcesada(); 3: repetir 4: ObtenerUnNodoPorOrdenIncremental(); 5: CalcularLímiteInferior(); 6: ActualizarMapa(); 7: hasta El último nodo objetivo en la secuencia; 8: repetir 9: ObtenerUnNodoPorOrdenDecreciente(); 10: CalcularLímiteSuperior(); 11: ActualizarMapa(); 12: hasta El último nodo objetivo en la secuencia; 13: hasta Que todas las secuencias de nodos estén procesadas; 14: repetir 15: ObtenerUnNodoNoEstimado(); 16: EstimaciónDelCentroide(); 17: hasta Que todos los nodos objetivo estén estimados; Regla de eliminación: A lo largo de una dirección de escaneo, el límite inferior del área de sucesores debe ser igual o mayor que el límite inferior del área de predecesores, y el límite superior del área de predecesores debe ser igual o menor que el límite superior del área de sucesores. En el caso de la Figura 3, el nodo 2 es el sucesor del nodo 1, y el nodo 1 es el predecesor del nodo 2. Según la regla de eliminación, el límite inferior del nodo 2 no puede ser menor que el del nodo 1 y el límite superior del nodo 1 no puede exceder el límite superior del nodo 2. El Algoritmo 2 ilustra el pseudocódigo de MSP basado en secuencias. Cada secuencia de nodos se procesa dentro de las líneas 3 a 13. El procesamiento de secuencias consta de dos pasos: Paso 1 (línea 3 a 7): Calcular y modificar el límite inferior para cada nodo objetivo en orden creciente en la secuencia de nodos. El límite inferior de cada nodo está determinado por el límite inferior de su nodo predecesor en la secuencia, por lo tanto, el procesamiento debe comenzar desde el primer nodo en la secuencia y en orden creciente. Luego actualiza el mapa de acuerdo con el nuevo límite inferior. Paso 2 (línea 8 a 12): Calcular y modificar el límite superior para cada nodo disminuyendo en orden en la secuencia de nodos. El límite superior de cada nodo está determinado por el límite superior de su nodo sucesor en la secuencia, por lo tanto, el procesamiento debe comenzar desde el último nodo en la secuencia y en orden decreciente. Luego actualiza el mapa de acuerdo con el nuevo límite superior. Después de procesar todas las secuencias, para cada nodo se ha encontrado un polígono que delimita su posible ubicación. Luego, se aplica la estimación basada en el centro de gravedad para calcular la ubicación exacta de cada nodo (línea 14 a 17). Un ejemplo de este proceso se muestra en la Figura 4. El tercer escaneo genera la secuencia de nodos (B,9,2,7,4,6,3,8,C,A,5,1). Además de las líneas de división del ancla, dado que los nodos 4 y 7 vienen después del nodo 2 en la secuencia, los polígonos de los nodos 4 y 7 podrían estrecharse de acuerdo con el límite inferior del nodo 2 (el área sombreada inferior derecha); de manera similar, el área sombreada en el rectángulo del nodo 2 podría ser eliminada ya que esta parte está más allá del límite superior del nodo 7 indicado por la línea punteada. La eliminación similar se puede realizar para el nodo 3 como se muestra en la figura. 18 1 A 2 3 4 5 B C 6 7 8 9 Escaneo en línea recta 1 Escaneo en línea recta 2 Escaneo en línea recta 3 Nodo objetivo Nodo ancla Figura 4. Ejemplo 1 de MSP basado en secuencias A 2 3 4 5 B C 6 7 8 9 Escaneo en línea recta 1 Escaneo en línea recta 2 Escaneo en línea recta 3 Escaneo de reprocesamiento 1 Nodo objetivo Nodo de anclaje Figura 5. MSP iterativo: Reprocesando el escaneo 1. Desde arriba, podemos ver que el MSP basado en secuencias hace uso de la información incrustada en cada par de nodos secuenciales en la secuencia de nodos. Los límites del polígono de los nodos objetivo obtenidos anteriormente podrían usarse para dividir aún más otras áreas de nodos objetivo. Nuestra evaluación en las Secciones 8 y 9 muestra que el MSP basado en secuencias mejora considerablemente la precisión del sistema. El MSP basado en secuencias iterativo es preferible al MSP básico porque extrae más información de la secuencia de nodos. ¡De hecho, aún queda más información útil por descubrir! En el MSP basado en secuencias, una secuencia procesada posteriormente se beneficia de la información producida por las secuencias procesadas previamente (por ejemplo, el tercer escaneo en la Figura 5). Sin embargo, las primeras varias secuencias apenas pueden beneficiarse de otros escaneos de esta manera. Inspirados por este fenómeno, proponemos MSP iterativo. La idea básica de MSP iterativo es procesar todas las secuencias de forma iterativa varias veces para que el procesamiento de cada secuencia individual pueda beneficiarse de los resultados de otras secuencias. Para ilustrar la idea de manera más clara, la Figura 4 muestra los resultados de tres exploraciones que han proporcionado tres secuencias. Ahora, si procesamos la secuencia (8,1,5,A,6,C,4,3,7,2,B,9) obtenida de la exploración 1 nuevamente, podemos avanzar, como se muestra en la Figura 5. El reprocesamiento de la secuencia de nodos 1 proporciona información de la misma manera que lo haría un escaneo vertical adicional. A partir de la MSP basada en secuencias, sabemos que los límites superiores de los nodos 3 y 4 a lo largo de la dirección de escaneo no deben extenderse más allá del límite superior del nodo 7, por lo tanto, las partes de la cuadrícula pueden ser eliminadas (a) Centro de Gravedad (b) Distribución Conjunta 1 2 2 1 1 2 1 2 2 1 1 2 2 1 1 2 Figura 6. Ejemplo de Estimación de Distribución Conjunta ... vm ap[0] vm ap[1] vm ap[2] vm ap[3] Combinar m ap Figura 7. Idea de DBE MSP para cada nodo para los nodos 3 y 4, respectivamente, como se muestra en la Figura 5. A partir de este ejemplo, podemos ver que el procesamiento iterativo de la secuencia podría ayudar a reducir aún más el polígono de cada nodo objetivo, y así mejorar la precisión del sistema. La implementación de MSP iterativo es sencilla: procesar todas las secuencias varias veces utilizando MSP basado en secuencias. Al igual que el MSP basado en secuencias, el MSP iterativo no introduce costos adicionales de eventos. En otras palabras, el reprocesamiento no repite físicamente la exploración. Los resultados de la evaluación en la Sección 8 mostrarán que el MSP iterativo contribuye notablemente a un menor error de localización. Los resultados empíricos muestran que después de 5 iteraciones, las mejoras se vuelven menos significativas. En resumen, el procesamiento iterativo puede lograr un mejor rendimiento con solo un pequeño sobrecosto computacional. 5.3 Estimación basada en la distribución Después de determinar el polígono del área de ubicación para cada nodo, se necesita una estimación para tomar una decisión final. Investigaciones previas mayormente aplicaron el método del Centro de Gravedad (COG) [4] [8] [10] que minimiza el error promedio. Si cada nodo es independiente de los demás, COG es la mejor solución estadísticamente. En MSP, sin embargo, cada nodo puede no ser independiente. Por ejemplo, dos nodos vecinos en una cierta secuencia podrían tener áreas de polígonos superpuestas. En este caso, si se utiliza la probabilidad marginal de la distribución conjunta para la estimación, se obtienen mejores resultados estadísticos. La Figura 6 muestra un ejemplo en el que el nodo 1 y el nodo 2 se encuentran en el mismo polígono. Si se utiliza COG, ambos nodos se localizan en la misma posición (Figura 6(a)). Sin embargo, las secuencias de nodos obtenidas de dos exploraciones indican que el nodo 1 debería estar a la izquierda y arriba del nodo 2, como se muestra en la Figura 6(b). La idea de estimación basada en distribución propuesta para MSP, que llamamos DBE MSP, se ilustra en la Figura 7. Las distribuciones de cada nodo bajo el escaneo i-ésimo (para la secuencia de nodos i-ésima) se estiman en node.vmap[i], que es una estructura de datos para recordar la distribución marginal sobre el escaneo i. Luego, todos los vmaps se combinan para obtener un único mapa y se utiliza una estimación ponderada para obtener la ubicación final. Para cada escaneo, todos los nodos se ordenan según la separación, que es el diámetro del polígono a lo largo de la dirección del escaneo, para producir una segunda secuencia de nodos basada en la separación. Entonces, la estimación comienza desde el nodo con la brecha más pequeña. Esto se debe a que es estadísticamente más preciso asumir una distribución uniforme del nodo con un espacio más pequeño. Para cada nodo procesado en orden de la secuencia de nodos basada en brechas, ya sea si existe un nodo predecesor: distribución condicional basada en los nodos predecesores solamente; si existe un nodo sucesor: distribución condicional basada en los nodos sucesores solamente; si existen tanto nodos predecesores como sucesores: distribución condicional basada en ambos; Figura 8. En el Proceso de Cuatro Casos en DBE, si ningún nodo vecino en la secuencia de nodos basada en eventos originales comparte un área superpuesta, o si los vecinos no han sido procesados debido a brechas más grandes, se aplica una distribución uniforme Uniform() a este nodo aislado (el caso Solo en la Figura 8). Si la distribución de sus vecinos que comparten áreas superpuestas ha sido procesada, calculamos la distribución conjunta para el nodo. Como se muestra en la Figura 8, hay tres posibles casos dependiendo de si la distribución de los nodos predecesores y/o sucesores superpuestos ya ha sido estimada. La estrategia de estimación de comenzar desde el nodo más preciso (nodo con la brecha más pequeña) reduce el problema de la propagación del error de estimación. Los resultados en la sección de evaluación indican que aplicar la estimación basada en distribución podría dar resultados estadísticamente mejores. Hasta ahora, todas las mejoras al MSP básico se centran en mejorar el algoritmo de procesamiento de múltiples secuencias dado un conjunto fijo de direcciones de escaneo. Todas estas mejoras requieren solo más tiempo de computación sin ningún costo adicional para los nodos del sensor. Obviamente, es posible tener cierta elección y optimización en cómo se generan los eventos. Por ejemplo, en situaciones militares, se pueden utilizar bombas mini de ultrasonido lanzadas por artillería o cohetes para generar eventos en algunas ubicaciones seleccionadas. En el MSP adaptativo, generamos cuidadosamente cada nuevo evento de localización con el fin de maximizar la contribución del nuevo evento al perfeccionamiento de la localización, basándonos en la retroalimentación de eventos anteriores. La Figura 9 representa la arquitectura básica de MSP adaptativo. A través de eventos de localización previos, todo el mapa ha sido dividido en muchas áreas de ubicación pequeñas. La idea de MSP adaptativo es generar el próximo evento de localización para lograr una eliminación de mejor esfuerzo, lo que idealmente podría reducir al mínimo el área de ubicación de cada nodo individual. Utilizamos un mecanismo de votación ponderada para evaluar eventos de localización de candidatos. Cada nodo desea que el próximo evento divida su área de manera equitativa, lo que reduciría rápidamente el área. Por lo tanto, cada nodo vota por los parámetros del próximo evento (por ejemplo, el ángulo de escaneo k del escaneo en línea recta). Dado que el mapa del área se mantiene de forma centralizada, la votación se realiza virtualmente y no es necesario que los nodos sensores reales participen en ella. Después de recopilar todos los resultados de votación, los parámetros del evento con más votos ganan la elección. Hay dos factores que determinan el peso de cada voto: • El voto para cada evento de candidato se pondera según el diámetro D del área de ubicación de los nodos. Los nodos con áreas de ubicación más grandes tienen más peso en la votación, porque el mapa particionado por el diámetro de los eventos de localización de cada área activa el siguiente evento de localización. Arquitectura básica de Adaptive MSP 2 3 Diámetro D3 1 1 3k 2 3k 3 3k 4 3k 5 3k 6 3k 1 3k 2 3k 3 3k 6 3k4 3k 5 3k Peso el pequeño i opt i j ii j i S S DkkDfkWeight arg ),(,()( ⋅=∆= 1 3 opt k Nodo objetivo Nodo ancla Nodo centro de gravedad Área de 3s Figura 10. Para el candidato Slops para el Nodo 3 en el Anclaje 1, el error del sistema en general se reduce principalmente dividiendo las áreas más grandes. Además, el voto para cada evento candidato también se pondera según su eficiencia de eliminación para un área de ubicación, que se define como la igualdad en tamaño (o en diámetro) con la que un evento puede cortar un área. En otras palabras, un evento de escaneo óptimo corta un área por la mitad, ya que este corte reduce rápidamente el área y, por lo tanto, la incertidumbre de localización. Combinando los dos aspectos anteriores, el peso de cada voto se calcula de acuerdo con la siguiente ecuación (1): Peso(k j i ) = f(Di,△(k j i ,k opt i )) (1) donde k j i es el nodo que es el j-ésimo parámetro de soporte para la generación del próximo evento; Di es el diámetro del área de ubicación del nodo; △(k j i ,k opt i ) es la distancia entre k j i y el parámetro óptimo k opt i para el nodo i, que debe definirse para adaptarse a la aplicación específica. La Figura 10 presenta un ejemplo de cómo el nodo 1 vota por las pendientes del siguiente escaneo en línea recta. En el sistema, hay un número fijo de pendientes candidatas para cada escaneo (por ejemplo, k1, k2, k3, k4...). El área de ubicación del nodo objetivo 3 se muestra en la figura. Los eventos candidatos k1 3, k2 3, k3 3, k4 3, k5 3, k6 3 se evalúan según su efectividad en comparación con el evento ideal óptimo que se muestra como una línea punteada con pesos apropiados calculados según la ecuación (1). Para este ejemplo específico, como se ilustra en la parte derecha de la Figura 10, f(Di,△(k j i ,kopt i )) se define como la siguiente ecuación (2): Peso(kj i ) = f(Di,△(kj i ,kopt i )) = Di · Ssmall Slarge (2) Ssmall y Slarge son los tamaños de la parte más pequeña y la parte más grande del área cortada por la línea candidata respectivamente. En este caso, el nodo 3 vota 0 por las líneas de candidatos que no cruzan su área ya que Ssmall = 0. Mostramos más adelante que el MSP adaptativo mejora la precisión de la localización en las WSNs con áreas de despliegue de formas irregulares. 20 5.5 Análisis de Sobrecarga y Complejidad del MSP Esta sección proporciona un análisis de la complejidad del diseño del MSP. Enfatizamos que MSP adopta un diseño asimétrico en el que los nodos sensores solo necesitan detectar y reportar los eventos. Ellos están felizmente inconscientes de los métodos de procesamiento propuestos en las secciones anteriores. En esta sección, analizamos el costo computacional en el procesamiento de secuencias de nodos, donde los recursos son abundantes. Según el Algoritmo 1, la complejidad computacional de Basic MSP es O(d · N · S), y el espacio de almacenamiento requerido es O(N · S), donde d es el número de eventos, N es el número de nodos objetivo y S es el tamaño del área. Según el Algoritmo 2, la complejidad computacional tanto del MSP basado en secuencias como del MSP iterativo es O(c·d ·N ·S), donde c es el número de iteraciones y c = 1 para el MSP basado en secuencias, y el espacio de almacenamiento requerido es O(N ·S). Tanto la complejidad computacional como el espacio de almacenamiento son iguales dentro de un factor constante a los del MSP básico. La complejidad computacional de la estimación basada en distribuciones (DBE MSP) es mayor. El principal gasto proviene del cálculo de las distribuciones conjuntas cuando tanto los nodos predecesores como sucesores existen. Para calcular la probabilidad marginal, MSP necesita enumerar las ubicaciones del nodo predecesor y del nodo sucesor. Por ejemplo, si el nodo A tiene al nodo predecesor B y al nodo sucesor C, entonces la probabilidad marginal PA(x,y) de que el nodo A esté en la ubicación (x,y) es: PA(x,y) = ∑ i ∑ j ∑ m ∑ n 1 NB,A,C ·PB(i, j)·PC(m,n) (3) NB,A,C es el número de ubicaciones válidas para A que satisfacen la secuencia (B, A, C) cuando B está en (i, j) y C está en (m,n); PB(i, j) es la probabilidad disponible de que los nodos B estén ubicados en (i, j); PC(m,n) es la probabilidad disponible de que los nodos C estén ubicados en (m,n). Un algoritmo ingenuo para calcular la ecuación (3) tiene complejidad O(d · N · S3). Sin embargo, dado que la probabilidad marginal proviene en efecto de solo una dimensión a lo largo de la dirección de escaneo (por ejemplo, una línea), la complejidad puede reducirse a O(d · N · S1.5) después de la optimización del algoritmo. Además, las áreas de ubicación final para cada nodo son mucho más pequeñas que el campo original S; por lo tanto, en la práctica, DBE MSP se puede calcular mucho más rápido que O(d ·N ·S1.5). Ejemplo de propagación de ondas. Hasta ahora, la descripción de MSP ha sido únicamente en el contexto de escaneo en línea recta. Sin embargo, observamos que MSP es conceptualmente independiente de cómo se propaga el evento siempre y cuando se puedan obtener secuencias de nodos. Claramente, también podemos apoyar eventos basados en la propagación de ondas (por ejemplo, propagación de ultrasonido, propagación de explosiones de aire), que son equivalencias de coordenadas polares de los escaneos de línea en el sistema de coordenadas cartesianas. Esta sección ilustra los efectos de la implementación de los MSP en la situación basada en la propagación de ondas. Para facilitar el modelado, hemos realizado las siguientes suposiciones: • La onda se propaga de manera uniforme en todas direcciones, por lo tanto, la propagación tiene una superficie de frontera circular. Dado que el MSP no se basa en una relación espacio-temporal precisa, es tolerable cierta distorsión en la propagación de ondas. Si se utiliza alguna onda direccional, la superficie de la frontera de propagación puede modificarse en consecuencia. 1 3 5 9 Nodo objetivo Nodo ancla Ubicación del evento anterior A 2 Centro de gravedad 4 8 7 B 6 C Una línea de ubicaciones preferidas para el próximo evento Figura 11. Ejemplo de Situación de Propagación de Ondas • Bajo la situación de línea de visión, permitimos que los obstáculos reflejen o desvíen la onda. La reflexión y la desviación no son problemas porque cada nodo reacciona solo al primer evento detectado. Esas ondas reflejadas o desviadas llegan más tarde que las ondas en línea recta. Lo único que el sistema necesita mantener es un intervalo de tiempo apropiado entre dos eventos de localización sucesivos. • Suponemos que existe ruido de fondo, por lo tanto, ejecutamos un filtro pasa banda para escuchar una frecuencia de onda particular. Esto reduce las posibilidades de detección falsa. El parámetro que afecta la generación del evento de localización aquí es la ubicación de origen del evento. Las diferentes distancias entre cada nodo y la fuente del evento determinan la posición de cada nodo en la secuencia de nodos. Usando las secuencias de nodos, el algoritmo MSP divide toda el área en muchas áreas no rectangulares como se muestra en la Figura 11. En esta figura, las estrellas representan dos fuentes de eventos anteriores. Las dos propagaciones anteriores dividieron todo el mapa en muchas áreas mediante círculos punteados que pasan por uno de los anclajes. Cada nodo se encuentra en una de las áreas pequeñas. Dado que MSP basado en secuencias, MSP iterativo y MSP DBE no hacen suposiciones sobre el tipo de eventos de localización y la forma del área, los tres algoritmos de optimización pueden aplicarse al escenario de propagación de ondas. Sin embargo, el MSP adaptativo necesita más explicación. La Figura 11 ilustra un ejemplo de nodos votando por las próximas ubicaciones de la fuente del evento. A diferencia del escaneo en línea recta, el parámetro crítico ahora es la ubicación de la fuente del evento, ya que la distancia entre cada nodo y la fuente del evento determina la posición del nodo en la secuencia. En la Figura 11, si el próximo evento se produce a lo largo o cerca de la línea gris sólida y gruesa, que biseca perpendicularmente la línea oscura sólida entre el ancla C y el centro de gravedad del área del nodo 9 (el área gris), la onda llegaría al ancla C y al centro de gravedad del área del nodo 9 aproximadamente al mismo tiempo, dividiendo relativamente de manera equitativa el área del nodo 9. Por lo tanto, el nodo 9 prefiere votar por las posiciones alrededor de la línea gris gruesa. 7 Problemas Prácticos de Implementación Por el bien de la presentación, hasta ahora hemos descrito MSP en un caso ideal donde se puede obtener una secuencia completa de nodos con una sincronización precisa del tiempo. En esta sección describimos cómo hacer que MSP funcione bien bajo condiciones más realistas. 21 7.1 Secuencia de Nodos Incompleta Por diversas razones, como mal funcionamiento del sensor u obstáculos naturales, los nodos en la red podrían no detectar eventos de localización. En tales casos, la secuencia de nodos no estará completa. Este problema tiene dos versiones: • Los nodos de anclaje faltan en la secuencia de nodos. Si algunos nodos de anclaje no responden a los eventos de localización, entonces el sistema tiene menos anclajes. En este caso, la solución es generar más eventos para compensar la pérdida de anclas y así cumplir con los requisitos de precisión deseados. • Los nodos objetivo faltan en la secuencia de nodos. Hay dos consecuencias cuando faltan nodos objetivo. Primero, si estos nodos siguen siendo útiles para aplicaciones de detección, necesitan utilizar otros enfoques de localización de respaldo (por ejemplo, Centroid) para localizarse con la ayuda de sus vecinos que ya han aprendido sus propias ubicaciones a partir de MSP. En segundo lugar, dado que en MSP avanzado cada nodo en la secuencia puede contribuir a la precisión general del sistema, la eliminación de nodos objetivo de las secuencias también podría reducir la precisión de la localización. Por lo tanto, es necesario implementar procedimientos de compensación adecuados, como agregar más eventos de localización. 7.2 Localización sin Sincronización de Tiempo En una red de sensores sin soporte de sincronización de tiempo, los nodos no pueden ser ordenados en una secuencia utilizando marcas de tiempo. Para tales casos, proponemos un protocolo de escucha-detección-ensamblaje-informe, que es capaz de funcionar de forma independiente sin sincronización de tiempo. El protocolo de escucha-detección-ensamblaje-informe requiere que cada nodo escuche el canal para la secuencia de nodos transmitida por sus vecinos. Entonces, cuando el nodo detecta el evento de localización, se ensambla en la secuencia de nodos más reciente que ha escuchado y reporta la secuencia actualizada a otros nodos. La Figura 12 (a) ilustra un ejemplo del protocolo de escucha-detección-ensamblaje-informe. Para simplificar, en esta figura no diferenciamos los nodos objetivo de los nodos ancla. Una línea sólida entre dos nodos representa un enlace de comunicación. Supongamos que una línea recta escanea de izquierda a derecha. El nodo 1 detecta el evento y luego transmite la secuencia (1) a la red. El nodo 2 y el nodo 3 reciben esta secuencia. Cuando el nodo 2 detecta el evento, el nodo 2 se agrega a sí mismo en la secuencia y transmite (1, 2). La secuencia se propaga en la misma dirección que el escaneo, como se muestra en la Figura 12 (a). Finalmente, el nodo 6 obtiene una secuencia completa (1,2,3,5,7,4,6). En el caso de la propagación de ultrasonido, debido a que la velocidad de propagación del evento es mucho más lenta que la de la radio, el protocolo de escucha-detección-ensamblaje-informe puede funcionar bien en una situación donde la densidad de nodos no es muy alta. Por ejemplo, si la distancia entre dos nodos a lo largo de una dirección es de 10 metros, el sonido de 340 m/s tarda 29.4 ms en propagarse de un nodo a otro. Aunque normalmente la tasa de datos de comunicación es de 250Kbps en la WSN (por ejemplo, CC2420 [1]), solo se tarda alrededor de 2 ∼ 3 ms en transmitir un paquete ensamblado para un salto. Un problema que puede ocurrir al utilizar el protocolo de escucha-detección-ensamblaje-informe es la presencia de múltiples secuencias parciales como se muestra en la Figura 12 (b). Dos caminos separados en la red pueden resultar en dos secuencias que no se pueden combinar más. En este caso, dado que las dos secuencias solo pueden ser procesadas como secuencias separadas, se pierde cierta información de orden. Por lo tanto, la 1,2,5,4 1,3,7,4 1,2,3,5 1,2,3,5,7,4 1,2,3,5,7 1,2,3,5 1,3 1,2 1 2 3 5 7 4 6 1 1 1,3 1,2,3,5,7,4,6 1,2,5 1,3,7 1,3 1,2 1 2 3 5 7 4 6 1 1 1,3,7,4,6 1,2,5,4,6 (a) (b) (c) 1,3,2,5 1,3,2,5,7,4 1,3,2,5,7 1,3,2,5 1,3 1,2 1 2 3 5 7 4 6 1 1 1,3 1,3,2,5,7,4,6 Propagación de Eventos Propagación de Eventos Propagación de Eventos Figura 12. Sin sincronización de tiempo en la secuencia de nodos, la precisión del sistema disminuiría. El otro problema es el problema de la inversión de secuencia. Como se muestra en la Figura 12 (c), debido a que el nodo 2 y el nodo 3 están muy cerca uno del otro a lo largo de la dirección de escaneo, detectan el escaneo casi simultáneamente. Debido a la incertidumbre, como el retraso en el acceso a los medios, dos mensajes podrían ser transmitidos fuera de orden. Por ejemplo, si el nodo 3 envía su informe primero, entonces el orden de los nodos 2 y 3 se invierte en la secuencia final de nodos. El problema de secuencia invertida podría aparecer incluso en un sistema sincronizado con precisión debido a la fluctuación aleatoria en la detección de nodos si un evento llega casi simultáneamente a múltiples nodos. Un método que aborda el problema de la inversión de secuencia se presenta en la siguiente sección. Los problemas de inversión de secuencia pueden resolverse con y sin sincronización de tiempo. Primero comenzamos con un escenario aplicando sincronización de tiempo. Las soluciones existentes para la sincronización del tiempo [12, 6] pueden lograr fácilmente una precisión de nivel submilisegundo. Por ejemplo, FTSP [12] logra un error promedio de 16.9µs (microsegundos) para un caso de dos nodos y un salto. Por lo tanto, podemos asumir con confianza que la red está sincronizada con un error máximo de 1000 µs. Sin embargo, cuando múltiples nodos están ubicados muy cerca uno del otro a lo largo de la dirección de propagación del evento, incluso cuando se logra una sincronización de tiempo con un error de menos de 1 ms en la red, aún puede ocurrir un cambio de secuencia. Por ejemplo, en el caso de la propagación de ondas sonoras, si dos nodos están separados por menos de 0.34 metros, la diferencia entre sus marcas de tiempo de detección sería menor a 1 milisegundo. Observamos que la inversión de secuencia no solo podría dañar la precisión del sistema, sino que también podría causar un error fatal en el algoritmo MSP. La Figura 13 ilustra ambos resultados perjudiciales. En el lado izquierdo de la Figura 13(a), supongamos que el nodo 1 y el nodo 2 están tan cerca uno del otro que toma menos de 0.5ms para que el evento de localización se propague desde el nodo 1 hasta el nodo 2. Ahora, desafortunadamente, la secuencia de nodos se ha confundido y se cree que es (2,1). Por lo tanto, se espera que el nodo 1 esté ubicado a la derecha del nodo 2, como en la posición del nodo 1 punteado. Según la regla de eliminación en MSP basado en secuencias, la parte izquierda del área del nodo 1 se corta como se muestra en la parte derecha de la Figura 13(a). Este es un error potencialmente fatal, ya que el nodo 1 en realidad se encuentra en el área punteada que ha sido eliminada por error. Durante las eliminaciones posteriores introducidas por otros eventos, es posible que el área del nodo 1 sea cortada por completo, ¡por lo tanto, el nodo 1 podría ser borrado del mapa! Incluso en los casos en los que el nodo 1 todavía sobrevive, su área en realidad no cubre su ubicación real. 22 1 2 12 2 Límite inferior de 1 Límite superior de 1 Secuencia invertida Evento de error de eliminación fatal Propagación de eventos 1 1 Error fatal 1 1 2 12 2 Límite inferior de 1 Límite superior de 1 Secuencia invertida Evento de eliminación segura Propagación de eventos 1 1 Nuevo límite inferior de 1 1 B (a) (b) B: Banda de protección Figura 13. Otro problema es que no es fatal, pero disminuye la precisión de la localización. Si obtenemos la secuencia de nodos correcta (1,2), el nodo 1 tiene un nuevo límite superior que puede reducir el área del nodo 1 como se muestra en la Figura 3. Debido a la inversión de la secuencia, el nodo 1 pierde este nuevo límite superior. Para abordar el problema de inversión de secuencia, especialmente para prevenir que los nodos sean borrados del mapa, proponemos un enfoque de compensación de banda de protección. La idea básica de la banda de protección es extender un poco el límite del área de ubicación para asegurarse de que el nodo nunca sea borrado del mapa. Esta solución se basa en el hecho de que los nodos tienen una alta probabilidad de cambiar en la secuencia si están cerca uno del otro a lo largo de la dirección de propagación del evento. Si dos nodos están separados entre sí por más de una cierta distancia, digamos, B, rara vez se voltean a menos que los nodos estén defectuosos. El ancho de una banda de protección B, está en gran medida determinado por el error máximo en la sincronización del tiempo del sistema y la velocidad de propagación del evento de localización. La Figura 13(b) presenta la aplicación de la banda de protección. En lugar de eliminar la parte punteada en la Figura 13(a) para el nodo 1, el nuevo límite inferior del nodo 1 se establece desplazando el límite inferior original del nodo 2 hacia la izquierda a una distancia B. En este caso, el área de ubicación todavía cubre el nodo 1 y lo protege de ser borrado. En una implementación práctica, suponiendo que se utiliza el evento de ultrasonido, si el error máximo de sincronización de tiempo del sistema es de 1 ms, es probable que dos nodos se intercambien con alta probabilidad si la diferencia de tiempo entre los dos nodos es menor o igual a 1 ms. En consecuencia, establecimos la banda de protección B en 0.34m (la distancia que el sonido puede propagarse en 1 milisegundo). Al agregar la banda de protección, reducimos las posibilidades de errores fatales, aunque a costa de la precisión de la localización. Los resultados empíricos obtenidos de nuestro banco de pruebas físico verificaron esta conclusión. En el caso de utilizar el protocolo de escuchar-detectar-ensamblar-informar, el único cambio que necesitamos hacer es seleccionar la banda de protección de acuerdo con la incertidumbre máxima de retardo introducida por la operación MAC y la velocidad de propagación del evento. Para limitar la demora de MAC en el lado del nodo, un nodo puede descartar su mensaje de informe si experimenta una demora de MAC excesiva. Esto convierte el problema de secuencia de volteo en el problema de secuencia incompleta, que puede ser abordado más fácilmente por el método propuesto en la Sección 7.1. 8 Evaluación de la simulación Nuestra evaluación de MSP se llevó a cabo en tres plataformas: (i) un sistema interior con 46 motas MICAz utilizando escaneo en línea recta, (ii) un sistema exterior con 20 motas MICAz utilizando propagación de ondas sonoras, y (iii) una extensa simulación bajo varios tipos de configuraciones físicas. Para entender el comportamiento de MSP en numerosos escenarios, comenzamos nuestra evaluación con simulaciones. Luego, implementamos el MSP básico y todos los métodos MSP avanzados para el caso en el que la sincronización de tiempo está disponible en la red. Los detalles de la simulación e implementación se omiten en este artículo debido a limitaciones de espacio, pero se proporcionan documentos relacionados [25] en línea en http://www.cs.umn.edu/∼zhong/MSP. La implementación completa y la evaluación del sistema sin sincronización de tiempo aún están por completarse en un futuro cercano. En la simulación, asumimos que todas las secuencias de nodos son perfectas para revelar el rendimiento de MSP alcanzable en ausencia de secuencias de nodos incompletas o cambios de secuencia. En nuestras simulaciones, se asume que todos los nodos ancla y nodos objetivo están desplegados de manera uniforme. Los errores promedio y máximos se promedian en 50 ejecuciones para obtener alta confianza. Por razones de legibilidad, no representamos los intervalos de confianza en este artículo. Todas las simulaciones se basan en el ejemplo de escaneo en línea recta. Implementamos tres estrategias de escaneo: • Escaneo Aleatorio: La pendiente de la línea de escaneo se elige aleatoriamente en cada momento. • Escaneo Regular: La pendiente está predeterminada para rotar uniformemente de 0 grados a 180 grados. Por ejemplo, si el sistema escanea 6 veces, entonces los ángulos de escaneo serían: 0, 30, 60, 90, 120 y 150. • Escaneo Adaptativo: La pendiente de cada escaneo se determina en función de los resultados de localización de escaneos anteriores. Comenzamos con MSP básico y luego demostramos las mejoras de rendimiento paso a paso agregando (i) MSP basado en secuencias, (ii) MSP iterativo, (iii) MSP de DBE y (iv) MSP adaptativo. 8.1 Rendimiento de MSP básico. La evaluación comienza con MSP básico, donde comparamos el rendimiento de escaneo aleatorio y escaneo regular bajo diferentes configuraciones. Tenemos la intención de ilustrar el impacto del número de anclas M, el número de escaneos d y la densidad de nodos objetivo (número de nodos objetivo N en una región de tamaño fijo) en el error de localización. La Tabla 1 muestra los parámetros de simulación por defecto. El error de cada nodo se define como la distancia entre la ubicación estimada y la posición real. Observamos que por defecto solo utilizamos tres anclas, lo cual es considerablemente menos que las soluciones sin rango existentes [8, 4]. Impacto del número de escaneos: En este experimento, comparamos el escaneo regular con el escaneo aleatorio bajo un número diferente de escaneos, desde 3 hasta 30 en incrementos de 3. El número de anclas de la Tabla 1. Parámetros de configuración predeterminados Descripción del parámetro Área del campo 200×200 (Unidad de cuadrícula) Tipo de escaneo Regular (predeterminado)/Aleatorio Número de anclas 3 (predeterminado) Veces de escaneo 6 (predeterminado) Número de nodos objetivo 100 (predeterminado) Estadísticas Error Promedio/Máximo Semillas Aleatorias 50 ejecuciones 23 0 5 10 15 20 25 30 0 10 20 30 40 50 60 70 80 90 Error Promedio y Máximo VS Tiempo de Escaneo Tiempo de Escaneo Error Máximo del Escaneo Aleatorio Máximo Error del Escaneo Regular Error Promedio del Escaneo Aleatorio Error Promedio del Escaneo Regular (a) Error vs. Número de Escaneos 0 5 10 15 20 25 30 0 10 20 30 40 50 60 Error Medio y Error Máximo VS Número de Anclaje Número de Anclaje Error Error Máximo de Escaneo Aleatorio Error Máximo de Escaneo Regular Error Medio de Escaneo Aleatorio Error Medio de Escaneo Regular (b) Error vs. Número de Anclaje 0 50 100 150 200 10 20 30 40 50 60 70 Error Medio y Error Máximo VS Número de Nodo Objetivo Número de Nodo Objetivo Error Error Máximo de Escaneo Aleatorio Error Máximo de Escaneo Regular Error Medio de Escaneo Aleatorio Error Medio de Escaneo Regular (c) Error vs. Número de Nodos Objetivo Figura 14. Evaluación de MSP Básico bajo Escaneos Aleatorios y Regulares 0 5 10 15 20 25 30 0 10 20 30 40 50 60 70 MSP Básico VS MSP Basado en Secuencia II Tiempo de Escaneo Error Error Máximo de MSP Básico Error Máximo de MSP de Secuencia Error Medio de MSP Básico Error Medio de MSP de Secuencia (a) Error vs. Número de Escaneos 0 5 10 15 20 25 30 0 5 10 15 20 25 30 35 40 45 50 MSP Básico VS MSP Basado en Secuencia Número de Anclaje Error Máximo de MSP Básico Error Máximo de MSP de Secuencia Error Medio de MSP Básico Error Medio de MSP de Secuencia (b) Error vs. Número de Anclaje 0 50 100 150 200 5 10 15 20 25 30 35 40 45 50 55 MSP Básico VS MSP Basado en Secuencia III Número de Nodo Objetivo Error Máximo de MSP Básico Error Máximo de MSP de Secuencia Error Medio de MSP Básico Error Medio de MSP de Secuencia (c) Error vs. Número de Nodos Objetivo Figura 15. La mejora de MSP basado en secuencias sobre MSP básico es de 3 por defecto. La Figura 14(a) indica lo siguiente: (i) a medida que aumenta el número de escaneos, el error de localización disminuye significativamente; por ejemplo, los errores de localización disminuyen más del 60% de 3 escaneos a 30 escaneos; (ii) estadísticamente, el escaneo regular logra un mejor rendimiento que el escaneo aleatorio bajo un número idéntico de escaneos. Sin embargo, la brecha de rendimiento disminuye a medida que aumenta el número de escaneos. Esto es esperado ya que un gran número de números aleatorios converge a una distribución uniforme. La Figura 14(a) también demuestra que MSP solo requiere un pequeño número de anclas para funcionar muy bien, en comparación con las soluciones existentes sin rango [8, 4]. Impacto del número de anclas: En este experimento, comparamos el escaneo regular con el escaneo aleatorio bajo diferentes números de anclas, desde 3 hasta 30 en incrementos de 3. Los resultados mostrados en la Figura 14(b) indican que (i) a medida que aumenta el número de nodos de anclaje, el error de localización disminuye, y (ii) estadísticamente, el escaneo regular obtiene mejores resultados que el escaneo aleatorio con el mismo número de anclajes. Al combinar las Figuras 14(a) y 14(b), podemos concluir que MSP permite un equilibrio flexible entre el costo físico (nodos ancla) y el costo suave (eventos de localización). Impacto de la Densidad del Nodo Objetivo: En este experimento, confirmamos que la densidad de los nodos objetivo no tiene impacto en la precisión, lo que motivó el diseño de MSP basado en secuencias. En este experimento, comparamos el escaneo regular con el escaneo aleatorio bajo diferentes números de nodos objetivo, desde 10 hasta 190 en incrementos de 20. Los resultados en la Figura 14(c) muestran que los errores medios de localización permanecen constantes en diferentes densidades de nodos. Sin embargo, cuando el número de nodos objetivo aumenta, el error máximo promedio también aumenta. Resumen: A partir de los experimentos anteriores, podemos concluir que en el MSP básico, los escaneos regulares son mejores que los escaneos aleatorios bajo diferentes números de anclas y eventos de escaneo. Esto se debe a que los escaneos regulares eliminan uniformemente el mapa desde diferentes direcciones, mientras que los escaneos aleatorios obtendrían secuencias con información redundante y superpuesta si dos escaneos eligen pendientes de escaneo similares. 8.2 Mejoras de MSP basado en secuencias. Esta sección evalúa los beneficios de explotar la información de orden entre los nodos objetivo al comparar MSP basado en secuencias con MSP básico. En esta y las siguientes secciones, se utiliza un escaneo regular para la generación de eventos de escaneo en línea recta. El propósito de utilizar un escaneo regular es mantener los eventos de escaneo y las secuencias de nodos idénticos tanto para el MSP basado en secuencias como para el MSP básico, de modo que la única diferencia entre ellos sea el procedimiento de procesamiento de secuencias. Impacto del número de escaneos: En este experimento, comparamos el MSP basado en secuencias con el MSP básico bajo diferentes números de escaneos, desde 3 hasta 30 en incrementos de 3. La figura 15(a) indica una mejora significativa en el rendimiento basado en secuencias de MSP sobre el MSP básico en todos los ajustes de escaneo, especialmente cuando el número de escaneos es grande. Por ejemplo, cuando el número de escaneos es 30, los errores en MSP basado en secuencias son aproximadamente el 20% de los de MSP básico. Concluimos que el MSP basado en secuencias funciona extremadamente bien cuando hay muchos eventos de escaneo. Impacto del número de anclas: En este experimento, utilizamos diferentes números de anclas, desde 3 hasta 30 en incrementos de 3. Como se observa en la Figura 15(b), el error medio y el error máximo del MSP basado en secuencias es mucho menor que el del MSP básico. Especialmente cuando hay un número limitado de anclas en el sistema, por ejemplo, 3 anclas, la tasa de error se redujo casi a la mitad al utilizar MSP basado en secuencias. Este fenómeno tiene una explicación interesante: las líneas de corte creadas por los nodos de anclaje son explotadas tanto por el MSP básico como por el MSP basado en secuencias, como se muestra en la Figura 16. Mejoras de Iterative MSP 0 2 4 6 8 10 12 14 16 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 Funciones de Distribución Acumulativa de Errores DBE VS No-DBE Error Media CDF de DBE MSP Media CDF de No-DBE MSP Máximo Error CDF de DBE MSP Máximo Error CDF de No-DBE MSP Figura 17. Mejoras de DBE MSP 0 20 40 60 80 100 0 10 20 30 40 50 60 70 MSP Adaptativo para el Nodo Objetivo 500 por 80 Número de Error Máximo Error de Escaneo Regular Máximo Error de Escaneo Adaptativo Error Medio de Escaneo Regular Error Medio de Escaneo Adaptativo (a) MSP Adaptativo para el campo 500 por 80 0 10 20 30 40 50 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 Error Medio CDF en Diferentes Pasos de Ángulo en Escaneo Adaptativo Funciones de Distribución Acumulativa de Error Medio (CDF) Paso de Ángulo de 5 Grados Adaptativo Paso de Ángulo de 10 Grados Adaptativo Paso de Ángulo de 20 Grados Adaptativo Paso de 30 Grados Escaneo Regular (b) Impacto del Número de Eventos Candidatos Figura 18. A medida que aumenta el número de nodos ancla en MSP adaptativo, los nodos ancla tienden a dominar la contribución. Por lo tanto, las brechas de rendimiento disminuyen. Impacto de la Densidad del Nodo Objetivo: La Figura 15(c) demuestra los beneficios de explotar la información de orden entre los nodos objetivo. Dado que el MSP basado en secuencias utiliza la información entre los nodos objetivo, tener más nodos objetivo contribuye a la precisión general del sistema. A medida que aumenta el número de nodos objetivo, el error medio y el error máximo de MSP basado en secuencias disminuyen. Claramente, el error medio en MSP básico no se ve afectado por el número de nodos objetivo, como se muestra en la Figura 15(c). Resumen: A partir de los experimentos anteriores, podemos concluir que explotar la información de orden entre los nodos objetivo puede mejorar significativamente la precisión, especialmente cuando el número de eventos es grande pero con pocos anclajes. 8.3 MSP Iterativo sobre MSP Basado en Secuencias En este experimento, las mismas secuencias de nodos fueron procesadas de forma iterativa varias veces. En la Figura 16, las dos marcas individuales son resultados del MSP básico, ya que el MSP básico no realiza iteraciones. Las dos curvas presentan el rendimiento de MSP iterativo bajo diferentes números de iteraciones c. Observamos que cuando se utiliza solo una iteración, este método se degrada a MSP basado en secuencias. Por lo tanto, la Figura 16 compara los tres métodos entre sí. La Figura 16 muestra que la segunda iteración puede reducir drásticamente el error medio y el error máximo. Después de eso, la ganancia en rendimiento disminuye gradualmente, especialmente cuando c > 5. Esto se debe a que la segunda iteración permite que los escaneos anteriores aprovechen los nuevos límites creados por los escaneos posteriores en la primera iteración. Tal explotación se descompone rápidamente a lo largo de las iteraciones. 8.4 DBE MSP sobre MSP Iterativo Figura 17, en la que aumentamos el MSP iterativo con estimación basada en distribución (DBE MSP), muestra que DBE MSP podría lograr un rendimiento estadísticamente mejor. La Figura 17 presenta los errores de localización de distribución acumulativa. En general, las dos curvas de la DBE MSP se encuentran ligeramente a la izquierda de la de la no-DBE MSP, lo que indica que la DBE MSP tiene un error medio estadístico y un error máximo promedio más pequeños que la no-DBE MSP. Observamos que debido a que DBE se añade encima de la mejor solución hasta el momento, la mejora en el rendimiento no es significativa. Cuando aplicamos DBE en métodos básicos de MSP, la mejora es mucho más significativa. Omitimos estos resultados debido a limitaciones de espacio. 8.5 Mejoras de MSP Adaptativo Esta sección ilustra el rendimiento de MSP adaptativo sobre MSP no adaptativo. Observamos que la adaptación basada en retroalimentación se puede aplicar a todos los métodos de MSP, ya que solo afecta a los ángulos de escaneo pero no al procesamiento de secuencias. En este experimento, evaluamos cómo el MSP adaptativo puede mejorar la mejor solución hasta el momento. La granularidad del ángulo predeterminado (paso) para la búsqueda adaptativa es de 5 grados. Impacto de la Forma del Área: En primer lugar, si la configuración del sistema es regular, el método adaptativo apenas contribuye a los resultados. Para un área cuadrada (regular), el rendimiento de los escaneos adaptativos de MSP y los escaneos regulares son muy similares. Sin embargo, si la forma del área no es regular, el MSP adaptativo ayuda a elegir los eventos de localización apropiados para compensar. Por lo tanto, el MSP adaptativo puede lograr un mejor error medio y error máximo, como se muestra en la Figura 18(a). Por ejemplo, el MSP adaptativo mejora la precisión de la localización en un 30% cuando el número de nodos objetivo es 10. Impacto de la Densidad del Nodo Objetivo: La Figura 18(a) muestra que cuando la densidad de nodos es baja, el MSP adaptativo aporta más beneficios que cuando la densidad de nodos es alta. Este fenómeno tiene sentido estadístico, porque la ley de los grandes números nos dice que la ubicación de los nodos se acerca a una distribución verdaderamente uniforme cuando se aumenta el número de nodos. El MSP adaptativo tiene un borde de 25 en la Figura 19. La figura 20 del banco de pruebas Mirage (escáner de línea). Los Experimentos al Aire Libre de 20 nodos (Wave) cuando la distribución no es uniforme. Impacto de la Densidad del Ángulo del Candidato: La Figura 18(b) muestra que cuanto menor sea el paso del ángulo de escaneo del candidato, mejor será el rendimiento estadístico en términos de error medio. La justificación es clara, ya que ángulos de exploración de candidatos más amplios brindan a MSP adaptativo más oportunidades para elegir aquel que se acerque al ángulo óptimo. Resumen de la simulación 8.6 Comenzando desde MSP básico, hemos demostrado paso a paso cómo se pueden aplicar cuatro optimizaciones una sobre otra para mejorar el rendimiento de la localización. En otras palabras, estas optimizaciones son compatibles entre sí y pueden mejorar conjuntamente el rendimiento general. Observamos que nuestras simulaciones se realizaron bajo la suposición de que la secuencia completa de nodos se puede obtener sin cambios de secuencia. En la siguiente sección, presentamos dos implementaciones de sistemas reales que revelan y abordan estos problemas prácticos. En la Sección 9 Evaluación del Sistema, presentamos una implementación del sistema de MSP en dos bancos de pruebas físicos. El primero se llama Mirage, un gran banco de pruebas cubierto compuesto por seis tableros de 4 pies por 8 pies, ilustrado en la Figura 19. Cada placa en el sistema puede ser utilizada como un sub-sistema individual, el cual es alimentado, controlado y medido por separado. Tres proyectores Hitachi CP-X1250, conectados a través de una caja de expansión gráfica Matrox Triplehead2go, se utilizan para crear una pantalla integrada ultra ancha en seis paneles. La Figura 19 muestra que una línea larga inclinada es generada por los proyectores. Hemos implementado las cinco versiones de MSP en el banco de pruebas Mirage, ejecutando 46 motas MICAz. A menos que se indique lo contrario, la configuración predeterminada es de 3 anclas y 6 escaneos a una velocidad de línea de escaneo de 8.6 pies por segundo. En todos nuestros gráficos, cada punto de datos representa el valor promedio de 50 pruebas. En el sistema al aire libre, se utiliza un altavoz Dell A525 para generar un sonido de 4.7KHz como se muestra en la Figura 20. Colocamos 20 motas MICAz en el patio trasero de una casa. Dado que la ubicación no está completamente abierta, las ondas sonoras se reflejan, dispersan y absorben por varios objetos en las cercanías, causando un efecto de multipath. En la evaluación del sistema, se aplican mecanismos simples de sincronización de tiempo en cada nodo. 9.1 Evaluación del Sistema en Interiores Durante los experimentos en interiores, nos encontramos con varios problemas del mundo real que no se revelan en la simulación. Primero, las secuencias obtenidas fueron parciales debido a errores de detección y pérdida de mensajes. Segundo, los elementos en las secuencias podrían cambiar debido al retraso en la detección, la incertidumbre en el acceso a los medios, o errores en la sincronización del tiempo. Mostramos que estos problemas pueden ser abordados utilizando el método de la banda de protección descrito en la Sección 7.3. 9.1.1 Sobre la Velocidad de Escaneo y la Banda de Protección En este experimento, estudiamos el impacto de la velocidad de escaneo y la longitud de la banda de protección en el rendimiento del sistema. En general, con el aumento de la velocidad de escaneo, los nodos tienen menos tiempo para responder al evento y el intervalo de tiempo entre dos nodos adyacentes se reduce, lo que conduce a un aumento en el número de secuencias parciales y cambios en la secuencia. La Figura 21 muestra las situaciones de volteo de nodos para seis escaneos con ángulos distintos bajo diferentes velocidades de escaneo. El eje x muestra la distancia entre los nodos volteados en la secuencia correcta de nodos. El eje y muestra el número total de volteos en las seis exploraciones. Esta figura nos indica que un escaneo más rápido no solo trae consigo un aumento en el número de cambios, sino también cambios a mayor distancia que requieren una banda de protección más amplia para evitar errores fatales. La Figura 22(a) muestra la efectividad de la banda de protección en términos de reducir el número de nodos no localizados. Cuando utilizamos una velocidad de escaneo moderada (4.3 pies/s), la probabilidad de volteo es rara, por lo tanto, podemos lograr una precisión media de 0.45 pies (Figura 22(b)) con un error máximo de 1.6 pies (Figura 22(c)). Con velocidades crecientes, la banda de protección debe ajustarse a un valor más grande para hacer frente al volteo. Interesantes fenómenos pueden ser observados en las Figuras 22: por un lado, la banda de protección puede reducir drásticamente el número de nodos no localizados; por otro lado, las bandas de protección amplían el área en la que un objetivo potencialmente residiría, introduciendo más incertidumbre. Por lo tanto, hay una curva cóncava tanto para el error medio como para el error máximo cuando la velocidad de escaneo es de 8.6 pies/s. 9.1.2 Sobre los Métodos MSP y la Banda de Protección En este experimento, mostramos las mejoras resultantes de tres métodos diferentes. La Figura 23(a) muestra que una banda de protección de 0.35 pies es suficiente para la velocidad de escaneo de 8.57 pies/s. Las figuras 23(b) y 23(c) muestran claramente que el MSP iterativo (con adaptación) logra el mejor rendimiento. Por ejemplo, la Figura 23(b) muestra que cuando establecemos la banda de protección en 0.05 pies, el MSP iterativo logra una precisión de 0.7 pies, que es un 42% más precisa que el diseño básico. De manera similar, las Figuras 23(b) y 23(c) muestran los efectos de doble filo de la banda de protección en la precisión de la localización. 0 5 10 15 20 0 20 40 (3) Distribución de volteos para 6 escaneos a una velocidad de línea de 14.6 pies/s. Volteos Distancia del nodo en la secuencia de nodos ideal 0 5 10 15 20 0 20 40 (2) Distribución de volteos para 6 escaneos a una velocidad de línea de 8.6 pies/s. Volteos 0 5 10 15 20 0 20 40 (1) Distribución de volteos para 6 escaneos a una velocidad de línea de 4.3 pies/s. Volteos Figura 21. Número de volteos para diferentes velocidades de escaneo 26 0 0.2 0.4 0.6 0.8 1 0 2 4 6 8 10 12 14 16 18 20 Número de Nodo No Localizado (Escaneo de Línea a Diferente Velocidad) Banda de Protección (en pies) Número deNodoNoLocalizado Velocidad de Escaneo de Línea: 14.6pies/s Velocidad de Escaneo de Línea: 8.6pies/s Velocidad de Escaneo de Línea: 4.3pies/s (a) Número de Nodos No Localizados 0 0.2 0.4 0.6 0.8 1 0.4 0.5 0.6 0.7 0.8 0.9 1 1.1 Error Medio (Escaneo de Línea a Diferente Velocidad) Banda de Protección (en pies) Error(en pies) Velocidad de Escaneo de Línea: 14.6pies/s Velocidad de Escaneo de Línea: 8.6pies/s Velocidad de Escaneo de Línea: 4.3pies/s (b) Error Medio de Localización 0 0.2 0.4 0.6 0.8 1 1.5 2 2.5 3 3.5 4 Error Máximo (Escaneo de Línea a Diferente Velocidad) Banda de Protección (en pies) Error(en pies) Velocidad de Escaneo de Línea: 14.6pies/s Velocidad de Escaneo de Línea: 8.6pies/s Velocidad de Escaneo de Línea: 4.3pies/s (c) Error Máximo de Localización Figura 22. Impacto de la Banda de Protección y Velocidad de Escaneo 0 0.2 0.4 0.6 0.8 1 0 2 4 6 8 10 12 14 16 18 20 Número de Nodo No Localizado (Velocidad de Línea de Escaneo 8.57 pies/s) Banda de Protección (en pies) Número de nodos no localizados de 46 Nodo no localizado de MSP Básico Nodo no localizado de MSP Basado en Secuencia Nodo no localizado de MSP Iterativo (a) Número de Nodos No Localizados 0 0.2 0.4 0.6 0.8 1 0.7 0.8 0.9 1 1.1 1.2 1.3 1.4 Error Medio (Velocidad de Línea de Escaneo 8.57 pies/s) Banda de Protección (en pies) Error (en pies) Error Medio de MSP Básico Error Medio de MSP Basado en Secuencia Error Medio de MSP Iterativo (b) Error Medio de Localización 0 0.2 0.4 0.6 0.8 1 1.5 2 2.5 3 3.5 4 Error Máximo (Velocidad de Línea de Escaneo 8.57 pies/s) Banda de Protección (en pies) Error (en pies) Error Máximo de MSP Básico Error Máximo de MSP Basado en Secuencia Error Máximo de MSP Iterativo (c) Error Máximo de Localización Figura 23. Impacto de la Banda de Protección bajo Diferentes Métodos de MSP 3 4 5 6 7 8 9 10 11 0 0.5 1 1.5 2 2.5 Número de Nodos No Localizados (Banda de Protección: 0.35 pies) Número de Anclaje Número de Nodos No Localizados 4 Eventos de Escaneo a Velocidad 8.75 pies/s 6 Eventos de Escaneo a Velocidad 8.75 pies/s 8 Eventos de Escaneo a Velocidad 8.75 pies/s (a) Número de Nodos No Localizados 3 4 5 6 7 8 9 10 11 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 Error Medio (Banda de Protección: 0.35 pies) Número de Anclaje Error (en pies) Error Medio de 4 Eventos de Escaneo a Velocidad 8.75 pies/s Error Medio de 6 Eventos de Escaneo a Velocidad 8.75 pies/s Error Medio de 8 Eventos de Escaneo a Velocidad 8.75 pies/s (b) Error Medio de Localización 3 4 5 6 7 8 9 10 11 0.8 1 1.2 1.4 1.6 1.8 2 2.2 2.4 2.6 2.8 Error Máximo (Banda de Protección: 0.35 pies) Número de Anclaje Error (en pies) Error Máximo de 4 Eventos de Escaneo a Velocidad 8.75 pies/s Error Máximo de 6 Eventos de Escaneo a Velocidad 8.75 pies/s Error Máximo de 8 Eventos de Escaneo a Velocidad 8.75 pies/s (c) Error Máximo de Localización Figura 24. Impacto del número de anclas y escaneos 9.1.3 en el número de anclas y escaneos. En este experimento, mostramos un equilibrio entre el costo de hardware (anclas) y el costo suave (eventos). La Figura 24(a) muestra que con más líneas de corte creadas por anclas, la probabilidad de nodos no localizados aumenta ligeramente. Observamos que con una banda de protección de 0.35 pies, el porcentaje de nodos no localizados es muy pequeño, por ejemplo, en el peor de los casos con 11 anclas, solo 2 de 46 nodos no están localizados debido a la inversión. Las figuras 24(b) y 24(c) muestran el equilibrio entre el número de anclas y el número de escaneos. Obviamente, a medida que aumenta el número de anclas, el error disminuye significativamente. Con 11 anclas podemos lograr una precisión de localización tan baja como 0.25 ∼ 0.35 pies, lo que supone casi un 60% de mejora. Del mismo modo, con un número creciente de escaneos, la precisión disminuye significativamente también. Podemos observar alrededor del 30% en todas las configuraciones de anclaje cuando aumentamos el número de escaneos de 4 a 8. Por ejemplo, con solo 3 anclas, podemos lograr una precisión de 0.6 pies con 8 escaneos. 9.2 Evaluación del Sistema Exterior La evaluación del sistema exterior consta de dos partes: (i) evaluación de la distancia efectiva de detección, que muestra que la secuencia de nodos se puede obtener fácilmente, y (ii) localización basada en la propagación del sonido, que muestra los resultados de la localización basada en la propagación de ondas. 9.2.1 Evaluación de la Distancia Efectiva de Detección En primer lugar, evaluamos el fenómeno de inversión de secuencia en la propagación de ondas. Como se muestra en la Figura 25, se colocaron 20 motas en cinco grupos frente al altavoz, con cuatro nodos en cada grupo a distancias aproximadamente iguales del altavoz. El espacio entre cada grupo se establece en 2, 3, 4 y 5 pies respectivamente en cuatro experimentos. La figura 26 muestra los resultados. El eje x en cada subgráfico indica el índice del grupo. Hay cuatro nodos en cada grupo (4 barras). El eje y muestra la clasificación de detección de cada nodo en la secuencia de nodos. A medida que aumenta la distancia entre cada grupo, el número de volteos en la secuencia de nodos resultante 27 Figura 25. Detección de ondas 1 2 3 4 5 0 5 10 15 20 distancia de grupo de 2 pies Rango Índice de grupo 1 2 3 4 5 0 5 10 15 20 distancia de grupo de 3 pies Rango Índice de grupo 1 2 3 4 5 0 5 10 15 20 distancia de grupo de 4 pies Rango Índice de grupo 1 2 3 4 5 0 5 10 15 20 distancia de grupo de 5 pies Rango Índice de grupo Figura 26. Clasificaciones vs. Distancias 0 2 4 6 8 10 12 14 16 18 20 22 24 0 2 4 6 8 10 12 14 Dimensión Y (pies) Dimensión X (pies) Nodo 0 2 4 6 8 10 12 14 16 18 20 22 24 0 2 4 6 8 10 12 14 Dimensión Y (pies) Dimensión X (pies) Figura de Anclaje 27. Error de localización (sonido) disminuye. Por ejemplo, en el subgrafo de distancia de 2 pies, hay bastantes cambios entre nodos en grupos adyacentes e incluso no adyacentes, mientras que en el subgrafo de 5 pies, los cambios entre diferentes grupos desaparecieron en la prueba. 9.2.2 Localización basada en la propagación del sonido Como se muestra en la Figura 20, se colocan 20 nodos como una cuadrícula que incluye 5 filas con 5 pies entre cada fila y 4 columnas con 4 pies entre cada columna. Se generan seis eventos de propagación de ondas acústicas de 4KHz alrededor de la rejilla de nodos mediante un altavoz. La Figura 27 muestra los resultados de localización utilizando MSP iterativo (procesamiento iterativo 3 veces) con una banda de protección de 3 pies. El error promedio de los resultados de localización es de 3 pies y el error máximo es de 5 pies con un nodo no localizado. Encontramos que la inversión de secuencia en la propagación de ondas es más severa que en la prueba en interiores basada en líneas. Esto se espera debido a la alta velocidad de propagación del sonido. Actualmente usamos el mote MICAz, que está equipado con un micrófono de baja calidad. Creemos que al utilizar un altavoz de mejor calidad y más eventos, el sistema puede ofrecer una mayor precisión. A pesar de las limitaciones de hardware, el algoritmo MSP logró localizar con éxito la mayoría de los nodos con buena precisión. En este artículo, presentamos el primer trabajo que explota el concepto de procesamiento de secuencia de nodos para localizar nodos sensores. Demostramos que podríamos mejorar significativamente la precisión de la localización al aprovechar al máximo la información incrustada en múltiples secuencias de nodos unidimensionales fáciles de obtener. Propusimos cuatro nuevos métodos de optimización, aprovechando el orden y la distribución marginal entre los nodos no ancla, así como la información de retroalimentación de los resultados de localización temprana. Importante, estos métodos de optimización pueden ser utilizados juntos y mejorar la precisión de manera aditiva. Los problemas prácticos de la secuencia parcial de nodos y el cambio de secuencia fueron identificados y abordados en dos bancos de pruebas de sistemas físicos. También evaluamos el rendimiento a gran escala a través de análisis, así como de extensas simulaciones. Los resultados demuestran que, sin necesidad de hardware costoso en los nodos sensores ni una distribución precisa de eventos, MSP puede lograr una precisión de menos de un pie con muy pocos nodos ancla siempre que haya eventos suficientes. 11 Referencias [1] Hoja de datos CC2420. Disponible en http://www.chipcon.com/. [2] P. Bahl y V. N. Padmanabhan. Radar: Un sistema de localización y seguimiento de usuarios en interiores basado en RF. En IEEE Infocom 00. [3] M. Broxton, J. Lifton y J. Paradiso. Localización de una red de sensores a través del procesamiento colaborativo de estímulos globales. En EWSN 05. [4] N. Bulusu, J. Heidemann y D. Estrin. Localización exterior de bajo costo sin GPS para dispositivos muy pequeños. Revista de Comunicaciones Personales del IEEE, 7(4), 2000. [5] D. Culler, D. Estrin y M. Srivastava. Resumen de Redes de Sensores. Revista IEEE Computer, 2004. [6] J. Elson, L. Girod y D. Estrin. Sincronización de tiempo de red de grano fino utilizando transmisiones de referencia. En OSDI 02. [7] D. K. Goldenberg, P. Bihler, M. Gao, J. Fang, B. D. Anderson, A. Morse y Y. Yang. Localización en redes dispersas utilizando barridos. En MobiCom 06. [8] T. He, C. Huang, B. M. Blum, J. A. Stankovic y T. Abdelzaher. Esquemas de localización sin rango en redes de sensores a gran escala. En MobiCom 03. [9] B. Kusy, P. Dutta, P. Levis, M. Mar, A. Ledeczi y D. Culler. Tiempo transcurrido en la llegada: un primitivo simple y versátil para servicios de sincronización de tiempo canónico. Revista Internacional de Computación ad-hoc y Ubicua, 2(1), 2006. [10] L. Lazos y R. Poovendran. SeRLoc: Localización segura e independiente del rango para redes de sensores inalámbricos. En WiSe 04. [11] M. Maroti, B. Kusy, G. Balogh, P. Volgyesi, A. Nadas, K. Molnar, S. Dora y A. Ledeczi. Geolocalización interferométrica por radio. En SenSys 05. [12] M. Maroti, B. Kusy, G. Simon y A. Ledeczi. El Protocolo de Sincronización de Tiempo por Inundación. En SenSys 04. [13] D. Moore, J. Leonard, D. Rus y S. Teller. Localización robusta de redes distribuidas con mediciones de rango de ruido. En SenSys 04. [14] R. Nagpal y D. Coore. Un algoritmo para la formación de grupos en una computadora amorfa. En PDCS 98. [15] D. Niculescu y B. Nath. Sistema de Posicionamiento Ad-hoc. En GlobeCom 01. [16] D. Niculescu y B. Nath. Sistema de Posicionamiento Ad-hoc (APS) utilizando AOA. En InfoCom 03. [17] N. B. Priyantha, A. Chakraborty y H. Balakrishnan. El Sistema de Soporte de Localización de Grillos. En MobiCom 00. [18] K. R¨omer. El Sistema de Localización de Faros para Polvo Inteligente. En MobiSys 03. [19] A. Savvides, C. C. Han y M. B. Srivastava. Localización dinámica de alta precisión en redes ad-hoc de sensores. En MobiCom 01. [20] R. Stoleru, T. He, J. A. Stankovic y D. Luebke. Un sistema de localización de alta precisión y bajo costo para redes de sensores inalámbricos. En SenSys 05. [21] R. Stoleru, P. Vicaire, T. He y J. A. Stankovic. StarDust: una arquitectura flexible para la localización pasiva en redes de sensores inalámbricos. En SenSys 06. [22] E. W. Weisstein. División de un plano por líneas. mathworld.wolfram.com. [23] B. H. Wellenhoff, H. Lichtenegger y J. Collins. Sistema de Posicionamiento Global: Teoría y Práctica, Cuarta Edición. Springer Verlag, 1997. [24] K. Whitehouse. 

Springer Verlag, 1997. [24] K. Whitehouse. El diseño de Calamari: un sistema de localización ad-hoc para redes de sensores. En la Universidad de California en Berkeley, 2002. [25] Z. Zhong. Informe de Evaluación e Implementación de MSP. Disponible en http://www.cs.umn.edu/∼zhong/MSP. [26] G. Zhou, T. He y J. A. Stankovic. Impacto de la irregularidad de la radio en las redes de sensores inalámbricos. En MobiSys 04.