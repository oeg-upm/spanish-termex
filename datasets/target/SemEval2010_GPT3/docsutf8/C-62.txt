Monitores de red y sistemas de contratación: Competencia e innovación Paul Laskowski John Chuang UC Berkeley {paul,chuang}@sims.berkeley.edu RESUMEN La industria de Internet de hoy sufre de varias patologías bien conocidas, pero ninguna es tan destructiva a largo plazo como su resistencia a la evolución. En lugar de introducir nuevos servicios, los proveedores de servicios de Internet están actualmente avanzando hacia una mayor commoditización. Es evidente que el primitivo sistema de contratos de la red no alinea adecuadamente los incentivos. En este estudio, identificamos la falta de responsabilidad de las redes como un obstáculo fundamental para corregir este problema: empleando un modelo económico, argumentamos que las rutas óptimas y la innovación son imposibles a menos que se introduzca una nueva capacidad de monitoreo y se incorpore al sistema de contratación. Además, determinamos los requisitos mínimos que un sistema de monitoreo debe cumplir para respaldar el enrutamiento de primera calidad y las características de innovación. Nuestro trabajo no constituye un nuevo protocolo; más bien, proporcionamos orientación práctica y específica para el diseño de sistemas de monitoreo, así como un marco teórico para explorar los factores que influyen en la innovación. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría, Medición, Diseño, Aspectos Legales. 1. INTRODUCCIÓN Muchos estudios previos han señalado la resistencia de Internet a nuevos servicios y evolución. En las últimas décadas, numerosas ideas han sido desarrolladas en universidades, implementadas en código e incluso escritas en los routers y sistemas finales de la red, solo para languidecer mientras los operadores de red no las activan a gran escala. La lista incluye Multicast, IPv6, IntServ y DiffServ. Sin los incentivos necesarios para activar servicios, parece haber pocas esperanzas de que los proveedores de servicios de Internet dediquen recursos adecuados al desarrollo de nuevas ideas. A largo plazo, esta patología se destaca como un obstáculo crítico para el éxito continuo de la red (Ratnasamy, Shenker y McCanne proporcionan una extensa discusión en [11]). En una escala de tiempo más pequeña, los proveedores de servicios de Internet evitan nuevos servicios a favor de medidas de reducción de costos. Por lo tanto, la red tiene características de un mercado de productos básicos. Aunque en teoría, los proveedores de servicios de Internet tienen a su disposición una gran cantidad de políticas de enrutamiento, la estrategia predominante es enrutar de la manera más económica posible [2]. Por un lado, esto conduce directamente a un enrutamiento subóptimo. Más importante aún, la mercantilización a corto plazo está seguramente relacionada con la falta de innovación a largo plazo. Cuando las decisiones de enrutamiento de otros ignoran las características de calidad, los ISP solo se motivan a reducir costos. Simplemente no hay recompensa por introducir nuevos servicios o invertir en mejoras de calidad. En respuesta a estas patologías y otras, los investigadores han presentado varias propuestas para mejorar la situación. Estos pueden dividirse según tres estrategias de alto nivel: La primera intenta mejorar el estado actual empoderando a los usuarios finales. Clark, et al., sugieren que dar a los usuarios finales control sobre el enrutamiento conduciría a una mayor diversidad de servicios, reconociendo que también se debe proporcionar algún mecanismo de pago [5]. Ratnasamy, Shenker y McCanne postulan un vínculo entre la evolución de la red y el enrutamiento dirigido por el usuario [11]. Proponen un sistema de Anycast para dar a los usuarios finales la capacidad de enviar sus paquetes a través de un ISP que implementa un protocolo deseable. Los autores sugieren que el tráfico adicional al ISP motivará la inversión inicial. La segunda estrategia sugiere una revisión del sistema de contratación. Esto se ejemplifica por MacKie-Mason y Varian, quienes proponen un mercado inteligente para controlar el acceso a los recursos de red [10]. Los precios se establecen en el nivel de liquidación del mercado basado en las ofertas que los usuarios asocian a su tráfico. En otra dirección, Afergan y Wroclawski sugieren que los precios deberían ser codificados explícitamente en los protocolos de enrutamiento [2]. Argumentan que tal medida mejorarí­a la estabilidad y alinearí­a los incentivos. La tercera estrategia de alto nivel requiere una mayor responsabilidad de la red. En este sentido, Argyraki, et al., proponen un sistema de obituarios de paquetes para proporcionar retroalimentación sobre qué ISP elimina paquetes [3]. Argumentan que dicho feedback ayudaría a revelar qué proveedores de servicios de internet estaban cumpliendo adecuadamente con sus obligaciones contractuales. A diferencia de las dos estrategias anteriores, no tenemos conocimiento de ningún estudio previo que haya relacionado la responsabilidad con las patologías de la mercantilización o la falta de innovación. Es claro que estas tres estrategias están estrechamente vinculadas entre sí (por ejemplo, [2], [5] y [9] argumentan que dar a los usuarios finales control sobre el enrutamiento dentro del sistema de contratación actual es problemático). Hasta hoy, sin embargo, la relación entre ellos ha sido poco comprendida. Actualmente hay poca base teórica para comparar los méritos relativos de cada propuesta, y una falta particular de evidencia que vincule la responsabilidad con la innovación y la diferenciación del servicio. Este documento abordará ambos problemas. Comenzaremos presentando un modelo de red económica que relaciona la responsabilidad, los contratos, la competencia y la innovación. Nuestro modelo es altamente estilizado y puede considerarse preliminar: se basa en una única fuente enviando datos a un único destino. Sin embargo, la estructura es lo suficientemente rica como para exponer características del comportamiento de la red que no se habían visto antes. Utilizaremos nuestro modelo para dos propósitos principales: en primer lugar, lo utilizaremos para argumentar que la falta de responsabilidad en la red actual es un obstáculo fundamental para superar las patologías de la mercantilización y la falta de innovación. En otras palabras, a menos que se introduzcan nuevas capacidades de monitoreo e se integren con el sistema de contratos, la red no puede lograr un enrutamiento óptimo y características de innovación. Este resultado proporciona motivación para el resto del documento, en el cual exploramos cómo la responsabilidad puede ser aprovechada para superar estas patologías y crear una industria sostenible. Abordaremos este problema desde una perspectiva de tabula rasa, derivando el nivel de responsabilidad necesario para mantener una estructura competitiva ideal. Cuando decimos que el Internet actual tiene una baja responsabilidad, nos referimos a que revela poca información sobre el comportamiento - o mal comportamiento - de los proveedores de servicios de Internet. Este rasgo bien conocido tiene sus raíces principalmente en la historia de la red. Al describir la filosofía de diseño detrás de los protocolos de Internet, Clark enumera la responsabilidad como el menos importante entre siete objetivos de segundo nivel. En consecuencia, la responsabilidad recibió poca atención durante los primeros años de formación de las redes. Clark relaciona esto con el contexto militar de las redes, y descubre que si la red hubiera sido diseñada para el desarrollo comercial, la responsabilidad habría sido una prioridad principal. Argyraki, et al., postulan que la aplicación de los principios de estratificación y transparencia podría haber llevado a la falta de responsabilidad de la red [3]. Según estos principios, los hosts finales deben ser informados de los problemas de red solo en la medida en que sea necesario para adaptarse. Detectan cuándo se producen caídas de paquetes para poder realizar control de congestión y retransmitir los paquetes. Los detalles de dónde y por qué ocurren las gotas están deliberadamente ocultos. La falta de responsabilidad de las redes es muy relevante para una discusión sobre la innovación porque limita el sistema de contratos. Esto se debe a que los contratos dependen de instituciones externas para funcionar, como el juez en el lenguaje de la teoría de los contratos incompletos, o simplemente el sistema legal. En última instancia, si un juez no puede verificar que alguna condición se cumple, no puede hacer cumplir un contrato basado en esa condición. Por supuesto, la gran mayoría de los contratos nunca llegan a los tribunales. Especialmente cuando el fallo de un juez es fácilmente predecible, las partes suelen cumplir voluntariamente con los términos del contrato. Esto no sería posible, sin embargo, sin que el juez actúe como último recurso. Una institución para respaldar contratos suele ser compleja, pero la simplificamos de la siguiente manera: imaginamos que un contrato es un algoritmo que genera una transferencia de pago entre un conjunto de ISP (las partes) en cada momento. Este pago es una función de los comportamientos pasados y presentes de los participantes, pero solo aquellos que son verificables. Por lo tanto, imaginamos que un contrato solo acepta pruebas como entradas. Llamaremos a cualquier proceso que genere estas pruebas un monitor contractible. Un monitor de este tipo incluye dispositivos de medición o sensores en la red física, pero es un concepto más general. La construcción de una prueba de un comportamiento particular puede requerir lecturas de varios dispositivos distribuidos entre muchos proveedores de servicios de Internet. El monitor contractible incluye cualquier mecanismo algorítmico distribuido que se utilice para motivar a los proveedores de servicios de Internet a compartir esta información privada. La Figura 1 muestra cómo nuestro modelo de contratos encaja entre sí. Hacemos la suposición de que todos los pagos son mediados por contratos. Esto significa que sin monitores contractibles que atestigüen, por ejemplo, la latencia, los pagos no pueden condicionarse a la latencia. Figura 1: Relación entre monitores y contratos. Con este modelo, podemos concluir que el nivel de responsabilidad en el Internet de hoy solo permite contratos de mejor esfuerzo. Los nodos no pueden condicionar los pagos ni a la calidad ni a las características del camino. ¿Hay algo malo con los contratos de mejor esfuerzo? El lector podría preguntarse por qué el Internet necesita contratos en absoluto. Después de todo, en industrias no relacionadas con redes, las empresas tradicionales invierten en investigación y diferencian sus productos, todo con la esperanza de retener a sus clientes y asegurar nuevos. Uno podría creer que tales fuerzas del mercado también se aplican a los proveedores de servicios de Internet. Podemos adoptar esto como nuestra hipótesis nula: Hipótesis nula: Las fuerzas del mercado son suficientes para mantener la diversidad de servicios y la innovación en una red, al menos en la misma medida que lo hacen en los mercados tradicionales. Hay un argumento intuitivo popular que respalda esta hipótesis, y se puede resumir de la siguiente manera: Argumento intuitivo que respalda la hipótesis nula: 1. Los proveedores de acceso intentan aumentar su calidad para atraer a más consumidores. Los proveedores de acceso son a su vez clientes de los proveedores de segundo salto, por lo que los segundos saltos intentarán proporcionar un servicio de alta calidad para asegurar el tráfico de los proveedores de acceso. Los proveedores de acceso intentan seleccionar tránsito de alta calidad porque eso aumenta su calidad. El proceso continúa a través de la red, brindando a cada ISP una razón competitiva para aumentar la calidad. Somos cuidadosos al modelar nuestra red en tiempo continuo, con el fin de capturar la esencia de este argumento. Podemos, por ejemplo, especificar equilibrios en los que los nodos cambian a un nuevo salto siguiente en caso de una disminución en la calidad. Además, nuestro modelo nos permite explorar cualquier castigo teóricamente posible contra los tramposos, incluidos aquellos que resultan costosos de administrar para los usuarios finales. Por el contrario, los clientes en el mundo real rara vez responden de manera colectiva y a menudo simplemente buscan la mejor oferta disponible en ese momento. Estas limitaciones restringen su capacidad para castigar a los tramposos. Incluso con estas suposiciones liberales, sin embargo, encontramos que debemos rechazar nuestra hipótesis nula. Nuestro modelo demostrará que identificar a un proveedor de servicios de internet que hace trampa es difícil bajo una baja responsabilidad, lo que limita la amenaza de un castigo impulsado por el mercado. Definiremos un índice de comercialización y demostraremos que aumenta sin límite a medida que las rutas de datos se alargan. Además, demostraremos un marco en el que la inversión máxima en investigación de un ISP disminuye hiperbólicamente con su distancia del usuario final. Para resumir, sostenemos que la falta de responsabilidad de Internet debe abordarse antes de que se puedan resolver las patologías de la mercantilización y la falta de innovación. Esto nos lleva a nuestro próximo tema: ¿Cómo podemos aprovechar la responsabilidad para superar estas patologías? Abordamos esta pregunta desde una perspectiva de pizarra limpia. En lugar de centrarnos en mejoras incrementales, intentamos imaginar cómo se comportaría una industria ideal, y luego derivamos el nivel de responsabilidad necesario para alcanzar ese objetivo. Según este enfoque, primero creamos un nuevo concepto de equilibrio apropiado para la competencia en redes. Nuestro concepto incluye los siguientes requisitos: Primero, requerimos que castigar a los proveedores de servicios de Internet que hacen trampa se haga sin redirigir la ruta. Es probable que el redireccionamiento incite a los usuarios finales a cambiar de proveedores, castigando a los proveedores de acceso que administren correctamente los castigos. A continuación, requerimos que el equilibrio no pueda ser amenazado por una coalición de proveedores de servicios de Internet que intercambie pagos laterales ilícitos. Finalmente, requerimos que el mecanismo de castigo que hace cumplir los contratos no castigue a nodos inocentes que no estén en la coalición. El último requisito es algo poco convencional desde una perspectiva económica, pero sostenemos que es crucial para cualquier solución razonable. Aunque los proveedores de servicios de Internet (ISPs) ofrecen servicios complementarios cuando forman juntos una ruta de datos, es probable que también sean competidores horizontales. Si los nodos inocentes pueden ser castigados, un ISP puede decidir engañar deliberadamente y atraer el castigo hacia sí mismo y sus vecinos. Al hacer trampa, el ISP puede ahorrar recursos, asegurando así que el castigo sea más perjudicial para los otros ISP, que probablemente compiten directamente con el tramposo por algunos clientes. En el caso extremo, el tramposo podría obligar a los otros proveedores de servicios de Internet a cerrar, obteniendo así un monopolio en algunas rutas. Aplicando este concepto de equilibrio, derivamos los monitores necesarios para mantener la innovación y optimizar las rutas. La solución es sorprendentemente simple: los monitores contractibles deben informar sobre la calidad del resto del camino, desde cada ISP hasta el destino. Resulta que este es el requisito mínimo de responsabilidad correcto, en contraposición a los monitores de extremo a extremo o de salto a salto, como uno podría sospechar inicialmente. Los monitores del resto de la ruta pueden implementarse de varias formas. Pueden ser algoritmos puramente locales que escuchan los ecos de paquetes. Alternativamente, pueden ser distribuidos en la naturaleza. Describimos una forma de construir un monitor de resto de ruta a partir de monitores de calidad de ISP individuales y de la ruta de datos. Esto requiere un mecanismo para motivar a los proveedores de servicios de Internet a compartir sus salidas de monitoreo entre sí. El resto del monitor de ruta incluye los monitores de componentes y el mecanismo algorítmico distribuido que garantiza que la información se comparta según sea necesario. Este ejemplo muestra que otros tipos de monitores pueden ser útiles como bloques de construcción, pero deben combinarse para formar monitores de ruta restantes con el fin de lograr características ideales de innovación. Nuestro estudio tiene varias implicaciones prácticas para el diseño de protocolos futuros. Mostramos que es necesario implementar e integrar nuevos monitores con el sistema de contratación antes de que se puedan superar las patologías de la mercantilización y la falta de innovación. Además, determinamos exactamente qué monitores son necesarios para optimizar rutas y apoyar la innovación. Además, nuestros resultados proporcionan información útil para el diseño arquitectónico desde cero, y utilizamos varias técnicas novedosas que esperamos sean aplicables a una variedad de investigaciones futuras. El resto de este documento está organizado de la siguiente manera: En la sección 2, presentamos nuestro modelo básico de red. En la sección 3, presentamos una red de baja responsabilidad, modelada según el Internet de hoy en día. Demostramos cómo un monitoreo deficiente provoca la mercantilización y la falta de innovación. En la sección 4, presentamos monitores verificables y demostramos que las pruebas, incluso sin contratos, pueden mejorar el estado actual. En la sección 5, dirigimos nuestra atención a monitores contractibles. Mostramos que los monitores de ruta restantes pueden soportar juegos de competencia con enrutamiento óptimo e innovación. Mostramos además que se requiere que el resto de monitores de ruta apoyen este tipo de juegos de competencia. Continuamos discutiendo cómo estos monitores pueden ser construidos utilizando otros monitores como bloques de construcción. En la sección 6, concluimos y presentamos varias direcciones para investigaciones futuras. 2. MODELO DE RED BÁSICO Un origen, S, desea enviar datos a un destino, D. S y D son nodos en un grafo dirigido y acíclico, con un conjunto finito de nodos intermedios, { }NV ,...2,1= , que representan a los proveedores de servicios de internet. Todos los caminos llevan a D, y cada nodo no conectado a D tiene al menos dos opciones para el siguiente salto. Representaremos la calidad mediante un espacio vectorial de dimensión finita, Q, llamado el espacio de calidad. Cada dimensión representa una característica de red distinta que preocupa a los usuarios finales. Por ejemplo, la latencia, la probabilidad de pérdida, la variabilidad temporal y la versión de IP pueden asignarse a cada dimensión. A cada nodo, i, le asociamos un vector en el espacio de calidad, Qqi ∈ . Esto corresponde a la calidad que experimentaría un usuario si yo fuera el único proveedor de servicios de Internet en la ruta de datos. Sea N Q∈q el vector de todas las cualidades de los nodos. Por supuesto, cuando los datos pasan a través de múltiples nodos, sus cualidades se combinan de alguna manera para producir una calidad de ruta. Representamos esto mediante una operación binaria asociativa, *: QQQ →×. Para la ruta ( )nvvv ,...,, 21 , la calidad está dada por nvvv qqq ∗∗∗ ...21. La operación * refleja las características de cada dimensión de calidad. Por ejemplo, * puede actuar como una adición en el caso de latencia, multiplicación en el caso de probabilidad de pérdida, o una función de argumento mínimo en el caso de seguridad. Cuando los datos fluyen a lo largo de un camino completo desde S hasta D, el origen y el destino, generalmente considerados como un solo jugador, disfrutan de una utilidad dada por una función de la calidad del camino, →Qu : . Cada nodo a lo largo del camino, i, experimenta algún costo de transmisión, ci. 2.1 Dinámica del juego En última instancia, estamos más interesados en políticas que promuevan la innovación en la red. En este estudio, utilizaremos la innovación en un sentido bastante general. La innovación describe cualquier inversión realizada por un ISP que modifica su vector de calidad de manera que al menos una ruta potencial de datos ofrezca una utilidad mayor. Esto incluye investigar un nuevo algoritmo de enrutamiento que disminuye la cantidad de variabilidad temporal que experimentan los usuarios. También incluye implementar un nuevo protocolo que soporte la calidad de servicio. Incluso de manera más amplia, la compra de nuevo equipo para disminuir la latencia de S D 185 también puede ser considerada como innovación. La innovación puede ser considerada como el proceso a nivel micro mediante el cual la red evoluciona. Nuestro análisis está limitado en un aspecto crucial: nos enfocamos en inventos que un solo ISP puede implementar para mejorar la experiencia del usuario final. Esto excluye tecnologías que requieren la adopción por parte de todos los proveedores de servicios de Internet en la red para funcionar. Debido a que estas tecnologías no generan una ventaja competitiva, recompensarlas es difícil y puede requerir propiedad intelectual u alguna otra distorsión del mercado. Dejamos este interesante tema para trabajos futuros. Al principio, puede parecer poco claro cómo un proceso distribuido a gran escala como la innovación puede ser influenciado por detalles mecánicos como los monitores de redes. Nuestro modelo debe establecer esta conexión de manera realista. La tasa de innovación depende de las ganancias que los posibles innovadores esperan en el futuro. La recompensa generada por una invención debe superar el costo total de desarrollarla, o el inventor no invertirá racionalmente. Esta recompensa, a su vez, está regida por el entorno competitivo en el que opera la empresa, incluido el proceso por el cual las empresas seleccionan precios y acuerdan contratos entre sí. Por supuesto, estas decisiones dependen de cómo se establecen las rutas y de cómo los contratos determinan los intercambios monetarios reales. Cualquier modelo de innovación de red debe relacionar al menos tres procesos distintos: innovación, competencia y enrutamiento. Seleccionamos una dinámica de juego que haga la relación entre estos procesos lo más explícita posible. Esto se representa esquemáticamente en la Figura 2. La etapa de innovación ocurre primero, en el tiempo t=2. En esta etapa, cada agente decide si invertir o no en investigación. Si ella decide no hacerlo, su calidad permanece fija. Si ella realiza una inversión, su calidad puede cambiar de alguna manera. No es necesario que especifiquemos cómo se producen dichos cambios. Las decisiones de los agentes en esta etapa determinan el vector de cualidades, q, conocimiento común para el resto del juego. A continuación, en el tiempo 1−=t, los agentes participan en la etapa de competencia, en la que se acuerdan los contratos. En la industria actual, estos contratos incluyen precios para el acceso de tránsito y acuerdos de interconexión. Dado que el acceso se proporciona de acuerdo con el mejor esfuerzo, un acuerdo de tránsito simplemente puede ser representado por su precio. Otros sistemas de contratación que exploraremos requerirán más detalle. Finalmente, comenzando en 0=t, las empresas participan en la etapa de enrutamiento. Otra investigación ya ha utilizado juegos repetidos para estudiar el enrutamiento, por ejemplo [1], [12]. La repetición revela efectos interesantes que no son visibles en un juego de una sola etapa, como la colusión informal para elevar los precios en [12]. Utilizamos un juego en tiempo continuo para estudiar tales propiedades. Por ejemplo, más adelante preguntaremos si un jugador mantendrá una calidad superior a la requerida por sus contratos, con la esperanza de mantener su base de clientes o atraer futuros clientes. Nuestra dinámica refleja el hecho de que los proveedores de servicios de Internet toman decisiones de innovación con poca frecuencia. Aunque las empresas reales tienen múltiples oportunidades para innovar, cada oportunidad es seguida por un largo período de tiempo en el que las cualidades están fijas. La decisión de invertir se centra en cómo la nueva calidad de la empresa mejorará los contratos en los que puede participar. Por lo tanto, nuestro modelo sitúa la innovación en la etapa más temprana, intentando capturar una única decisión de inversión. Las decisiones de contratación se toman en una escala de tiempo intermedia, por lo tanto, aparecen a continuación en la dinámica. Las decisiones de enrutamiento se toman con mucha frecuencia, principalmente para maximizar los flujos de ganancias inmediatas, por lo que aparecen en la última etapa. Debido a este ordenamiento, nuestro modelo no permite a las empresas enrutarse estratégicamente para afectar decisiones futuras de innovación o contratación. En oposición, Afergan y Wroclawski argumentan que los contratos se forman en respuesta a los patrones de tráfico actuales, en un bucle de retroalimentación [2]. Aunque somos comprensivos con su observación, tal adición haría que nuestro análisis fuera intratable. Nuestro modelo es más realista cuando las decisiones de contratación son poco frecuentes. A lo largo de este documento, nuestro concepto de solución será un equilibrio perfecto en subjuegos (SPE). Un SPE es un punto de estrategia que es un equilibrio de Nash cuando se restringe a cada subjuego. Tres subjuegos importantes han sido etiquetados en la Figura 2. El juego de la innovación incluye las tres etapas. El juego de competencia incluye solo la etapa de competencia y la etapa de enrutamiento. El juego de enrutamiento incluye solo la etapa de enrutamiento. Un SPE garantiza que los jugadores tienen una visión a futuro. Esto significa, por ejemplo, que en la etapa de competencia, las empresas deben actuar de manera racional, maximizando sus ganancias esperadas en la etapa de enrutamiento. No pueden llevar a cabo las amenazas que hicieron en la etapa de innovación si eso reduce su ganancia esperada. Nuestro esquema ya sugiere que el juego de enrutamiento es crucial para promover la innovación. Para apoyar la innovación, el juego de competencia debe recompensar de alguna manera a los proveedores de servicios de Internet con alta calidad. Pero eso significa que el juego de enrutamiento debe tender a enrutarse hacia nodos de alta calidad. Si el juego de enrutamiento siempre selecciona las rutas de menor costo, por ejemplo, la innovación no será apoyada. Apoyaremos esta observación con un análisis posterior. 2.2 El Juego de Enrutamiento El juego de enrutamiento avanza en tiempo continuo, con todos los jugadores descontando por un factor común, r. Las salidas de las etapas anteriores, q y el conjunto de contratos, se tratan como parámetros exógenos para este juego. Para cada tiempo 0≥t, cada nodo debe seleccionar un próximo salto para enrutar los datos. Los datos fluyen a lo largo de la ruta resultante, causando flujo de utilidad hacia S y D, y un costo de flujo a los nodos en la ruta, como se describe arriba. Los flujos de pago también se crean, basados en los contratos existentes. Relacionando nuestro juego con el conocido dilema del prisionero repetido, imagina que estamos tratando de imponer un camino de alta calidad, pero costoso. Como argumentamos brevemente anteriormente, dichos caminos deben ser sostenibles para poder apoyar la innovación. Cada ISP en el camino intenta maximizar su propio pago, neto de costos, por lo que es posible que no quiera cooperar con nuestro plan. Más bien, si ella puede encontrar una forma de ahorrar en costos, a expensas de la alta calidad que deseamos, se sentirá tentada a hacerlo. Juego de Innovación Competencia Juego de Enrutamiento Etapa de Innovación Etapa de Competencia Etapa de Enrutamiento Cualidades (q) Contratos (precios) Ganancias t = -2 t = -1 t ∈ [0, ) Figura 2: Dinámica del Juego De manera análoga al dilema del prisionero, llamaremos a tal decisión hacer trampa. Un poco más formalmente, hacer trampa se refiere a cualquier acción que un ISP pueda tomar, en contra de algún punto estratégico objetivo que estamos tratando de imponer, que mejora su beneficio inmediato, pero compromete la calidad de la ruta de datos. Un tipo de trampa se relaciona con la ruta de datos. Cada nodo en el camino tiene que pagar al siguiente nodo para entregar su tráfico. Si el siguiente nodo ofrece un tránsito de alta calidad, podríamos esperar que un nodo de menor calidad ofrezca un precio más bajo. Cada nodo en el camino se sentirá tentado a enrutar hacia un siguiente salto más barato, aumentando sus ganancias inmediatas, pero disminuyendo la calidad del camino. Llamaremos a este tipo de acción hacer trampa en la ruta. Otra posibilidad que podemos modelar es que un nodo encuentre una forma de ahorrar en sus costos internos de reenvío, a expensas de su propia calidad. Llamaremos a esto trampa internamente para distinguirlo de hacer trampa en la ruta. Por ejemplo, un nodo podría descartar paquetes más allá de la tasa requerida para el control de congestión, con el fin de reducir la velocidad de los flujos TCP y así ahorrar en costos de reenvío [3]. Alternativamente, un nodo que emplee calidad de servicio podría asignar a los paquetes de alta prioridad una clase de servicio más baja, ahorrando recursos y quizás permitiéndose vender más servicios de alta prioridad. Si tanto hacer trampa en el camino como hacer trampa internamente es rentable, la ruta especificada no será un equilibrio. Suponemos que el engaño nunca puede ser descubierto instantáneamente. Por el contrario, un tramposo siempre puede disfrutar de la recompensa de hacer trampa durante algún tiempo positivo, al que llamamos 0t. Esto incluye el tiempo para que otros jugadores detecten y reaccionen al engaño. Si el proveedor tiene un contrato que incluye un período de fidelización del cliente, también incluye el tiempo hasta que los clientes pueden cambiarse a un nuevo proveedor de servicios de internet. Como veremos más adelante, es beneficioso socialmente disminuir 0t, por lo que este encierro es perjudicial para el bienestar. 3. PATOLOGÍAS DE UNA RED CON POCA RESPONSABILIDAD Para motivar una exploración de los sistemas de monitoreo, comenzamos en esta sección considerando una red con un bajo grado de responsabilidad, modelada según el Internet de hoy en día. Mostraremos cómo la falta de monitoreo necesariamente conduce a un enrutamiento deficiente y disminuye la tasa de innovación. Por lo tanto, la falta de responsabilidad de las redes es un obstáculo fundamental para resolver estas patologías. 3.1 Responsabilidad en el Internet Actual. Primero, reflexionamos sobre qué características de responsabilidad tiene el Internet actual. Argyraki, et al., señalan que a los hosts finales se les proporciona información mínima sobre las caídas de paquetes [3]. Los usuarios saben cuándo ocurren las caídas, pero no dónde ocurren, ni por qué. Los paquetes perdidos pueden representar la señalización inocente de congestión, o, como mencionamos anteriormente, pueden ser una forma de trampa interna. El problema es similar para otras dimensiones de calidad, o de hecho más agudo. Encontrar un ISP que dé prioridad alta a los paquetes de datos de una clase de servicio inferior, por ejemplo, se complica aún más por la falta de herramientas de diagnóstico básicas. De hecho, es igualmente difícil identificar un proveedor de servicios de Internet que haga trampas en la ruta. Huston señala que el flujo de tráfico en Internet no siempre corresponde a la información de enrutamiento [8]. Un ISP puede entregar un paquete a un vecino independientemente de las rutas que ese vecino haya anunciado. Además, los bloques de direcciones se resumen juntos para hosts distantes, por lo que un destino puede que ni siquiera sea resoluble hasta que los paquetes sean reenviados más cerca. Uno podría argumentar que herramientas de diagnóstico como ping y traceroute pueden identificar a los tramposos. Desafortunadamente, Argyraki, et al., explican que estas herramientas solo revelan si los paquetes de sonda son eco, no el destino de los paquetes pasados [3]. Por lo tanto, por ejemplo, son ineficaces para detectar caídas de paquetes de baja frecuencia. Incluso más fundamentalmente, un tramposo sofisticado siempre puede detectar paquetes de diagnóstico y darles un tratamiento especial. Como complicación adicional, un tramposo puede asumir diferentes alias para los paquetes de diagnóstico que llegan por rutas diferentes. Como veremos a continuación, esto le da al tramposo una ventaja significativa para escapar del castigo por mal comportamiento, incluso si la ruta de los datos es de otra manera observable. 3.2 Modelado de Baja Responsabilidad Como sugiere la evidencia anterior, la industria actual permite muy poca visión sobre el comportamiento de la red. En esta sección, intentamos capturar esta falta de responsabilidad en nuestro modelo. Comenzamos definiendo un monitor, nuestro modelo de la forma en que los jugadores reciben información externa sobre el comportamiento de la red. Un monitor es cualquier mecanismo algorítmico distribuido que se ejecuta en el grafo de la red y emite, a nodos específicos, declaraciones informativas sobre el comportamiento actual o pasado de la red. Suponemos que toda la información externa sobre el comportamiento de la red está mediada de esta manera. Las propiedades de responsabilidad de Internet pueden ser representadas por los siguientes monitores: E2E (de extremo a extremo): Un monitor que informa a S/D sobre cuál es la calidad total del camino en cualquier momento (esta es la calidad que experimentan). ROP (Rest of Path): Un monitor que informa a cada nodo a lo largo de la ruta de datos cuál es la calidad para el resto del camino hacia el destino. PRc (Paquetes Recibidos): Un monitor que indica a los nodos cuántos datos aceptan entre sí, para que puedan cobrar por volumen. Es importante tener en cuenta, sin embargo, que esta información se encuentra agregada sobre muchas combinaciones de origen y destino. Por lo tanto, por razones de realismo, no se puede utilizar para monitorear cuál es la ruta de los datos. Los jugadores no pueden medir las cualidades de otros nodos individuales, solo el resto del camino. Los nodos no pueden ver el camino más allá del próximo salto. Esta última suposición es más estricta de lo necesario para nuestros resultados. El ingrediente crítico es que los nodos no pueden verificar que la ruta evite un salto específico. Esto se cumple, por ejemplo, si la ruta es generalmente visible, excepto que los nodos pueden usar diferentes alias para diferentes padres. Resultados similares también se mantienen si los caminos alternativos siempre convergen después de un número entero, m, de saltos. Es importante destacar que E2E y ROP no son los monitores contractibles que describimos en la introducción, ya que no generan pruebas. Por lo tanto, aunque un jugador observe cierta información, generalmente no puede compartirla de manera creíble con otro jugador. Por ejemplo, si un nodo después del primer salto comienza a hacer trampa, el primer salto detectará la repentina caída en la calidad para el resto del camino, pero el primer salto no puede hacer que la fuente crea esta observación: la fuente sospechará que el primer salto fue el tramposo y fabricó la acusación contra el resto del camino. Normalmente, E2E y ROP se conciben como algoritmos que se ejecutan en un único nodo y escuchan los ecos de los paquetes. Esta no es la única forma en que podrían implementarse; sin embargo, una estrategia alternativa es agregar mediciones de calidad de múltiples puntos en la red. Estas medidas pueden originarse en otros monitores, ubicados en varios proveedores de servicios de Internet. El monitor incluye los monitores de componentes, así como los mecanismos necesarios para motivar a los nodos a compartir información de manera honesta. Por ejemplo, si la fuente tiene monitores que revelan las cualidades de nodos individuales, podrían combinarse con información de ruta para crear un monitor ROP. Dado que sabemos que los contratos solo aceptan pruebas como entrada, podemos inferir que los pagos en este entorno solo pueden depender del número de paquetes intercambiados entre los jugadores. En otras palabras, los contratos son de mejor esfuerzo. Para el resto de esta sección, asumiremos que los contratos también son lineales: hay un flujo de pago constante siempre que un nodo acepte datos y se cumplan todas las condiciones del contrato. Otras tarifas más complicadas también son posibles y suelen utilizarse para generar fidelización. Creemos que nuestro parámetro t0 es suficiente para describir los efectos de bloqueo, y creemos que las ideas en esta sección se aplican igualmente a cualquier tarifa que esté limitada de manera que el juego de enrutamiento permanezca continuo hasta el infinito. Restringir la atención a contratos lineales nos permite representar algún nodo en el contrato por su precio, pi. Dado que sabemos además que los nodos no pueden observar el camino después del siguiente salto, podemos inferir que los contratos existen solo entre nodos vecinos en el grafo. Llamaremos a este arreglo de contratos bilateral. Cuando un juego de competencia utiliza exclusivamente contratos bilaterales, lo llamaremos juego de competencia de contratos bilaterales. Primero nos enfocamos en el juego de enrutamiento y preguntamos si se puede mantener una ruta de alta calidad, incluso cuando una ruta de baja calidad es más barata. Recuerda que este es un requisito para que los nodos tengan algún incentivo para innovar. Si los nodos tienden a dirigirse hacia los siguientes saltos de bajo precio, independientemente de la calidad, decimos que la red está commoditizada. Para medir esta tendencia, definimos un índice de mercantilización de la siguiente manera: Para un nodo en la ruta de datos, i, definimos su prima de calidad, minppd ji −= , donde pj es el pago de flujo al siguiente salto en equilibrio, y pmin es el precio del siguiente salto de menor costo. Definición: El índice de commoditización, CI, es el promedio, sobre cada nodo en la ruta de datos, i, de su beneficio de flujo como fracción de su prima de calidad, ( ) ijii dpcp /−−. El CI varía desde 0, cuando cada nodo gasta todo su beneficio potencial en su prima de calidad, hasta el infinito, cuando un nodo absorbe beneficios positivos, pero utiliza el siguiente salto de precio más bajo. Un valor alto para CI implica que los nodos están gastando poco de su flujo de dinero en la compra de alta calidad para el resto del camino. Como muestra la siguiente afirmación, esto es exactamente lo que sucede a medida que el camino se alarga: Afirmación 1. Si los únicos monitores son E2E, ROP y PRc, ∞→CI a medida que ∞→n, donde n es el número de nodos en la ruta de datos. Para demostrar que esto es cierto, primero necesitamos el siguiente lema, que establecerá la dificultad de castigar a los nodos en la red. Primero un poco de notación: Recuerda que un tramposo puede beneficiarse de sus acciones durante t > 00 antes de que los demás jugadores puedan reaccionar. Cuando un nodo hace trampa, puede esperar un mayor flujo de ganancias, al menos hasta que sea descubierto y otros jugadores reaccionen, quizás desviando el tráfico. Dejemos que el flujo de ganancias normal de un nodo sea iπ, y su flujo de ganancias durante el engaño sea algún valor mayor, yi. Llamaremos a la proporción, iiy π/, la tentación de hacer trampa. Lema 1. Si los únicos monitores son E2E, ROP y PRc, el tiempo descontado, −nt rt e 0, necesario para castigar a un tramposo aumenta al menos tan rápido como el producto de las tentaciones para hacer trampa a lo largo de la ruta de datos, ∏ −− ≥ 0 0 pathdataon 0 t rt i i i t rt e y e n π (1) Corolario. Si los nodos comparten una tentación mínima de hacer trampa, π/y, el tiempo descontado necesario para castigar el engaño aumenta al menos de forma exponencial en la longitud de la ruta de datos, n, −− ≥ 0 00 t rt nt rt e y e n π (2). Dado que es el tiempo descontado el que aumenta exponencialmente, el tiempo real aumenta más rápido que exponencialmente. Si n es tan grande que tn es indefinido, el camino dado no puede mantenerse en equilibrio. Prueba. La demostración procede por inducción en el número de nodos en la ruta de datos de equilibrio, n. Para 1=n, hay un único nodo, digamos i. Al hacer trampa, el nodo obtiene ganancias adicionales ( ) − − 0 0 t rt ii ey π . Si el nodo i es castigado hasta el tiempo 1t, la ganancia adicional debe ser cancelada por la pérdida de ganancia entre el tiempo 0t y 1t, −1 0 t t rt i eπ. Una pequeña manipulación da −− = 01 00 t rt i i t rt e y e π, como se requiere. Para 1>n, asumimos por inducción que la afirmación es válida para 1−n. La fuente no sabe si el tramposo es el primer salto o después del primer salto. Debido a que la fuente no conoce la ruta de datos después del primer salto, no puede castigar a los nodos más allá de él. Si elige un nuevo primer salto, es posible que no afecte al resto de la ruta de datos. Por lo tanto, la fuente debe depender del primer salto para castigar a los nodos tramposos más adelante en el camino. El primer salto necesita tiempo descontado, ∏ −0 0 hopfirstafter t rt i i i e y π, para lograr esto por suposición. Por lo tanto, la fuente debe otorgar al primer salto este tiempo descontado para castigar aún más a los infractores más adelante en la línea (y la fuente esperará una calidad deficiente durante este período). A continuación, la fuente debe protegerse contra un primer salto que engaña y finge que el problema está más adelante en el camino. El primer salto puede hacer esto durante todo el tiempo descontado completo, ∏ −0 0 hopfirstafter t rt i i i e y π, por lo que la fuente debe castigar al primer salto el tiempo suficiente para eliminar la ganancia adicional que puede obtener. Siguiendo el mismo argumento que para 1=n, podemos demostrar que el tiempo descontado completo es ∏ −0 0 pathdataon t rt i i i e y π, lo cual completa la prueba. El lema anterior y su corolario muestran que castigar a los tramposos se vuelve cada vez más difícil a medida que el camino de los datos se alarga, hasta que hacerlo se vuelve imposible. Para captar algo de intuición detrás de este resultado, imagina que eres un usuario final y notas una caída repentina en la calidad del servicio. Si tus datos solo viajan a través de tu proveedor de acceso, sabes que es culpa de ese proveedor. Por lo tanto, puedes llevar tu negocio a otro lugar, al menos por un tiempo. Esta amenaza debería motivar a tu proveedor a mantener una alta calidad. Supongamos, por otro lado, que tus datos atraviesan dos proveedores. Cuando te quejas con tu ISP, él responde: sí, sabemos que tu calidad ha disminuido, pero no es nuestra culpa, es del próximo ISP. Dennos algo de tiempo para castigarlos y luego la calidad normal se restablecerá. Si tu proveedor de acceso está diciendo la verdad, querrás escuchar, ya que cambiar de proveedor de acceso puede que ni siquiera evite al verdadero infractor. Por lo tanto, tendrás que aceptar un servicio de menor calidad durante un tiempo más prolongado. Por otro lado, es posible que también quieras castigar a tu proveedor de acceso en caso de que esté mintiendo. Esto significa que tendrás que esperar más tiempo para reanudar el servicio normal. A medida que se agregan más ISP al camino, el tiempo aumenta de forma recursiva. Con este lema en mano, podemos regresar para demostrar la Afirmación 1. Prueba de la Afirmación 1. Fije una ruta de datos de equilibrio de longitud n. Etiquete los nodos de la ruta como 1, 2,..., n. Para cada nodo i, dejemos que su prima de calidad sea 11 ++ −= iii ppd. Entonces tenemos, [ ] = − = − + + = − + ++ = + −=− −− −− = −− − = −− = n i i n i iii iii n i iii ii n i i iii C g npcp pcp n pcp pp nd pcp n I 1 1 1 1 1 1 1 1 1 11 1 1 1 1 1 1 11 , (3) donde gi es el nodo tentado a hacer trampa al enrutar hacia el siguiente salto de precio más bajo. El lema 1 nos dice que Tg n i i <∏ =1 , donde ( )01 rt eT − −= . Se requiere un poco de cálculo para demostrar que IC se minimiza al igualar cada gi a n T /1. Sin embargo, a medida que ∞→n, tenemos que 1/1 →n T, lo cual muestra que ∞→CI. Según la afirmación, a medida que el camino de datos se alarga, se asemeja cada vez más a un camino de menor precio. Dado que la ruta de menor precio no respalda la innovación, podríamos especular que la innovación se degrada con la longitud de la ruta de datos. Aunque sospechamos que reclamos más fuertes son posibles, podemos demostrar un resultado de este tipo al incluir una suposición adicional: Ruta de Oferta Disponible: Existe un mercado competitivo para el tránsito de bajo costo, de modo que cada nodo puede dirigirse al destino por no más de un pago de flujo, lp. Reclamo 2. Bajo la suposición de la ruta de negociación disponible, si el nodo i, a una distancia n de S, puede invertir para alterar su calidad, y la fuente no gastará más de sP en una ruta que incluya la nueva calidad del nodo i, entonces el pago al nodo i, p, disminuye hiperbólicamente con n, donde ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , (4) y donde ( )01 rt eT − −= es el límite del producto de tentaciones de la reclamación anterior. Por lo tanto, no gastaré más de ( ) ( )− + − s n l P n T p r 1 1 1/1 en esta mejora de calidad, que se acerca a los caminos de pago de gangas, r pl , a medida que ∞→n . La prueba se encuentra en el apéndice. A medida que un nodo se aleja de la fuente, su pago máximo se acerca al precio de ganga. Por lo tanto, la recompensa por la innovación está limitada por la misma cantidad. Grandes innovaciones, significando considerablemente más costosas que rpl / , no serán perseguidas en profundidad en la red. La afirmación 2 también puede ser vista como un límite inferior en cuanto a cuánto cuesta provocar innovación en una red. Si la fuente S quiere que el nodo i innove, necesita realizar un pago motivador, p, al nodo i durante la etapa de enrutamiento. Sin embargo, también debe pagar a los nodos en el camino hacia i una prima para motivarlos a enrutarse correctamente. La afirmación muestra que este recargo aumenta con la distancia a i, hasta que supera con creces el pago original, p. Nuestras afirmaciones contrastan fuertemente con nuestra hipótesis nula de la introducción. Al comparar el argumento intuitivo que respaldaba nuestra hipótesis con estas afirmaciones, podemos ver que implícitamente utilizamos un modelo simplificado de presión de mercado (como presente o no). Como ahora es evidente, la presión del mercado depende de las decisiones de los clientes, pero estas están limitadas por la falta de información. Por lo tanto, las fuerzas competitivas se degradan a medida que la red se profundiza. 4. En esta sección, comenzamos a introducir más responsabilidad en la red. Recuerda que en la sección anterior, asumimos que los jugadores no podían convencerse mutuamente de su información privada. ¿Qué pasaría si pudieran? Si la señal informativa de un monitor puede ser transmitida de manera creíble a otros, lo llamaremos un monitor verificable. La salida de los monitores en este caso puede ser considerada como una afirmación acompañada de una prueba, una cadena que puede ser procesada por cualquier jugador para determinar que la afirmación es verdadera. Un monitor verificable es un mecanismo algorítmico distribuido que se ejecuta en el grafo de red y emite, a nodos específicos, pruebas sobre el comportamiento actual o pasado de la red. En esta línea, podemos imaginar contrapartes verificables de E2E y ROP. Etiquetaremos estos como E2Ev y ROPv. Con estos monitores, cada nodo observa la calidad del resto del camino y también puede convencer a otros jugadores de estas observaciones al darles una prueba. Al agregar verificabilidad a nuestros monitores, identificar a un tramposo es sencillo. El tramposo es el nodo que no puede producir pruebas de que la calidad del resto del camino disminuyó. Esto significa que los resultados negativos de la sección anterior ya no son válidos. Por ejemplo, el siguiente lema contrasta con el Lema 1. Lema 2. Con monitores E2Ev, ROPv y PRc, y siempre que el nodo antes de cada posible tramposo tenga un siguiente salto alternativo que no sea más costoso, es posible hacer cumplir cualquier ruta de datos en SPE siempre y cuando la tentación máxima sea menor que lo que se puede disuadir en tiempo finito, − ≤ 0 0 max 1 t rt er y π (5) Prueba. Este lema se sigue porque los nodos pueden compartir pruebas para identificar quién es el tramposo. Solo ese nodo debe ser castigado en equilibrio, y el nodo anterior no pierde ninguna recompensa al administrar el castigo. Con este lema en mente, es fácil construir contraejemplos para la Afirmación 1 y la Afirmación 2 en este nuevo entorno. Desafortunadamente, hay al menos cuatro razones para no estar satisfecho con este sistema de monitoreo mejorado. La primera y más débil razón es que la tentación máxima sigue siendo finita, lo que provoca cierta distorsión en las rutas o pagos. Cada nodo a lo largo de una ruta debe extraer cierta ganancia positiva a menos que el siguiente salto también sea el más barato. Por supuesto, si t0 es pequeño, este efecto es mínimo. La segunda razón, y más seria, es que siempre le hemos dado a nuestra fuente la capacidad de comprometerse con cualquier castigo. Los usuarios del mundo real son menos propensos a actuar colectivamente y pueden simplemente buscar el mejor servicio actualmente ofrecido. Dado que las fases de castigo suelen caracterizarse por una disminución en la calidad, los usuarios finales del mundo real pueden aprovechar esta oportunidad para buscar un nuevo proveedor de acceso. Esto hará que los nodos estén menos motivados para administrar castigos. La tercera razón es que el Lema 2 no se aplica al fraude por parte de coaliciones. Un nodo de la coalición puede fingir castigar a su sucesor, pero en realidad recibir un pago secreto del nodo tramposo. Alternativamente, un nodo puede sobornar a su sucesor para hacer trampa, si la fase de castigo es rentable, y así sucesivamente. El tiempo de descuento requerido para el castigo puede aumentar exponencialmente en el número de miembros de la coalición, ¡igual que en la sección anterior! La razón final para no aceptar este sistema de monitoreo es que cuando un tramposo es castigado, a menudo se buscará una ruta no solo alrededor del infractor, sino también alrededor de otros nodos. Efectivamente, los nodos inocentes serán castigados junto con los culpables. En nuestro modelo abstracto, esto no causa problemas ya que la penalización se desvía del camino de equilibrio. Los efectos no son tan benignos en el mundo real. Cuando los proveedores de servicios de Internet se encuentran en secuencia a lo largo de una ruta de datos, contribuyen con servicios complementarios, y su relación es vertical. Desde la perspectiva de otros pares de origen y destino, sin embargo, es probable que estas mismas empresas sean competidores horizontales. Debido a esto, un nodo podría hacer trampa deliberadamente, con el fin de provocar un castigo para sí mismo y sus vecinos. Al hacer trampa, el nodo ahorrará dinero en cierta medida, por lo que es probable que el tramposo salga de la fase de castigo en mejor situación que los nodos inocentes. Esto puede darle al tramposo una ventaja estratégica sobre sus competidores. En el extremo, el tramposo puede usar tal estrategia para sacar a los vecinos del negocio, y así obtener un monopolio en algunas rutas. 5. MONITORES CONTRAÍBLES Al final de la última sección, identificamos varias desventajas que persisten en un entorno con E2Ev, ROPv y PRc. En esta sección, mostraremos cómo se pueden superar todas estas desventajas. Para hacer esto, necesitaremos nuestra tercera y última categoría de monitor: Un monitor contractible es simplemente un monitor verificable que genera pruebas que pueden servir como entrada a un contrato. Por lo tanto, "contractible" es una propiedad conjunta del monitor y las instituciones que deben verificar sus pruebas. La capacidad de contraer requiere que un tribunal, 1. Puede verificar las pruebas de los monitores. 2. Puede comprender lo que representan las pruebas y contratos en la medida necesaria para vigilar la actividad ilegal. 3. Puede hacer cumplir los pagos entre las partes contratantes. Comprender los acuerdos entre empresas ha sido tradicionalmente cuestión de leer contratos en papel. Esta tarea podría resultar más difícil en un entorno de red futuro. Los contratos podrían ser negociados de manera plausible por máquina, ser numerosos, incluso por flujo, y complicarse aún más por las múltiples dimensiones de calidad. Cuando un monitor (junto con la infraestructura institucional) cumple con estos criterios, lo etiquetaremos con un subíndice c, por contractible. El lector puede recordar que así es como etiquetamos los paquetes recibidos monitor, PRc, que permite a los ISP formar contratos con pagos por paquete. Del mismo modo, E2Ec y ROPc son versiones contractibles de los monitores con los que estamos familiarizados actualmente. Al final de la sección anterior, argumentamos a favor de algunas propiedades deseables que nos gustaría que nuestra solución tuviera. Breve, nos gustaría hacer cumplir rutas de datos óptimas con un concepto de equilibrio que no dependa de la reenrutación para castigar, sea a prueba de coaliciones y no castigue a nodos inocentes cuando una coalición hace trampa. Llamaremos a este equilibrio un equilibrio de protección de la coalición a prueba de rutas fijas. Como lo muestra la siguiente afirmación, ROPc nos permite crear un sistema de contratos lineales (precio, calidad) bajo tal equilibrio. Reclamo 3. Con ROPc, para cualquier asignación factible y consistente de las calidades restantes del camino a los nodos, y cualquier calendario de pagos correspondiente que genere pagos no negativos, estas calidades pueden ser mantenidas con contratos bilaterales en un equilibrio de protección de inocentes a prueba de coaliciones de ruta fija. Prueba: Fija cualquier ruta de datos consistente con las cualidades restantes de la ruta dada. Selecciona una sanción monetaria, P, lo suficientemente grande como para prevenir cualquier trampa durante el tiempo t0 (el pago total descontado de la fuente funcionará). Que cada nodo en el camino entre en un contrato con su padre, el cual establece un calendario de pagos arbitrario siempre y cuando la calidad del resto del camino sea la prescrita. Cuando el nodo padre, que tiene ROPc, presenta una prueba de que la calidad del resto del camino es menor de lo esperado, el contrato le otorga una transferencia instantánea, P, desde el nodo aguas abajo. Tales pruebas pueden ser presentadas cada 0t para el intervalo anterior. Supongamos ahora que una coalición, C, decide hacer trampa. La fuente mide una disminución en la calidad, y según su contrato, se le otorga P desde el primer salto. Esto significa que hay una salida neta de P de los ISP en su conjunto. Supongamos que el nodo i no está en C. Para que el nodo padre reclame P de i, debe presentar pruebas de que la calidad del camino que comienza en i no es la indicada. Esto significa que hay un tramposo detrás de mí. Por lo tanto, también habría detectado un cambio en la calidad, por lo que puedo reclamar P desde el siguiente nodo en el camino. Por lo tanto, los nodos inocentes no son castigados. La secuencia de pagos debe terminar en el destino, por lo que la salida neta de P debe provenir de los nodos en C. Esto establece todas las condiciones necesarias del equilibrio. Básicamente, ROPc permite la implementación de contratos (precio, calidad). Basándonos en este resultado, podemos construir juegos de competencia en los que los nodos ofrecen diversas cualidades entre sí a precios específicos, y pueden comprometerse de manera creíble a cumplir con estos objetivos de rendimiento, incluso permitiendo coaliciones y el deseo de perjudicar a otros proveedores de servicios de Internet. Ejemplo 1. Define un juego de competencia de precios y calidad de Stackelberg de la siguiente manera: Extiende el orden parcial de nodos inducido por el grafo a cualquier ordenación completa, de modo que los nodos aguas abajo aparezcan antes que sus padres. En este orden, cada nodo selecciona un contrato para ofrecer a sus padres, que consiste en una calidad de ruta restante y un precio lineal. En el juego de enrutamiento, cada nodo selecciona un siguiente salto en todo momento, de acuerdo con su calidad de ruta restante anunciada. El juego de competencia de precios y calidad de Stackelberg se puede implementar en nuestro modelo con monitores ROPc, utilizando la estrategia en la demostración anterior. Tiene la siguiente propiedad útil: Reclamo 4. El juego de competencia de precios y calidad de Stackelberg produce rutas óptimas en la EEP. La prueba se encuentra en el apéndice. Esta propiedad es favorable desde una perspectiva de innovación, ya que las empresas que invierten en alta calidad tienden a seguir el camino óptimo, obteniendo una ganancia positiva. En general, sin embargo, las inversiones pueden estar sobre o subrecompensadas. Se pueden establecer condiciones adicionales bajo las cuales las decisiones de innovación se acercan a la eficiencia perfecta para innovaciones grandes. Omitimos el análisis completo aquí. Ejemplo 2. Alternativamente, podemos imaginar que los jugadores informan su información privada a una autoridad central, la cual luego asigna todos los contratos. Por ejemplo, los contratos podrían ser calculados para implementar el mecanismo VCG de minimización de costos propuesto por Feigenbaum, et al. en [7]. Con los monitores ROPc, podemos adaptar este mecanismo para maximizar el bienestar. Para el nodo i en el camino óptimo L, el pago neto debe ser, esencialmente, igual a su contribución al bienestar de S, D y los demás nodos. Si L es un camino óptimo en el grafo con i removido, el flujo de beneficio hacia i es, ( ) ( ) ∈≠∈ +−− , Lj j ijLj jLL ccququ , (6) donde Lq y Lq son las cualidades de los dos caminos. Aquí, los contratos de (precio, calidad) garantizan que los nodos informen honestamente sobre sus cualidades. La estructura de incentivos del mecanismo VCG es lo que motiva a los nodos a informar sus costos con precisión. Una característica interesante de este juego es que las decisiones individuales de innovación son eficientes, lo que significa que un nodo invertirá en una innovación siempre que el costo de la inversión sea menor que el aumento del bienestar del camino óptimo de datos. Desafortunadamente, la fuente puede terminar pagando más que la utilidad del camino. Observa que con solo E2Ec, se cumple una versión más débil de la Afirmación 3. Los contratos bilaterales (precio, calidad) pueden mantenerse en un equilibrio que es de ruta fija y a prueba de coaliciones, pero no protege a los inocentes. Esto se logra escribiendo contratos para castigar a todos en el camino cuando la calidad de extremo a extremo disminuye. Si la longitud del camino es n, el primer salto paga nP al origen, el segundo salto paga ( )Pn 1− al primero, y así sucesivamente. Esto asegura que cada nodo sea castigado lo suficiente como para que hacer trampa no sea rentable. Por las razones que dimos anteriormente, creemos que este concepto de solución es menos que ideal, ya que permite que nodos maliciosos provoquen deliberadamente castigos para posibles competidores. Hasta este punto, hemos adoptado el equilibrio de protección de la coalición a prueba de inocentes de ruta fija como nuestro concepto de solución deseado, y hemos demostrado que los monitores ROPc son suficientes para crear algunos juegos de competencia que son deseables en términos de diversidad de servicios e innovación. Como mostrará la próxima afirmación, el monitoreo del resto del camino también es necesario para construir tales juegos bajo nuestro concepto de solución. Antes de continuar, ¿qué significa que un juego sea deseable desde la perspectiva de la diversidad de servicios e innovación? Utilizaremos un supuesto muy débil, esencialmente, que el juego no está completamente mercantilizado para ningún nodo. La afirmación se mantendrá para toda esta clase de juegos. Definición: Un juego de competencia no está commoditizado en ninguna parte si para cada nodo, i, no adyacente a D, existe alguna asignación de cualidades y costos marginales a los nodos, de modo que la ruta óptima de datos incluya i, y i tenga una tentación positiva de hacer trampa. En el caso de contratos lineales, es suficiente requerir que ∞<CI, y que cada nodo obtenga ganancias positivas bajo alguna asignación de cualidades y costos marginales. Estrictamente hablando, los monitores ROPc no son la única forma de construir estos juegos deseables. Para demostrar la siguiente afirmación, debemos ampliar nuestra noción de monitoreo del resto del camino para incluir el monitor ROPc similar, que garantiza la calidad desde su propio nodo, hasta el final del camino. Compara los dos monitores a continuación: ROPc: proporciona una prueba de nodo de que la calidad del camino desde el siguiente nodo hasta el destino no es correcta. ROPc: proporciona una prueba de nodo de que la calidad del camino desde ese nodo hasta el destino es correcta. Presentamos una versión simplificada de esta afirmación, al incluir la suposición de que solo un nodo en el camino puede hacer trampa a la vez (aunque los conspiradores aún pueden intercambiar pagos secundarios). Discutiremos la versión completa después de la prueba. Reclamo 5. Suponga un conjunto de monitores, y un juego de competencia de contratos bilaterales no comoditizados en ningún lugar que siempre mantenga la calidad óptima en un equilibrio de protección de la coalición de rutas fijas a prueba de inocentes, con solo un nodo permitido hacer trampa a la vez. Entonces, para cada nodo, i, que no es adyacente a D, o bien i tiene un monitor ROPc, o sus hijos tienen un monitor ROPc. Prueba: Primero, debido a la suposición de ruta fija, las sanciones deben ser puramente monetarias. A continuación, cuando se produce un fraude, si el pago no va al origen o destino, puede ir a otro miembro de la coalición, lo que lo vuelve ineficaz. Por lo tanto, la fuente debe aceptar alguna compensación monetaria, descontando su flujo de pago normal, cuando se produce un engaño. Dado que la fuente solo tiene contrato con el primer salto, debe aceptar este dinero del primer salto. El contrato de las fuentes debe distinguir, por lo tanto, cuándo la calidad del camino es normal de cuándo está disminuida por trampas. Para hacerlo, puede aceptar pruebas 191 de la fuente, que la calidad es inferior a la requerida, o puede aceptar pruebas del primer salto, que la calidad es correcta. Estos nodos no ofrecerán racionalmente el tipo opuesto de prueba. Por definición, cualquier monitor que le dé al origen la prueba de que la calidad del camino es incorrecta es un monitor ROPc. Cualquier monitor que proporcione la primera prueba de salto de que la calidad es correcta es un monitor ROPc. Por lo tanto, al menos uno de estos monitores debe existir. Por la suposición de proteger a los inocentes, si se produce un engaño pero el primer salto no es un tramposo, ella debe poder reclamar la misma recompensa del siguiente ISP en el camino, y así pasar la sanción. El primer contrato de saltos con el segundo debe entonces distinguir cuándo ocurre el engaño después del primer salto. Por un argumento similar al de la fuente, o bien el primer salto tiene un monitor ROPc, o el segundo tiene un monitor ROPc. Este argumento se puede iterar a lo largo de todo el camino hasta el nodo penúltimo antes de D. Dado que los costos marginales y las cualidades se pueden organizar para hacer que cualquier camino sea el óptimo, estas afirmaciones deben cumplirse para todos los nodos y sus hijos, lo que completa la prueba. Las dos posibilidades para el monitor corresponden a qué nodo tiene la carga de la prueba. En un caso, el nodo anterior debe demostrar la calidad subóptima para reclamar su recompensa. En el otro, el nodo siguiente debe demostrar que la calidad fue correcta para evitar una penalización. Dado que los dos monitores son similares, parece probable que requieran costos comparables para implementarlos. Si presentar las pruebas es costoso, parece natural que los nodos prefieran usar el monitor ROPc, colocando la carga de la prueba en el nodo aguas arriba. Finalmente, observamos que es sencillo derivar la versión completa de la afirmación, que permite múltiples tramposos. La única complicación es que los tramposos pueden intercambiar pagos secundarios, lo que hace que cualquier transferencia de dinero entre ellos sea redundante. Por lo tanto, debemos generalizar aún más nuestros monitores de resto de camino, para que estén menos restringidos en caso de que haya tramposos en cualquiera de los lados. La implementación de los monitores de la Reclamación 5 no debe interpretarse como una afirmación de que cada nodo debe calcular la calidad del resto del camino localmente, sin la entrada de otros nodos. Otros monitores, además de ROPc y ROPc, aún pueden ser utilizados, en términos generales, como bloques de construcción. Por ejemplo, la tomografía de redes se preocupa por medir propiedades del interior de la red con herramientas ubicadas en el borde. Usando tales técnicas, nuestra fuente podría aprender tanto las cualidades de nodos individuales como la ruta de datos. Esto está representado por los siguientes dos monitores: SHOPc i: (calidad de salto basada en la fuente) Un monitor que le da a la fuente una prueba de cuál es la calidad del nodo i. SPATHc: (ruta basada en la fuente) Un monitor que proporciona la prueba de origen de cuál es la ruta de datos en cualquier momento, al menos en la medida en que coincida con la ruta de equilibrio. Con estos monitores, se puede diseñar un mecanismo de castigo para cumplir con las condiciones de la Reclamación 5. Implica que la fuente comparta las pruebas que genera con los nodos más adelante en el camino, los cuales las utilizan para determinar los pagos bilaterales. Sin embargo, en última instancia, la prueba de la Reclamación 5 nos muestra que cada nodo en los contratos bilaterales requiere una prueba de la calidad del resto del camino. Esto significa que el nodo i (o posiblemente sus hijos) tendrán que combinar las pruebas que reciben para generar una prueba de la calidad del resto del camino. Por lo tanto, el proceso combinado es en sí mismo un monitor de ruta de descanso. Lo que hemos hecho, en resumen, es construir un monitor de ruta de descanso utilizando SPATHc y SHOPc como bloques de construcción. Nuestro nuevo monitor incluye tanto los monitores de componentes como el mecanismo algorítmico distribuido que existe para asegurarse de que los nodos compartan sus pruebas correctamente. Este mecanismo puede potencialmente involucrar instituciones externas. Para un ejemplo concreto, supongamos que cuando el nodo i sospecha que está recibiendo una mala calidad de ruta de su sucesor, lleva al nodo aguas abajo a juicio. Durante el proceso de descubrimiento, el tribunal emite citaciones para obtener pruebas del camino y de las cualidades del nodo desde la fuente (en última instancia, debe existir alguna amenaza para garantizar que la fuente cumpla). Finalmente, para que el tribunal emita un fallo, una de las partes debe recopilar una prueba de cuál era la calidad del resto del camino. Por lo tanto, todo el proceso de descubrimiento actúa como un monitor de seguimiento de ruta, aunque en este caso es un monitor bastante costoso. Por supuesto, se pueden diseñar mecanismos para combinar estos monitores a un costo mucho menor. Normalmente, dichos mecanismos requerirían el intercambio automático de pruebas, con la intervención judicial solo como último recurso. Dejamos estos mecanismos interesantes para trabajos futuros. Como dato adicional, la intuición podría indicar que SHOPc i genera más información que ROPc; después de todo, inferir las cualidades de nodos individuales parece ser un problema mucho más difícil. Sin embargo, sin información de ruta, SHOPc i no es suficiente para nuestro resultado de innovación óptimo. La prueba de esto demuestra una técnica útil: Reclamo 6. Con monitores E2E, ROP, SHOPc y PRc, y un juego de competencia de contratos bilaterales no commoditizados, la calidad óptima no puede mantenerse para todas las asignaciones de calidad y costo marginal, en un equilibrio fijo de protección de coalición a prueba de inocentes. Prueba: Debido a que los nodos no pueden verificar la ruta de los datos, no pueden formar una prueba de cuál es la calidad del resto de la ruta. Por lo tanto, los monitores ROPc no existen y, por lo tanto, los requisitos de la Reclamación 5 no pueden cumplirse. 6. CONCLUSIONES Y TRABAJOS FUTUROS Esperamos que este estudio tenga un impacto positivo en al menos tres formas diferentes. La primera es práctica: creemos que nuestro análisis tiene implicaciones para el diseño de futuros protocolos de monitoreo y para la política pública. Para los diseñadores de protocolos, primero proporcionamos una motivación fresca para crear sistemas de monitoreo. Hemos argumentado que la escasa responsabilidad de Internet es un obstáculo fundamental para aliviar las patologías de la mercantilización y la falta de innovación. A menos que mejore la rendición de cuentas, estas patologías están garantizadas de permanecer. En segundo lugar, sugerimos direcciones para futuros avances en monitoreo. Hemos demostrado que agregar verificabilidad a los monitores permite algunas mejoras en las características de la competencia. Al mismo tiempo, esto no presenta una solución completamente satisfactoria. Este documento ha sugerido un nuevo estándar al que los monitores deben aspirar: uno que apoye rutas óptimas en juegos de competencia innovadores bajo un equilibrio de protección de la coalición de rutas fijas para proteger a los inocentes. Hemos demostrado que bajo contratos bilaterales, esto específicamente requiere monitores de ruta restantes contractibles. Esto no significa que otros tipos de monitores sean irrelevantes. Incluimos un ejemplo en el que los monitores de calidad de lúpulo individuales y un monitor de ruta también pueden cumplir con nuestro estándar para mantener la competencia. Sin embargo, para que esto ocurra, se debe incluir un mecanismo 192 para combinar las pruebas de estos monitores y formar una prueba de la calidad del resto del camino. En otras palabras, los monitores deben combinarse finalmente para formar monitores de camino restantes contráctiles. Para apoyar la diferenciación de servicios e innovación, puede ser más fácil diseñar monitores de ruta restantes directamente, evitando así la tarea de diseñar mecanismos para combinar monitores de componentes. En cuanto a las implicaciones de política, nuestro análisis señala la necesidad de que las instituciones legales hagan cumplir los contratos basados en la calidad. Estas instituciones deben estar equipadas para verificar pruebas de calidad y supervisar comportamientos de contratación ilegales. A medida que los contratos basados en la calidad se vuelven numerosos y complicados, y posiblemente negociados por máquina, esta tarea puede volverse desafiante, y podrían surgir nuevos estándares y regulaciones en respuesta. Esta sigue siendo un área interesante y sin explorar para la investigación. El segundo ámbito en el que esperamos que nuestro estudio sea beneficioso es el del diseño arquitectónico desde cero. Tradicionalmente, el diseño desde cero tiende a centrarse en la creación de redes efectivas y elegantes para un conjunto estático de requisitos. Por lo tanto, el enfoque suele ser de ingeniería, lo que tiende a descuidar los efectos competitivos. Estamos de acuerdo con Ratnasamy, Shenker y McCanne en que el diseño para la evolución debería ser una prioridad principal [11]. Hemos demostrado que la capacidad de monitoreo de las redes es fundamental para apoyar la innovación, al igual que las instituciones que respaldan los contratos. Estos elementos deberían destacar prominentemente en los nuevos diseños. Nuestro análisis sugiere específicamente que las arquitecturas basadas en contratos bilaterales deben incluir monitoreo de la parte restante del camino contractible. Desde una perspectiva de inicio limpio, estos monitores pueden integrarse de manera transparente y completa con los sistemas de enrutamiento y contratación. Finalmente, la última contribución que hace nuestro estudio es metodológica. Creemos que la formalización matemática que presentamos es aplicable a una variedad de preguntas de investigación futuras. Si bien existe una extensa literatura sobre la innovación en presencia de efectos de red, hasta donde sabemos, nuestro modelo es el primero de innovación en una industria de red que incorpora con éxito la estructura topológica real como entrada. Esto permite el descubrimiento de nuevas propiedades, como la disminución de las fuerzas del mercado con el número de proveedores de servicios de Internet en una ruta de datos que observamos con baja responsabilidad. Nuestro método también contrasta con el enfoque típico del diseño algorítmico distribuido de mecanismos. Debido a que este campo se basa en un marco de principio-agente, los contratos suelen ser propuestos por la fuente, quien tiene permitido hacer una oferta de tomarlo o dejarlo a los nodos de la red. Nuestra técnica permite que los contratos surjan de un marco competitivo, por lo que la fuente se limita a seleccionar el contrato más deseable. Creemos que esto es un reflejo más cercano de la industria. Basándose en las ideas obtenidas en este estudio, las posibles direcciones para futuras investigaciones son numerosas y emocionantes. Hasta cierto punto, contratar basándose en la calidad abre una Caja de Pandora de preguntas apremiantes: ¿Los contratos basados en la calidad van en contra del principio de neutralidad de la red? ¿Debería permitirse a los proveedores de servicios de Internet ofrecer una selección de contratos a diferentes niveles de calidad? ¿Qué comportamientos anticompetitivos son posibles gracias a los contratos basados en la calidad? ¿Puede un sistema de contratación soportar árboles de multidifusión óptimos? En este estudio, nos hemos centrado en contratos bilaterales. Este sistema ha parecido natural, especialmente porque es el sistema predominante en la red actual. Quizás su beneficio más importante es que cada contrato es local en su naturaleza, por lo que ambas partes comparten una jurisdicción legal común y familiar. No hay necesidad de preocuparse por quién hará cumplir un castigo contra otro ISP en el lado opuesto del planeta, ni hay disputa sobre cuáles reglas legales aplicar en la interpretación de un contrato. Aunque este beneficio es convincente, vale la pena considerar otros sistemas. La alternativa más clara es formar un contrato entre la fuente y cada nodo en el camino. Podemos llamar a estos contratos de origen. La contratación de origen puede presentar ventajas sorprendentes. Por ejemplo, dado que los proveedores de servicios de Internet no intercambian dinero entre sí, un ISP no puede ahorrar dinero seleccionando un siguiente salto más barato. Además, si la fuente solo tiene contratos con nodos en la ruta prevista, otros nodos ni siquiera estarán dispuestos a aceptar paquetes de esta fuente, ya que no recibirán compensación por transportarlos. Esta combinación parece eliminar toda tentación para que un tramposo haga trampa en la ruta. Debido a esto y otras características alentadoras, creemos que los contratos de fuente son un tema fértil para futuros estudios. Otra tarea importante de investigación es relajar nuestra suposición de que la calidad se puede medir completamente y con precisión. Una posibilidad es asumir que el monitoreo es solo probabilístico o sufre de ruido. Aún más relevante es la posibilidad de que los monitores de calidad sean fundamentalmente incompletos. Un monitor de calidad nunca puede anticipar cada dimensión de calidad que las futuras aplicaciones considerarán importantes, ni puede anticipar un nuevo y valioso protocolo que un ISP introduzca. Podemos definir un espacio de monitor como un subespacio del espacio de calidad que un monitor puede medir, QM ⊂ , y una función de monitoreo correspondiente que simplemente proyecta el rango completo de cualidades en el espacio de monitor, MQm →: . Claramente, las innovaciones que mantienen la calidad invariable bajo m no son fáciles de respaldar, ya que son invisibles para el sistema de monitoreo. En este entorno, esperamos que el monitoreo de rutas se vuelva más importante, ya que es la única forma de garantizar que los datos lleguen a ciertos ISP innovadores. Se necesita más investigación para comprender este proceso. AGRADECIMIENTOS Nos gustaría agradecer a los revisores anónimos, Jens Grossklags, Moshe Babaioff, Scott Shenker, Sylvia Ratnasamy y Hal Varian por sus comentarios. Este trabajo está respaldado en parte por la Fundación Nacional de Ciencias bajo el premio ITR ANI-0331659. REFERENCIAS [1] Afergan, M. Utilizando juegos repetidos para diseñar sistemas de enrutamiento basados en incentivos. En Actas de IEEE INFOCOM (abril de 2006). [2] Afergan, M. y Wroclawski, J. Sobre los Beneficios y la Viabilidad de la Infraestructura de Enrutamiento Basada en Incentivos. En el taller ACM SIGCOMM04 sobre la práctica y teoría de incentivos en sistemas de red (PINS) (agosto de 2004). [3] Argyraki, K., Maniatis, P., Cheriton, D., y Shenker, S. Proporcionando obituarios de paquetes. En el Tercer Taller sobre Temas Candentes en Redes (HotNets) (noviembre de 2004). [4] Clark, D. D. La Filosofía de Diseño de los Protocolos de Internet de DARPA. En Actas de ACM SIGCOMM (1988). 193 [5] Clark, D. D., Wroclawski, J., Sollins, K. R., y Braden, R. Tussle en el ciberespacio: Definiendo el internet del mañana. En Actas de ACM SIGCOMM (agosto de 2002). [6] Dang-Nguyen, G. y Pénard, T. Acuerdos de interconexión: Comportamiento estratégico y derechos de propiedad. En Brousseau, E. y Glachant, J.M. Eds. La Economía de los Contratos: Teorías y Aplicaciones, Cambridge University Press, 2002. [7] Feigenbaum, J., Papadimitriou, C., Sami, R., y Shenker, S. Un Mecanismo Basado en BGP para el Enrutamiento de Menor Costo. Computación Distribuida 18 (2005), pp. 61-72. [8] Huston, G. Interconexión, Peering y Acuerdos. Telstra, Australia. [9] Liu, Y., Zhang, H., Gong, W., y Towsley, D. Sobre la interacción entre enrutamiento de superposición e ingeniería de tráfico. En Actas de IEEE INFOCOM (2005). [10] MacKie-Mason, J. y Varian, H. Fijación de precios en Internet. En Kahin, B. y Keller, J. Eds. Acceso público a Internet. Englewood Cliffs, NJ; Prentice-Hall, 1995. [11] Ratnasamy, S., Shenker, S., y McCanne, S. Hacia una Arquitectura de Internet Evolutiva. En Actas de ACM SIGCOMM (2005). [12] Shakkottai, S. y Srikant, R. Economía de la tarificación de redes con múltiples ISP. En Actas de IEEE INFOCOM (2005). 9. APÉNDICE Prueba de la Afirmación 2. El nodo i debe caer en la ruta de datos de equilibrio para recibir algún pago. Que los precios a lo largo de la ruta de datos sean ppppP nS == ,..., 21 , con costos marginales, ncc ,...,1 . Podemos asumir que los precios en el camino son mayores que lp o la afirmación sigue trivialmente. Cada nodo a lo largo de la ruta de datos puede hacer trampa en la ruta al proporcionar datos al camino de la oferta a un precio no superior a lp. La tentación de hacer trampa en Node.js es de al menos 11 ++ − − ≥ −− −− jj l jjj ljj pp pp pcp pcp. Entonces, el Lema 1 nos da, 1 13221 1... − − − −> − − ⋅⋅ − − − − ≥ n S l n lll P pp n pp pp pp pp pp pp pp T (7) Esto se puede reorganizar para obtener ( ) ( ) s n l P n T pp 1 1/1 − +≤ − , como se requiere. El resto de la afirmación simplemente reconoce que rp / es el nodo de recompensa más grande que puedo recibir por su inversión, por lo que no invertirá sumas mayores a esta. Prueba de la Afirmación 4. Etiqueta los nodos 1, 2, ... N en el orden en que seleccionan contratos. Que el subjuego n sea el juego que comienza con n eligiendo su contrato. Sea Ln el conjunto de caminos posibles restringidos a los nodos n,...,N. Es decir, Ln es el conjunto de rutas posibles desde S para llegar a algún nodo que ya se ha movido. Para el subjuego n, define el bienestar local sobre los caminos nLl ∈ , y sus posibles siguientes saltos, nj < de la siguiente manera, ( ) ( ) j li ipathjl pcqqujlV −−= ∈ *, , (8) donde ql es la calidad del camino l en el conjunto {n,…,N}, y pathjq y pj son la calidad y el precio del contrato que j ha ofrecido. Para la inducción, asumir que el subjuego n + 1 maximiza el bienestar local. Mostramos que el subjuego n también lo hace. Si el nodo n selecciona el siguiente salto k, podemos escribir la siguiente relación, donde n es la ganancia del nodo n si se elige el camino hacia n. Este camino se elige siempre que ( )nlV sea máximo sobre Ln+1 y los posibles próximos saltos. Si ( )( )knlV ,, es maximal sobre Ln, también es maximal sobre los caminos en Ln+1 que no conducen a n. Esto significa que el nodo n puede elegir algún n lo suficientemente pequeño para que ( )nlV , sea maximal sobre Ln+1, por lo que la ruta llevará a k. Por el contrario, si ( )( )knlV ,, no es maximal sobre Ln, ya sea que V sea mayor para otro de los próximos saltos de n, en cuyo caso n seleccionará ese para aumentar n, o V es mayor para algún camino en Ln+1 que no conduce a n, en cuyo caso ( )nlV , no puede ser maximal para ningún n no negativo. Por lo tanto, concluimos que el subjuego n maximiza el bienestar local. Para el caso inicial, observa que esta suposición se cumple para la fuente. Finalmente, deducimos que el subjuego 1, que es el juego completo, maximiza el bienestar local, que es equivalente al bienestar real. Por lo tanto, el juego de precio y calidad de Stackelberg produce una ruta óptima. 194