Algoritmos competitivos para VWAP y Limit Order Trading Sham M. Kakade Computer and Information Science University of Pennsylvania kakade@linc.cis.upenn.edu Michael Kearns Computer and Information Science University of Pennsylvania mkearns@cis.upenn.edu Yishay Mansour Informática Tel AvivivUniversidad mansour@post.tau.ac.il Luis E. Ortiz Información e Información Ciencias de la información de Pennsylvania leortiz@linc.cis.upenn.edu Resumen Introducimos nuevos modelos en línea para dos aspectos importantes de los mercados financieros modernos: Volumen Promedio de precios promedio ponderadoy limitar los libros de pedidos. Proporcionamos un estudio extenso de algoritmos competitivos en estos modelos y los relacionamos con algoritmos en línea anteriores para el comercio de acciones. Categorías y descriptores de sujetos F.2 [Análisis de algoritmos y complejidad del problema]: Varios;J.4 [Ciencias sociales y conductuales]: Economía General de Algoritmos de Términos, Economía 1. Introducción Si bien las imágenes populares de Wall Street a menudo representan a los comerciantes de swashbuckling con audacia grandes apuestas en sus intuiciones en el mercado, la gran mayoría de los comercios es realmente más técnico y limitado. Las restricciones a menudo se derivan de una combinación compleja de problemas comerciales, regulatorios e institucionales, y dan como resultado ciertos tipos de estrategias o criterios comerciales estándar que invitan a análisis algorítmico. Una de las actividades más comunes en los mercados financieros modernos se conoce como precio promedio ponderado por volumen, o VWAP, negociación. Informalmente, el VWAP de una acción durante un período de mercado especificado es simplemente el precio promedio pagado por acción durante ese período, por lo que el precio de cada transacción en el mercado está ponderado por su volumen. En el comercio de VWAP, uno intenta comprar o vender un número fijo de acciones a un precio que rastrea de cerca el VWAP. Los oficios institucionales muy grandes constituyen una de las principales motivaciones detrás de la actividad de VWAP. Un escenario típico es el siguiente. Supongamos que un fondo mutuo muy grande posee el 3% de las acciones en circulación de una gran empresa que cotiza en bolsa, una gran fracción de las acciones, y que este gerente de fondos decide que le gustaría reducir esta tenencia al 2% durante un período de 1 mes..(Tal decisión podría ser forzada por las propias regulaciones de los fondos u otras consideraciones). Por lo general, dicho administrador de fondos no estaría calificado para vender una cantidad tan grande de acciones en el mercado abierto: requiere que un corredor profesional rompa inteligentemente el intercambio con el tiempo, y posiblemente en múltiples intercambios, para minimizar el impacto del mercado deuna transacción tan considerable. Por lo tanto, el Administrador de fondos abordaría las casas de bolsa para obtener ayuda para vender el 1%. La corredora generalmente aliviará el problema de los administradores de fondos inmediatamente simplemente comprando las acciones directamente del Administrador del Fondo, y luego venderlas más tarde, pero ¿qué precio debería pagar la corredora al Administrador del Fondo? Pagar el precio el día de la venta es demasiado arriesgado para la corretaje, ya que necesitan vender las acciones en sí mismas durante un período prolongado, y los eventos más allá de su control (como las guerras) podrían hacer que el precio caiga drásticamente. La respuesta habitual es que la corredora ofrece comprar las acciones del Administrador de fondos a un precio por acción vinculado al VWAP durante algún período futuro; en nuestro ejemplo, la corredora podría ofrecer comprar el 1% a un precio por acción.de los próximos meses VWAP menos 1 centavo. La corredora ahora tiene un desafío muy limpio: al vender las acciones en sí misma durante el próximo mes de una manera que coincide exactamente con el VWAP, se obtiene un centavo por acción en las ganancias. Si pueden vencer al VWAP por un centavo, hacen dos centavos por acción. Tales ganancias pequeñas y de alto volumen pueden ser extremadamente lucrativas para una gran corredora. La importancia del VWAP ha llevado a muchos algoritmos automatizados de comercio de VWAP; de hecho, cada corretaje importante tiene al menos un cuadro VWAP, 189 precio Modelo de volumen Modelo de pedido Modelo de distribución macroscópica Modelo OWT θ (log (R)) (de [3])O (log (r) log (n)) 2e (pbins maxprice) 2 (1 +) e (pbins maxprice) para -approx de pbins maxprice θ (log (q)) (igual que arriba más ...) vwap θ(log (r)) o (log (r) log (n)) (desde arriba) 2e (pbins vol) ω (q) Programa fijo o (log (Q)) para N (1 +) 2e (Pbins Vol) para -approx.de Pbins Vol 1 para volumen en [N, Qn] Figura 1: La tabla resume los resultados presentados en este documento. Las filas representan resultados para el criterio OWT o VWAP. Las columnas representan en qué modelo estamos trabajando. La entrada en la tabla es la relación competitiva entre nuestro algoritmo y un algoritmo óptimo, y cuanto más cerca sea la relación a 1 mejor. El parámetro R representa un límite en el máximo a la fluctuación mínima del precio y el parámetro Q representa un límite en la fluctuación de volumen máximo a mínimo en el modelo respectivo.(Consulte la Sección 4 para obtener una descripción del modelo de distribución macroscópica). Todos los resultados para el criterio de comercio OWT (que es un criterio más fuerte) se traducen directamente al criterio VWAP. Sin embargo, en el entorno VWAP, considerando una restricción en el máximo de la fluctuación mínima de volumen Q, conduce a una clase adicional de resultados que depende de Q. y algunas pequeñas empresas se centran exclusivamente en la tecnología de comercio VWAP patentado. En este documento, proporcionamos el primer estudio de los algoritmos de comercio VWAP en una configuración de relación competitiva en línea. Primero formalizamos el problema de negociación VWAP en un modelo básico en línea que llamamos el modelo de precio-volumen, que puede verse como una generalización de los modelos de comercio en línea teóricos anteriores que incorporan información del volumen del mercado. En este modelo, proporcionamos algoritmos VWAP y proporciones competitivas, y comparamos esta configuración con el problema de comercio unidireccional (OWT) estudiado en [3]. Sin embargo, nuestros resultados más interesantes examinan el problema comercial de VWAP en un nuevo modelo de negociación en línea que captura el importante fenómeno reciente de los libros de pedidos límite en los mercados financieros. Brevemente, una orden de compra o venta de límite especifica tanto el número de acciones como el precio deseado, y solo se ejecutará si hay una parte correspondiente en el lado opuesto, según un procedimiento de correspondencia bien definido utilizado por todos los intercambios principales. Si bien los libros de órdenes de límite (la lista de órdenes límite que esperan una posible ejecución futura) han existido desde el amanecer de los intercambios de capital, solo recientemente estos libros se han vuelto visibles para los comerciantes en tiempo real, abriendo así el camino a los algoritmos de comercio de todas las variedades que intentanpara explotar estos ricos datos de microestructura de mercado. Dichos datos y algoritmos son un tema de gran interés actual en Wall Street [4]. Por lo tanto, presentamos un nuevo modelo de comercio en línea que incorpora libros de pedidos límite y examinamos los problemas comerciales unidireccionales y VWAP. Nuestros resultados se resumen en la Figura 1 (ver el título para un resumen).2. ThePrice-VolumetradingModel ahora presentamos un modelo de negociación que incluye información de precio y volumen sobre la secuencia de operaciones. Si bien este modelo es una generalización de formalismos anteriores para el comercio en línea, hace una suposición de liquidez infinita que no puede modelar el impacto negativo del mercado que el comercio de una gran cantidad de acciones típicamente tiene. Esto se abordará en el modelo de libro de pedidos estudiado en la siguiente sección. Una nota sobre terminología: en todo el documento (a menos que se especifique lo contrario), utilizaremos el término mercado para describir todas las actividades u órdenes que no sean las del algoritmo bajo consideración. La configuración que consideramos se puede ver como un juego entre nuestro algoritmo y el mercado.2.1 El modelo en el modelo de comercio de precio-volumen, suponemos que la actividad de negociación intradía en una acción determinada se resume mediante una secuencia discreta de pares de precios y volumen (PT, VT) para t = 1 ,..., T. Aquí t = 0 corresponde al mercado de los días abierto, y t = t al cierre. Si bien no hay nada técnicamente especial sobre el horizonte temporal de un solo día, es particularmente consistente con el comercio de la libros de pedidos límite en Wall Street. El par (PT, VT) representa el hecho de que un total de acciones de VT se negociaron a un precio (promedio) por acción PT en el mercado entre el tiempo T - 1 y T.Siendo realistas, debemos imaginar que el número de intervalos t es razonablemente grande, de modo que es sensato asignar un precio aproximado común a todas las acciones negociadas dentro de un intervalo. En el modelo de precio-volumen, haremos una suposición de liquidez infinita para nuestros algoritmos comerciales. Más precisamente, en este modelo en línea, vemos la secuencia de precio-volumen de un par a la vez. Tras la observación de (PT, VT), se nos permite vender cualquier número (posiblemente fraccional) de acciones nt al precio PT. Supongamos que nuestro objetivo es vender n acciones en el transcurso del día. Por lo tanto, en cada momento, debemos seleccionar un número (posiblemente fraccional) de acciones nt para vender al precio PT, sujeto a la restricción global t t = 1 nt = N. Por lo tanto, se supone que si hemos dejado las acciones para venderDespués del tiempo T - 1, nos vemos obligados a venderlos al precio de cierre del mercado, es decir, nt = n - t −1 t = 1 nt se vende en Pt. De esta manera, seguramente venderemos exactamente N acciones en el transcurso del día;Lo único que debe hacer un algoritmo es determinar el cronograma de venta en función de la corriente de precio-volumen de mercado entrante. Cualquier algoritmo que venda volúmenes fraccionales se puede convertir a un algoritmo aleatorizado que solo vende volúmenes integrales con el mismo número esperado de acciones vendidas. Si mantenemos la difícil restricción de vender exactamente N acciones, podríamos incurrir en una ligera pérdida adicional en la conversión.(Tenga en cuenta que solo permitimos volúmenes fraccionales en el modelo de precio-volumen, donde la liquidez no es un problema. En el modelo de libro de pedidos a seguir, no permitimos volúmenes fraccionales). En el comercio de VWAP, el objetivo de un algoritmo en línea A que vende exactamente n acciones no es maximizar las ganancias per se, sino rastrear el mercado VWAP. El mercado VWAP para una secuencia de negociación intradía S = (P1, V1) ,..., (PT, VT) es simplemente el precio promedio pagado por acción en el transcurso de la negociación de 190 días, es decir, VWAPM (S) = T T = 1 PTVT /V donde V es el volumen diario total, es decir, V = T T T= 1 Vt. Si en la secuencia S, el algoritmo A vende sus acciones N usando la secuencia de volumen N1 ,...NT, luego definimos análogos el VWAP de A en la secuencia de mercado S por VWAPA (S) = T T = 1 PTNT /N. Tenga en cuenta que el mercado VWAP no incluye las acciones que vende el algoritmo. La relación competitiva VWAP de A con respecto a un conjunto de secuencias σ es entonces rvwap (a) = max s∈σ {vwapm (s)/vwapa (s)} en el caso de que a se aleatoriza, generalizamos la definición anterior porTomando una expectativa sobre VWAPA dentro del máximo. Notamos que, a diferencia de Wall Street, nuestra definición de VWAPM no tiene en cuenta nuestro propio comercio. Es fácil ver que esto lo convierte en un criterio más desafiante para rastrear. En contraste con el VWAP, otra medida común del rendimiento de un algoritmo de venta en línea sería su relación competitiva de comercio unidireccional (OWT) [3] con respecto a un conjunto de secuencias σ: Rowt (A) = Max S∈σmax 1≤t≤t {PT/VWAPA (S)} Cuando el rendimiento de los algoritmos se compara con el precio individual más grande que aparece en la secuencia S. tanto en VWAP como en OWT, estamos comparando el precio promedio por acción recibido por un algoritmo de ventaa alguna medida del desempeño del mercado. En el caso de OWT, nos comparamos con el punto de referencia bastante ambicioso del alto precio del día, ignorando por completo los volúmenes. En el comercio de VWAP, tenemos el objetivo más modesto de comparar favorablemente con el promedio general del mercado del día. Como veremos, hay algunos puntos en común importantes y diferencias en estos dos enfoques. Por ahora notamos un hecho simple: en cualquier secuencia específica, VWAPA puede ser mayor que VWAPM (s). Sin embargo, RVWAP (a) no puede ser menor que 1, ya que en cualquier secuencia s en la que todos los precios son idénticos, es imposible obtener una mejor participación promedio por precio. Por lo tanto, para todos los algoritmos A, tanto RVWAP (a) como Rowt (a) son mayores que 1, y cuanto más cerca de 1 están, mejor A está rastreando su medida de rendimiento respectiva.2.2 Los resultados de VWAP en el modelo de precio-volumen como en el trabajo previo en el comercio en línea, generalmente no es posible obtener límites finitos en relaciones competitivas con absolutamente ninguna suposición en el conjunto de secuencias σbounds en la variación máxima en el precio o el volumen se requieren,dependiendo de la configuración exacta. Por lo tanto, presentamos los siguientes dos supuestos.2.2.0.1 Asunción de variabilidad de volumen .. Supongamos 0 <vmin ≤ vmax constantes positivas conocidas y defina q = vmax /vmin. Para todas las secuencias de comercio intradía s ∈ σ, el volumen diario total v ∈ [vmin, vmax].2.2.0.2 Asunción de variabilidad del precio .. Supongamos 0 <pmin ≤ PMAX se conozca constantes positivas y defina R = PMAX/PMIN. Para todas las secuencias de comercio intradía s ∈ σ, los precios satisfacen pt ∈ [pmin, pMax], para todos t = 1 ,..., T. Las relaciones competitivas generalmente se toman sobre todos los conjuntos σ consistentes con al menos uno de estos supuestos. Para obtener alguna intuición, considere los dos casos triviales de r = 1 y Q = 1. En el caso de r = 1 (donde no hay fluctuación en el precio), cualquier horario es óptimo. En el caso de Q = 1 (donde se conoce el volumen V total durante el período de negociación), podemos obtener una relación competitiva de 1 vendiendo acciones VT V N después de cada período de tiempo. Para el problema de OWT en el modelo de precio-volumen, los volúmenes son irrelevantes para el criterio de rendimiento, pero para el criterio VWAP son centrales. Para el problema de OWT bajo la suposición de variabilidad del precio, los resultados de [3] establecieron que la relación competitiva óptima fue θ (log (R)). Nuestro primer resultado establece que la relación competitiva óptima para VWAP bajo la suposición de variabilidad de volumen es θ (log (Q)) y se logra mediante un algoritmo que ignora los datos de precios. Teorema 1. En el modelo de precio-volumen bajo el supuesto de variabilidad de volumen, existe un algoritmo en línea A para vender n acciones que logren la relación competitiva RVWAP (a) ≤ 2 log (q). Además, si solo la suposición de la variabilidad del volumen (y no la variabilidad del precio) se mantiene, cualquier algoritmo en línea A para vender n acciones tiene RVWAP (a) = ω (log (q)). Prueba.(Boceto) Para el límite superior, la idea es similar al algoritmo de reserva de precios de [3] para el problema de OWT, y similar en espíritu a la técnica general de clasificar y seleccionar [1]. Considere algoritmos que usan un parámetro ˆV, que se interpreta como una estimación para el volumen total para el día. Luego, en cada momento t, si el precio y el volumen de mercado son (PT, VT), el algoritmo vende una fracción VT/ ˆV de sus acciones. Consideramos una familia de log (q) tales algoritmos, donde el algoritmo ai usa ˆv = vmin 2i - 1. Claramente, una de las IA tiene una relación competitiva de 2. Podemos obtener una relación competitiva O (log (Q)) VWAP ejecutando estos algoritmos en paralelo y permitiendo que cada algoritmo venda las acciones de N/ log (Q).(Alternativamente, podemos seleccionar aleatoriamente una IA y garantizar la misma relación competitiva esperada). Ahora dibujamos la prueba del límite inferior, que relaciona el rendimiento en los problemas de VWAP y OWT. Cualquier algoritmo que sea competitivo en C en la configuración VWAP (en Q fijo) es competitivo 3C en la configuración OWT con R = Q/2. Para mostrar esto, tomamos cualquier secuencia de precios para el problema de OWT y lo convertimos en una secuencia de precio-volumen para el problema VWAP. Los precios en la secuencia VWAP son los mismos que en S. para construir los volúmenes en la secuencia VWAP, segmentamos los precios en S en intervalos log (R) [2i - 1 pmin, 2i pmin). Supongamos que pt ∈ [2i - 1 pmin, 2i pmin), y esta es la primera vez en s que un precio ha caído en este intervalo. Luego, en la secuencia VWAP, establecemos el volumen VT = 2i - 1. Si esta no es la primera visita al intervalo que contiene PT, establecemos VT = 0. Suponga que el precio máximo en S es PMAX. El VWAP de nuestra secuencia es al menos PMAX /3. Como teníamos un algoritmo competitivo C, su venta promedio es al menos PMAX /3C. El límite inferior ahora sigue usando el límite inferior en [3]. Un enfoque alternativo para VWAP es ignorar los volúmenes a favor de los precios y aplicar un algoritmo para el problema de OWT. Tenga en cuenta que el límite inferior en este teorema, a diferencia del anterior, solo supone un límite de variación de precios.191 Teorema 2. En el modelo de precio-volumen bajo la suposición de variabilidad del precio, existe un algoritmo en línea A para vender n acciones que logran la relación competitiva RVWAP (a) = o (log (R)). Además, si solo la suposición de la variabilidad del precio (y no la variabilidad del volumen) se mantiene, cualquier A en línea A para vender n acciones tiene RVWAP (a) = Ω (log (R)). Prueba.(Sketch) sigue inmediatamente de los resultados de [3] para OWT: el límite superior del hecho simple de que para cualquier secuencia S, VWAPA (S) es menor que Max1≤t≤t {Pt}, y el límite inferior de AReducción a Owt. Los teoremas 1 y 2 demuestran que se pueden lograr relaciones competitivas LOGARITMIC VWAP bajo el supuesto de variabilidad limitada del volumen total o la variabilidad limitada del precio máximo. Si ambos supuestos se mantienen, es posible dar un algoritmo que logre el mínimo de log (q) y log (r). Esta flexibilidad de enfoque se deriva del hecho de que el VWAP es una cantidad en la que tanto los precios como los volúmenes son importantes, en oposición a OWT.2.3 RELACIONADOS Los algoritmos VWAP que hemos discutido hasta ahora hemos discutido que hasta ahora aprovechan los datos diarios (PT, VT) a medida que se desarrolla, utilizando la información de precio o volumen. Por el contrario, un algoritmo de programación fijo VWAP tiene una distribución predeterminada {F1, F2 ,...ft}, y simplemente vende acciones FTN en el tiempo T, independientemente de (PT, VT). El horario fijo de los algoritmos VWAP, o ligeras variantes de ellos, son sorprendentemente comunes en Wall Street, y el horario generalmente se deriva de los datos históricos de volumen intrainal. Nuestro siguiente resultado demuestra que tales algoritmos pueden funcionar considerablemente peor que los algoritmos dinámicamente adaptativos en términos de la razón competitiva en el peor de los casos. Teorema 3. En el modelo de precio-volumen bajo los supuestos de variabilidad de volumen y precio, cualquier algoritmo de programa VWAP de programación fija A para vender n acciones ha vendido VWAP Ratio competitivo RVWAP (A) = Ω (Min (T, R)). Las pruebas de todos los resultados en esta subsección están en el apéndice. Hasta ahora, nuestro énfasis ha sido en los algoritmos VWAP que deben vender exactamente n acciones. Sin embargo, en muchas circunstancias realistas, en realidad hay cierta flexibilidad en el número preciso de acciones que se venden. Por ejemplo, esto es cierto en grandes casas de bolsa, donde muchas operaciones VWAP separadas pueden ser agrupadas y ejecutadas por un algoritmo común, y la empresa estaría bastante dispuesta a llevar una pequeña posición de acciones no vendidas durante la noche si resultó en mejores precios de ejecución. El siguiente teorema (que curiosamente no tiene análogo para el problema de OWT) demuestra que esta compensación en las acciones vendidas y el rendimiento se puede realizar dramáticamente en nuestro modelo. Establece que si estamos dispuestos a dejar que el número de acciones vendidas varíe con Q, de hecho podemos lograr una relación competitiva VWAP de 1. Teorema 4. En el modelo de precio-volumen bajo el supuesto de variabilidad de volumen, existe un algoritmo A que siempre vende entre las acciones N y QN y que el precio promedio por acción vendida es exactamente VWAPM (s). En muchos problemas en línea, existe una clara distinción entre problemas de beneficios y problemas de costos [2]. En el entorno VWAP, vender acciones es un problema de beneficios, y comprar acciones es un problema de costo. Las definiciones de las proporciones competitivas, RBuy VWAP (A) y Rbuy Owt (A), para algoritmos que Figura 2: muestra de libros de orden de islas para MSFT.Comprar exactamente n acciones son maxs∈σ {VWAPA (S)/VWAPM (S)} y maxs∈σ maxt {vwapa (s)/pt} respectivamente. A pesar de que el Teorema 4 también es válido para comprar, en general, la relación competitiva del problema de compra (costo) es mucho mayor, como se indica en el siguiente teorema. Teorema 5. En el modelo de volumen de precio bajo los supuestos de variabilidad de volumen y precio, existe un algoritmo en línea A para comprar n acciones que logran comprar una relación competitiva VWAP rbuy vwap (a) = o (min {q, √ r}). Además, cualquier algoritmo en línea a para comprar n acciones ha comprado VWAP Ratio competitiva RBuy VWAP (a) = Ω (min {Q, √ r}).3. Un modelo de comercio de libros de pedidos límite antes de que podamos definir nuestro modelo de negociación en línea basado en los libros de pedidos límite, damos algunos antecedentes necesarios sobre la mecánica detallada de los mercados financieros, que a veces se denominan microestructura del mercado. Luego proporcionamos resultados y algoritmos para los problemas OWT y VWAP.192 3.1 Antecedentes sobre los libros de pedidos límite y la microestructura del mercado Una distinción fundamental en el comercio de acciones es que entre una orden límite y una orden de mercado. Supongamos que deseamos comprar 1000 acciones de Microsoft (MSFT). En una orden límite, especificamos no solo el volumen deseado (1000 acciones), sino también el precio deseado. Suponga que MSFT se cotiza actualmente a aproximadamente $ 24.07 por acción (ver Figura 2, que muestra una instantánea real de un libro de pedidos de MSFT reciente en Island (www.island.com), un bien conocido intercambio electrónico para las acciones de NASDAQ), pero nosotrosSolo están dispuestos a comprar las 1000 acciones a $ 24.04 por acción o inferior. Podemos elegir enviar una orden de límite con esta especificación, y nuestro pedido se realizará en una cola llamada Buy Order Libro, que está ordenado por Price, con el precio de compra sin ejecutación más alto ofrecido en la parte superior (a menudo denominada oferta). Si hay múltiples órdenes límite al mismo precio, se ordenan por tiempo de llegada (con pedidos más antiguos más altos en el libro). En el ejemplo proporcionado por la Figura 2, nuestro pedido se realizaría inmediatamente después del pedido existente para 5,503 acciones a $ 24.04;Aunque ofrecemos el mismo precio, este pedido ha llegado antes del nuestro. Del mismo modo, se mantiene un libro de pedidos de venta para pedidos límite de venta (por ejemplo, es posible que deseemos vender 500 acciones de MSFT a $ 24.10 o más), esta vez con el precio de venta más bajo ofrecido (a menudo denominado solicitado). Por lo tanto, los libros de pedidos se clasifican desde los pedidos límite más competitivos en la parte superior (altos precios de compra y bajos precios de venta) hasta pedidos límite menos competitivos. Los precios de oferta y solicitud (que nuevamente son simplemente los precios en los pedidos límite en la parte superior de los libros de compra y venta, respectivamente) a veces se conoce como el mercado interno, y la diferencia entre ellos como el diferencial. Por definición, los libros de pedidos siempre consisten exclusivamente en órdenes no ejecutadas: son colas de pedidos, con suerte, que esperan que el precio se mueva en su dirección. ¿Cómo se ejecutan entonces los pedidos? Hay dos métodos. Primero, cada vez que llega una orden de mercado, se combina inmediatamente con las órdenes límite más competitivas en el libro opuesto. Por lo tanto, una orden de mercado para comprar 2000 acciones se combina con suficiente volumen en la libreta de pedidos de venta para llenar las 2000 acciones. Por ejemplo, en el ejemplo de la Figura 2, dicha orden se cumpliría con las dos órdenes de venta límite para 500 acciones a $ 24.069, las 500 acciones a $ 24.07, las 200 acciones a $ 24.08 y luego 300 de las acciones de 1981 a $ 24.09. Las 1681 acciones restantes de este último pedido de límite permanecerían como el nuevo libro de pedidos de límite de venta. En segundo lugar, si una orden de límite de compra (vender, respectivamente) llega por encima del precio de solicitud (por debajo de la oferta, respectivamente), entonces el pedido coincide con los pedidos en los libros opuestos. Es importante tener en cuenta que los precios de las ejecuciones son los precios especificados en los pedidos límite que ya están en los libros, no los precios de la orden entrante que se ejecuta inmediatamente. Cada mercado o orden límite llega atómica e instantáneamente: hay una secuencia temporal estricta en la que llegan las órdenes, y dos órdenes nunca pueden llegar simultáneamente. Esto da lugar a la definición del último precio del intercambio, que es simplemente el último precio al que el intercambio ejecutó un pedido. Es esta cantidad la que generalmente se entiende cuando las personas se refieren casualmente al precio (de ticker) de una acción. Tenga en cuenta que una orden de compra de límite (vender, respectivamente) con un precio de infinito (0, respectivamente) es efectivamente una orden de mercado. Por lo tanto, asumiremos sin pérdida de generalidad que todos los pedidos se colocan como orden de límite. Aunque las órdenes límite que no se ejecutan pueden ser eliminadas por la parte que las colocó, por simplicidad, suponemos que las órdenes límite nunca se eliminan de los libros. Remitimos al lector a [4] para una discusión adicional de los intercambios electrónicos modernos y la microestructura del mercado.3.2 El modelo El modelo de comercio de libros de pedidos en línea está destinado a capturar los detalles realistas de la microestructura del mercado que recién discutido en una configuración de relación competitiva. En este modelo refinado, una actividad del mercado de días se describe mediante una secuencia de órdenes límite (PT, VT, BT). Aquí BT indica un poco si el pedido es un pedido de compra o venta, mientras que PT es el precio del pedido límite y la VT el número de acciones deseadas. Después de la llegada de cada orden límite, se permite que un algoritmo de negociación en línea realice su propio pedido de límite. Estas dos fuentes entrelazadas (mercado y algoritmo) de las órdenes límite simplemente se operan de acuerdo con el proceso de correspondencia descrito en la Sección 3.1. Cualquier orden de límite que no sea ejecutable de inmediato de acuerdo con este proceso se coloca en el libro apropiado (comprar o vender) para una posible ejecución futura;Las órdenes de llegada que pueden ejecutarse parcial o completamente se ejecutan así, con cualquier acción residual restante en el libro respectivo. El objetivo de un algoritmo de venta de VWAP o OWT es esencialmente el mismo que en el modelo de precio-volumen, pero el contexto ha cambiado en las siguientes dos formas fundamentales. Primero, la suposición de liquidez infinita en el modelo de precio-volumen se elimina por completo. El número de acciones disponibles a un precio dado está restringido al volumen total de pedidos límite que ofrecen ese precio. En segundo lugar, se supone que todas las órdenes entrantes y, por lo tanto, los libros de pedidos de límite completos son visibles para el algoritmo. Esto es consistente con los modernos intercambios financieros electrónicos, y de hecho es la fuente de mucho interés actual en Wall Street [4]. En general, la definición de relaciones competitivas en el modelo de libro de pedidos se complica por el hecho de que ahora nuestra actividad de algoritmos influye en la secuencia de precios y volúmenes ejecutados. Por lo tanto, primero definimos la secuencia de ejecución determinada por una secuencia de orden límite (colocada por el mercado y nuestro algoritmo). Sea s = (p1, v1, b1) ,..., (Pt, VT, Bt) ser una secuencia de orden límite colocada por el mercado, y dejar S = (P1, V1, B1) ,..., (PT, VT, BT) ser una secuencia de orden límite colocada por nuestro algoritmo (a menos que se especifique lo contrario, todos los BT son del tipo de venta). Sea la fusión (s, s) la secuencia fusionada (p1, v1, b1), (p1, v1, b1) ,..., (PT, VT, BT), (PT, VT, BT), que es la secuencia de tiempo de pedidos realizados por el mercado y el algoritmo. Tenga en cuenta que el algoritmo tiene la opción de no realizar un pedido, que podemos ver como un orden de volumen cero. Si realizamos el proceso de mantenimiento y ejecución de pedidos del libro de pedidos descrito en la Sección 3.1 en los fusiones de secuencia (s, s), a intervalos irregulares se produce una operación para una cantidad de acciones y algún precio. En cada comercio ejecutado, la fiesta de venta es el mercado o el algoritmo. Sea execm (s, s) = (q1, w1) ,..., (Qt, WT) será la secuencia de ejecuciones donde el mercado (es decir, una parte que no sea el algoritmo) fue la parte vendida, donde el QT son los precios de la ejecución y los volúmenes de ejecución. Del mismo modo, definimos ExecA (S, S) = (R1, X1) ,..., (RT, XT) para ser la secuencia de ejecuciones en la que el algoritmo era la fiesta de venta. Por lo tanto, ExecA (S, S) ∪ ExecM (S, S) es el conjunto de todas las ejecuciones. Generalmente esperamos que T sea (posiblemente mucho) más pequeño que T. Los ingresos del algoritmo y el mercado se definen 193 como: Revm (S, S) ≡ T T = 1 Qtwt, Reva (S, S) ≡ T T = 1 RTXT Tenga en cuenta que ambas cantidades están determinadas únicamente por las secuencias de ejecuciónExecM (S, S) y Execa (S, S), respectivamente. Para un algoritmo A que está obligado a vender exactamente n acciones, definimos la relación competitiva OWT de A, Rowt (a), como la relación máxima (bajo cualquier S ∈ σ) de los ingresos obtenidos por A, en comparación con los ingresosobtenido por un algoritmo ﬄ ine optim ﬄ ﬄ ﬄ ﬄ a ∗. Más formalmente, para un ∗ que está limitado a vender exactamente n acciones, definimos a Rowt (a) = max s∈σ max a ∗ reva ∗ (s s ∗) reva (s, s) donde s ∗ es la secuencia de orden límite colocadopor A ∗ sobre S. Si el algoritmo A se aleatoriza, entonces tomamos la expectativa apropiada con respecto a S ∼ A. Definimos la relación competitiva VWAP, RVWAP (A), como la relación máxima (bajo cualquier S ∈ σ) entre el mercado y el algoritmo VWAPS. Más formalmente, defina VWAPM (S, S) como RevM (S, S)/ T T = 1 WT, donde el denominador es solo el volumen total ejecutado de pedidos realizados por el mercado. Del mismo modo, definimos VWAPA (S, S) como RevA (S, S)/N, ya que asumimos que el algoritmo no vende más de N acciones (esta definición supone implícitamente que A obtiene un precio de 0 por acciones no vendidas). La relación competitiva VWAP de A es entonces: rvwap (a) = max s∈σ {vwapm (s, s)/vwapa (s, s)} donde s es la secuencia en línea de órdenes límite generados por A en respuesta a la secuenciaS. 3.3 Resultados de OWT en el modelo de libro de pedidos para el problema de OWT En el modelo de libro de pedidos, presentamos una versión más sutil de la suposición de variabilidad del precio. Esto se debe al hecho de que nuestro comercio de algoritmos puede afectar los precios altos y bajos del día. Para el siguiente supuesto, tenga en cuenta que Execm (S, ∅) es la secuencia de ejecuciones sin la interacción de nuestro algoritmo.3.3.0. Para todas las secuencias de comercio intradía s ∈ σ, los precios Pt en la secuencia EXECM (S, ∅) satisfacen pt ∈ [PMIN, PMAX], para todos t = 1 ,..., T. Tenga en cuenta que esta suposición no implica que las proporciones de precios altos a bajos bajo las secuencias execm (s, s) o execa (s, s, s) estén limitadas por R. De hecho, la relación en la secuencia EXECA (s, S) podría ser infinito si el algoritmo termina vendiendo algunas acciones a un precio de 0. Teorema 6. En el modelo de libro de pedidos bajo la suposición de variabilidad del precio del libro de pedidos, existe un algoritmo en línea A para vender n acciones que logran vender una relación competitiva Rowt (a) = 2 registro (R) log (n). Prueba. El algoritmo A funciona adivinando un precio P en el conjunto {pmin2i: 1 ≤ i ≤ log (r)} y colocando una orden de límite de venta para todas las acciones al precio P al comienzo del día.(Alternativamente, el algoritmo A puede colocar log (R) Vender órdenes límite, donde el i-th One tiene el precio 2i pmin y volumen n/ log (r).). Al realizar un pedido al comienzo del día, el algoritmo socava todas las órdenes de venta que se realizarán durante el día por un precio de P o superior, lo que significa que los algoritmos de las acciones de N deben completarse primero a este precio. Por lo tanto, si hubiera K acciones que se habrían vendido al precio P o más sin nuestra actividad, entonces A vendería al menos acciones de KP. Definimos {PJ} para ser el multiset de precios de acciones individuales que se ejecutan o son acciones de orden de límite de compra que permanecieron sin ejecución, excluyendo la actividad de nuestro algoritmo (es decir, suponiendo que nuestro algoritmo no realice órdenes). Suponga sin pérdida de generalidad que p1 ≥ p2 ≥.... Considere adivinar el KTH más alto de este precio, PK. Si se realiza un pedido para N de N en los días que comienza en Price PK, entonces tenemos la garantía de obtener una devolución de KPK. Sea k ∗ = argmaxk {kpk}. Podemos ver que nuestro algoritmo intenta adivinar PK ∗, y tener éxito si la suposición P satisface p ∈ [PK ∗ /2, PK ∗]. Por lo tanto, somos 2 log (r) competitivos con la cantidad max1≤k≤n kpk. Tenga en cuenta que ρ ≡ n i = 1 pi = n i = 1 1 i ie ≤ max 1≤k≤kn kpk n i = 1 1 1 i ≤ log (n) max 1≤k≤k ≤k kpk donde ρ se define como la sumade los principales precios n Pi sin asignación. Del mismo modo, Sea {PJ} la multisetea de precios de acciones ejecutadas individuales, o los precios de las acciones de pedidos de compra no ejecutadas, pero ahora incluyen los pedidos realizados por algunos algoritmo de venta a. Ahora deseamos mostrar que para todos los algoritmos A que venden n acciones, reva ≤ n i = 1 pi ≤ ρ. Esencialmente, esta desigualdad establece la idea intuitiva de que un algoritmo de venta solo puede reducir los precios de las acciones de compra ejecutados o inigualables. Para probar esto, utilizamos la inducción para demostrar que la eliminación de la actividad de un algoritmo de venta hace que estos precios aumenten. Primero, elimine la última acción en el último orden de venta realizado por un mercado o el mercado en una (s, s) secuencia arbitraria (s); con esto, queremos decir, tome el último orden de venta realizado por un mercado y disminuya su volumen poruna acción. Después de esta modificación, los principales n precios p1...PN no disminuirá. Esto se debe a que esta parte de la orden de venta no se ejecutó, en cuyo caso el reclamo es trivialmente verdadero o, si se ejecutó, la eliminación de esta acción de orden de venta deja una acción de compra no ejecutada adicional de igual o mayor precio. Para la inducción, suponga que si eliminamos una acción de cualquier orden de venta que fue realizado, por un mercado, en o después de tiempo t, los precios principales no disminuyen. Ahora mostramos que si eliminamos una acción de la última orden de venta que fue realizada por A o el mercado antes del tiempo T, entonces los principales precios no disminuyen. Si esta acción de pedido de venta no se ejecutó, entonces el reclamo es trivialmente cierto. Más, si se ejecutó la acción de la orden de venta, entonces el reclamo es verdadero porque al eliminar esta acción ejecutada de la orden de venta, ya sea: i) La participación de la orden de compra correspondiente (de igual o valor más alto) no tiene comparación en el resto de la secuencia, en¿Qué caso el reclamo es verdadero?o ii) Esta compra de 194 coincide con algunas acciones de pedidos de venta a un precio igual o superior, lo que tiene el efecto de eliminar una acción de una orden de venta en el resto de la secuencia y, por la suposición inductiva, esto solo puede aumentar los precios. Por lo tanto, hemos demostrado que para todos los que venden n acciones reva ≤ ρ. Ahora hemos establecido que nuestros ingresos satisfacen 2 log (r) es ∼A [reva (s, s)] ≥ max 1≤k≤n {kpk} ≥ ρ/ log (n) ≥ max a {reva}/ log (N), donde A realiza una secuencia arbitraria de N órdenes de límite de venta de N.3.4 Resultados de VWAP En el modelo de libro de pedidos, el algoritmo OWT del Teorema 6 se puede aplicar para obtener el siguiente resultado de VWAP: Corolario 7. En el modelo de libro de pedidos bajo la suposición de variabilidad del precio del libro de pedidos, existe un algoritmo en línea A para vender n acciones que logran VWAP Ratio competitivo RVWAP (a) = O (log (R) log (n)). Ahora hacemos una suposición bastante diferente en las secuencias S. 3.4.0.4 Volumen de pedido limitado y suposición máxima de precios. El conjunto de secuencias σ satisface las siguientes dos propiedades. Primero, suponemos que cada pedido realizado por el mercado es de volumen menor que γ, lo que consideramos una suposición leve, ya que típicamente los pedidos individuales en el mercado no son de alto volumen (debido a problemas de liquidez). Esta suposición permite que nuestro algoritmo coloque al menos una orden de límite a la vez entrelazada con aproximadamente ejecuciones de mercado de γ. En segundo lugar, suponemos que hay un gran volumen en los libros de pedidos de venta por debajo del precio PMAX, lo que significa que ningún pedido realizado por el mercado se ejecutará por encima del precio PMAX. La forma más sencilla de instanciar esta última suposición en el modelo de libro de pedidos es suponer que cada secuencia s ∈ σ comienza colocando una gran cantidad de órdenes de venta (más que Vmax) al precio PMAX. Aunque esta suposición tiene un parámetro de precio máximo, no implica que el índice de precios sea finito, ya que no implica ningún límite inferior en los precios de las acciones de compra o ejecutada (aparte del trivial de 0). Teorema 8. Considere el modelo de libro de pedidos bajo el volumen de pedido limitado y suposición de precio máximo. Existe un algoritmo A en el que se han producido exactamente las ejecuciones de mercado de γn, luego A se ha vendido como máximo n acciones y reva (s, s) n = vwapa (s, s) ≥ (1 -) VWAPM (S, S) -PMAX n donde s es una secuencia de n órdenes de límite de venta generados por A al observar la prueba S. El algoritmo divide el día de negociación en intervalos de volumen cuya duración en tiempo real puede variar. Para cada período I en el que se han ejecutado las acciones γ en el mercado, el algoritmo calcula el mercado VWAP de solo aquellas acciones negociadas en el período I;Denotemos esto por Vwapi. Después de este intervalo de volumen, el algoritmo coloca una orden límite para vender exactamente una acción a un precio cercano a VWAPI. Más precisamente, el algoritmo solo realiza pedidos a los precios discretos (1-) PMAX, (1-) 2 PMAX ,.... Después del intervalo de volumen I, el algoritmo coloca una orden límite para vender una acción al precio discretizado que está más cerca de VWAPI, pero que es estrictamente más pequeño. Para el análisis, comenzamos señalando que si todas las órdenes de límite de algoritmos se ejecutan durante el día, los ingresos totales recibidos por el algoritmo serían al menos (1 -) VWAPM (S, S) n.Para ver esto, es suficiente tener en cuenta que VWAPM (S, S) es una mezcla uniforme del VWAPI (ya que, por definición, cubren la misma cantidad de volumen del mercado);Y si se ejecutaron todas las órdenes de límite de algoritmos, cada una recibió más de (1 -) dólares VWAPI para el intervalo que siguieron. Ahora contamos los posibles ingresos perdidos del algoritmo debido a las órdenes límite no ejecutadas. Suponiendo que las órdenes individuales se colocan con un volumen inferior a γ, entonces nuestro algoritmo puede colocar una orden límite durante cada bloque de acciones γ. Por lo tanto, después de que se han ejecutado órdenes de mercado de γN, A ha realizado n pedidos en el mercado. Tenga en cuenta que puede haber como máximo un orden límite (y por lo tanto, a lo sumo una acción) que no se ejecutan en cada nivel de la escalera de precios discretizada definida anteriormente. Esto se debe a que después del intervalo I, el algoritmo coloca su orden de límite estrictamente debajo de VWAPI, por lo que si VWAPJ ≥ VWAPI para J> I, este orden límite debe haber sido ejecutado. Por lo tanto, las órdenes límite no ejecutadas vinculan los VWAP del resto del día, lo que resulta en una orden no ejecutada por nivel de precio. Un límite en los ingresos perdidos es, por lo tanto, la suma de los precios discretizados: ∞ i = 1 (1 -) I PMAX ≤ PMAX /. Claramente, nuestro algoritmo se ha vendido como máximo n acciones. Tenga en cuenta que a medida que N se vuelve grande, VWAPA se acerca 1, veces el mercado VWAP. Si supiéramos que el volumen total final de las ejecuciones de mercado es V, entonces podemos establecer γ = V/N, suponiendo que γ >> 1. Si solo tenemos un límite superior e inferior en V, deberíamos poder adivinar e incurrir en una pérdida logarítmica. El siguiente supuesto intenta capturar la variabilidad del volumen del mercado.3.4.0.5 Supuesto de variabilidad de volumen de libros de pedidos. Ahora suponemos que el volumen total (que incluye las acciones ejecutadas por nuestro algoritmo y el mercado) es variable dentro de alguna región conocida y que el volumen del mercado será mayor que nuestro volumen de algoritmos. Más formalmente, para todos los s ∈ σ, suponga que el volumen total V de las acciones negociadas en execm (s, s), para cualquier secuencia s de n órdenes de límite de venta, satisface 2n ≤ vmin ≤ v ≤ vmax. Sea q = vmax /vmin. El siguiente corolario se deriva usando una constante = 1/2 y observando que si establecemos γ de modo que v ≤ γn ≤ 2V, entonces nuestro algoritmo se colocará entre las órdenes de límite N y N/2. Corolario 9. En el modelo de Libro de pedidos, si el volumen de pedido limitado y el supuesto de precio máximo, y la suposición de la variabilidad del volumen del libro de pedidos se mantiene, existe un algoritmo en línea A para vender como máximo n acciones, de modo que VWAPA (S, S) ≥ 1 4 log (Q) VWAPM (S, S) - 2pmax n 195 0 2 4 6 8 x 10 7 0 20 40 60 80 100 QQQ: log (q) = 4.71, e = 3.77 0 2 4 6 8 10 x 10 6 0 20 4060 80 jnpr: log (Q) = 5.66, e = 3.97 0 0.5 1 1.5 2 x 10 6 0 10 20 30 40 50 50 60 70 MCHP: log (q) = 5.28, e = 3.86 0 2 4 6 8 10 x 106 0 50 100 100 150 200 250 CHKP: Log (Q) = 6.56, E = 4.50 Figura 3: Aquí presentamos límites de la Sección 4 basados en las distribuciones de volumen empírico para cuatro existencias reales: QQQ, MCHP, JNPR y CHKP. Las gráficas muestran histogramas para los volúmenes diarios totales transaccados en la isla para estas acciones, en el último año y medio, junto con los valores correspondientes de log (Q) y E (PBINS VOL) (denotado por E). Suponemos que los volúmenes diarios mínimos y máximos en los datos corresponden a Vmin y VMAX, respectivamente. Los límites de relación competitivos en el peor de los casos (que son dos veces log (Q)) de nuestro algoritmo para esas acciones son 9.42, 10.56, 11.32 y 13.20, respectivamente. Los límites correspondientes en el rendimiento de la relación competitiva de nuestro algoritmo bajo el modelo de distribución de volumen (que son dos veces E (PBINS vol)) son mejores: 7.54, 7.72, 7.94 y 9.00, respectivamente (una mejora relativa del 20-40%). Usando un binning de volumen más fino junto con un límite ligeramente más refinado en la relación competitiva, podemos construir algoritmos que, utilizando la distribución de volumen empírico dada como correcta, garantizan relaciones competitivas aún mejores de 2.76, 2.73, 2.75 y 3.17, respectivamente para aquellosacciones (detalles omitidos).4. Modelos de distribución macroscópica Concluimos nuestros resultados con un retorno al modelo de precio-volumen, donde introduciremos algunos métodos de análisis refinados para los algoritmos de comercio en línea. Dejamos la generalización de estos métodos al modelo de libro de pedidos para el trabajo futuro. Las proporciones competitivas definidas hasta ahora miden el rendimiento en relación con algún criterio de referencia en el peor de los casos en todas las secuencias de mercado s ∈ σ. Se ha observado en muchos entornos en línea que tales métricas en el peor de los casos pueden producir resultados pesimistas, y se han considerado varias relajaciones, como permitir una distribución de probabilidad sobre la secuencia de entrada. Ahora consideramos modelos de distribución que son considerablemente más débiles que asumir una distribución sobre secuencias de mercado completas s ∈ σ. En el modelo de distribución de volumen, suponemos que solo existe un PVOL de distribución sobre el volumen total V comercializado en el mercado por el día, y luego examinamos la relación competitiva en el peor de los casos sobre las secuencias consistentes con el volumen elegido al azar. Más precisamente, definimos RVWAP (A, PVOL) = EV ∼Pvol Max S∈Seq (V) VWAPM (S) VWAPA (S). Aquí V ∼ Pvol denota que V se elige con respecto a la distribución PVOL, y SEQ (V) ⊂ σ es el conjunto de todas las secuencias de mercado (P1, V1) ,..., (pt, vt) satisfactorio t t = 1 vt = v. Del mismo modo, para OWT, podemos definir ROWT (A, PMAXPRICE) = EP∼PMaxPrice Max S∈Seq (P) P VWAPA (S). Aquí PMAXPRICE es una distribución sobre el precio máximo del día, y luego examinamos las peores secuencias consistentes con este precio (SEQ (P) ⊂ σ es el conjunto de todas las secuencias de mercado que satisfacen max1≤t≤t pt = p). Se pueden dar definiciones análogas al lado de la compra. Hacemos hincapié en que en estos modelos, el algoritmo conoce la distribución del volumen y el precio máximo. También observamos que nuestros supuestos probabilísticos en S son considerablemente más débiles que los modelos de financiación estadística típica, lo que plantearía un modelo estocástico detallado para la evolución paso a paso de (PT, VT). Aquí, en su lugar, permitimos solo una distribución sobre las medidas crudas y macroscópicas de la actividad del mercado de los días enteros, como el volumen total y el alto precio, y analizamos el peor rendimiento de los casos consistentes con estas medidas crudas. Por esta razón, nos referimos a la configuración como el modelo de distribución macroscópica. El trabajo de El-Yaniv et al.[3] examina las suposiciones de distribución similares a las nuestras, pero también enfatizan las opciones de casos peor196 para las distribuciones, y muestran que esto conduce a los resultados no mejores que el análisis original del peor de los casos en todas las secuencias. En contraste, creemos que el análisis de distribuciones específicas PVOL y PMAXPRICE es natural en muchos contextos financieros y nuestros resultados experimentales preliminares muestran mejoras significativas cuando se tiene en cuenta esta información de distribución más bien cruda (ver Figura 3). Nuestros resultados en la configuración de VWAP examinan los casos en que estas distribuciones se conocen exactamente o solo aproximadamente. Se pueden obtener resultados similares para las distribuciones macroscópicas del precio diario máximo para el entorno de negociación unidireccional.4.1 Resulta en el modelo de distribución macroscópica, comenzamos señalando que los algoritmos examinados hasta ahora funcionan agrupando volúmenes totales o precios máximos en contenedores de tamaño exponencialmente aumentando, y luego adivinando el índice del contenedor en el que cae la cantidad real. Por lo tanto, es natural que el rendimiento del modelo de distribución macroscópica de tales algoritmos (que son comunes en el análisis competitivo) puedan depender de la distribución del índice de bin verdadero. En el resto, suponemos que Q es un poder de 2 y la base del logaritmo es 2. Deje que PVOL denote la distribución del volumen total del mercado diario. Definimos la distribución relacionada Pbins Vol sobre los índices de bin I de la siguiente manera: para todos i = 1 ,..., log (Q) - 1, Pbins vol (i) es igual a la probabilidad, bajo PVOL, de que el volumen diario cae en el intervalo [Vmin 2i - 1, Vmin 2i) y PBins Vol (log (Q))para el último intervalo [VMAX /2, VMAX]. Definimos E como E (Pbins vol) ≡ Ei∼p Bins Vol 1/Pbins Vol (I) 2 =    log (Q) I = 1 Pbins Vol (I)   2. Dado que el soporte de PBINS VOL solo tiene elementos log (Q), E (PBINS VOL) puede variar de 1 (para distribuciones PVOL que colocan todo su peso en solo uno de los intervalos log (Q) entre Vmin, Vmin 2, Vmin, Vmin, VMin4, ..., Vmax) para registrar (Q) (para distribuciones PVOL en la que es probable que el volumen diario total caiga en cualquiera de estos intervalos). Tenga en cuenta que las distribuciones PVOL de este último tipo están lejos de ser uniformes en todo el rango [vmin, vmax]. Teorema 10. En el modelo de distribución de volumen bajo la suposición de variabilidad de volumen, existe un algoritmo en línea A para vender n acciones que, utilizando solo el conocimiento del PVOL de distribución de volumen total, logra RVWAP (A, PVOL) ≤ 2e (PBINS VOL). Todas las pruebas en esta sección se proporcionan en el apéndice. Como ejemplo concreto, considere el caso en el que PVOL es la distribución uniforme sobre [Vmin, VMAX]. En ese caso, Pbins Vol está aumentando exponencialmente y alcanza su punto máximo en el último contenedor, lo que, con el ancho más grande, también tiene el mayor peso. En este caso, E (Pbins Vol) es una constante (es decir, independiente de Q), que conduce a una relación competitiva constante. Por otro lado, si PVOL es exponencial, entonces PBINS VOL es uniforme, lo que lleva a una relación competitiva O (log (Q)), al igual que en la configuración de precio más adversario discutida anteriormente. En la Figura 3, proporcionamos límites específicos adicionales obtenidos para las distribuciones empíricas de volumen diario total calculado para algunas existencias reales. Ahora examinamos la configuración en la que se desconoce PVOL, pero hay una aproximación ˜ -VOL disponible. Definamos c (pbins vol, ˜pbins vol) = log (q) j = 1 ˜pbins vol (j) log (q) i = 1 p bins vol (i) √ ˜p bins vol (i). C se minimiza en C (Pbins Vol, Pbins Vol) = E (Pbins vol), y C puede ser infinito si ˜pbins vol (i) es 0 cuando Pbins Vol (i)> 0. Teorema 11. En el modelo de distribución de volumen bajo la suposición de variabilidad de volumen, existe un algoritmo en línea A para vender n acciones que usan solo el conocimiento de una aproximación de PVOL logra RVWAP (A, PVOL) ≤ 2C (PBINS VOL, ˜PBINS VOL). Como ejemplo de este resultado, suponga que nuestra aproximación obedece (1/α) pbins vol (i) ≤ ˜pbins vol (i) ≤ αpbins vol (i) para todos i, para algunos α> 1. Por lo tanto, nuestras probabilidades estimadas del índice de bin están dentro de un factor de α de la verdad. Entonces es fácil demostrar que C (Pbins Vol, ˜Pbins Vol) ≤ αE (PBINS VOL), por lo que según los teoremas 10 y 11 nuestra penalización por usar la distribución aproximada es un factor de α en la relación competitiva.5. Referencias [1] B. Awerbuch, Y. Bartal, A. Fiat y A. Ros´en. Control competitivo de llamadas no anticipado. En Proc.5 ° Symp de ACM-SIAM.En algoritmos discretos, páginas 312-320, 1994. [2] A. Borodin y R. El-Yaniv. Computación en línea y análisis competitivo. Cambridge University Press, 1998. [3] R. El-Yaniv, A. Fiat, R. M. Karp y G. Turpin. Búsqueda óptima y algoritmos en línea de comercio unidireccional. Algorithmica, 30: 101-139, 2001. [4] M. Kearns y L. Ortiz. El proyecto de comercio automatizado de Penn-Lehman. IEEE Intelligent Systems, 2003. A aparecer.6. Apéndice 6.1 Pruebas de la subsección 2.3 Prueba.(Boceto del teorema 3) W.L.O.G., suponga que Q = 1 y el volumen total es v. Considere el tiempo T donde el Anexo F fijo se vende menos, luego FT ≤ N/T. Considere las secuencias donde en el tiempo t tenemos pt = pMax, vt = v, y para los tiempos t = t tenemos pt = pmin y vt = 0. El VWAP es PMAX y el promedio de programación fija es (N/T) PMAX + (N - N/T) PMIN. Prueba.(Sketch of Theorem 4) El algoritmo simplemente vende UT = (VT/Vmin) n acciones en el momento t.El número total de acciones vendidas u es claramente más que n y u = t ut = t (vt/vmin) n = (v/vmin) n ≤ qn El precio promedio es v wApa (s) = (t ptut)/u= t pt (vt/v) = v wapm (s), donde utilizamos el hecho de que ut/u = vt/v.197 pruebas.(del teorema 5) Comenzamos con la prueba del límite inferior. Considere el siguiente escenario. Para las primeras unidades de tiempo T tenemos un precio de √ Rpmin y un volumen total de Vmin. Observamos cuántas acciones ha comprado el algoritmo en línea. Si ha comprado más de la mitad de las acciones, los pasos de tiempo restantes tienen precio PMIN y volumen vmax - vmin. De lo contrario, los pasos de tiempo restantes tienen precio PMAX y volumen insignificante. En el primer caso, el en línea ha pagado al menos √ rpmin /2, mientras que el VWAP es como máximo √ rpmin /q + pmin. Por lo tanto, en este caso la relación competitiva es Ω (Q). En el segundo caso, el en línea tiene que comprar al menos la mitad de las acciones en PMAX, por lo que su costo promedio es al menos PMAX /2. El mercado VWAP es √ rpmin = pMax / √ r, por lo tanto, la relación competitiva es Ω (√ r). Para el límite superior, podemos obtener una relación competitiva √ R, comprando todas las acciones una vez que el precio cae por debajo de √ rpmin. El límite superior Q se deriva ejecutando un algoritmo que supone que el volumen es Vmin. El en línea paga un costo de P, mientras que el VWAP será al menos P/Q.6.2 Pruebas de la Sección 4 Prueba.(Boceto del teorema 10) Usamos la idea de adivinar el volumen total del Teorema 1, pero ahora permitimos la posibilidad de una distribución arbitraria (pero conocida) sobre el volumen total. En particular, considere la construcción de una distribución GBins Vol sobre un conjunto de valores de volumen usando PVOL y úselo para adivinar el volumen total v. Deje que el algoritmo adivine ˆv = vmin 2i con probabilidad gbins vol (i). Luego tenga en cuenta que, para cualquier secuencia de precio-volumen, si v ∈ [vmin 2i-1, vmin 2i], vwapa (s) ≥ gbins vol (i) vwapm (s)/2. Esto implica un límite superior en RVWAP (A, PVOL) en términos de Gbins vol. Luego obtenemos que Gbins Vol (I) ∝ Pbins Vol (i) minimiza el límite superior, lo que conduce al límite superior establecido en el teorema. Prueba.(Sketch of Theorem 11) Reemplace PVOL con ˜PVOL en la expresión de GBINS VOL en el boceto de prueba para el último resultado.198