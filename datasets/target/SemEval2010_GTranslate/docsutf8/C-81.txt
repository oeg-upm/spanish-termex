Ciclismo de servicio adaptativo para sistemas de recolección de energía Jason Hsu, Sadaf Zahedi, Aman Kansal, Mani Srivastava Departamento de Ingeniería Eléctrica Universidad de California Los Ángeles {Jasonh, Kansal, Szahedi, MBS} @ ee.ucla.edu Vijay Raghunathan Nec Labs Prineton, NJ Vijay, Vijayy, Vijayy, Vijayy@NEC-Labs.com Resumen La energía de recolección del medio ambiente es factible en muchas aplicaciones para mejorar las limitaciones de energía en las redes de sensores. En este artículo, presentamos un algoritmo de ciclismo de servicio adaptativo que permite que los nodos de sensores de recolección de energía ajusten de forma autónoma su ciclo de trabajo de acuerdo con la disponibilidad de energía en el medio ambiente. El algoritmo tiene tres objetivos, a saber, (a) alcanzar la operación neutral de energía, es decir, el consumo de energía no debe ser mayor que la energía proporcionada por el medio ambiente, (b) maximizar el rendimiento del sistema en función de un modelo de utilidad de aplicación sujeto a la restricción de energía de energía anterior, y (c) adaptándose a la dinámica de la fuente de energía en tiempo de ejecución. Presentamos un modelo que permite la cosecha de nodos de sensores para predecir oportunidades de energía futuras basadas en datos históricos. También derivamos un límite superior en el rendimiento máximo alcanzable suponiendo un conocimiento perfecto sobre el comportamiento futuro de la fuente de energía. Nuestros métodos se evalúan utilizando datos recopilados de una plataforma prototipo de recolección de energía solar y mostramos que nuestro algoritmo puede utilizar hasta un 58% más de energía ambiental en comparación con el caso cuando no se utiliza la gestión de energía consciente de la cosecha. Categorías y descriptores de sujetos C.2.4 [Organización de sistemas informáticos]: Sistemas de comunicación informática Sistemas distribuidos Términos generales Algoritmos, Diseño 1. Introducción El suministro de energía siempre ha sido un problema crucial en el diseño de redes de sensores inalámbricos con baterías porque la vida útil y la utilidad de los sistemas están limitadas por cuánto tiempo las baterías pueden mantener la operación. La fidelidad de los datos producidos por una red de sensores comienza a degradarse una vez que los nodos del sensor comienzan a quedarse sin energía de la batería. Por lo tanto, la cosecha de energía del medio ambiente se ha propuesto para complementar o reemplazar por completo los suministros de batería para mejorar la vida útil del sistema y reducir el costo de mantenimiento de reemplazar las baterías periódicamente. Sin embargo, las métricas para evaluar los sistemas de recolección de energía son diferentes de las utilizadas para los sistemas alimentados por la batería. La energía ambiental es distinta de la energía de la batería de dos maneras. Primero, es un suministro inagotable que, si se usa adecuadamente, puede permitir que el sistema dure para siempre, a diferencia de la batería, que es un recurso limitado. En segundo lugar, existe una incertidumbre asociada con su disponibilidad y medición, en comparación con la energía almacenada en la batería que se puede conocer determinista. Por lo tanto, los métodos de administración de energía basados en el estado de la batería no siempre son aplicables a los sistemas de recolección de energía. Además, la mayoría de los esquemas de gestión de energía diseñados para sistemas con baterías solo representan la dinámica de los consumidores de energía (por ejemplo, CPU, radio) pero no de la dinámica del suministro de energía. En consecuencia, los sistemas alimentados por batería generalmente funcionan en el nivel de rendimiento más bajo que cumple con el requisito mínimo de fidelidad de datos para maximizar la vida útil del sistema. Los sistemas de recolección de energía, por otro lado, pueden proporcionar un rendimiento mejorado según la energía disponible. En este artículo, estudiaremos cómo adaptar el rendimiento del perfil de energía disponible. Existen muchas técnicas para lograr la escala de rendimiento en el nivel de nodo, como el ajuste de potencia de transmisión de radio [1], la escala de voltaje dinámico [2] y el uso de modos de baja potencia [3]. Sin embargo, estas técnicas requieren soporte de hardware y pueden no estar siempre disponibles en nodos sensores limitados por recursos. Alternativamente, una técnica de escala de rendimiento común es el ciclo de trabajo. Los dispositivos de baja potencia generalmente proporcionan al menos un modo de baja potencia en el que el nodo está apagado y el consumo de energía es insignificante. Además, la tasa del ciclo de trabajo está directamente relacionada con las métricas de rendimiento del sistema, como la latencia de la red y la frecuencia de muestreo. Utilizaremos el ajuste del ciclo de trabajo como la técnica de escala de rendimiento primitiva en nuestros algoritmos.2. La recolección de energía laboral relacionada se ha explorado para varios tipos diferentes de sistemas, como computadoras portátiles [4], [5], [6], redes de sensores [7], etc. Se han demostrado varias tecnologías para extraer energía del medio ambiente, incluidos los solares, basados en el movimiento, bioquímicos, basados en la vibración [8], [9], [10], [11] y otros se están desarrollando [12], [13] Si bien varias plataformas de nodo del sensor de recolección de energía se han prototipo [14], [15], [16], existe la necesidad de técnicas sistemáticas de gestión de energía que proporcionen garantías de rendimiento durante la operación del sistema. El primer trabajo en tener en cuenta la energía ambiental para el enrutamiento de datos fue [17], seguido de [18]. Si bien estos trabajos demostraron que las decisiones conscientes del entorno mejoran el rendimiento en comparación con las decisiones conscientes de la batería, su objetivo no era lograr la operación neutral de energía. Nuestras técnicas propuestas intentan maximizar el rendimiento del sistema mientras mantienen la operación de energía neutral.3. Modelo del sistema Las consideraciones de uso de energía en un sistema de cosecha varían significativamente de las de un sistema alimentado por batería, como se mencionó anteriormente. Proponemos el modelo que se muestra en la Figura 1 para diseñar métodos de gestión de energía en un sistema de cosecha. Las funciones de los diversos bloques que se muestran en la figura se analizan a continuación. Los métodos precisos utilizados en nuestro sistema para lograr estas funciones se discutirán en secciones posteriores. Seguimiento de energía cosechada: este bloque representa los mecanismos utilizados para medir la energía recibida del dispositivo de cosecha, como el panel solar. Dicha información es útil para determinar el perfil de disponibilidad de energía y la adaptación del rendimiento del sistema en función de él. La recopilación de esta información requiere que el hardware del nodo esté equipado con la instalación para medir la potencia generada desde el entorno, y la plataforma Heliomote [14] que utilizamos para evaluar los algoritmos tiene esta capacidad. Modelo de generación de energía: para nodos de sensores inalámbricos con capacidades limitadas de almacenamiento y procesamiento para poder usar los datos de energía cosechados, se requieren modelos que representan los componentes esenciales de esta información sin usar un almacenamiento extenso. El propósito de este bloque es proporcionar un modelo para la energía disponible para el sistema en una forma que puede usarse para tomar decisiones de gestión de energía. Los datos medidos por el bloque de seguimiento de energía se utilizan aquí para predecir la disponibilidad de energía futura. Un buen modelo de predicción debe tener un bajo error de predicción y proporcionar valores de energía pronosticados para las duraciones lo suficiente como para tomar decisiones de escala de rendimiento significativas. Además, para las fuentes de energía que exhiben patrones a largo y a corto plazo (por ejemplo, variaciones diurnas y climáticas frente a patrones climáticos para la energía solar), el modelo debe poder capturar ambas características. Tal modelo también puede usar información de fuentes externas como el servicio de pronóstico del tiempo local para mejorar su precisión. Modelo de consumo de energía: también es importante tener información detallada sobre las características de uso de energía del sistema, en varios niveles de rendimiento. Para la aplicabilidad general de nuestro diseño, asumiremos que solo hay un modo de suspensión disponible. Suponemos que se conoce el consumo de energía en el sueño y los modos activos. Cabe señalar que para sistemas de baja potencia con capacidades más avanzadas, como la escala de voltaje dinámico (DV), múltiples modos de baja potencia y la capacidad de cerrar los componentes del sistema selectivamente, el consumo de energía en cada uno de los estados y el efecto resultante sobreEl rendimiento de la aplicación debe ser conocido por tomar decisiones de gestión de energía. Modelo de almacenamiento de energía: este bloque representa el modelo para la tecnología de almacenamiento de energía. Dado que toda la energía generada puede no usarse instantáneamente, el sistema de cosecha generalmente tendrá algo de tecnología de almacenamiento de energía. Las tecnologías de almacenamiento (por ejemplo, baterías y ultraespacitores) son no ideales, ya que hay cierta pérdida de energía al almacenar y recuperar energía de ellas. Se debe saber que estas características administran eficientemente el uso y el almacenamiento de energía. Este bloque también incluye la capacidad del sistema para medir la energía almacenada residual. La mayoría de los sistemas de baja energía usan baterías para almacenar energía y proporcionar un estado de batería residual. Esto se basa comúnmente en la medición del voltaje de la batería que luego se asigna a la energía residual de la batería utilizando la relación de carga a voltaje conocida para la tecnología de la batería en uso. Los métodos más sofisticados que rastrean el flujo de energía dentro y fuera de la batería también están disponibles. Gestión de energía consciente de la cosecha: las entradas proporcionadas por los bloques mencionados anteriormente se utilizan aquí para determinar la estrategia de gestión de energía adecuada para el sistema. La gestión de energía podría llevarse a cabo para cumplir diferentes objetivos en diferentes aplicaciones. Por ejemplo, en algunos sistemas, la energía cosechada puede complementar marginalmente el suministro de batería y el objetivo puede ser maximizar la vida útil del sistema. Un caso más interesante es cuando la energía cosechada se usa como la fuente principal de energía para el sistema con el objetivo de lograr una vida útil del sistema indefinidamente larga. En tales casos, el objetivo de gestión de energía es lograr la operación de energía neutral. En otras palabras, el sistema solo debe usar tanta energía como la cosecha del medio ambiente e intentar maximizar el rendimiento dentro de este presupuesto de energía disponible.4. Gestión de energía teóricamente óptima, desarrollamos la siguiente teoría para comprender el modo de operación neutral de energía. Definamos PS (T) como la energía cosechada del medio ambiente en el momento T, y la energía que la carga consume en ese momento es PC (T). Además, modelamos el búfer de almacenamiento no ideal mediante su eficiencia de ida y vuelta η (estrictamente menos de 1) y un plegamiento de potencia de fuga constante. Usando esta notación, la aplicación de la regla de conservación de energía conduce a la siguiente desigualdad: 0 0 00 [() ()] [() ()] 0 t t t t s c c s fuga t p t dt p t p t dt p dtb η + + −- - ≥+ −∫ ∫ ∫ (1) donde B0 es el nivel de batería inicial y la función [x]+ = x si x> 0 y cero de lo contrario. Función de definición 1 (ρ, σ1, σ2): se dice que una función no negativa, continua y limitada P (t) es una función (ρ, σ1, σ2) si y solo si es un valor de número real finito t,Se satisfacen los siguientes: 2 1 () T T P t dt tρ σ ρ σ− ≤ ≤ +∫ (2) Esta función puede usarse para modelar las fuentes de energía y las cargas. Si el perfil de energía cosechado PS (t) es una función (ρ1, σ1, σ2), entonces la tasa promedio de energía disponible durante largas duraciones se convierte en ρ1, y la ruptura está limitada por σ1 y σ2. Del mismo modo, la PC (t) se puede modelar como una función (ρ2, σ3), cuando ρ2 y σ3 se usan para colocar un límite superior en el consumo de energía (la desigualdad en el lado derecho) mientras que no hay restricciones mínimas de consumo de energía. La condición para la neutralidad de energía, la ecuación (1), conduce al siguiente teorema, en función de los modelos de producción de energía, consumo y tampón de energía discutidos anteriormente. Teorema 1 (Operación neutral de energía): considere un sistema de cosecha en el que el perfil de producción de energía se caracteriza por una función (ρ1, σ1, σ2), la carga se caracteriza por una función (ρ2, σ3) y el tampón de energía se caracteriza porParámetros η para eficiencia de almacenamiento y plávage para la potencia de fuga. Las siguientes condiciones son suficientes para que el sistema alcance la neutralidad de la energía: ρ2 ≤ ηρ1 - Plerea (3) B0 ≥ ησ2 + σ3 (4) B ≥ B0 (5) donde B0 es la energía inicial almacenada en el tampón y proporciona un límite inferior un límite inferior.Sobre la capacidad del tampón de energía B. La prueba se presenta en nuestro trabajo anterior [19]. Para ajustar el ciclo de trabajo D utilizando nuestro algoritmo de escala de rendimiento, asumimos la siguiente relación entre el ciclo de trabajo y la utilidad percibida del sistema al usuario: Suponga que la utilidad de la aplicación al usuario está representada por U (d) cuando el sistemaopera en un ciclo de trabajo D. entonces, min 1 min max 2 max () 0, (), (), u d si d d u d k d si d d d u d k si d d d β = <= + ≤ ≤ => Esto es bastante general yEl modelo simple y los valores específicos de Dmin y DMAX pueden determinarse según los requisitos de la aplicación. Como ejemplo, considere un nodo sensor diseñado para detectar la intrusión en una periferia. En este caso, un aumento lineal en el ciclo de trabajo se traduce en un aumento lineal en la probabilidad de detección. Se pueden conocer las velocidades más rápidas y más lentas de los intrusos, lo que lleva a un modelo de consumo de energía de seguimiento de energía mínimo y cosechado Modelo de almacenamiento de energía Harvestingare Mangement Modelo de generación de energía Carga de la Figura 1. Modelo del sistema para un sistema de recolección de energía.181 retraso de detección máxima tolerable, lo que da como resultado el DMAX y DMIN relevantes para el nodo del sensor. Si bien puede haber casos en los que la relación entre la utilidad y el ciclo de trabajo puede ser no lineal, en este documento, restringimos nuestro enfoque en aplicaciones que siguen este modelo lineal. En vista de los modelos anteriores para los componentes del sistema y el rendimiento requerido, el objetivo de nuestra estrategia de gestión de energía es ajustar el ciclo de trabajo d (i) dinámicamente para maximizar la utilidad total u (d) durante un período de tiempo, mientras queAsegurar la operación de energía neutral para el nodo del sensor. Antes de discutir los métodos de escala de rendimiento para recolectar la adaptación consciente del ciclo de trabajo, consideremos primero la estrategia óptima de gestión de energía que es posible para un perfil de generación de energía determinado. Para el cálculo de la estrategia óptima, asumimos el conocimiento completo del perfil de disponibilidad de energía en el nodo, incluida la disponibilidad en el futuro. El cálculo de lo óptimo es una herramienta útil para evaluar el rendimiento de nuestro algoritmo propuesto. Esto es particularmente útil para nuestro algoritmo, ya que no hay algoritmos anteriores disponibles para servir como línea de base para la comparación. Supongamos que el eje de tiempo se divide en ranuras discretas de duración Δt, y el cálculo de la adaptación del ciclo de trabajo se lleva a cabo sobre una ventana de las ranuras de tiempo de NW. Definimos las siguientes variables de perfil de energía, con el índice que varía sobre {1, ..., NW}: PS (i) es la potencia de salida de la fuente cosechada en la ranura de tiempo I, promediada durante la duración de la ranura, la PC es el consumo de energía.de la carga en modo activo, y d (i) es el ciclo de trabajo utilizado en la ranura I, cuyo valor debe determinarse. B (i) es la energía de batería residual al comienzo de la ranura i. Después de esta convención, la energía de la batería se fue después de la última ranura en la ventana está representada por B (NW+1). Los valores de estas variables dependerán de la elección de D (i). La energía utilizada directamente de la fuente cosechada y la energía almacenada y utilizada de la batería debe tenerse en cuenta de manera diferente. La Figura 2 muestra dos casos posibles para PS (I) en una ranura de tiempo. PS (i) puede ser menor o superior a la PC, como se muestra en la izquierda y la derecha, respectivamente. Cuando PS (i) es más baja que la PC, parte de la energía utilizada por la carga proviene de la batería, mientras que cuando PS (i) es más alta que la PC, toda la energía utilizada se suministra directamente desde la fuente cosechada. El área cruzada muestra la energía que está disponible para el almacenamiento en la batería, mientras que el área de hashes muestra la energía extraída de la batería. Podemos escribir la energía utilizada desde la batería en cualquier ranura i como: () () () () [] () () {} () () [] 1 1c cs S sb i b i td i p p i tpI D I TD I P I Pη η + + - + = δ - - δ - - - - (6) En la ecuación (6), el primer término en el lado derecho mide la energía extraída de la batería cuando PS (i)<PC, el siguiente término mide la energía almacenada en la batería cuando el nodo está en modo de suspensión, y el último término mide la energía almacenada en la batería en modo activo si PS (i)> PC. Para el funcionamiento de la energía neutral, requerimos que la batería al final de la ventana de las ranuras NW sea mayor o igual a la batería inicial. Claramente, el nivel de la batería disminuirá cuando la energía cosechada no esté disponible y el sistema se opera desde la energía almacenada. Sin embargo, la ventana NW es elegida juiciosamente de tal manera que durante esa duración, esperamos que la disponibilidad de energía ambiental complete un ciclo periódico. Por ejemplo, en el caso de la recolección de energía solar, el NO podría elegirse para tener una duración de veinticuatro horas, correspondiente al ciclo diurno en la energía cosechada. Esta es una aproximación ya que una elección ideal del tamaño de la ventana sería infinita, pero se debe utilizar un tamaño finito para la tractabilidad analítica. Además, el nivel de la batería no puede ser negativo en ningún momento, y esto se garantiza al tener un nivel inicial de batería B0 lo suficientemente grande, de modo que la operación del nodo se mantiene incluso en el caso del apagón total durante un período de ventana. Dando que las restricciones anteriores cuantitativamente, podemos expresar el cálculo de los ciclos de servicio óptimos como un problema de optimización a continuación: 1 max () wn i d i = ∑ (7) () () () () () () {} (() () 1 1c s s s cb i b i td i p p i tp i d i td i p i pη η + + ⎡ ⎤ ⎡ ⎤ - + = δ - - δ - - −⎣ ⎦ ⎣ ⎦ (8) 0 (1) B b = (9) 0 (1) wb n b+ ≥ (10) min w () i {1, ..., n} d i d≥ ∀ ∈ (11) max w () i {1, ..., N} d I d≤ ∀ ∈ (12) La solución al problema de optimización produce los ciclos de servicio que deben usarse en cada ranura y la evolución de la batería residual en el curso de las ranuras NW. Tenga en cuenta que mientras las restricciones anteriores contienen la función no lineal [x]+, las cantidades que ocurren dentro de esa función son constantes conocidas. Las cantidades variables ocurren solo en términos lineales y, por lo tanto, el problema de optimización anterior se puede resolver utilizando técnicas de programación lineal estándar, disponibles en las cajas de herramientas de optimización populares.5. La gestión de energía consciente de la cosecha ahora presentamos un algoritmo práctico para la gestión de energía que puede usarse para adaptar el rendimiento en función de la información de energía cosechada. Este algoritmo intenta lograr una operación neutral de energía sin utilizar el conocimiento de la disponibilidad de energía futura y maximiza el rendimiento alcanzable dentro de esa restricción. La estrategia de gestión de energía consciente de la cosecha consta de tres partes. La primera parte es una instanciación del modelo de generación de energía que rastrea los perfiles de entrada de energía pasados y los utiliza para predecir la disponibilidad de energía futura. La segunda parte calcula los ciclos de servicio óptimos basados en la energía predicha, y este paso utiliza nuestro método computacionalmente manejable para resolver el problema de optimización. La tercera parte consiste en un método para adaptar dinámicamente el ciclo de trabajo en respuesta al perfil de generación de energía observado en tiempo real. Se requiere este paso ya que la generación de energía observada puede desviarse significativamente de la disponibilidad de energía predicha y la operación de energía neutral de energía debe garantizarse con la energía real recibida en lugar de los valores predichos.5.1. Modelo de predicción de energía Utilizamos un modelo de predicción basado en el promedio móvil ponderado exponencialmente (EWMA). El método está diseñado para explotar el ciclo diurno en la energía solar, pero al mismo tiempo adaptarse a las variaciones estacionales. Se mantiene un resumen histórico del perfil de generación de energía para este propósito. Si bien el tamaño de los datos de almacenamiento se limita a una longitud vectorial de los valores de NW para minimizar los gastos generales de la memoria del algoritmo de administración de energía, el tamaño de la ventana es efectivamente infinito ya que cada valor en la ventana del historial depende de todos los datos observados hasta ese instante. El tamaño de la ventana se elige para ser 24 horas y cada ranura de tiempo se considera 30 minutos, ya que la variación en la potencia generada por el panel solar que usa esta configuración es inferior al 10% entre cada ranuras adyacentes. Esto produce NW = 48. Se pueden usar duraciones de ranura más pequeñas a expensas de un NW más alto. El resumen histórico mantenido se deriva de la siguiente manera. En un día típico, esperamos que la generación de energía sea similar a la generación de energía al mismo tiempo en los días anteriores. El valor de la energía generada en una ranura particular se mantiene como un promedio ponderado de la energía recibida en la misma ranura de tiempo durante todos los días observados. Los pesos son exponenciales, lo que resulta en una contribución en descomposición de la Figura 2 anterior. Dos posibles casos para cálculos de energía Slot I Slot K PC PC P (I) P (I) Datos de sueño activo 182. Más específicamente, el promedio histórico mantenido para cada ranura viene dado por: 1 (1) k k kx x xα α− = + - donde α es el valor del factor de ponderación, KX es el valor observado de energía generado en la ranura y1KX - es el promedio histórico previamente almacenado. En este modelo, la importancia de cada día en relación con el anterior permanece constante porque el mismo factor de ponderación se usó para todos los días. El valor promedio derivado de una ranura se trata como una estimación del valor de energía predicho para la ranura correspondiente al día posterior. Este método ayuda a los valores promedio históricos a adaptarse a las variaciones estacionales en la energía recibidas en diferentes días. Uno de los parámetros a elegir en el método de predicción anterior es el parámetro α, que es una medida de la tasa de cambio en el patrón de energía con el tiempo. Dado que este parámetro se ve afectado por las características de la ubicación de la energía y el nodo del sensor, el sistema debe tener un período de entrenamiento durante el cual se determinará este parámetro. Para determinar un buen valor de α, recopilamos datos de energía durante 72 días y comparamos el error promedio del método de predicción para varios valores de α. El error basado en los diferentes valores de α se muestra en la Figura 3. Esta curva sugiere un valor óptimo de α = 0.15 para un error de predicción mínimo y este valor se utilizará en el resto de este documento.5.2. Solución de baja complejidad Los valores de energía predichos para la siguiente ventana de las ranuras NW se utilizan para calcular los ciclos de servicio deseados para la siguiente ventana, suponiendo que los valores predichos coincidan con los valores observados en el futuro. Dado que nuestro objetivo es desarrollar un algoritmo práctico para los sistemas informáticos integrados, presentamos un método simplificado para resolver el problema de programación lineal presentado en la Sección 4. Para este fin, definimos los conjuntos S y D como sigue: {} {} |() 0 |() 0 S C C S S S I P I P D I P P I = - ≥ = -> Los dos conjuntos difieren por la condición de que si la operación del nodo se puede mantener completamente de la energía ambiental. En el caso de que la energía producida por el medio ambiente no sea suficiente, la batería se descargará para complementar la energía restante. A continuación, resumimos ambos lados de (6) sobre toda la ventana NW y la reescribimos con la nueva notación.1 1 1 1 () [()] () () () () ()] nw nw nw i i c s s s s c i i d i i s b b td i p p i tp i tp i d i td i p i pη η η+ = ∈ == ∈ - = δ - - δ + δ - δ −∑ ∑ ∑ ∑ ∑ El término en el lado izquierdo es en realidad la energía de la batería utilizada sobre toda la ventana de las ranuras NW, que se puede establecer en 0 para la operación neutral de energía. Después de alguna manipulación algebraica, esto produce: 1 1 () () () 1 () nw C S S C I I D I S P I D I P I P D I η η = ∈ ∈ ⎛ ⎞⎛ ⎞ = + - + ⎜ ⎟⎜ ⎟ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎠ ⎝ ⎠ ⎠ ⎝ ⎝ ⎝ ⎠ ⎝ ⎝ ⎠ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ eléctrico⎝ ⎠ ∑ ∑ ∑ (13) El término en el lado izquierdo es la energía total recibida en las ranuras NW. El primer término en el lado derecho se puede interpretar como la energía total consumida durante las ranuras D y el segundo término es la energía total consumida durante las ranuras S. Ahora podemos reemplazar tres restricciones (8), (9) y (10) en el problema original con (13), restableciendo el problema de optimización de la siguiente manera: 1 max () wn i d i = ∑ 1 1 () ()() 1 () nw c s s c i i d i s p p i d i p i p d i η η = ∈ ∈ ⎛ ⎞⎛ ⎞ = + - + ⎜ ⎟⎜ ⎟ ⎝ ⎠⎝ ⎠ ∑ ∑ ∑ min max d (i) d {1, ..., nw) d (i) d {1, ..., nw) I I ≥ ∀ ∈ ≤ ∀ ∈ Esta forma facilita una solución de baja complejidad que no requiere un solucionador de programación lineal general. Dado que nuestro objetivo es maximizar la utilidad total del sistema, es preferible establecer el ciclo de trabajo en DMIN para intervalos de tiempo donde la utilidad por unidad de energía es menos. Por otro lado, también nos gustaría las ranuras de tiempo con la PS más alta para operar en DMAX debido a una mejor eficiencia del uso de energía directamente de la fuente de energía. Combinando estas dos características, definimos la utilidad coeficiente para cada ranura I de la siguiente manera: 1 () 1 1 () 1 c c c c c c para i s w i p p i para i d η η ∈⎧ ⎪ = ⎛ ⎞⎛ ⎞⎨ + +- ∈⎜ ⎟⎜ ⎟⎪ ⎝ ⎠⎝ ⎠⎩ ⎠⎩ ⎠⎩ ⎠⎩ ⎠⎩ ⎠⎩ donde w (i) es una representación de cuán eficiente es el uso de energía en una ranura de tiempo particular I. Una w (i) más grande indica más utilidad del sistema por unidad de energía en la ranura I y viceversa. El algoritmo comienza asumiendo d (i) = dmin para i = {1 ... nw} debido al requisito mínimo del ciclo de trabajo, y calcula la energía del sistema restante r por: 1 1 () () () 1 () (14)Nw c s s c i i d i s p r p i d i p i p d i η η η = ∈ ∈ ⎛ ⎞⎛ ⎞ ⎞ = - + - −⎜ ⎟⎜ ⎟ ⎝ ⎠⎝ ⎠ ∑ ∑ ∑ ∑ una negativa r concluye que el problema de optimización es involuntario, lo que significa que elEl sistema no puede lograr la neutralidad de energía incluso en el ciclo de trabajo mínimo. En este caso, el diseñador del sistema es responsable de aumentar la disponibilidad de energía del medio ambiente (por ejemplo, mediante el uso de paneles solares más grandes). Si R es positivo, significa que el sistema tiene un exceso de energía que no se está utilizando, y esto puede asignarse para aumentar el ciclo de trabajo más allá de la Dmin para algunas ranuras. Dado que nuestro objetivo es maximizar la utilidad total del sistema, la forma más eficiente de asignar el exceso de energía es asignar el ciclo de trabajo DMAX a las ranuras con la W (I) más alta. Por lo tanto, los coeficientes w (i) se organizan en orden decreciente y ciclo de trabajo que DMAX se asigna a las ranuras que comienzan con los coeficientes más grandes hasta que el exceso de energía disponible, R (calculado por (14) en cada iteración), es insuficiente para asignar DMAXa otra ranura. La energía restante, RLAST, se usa para aumentar el ciclo de trabajo a algún valor entre Dmin y DMAX en la ranura con el siguiente coeficiente más bajo. Denotando esta ranura con el índice J, el ciclo de trabajo viene dado por: d (j) = min / (()) / () Último c último s c s r p if j d dr if j s p j p p jη ∈⎧ ⎫ ⎪ +⎨ ⎨ ⎨ ⎨ ⎨ ⎨ ⎨ ⎨⎬ ∈⎪ ⎪− ⎩ ⎭ La solución anterior al problema de optimización requiere solo cálculos aritméticos simples y un paso de clasificación que se puede implementar fácilmente en una plataforma integrada, en lugar de implementar un solucionador de programa lineal general.5.3. Adaptación del ciclo de trabajo continuo de ranura por ranura. Los valores de energía observados pueden variar mucho de los predichos, como debido al efecto de las nubes u otros cambios repentinos. Por lo tanto, es importante adaptar los ciclos de servicio calculados utilizando los valores predichos, a las mediciones de energía reales en tiempo real para garantizar la neutralidad de la energía. Denota las asignaciones iniciales del ciclo de trabajo para cada ranura de tiempo que calculé usando los valores de energía predichos como d (i) = {1, ..., nw}. Primero calculamos la diferencia entre el nivel de potencia predicho PS (I) y el nivel de potencia real observado, PS (i) en cada ranura i. Luego, el exceso de energía en la ranura I, denotada por x, se puede obtener de la siguientei p x p i p i d i p i p i if p i p η -> ⎧ ⎪ = ⎨ - - - - - ≤⎪ ⎩ 0 0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5 2.6 2.7 2.8 2.9 3 Alpha avgerrar (MA)Figura 3. Elección del parámetro de predicción.183 El término superior explica la diferencia de energía cuando la energía recibida real es más que la potencia extraída por la carga. Por otro lado, si la energía recibida es menor que la PC, tendremos que dar cuenta de la energía adicional utilizada de la batería por la carga, que es una función del ciclo de trabajo utilizado en la ranura de tiempo I y el factor de eficiencia de la batería η. Cuando se recibe más energía de lo previsto, X es positivo y ese exceso de energía está disponible para su uso en los solutos posteriores, mientras que si X es negativo, esa energía debe ser compensada desde las ranuras posteriores. Caso I: x <0. En este caso, queremos reducir los ciclos de trabajo utilizados en las ranuras futuras para compensar este déficit de energía. Dado que nuestra función objetivo es maximizar la utilidad total del sistema, tenemos que reducir los ciclos de trabajo para las ranuras de tiempo con el coeficiente de utilidad normalizado más pequeño, W (i). Esto se logra primero clasificando el coeficiente w (j), donde j> i.en orden decreciente, y luego reduciendo iterativamente DJ a Dmin hasta que la reducción total en el consumo de energía sea la misma que X. Caso II: x> 0. Aquí, queremos aumentar los ciclos de trabajo utilizados en el futuro para utilizar este exceso de energía que recibimos en la ranura de tiempo reciente. A diferencia del caso I, los ciclos de trabajo de las ranuras de tiempo futuras con el coeficiente de utilidad más alto W (I) deben aumentarse primero para maximizar la utilidad total del sistema. Supongamos que el ciclo de trabajo es cambiado por D en la ranura j. Definir una cantidad r (j, d) como sigue: ⎪ ⎩ ⎪ ⎨ ⎧ <= ⎟ ⎟ ⎠ ⎞ ⎜ ⎜ ⎝ ⎛ ⎟⎟ ⎠ ⎞ ⎜⎜ ⎛ ⎛ -+> ⋅ = lji l ljl ppifp p d ppifp djr 1 1 1d), (ηη el procedimiento preciso para adaptar el ciclo de trabajo para dar cuenta de los factores anteriores se presenta en el algoritmo 1. Este cálculo se realiza al final de cada ranura para establecer el ciclo de trabajo para la próxima ranura. Afirmamos que nuestro algoritmo de ciclismo de trabajo es de energía neutral porque un excedente de energía en la ranura de tiempo anterior siempre se traducirá en oportunidades de energía adicionales para futuros intervalos de tiempo, y viceversa. El reclamo puede ser violado en casos de escasez severa de energía, especialmente hacia el final de la ventana. Por ejemplo, un gran déficit en el suministro de energía no se puede restaurar si no hay una entrada de energía futura hasta el final de la ventana. En tal caso, este desplazamiento se transferirá a la siguiente ventana para que aún se mantenga la neutralidad de energía a largo plazo.6. Evaluación Nuestro algoritmo de ciclo de servicio adaptativo se evaluó utilizando un perfil de energía solar real medido utilizando un nodo sensor llamado heliomote, capaz de cosechar energía solar [14]. Esta plataforma no solo rastrea la energía generada sino también el flujo de energía dentro y fuera de la batería para proporcionar una estimación precisa de la energía almacenada. La plataforma de recolección de energía se desplegó en una zona residencial en Los Ángeles desde principios de junio hasta mediados de agosto durante un total de 72 días. El nodo del sensor utilizado es una mota Mica2 que se ejecuta en un ciclo de trabajo fijo del 40% con una batería inicialmente completa. El voltaje de la batería y la corriente neta de los paneles solares se muestrean en un período de 10 segundos. El perfil de generación de energía para esa duración, medido por el seguimiento de la corriente de salida de la célula solar se muestra en la Figura 4, tanto en escalas continuas como diurnas. Podemos observar que, aunque el perfil de energía varía de día a día, todavía exhibe un patrón general durante varios días.0 10 20 30 30 40 50 60 70 0 10 20 30 30 40 50 60 70 Día MA 0 5 10 15 20 0 10 20 30 40 50 60 60 70 Hour MA 6.1. Modelo de predicción Primero evaluamos el rendimiento del modelo de predicción, que se juzga por la cantidad de error absoluto que cometió entre el perfil de energía predicho y real. La Figura 5 muestra el error promedio de cada ranura de tiempo en MA durante los 72 días completos. En general, la cantidad de error es mayor durante el día porque es cuando el factor del clima puede causar desviaciones en la energía recibida, mientras que la predicción realizada para la noche es principalmente correcta.6.2. Algoritmo de ciclo de trabajo adaptativo Los métodos previos para optimizar el rendimiento al tiempo que logran la operación neutral de energía utilizando energía cosechada son escasos. En cambio, comparamos el rendimiento de nuestro algoritmo con dos extremos: la teórica óptima calculada suponiendo un conocimiento completo sobre la disponibilidad de energía futura y un enfoque simple que intenta lograr la neutralidad de energía utilizando un ciclo de trabajo fijo sin tener en cuenta la ineficiencia de la batería. Los ciclos de servicio óptimos se calculan para cada ranura utilizando el conocimiento futuro de la energía recibida real para esa ranura. Para el enfoque simple, el ciclo de trabajo se mantiene constante dentro de cada día y es la Figura 4 Perfil de energía solar (izquierda: Continua, derecha: Diurnal) Entrada: D: Ciclo de trabajo inicial, X: Energía excesiva debido al error en la predicción, P: Perfil de energía predicho, I: índice de salida de ranura de tiempo actual: D: ciclos de servicio actualizados en una o más ranuras posteriores adaptDutyCycle () iteración: en cada ranura de tiempo do: if x> 0 wsorted = w {1, ...,,,, ...,NW} ordenado en orden de diezp. P: = índices de wsorted para k = 1 a | q |Si Q (k) ≤ I o D (q (k)) ≥ dmax // ya se pasa la ranura continúa si r (q (k), dmax - d (q (k))) <x D (q (k))= Dmax x = x - r (j, dmax - d (q (k))) else // x insuficiente para aumentar el ciclo de trabajo a dmax si p (q (k))> pl d (q (k)) = D(Q (k)) + x/pl losse d (q (k)) = d (q (k)) + (()) (1 1)) C S X P P Q Kη η + - Si x <0 wsorted = W {1, ..., nw} ordenado en orden ascendente. P: = índices de wsorted para k = 1 a | q |Si q (k) ≤ i o d (q (k)) ≤ dmin continúa si r (q (k), dmax - d (q (k)))> x d (q (k)) = dmin x = x −R (j, dmin - d (q (k))) más si p (q (k))> PC d (q (k)) = d (q (k)) + x/pc más d (q (k)) = D (q (k)) + (()) (1 1)) C S X P P Q Kη η +-Algoritmo 1 Pseudocódigo para el algoritmo de adaptación del ciclo de trabajo Figura 5. Error predictor promedio en MA 0 5 10 15 20 25 0 2 4 6 6 8 10 12 Tiempo (H) Abserror (MA) 184 calculado tomando la relación de la disponibilidad de energía predicha y el uso máximo, y esto garantiza que el nodo del Senor haráNunca agote su batería en este ciclo de trabajo.{1 ..) () S W C I NW D P I N Pη ∈ = ⋅ ⋅∑ Comparamos el rendimiento de nuestro algoritmo con los dos extremos con una eficiencia de batería variable. La Figura 6 muestra los resultados, usando dmax = 0.8 y dmin = 0.3. La eficiencia de la batería varió de 0.5 a 1 en el eje X y las utilizaciones de energía solar logradas por los tres algoritmos se muestran en el eje y. Muestra la fracción de energía recibida NET que se utiliza para realizar un trabajo útil en lugar de perder debido a la ineficiencia de almacenamiento. Como se puede ver en la figura, el factor de eficiencia de la batería tiene un gran impacto en el rendimiento de los tres enfoques diferentes. Los tres enfoques converge a la utilización del 100% si tenemos una batería perfecta (η = 1), es decir, la energía no se pierde al almacenarla en las baterías. Cuando se tiene en cuenta la ineficiencia de la batería, tanto el enfoque adaptativo como el óptimo tienen una tasa de utilización de energía solar mucho mejor que la simple. Además, el resultado también muestra que nuestro algoritmo de ciclo de trabajo adaptativo funciona muy cerca de lo óptimo.0.4 0.5 0.6 0.7 0.8 0.9 1 0.4 0.5 0.6 0.7 0.8 0.9 1 EtA-Batery Batery Rondlip Eficiencia SolarEnergyutilización (%) Simple Simple también comparamos el rendimiento de nuestro algoritmo con diferentes valores de Dmin y Dmax para η = 0.7, que es típico deNimh baterías. Estos resultados se muestran en la Tabla 1 como el porcentaje de energía ahorrado por los enfoques óptimos y adaptativos, y esta es la energía que normalmente se desperdiciaría en el enfoque simple. Las cifras y la tabla indican que nuestro algoritmo en tiempo real es capaz de lograr un rendimiento muy cerca de lo factible óptimo. Además, estos resultados muestran que la recolección de energía ambiental con una gestión de energía apropiada puede lograr una utilización mucho mejor de la energía ambiental. Dmax dmin 0.8 0.05 0.8 0.1 0.8 0.3 0.5 0.2 0.9 0.2 1.0 0.2 Adaptativo 51.0% 48.2% 42.3% 29.4% 54.7% 58.7% óptimo 52.3% 49.6% 43.7% 36.7% 56.6% 60.8% 7. Conclusiones Discutimos varios temas en la gestión de energía para los sistemas alimentados con energía cosechada ambientalmente. Específicamente, diseñamos un método para optimizar el rendimiento sujeto a la restricción de la operación de energía neutral. También derivamos un límite teóricamente óptimo en el rendimiento y mostramos que nuestro algoritmo propuesto funcionaba muy cerca de lo óptimo. Las propuestas se evaluaron utilizando datos reales recopilados utilizando un nodo sensor de recolección de energía desplegado en un entorno al aire libre. Nuestro método tiene ventajas significativas sobre los métodos utilizados actualmente que se basan en una estimación conservadora del ciclo de trabajo y solo pueden proporcionar un rendimiento subóptimo. Sin embargo, este trabajo es solo el primer paso hacia soluciones óptimas para la operación neutral de energía. Está diseñado para un método específico de escala de potencia basado en adaptar el ciclo de trabajo. También están disponibles varios otros métodos de escala de potencia, como DVS, conmutación de alimentación de submódulos y el uso de múltiples modos de baja potencia. Por lo tanto, es interesante extender nuestros métodos para explotar estas capacidades avanzadas.8. Agradecimientos Esta investigación fue financiada en parte a través del apoyo proporcionado por DARPA bajo el Programa PAC/C, la National Science Foundation (NSF) bajo el premio #0306408 y el Centro UCLA para la detección de redes (censo) de UCLA. Cualquier opinión, hallazgos, conclusiones o recomendaciones expresadas en este documento son las de los autores y no reflejan necesariamente las opiniones de DARPA, NSF o Cens. Referencias [1] R Ramanathan y R Hain, control de toplogy de redes inalámbricas multihop utilizando el ajuste de potencia de transmisión en Proc. Infocom. Vol 2. 26-30 pp. 404-413. Marzo de 2000 [2] T.A. Pering, T.D. Burd y R. W. Brodersen, La simulación y evaluación de algoritmos de escala de voltaje dinámico, en Proc. ACM Islped, pp. 76-81, 1998 [3] L. Benini y G. de Micheli, Dynamic Power Management: Técnicas de diseño y herramientas CAD. Kluwer Academic Publishers, Norwell, MA, 1997. [4] John Kymisis, Clyde Kendall, Joseph Paradiso y Neil Gershenfeld. Cosecha de potencia parasitaria en zapatos. En ISWC, páginas 132-139. IEEE Computer Society Press, octubre de 1998. [5] Nathan S. Shenck y Joseph A. Paradiso. Recolección de energía con piezoeléctricos con zapatillas. IEEE Micro, 21 (3): 30ñ42, mayo-junio de 2001. [6] T Starner. Computación portátil con alimentación humana. IBM Systems Journal, 35 (3-4), 1996. [7] Mohammed Rahimi, Hardik Shah, Gaurav S. Sukhatme, John Heidemann y D. Estrin. Estudiar la viabilidad de la recolección de energía en una red de sensores móviles. En ICRA, 2003. [8] Chrismelhuish. El proyecto ECOBOT.www.ias.uwe.ac.uk/Energy Autonomy/Ecobot Web Page.html.[9] Jan M.Rabaey, M. Josie Ammer, Julio L. da Silva Jr., Danny Patel y Shad Roundy. Picoradio admite una red inalámbrica de potencia ultra-bajo ad-hoc. IEEE Computer, páginas 42-48, julio de 2000. [10] Joseph A. Paradiso y Mark Feldmeier. Un controlador de botón de empuje compacto, inalámbrico y sin poder. En ACM Ubicomp, páginas 299-304, Atlanta, GA, EE. UU., Septiembre de 2001. Springer-Verlag Berlin Heidelberg.[11] Se Wright, DS Scott, JB Haddow yMa Rosen. El límite superior a la conversión de energía solar.Volumen 1, páginas 384 - 392, julio de 2000. [12] Proyectos de recolección de energía DARPA.http://www.darpa.mil/do/trans/energy/projects.html.[13] Werner Weber. Inteligencia ambiental: investigación industrial sobre un concepto visionario. En Actas del Simposio Internacional de 2003 sobre Electrónica y Diseño de baja potencia, páginas 247-251. ACM Press, 2003. [14] V Raghunathan, A Kansal, J Hsu, J Friedman y MB Srivastava, Consideraciones de diseño para la recolección de energía solar Sistemas inalámbricos integrados, (IPSN/SPOTS), abril de 2005. [15] Xiaofan Jiang, JosephPolastre, David Culler, Redes de sensores perpetuas con energía ambiental, (IPSN/manchas), 25-27 de abril de 2005. [16] Chulsung Park, Pai H. Chou y Masanobu Shinozuka, Duranode: Sensor en red inalámbrico para monitoreo de salud estructural, aAparece en los procedimientos de la cuarta Conferencia Internacional IEEE sobre Sensores, Irvine, CA, 31 de octubre - 1 de noviembre de 2005. [17] Aman Kansal y Mani B. Srivastava. Un marco de recolección de energía ambiental para redes de sensores. En Simposio Internacional sobre Electrónica y Diseño de baja potencia, páginas 481-486. ACM Press, 2003. [18] Thiemo Voigt, Hartmut Ritter y Jochen Schiller. Utilización de energía solar en redes de sensores inalámbricos. En LCN, 2003. [19] A. Kansal, J. Hsu, S. Zahedi y M. B. Srivastava. Gestión de energía en redes de sensores de recolección de energía. Informe técnico TR-UCLA-NESL200603-02, Laboratorio de sistemas en red e integrado, UCLA, marzo de 2006. Figura 6. Los ciclos de servicio logrados con respecto a η Tabla 1. Energía ahorrada por un enfoque adaptativo y óptimo.185