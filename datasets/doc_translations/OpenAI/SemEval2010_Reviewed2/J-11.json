{
    "id": "J-11",
    "original_text": "Trading Networks with Price-Setting Agents Larry Blume Dept. of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations. Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market. We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders. In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered. We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods. We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers. Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders. Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism. Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1. INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price. One example of this setting is the trade of agricultural goods in developing countries. Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets. A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2]. Financial markets provide a different example of a setting with these general characteristics. In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems. For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries. Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them. The price at which the asset trades may differ across these trading venues. In fact, there is no price as different traders pay or receive different prices. In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price. One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access. Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets. In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network. The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another. The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face. Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders. We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods. We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders. Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction. At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12]. By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism. The Basic Model: Indistinguishable Goods. Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another. We are given a set B of buyers, a set S of sellers, and a set T of traders. There is an undirected graph G that indicates who is able to trade with whom. All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries. In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller. Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge. We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well. Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search). Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good. All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money. No agent wants more than one copy of the good, so additional copies are valued at 0. Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds. We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer. The particular way in which goods flow is determined by the following game. First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to. Sellers and buyers then choose from among the offers presented to them by traders. If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer. In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers. Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer. If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default. More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.) Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.) The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.) For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.) For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty. This defines the basic elements of the game. The equilibrium concept we use is subgame perfect Nash equilibrium. Some Examples. To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1. To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom. All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge. In Figure 1(a), we show how a standard second-price auction arises naturally from our model. Suppose the buyer valuations from top to bottom are w > x > y > z. The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers. The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader. Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer. In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically. Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option. And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers. Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly. Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business. On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit. Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved. The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.) But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons. The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y. In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common. The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology. Extending the Model to Distinguishable Goods. We extend the basic model to a setting with distinguishable goods, as follows. Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij . This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices. A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).) Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before. This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures). Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market. Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets. Our Results. Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits. To make these precise, we introduce the following notation. Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple. The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.) We say that the value of the allocation is equal to P e∈M θjeie − θieje . Let θ∗ denote the maximum value of any allocation M that is feasible given the network. We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible. Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints. We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices. By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network. We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria. However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this. In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ . We also obtain results for the sum of all trader profits. Related Work. The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price. This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights. But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other. The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other. In fact there is no market, in the everyday sense of that word, in the Walrasian model. That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices. Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries. There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices. The literature on imperfect competition is perhaps the oldest of these. Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets). A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates. Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors. In this literature there are agents who set prices, but the fiction of a single market is maintained. In the equilibrium search literature, firms set prices and consumers search over them (see [3]). Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries. In the general equilibrium literature there have been various attempts to introduce price determination. A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand. The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market. More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them. But again there are no price-setting agents here. In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory). Work in information economics has identified similar phenomena (see e.g. [7]). But there is little research in these literatures examining the effect of restrictions on who can trade with whom. There have been several approaches to studying how network structure determines prices. These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms. In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system. In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11]. Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium. Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another. Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism. Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition. In contrast, our model has known valuations and prices arising from the strategic behavior of traders. Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism. Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used. Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design. Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices. Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction. In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core. They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2. MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information. We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders. In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.) The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers. We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists. First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item. Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer. We then characterize the minimum and maximum profits traders can make. In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers. Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents. For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders. The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium. Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.) Given the bid and ask price, the agents react to these prices, as described earlier. Instead of focusing on prices, we will focus on profits. If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi. Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt. Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt. All agents not involved in trade make 0 profit. We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1. At equilibrium the profits must satisfy the above inequalities. Proof. Clearly all profits are nonnegative, as trading is optional for all agents. To see why the last set of inequalities holds, consider two cases separately. For a trader t who conducted trade, we get equality by definition. For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good). Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation. Now we are ready to prove our first theorem: THEOREM 2.2. In any equilibrium the trade is efficient. Proof. Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits. Consider the linear program describing the socially optimal trade. We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints. Now we claim that the two linear programs are duals of each other. The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1. The additional dual variable yt corresponds to an additional inequality xt ≤ 1. The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs. There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also. Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade. Next we argue that equilibria always exist. THEOREM 2.3. For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade. Proof. Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program. We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true. Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows. Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function. Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader. Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0. For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i. Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j. We claim that this set of bids and asks, together with the trade x, are an equilibrium. To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i. Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i. This shows that sellers and buyers dont have an incentive to deviate. We need to show that traders have no incentive to deviate either. When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt. But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation. In either case such a deviation cannot be successful. Finally, consider a trader t = (i, j) who doesnt trade. A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade. However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade. Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader. A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell. Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural. Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted. To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium. THEOREM 2.4. For any efficient trade between buyers and sellers there is a pure cross-free equilibrium. Proof. Consider an optimal solution to the dual linear program. To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader. Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi). This set E contain all the edges where trade occurs, and some more edges. We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0. We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight. Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight. This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value. So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges. Now we can set asks and bids to form a cross-free equilibrium. For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj. For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi]. This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution. The askbid values along the tight edges guarantee that traders who trade cannot increase their spread. Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money. Right: an equilibrium without crossing bids for any value x ∈ [0, 1]. Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods. As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits. Recall that we needed to add the constraints xt ≤ 1 for all traders. The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case. Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness. This shows that trade is socially optimal. Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs. THEOREM 2.5. All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade. Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient. However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders. Figure 2 depicts a simple example of this phenomenon. Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make. To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt). Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6. For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time. This maximum profit can be obtained by a non-crossing equilibrium. One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j). The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit. Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment. THEOREM 2.7. A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare. The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare. If we allow crossing equilibria, then we can also find the minimum possible profit. Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over. Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader. THEOREM 2.8. For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3. GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers. For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation). In the full version of the paper we also discuss the special case of indistinguishable goods in more detail. To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}. On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade). We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use. Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers. In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products. There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to. Our results hold in either model. For notational simplicity we will use the menu option here. Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks? For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit). Now consider a seller-buyer pair (i, j) that trader t can connect. Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi). The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i. The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t). We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion. THEOREM 3.1. For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j). This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient. THEOREM 3.2. Every equilibrium results in an efficient allocation of the goods. Proof. Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j). Trade is a solution to the transshipment linear program used in Section 2.2. Let pi denote the profit of seller or buyer i. Each trader t currently has the best solution to his own optimization problem. A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem. Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1. When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i. This is clearly true for all traders t that are not trading with i in the equilibrium. To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium. If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction. We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x. To see this we need to show a few facts. We need that zi > 0 implies that i trades. If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade. If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i. For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij . Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij. Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij . Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight. Let t be the trader involved in the trade. By complementary slackness of ts optimization problem we have qti + qtj = vtij. To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0. This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading. Next we want to show that a non-crossing equilibrium always exists. We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3. There exists a non-crossing equilibrium supporting any socially optimal trade. Proof. Consider an optimal trade x and a dual solution z as before. To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i. We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t). We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0. This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j. This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader. Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers. To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1). We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i). This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1). We will modify p and q to gradually enforce the last condition, while maintaining the others. Consider a seller with pi > 0. By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i. If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ). This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint. We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j. After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints. Now we get equilibrium bid and ask values as follows. For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi. For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ). We offer bid and ask values βtij = αtji = γ. Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network. First, we show how to maximize the total profit of a set of traders. The profit of trader t in an equilibrium is P i qti. To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti. Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution. Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium. THEOREM 3.4. The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make. Proof. By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem. To see that T can indeed make this much profit, we use the proof of Theorem 3.3. We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T . We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true. We omit the details of this in the present version. In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade. This is not 150 1 1 Figure 3: The top trader is essential for social welfare. Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3. However, we still get a characterization for when a trader t can make a positive profit. THEOREM 3.5. A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation. Proof. First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare. Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0. So we have some agent i with qti > 0. We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t). To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero. To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ. Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j. By assumption the trade is still optimal, and we let z be the dual solution for this matching. Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0. This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i). Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader. THEOREM 3.6. For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4. REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov. Mechanisms for a Spatially Distributed Market. ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere. Agricultural markets in developing countries. The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd. Equilibrium Price Disperison. Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J. Shen. Agent Competition Double Auction Mechanism. Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor. Multi-item auctions. J. Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri. A Network Formation Game for Bipartite Exchange Economies. ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald. Dynamic Pricing by Software Agents. Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri. Economic Properties of Social Networks. NIPS 2004. [9] R. Kranton, D. Minehart. A Theory of Buyer-Seller Networks. American Economic Review 91(3), June 2001. [10] H. Leonard. Elicitation of Honest Preferences for the Assignment of Individuals to Positions. J. Pol. Econ, 1983. [11] M. E. J. Newman. The structure and function of complex networks. SIAM Review, 45:167-256, 2003. [12] M. OHara. Market Microstructure Theory. Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core. Intl. J. Game Theory 1/2 111-130, 1972. [14] Jean Tirole. The Theory of Industrial Organization. The MIT Press, Cambridge, MA, 1988. 151",
    "original_translation": "Redes de intercambio con agentes que fijan precios Larry Blume Dept. En una amplia gama de mercados, los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, quienes determinan los precios mediante consideraciones estratégicas. Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el mercado. Modelamos este fenómeno utilizando un juego en el que compradores, vendedores e intermediarios participan en transacciones en un gráfico que representa el acceso que cada comprador y vendedor tiene a los intermediarios. En este modelo, los comerciantes establecen precios estratégicamente, y luego los compradores y vendedores reaccionan a los precios que se les ofrecen. Mostramos que el juego resultante siempre tiene un equilibrio de Nash perfecto en subjuegos, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. Extendemos estos resultados a un tipo más general de mercado de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores. Finalmente, consideramos cómo los beneficios obtenidos por los comerciantes dependen del grafo subyacente: en resumen, un comerciante puede obtener un beneficio positivo si y solo si tiene una conexión esencial en la estructura de la red, proporcionando así una base teórica de grafos para cuantificar la cantidad de competencia entre los comerciantes. Nuestro trabajo difiere de los estudios recientes sobre cómo el precio se ve afectado por la estructura de la red a través de nuestro modelado del establecimiento de precios como una actividad estratégica realizada por un subconjunto de agentes en el sistema, en lugar de estudiar precios establecidos a través de un equilibrio competitivo o por un mecanismo veraz. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1. INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio. Un ejemplo de esta configuración es el comercio de productos agrícolas en países en desarrollo. Dada la falta de redes de transporte adecuadas y el limitado acceso de los agricultores pobres al capital, muchos agricultores no tienen otra alternativa que comerciar con intermediarios en mercados locales ineficientes. Un país en desarrollo puede tener muchos mercados parcialmente superpuestos que coexisten junto a mercados modernos y eficientes. Los mercados financieros proporcionan un ejemplo diferente de un entorno con estas características generales. En estos mercados, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de mercado y sistemas de negociación electrónica. Para muchos activos no hay un único mercado; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en mercados de otros países. Algunos compradores y vendedores tienen acceso a muchos o a todos estos lugares de negociación; otros solo tienen acceso a uno o a unos pocos de ellos. El precio al que se negocia el activo puede variar en estos lugares de negociación. De hecho, no hay un precio fijo ya que diferentes comerciantes pagan o reciben precios diferentes. En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el precio de compra. Uno de los ejemplos más llamativos de este fenómeno ocurre en el mercado de divisas, donde existe un mercado interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto. Los spreads, definidos como la diferencia entre los precios de oferta y demanda, difieren significativamente en estos mercados, a pesar de que el mismo activo se está negociando en ambos mercados. En este artículo, desarrollamos un marco en el que tales fenómenos surgen de un modelo de comercio basado en teoría de juegos, con compradores, vendedores e intermediarios interactuando en una red. Los bordes de la red conectan a los comerciantes con los compradores y vendedores, y por lo tanto representan el acceso que tienen los diferentes participantes del mercado entre sí. Los comerciantes actúan como intermediarios en un juego de comercio de dos etapas: eligen estratégicamente los precios de oferta y demanda para ofrecer a los vendedores y compradores a los que están conectados; luego, los vendedores y compradores reaccionan a los precios que enfrentan. Por lo tanto, la red codifica el poder relativo en las posiciones estructurales de los participantes del mercado, incluyendo los niveles implícitos de competencia entre los traders. Mostramos que este juego siempre tiene un equilibrio de Nash perfecto en subjuegos de 143, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. También analizamos cómo los beneficios de los operadores dependen de la estructura de la red, caracterizando esencialmente en términos de teoría de grafos cómo se determina el pago de un operador por la cantidad de competencia que experimenta con otros operadores. Nuestro trabajo aquí está conectado a varias líneas de investigación en economía, finanzas y teoría de juegos algorítmica, y discutimos estas conexiones con más detalle más adelante en la introducción. A un nivel general, nuestro enfoque puede ser visto como la síntesis de dos importantes corrientes de trabajo: una que trata la interacción comprador-vendedor utilizando estructuras de red, pero sin intentar modelar los procesos mediante los cuales los precios son realmente formados [1, 4, 5, 6, 8, 9, 10, 13]; y otra corriente en la literatura sobre microestructura de mercado que incorpora intermediarios en la fijación de precios, pero sin restricciones de tipo red sobre quién puede comerciar con quién [12]. Al desarrollar un modelo de red que incluye explícitamente a los comerciantes como agentes que establecen precios, en un sistema junto con compradores y vendedores, podemos capturar la formación de precios en un entorno de red como un proceso estratégico llevado a cabo por intermediarios, en lugar de como resultado de un mecanismo centralizado o exógeno. El Modelo Básico: Bienes Indistinguibles. Nuestro objetivo al formular el modelo es expresar el proceso de fijación de precios en mercados como los discutidos anteriormente, donde los participantes no tienen todos acceso uniforme entre sí. Se nos da un conjunto B de compradores, un conjunto S de vendedores y un conjunto T de traders. Hay un grafo no dirigido G que indica quién puede comerciar con quién. Todos los bordes tienen un extremo en B ∪ S y el otro en T; es decir, cada borde tiene la forma (i, t) para i ∈ S y t ∈ T, o (j, t) para j ∈ B y t ∈ T. Esto refleja las restricciones de que todas las transacciones entre compradores y vendedores pasan por los intermediarios comerciales. En la versión más básica del modelo, consideramos bienes idénticos, de los cuales cada vendedor inicialmente posee una copia. Los compradores y vendedores tienen un valor para una copia del bien, y asumimos que estos valores son de conocimiento común. Posteriormente generalizaremos esto a un escenario en el que los bienes son distinguibles, los compradores pueden valorar los diferentes bienes de manera diferente y, potencialmente, los vendedores también pueden valorar las transacciones con diferentes compradores de manera diferente. Tener diferentes valoraciones de los compradores captura escenarios como las compras de viviendas; agregar diferentes valoraciones de los vendedores también captura mercados de coincidencia, por ejemplo, vendedores como solicitantes de empleo y compradores como empleadores, ambos preocupados por quién termina con qué bien (y con los comerciantes actuando como servicios que facilitan la búsqueda de empleo). Por lo tanto, para comenzar con el modelo básico, hay un solo tipo de bien; el bien viene en unidades indivisibles; y cada vendedor inicialmente posee una unidad del bien. Todos los tres tipos de agentes valoran el dinero a la misma tasa; y cada i ∈ B ∪ S valora adicionalmente una copia del bien en θi unidades de dinero. Ningún agente quiere más de una copia del bien, por lo que las copias adicionales se valoran en 0. Cada agente tiene una dotación inicial de dinero que es mayor que cualquier valoración individual θi; el efecto de esto es garantizar que cualquier comprador que termine sin una copia del bien ha sido excluido del mercado debido a su valoración y posición en la red, no a la falta de fondos. Nos imaginamos que cada bien que se vende fluye a lo largo de una secuencia de dos etapas: desde un vendedor a un comerciante, y luego del comerciante a un comprador. La forma particular en la que fluyen los bienes está determinada por el siguiente juego. Primero, cada comerciante ofrece un precio de oferta a cada vendedor al que está conectado, y un precio de demanda a cada comprador al que está conectado. Los vendedores y compradores luego eligen entre las ofertas presentadas por los comerciantes. Si varios comerciantes proponen el mismo precio a un vendedor o comprador, entonces no hay una mejor respuesta estricta para el vendedor o comprador. En este caso se debe hacer una selección, y, como es habitual (ver por ejemplo [10]), nosotros (los modeladores) elegimos entre las mejores ofertas. Finalmente, cada comerciante compra una copia del bien de cada vendedor que acepta su oferta, y vende una copia del bien a cada comprador que acepta su oferta. Si un comerciante en particular, t, descubre que más compradores que vendedores aceptan sus ofertas, entonces se ha comprometido a proporcionar más copias del bien de las que ha recibido, y diremos que esto resulta en una gran penalización para el comerciante por incumplimiento; el efecto de esto es que en equilibrio, ningún comerciante elegirá precios de oferta y demanda que resulten en un incumplimiento. Más precisamente, una estrategia para cada operador t es una especificación de un precio de oferta βti para cada vendedor i al que t está conectado, y un precio de demanda αtj para cada comprador j al que t está conectado. (También podemos manejar un modelo en el que un operador puede optar por no hacer una oferta a ciertos de sus vendedores o compradores adyacentes). Cada vendedor o comprador elige como máximo una arista incidente, indicando el comerciante con quien realizarán la transacción, al precio indicado. (La elección de una sola arista refleja el hecho de que (a) los vendedores inicialmente solo tienen una copia del bien, y (b) los compradores solo desean una copia del bien). Las ganancias son las siguientes: Para cada vendedor i, la ganancia de seleccionar al comerciante t es βti, mientras que la ganancia de no seleccionar a ningún comerciante es θi. (En el primer caso, el vendedor recibe βti unidades de dinero, mientras que en el segundo caso conserva su copia del bien, al que valora en θi). Para cada comprador j, la ganancia de seleccionar al comerciante t es θj - αtj, mientras que la ganancia de no seleccionar a ningún comerciante es 0. (En el primer caso, el comprador recibe el bien pero renuncia a αtj unidades de dinero). Para cada operador t, con ofertas aceptadas de vendedores i1, . . . , is y compradores j1, . . . , jb, la ganancia es P r αtjr − P r βtir, menos una penalización π si b > s. La penalización se elige lo suficientemente grande para que un operador nunca la sufra en equilibrio, por lo que generalmente no nos preocuparemos por la penalización. Esto define los elementos básicos del juego. El concepto de equilibrio que utilizamos es el equilibrio de Nash perfecto en subjuegos. Algunos ejemplos. Para ayudar a pensar en el modelo, ahora describimos tres ejemplos ilustrativos, representados en la Figura 1. Para evitar que las figuras se vuelvan demasiado desordenadas, adoptamos las siguientes convenciones: los vendedores se representan como círculos en la columna más a la izquierda y se les asigna el nombre i1, i2, ... de arriba abajo; los comerciantes se representan como cuadrados en la columna del medio y se les asigna el nombre t1, t2, ... de arriba abajo; y los compradores se representan como círculos en la columna más a la derecha y se les asigna el nombre j1, j2, ... de arriba abajo. Todos los vendedores en los ejemplos tendrán valoraciones para el bien iguales a 0; la valoración de cada comprador se dibuja dentro de su círculo; y el precio de oferta o demanda en cada borde se dibuja encima del borde. En la Figura 1(a), mostramos cómo una subasta estándar de segundo precio surge naturalmente de nuestro modelo. Supongamos que las valoraciones de los compradores de mayor a menor son w > x > y > z. Los precios de oferta y demanda mostrados son consistentes con un equilibrio en el que i1 y j1 aceptan las ofertas del trader t1, y ningún otro comprador acepta la oferta de su trader adyacente: así, el trader t1 recibe el bien con un precio de oferta de x, y gana w − x al vender el bien al comprador j1 por w. De esta manera, podemos considerar esta instancia particular como una subasta para un bien único en la que los traders actúan como representantes de sus compradores adyacentes. El comprador con la valoración más alta para el bien termina adquiriéndolo, y el excedente se divide entre el vendedor y el comerciante asociado. Se debe tener en cuenta que se puede construir una subasta de k unidades con > k compradores con la misma facilidad, creando un grafo bipartito completo con k vendedores y comerciantes, y luego conectando a cada comerciante con un único comprador distinto. En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales. Específicamente, el vendedor i2 y el comprador j2 ocupan posiciones poderosas, ya que los dos comerciantes compiten por su negocio; por otro lado, los otros vendedores y compradores se encuentran en posiciones débiles, ya que cada uno tiene solo una opción. Y de hecho, en cada equilibrio, hay un número real x ∈ [0, 1] tal que ambos comerciantes ofrecen precios de oferta y demanda de x a i2 y j2 respectivamente, mientras ofrecen ofertas de 0 y demandas de 1 a los otros vendedores y compradores. Por lo tanto, este ejemplo ilustra algunos ingredientes cruciales que identificaremos a un nivel más general en breve. Específicamente, i2 y j2 experimentan los beneficios de la competencia perfecta, ya que los dos comerciantes reducen los márgenes de oferta y demanda a 0 al competir por su negocio. Por otro lado, los otros vendedores y compradores experimentan las desventajas del monopolio: no reciben ninguna ganancia ya que solo tienen una opción para comerciar, y el comerciante correspondiente se queda con todas las ganancias. Observa además cómo este comportamiento natural surge del hecho de que los comerciantes pueden ofrecer diferentes precios a diferentes agentes, capturando el hecho de que no hay un precio fijo en los tipos de mercados que motivan el modelo, sino diferentes precios que reflejan el poder relativo de los diferentes agentes involucrados. El ejemplo anterior muestra quizás la forma más natural en la que la ganancia de un comerciante en una transacción particular puede caer a 0: cuando hay otro comerciante que puede replicar su función de manera precisa. (En ese ejemplo, dos comerciantes tenían la capacidad de mover una copia del bien de i2 a j2). Pero como mostrarán nuestros resultados posteriores, los comerciantes no obtienen ganancias en general debido a razones globales y teóricas de grafos. El ejemplo en la Figura 1(c) da una indicación inicial de esto: se puede demostrar que para cada equilibrio, existe un y ∈ [0, 1] tal que cada oferta y cada precio de demanda es igual a y. En otras palabras, todos los comerciantes no obtienen beneficios, ya sea que pase por ellos una copia del bien o no, y sin embargo, ningún par de comerciantes comparte rutas de vendedor-comprador en común. Los márgenes de precios se han reducido a cero debido a una restricción global impuesta por el largo ciclo a través de todos los agentes; este es un ejemplo de competencia perfecta implícita determinada por la topología de la red. Extendiendo el modelo para bienes distinguibles. Extendemos el modelo básico a un escenario con bienes distinguibles, de la siguiente manera. En lugar de que cada agente i ∈ B ∪ S tenga una única valoración numérica θi, indexamos las valoraciones por pares de compradores y vendedores: si el comprador j obtiene el bien inicialmente poseído por el vendedor i, obtiene una utilidad de θji, y si el vendedor i vende su bien al comprador j, experimenta una pérdida de utilidad de θij. Esto generaliza el caso de bienes indistinguibles, ya que siempre podemos hacer que estas valoraciones por pares dependan solo de uno de los índices. Una estrategia para un trader ahora consiste en ofrecer una oferta a cada vendedor que especifique tanto un precio como un comprador, y ofrecer una demanda a cada comprador que especifique tanto un precio como un vendedor. (También podemos manejar un modelo en el que un trader ofrece ofertas (respectivamente, demandas) en forma de vectores, especificando esencialmente un menú con un precio adjunto a cada comprador (resp. vendedor).) Cada comprador y vendedor selecciona una oferta de un comerciante adyacente, y los pagos a todos los agentes se determinan como antes. Este marco general captura los mercados de emparejamiento [10, 13]: por ejemplo, un mercado laboral que es mediado por agentes o servicios de búsqueda de empleo (como en la contratación de ejecutivos corporativos, o figuras del deporte o del entretenimiento). Aquí los vendedores son solicitantes de empleo, los compradores son empleadores y los comerciantes son los agentes que median en el mercado laboral. Por supuesto, si se especifican valoraciones por pares en los compradores pero solo valoraciones individuales para los vendedores, modelamos un escenario donde los compradores pueden distinguir entre los bienes, pero a los vendedores no les importa a quién venden, esto captura (aproximadamente) escenarios como los mercados de vivienda. Nuestros resultados. Nuestros resultados identificarán formas generales de algunos de los principios mencionados en los ejemplos discutidos anteriormente, incluyendo la pregunta de qué compradores terminan con el bien; la pregunta de cómo los pagos son realizados de manera diferente por vendedores, comerciantes y compradores; y la pregunta de qué propiedades estructurales de la red determinan si los comerciantes obtendrán beneficios positivos. Para hacer esto preciso, introducimos la siguiente notación. Cualquier resultado del juego determina una asignación final de bienes a algunos de los agentes; esto puede ser especificado por una colección M de triples (es decir, te, je), donde ie ∈ S, te ∈ T y je ∈ B; además, cada vendedor y cada comprador aparece en a lo sumo un triple. El significado es que para cada e ∈ M, el bien inicialmente poseído por ie se transfiere a je a través de te. (Los vendedores que no aparecen en ningún trío conservan su copia del bien). Decimos que el valor de la asignación es igual a P e∈M θjeie − θieje. Que θ∗ denote el valor máximo de cualquier asignación M que sea factible dada la red. Mostramos que cada instancia de nuestro juego tiene un equilibrio, y que en cada uno de estos equilibrios, la asignación tiene un valor de θ∗ 145, en otras palabras, logra el mejor valor posible. Por lo tanto, los equilibrios en este modelo son siempre eficientes, ya que el mercado permite que el conjunto correcto de personas obtenga el bien, sujeto a las restricciones de la red. Establecemos la existencia y eficiencia de los equilibrios mediante la construcción de un programa lineal para capturar el flujo de bienes a través de la red; el dual de este programa lineal contiene suficiente información para extraer los precios de equilibrio. Según la definición del juego, el valor de la asignación de equilibrio se divide en forma de pagos a los agentes, y resulta interesante preguntarse cómo se distribuye este valor, en particular cuánta ganancia puede obtener un trader según su posición en la red. Observamos que, aunque todos los equilibrios tienen el mismo valor, la ganancia de un trader dado puede variar entre diferentes equilibrios. Sin embargo, somos capaces de caracterizar las cantidades máximas y mínimas que un operador dado puede obtener, donde estos máximos y mínimos se toman sobre todos los equilibrios, y proporcionamos un algoritmo eficiente para calcular esto. En particular, nuestros resultados aquí implican una caracterización combinatoria clara de cuándo un trader dado t puede lograr un beneficio distinto de cero: esto ocurre si y solo si hay algún borde e incidente en t que es esencial, en el sentido de que eliminar e reduce el valor de la asignación óptima θ∗. También obtenemos resultados para la suma de todas las ganancias de los operadores. Trabajo relacionado. El enfoque estándar de referencia para analizar la interacción entre compradores y vendedores es el modelo walrasiano en el que compradores y vendedores anónimos intercambian un bien a un único precio de equilibrio de mercado. Esta forma reducida de comercio, basada en la idealización de un precio de mercado, es un modelo poderoso que ha dado lugar a muchas ideas. Pero no es un buen modelo para examinar de dónde vienen los precios o exactamente cómo compradores y vendedores comercian entre sí. La dificultad es que en el modelo walrasiano no hay un agente que fije el precio, y los agentes en realidad no comercian entre sí. De hecho, no hay un mercado, en el sentido cotidiano de esa palabra, en el modelo walrasiano. Es decir, no hay un lugar físico o virtual donde los compradores y vendedores interactúen para comerciar y establecer precios. Por lo tanto, en este modelo simple, todos los compradores y vendedores son uniformes y comercian al mismo precio, y tampoco hay un papel para intermediarios. Hay varias literaturas en economía y finanzas que examinan cómo se fijan los precios en lugar de simplemente determinar los precios de equilibrio. La literatura sobre competencia imperfecta es quizás la más antigua de todas. Aquí un monopolista, o un grupo de oligopolistas, eligen los precios con el fin de maximizar sus ganancias (ver [14] para el tratamiento estándar de estos mercados en los libros de texto). Un monopolista utiliza su conocimiento de la demanda del mercado para elegir un precio, o una colección de precios si discrimina. Los oligopolistas juegan un juego en el que sus ganancias dependen de la demanda del mercado y las acciones de sus competidores. En esta literatura hay agentes que fijan precios, pero se mantiene la ficción de un solo mercado. En la literatura de búsqueda de equilibrio, las empresas establecen precios y los consumidores los buscan (ver [3]). Los consumidores terminan pagando precios diferentes, pero todos los consumidores tienen acceso a todas las empresas y no hay intermediarios. En la literatura de equilibrio general ha habido varios intentos de introducir la determinación de precios. Una técnica de prueba estándar para la existencia de un equilibrio competitivo implica un mecanismo de ajuste de precios en el que los precios responden a la demanda excesiva. El subastador walrasiano suele ser presentado como un dispositivo para explicar cómo funciona este proceso, pero en realidad es fundamentalmente una metáfora de un algoritmo iterativo de actualización de precios, no de los detalles internos de un mercado real. Se han introducido procesos más sofisticados para estudiar la estabilidad de los precios de equilibrio o la información necesaria para calcularlos. Pero de nuevo no hay agentes que fijen los precios aquí. En la literatura financiera, el trabajo sobre microestructura de mercado sí tiene agentes que fijan precios (especialistas), algunas partes de él determinan precios de oferta y demanda separados, y diferentes agentes reciben precios distintos por el mismo activo (ver [12] para un tratamiento de la teoría de microestructura). El trabajo en economía de la información ha identificado fenómenos similares (ver por ejemplo [7]). Pero hay poca investigación en estas literaturas que examine el efecto de las restricciones sobre quién puede comerciar con quién. Ha habido varios enfoques para estudiar cómo la estructura de la red determina los precios. Estos han planteado la determinación de precios a través de definiciones basadas en el equilibrio competitivo o el núcleo, o mediante el uso de mecanismos veraces. Al revisar brevemente este trabajo, notaremos el contraste con nuestro enfoque, ya que modelamos los precios como resultado del comportamiento estratégico de los agentes en el sistema. En un trabajo reciente, Kakade et al. [8] han estudiado la distribución de precios en equilibrio competitivo en un grafo bipartito de compradores y vendedores, generado utilizando un modelo probabilístico capaz de producir distribuciones de grados con colas pesadas [11]. Even-Dar et al. [6] se basan en esto para considerar los aspectos estratégicos de la formación de redes cuando los precios surgen del equilibrio competitivo. Leonard [10], Babaioff et al. [1], y Chu y Shen [4] consideran un enfoque basado en el diseño de mecanismos: los compradores y vendedores residen en nodos diferentes en un grafo, y incurren en un costo de transporte dado para comerciar entre sí. Leonard estudia los precios de VCG en este contexto; Babaioff et al. y Chu y Shen además proporcionan un mecanismo equilibrado en presupuesto. Dado que la preocupación aquí radica en mecanismos veraces que operan sobre valoraciones privadas, existe un compromiso inherente entre la eficiencia de la asignación y la condición de equilibrio presupuestario. Por el contrario, nuestro modelo tiene valoraciones y precios conocidos que surgen del comportamiento estratégico de los operadores. Por lo tanto, las suposiciones detrás de nuestro modelo no son directamente comparables a las que subyacen en el enfoque del diseño de mecanismos: aunque asumimos valoraciones conocidas, no requerimos una autoridad centralizada para imponer un mecanismo. Más bien, la fijación de precios es parte del resultado estratégico, como en los mercados reales que motivan nuestro trabajo, y nuestros equilibrios son simultáneamente equilibrados en términos presupuestarios y eficientes, algo que no es posible en los marcos de diseño de mecanismos que se han utilizado. Demange, Gale y Sotomayor [5], y Kranton y Minehart [9], analizan los precios a los que se produce el comercio en una red, trabajando dentro del marco del diseño de mecanismos. Kranton y Minehart utilizan un grafo bipartito con enlaces directos entre compradores y vendedores, y luego emplean un mecanismo de subasta ascendente, en lugar de intermediarios estratégicos, para determinar los precios. Su subasta tiene propiedades de equilibrio deseables, pero como señalan Kranton y Minehart, es una abstracción de cómo se asignan los bienes y se determinan los precios que es similar en espíritu a la abstracción del subastador walrasiano. De hecho, podemos mostrar cómo el modelo básico de Kranton y Minehart puede ser codificado como una instancia de nuestro juego, con los comerciantes produciendo precios en equilibrio que coinciden con los precios producidos por su mecanismo de subasta. Finalmente, los resultados clásicos de Shapley y Shubik [13] sobre el juego de asignación pueden ser vistos como el estudio del resultado del comercio en un grafo bipartito en términos del núcleo. Estudian el dual de un programa lineal basado en el problema de emparejamiento, similar a lo que usamos para una versión reducida de nuestro modelo en la siguiente sección, pero su enfoque es diferente ya que no consideran agentes que buscan establecer precios. 2. MERCADOS CON OPERADORES DE PAREJAS Para comprender las ideas detrás del análisis del modelo general, es muy útil considerar primero un caso especial con un re1 Kranton y Minehart, sin embargo, también pueden analizar un entorno más general en el que los valores de los compradores son privados y, por lo tanto, compradores y vendedores juegan un juego de información incompleta. Solo trabajamos con información completa. 146 forma restringida de comerciantes a los que nos referimos como operadores de pares. En este caso, cada comerciante está conectado a solo un comprador y un vendedor. (Por lo tanto, sirve esencialmente como una ruta comercial entre los dos). Las técnicas que desarrollamos para manejar este caso formarán una base útil para razonar sobre el caso de los comerciantes que pueden estar conectados arbitrariamente a los vendedores y compradores. Relacionaremos las ganancias en un equilibrio de Nash perfecto en subjuegos con las soluciones óptimas de un cierto programa lineal, utilizaremos esta relación para demostrar que todos los equilibrios resultan en una asignación eficiente de los bienes, y mostraremos que siempre existe un equilibrio puro. Primero, consideramos el modelo más simple donde los vendedores tienen artículos indistinguibles, y cada comprador está interesado en obtener un artículo. Luego extendemos los resultados al caso más general de un mercado de emparejamiento, como se discutió en la sección anterior, donde las valoraciones dependen de la identidad del vendedor y comprador. Luego caracterizamos las ganancias mínimas y máximas que los comerciantes pueden obtener. En la siguiente sección, extendemos los resultados a los operadores que pueden estar conectados a cualquier subconjunto de vendedores y compradores. Dado que estamos trabajando con operadores de pares en esta sección, podemos representar el problema utilizando un grafo bipartito G cuyo conjunto de nodos es B ∪ S, y donde cada operador t, conectando al vendedor i y al comprador j, aparece como una arista t = (i, j) en G. Sin embargo, cabe destacar que permitimos que múltiples operadores conecten el mismo par de agentes. Para cada comprador y vendedor i, usaremos adj(i) para denotar el conjunto de comerciantes que pueden comerciar con i. 2.1 Bienes Indistinguibles El intercambio socialmente óptimo para el caso de bienes indistinguibles es la solución del problema de transporte: enviar bienes a lo largo de los bordes que representan a los comerciantes. Las aristas a lo largo de las cuales ocurre el comercio corresponden a un emparejamiento en este grafo bipartito, y el comercio óptimo está descrito por el siguiente programa lineal. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B A continuación, consideramos un equilibrio. Cada operador t = (i, j) debe ofrecer una oferta βt y una demanda αt. (Omitimos el subíndice que denota al vendedor y comprador aquí, ya que estamos tratando con operadores en pares). Dado el precio de oferta y demanda, los agentes reaccionan a estos precios, como se describió anteriormente. En lugar de enfocarnos en los precios, nos enfocaremos en las ganancias. Si un vendedor i vende a un comerciante t ∈ adj(i) con una oferta βt, entonces su ganancia es pi = βt − θi. De manera similar, si un comprador j compra a un comerciante t ∈ adj(j) con una oferta αt, entonces su ganancia es pj = θj − αt. Finalmente, si un comerciante t opera con la oferta αt y la demanda βt, entonces su ganancia es yt = αt − βt. Todos los agentes que no están involucrados en el comercio no obtienen ganancias. Demostraremos que las ganancias en equilibrio son una solución óptima para el siguiente programa lineal. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMA 2.1. En el equilibrio, los beneficios deben satisfacer las desigualdades anteriores. Prueba. Claramente, todas las ganancias son no negativas, ya que el comercio es opcional para todos los agentes. Para ver por qué se cumplen el último conjunto de desigualdades, considera dos casos por separado. Para un comerciante t que realizó un intercambio, obtenemos igualdad por definición. Para otros comerciantes t = (i, j), el valor pi + θi es el precio al que el vendedor i vendió (o θi si el vendedor i decidió quedarse con el bien). Ofrecer una oferta βt > pi + θi haría que el vendedor vendiera al comerciante t. De manera similar, θj − pj es el precio al que el comprador j compró (o θj si no compró), y para cualquier oferta αt < θj − pj, el comprador comprará al comerciante t. Por lo tanto, a menos que θj − pj ≤ θi + pi, el comerciante tiene una desviación rentable. Ahora estamos listos para demostrar nuestro primer teorema: TEOREMA 2.2. En cualquier equilibrio, el comercio es eficiente. Prueba. Que x sea un flujo de bienes que resulta en un equilibrio, y que las variables p e y sean las ganancias. Considera el programa lineal que describe el comercio socialmente óptimo. También agregaremos un conjunto de restricciones adicionales xt ≤ 1 para todos los operadores t ∈ T; esto se puede agregar a la descripción, ya que está implícito en las otras restricciones. Ahora afirmamos que los dos programas lineales son duales entre sí. Las variables pi para los agentes B ∪ S corresponden a las ecuaciones Pt∈adj(i) xt ≤ 1. La variable dual adicional yt corresponde a una desigualdad adicional xt ≤ 1. La optimalidad del valor social del intercambio se seguirá de la afirmación de que la solución de estos dos programas lineales derivados de un equilibrio satisface las condiciones de holgura complementaria para este par de programas lineales, y por lo tanto tanto x como (p, y) son soluciones óptimas de los programas lineales correspondientes. Existen tres condiciones de holgura complementarias diferentes que debemos considerar, correspondientes a los tres conjuntos de variables x, y y p. Cualquier agente solo puede obtener ganancias si realiza transacciones, por lo que pi > 0 implica que P t∈adj(i) xt = 1, y de manera similar, yt > 0 implica que xt = 1 también. Finalmente, considera a un trader t con xt > 0 que negocia entre el vendedor i y el comprador j, y recuerda que hemos visto anteriormente que la desigualdad yt ≥ (θj − pj) − (θi + pi) se cumple con igualdad para aquellos que comercian. A continuación argumentamos que los equilibrios siempre existen. TEOREMA 2.3. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro de valores de oferta y demanda que respalda este comercio. Prueba. Considera un intercambio eficiente; sea xt = 1 si t intercambia y 0 en caso contrario; y considera una solución óptima (p, y) para el programa lineal dual. Nos gustaría afirmar que todas las soluciones duales corresponden a precios de equilibrio, pero desafortunadamente esto no es exactamente cierto. Antes de poder convertir una solución dual en precios de equilibrio, es posible que necesitemos modificar ligeramente la solución de la siguiente manera. Considera cualquier agente i que solo esté conectado a un único comerciante t. Debido a que el agente está solo conectado a un único comerciante, las variables yt y pi son variables duales correspondientes a la misma desigualdad primal xt ≤ 1, y siempre aparecen juntas como yt + pi en todas las desigualdades, y también en la función objetivo. Por lo tanto, existe una solución óptima en la que pi = 0 para todos los agentes i conectados solo a un único comerciante. Supongamos que (p, y) es una solución dual donde los agentes conectados solo a un comerciante tienen pi = 0. Para un vendedor i, dejemos que βt = θi + pi sea la oferta para todos los comerciantes t adyacentes a i. De manera similar, para cada comprador j, sea αt = θj − pj la oferta para todos los operadores t adyacentes a j. Sostenemos que este conjunto de ofertas y demandas, junto con la transacción x, constituyen un equilibrio. Para entender por qué, hay que tener en cuenta que todos los operadores t adyacentes a un vendedor o comprador i ofrecen la misma oferta o demanda, por lo que comerciar con cualquier operador es igualmente bueno para el agente i. Además, si i no está operando en la solución 147 x, entonces por holgura complementaria pi = 0, y por lo tanto, no operar también es igualmente bueno para i. Esto muestra que los vendedores y compradores no tienen un incentivo para desviarse. Necesitamos demostrar que los comerciantes no tienen incentivos para desviarse tampoco. Cuando un comerciante t está negociando con el vendedor i y el comprador j, las desviaciones rentables implicarían aumentar αt o disminuir βt. Pero por nuestra construcción (y suposición sobre agentes monopolizados) todos los vendedores y compradores tienen múltiples ofertas de compra/venta idénticas, o el intercambio está ocurriendo a valuación. En cualquier caso, tal desviación no puede tener éxito. Finalmente, considera un trader t = (i, j) que no realiza intercambios. Una desviación para t implicaría ofrecer una oferta más baja al vendedor i y una oferta más alta al vendedor j que su intercambio actual. Sin embargo, yt = 0 por holgura complementaria, y por lo tanto pi + θi ≥ θj − pj, por lo que i vende a un precio al menos tan alto como el precio al que j compra, por lo que el comerciante t no puede crear un intercambio rentable. Se debe tener en cuenta que un vendedor o comprador conectado a un único comerciante t no puede obtener beneficios en equilibrio, por lo que los posibles beneficios en equilibrio están en correspondencia uno a uno con las soluciones duales para las cuales pi = 0 siempre que i esté monopolizado por un único comerciante. Una característica decepcionante del equilibrio creado por esta prueba es que algunos agentes t pueden tener que crear pares de oferta y demanda donde βt > αt, ofreciendo comprar por más del precio al que están dispuestos a vender. Los agentes que realizan tales pares de oferta y demanda nunca realizan realmente una transacción, por lo que no resulta en una pérdida de beneficios para el agente, pero dichos pares son poco comunes. Los pares de ofertas y demandas cruzadas son débilmente dominados por la estrategia de ofrecer una oferta baja β = 0 y una demanda extremadamente alta para garantizar que ninguna sea aceptada. Para formular una forma de evitar tales pares cruzados, decimos que un equilibrio es libre de cruces si αt ≥ βt para todos los operadores t. Ahora mostramos que siempre hay un equilibrio libre de cruces. TEOREMA 2.4. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro y libre de cruces. Prueba. Considera una solución óptima para el programa lineal dual. Para obtener un equilibrio sin cruzar ofertas, necesitamos hacer una modificación más general que simplemente asumir que pi = 0 para todos los vendedores y compradores conectados a un único operador. Que el conjunto E sea el conjunto de aristas t = (i, j) que son tensas, en el sentido de que tenemos la igualdad yt = (θj − pj) − (θi + pi). Este conjunto E contiene todos los bordes donde ocurre el comercio, y algunos bordes adicionales. Queremos asegurarnos de que pi = 0 para todos los vendedores y compradores que tengan un grado de a lo sumo 1 en E. Considere un vendedor i que tiene pi > 0. Debemos tener i involucrado en un intercambio, y el borde t = (i, j) a lo largo del cual ocurre el intercambio debe ser ajustado. Supongamos que este es el único borde ajustado adyacente al agente i; entonces podemos disminuir pi e incrementar yt hasta que ocurra una de las siguientes situaciones: o bien pi = 0 o la restricción de algún otro agente t ∈ adj(i) se vuelva ajustada. Esta modificación solo aumenta el conjunto de aristas ajustadas E, mantiene la solución factible y no cambia el valor de la función objetivo. Entonces, después de hacer esto para todos los vendedores, y cambiando de manera análoga yt y pj para todos los compradores, obtenemos una solución óptima donde todos los vendedores y compradores i tienen pi = 0 o tienen al menos dos aristas ajustadas adyacentes. Ahora podemos establecer ofertas y demandas para formar un equilibrio libre de cruces. Para todos los traders t = (i, j) asociados con un borde t ∈ E, establecemos αt y βt como antes: fijamos la oferta βt = pi + θi y la demanda αt = θj − pj. Para un trader t = (i, j) ∈ E, tenemos que pi + θi > θj − pj y establecemos αt = βt para que sea cualquier valor en el rango [θj − pj, pi + θi]. Esto garantiza que para cada vendedor o comprador, la mejor oferta de venta o compra se encuentra a lo largo del borde donde se produce el intercambio en la solución. Los valores de askbid a lo largo de los bordes ajustados garantizan que los traders que operan no puedan aumentar su spread. Los operadores t = (i, j) que no realizan operaciones no pueden obtener ganancias debido a la restricción pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) Ningún operador obtiene ganancias 1 1 1 0 x x x x 1 x x 0 x (b) Ganancias del operador Figura 2: Izquierda: un equilibrio con ofertas cruzadas donde los operadores no ganan dinero. Correcto: un equilibrio sin ofertas cruzadas para cualquier valor x ∈ [0, 1]. La ganancia total del comerciante oscila entre 1 y 2. 2.2 Bienes distinguibles. Ahora consideramos el caso de bienes distinguibles. Como en la sección anterior, podemos escribir un programa lineal de transbordo para el comercio socialmente óptimo, con el único cambio en la función objetivo. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) Podemos demostrar que el dual de este programa lineal corresponde a las ganancias de los comerciantes. Recuerda que necesitábamos agregar las restricciones xt ≤ 1 para todos los traders. El dual es entonces: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T. No es difícil extender las pruebas de los Teoremas 2.2 - 2.4 a este caso. Las ganancias en un equilibrio satisfacen las restricciones duales, y las ganancias y el comercio satisfacen la holgura complementaria. Esto demuestra que el comercio es socialmente óptimo. Tomando una solución dual óptima donde pi = 0 para todos los agentes que están monopolizados, podemos convertirla en un equilibrio, y con un poco más de cuidado, también podemos crear un equilibrio sin pares de oferta y demanda cruzados. TEOREMA 2.5. Todos los equilibrios para el caso de los operadores en pares con bienes distinguibles resultan en un comercio socialmente óptimo. Existen equilibrios puros no cruzados. 2.3 Ganancias de los operadores Hemos visto que todos los equilibrios son eficientes. Sin embargo, resulta que los equilibrios pueden diferir en cómo se distribuye el valor de la asignación entre los vendedores, compradores e intermediarios. La Figura 2 representa un ejemplo simple de este fenómeno. Nuestro objetivo es entender cómo se ve afectada la ganancia de un trader por su posición en la red; utilizaremos la caracterización que obtuvimos para determinar el rango de ganancias que un trader puede obtener. Para maximizar la ganancia de un operador t (o un subconjunto de operadores T), todo lo que necesitamos hacer es encontrar una solución óptima al programa lineal dual que maximice el valor de yt (o la suma Pt∈T yt). Tales soluciones duales corresponderán a equilibrios con precios no cruzados. TEOREMA 2.6. Para cualquier operador t o subconjunto de operadores T, la ganancia total máxima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. Este beneficio máximo se puede obtener mediante un equilibrio no cruzado. Una forma de pensar en la ganancia de un trader t = (i, j) es como una resta del valor del borde correspondiente (i, j). El valor del borde es el valor social θji − θij si el comerciante no obtiene ganancias, y disminuye a θji − θij − yt si el comerciante t insiste en obtener una ganancia de yt. El comerciante t obtiene un beneficio yt en equilibrio, si después de esta disminución en el valor del borde, el borde sigue incluido en el transbordo óptimo. TEOREMA 2.7. Un comerciante t puede obtener beneficios en un equilibrio si y solo si t es esencial para el bienestar social, es decir, si eliminar al agente t disminuye el bienestar social. La ganancia máxima que puede obtener es exactamente su valor para la sociedad, es decir, el aumento que su presencia provoca en el bienestar social. Si permitimos el cruce de equilibrios, entonces también podemos encontrar la ganancia mínima posible. Recuerde que en la demostración del Teorema 2.3, los comerciantes solo ganaron dinero de vendedores o compradores sobre los que tenían un monopolio. Permitiendo tales equilibrios con ofertas cruzadas, podemos encontrar la ganancia mínima que un trader o conjunto de traders puede obtener, minimizando el valor yt (o la suma de P t∈T yt) en todas las soluciones óptimas que satisfacen que pi = 0 siempre que i esté conectado solo a un trader. TEOREMA 2.8. Para cualquier operador t o subconjunto de operadores T, la ganancia total mínima que pueden obtener en cualquier equilibrio puede ser calculada en tiempo polinómico. A continuación, extendemos los resultados a un modelo en el que los comerciantes pueden estar conectados a un número arbitrario de vendedores y compradores. Para un comerciante t ∈ T utilizaremos S(t) y B(t) para denotar el conjunto de compradores y vendedores conectados al comerciante t. En esta sección nos enfocamos en el caso general cuando los bienes son distinguibles (es decir, tanto los compradores como los vendedores tienen valoraciones que son sensibles a la identidad del agente con el que se emparejan en la asignación). En la versión completa del artículo también discutimos el caso especial de bienes indistinguibles con más detalle. Para obtener el intercambio óptimo, consideramos el grafo bipartito G = (S ∪ B, E) que conecta vendedores y compradores, donde una arista e = (i, j) conecta un vendedor i y un comprador j si hay un comerciante adyacente a ambos: E = {(i, j) : adj(i) ∩ adj(j) = ∅}. En este gráfico, luego resolvemos la instancia del problema de asignación que también se utilizó en la Sección 2.2, con el valor del borde (i, j) igual a θji − θij (ya que el valor del intercambio entre i y j es independiente de qué comerciante realizó el intercambio). También utilizaremos el dual de este programa lineal: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Ofertas y Demandas y Optimización del Trader. Primero necesitamos entender qué modelo de oferta utilizaremos. Incluso cuando los bienes son indistinguibles, un comerciante puede querer practicar discriminación de precios y ofrecer diferentes valores de oferta y demanda a diferentes vendedores y compradores. En el caso de bienes distinguibles, tenemos que lidiar con una complicación adicional: el comerciante tiene que nombrar el bien que está proponiendo vender o comprar, y posiblemente ofrecer múltiples productos diferentes. Hay dos variantes de nuestro modelo dependiendo de si un trader hace una única oferta de compra o venta a un vendedor o comprador, o si ofrece un menú de opciones. (i) Un trader t puede ofrecer a un comprador j un menú de ofertas de compra αtji, un vector de valores para todos los productos a los que está conectado, donde αtji es la oferta de compra para el producto del vendedor i. De manera simétrica, un trader t puede ofrecer a cada vendedor i un menú de ofertas de venta βtij para vender a diferentes compradores j. (ii) Alternativamente, podemos requerir que cada trader t pueda hacer como máximo una oferta de compra a cada vendedor y una oferta de venta para cada comprador, y una oferta de compra debe incluir el producto vendido, y una oferta de venta debe ofrecer a un comprador en particular para venderle. Nuestros resultados se mantienen en ambos modelos. Para simplificar la notación, utilizaremos la opción del menú aquí. A continuación, necesitamos entender el problema de optimización de un trader t. Supongamos que tenemos valores de oferta y demanda para todos los demás traders t ∈ T, t = t. ¿Cuáles son las mejores ofertas de compra y venta que el trader t puede hacer como mejor respuesta al conjunto actual de ofertas de compra y venta? Para cada vendedor i, dejemos que pi sea la ganancia máxima que el vendedor i puede obtener utilizando ofertas de otros comerciantes, y asumamos de manera simétrica que pj es la ganancia máxima que el comprador j puede obtener utilizando demandas de otros comerciantes (dejando pi = 0 para cualquier vendedor o comprador i que no pueda obtener ganancias). Ahora considera un par vendedor-comprador (i, j) que el comerciante t puede conectar. El trader t tendrá que hacer una oferta de al menos βtij = θij + pi al vendedor i y un precio de venta de como máximo αtji = θji − pj al comprador j para realizar esta transacción, por lo que la ganancia máxima que puede obtener en esta operación es vtij = αtji − βtij = θji − pj − (θij + pi). El intercambio óptimo para el trader t se obtiene resolviendo un problema de emparejamiento para encontrar la correspondencia entre los vendedores S(t) y compradores B(t) que maximiza el valor total vtij para el trader t. Necesitaremos el dual del programa lineal para encontrar el intercambio de máximo beneficio para el trader t. Utilizaremos qti como la variable dual asociada con la restricción del vendedor o comprador i. El dual es entonces el siguiente problema. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t). Vemos qti como la ganancia obtenida por t al comerciar con el vendedor o comprador i. El Teorema 3.1 resume la discusión anterior. TEOREMA 3.1. Para un trader t, dado las ofertas más bajas βtij y las peticiones más altas αtji que pueden ser aceptadas para los vendedores i ∈ S(t) y compradores j ∈ B(t), el mejor intercambio que t puede hacer es el emparejamiento de valor máximo entre S(t) y B(t) con valor vtij = αtji − βtij para la arista (i, j). Este valor máximo es igual al mínimo del programa lineal dual anterior. 3.2 Comercio eficiente y equilibrio Ahora podemos demostrar que el comercio en equilibrio siempre es eficiente. TEOREMA 3.2. Cada equilibrio resulta en una asignación eficiente de los bienes. Prueba. Considera un equilibrio, con xe = 1 si y solo si el comercio ocurre a lo largo del borde e = (i, j). El comercio es una solución al programa lineal de transbordo utilizado en la Sección 2.2. Que pi denote la ganancia del vendedor o comprador i. Cada operador t actualmente tiene la mejor solución a su propio problema de optimización. Un comerciante t encuentra su intercambio óptimo (dadas las ofertas y demandas de los otros 149 comerciantes) resolviendo un problema de emparejamiento. Que qti para i ∈ B(t)∪S(t) denote la solución dual óptima a este problema de emparejamiento como se describe en el Teorema 3.1. Al configurar el problema de optimización para un trader t anteriormente, usamos pi para denotar la ganancia máxima que puedo obtener sin la oferta del trader t. Tenga en cuenta que este pi es exactamente el mismo pi que usamos aquí, la ganancia del agente i. Esto es claramente cierto para todos los operadores t que no están comerciando con i en el equilibrio. Para ver por qué es cierto para el operador t con el que i está negociando, usamos que el conjunto actual de valores de oferta y demanda es un equilibrio. Si para cualquier agente i la oferta o demanda del trader t fuera la única mejor opción, entonces t podría obtener más beneficios ofreciendo una demanda un poco más alta o una oferta un poco más baja, lo cual sería una contradicción. Mostramos que el intercambio x es óptimo al considerar la solución dual zi = pi + P t qti para todos los agentes i ∈ B ∪ S. Afirmamos que z es una solución dual y satisface la holgura complementaria con el intercambio x. Para ver esto, necesitamos mostrar algunos hechos. Necesitamos que zi > 0 implique que i comercie. Si zi > 0, entonces o bien pi > 0 o qti > 0 para algún trader t. El agente i solo puede obtener ganancias pi > 0 si está involucrado en una transacción. Si qti > 0 para algún t, entonces el trader t debe comerciar con i, ya que su solución es óptima, y por holgura complementaria para la solución dual, qti > 0 implica que t comercia con i. Para un borde (i, j) asociado con un trader t, necesitamos mostrar que la solución dual es factible, es decir, zi + zj ≥ θji − θij. Se recuerda que vtij = θji −pj −(θij +pi), y la restricción dual del problema de optimización de los traders requiere qti + qtj ≥ vtij. Al juntar todo esto, tenemos zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij. Finalmente, necesitamos demostrar que las variables de intercambio x también cumplen la restricción de holgura complementaria: cuando xe > 0 para una arista e = (i, j) entonces la restricción dual correspondiente es activa. Que t sea el comerciante involucrado en la transacción. Por la holgura complementaria del problema de optimización de ts, tenemos qti + qtj = vtij. Para ver que z satisface la holgura complementaria, necesitamos argumentar que para todos los otros comerciantes t = t, tenemos tanto qt i = 0 como qt j = 0. Esto es cierto ya que qt i > 0 implica por la holgura complementaria del problema de optimización de t s que t debe comerciar con i en el óptimo, y t = t está comerciando. A continuación queremos demostrar que siempre existe un equilibrio no cruzado. Llamamos a un equilibrio no cruzado si las ofertas de compra y venta que un trader t hace para un par vendedor-comprador (i, j) nunca se cruzan, es decir, βtij ≤ αtji para todo t, i, j. TEOREMA 3.3. Existe un equilibrio no cruzado que respalda cualquier intercambio socialmente óptimo. Prueba. Considera un intercambio óptimo x y una solución dual z como antes. Para encontrar un equilibrio no cruzado necesitamos dividir la ganancia zi entre i y el comerciante t que negocia con i. Usaremos qti como el beneficio del comerciante asociado con el agente i para cualquier i ∈ S(t) ∪ B(t). Necesitaremos garantizar las siguientes propiedades: El comerciante t comercia con el agente i siempre que qti > 0. Esta es una de las condiciones de holgura complementaria para asegurar que el intercambio actual sea óptimo para el trader t. Para todos los pares vendedor-comprador (i, j) con los que un trader t puede comerciar, tenemos que pi + qti + pj + qtj ≥ θji − θij, (1) lo cual asegurará que qt sea una solución dual factible para el problema de optimización al que se enfrenta el trader t. Necesitamos tener igualdad en (1) cuando el trader t está comerciando entre i y j. Esta es una de las condiciones de holgura complementaria para el trader t, y garantizará que el intercambio de t sea óptimo para el trader. Finalmente, queremos organizar que cada agente i con pi > 0 tenga múltiples ofertas para obtener ganancias pi, y que el intercambio se realice en una de sus mejores ofertas. Para garantizar esto en las ofertas y demandas correspondientes, necesitamos asegurarnos de que siempre que pi > 0 haya múltiples t ∈ adj(i) que cumplan con la ecuación en la restricción anterior (1). Comenzamos estableciendo pi = zi para todo i ∈ S ∪ B y qti = 0 para todo i ∈ S ∪ B y traders t ∈ adj(i). Esto garantiza todos los invariantes excepto la última propiedad sobre múltiples t ∈ adj(t) teniendo igualdad en (1). Modificaremos p y q para aplicar gradualmente la última condición, manteniendo las demás. Considera un vendedor con pi > 0. Por la optimalidad del intercambio y la solución dual z, el vendedor i debe comerciar con algún comerciante t, y ese comerciante tendrá igualdad en (1) para el comprador j con el que se empareja i. Si este es el único operador t que tiene una restricción estricta en (1) que involucra al vendedor i, entonces aumentamos qti y disminuimos pi hasta que pi = 0 o hasta que otro operador t = t logre la igualdad en (1) para algún borde del comprador adyacente a i (posiblemente un comprador diferente j). Este cambio mantiene todas las invariantes y aumenta el conjunto de vendedores que también cumplen con la última restricción. Podemos hacer un cambio similar para un comprador j que tiene pj > 0 y solo tiene un operador t con una restricción ajustada (1) adyacente a j. Después de posiblemente repetir esto para todos los vendedores y compradores, obtenemos ganancias que satisfacen todas las restricciones. Ahora obtenemos los valores de oferta y demanda de equilibrio de la siguiente manera. Para un operador t que tiene igualdad para el par vendedor-comprador (i, j) en (1), ofrecemos αtji = θji − pj y βtij = θij + pi. Para todos los demás comerciantes t y pares de vendedor-comprador (i, j) tenemos el invariante (1), y utilizando esto sabemos que podemos elegir un valor γ en el rango θij +pi+qti ≥ γ ≥ θji − (pj + qtj). Ofrecemos valores de oferta y demanda βtij = αtji = γ. Ni la oferta ni la demanda serán la única mejor oferta para el comprador, por lo tanto, el intercambio x sigue siendo un equilibrio. 3.3 Ganancias del Trader Finalmente, nos enfocamos en el objetivo de comprender, en el caso de los traders generales, cómo se ve afectada la ganancia de un trader por su posición en la red. Primero, mostramos cómo maximizar la ganancia total de un grupo de comerciantes. La ganancia del comerciante t en un equilibrio es P i qti. Para encontrar la ganancia máxima posible para un trader t o un conjunto de traders T, necesitamos hacer lo siguiente: Encontrar ganancias pi ≥ 0 y qti > 0 de manera que zi = pi + P t∈adj(i) qti sea una solución dual óptima, y también cumpla con las restricciones (1) para cualquier vendedor i y comprador j conectados a través de un trader t ∈ T. Ahora, sujeto a todas estas condiciones, maximizamos la suma P t∈T P i∈S(t)∪B(t) qti. Ten en cuenta que esta maximización es una función objetivo secundaria con respecto al objetivo principal de que z sea una solución dual óptima. Luego usamos la prueba del Teorema 3.3 que muestra cómo convertir esto en un equilibrio. TEOREMA 3.4. El valor máximo para P t∈T P i qti anterior es la máxima ganancia que el conjunto T de comerciantes puede obtener. Prueba. Por la demostración del Teorema 3.2, las ganancias del comerciante t pueden ser escritas en esta forma, por lo que el conjunto de comerciantes T no puede obtener más ganancias de las reclamadas en este teorema. Para ver que T realmente puede obtener tantas ganancias, usamos la prueba del Teorema 3.3. Modificamos esa prueba para empezar con los vectores de ganancias p y qt para t ∈ T, y establecemos qt = 0 para todos los traders t ∈ T. Verificamos que esta solución inicial cumple con las tres primeras de las cuatro propiedades requeridas, y luego podemos seguir la demostración para hacer que la cuarta propiedad sea verdadera. Omitimos los detalles de esto en la versión actual. En la Sección 2.3 demostramos que en el caso de los traders de pares, un trader t puede ganar dinero si es esencial para el comercio eficiente. Esto no es 150 1 1 Figura 3: El comerciante principal es esencial para el bienestar social. Sin embargo, el único equilibrio es tener valores de oferta y demanda iguales a 0, y el comerciante no obtiene beneficios. Esto es cierto para el tipo de comerciantes más generales que consideramos aquí, como se muestra en el ejemplo de la Figura 3. Sin embargo, aún obtenemos una caracterización de cuándo un comerciante t puede obtener una ganancia positiva. TEOREMA 3.5. Un comerciante t puede obtener ganancias en un equilibrio si y solo si hay un vendedor o comprador i adyacente a t tal que la conexión del comerciante t con el agente i es esencial para el bienestar social, es decir, si eliminar al agente t de adj(i) disminuye el valor de la asignación óptima. Prueba. Primero mostramos la dirección en la que si un comerciante t puede ganar dinero, debe haber un agente i tal que la conexión de t con i sea esencial para el bienestar social. Sean p, q las ganancias en un equilibrio donde t gana dinero, como se describe en el Teorema 3.2 con P i∈S(t)∪B(t) qti > 0. Así que tenemos un agente i con qti > 0. Sostenemos que la conexión entre el agente i y el comerciante t debe ser esencial, en particular, sostenemos que el bienestar social debe disminuir al menos en qti si eliminamos t de adj(t). Para ver por qué, observe que al disminuir el valor de todas las aristas de la forma (i, j) asociadas con el comerciante t en qti, se mantiene el mismo óptimo de comercio, ya que obtenemos una solución dual de emparejamiento simplemente restableciendo qti a cero. Para ver lo contrario, suponga que eliminar t de adj(t) disminuye el bienestar social en algún valor γ. Supongamos que i es un vendedor (el caso de los compradores es simétrico), y disminuye en γ el valor social de cada arista (i, j) para cualquier comprador j tal que t sea el único agente que conecta a i y j. Por supuesto, el intercambio sigue siendo óptimo y dejamos que z sea la solución dual para esta correspondencia. Ahora utilizamos el mismo proceso que en la demostración del Teorema 3.3 para crear un equilibrio no cruzado comenzando con pi = zi para todo i ∈ S ∪ B, y qti = γ, y todos los demás valores de q igual a 0. Esto crea un equilibrio con ofertas que no se cruzan, donde t obtiene al menos γ de beneficio (debido al intercambio con el vendedor i). Finalmente, si permitimos el cruce de equilibrios, entonces podemos encontrar la ganancia mínima posible simplemente encontrando una solución dual que minimice las variables duales asociadas con los agentes monopolizados por algún comerciante. TEOREMA 3.6. Para cualquier trader t o subconjunto de traders T, la ganancia total mínima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. 4. REFERENCIAS [1] M. Babaioff, N. Nisan, E. Pavlov. Mecanismos para un mercado distribuido espacialmente. Conferencia ACM EC, 2005. [2] C. Barrett, E. Mutambatsere. Mercados agrícolas en países en desarrollo. El Nuevo Diccionario de Economía de Palgrave, 2da edición, próximo a publicarse. [3] Kenneth Burdett y Kenneth Judd. Dispersión del precio de equilibrio. Econometrica, 51/4, julio de 1983, 955-969. [4] L. Chu, Z.-J. I'm sorry, but \"Shen\" is not a sentence. Can you please provide a sentence for me to translate into Spanish? Mecanismo de subasta doble de competencia de agentes. Ciencia de la Gestión, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor. Subastas de varios artículos. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Econ. Política 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri. Un juego de formación de redes para economías de intercambio bipartitas. Simposio ACM-SIAM sobre Algoritmos Discretos (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald. Precios dinámicos por agentes de software. Redes de Computadoras, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri. Propiedades económicas de las redes sociales. NIPS 2004. [9] R. Kranton, D. Minehart. \n\nNIPS 2004. [9] R. Kranton, D. Minehart. Una teoría de redes de comprador-vendedor. American Economic Review 91(3), junio de 2001. [10] H. Leonard. Elicitación de preferencias honestas para la asignación de individuos a posiciones. J. Pol. Econ, 1983. [11] M. E. J. Newman. \n\nEcon, 1983. [11] M. E. J. Newman. La estructura y función de redes complejas. SIAM Review, 45:167-256, 2003. [12] M. OHara. \n\nRevista SIAM, 45:167-256, 2003. [12] M. OHara. Teoría de la Microestructura del Mercado. Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.\nEditorial Blackwell, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, El juego de asignación I: El núcleo. Internacional. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Teoría de Juegos 1/2 111-130, 1972. [14] Jean Tirole. La Teoría de la Organización Industrial. El MIT Press, Cambridge, MA, 1988. 151",
    "original_sentences": [
        "Trading Networks with Price-Setting Agents Larry Blume Dept.",
        "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
        "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
        "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
        "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
        "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
        "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
        "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
        "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
        "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
        "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
        "One example of this setting is the trade of agricultural goods in developing countries.",
        "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
        "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
        "Financial markets provide a different example of a setting with these general characteristics.",
        "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
        "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
        "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
        "The price at which the asset trades may differ across these trading venues.",
        "In fact, there is no price as different traders pay or receive different prices.",
        "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
        "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
        "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
        "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
        "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
        "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
        "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
        "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
        "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
        "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
        "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
        "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
        "The Basic Model: Indistinguishable Goods.",
        "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
        "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
        "There is an undirected graph G that indicates who is able to trade with whom.",
        "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
        "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
        "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
        "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
        "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
        "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
        "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
        "No agent wants more than one copy of the good, so additional copies are valued at 0.",
        "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
        "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
        "The particular way in which goods flow is determined by the following game.",
        "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
        "Sellers and buyers then choose from among the offers presented to them by traders.",
        "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
        "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
        "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
        "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
        "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
        "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
        "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
        "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
        "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
        "This defines the basic elements of the game.",
        "The equilibrium concept we use is subgame perfect Nash equilibrium.",
        "Some Examples.",
        "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
        "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
        "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
        "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
        "Suppose the buyer valuations from top to bottom are w > x > y > z.",
        "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
        "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
        "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
        "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
        "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
        "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
        "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
        "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
        "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
        "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
        "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
        "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
        "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
        "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
        "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
        "Extending the Model to Distinguishable Goods.",
        "We extend the basic model to a setting with distinguishable goods, as follows.",
        "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
        "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
        "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
        "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
        "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
        "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
        "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
        "Our Results.",
        "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
        "To make these precise, we introduce the following notation.",
        "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
        "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
        "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
        "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
        "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
        "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
        "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
        "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
        "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
        "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
        "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
        "We also obtain results for the sum of all trader profits.",
        "Related Work.",
        "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
        "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
        "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
        "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
        "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
        "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
        "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
        "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
        "The literature on imperfect competition is perhaps the oldest of these.",
        "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
        "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
        "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
        "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
        "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
        "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
        "In the general equilibrium literature there have been various attempts to introduce price determination.",
        "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
        "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
        "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
        "But again there are no price-setting agents here.",
        "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
        "Work in information economics has identified similar phenomena (see e.g. [7]).",
        "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
        "There have been several approaches to studying how network structure determines prices.",
        "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
        "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
        "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
        "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
        "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
        "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
        "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
        "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
        "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
        "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
        "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
        "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
        "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
        "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
        "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
        "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
        "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
        "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
        "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
        "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
        "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
        "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
        "We then characterize the minimum and maximum profits traders can make.",
        "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
        "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
        "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
        "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
        "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
        "Given the bid and ask price, the agents react to these prices, as described earlier.",
        "Instead of focusing on prices, we will focus on profits.",
        "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
        "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
        "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
        "All agents not involved in trade make 0 profit.",
        "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
        "At equilibrium the profits must satisfy the above inequalities.",
        "Proof.",
        "Clearly all profits are nonnegative, as trading is optional for all agents.",
        "To see why the last set of inequalities holds, consider two cases separately.",
        "For a trader t who conducted trade, we get equality by definition.",
        "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
        "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
        "Now we are ready to prove our first theorem: THEOREM 2.2.",
        "In any equilibrium the trade is efficient.",
        "Proof.",
        "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
        "Consider the linear program describing the socially optimal trade.",
        "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
        "Now we claim that the two linear programs are duals of each other.",
        "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
        "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
        "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
        "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
        "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
        "Next we argue that equilibria always exist.",
        "THEOREM 2.3.",
        "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
        "Proof.",
        "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
        "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
        "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
        "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
        "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
        "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
        "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
        "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
        "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
        "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
        "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
        "This shows that sellers and buyers dont have an incentive to deviate.",
        "We need to show that traders have no incentive to deviate either.",
        "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
        "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
        "In either case such a deviation cannot be successful.",
        "Finally, consider a trader t = (i, j) who doesnt trade.",
        "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
        "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
        "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
        "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
        "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
        "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
        "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
        "THEOREM 2.4.",
        "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
        "Proof.",
        "Consider an optimal solution to the dual linear program.",
        "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
        "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
        "This set E contain all the edges where trade occurs, and some more edges.",
        "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
        "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
        "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
        "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
        "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
        "Now we can set asks and bids to form a cross-free equilibrium.",
        "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
        "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
        "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
        "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
        "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
        "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
        "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
        "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
        "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
        "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
        "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
        "This shows that trade is socially optimal.",
        "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
        "THEOREM 2.5.",
        "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
        "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
        "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
        "Figure 2 depicts a simple example of this phenomenon.",
        "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
        "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
        "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
        "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
        "This maximum profit can be obtained by a non-crossing equilibrium.",
        "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
        "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
        "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
        "THEOREM 2.7.",
        "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
        "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
        "If we allow crossing equilibria, then we can also find the minimum possible profit.",
        "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
        "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
        "THEOREM 2.8.",
        "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
        "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
        "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
        "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
        "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
        "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
        "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
        "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
        "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
        "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
        "Our results hold in either model.",
        "For notational simplicity we will use the menu option here.",
        "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
        "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
        "Now consider a seller-buyer pair (i, j) that trader t can connect.",
        "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
        "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
        "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
        "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
        "THEOREM 3.1.",
        "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
        "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
        "THEOREM 3.2.",
        "Every equilibrium results in an efficient allocation of the goods.",
        "Proof.",
        "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
        "Trade is a solution to the transshipment linear program used in Section 2.2.",
        "Let pi denote the profit of seller or buyer i.",
        "Each trader t currently has the best solution to his own optimization problem.",
        "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
        "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
        "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
        "This is clearly true for all traders t that are not trading with i in the equilibrium.",
        "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
        "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
        "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
        "To see this we need to show a few facts.",
        "We need that zi > 0 implies that i trades.",
        "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
        "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
        "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
        "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
        "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
        "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
        "Let t be the trader involved in the trade.",
        "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
        "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
        "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
        "Next we want to show that a non-crossing equilibrium always exists.",
        "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
        "There exists a non-crossing equilibrium supporting any socially optimal trade.",
        "Proof.",
        "Consider an optimal trade x and a dual solution z as before.",
        "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
        "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
        "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
        "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
        "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
        "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
        "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
        "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
        "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
        "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
        "Consider a seller with pi > 0.",
        "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
        "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
        "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
        "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
        "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
        "Now we get equilibrium bid and ask values as follows.",
        "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
        "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
        "We offer bid and ask values βtij = αtji = γ.",
        "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
        "First, we show how to maximize the total profit of a set of traders.",
        "The profit of trader t in an equilibrium is P i qti.",
        "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
        "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
        "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
        "THEOREM 3.4.",
        "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
        "Proof.",
        "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
        "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
        "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
        "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
        "We omit the details of this in the present version.",
        "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
        "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
        "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
        "However, we still get a characterization for when a trader t can make a positive profit.",
        "THEOREM 3.5.",
        "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
        "Proof.",
        "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
        "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
        "So we have some agent i with qti > 0.",
        "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
        "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
        "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
        "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
        "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
        "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
        "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
        "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
        "THEOREM 3.6.",
        "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
        "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
        "Mechanisms for a Spatially Distributed Market.",
        "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
        "Agricultural markets in developing countries.",
        "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
        "Equilibrium Price Disperison.",
        "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
        "Shen.",
        "Agent Competition Double Auction Mechanism.",
        "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
        "Multi-item auctions.",
        "J.",
        "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
        "A Network Formation Game for Bipartite Exchange Economies.",
        "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
        "Dynamic Pricing by Software Agents.",
        "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
        "Economic Properties of Social Networks.",
        "NIPS 2004. [9] R. Kranton, D. Minehart.",
        "A Theory of Buyer-Seller Networks.",
        "American Economic Review 91(3), June 2001. [10] H. Leonard.",
        "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
        "J. Pol.",
        "Econ, 1983. [11] M. E. J. Newman.",
        "The structure and function of complex networks.",
        "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
        "Market Microstructure Theory.",
        "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
        "Intl.",
        "J.",
        "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
        "The Theory of Industrial Organization.",
        "The MIT Press, Cambridge, MA, 1988. 151"
    ],
    "translated_text_sentences": [
        "Redes de intercambio con agentes que fijan precios Larry Blume Dept.",
        "En una amplia gama de mercados, los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, quienes determinan los precios mediante consideraciones estratégicas.",
        "Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el mercado.",
        "Modelamos este fenómeno utilizando un juego en el que compradores, vendedores e intermediarios participan en transacciones en un gráfico que representa el acceso que cada comprador y vendedor tiene a los intermediarios.",
        "En este modelo, los comerciantes establecen precios estratégicamente, y luego los compradores y vendedores reaccionan a los precios que se les ofrecen.",
        "Mostramos que el juego resultante siempre tiene un equilibrio de Nash perfecto en subjuegos, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes.",
        "Extendemos estos resultados a un tipo más general de mercado de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores.",
        "Finalmente, consideramos cómo los beneficios obtenidos por los comerciantes dependen del grafo subyacente: en resumen, un comerciante puede obtener un beneficio positivo si y solo si tiene una conexión esencial en la estructura de la red, proporcionando así una base teórica de grafos para cuantificar la cantidad de competencia entre los comerciantes.",
        "Nuestro trabajo difiere de los estudios recientes sobre cómo el precio se ve afectado por la estructura de la red a través de nuestro modelado del establecimiento de precios como una actividad estratégica realizada por un subconjunto de agentes en el sistema, en lugar de estudiar precios establecidos a través de un equilibrio competitivo o por un mecanismo veraz.",
        "Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1.",
        "INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio.",
        "Un ejemplo de esta configuración es el comercio de productos agrícolas en países en desarrollo.",
        "Dada la falta de redes de transporte adecuadas y el limitado acceso de los agricultores pobres al capital, muchos agricultores no tienen otra alternativa que comerciar con intermediarios en mercados locales ineficientes.",
        "Un país en desarrollo puede tener muchos mercados parcialmente superpuestos que coexisten junto a mercados modernos y eficientes.",
        "Los mercados financieros proporcionan un ejemplo diferente de un entorno con estas características generales.",
        "En estos mercados, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de mercado y sistemas de negociación electrónica.",
        "Para muchos activos no hay un único mercado; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en mercados de otros países.",
        "Algunos compradores y vendedores tienen acceso a muchos o a todos estos lugares de negociación; otros solo tienen acceso a uno o a unos pocos de ellos.",
        "El precio al que se negocia el activo puede variar en estos lugares de negociación.",
        "De hecho, no hay un precio fijo ya que diferentes comerciantes pagan o reciben precios diferentes.",
        "En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el precio de compra.",
        "Uno de los ejemplos más llamativos de este fenómeno ocurre en el mercado de divisas, donde existe un mercado interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto.",
        "Los spreads, definidos como la diferencia entre los precios de oferta y demanda, difieren significativamente en estos mercados, a pesar de que el mismo activo se está negociando en ambos mercados.",
        "En este artículo, desarrollamos un marco en el que tales fenómenos surgen de un modelo de comercio basado en teoría de juegos, con compradores, vendedores e intermediarios interactuando en una red.",
        "Los bordes de la red conectan a los comerciantes con los compradores y vendedores, y por lo tanto representan el acceso que tienen los diferentes participantes del mercado entre sí.",
        "Los comerciantes actúan como intermediarios en un juego de comercio de dos etapas: eligen estratégicamente los precios de oferta y demanda para ofrecer a los vendedores y compradores a los que están conectados; luego, los vendedores y compradores reaccionan a los precios que enfrentan.",
        "Por lo tanto, la red codifica el poder relativo en las posiciones estructurales de los participantes del mercado, incluyendo los niveles implícitos de competencia entre los traders.",
        "Mostramos que este juego siempre tiene un equilibrio de Nash perfecto en subjuegos de 143, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes.",
        "También analizamos cómo los beneficios de los operadores dependen de la estructura de la red, caracterizando esencialmente en términos de teoría de grafos cómo se determina el pago de un operador por la cantidad de competencia que experimenta con otros operadores.",
        "Nuestro trabajo aquí está conectado a varias líneas de investigación en economía, finanzas y teoría de juegos algorítmica, y discutimos estas conexiones con más detalle más adelante en la introducción.",
        "A un nivel general, nuestro enfoque puede ser visto como la síntesis de dos importantes corrientes de trabajo: una que trata la interacción comprador-vendedor utilizando estructuras de red, pero sin intentar modelar los procesos mediante los cuales los precios son realmente formados [1, 4, 5, 6, 8, 9, 10, 13]; y otra corriente en la literatura sobre microestructura de mercado que incorpora intermediarios en la fijación de precios, pero sin restricciones de tipo red sobre quién puede comerciar con quién [12].",
        "Al desarrollar un modelo de red que incluye explícitamente a los comerciantes como agentes que establecen precios, en un sistema junto con compradores y vendedores, podemos capturar la formación de precios en un entorno de red como un proceso estratégico llevado a cabo por intermediarios, en lugar de como resultado de un mecanismo centralizado o exógeno.",
        "El Modelo Básico: Bienes Indistinguibles.",
        "Nuestro objetivo al formular el modelo es expresar el proceso de fijación de precios en mercados como los discutidos anteriormente, donde los participantes no tienen todos acceso uniforme entre sí.",
        "Se nos da un conjunto B de compradores, un conjunto S de vendedores y un conjunto T de traders.",
        "Hay un grafo no dirigido G que indica quién puede comerciar con quién.",
        "Todos los bordes tienen un extremo en B ∪ S y el otro en T; es decir, cada borde tiene la forma (i, t) para i ∈ S y t ∈ T, o (j, t) para j ∈ B y t ∈ T. Esto refleja las restricciones de que todas las transacciones entre compradores y vendedores pasan por los intermediarios comerciales.",
        "En la versión más básica del modelo, consideramos bienes idénticos, de los cuales cada vendedor inicialmente posee una copia.",
        "Los compradores y vendedores tienen un valor para una copia del bien, y asumimos que estos valores son de conocimiento común.",
        "Posteriormente generalizaremos esto a un escenario en el que los bienes son distinguibles, los compradores pueden valorar los diferentes bienes de manera diferente y, potencialmente, los vendedores también pueden valorar las transacciones con diferentes compradores de manera diferente.",
        "Tener diferentes valoraciones de los compradores captura escenarios como las compras de viviendas; agregar diferentes valoraciones de los vendedores también captura mercados de coincidencia, por ejemplo, vendedores como solicitantes de empleo y compradores como empleadores, ambos preocupados por quién termina con qué bien (y con los comerciantes actuando como servicios que facilitan la búsqueda de empleo).",
        "Por lo tanto, para comenzar con el modelo básico, hay un solo tipo de bien; el bien viene en unidades indivisibles; y cada vendedor inicialmente posee una unidad del bien.",
        "Todos los tres tipos de agentes valoran el dinero a la misma tasa; y cada i ∈ B ∪ S valora adicionalmente una copia del bien en θi unidades de dinero.",
        "Ningún agente quiere más de una copia del bien, por lo que las copias adicionales se valoran en 0.",
        "Cada agente tiene una dotación inicial de dinero que es mayor que cualquier valoración individual θi; el efecto de esto es garantizar que cualquier comprador que termine sin una copia del bien ha sido excluido del mercado debido a su valoración y posición en la red, no a la falta de fondos.",
        "Nos imaginamos que cada bien que se vende fluye a lo largo de una secuencia de dos etapas: desde un vendedor a un comerciante, y luego del comerciante a un comprador.",
        "La forma particular en la que fluyen los bienes está determinada por el siguiente juego.",
        "Primero, cada comerciante ofrece un precio de oferta a cada vendedor al que está conectado, y un precio de demanda a cada comprador al que está conectado.",
        "Los vendedores y compradores luego eligen entre las ofertas presentadas por los comerciantes.",
        "Si varios comerciantes proponen el mismo precio a un vendedor o comprador, entonces no hay una mejor respuesta estricta para el vendedor o comprador.",
        "En este caso se debe hacer una selección, y, como es habitual (ver por ejemplo [10]), nosotros (los modeladores) elegimos entre las mejores ofertas.",
        "Finalmente, cada comerciante compra una copia del bien de cada vendedor que acepta su oferta, y vende una copia del bien a cada comprador que acepta su oferta.",
        "Si un comerciante en particular, t, descubre que más compradores que vendedores aceptan sus ofertas, entonces se ha comprometido a proporcionar más copias del bien de las que ha recibido, y diremos que esto resulta en una gran penalización para el comerciante por incumplimiento; el efecto de esto es que en equilibrio, ningún comerciante elegirá precios de oferta y demanda que resulten en un incumplimiento.",
        "Más precisamente, una estrategia para cada operador t es una especificación de un precio de oferta βti para cada vendedor i al que t está conectado, y un precio de demanda αtj para cada comprador j al que t está conectado. (También podemos manejar un modelo en el que un operador puede optar por no hacer una oferta a ciertos de sus vendedores o compradores adyacentes).",
        "Cada vendedor o comprador elige como máximo una arista incidente, indicando el comerciante con quien realizarán la transacción, al precio indicado. (La elección de una sola arista refleja el hecho de que (a) los vendedores inicialmente solo tienen una copia del bien, y (b) los compradores solo desean una copia del bien).",
        "Las ganancias son las siguientes: Para cada vendedor i, la ganancia de seleccionar al comerciante t es βti, mientras que la ganancia de no seleccionar a ningún comerciante es θi. (En el primer caso, el vendedor recibe βti unidades de dinero, mientras que en el segundo caso conserva su copia del bien, al que valora en θi).",
        "Para cada comprador j, la ganancia de seleccionar al comerciante t es θj - αtj, mientras que la ganancia de no seleccionar a ningún comerciante es 0. (En el primer caso, el comprador recibe el bien pero renuncia a αtj unidades de dinero).",
        "Para cada operador t, con ofertas aceptadas de vendedores i1, . . . , is y compradores j1, . . . , jb, la ganancia es P r αtjr − P r βtir, menos una penalización π si b > s. La penalización se elige lo suficientemente grande para que un operador nunca la sufra en equilibrio, por lo que generalmente no nos preocuparemos por la penalización.",
        "Esto define los elementos básicos del juego.",
        "El concepto de equilibrio que utilizamos es el equilibrio de Nash perfecto en subjuegos.",
        "Algunos ejemplos.",
        "Para ayudar a pensar en el modelo, ahora describimos tres ejemplos ilustrativos, representados en la Figura 1.",
        "Para evitar que las figuras se vuelvan demasiado desordenadas, adoptamos las siguientes convenciones: los vendedores se representan como círculos en la columna más a la izquierda y se les asigna el nombre i1, i2, ... de arriba abajo; los comerciantes se representan como cuadrados en la columna del medio y se les asigna el nombre t1, t2, ... de arriba abajo; y los compradores se representan como círculos en la columna más a la derecha y se les asigna el nombre j1, j2, ... de arriba abajo.",
        "Todos los vendedores en los ejemplos tendrán valoraciones para el bien iguales a 0; la valoración de cada comprador se dibuja dentro de su círculo; y el precio de oferta o demanda en cada borde se dibuja encima del borde.",
        "En la Figura 1(a), mostramos cómo una subasta estándar de segundo precio surge naturalmente de nuestro modelo.",
        "Supongamos que las valoraciones de los compradores de mayor a menor son w > x > y > z.",
        "Los precios de oferta y demanda mostrados son consistentes con un equilibrio en el que i1 y j1 aceptan las ofertas del trader t1, y ningún otro comprador acepta la oferta de su trader adyacente: así, el trader t1 recibe el bien con un precio de oferta de x, y gana w − x al vender el bien al comprador j1 por w. De esta manera, podemos considerar esta instancia particular como una subasta para un bien único en la que los traders actúan como representantes de sus compradores adyacentes.",
        "El comprador con la valoración más alta para el bien termina adquiriéndolo, y el excedente se divide entre el vendedor y el comerciante asociado.",
        "Se debe tener en cuenta que se puede construir una subasta de k unidades con > k compradores con la misma facilidad, creando un grafo bipartito completo con k vendedores y comerciantes, y luego conectando a cada comerciante con un único comprador distinto.",
        "En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales.",
        "Específicamente, el vendedor i2 y el comprador j2 ocupan posiciones poderosas, ya que los dos comerciantes compiten por su negocio; por otro lado, los otros vendedores y compradores se encuentran en posiciones débiles, ya que cada uno tiene solo una opción.",
        "Y de hecho, en cada equilibrio, hay un número real x ∈ [0, 1] tal que ambos comerciantes ofrecen precios de oferta y demanda de x a i2 y j2 respectivamente, mientras ofrecen ofertas de 0 y demandas de 1 a los otros vendedores y compradores.",
        "Por lo tanto, este ejemplo ilustra algunos ingredientes cruciales que identificaremos a un nivel más general en breve.",
        "Específicamente, i2 y j2 experimentan los beneficios de la competencia perfecta, ya que los dos comerciantes reducen los márgenes de oferta y demanda a 0 al competir por su negocio.",
        "Por otro lado, los otros vendedores y compradores experimentan las desventajas del monopolio: no reciben ninguna ganancia ya que solo tienen una opción para comerciar, y el comerciante correspondiente se queda con todas las ganancias.",
        "Observa además cómo este comportamiento natural surge del hecho de que los comerciantes pueden ofrecer diferentes precios a diferentes agentes, capturando el hecho de que no hay un precio fijo en los tipos de mercados que motivan el modelo, sino diferentes precios que reflejan el poder relativo de los diferentes agentes involucrados.",
        "El ejemplo anterior muestra quizás la forma más natural en la que la ganancia de un comerciante en una transacción particular puede caer a 0: cuando hay otro comerciante que puede replicar su función de manera precisa. (En ese ejemplo, dos comerciantes tenían la capacidad de mover una copia del bien de i2 a j2).",
        "Pero como mostrarán nuestros resultados posteriores, los comerciantes no obtienen ganancias en general debido a razones globales y teóricas de grafos.",
        "El ejemplo en la Figura 1(c) da una indicación inicial de esto: se puede demostrar que para cada equilibrio, existe un y ∈ [0, 1] tal que cada oferta y cada precio de demanda es igual a y.",
        "En otras palabras, todos los comerciantes no obtienen beneficios, ya sea que pase por ellos una copia del bien o no, y sin embargo, ningún par de comerciantes comparte rutas de vendedor-comprador en común.",
        "Los márgenes de precios se han reducido a cero debido a una restricción global impuesta por el largo ciclo a través de todos los agentes; este es un ejemplo de competencia perfecta implícita determinada por la topología de la red.",
        "Extendiendo el modelo para bienes distinguibles.",
        "Extendemos el modelo básico a un escenario con bienes distinguibles, de la siguiente manera.",
        "En lugar de que cada agente i ∈ B ∪ S tenga una única valoración numérica θi, indexamos las valoraciones por pares de compradores y vendedores: si el comprador j obtiene el bien inicialmente poseído por el vendedor i, obtiene una utilidad de θji, y si el vendedor i vende su bien al comprador j, experimenta una pérdida de utilidad de θij.",
        "Esto generaliza el caso de bienes indistinguibles, ya que siempre podemos hacer que estas valoraciones por pares dependan solo de uno de los índices.",
        "Una estrategia para un trader ahora consiste en ofrecer una oferta a cada vendedor que especifique tanto un precio como un comprador, y ofrecer una demanda a cada comprador que especifique tanto un precio como un vendedor. (También podemos manejar un modelo en el que un trader ofrece ofertas (respectivamente, demandas) en forma de vectores, especificando esencialmente un menú con un precio adjunto a cada comprador (resp. vendedor).)",
        "Cada comprador y vendedor selecciona una oferta de un comerciante adyacente, y los pagos a todos los agentes se determinan como antes.",
        "Este marco general captura los mercados de emparejamiento [10, 13]: por ejemplo, un mercado laboral que es mediado por agentes o servicios de búsqueda de empleo (como en la contratación de ejecutivos corporativos, o figuras del deporte o del entretenimiento).",
        "Aquí los vendedores son solicitantes de empleo, los compradores son empleadores y los comerciantes son los agentes que median en el mercado laboral.",
        "Por supuesto, si se especifican valoraciones por pares en los compradores pero solo valoraciones individuales para los vendedores, modelamos un escenario donde los compradores pueden distinguir entre los bienes, pero a los vendedores no les importa a quién venden, esto captura (aproximadamente) escenarios como los mercados de vivienda.",
        "Nuestros resultados.",
        "Nuestros resultados identificarán formas generales de algunos de los principios mencionados en los ejemplos discutidos anteriormente, incluyendo la pregunta de qué compradores terminan con el bien; la pregunta de cómo los pagos son realizados de manera diferente por vendedores, comerciantes y compradores; y la pregunta de qué propiedades estructurales de la red determinan si los comerciantes obtendrán beneficios positivos.",
        "Para hacer esto preciso, introducimos la siguiente notación.",
        "Cualquier resultado del juego determina una asignación final de bienes a algunos de los agentes; esto puede ser especificado por una colección M de triples (es decir, te, je), donde ie ∈ S, te ∈ T y je ∈ B; además, cada vendedor y cada comprador aparece en a lo sumo un triple.",
        "El significado es que para cada e ∈ M, el bien inicialmente poseído por ie se transfiere a je a través de te. (Los vendedores que no aparecen en ningún trío conservan su copia del bien).",
        "Decimos que el valor de la asignación es igual a P e∈M θjeie − θieje.",
        "Que θ∗ denote el valor máximo de cualquier asignación M que sea factible dada la red.",
        "Mostramos que cada instancia de nuestro juego tiene un equilibrio, y que en cada uno de estos equilibrios, la asignación tiene un valor de θ∗ 145, en otras palabras, logra el mejor valor posible.",
        "Por lo tanto, los equilibrios en este modelo son siempre eficientes, ya que el mercado permite que el conjunto correcto de personas obtenga el bien, sujeto a las restricciones de la red.",
        "Establecemos la existencia y eficiencia de los equilibrios mediante la construcción de un programa lineal para capturar el flujo de bienes a través de la red; el dual de este programa lineal contiene suficiente información para extraer los precios de equilibrio.",
        "Según la definición del juego, el valor de la asignación de equilibrio se divide en forma de pagos a los agentes, y resulta interesante preguntarse cómo se distribuye este valor, en particular cuánta ganancia puede obtener un trader según su posición en la red.",
        "Observamos que, aunque todos los equilibrios tienen el mismo valor, la ganancia de un trader dado puede variar entre diferentes equilibrios.",
        "Sin embargo, somos capaces de caracterizar las cantidades máximas y mínimas que un operador dado puede obtener, donde estos máximos y mínimos se toman sobre todos los equilibrios, y proporcionamos un algoritmo eficiente para calcular esto.",
        "En particular, nuestros resultados aquí implican una caracterización combinatoria clara de cuándo un trader dado t puede lograr un beneficio distinto de cero: esto ocurre si y solo si hay algún borde e incidente en t que es esencial, en el sentido de que eliminar e reduce el valor de la asignación óptima θ∗.",
        "También obtenemos resultados para la suma de todas las ganancias de los operadores.",
        "Trabajo relacionado.",
        "El enfoque estándar de referencia para analizar la interacción entre compradores y vendedores es el modelo walrasiano en el que compradores y vendedores anónimos intercambian un bien a un único precio de equilibrio de mercado.",
        "Esta forma reducida de comercio, basada en la idealización de un precio de mercado, es un modelo poderoso que ha dado lugar a muchas ideas.",
        "Pero no es un buen modelo para examinar de dónde vienen los precios o exactamente cómo compradores y vendedores comercian entre sí.",
        "La dificultad es que en el modelo walrasiano no hay un agente que fije el precio, y los agentes en realidad no comercian entre sí.",
        "De hecho, no hay un mercado, en el sentido cotidiano de esa palabra, en el modelo walrasiano.",
        "Es decir, no hay un lugar físico o virtual donde los compradores y vendedores interactúen para comerciar y establecer precios.",
        "Por lo tanto, en este modelo simple, todos los compradores y vendedores son uniformes y comercian al mismo precio, y tampoco hay un papel para intermediarios.",
        "Hay varias literaturas en economía y finanzas que examinan cómo se fijan los precios en lugar de simplemente determinar los precios de equilibrio.",
        "La literatura sobre competencia imperfecta es quizás la más antigua de todas.",
        "Aquí un monopolista, o un grupo de oligopolistas, eligen los precios con el fin de maximizar sus ganancias (ver [14] para el tratamiento estándar de estos mercados en los libros de texto).",
        "Un monopolista utiliza su conocimiento de la demanda del mercado para elegir un precio, o una colección de precios si discrimina.",
        "Los oligopolistas juegan un juego en el que sus ganancias dependen de la demanda del mercado y las acciones de sus competidores.",
        "En esta literatura hay agentes que fijan precios, pero se mantiene la ficción de un solo mercado.",
        "En la literatura de búsqueda de equilibrio, las empresas establecen precios y los consumidores los buscan (ver [3]).",
        "Los consumidores terminan pagando precios diferentes, pero todos los consumidores tienen acceso a todas las empresas y no hay intermediarios.",
        "En la literatura de equilibrio general ha habido varios intentos de introducir la determinación de precios.",
        "Una técnica de prueba estándar para la existencia de un equilibrio competitivo implica un mecanismo de ajuste de precios en el que los precios responden a la demanda excesiva.",
        "El subastador walrasiano suele ser presentado como un dispositivo para explicar cómo funciona este proceso, pero en realidad es fundamentalmente una metáfora de un algoritmo iterativo de actualización de precios, no de los detalles internos de un mercado real.",
        "Se han introducido procesos más sofisticados para estudiar la estabilidad de los precios de equilibrio o la información necesaria para calcularlos.",
        "Pero de nuevo no hay agentes que fijen los precios aquí.",
        "En la literatura financiera, el trabajo sobre microestructura de mercado sí tiene agentes que fijan precios (especialistas), algunas partes de él determinan precios de oferta y demanda separados, y diferentes agentes reciben precios distintos por el mismo activo (ver [12] para un tratamiento de la teoría de microestructura).",
        "El trabajo en economía de la información ha identificado fenómenos similares (ver por ejemplo [7]).",
        "Pero hay poca investigación en estas literaturas que examine el efecto de las restricciones sobre quién puede comerciar con quién.",
        "Ha habido varios enfoques para estudiar cómo la estructura de la red determina los precios.",
        "Estos han planteado la determinación de precios a través de definiciones basadas en el equilibrio competitivo o el núcleo, o mediante el uso de mecanismos veraces.",
        "Al revisar brevemente este trabajo, notaremos el contraste con nuestro enfoque, ya que modelamos los precios como resultado del comportamiento estratégico de los agentes en el sistema.",
        "En un trabajo reciente, Kakade et al. [8] han estudiado la distribución de precios en equilibrio competitivo en un grafo bipartito de compradores y vendedores, generado utilizando un modelo probabilístico capaz de producir distribuciones de grados con colas pesadas [11].",
        "Even-Dar et al. [6] se basan en esto para considerar los aspectos estratégicos de la formación de redes cuando los precios surgen del equilibrio competitivo.",
        "Leonard [10], Babaioff et al. [1], y Chu y Shen [4] consideran un enfoque basado en el diseño de mecanismos: los compradores y vendedores residen en nodos diferentes en un grafo, y incurren en un costo de transporte dado para comerciar entre sí.",
        "Leonard estudia los precios de VCG en este contexto; Babaioff et al. y Chu y Shen además proporcionan un mecanismo equilibrado en presupuesto.",
        "Dado que la preocupación aquí radica en mecanismos veraces que operan sobre valoraciones privadas, existe un compromiso inherente entre la eficiencia de la asignación y la condición de equilibrio presupuestario.",
        "Por el contrario, nuestro modelo tiene valoraciones y precios conocidos que surgen del comportamiento estratégico de los operadores.",
        "Por lo tanto, las suposiciones detrás de nuestro modelo no son directamente comparables a las que subyacen en el enfoque del diseño de mecanismos: aunque asumimos valoraciones conocidas, no requerimos una autoridad centralizada para imponer un mecanismo.",
        "Más bien, la fijación de precios es parte del resultado estratégico, como en los mercados reales que motivan nuestro trabajo, y nuestros equilibrios son simultáneamente equilibrados en términos presupuestarios y eficientes, algo que no es posible en los marcos de diseño de mecanismos que se han utilizado.",
        "Demange, Gale y Sotomayor [5], y Kranton y Minehart [9], analizan los precios a los que se produce el comercio en una red, trabajando dentro del marco del diseño de mecanismos.",
        "Kranton y Minehart utilizan un grafo bipartito con enlaces directos entre compradores y vendedores, y luego emplean un mecanismo de subasta ascendente, en lugar de intermediarios estratégicos, para determinar los precios.",
        "Su subasta tiene propiedades de equilibrio deseables, pero como señalan Kranton y Minehart, es una abstracción de cómo se asignan los bienes y se determinan los precios que es similar en espíritu a la abstracción del subastador walrasiano.",
        "De hecho, podemos mostrar cómo el modelo básico de Kranton y Minehart puede ser codificado como una instancia de nuestro juego, con los comerciantes produciendo precios en equilibrio que coinciden con los precios producidos por su mecanismo de subasta. Finalmente, los resultados clásicos de Shapley y Shubik [13] sobre el juego de asignación pueden ser vistos como el estudio del resultado del comercio en un grafo bipartito en términos del núcleo.",
        "Estudian el dual de un programa lineal basado en el problema de emparejamiento, similar a lo que usamos para una versión reducida de nuestro modelo en la siguiente sección, pero su enfoque es diferente ya que no consideran agentes que buscan establecer precios. 2.",
        "MERCADOS CON OPERADORES DE PAREJAS Para comprender las ideas detrás del análisis del modelo general, es muy útil considerar primero un caso especial con un re1 Kranton y Minehart, sin embargo, también pueden analizar un entorno más general en el que los valores de los compradores son privados y, por lo tanto, compradores y vendedores juegan un juego de información incompleta.",
        "Solo trabajamos con información completa. 146 forma restringida de comerciantes a los que nos referimos como operadores de pares.",
        "En este caso, cada comerciante está conectado a solo un comprador y un vendedor. (Por lo tanto, sirve esencialmente como una ruta comercial entre los dos).",
        "Las técnicas que desarrollamos para manejar este caso formarán una base útil para razonar sobre el caso de los comerciantes que pueden estar conectados arbitrariamente a los vendedores y compradores.",
        "Relacionaremos las ganancias en un equilibrio de Nash perfecto en subjuegos con las soluciones óptimas de un cierto programa lineal, utilizaremos esta relación para demostrar que todos los equilibrios resultan en una asignación eficiente de los bienes, y mostraremos que siempre existe un equilibrio puro.",
        "Primero, consideramos el modelo más simple donde los vendedores tienen artículos indistinguibles, y cada comprador está interesado en obtener un artículo.",
        "Luego extendemos los resultados al caso más general de un mercado de emparejamiento, como se discutió en la sección anterior, donde las valoraciones dependen de la identidad del vendedor y comprador.",
        "Luego caracterizamos las ganancias mínimas y máximas que los comerciantes pueden obtener.",
        "En la siguiente sección, extendemos los resultados a los operadores que pueden estar conectados a cualquier subconjunto de vendedores y compradores.",
        "Dado que estamos trabajando con operadores de pares en esta sección, podemos representar el problema utilizando un grafo bipartito G cuyo conjunto de nodos es B ∪ S, y donde cada operador t, conectando al vendedor i y al comprador j, aparece como una arista t = (i, j) en G. Sin embargo, cabe destacar que permitimos que múltiples operadores conecten el mismo par de agentes.",
        "Para cada comprador y vendedor i, usaremos adj(i) para denotar el conjunto de comerciantes que pueden comerciar con i. 2.1 Bienes Indistinguibles El intercambio socialmente óptimo para el caso de bienes indistinguibles es la solución del problema de transporte: enviar bienes a lo largo de los bordes que representan a los comerciantes.",
        "Las aristas a lo largo de las cuales ocurre el comercio corresponden a un emparejamiento en este grafo bipartito, y el comercio óptimo está descrito por el siguiente programa lineal. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B A continuación, consideramos un equilibrio.",
        "Cada operador t = (i, j) debe ofrecer una oferta βt y una demanda αt. (Omitimos el subíndice que denota al vendedor y comprador aquí, ya que estamos tratando con operadores en pares).",
        "Dado el precio de oferta y demanda, los agentes reaccionan a estos precios, como se describió anteriormente.",
        "En lugar de enfocarnos en los precios, nos enfocaremos en las ganancias.",
        "Si un vendedor i vende a un comerciante t ∈ adj(i) con una oferta βt, entonces su ganancia es pi = βt − θi.",
        "De manera similar, si un comprador j compra a un comerciante t ∈ adj(j) con una oferta αt, entonces su ganancia es pj = θj − αt.",
        "Finalmente, si un comerciante t opera con la oferta αt y la demanda βt, entonces su ganancia es yt = αt − βt.",
        "Todos los agentes que no están involucrados en el comercio no obtienen ganancias.",
        "Demostraremos que las ganancias en equilibrio son una solución óptima para el siguiente programa lineal. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMA 2.1.",
        "En el equilibrio, los beneficios deben satisfacer las desigualdades anteriores.",
        "Prueba.",
        "Claramente, todas las ganancias son no negativas, ya que el comercio es opcional para todos los agentes.",
        "Para ver por qué se cumplen el último conjunto de desigualdades, considera dos casos por separado.",
        "Para un comerciante t que realizó un intercambio, obtenemos igualdad por definición.",
        "Para otros comerciantes t = (i, j), el valor pi + θi es el precio al que el vendedor i vendió (o θi si el vendedor i decidió quedarse con el bien).",
        "Ofrecer una oferta βt > pi + θi haría que el vendedor vendiera al comerciante t. De manera similar, θj − pj es el precio al que el comprador j compró (o θj si no compró), y para cualquier oferta αt < θj − pj, el comprador comprará al comerciante t. Por lo tanto, a menos que θj − pj ≤ θi + pi, el comerciante tiene una desviación rentable.",
        "Ahora estamos listos para demostrar nuestro primer teorema: TEOREMA 2.2.",
        "En cualquier equilibrio, el comercio es eficiente.",
        "Prueba.",
        "Que x sea un flujo de bienes que resulta en un equilibrio, y que las variables p e y sean las ganancias.",
        "Considera el programa lineal que describe el comercio socialmente óptimo.",
        "También agregaremos un conjunto de restricciones adicionales xt ≤ 1 para todos los operadores t ∈ T; esto se puede agregar a la descripción, ya que está implícito en las otras restricciones.",
        "Ahora afirmamos que los dos programas lineales son duales entre sí.",
        "Las variables pi para los agentes B ∪ S corresponden a las ecuaciones Pt∈adj(i) xt ≤ 1.",
        "La variable dual adicional yt corresponde a una desigualdad adicional xt ≤ 1.",
        "La optimalidad del valor social del intercambio se seguirá de la afirmación de que la solución de estos dos programas lineales derivados de un equilibrio satisface las condiciones de holgura complementaria para este par de programas lineales, y por lo tanto tanto x como (p, y) son soluciones óptimas de los programas lineales correspondientes.",
        "Existen tres condiciones de holgura complementarias diferentes que debemos considerar, correspondientes a los tres conjuntos de variables x, y y p. Cualquier agente solo puede obtener ganancias si realiza transacciones, por lo que pi > 0 implica que P t∈adj(i) xt = 1, y de manera similar, yt > 0 implica que xt = 1 también.",
        "Finalmente, considera a un trader t con xt > 0 que negocia entre el vendedor i y el comprador j, y recuerda que hemos visto anteriormente que la desigualdad yt ≥ (θj − pj) − (θi + pi) se cumple con igualdad para aquellos que comercian.",
        "A continuación argumentamos que los equilibrios siempre existen.",
        "TEOREMA 2.3.",
        "Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro de valores de oferta y demanda que respalda este comercio.",
        "Prueba.",
        "Considera un intercambio eficiente; sea xt = 1 si t intercambia y 0 en caso contrario; y considera una solución óptima (p, y) para el programa lineal dual.",
        "Nos gustaría afirmar que todas las soluciones duales corresponden a precios de equilibrio, pero desafortunadamente esto no es exactamente cierto.",
        "Antes de poder convertir una solución dual en precios de equilibrio, es posible que necesitemos modificar ligeramente la solución de la siguiente manera.",
        "Considera cualquier agente i que solo esté conectado a un único comerciante t. Debido a que el agente está solo conectado a un único comerciante, las variables yt y pi son variables duales correspondientes a la misma desigualdad primal xt ≤ 1, y siempre aparecen juntas como yt + pi en todas las desigualdades, y también en la función objetivo.",
        "Por lo tanto, existe una solución óptima en la que pi = 0 para todos los agentes i conectados solo a un único comerciante.",
        "Supongamos que (p, y) es una solución dual donde los agentes conectados solo a un comerciante tienen pi = 0.",
        "Para un vendedor i, dejemos que βt = θi + pi sea la oferta para todos los comerciantes t adyacentes a i.",
        "De manera similar, para cada comprador j, sea αt = θj − pj la oferta para todos los operadores t adyacentes a j.",
        "Sostenemos que este conjunto de ofertas y demandas, junto con la transacción x, constituyen un equilibrio.",
        "Para entender por qué, hay que tener en cuenta que todos los operadores t adyacentes a un vendedor o comprador i ofrecen la misma oferta o demanda, por lo que comerciar con cualquier operador es igualmente bueno para el agente i.",
        "Además, si i no está operando en la solución 147 x, entonces por holgura complementaria pi = 0, y por lo tanto, no operar también es igualmente bueno para i.",
        "Esto muestra que los vendedores y compradores no tienen un incentivo para desviarse.",
        "Necesitamos demostrar que los comerciantes no tienen incentivos para desviarse tampoco.",
        "Cuando un comerciante t está negociando con el vendedor i y el comprador j, las desviaciones rentables implicarían aumentar αt o disminuir βt.",
        "Pero por nuestra construcción (y suposición sobre agentes monopolizados) todos los vendedores y compradores tienen múltiples ofertas de compra/venta idénticas, o el intercambio está ocurriendo a valuación.",
        "En cualquier caso, tal desviación no puede tener éxito.",
        "Finalmente, considera un trader t = (i, j) que no realiza intercambios.",
        "Una desviación para t implicaría ofrecer una oferta más baja al vendedor i y una oferta más alta al vendedor j que su intercambio actual.",
        "Sin embargo, yt = 0 por holgura complementaria, y por lo tanto pi + θi ≥ θj − pj, por lo que i vende a un precio al menos tan alto como el precio al que j compra, por lo que el comerciante t no puede crear un intercambio rentable.",
        "Se debe tener en cuenta que un vendedor o comprador conectado a un único comerciante t no puede obtener beneficios en equilibrio, por lo que los posibles beneficios en equilibrio están en correspondencia uno a uno con las soluciones duales para las cuales pi = 0 siempre que i esté monopolizado por un único comerciante.",
        "Una característica decepcionante del equilibrio creado por esta prueba es que algunos agentes t pueden tener que crear pares de oferta y demanda donde βt > αt, ofreciendo comprar por más del precio al que están dispuestos a vender.",
        "Los agentes que realizan tales pares de oferta y demanda nunca realizan realmente una transacción, por lo que no resulta en una pérdida de beneficios para el agente, pero dichos pares son poco comunes.",
        "Los pares de ofertas y demandas cruzadas son débilmente dominados por la estrategia de ofrecer una oferta baja β = 0 y una demanda extremadamente alta para garantizar que ninguna sea aceptada.",
        "Para formular una forma de evitar tales pares cruzados, decimos que un equilibrio es libre de cruces si αt ≥ βt para todos los operadores t. Ahora mostramos que siempre hay un equilibrio libre de cruces.",
        "TEOREMA 2.4.",
        "Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro y libre de cruces.",
        "Prueba.",
        "Considera una solución óptima para el programa lineal dual.",
        "Para obtener un equilibrio sin cruzar ofertas, necesitamos hacer una modificación más general que simplemente asumir que pi = 0 para todos los vendedores y compradores conectados a un único operador.",
        "Que el conjunto E sea el conjunto de aristas t = (i, j) que son tensas, en el sentido de que tenemos la igualdad yt = (θj − pj) − (θi + pi).",
        "Este conjunto E contiene todos los bordes donde ocurre el comercio, y algunos bordes adicionales.",
        "Queremos asegurarnos de que pi = 0 para todos los vendedores y compradores que tengan un grado de a lo sumo 1 en E. Considere un vendedor i que tiene pi > 0.",
        "Debemos tener i involucrado en un intercambio, y el borde t = (i, j) a lo largo del cual ocurre el intercambio debe ser ajustado.",
        "Supongamos que este es el único borde ajustado adyacente al agente i; entonces podemos disminuir pi e incrementar yt hasta que ocurra una de las siguientes situaciones: o bien pi = 0 o la restricción de algún otro agente t ∈ adj(i) se vuelva ajustada.",
        "Esta modificación solo aumenta el conjunto de aristas ajustadas E, mantiene la solución factible y no cambia el valor de la función objetivo.",
        "Entonces, después de hacer esto para todos los vendedores, y cambiando de manera análoga yt y pj para todos los compradores, obtenemos una solución óptima donde todos los vendedores y compradores i tienen pi = 0 o tienen al menos dos aristas ajustadas adyacentes.",
        "Ahora podemos establecer ofertas y demandas para formar un equilibrio libre de cruces.",
        "Para todos los traders t = (i, j) asociados con un borde t ∈ E, establecemos αt y βt como antes: fijamos la oferta βt = pi + θi y la demanda αt = θj − pj.",
        "Para un trader t = (i, j) ∈ E, tenemos que pi + θi > θj − pj y establecemos αt = βt para que sea cualquier valor en el rango [θj − pj, pi + θi].",
        "Esto garantiza que para cada vendedor o comprador, la mejor oferta de venta o compra se encuentra a lo largo del borde donde se produce el intercambio en la solución.",
        "Los valores de askbid a lo largo de los bordes ajustados garantizan que los traders que operan no puedan aumentar su spread.",
        "Los operadores t = (i, j) que no realizan operaciones no pueden obtener ganancias debido a la restricción pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) Ningún operador obtiene ganancias 1 1 1 0 x x x x 1 x x 0 x (b) Ganancias del operador Figura 2: Izquierda: un equilibrio con ofertas cruzadas donde los operadores no ganan dinero.",
        "Correcto: un equilibrio sin ofertas cruzadas para cualquier valor x ∈ [0, 1].",
        "La ganancia total del comerciante oscila entre 1 y 2. 2.2 Bienes distinguibles. Ahora consideramos el caso de bienes distinguibles.",
        "Como en la sección anterior, podemos escribir un programa lineal de transbordo para el comercio socialmente óptimo, con el único cambio en la función objetivo. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) Podemos demostrar que el dual de este programa lineal corresponde a las ganancias de los comerciantes.",
        "Recuerda que necesitábamos agregar las restricciones xt ≤ 1 para todos los traders.",
        "El dual es entonces: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T. No es difícil extender las pruebas de los Teoremas 2.2 - 2.4 a este caso.",
        "Las ganancias en un equilibrio satisfacen las restricciones duales, y las ganancias y el comercio satisfacen la holgura complementaria.",
        "Esto demuestra que el comercio es socialmente óptimo.",
        "Tomando una solución dual óptima donde pi = 0 para todos los agentes que están monopolizados, podemos convertirla en un equilibrio, y con un poco más de cuidado, también podemos crear un equilibrio sin pares de oferta y demanda cruzados.",
        "TEOREMA 2.5.",
        "Todos los equilibrios para el caso de los operadores en pares con bienes distinguibles resultan en un comercio socialmente óptimo.",
        "Existen equilibrios puros no cruzados. 2.3 Ganancias de los operadores Hemos visto que todos los equilibrios son eficientes.",
        "Sin embargo, resulta que los equilibrios pueden diferir en cómo se distribuye el valor de la asignación entre los vendedores, compradores e intermediarios.",
        "La Figura 2 representa un ejemplo simple de este fenómeno.",
        "Nuestro objetivo es entender cómo se ve afectada la ganancia de un trader por su posición en la red; utilizaremos la caracterización que obtuvimos para determinar el rango de ganancias que un trader puede obtener.",
        "Para maximizar la ganancia de un operador t (o un subconjunto de operadores T), todo lo que necesitamos hacer es encontrar una solución óptima al programa lineal dual que maximice el valor de yt (o la suma Pt∈T yt).",
        "Tales soluciones duales corresponderán a equilibrios con precios no cruzados. TEOREMA 2.6.",
        "Para cualquier operador t o subconjunto de operadores T, la ganancia total máxima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico.",
        "Este beneficio máximo se puede obtener mediante un equilibrio no cruzado.",
        "Una forma de pensar en la ganancia de un trader t = (i, j) es como una resta del valor del borde correspondiente (i, j).",
        "El valor del borde es el valor social θji − θij si el comerciante no obtiene ganancias, y disminuye a θji − θij − yt si el comerciante t insiste en obtener una ganancia de yt.",
        "El comerciante t obtiene un beneficio yt en equilibrio, si después de esta disminución en el valor del borde, el borde sigue incluido en el transbordo óptimo.",
        "TEOREMA 2.7.",
        "Un comerciante t puede obtener beneficios en un equilibrio si y solo si t es esencial para el bienestar social, es decir, si eliminar al agente t disminuye el bienestar social.",
        "La ganancia máxima que puede obtener es exactamente su valor para la sociedad, es decir, el aumento que su presencia provoca en el bienestar social.",
        "Si permitimos el cruce de equilibrios, entonces también podemos encontrar la ganancia mínima posible.",
        "Recuerde que en la demostración del Teorema 2.3, los comerciantes solo ganaron dinero de vendedores o compradores sobre los que tenían un monopolio.",
        "Permitiendo tales equilibrios con ofertas cruzadas, podemos encontrar la ganancia mínima que un trader o conjunto de traders puede obtener, minimizando el valor yt (o la suma de P t∈T yt) en todas las soluciones óptimas que satisfacen que pi = 0 siempre que i esté conectado solo a un trader.",
        "TEOREMA 2.8.",
        "Para cualquier operador t o subconjunto de operadores T, la ganancia total mínima que pueden obtener en cualquier equilibrio puede ser calculada en tiempo polinómico.",
        "A continuación, extendemos los resultados a un modelo en el que los comerciantes pueden estar conectados a un número arbitrario de vendedores y compradores.",
        "Para un comerciante t ∈ T utilizaremos S(t) y B(t) para denotar el conjunto de compradores y vendedores conectados al comerciante t. En esta sección nos enfocamos en el caso general cuando los bienes son distinguibles (es decir, tanto los compradores como los vendedores tienen valoraciones que son sensibles a la identidad del agente con el que se emparejan en la asignación).",
        "En la versión completa del artículo también discutimos el caso especial de bienes indistinguibles con más detalle.",
        "Para obtener el intercambio óptimo, consideramos el grafo bipartito G = (S ∪ B, E) que conecta vendedores y compradores, donde una arista e = (i, j) conecta un vendedor i y un comprador j si hay un comerciante adyacente a ambos: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
        "En este gráfico, luego resolvemos la instancia del problema de asignación que también se utilizó en la Sección 2.2, con el valor del borde (i, j) igual a θji − θij (ya que el valor del intercambio entre i y j es independiente de qué comerciante realizó el intercambio).",
        "También utilizaremos el dual de este programa lineal: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Ofertas y Demandas y Optimización del Trader. Primero necesitamos entender qué modelo de oferta utilizaremos.",
        "Incluso cuando los bienes son indistinguibles, un comerciante puede querer practicar discriminación de precios y ofrecer diferentes valores de oferta y demanda a diferentes vendedores y compradores.",
        "En el caso de bienes distinguibles, tenemos que lidiar con una complicación adicional: el comerciante tiene que nombrar el bien que está proponiendo vender o comprar, y posiblemente ofrecer múltiples productos diferentes.",
        "Hay dos variantes de nuestro modelo dependiendo de si un trader hace una única oferta de compra o venta a un vendedor o comprador, o si ofrece un menú de opciones. (i) Un trader t puede ofrecer a un comprador j un menú de ofertas de compra αtji, un vector de valores para todos los productos a los que está conectado, donde αtji es la oferta de compra para el producto del vendedor i. De manera simétrica, un trader t puede ofrecer a cada vendedor i un menú de ofertas de venta βtij para vender a diferentes compradores j. (ii) Alternativamente, podemos requerir que cada trader t pueda hacer como máximo una oferta de compra a cada vendedor y una oferta de venta para cada comprador, y una oferta de compra debe incluir el producto vendido, y una oferta de venta debe ofrecer a un comprador en particular para venderle.",
        "Nuestros resultados se mantienen en ambos modelos.",
        "Para simplificar la notación, utilizaremos la opción del menú aquí.",
        "A continuación, necesitamos entender el problema de optimización de un trader t. Supongamos que tenemos valores de oferta y demanda para todos los demás traders t ∈ T, t = t. ¿Cuáles son las mejores ofertas de compra y venta que el trader t puede hacer como mejor respuesta al conjunto actual de ofertas de compra y venta?",
        "Para cada vendedor i, dejemos que pi sea la ganancia máxima que el vendedor i puede obtener utilizando ofertas de otros comerciantes, y asumamos de manera simétrica que pj es la ganancia máxima que el comprador j puede obtener utilizando demandas de otros comerciantes (dejando pi = 0 para cualquier vendedor o comprador i que no pueda obtener ganancias).",
        "Ahora considera un par vendedor-comprador (i, j) que el comerciante t puede conectar.",
        "El trader t tendrá que hacer una oferta de al menos βtij = θij + pi al vendedor i y un precio de venta de como máximo αtji = θji − pj al comprador j para realizar esta transacción, por lo que la ganancia máxima que puede obtener en esta operación es vtij = αtji − βtij = θji − pj − (θij + pi).",
        "El intercambio óptimo para el trader t se obtiene resolviendo un problema de emparejamiento para encontrar la correspondencia entre los vendedores S(t) y compradores B(t) que maximiza el valor total vtij para el trader t. Necesitaremos el dual del programa lineal para encontrar el intercambio de máximo beneficio para el trader t. Utilizaremos qti como la variable dual asociada con la restricción del vendedor o comprador i.",
        "El dual es entonces el siguiente problema. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
        "Vemos qti como la ganancia obtenida por t al comerciar con el vendedor o comprador i. El Teorema 3.1 resume la discusión anterior.",
        "TEOREMA 3.1.",
        "Para un trader t, dado las ofertas más bajas βtij y las peticiones más altas αtji que pueden ser aceptadas para los vendedores i ∈ S(t) y compradores j ∈ B(t), el mejor intercambio que t puede hacer es el emparejamiento de valor máximo entre S(t) y B(t) con valor vtij = αtji − βtij para la arista (i, j).",
        "Este valor máximo es igual al mínimo del programa lineal dual anterior. 3.2 Comercio eficiente y equilibrio Ahora podemos demostrar que el comercio en equilibrio siempre es eficiente.",
        "TEOREMA 3.2.",
        "Cada equilibrio resulta en una asignación eficiente de los bienes.",
        "Prueba.",
        "Considera un equilibrio, con xe = 1 si y solo si el comercio ocurre a lo largo del borde e = (i, j).",
        "El comercio es una solución al programa lineal de transbordo utilizado en la Sección 2.2.",
        "Que pi denote la ganancia del vendedor o comprador i.",
        "Cada operador t actualmente tiene la mejor solución a su propio problema de optimización.",
        "Un comerciante t encuentra su intercambio óptimo (dadas las ofertas y demandas de los otros 149 comerciantes) resolviendo un problema de emparejamiento.",
        "Que qti para i ∈ B(t)∪S(t) denote la solución dual óptima a este problema de emparejamiento como se describe en el Teorema 3.1.",
        "Al configurar el problema de optimización para un trader t anteriormente, usamos pi para denotar la ganancia máxima que puedo obtener sin la oferta del trader t. Tenga en cuenta que este pi es exactamente el mismo pi que usamos aquí, la ganancia del agente i.",
        "Esto es claramente cierto para todos los operadores t que no están comerciando con i en el equilibrio.",
        "Para ver por qué es cierto para el operador t con el que i está negociando, usamos que el conjunto actual de valores de oferta y demanda es un equilibrio.",
        "Si para cualquier agente i la oferta o demanda del trader t fuera la única mejor opción, entonces t podría obtener más beneficios ofreciendo una demanda un poco más alta o una oferta un poco más baja, lo cual sería una contradicción.",
        "Mostramos que el intercambio x es óptimo al considerar la solución dual zi = pi + P t qti para todos los agentes i ∈ B ∪ S. Afirmamos que z es una solución dual y satisface la holgura complementaria con el intercambio x.",
        "Para ver esto, necesitamos mostrar algunos hechos.",
        "Necesitamos que zi > 0 implique que i comercie.",
        "Si zi > 0, entonces o bien pi > 0 o qti > 0 para algún trader t. El agente i solo puede obtener ganancias pi > 0 si está involucrado en una transacción.",
        "Si qti > 0 para algún t, entonces el trader t debe comerciar con i, ya que su solución es óptima, y por holgura complementaria para la solución dual, qti > 0 implica que t comercia con i.",
        "Para un borde (i, j) asociado con un trader t, necesitamos mostrar que la solución dual es factible, es decir, zi + zj ≥ θji − θij.",
        "Se recuerda que vtij = θji −pj −(θij +pi), y la restricción dual del problema de optimización de los traders requiere qti + qtj ≥ vtij.",
        "Al juntar todo esto, tenemos zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij.",
        "Finalmente, necesitamos demostrar que las variables de intercambio x también cumplen la restricción de holgura complementaria: cuando xe > 0 para una arista e = (i, j) entonces la restricción dual correspondiente es activa.",
        "Que t sea el comerciante involucrado en la transacción.",
        "Por la holgura complementaria del problema de optimización de ts, tenemos qti + qtj = vtij.",
        "Para ver que z satisface la holgura complementaria, necesitamos argumentar que para todos los otros comerciantes t = t, tenemos tanto qt i = 0 como qt j = 0.",
        "Esto es cierto ya que qt i > 0 implica por la holgura complementaria del problema de optimización de t s que t debe comerciar con i en el óptimo, y t = t está comerciando.",
        "A continuación queremos demostrar que siempre existe un equilibrio no cruzado.",
        "Llamamos a un equilibrio no cruzado si las ofertas de compra y venta que un trader t hace para un par vendedor-comprador (i, j) nunca se cruzan, es decir, βtij ≤ αtji para todo t, i, j. TEOREMA 3.3.",
        "Existe un equilibrio no cruzado que respalda cualquier intercambio socialmente óptimo.",
        "Prueba.",
        "Considera un intercambio óptimo x y una solución dual z como antes.",
        "Para encontrar un equilibrio no cruzado necesitamos dividir la ganancia zi entre i y el comerciante t que negocia con i.",
        "Usaremos qti como el beneficio del comerciante asociado con el agente i para cualquier i ∈ S(t) ∪ B(t).",
        "Necesitaremos garantizar las siguientes propiedades: El comerciante t comercia con el agente i siempre que qti > 0.",
        "Esta es una de las condiciones de holgura complementaria para asegurar que el intercambio actual sea óptimo para el trader t. Para todos los pares vendedor-comprador (i, j) con los que un trader t puede comerciar, tenemos que pi + qti + pj + qtj ≥ θji − θij, (1) lo cual asegurará que qt sea una solución dual factible para el problema de optimización al que se enfrenta el trader t. Necesitamos tener igualdad en (1) cuando el trader t está comerciando entre i y j.",
        "Esta es una de las condiciones de holgura complementaria para el trader t, y garantizará que el intercambio de t sea óptimo para el trader.",
        "Finalmente, queremos organizar que cada agente i con pi > 0 tenga múltiples ofertas para obtener ganancias pi, y que el intercambio se realice en una de sus mejores ofertas.",
        "Para garantizar esto en las ofertas y demandas correspondientes, necesitamos asegurarnos de que siempre que pi > 0 haya múltiples t ∈ adj(i) que cumplan con la ecuación en la restricción anterior (1).",
        "Comenzamos estableciendo pi = zi para todo i ∈ S ∪ B y qti = 0 para todo i ∈ S ∪ B y traders t ∈ adj(i).",
        "Esto garantiza todos los invariantes excepto la última propiedad sobre múltiples t ∈ adj(t) teniendo igualdad en (1).",
        "Modificaremos p y q para aplicar gradualmente la última condición, manteniendo las demás.",
        "Considera un vendedor con pi > 0.",
        "Por la optimalidad del intercambio y la solución dual z, el vendedor i debe comerciar con algún comerciante t, y ese comerciante tendrá igualdad en (1) para el comprador j con el que se empareja i.",
        "Si este es el único operador t que tiene una restricción estricta en (1) que involucra al vendedor i, entonces aumentamos qti y disminuimos pi hasta que pi = 0 o hasta que otro operador t = t logre la igualdad en (1) para algún borde del comprador adyacente a i (posiblemente un comprador diferente j).",
        "Este cambio mantiene todas las invariantes y aumenta el conjunto de vendedores que también cumplen con la última restricción.",
        "Podemos hacer un cambio similar para un comprador j que tiene pj > 0 y solo tiene un operador t con una restricción ajustada (1) adyacente a j.",
        "Después de posiblemente repetir esto para todos los vendedores y compradores, obtenemos ganancias que satisfacen todas las restricciones.",
        "Ahora obtenemos los valores de oferta y demanda de equilibrio de la siguiente manera.",
        "Para un operador t que tiene igualdad para el par vendedor-comprador (i, j) en (1), ofrecemos αtji = θji − pj y βtij = θij + pi.",
        "Para todos los demás comerciantes t y pares de vendedor-comprador (i, j) tenemos el invariante (1), y utilizando esto sabemos que podemos elegir un valor γ en el rango θij +pi+qti ≥ γ ≥ θji − (pj + qtj).",
        "Ofrecemos valores de oferta y demanda βtij = αtji = γ.",
        "Ni la oferta ni la demanda serán la única mejor oferta para el comprador, por lo tanto, el intercambio x sigue siendo un equilibrio. 3.3 Ganancias del Trader Finalmente, nos enfocamos en el objetivo de comprender, en el caso de los traders generales, cómo se ve afectada la ganancia de un trader por su posición en la red.",
        "Primero, mostramos cómo maximizar la ganancia total de un grupo de comerciantes.",
        "La ganancia del comerciante t en un equilibrio es P i qti.",
        "Para encontrar la ganancia máxima posible para un trader t o un conjunto de traders T, necesitamos hacer lo siguiente: Encontrar ganancias pi ≥ 0 y qti > 0 de manera que zi = pi + P t∈adj(i) qti sea una solución dual óptima, y también cumpla con las restricciones (1) para cualquier vendedor i y comprador j conectados a través de un trader t ∈ T. Ahora, sujeto a todas estas condiciones, maximizamos la suma P t∈T P i∈S(t)∪B(t) qti.",
        "Ten en cuenta que esta maximización es una función objetivo secundaria con respecto al objetivo principal de que z sea una solución dual óptima.",
        "Luego usamos la prueba del Teorema 3.3 que muestra cómo convertir esto en un equilibrio.",
        "TEOREMA 3.4.",
        "El valor máximo para P t∈T P i qti anterior es la máxima ganancia que el conjunto T de comerciantes puede obtener.",
        "Prueba.",
        "Por la demostración del Teorema 3.2, las ganancias del comerciante t pueden ser escritas en esta forma, por lo que el conjunto de comerciantes T no puede obtener más ganancias de las reclamadas en este teorema.",
        "Para ver que T realmente puede obtener tantas ganancias, usamos la prueba del Teorema 3.3.",
        "Modificamos esa prueba para empezar con los vectores de ganancias p y qt para t ∈ T, y establecemos qt = 0 para todos los traders t ∈ T.",
        "Verificamos que esta solución inicial cumple con las tres primeras de las cuatro propiedades requeridas, y luego podemos seguir la demostración para hacer que la cuarta propiedad sea verdadera.",
        "Omitimos los detalles de esto en la versión actual.",
        "En la Sección 2.3 demostramos que en el caso de los traders de pares, un trader t puede ganar dinero si es esencial para el comercio eficiente.",
        "Esto no es 150 1 1 Figura 3: El comerciante principal es esencial para el bienestar social.",
        "Sin embargo, el único equilibrio es tener valores de oferta y demanda iguales a 0, y el comerciante no obtiene beneficios. Esto es cierto para el tipo de comerciantes más generales que consideramos aquí, como se muestra en el ejemplo de la Figura 3.",
        "Sin embargo, aún obtenemos una caracterización de cuándo un comerciante t puede obtener una ganancia positiva.",
        "TEOREMA 3.5.",
        "Un comerciante t puede obtener ganancias en un equilibrio si y solo si hay un vendedor o comprador i adyacente a t tal que la conexión del comerciante t con el agente i es esencial para el bienestar social, es decir, si eliminar al agente t de adj(i) disminuye el valor de la asignación óptima.",
        "Prueba.",
        "Primero mostramos la dirección en la que si un comerciante t puede ganar dinero, debe haber un agente i tal que la conexión de t con i sea esencial para el bienestar social.",
        "Sean p, q las ganancias en un equilibrio donde t gana dinero, como se describe en el Teorema 3.2 con P i∈S(t)∪B(t) qti > 0.",
        "Así que tenemos un agente i con qti > 0.",
        "Sostenemos que la conexión entre el agente i y el comerciante t debe ser esencial, en particular, sostenemos que el bienestar social debe disminuir al menos en qti si eliminamos t de adj(t).",
        "Para ver por qué, observe que al disminuir el valor de todas las aristas de la forma (i, j) asociadas con el comerciante t en qti, se mantiene el mismo óptimo de comercio, ya que obtenemos una solución dual de emparejamiento simplemente restableciendo qti a cero.",
        "Para ver lo contrario, suponga que eliminar t de adj(t) disminuye el bienestar social en algún valor γ.",
        "Supongamos que i es un vendedor (el caso de los compradores es simétrico), y disminuye en γ el valor social de cada arista (i, j) para cualquier comprador j tal que t sea el único agente que conecta a i y j.",
        "Por supuesto, el intercambio sigue siendo óptimo y dejamos que z sea la solución dual para esta correspondencia.",
        "Ahora utilizamos el mismo proceso que en la demostración del Teorema 3.3 para crear un equilibrio no cruzado comenzando con pi = zi para todo i ∈ S ∪ B, y qti = γ, y todos los demás valores de q igual a 0.",
        "Esto crea un equilibrio con ofertas que no se cruzan, donde t obtiene al menos γ de beneficio (debido al intercambio con el vendedor i).",
        "Finalmente, si permitimos el cruce de equilibrios, entonces podemos encontrar la ganancia mínima posible simplemente encontrando una solución dual que minimice las variables duales asociadas con los agentes monopolizados por algún comerciante.",
        "TEOREMA 3.6.",
        "Para cualquier trader t o subconjunto de traders T, la ganancia total mínima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. 4.",
        "REFERENCIAS [1] M. Babaioff, N. Nisan, E. Pavlov.",
        "Mecanismos para un mercado distribuido espacialmente.",
        "Conferencia ACM EC, 2005. [2] C. Barrett, E. Mutambatsere.",
        "Mercados agrícolas en países en desarrollo.",
        "El Nuevo Diccionario de Economía de Palgrave, 2da edición, próximo a publicarse. [3] Kenneth Burdett y Kenneth Judd.",
        "Dispersión del precio de equilibrio.",
        "Econometrica, 51/4, julio de 1983, 955-969. [4] L. Chu, Z.-J.",
        "I'm sorry, but \"Shen\" is not a sentence. Can you please provide a sentence for me to translate into Spanish?",
        "Mecanismo de subasta doble de competencia de agentes.",
        "Ciencia de la Gestión, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
        "Subastas de varios artículos.",
        "I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with?",
        "Econ. Política 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
        "Un juego de formación de redes para economías de intercambio bipartitas.",
        "Simposio ACM-SIAM sobre Algoritmos Discretos (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
        "Precios dinámicos por agentes de software.",
        "Redes de Computadoras, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
        "Propiedades económicas de las redes sociales.",
        "NIPS 2004. [9] R. Kranton, D. Minehart. \n\nNIPS 2004. [9] R. Kranton, D. Minehart.",
        "Una teoría de redes de comprador-vendedor.",
        "American Economic Review 91(3), junio de 2001. [10] H. Leonard.",
        "Elicitación de preferencias honestas para la asignación de individuos a posiciones.",
        "J. Pol.",
        "Econ, 1983. [11] M. E. J. Newman. \n\nEcon, 1983. [11] M. E. J. Newman.",
        "La estructura y función de redes complejas.",
        "SIAM Review, 45:167-256, 2003. [12] M. OHara. \n\nRevista SIAM, 45:167-256, 2003. [12] M. OHara.",
        "Teoría de la Microestructura del Mercado.",
        "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.\nEditorial Blackwell, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, El juego de asignación I: El núcleo.",
        "Internacional.",
        "I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with?",
        "Teoría de Juegos 1/2 111-130, 1972. [14] Jean Tirole.",
        "La Teoría de la Organización Industrial.",
        "El MIT Press, Cambridge, MA, 1988. 151"
    ],
    "error_count": 5,
    "keys": {
        "algorithmic game theory": {
            "translated_key": "teoría de juegos algorítmica",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and <br>algorithmic game theory</br>, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [
                "Our work here is connected to several lines of research in economics, finance, and <br>algorithmic game theory</br>, and we discuss these connections in more detail later in the introduction."
            ],
            "translated_annotated_samples": [
                "Nuestro trabajo aquí está conectado a varias líneas de investigación en economía, finanzas y <br>teoría de juegos algorítmica</br>, y discutimos estas conexiones con más detalle más adelante en la introducción."
            ],
            "translated_text": "Redes de intercambio con agentes que fijan precios Larry Blume Dept. En una amplia gama de mercados, los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, quienes determinan los precios mediante consideraciones estratégicas. Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el mercado. Modelamos este fenómeno utilizando un juego en el que compradores, vendedores e intermediarios participan en transacciones en un gráfico que representa el acceso que cada comprador y vendedor tiene a los intermediarios. En este modelo, los comerciantes establecen precios estratégicamente, y luego los compradores y vendedores reaccionan a los precios que se les ofrecen. Mostramos que el juego resultante siempre tiene un equilibrio de Nash perfecto en subjuegos, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. Extendemos estos resultados a un tipo más general de mercado de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores. Finalmente, consideramos cómo los beneficios obtenidos por los comerciantes dependen del grafo subyacente: en resumen, un comerciante puede obtener un beneficio positivo si y solo si tiene una conexión esencial en la estructura de la red, proporcionando así una base teórica de grafos para cuantificar la cantidad de competencia entre los comerciantes. Nuestro trabajo difiere de los estudios recientes sobre cómo el precio se ve afectado por la estructura de la red a través de nuestro modelado del establecimiento de precios como una actividad estratégica realizada por un subconjunto de agentes en el sistema, en lugar de estudiar precios establecidos a través de un equilibrio competitivo o por un mecanismo veraz. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1. INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio. Un ejemplo de esta configuración es el comercio de productos agrícolas en países en desarrollo. Dada la falta de redes de transporte adecuadas y el limitado acceso de los agricultores pobres al capital, muchos agricultores no tienen otra alternativa que comerciar con intermediarios en mercados locales ineficientes. Un país en desarrollo puede tener muchos mercados parcialmente superpuestos que coexisten junto a mercados modernos y eficientes. Los mercados financieros proporcionan un ejemplo diferente de un entorno con estas características generales. En estos mercados, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de mercado y sistemas de negociación electrónica. Para muchos activos no hay un único mercado; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en mercados de otros países. Algunos compradores y vendedores tienen acceso a muchos o a todos estos lugares de negociación; otros solo tienen acceso a uno o a unos pocos de ellos. El precio al que se negocia el activo puede variar en estos lugares de negociación. De hecho, no hay un precio fijo ya que diferentes comerciantes pagan o reciben precios diferentes. En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el precio de compra. Uno de los ejemplos más llamativos de este fenómeno ocurre en el mercado de divisas, donde existe un mercado interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto. Los spreads, definidos como la diferencia entre los precios de oferta y demanda, difieren significativamente en estos mercados, a pesar de que el mismo activo se está negociando en ambos mercados. En este artículo, desarrollamos un marco en el que tales fenómenos surgen de un modelo de comercio basado en teoría de juegos, con compradores, vendedores e intermediarios interactuando en una red. Los bordes de la red conectan a los comerciantes con los compradores y vendedores, y por lo tanto representan el acceso que tienen los diferentes participantes del mercado entre sí. Los comerciantes actúan como intermediarios en un juego de comercio de dos etapas: eligen estratégicamente los precios de oferta y demanda para ofrecer a los vendedores y compradores a los que están conectados; luego, los vendedores y compradores reaccionan a los precios que enfrentan. Por lo tanto, la red codifica el poder relativo en las posiciones estructurales de los participantes del mercado, incluyendo los niveles implícitos de competencia entre los traders. Mostramos que este juego siempre tiene un equilibrio de Nash perfecto en subjuegos de 143, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. También analizamos cómo los beneficios de los operadores dependen de la estructura de la red, caracterizando esencialmente en términos de teoría de grafos cómo se determina el pago de un operador por la cantidad de competencia que experimenta con otros operadores. Nuestro trabajo aquí está conectado a varias líneas de investigación en economía, finanzas y <br>teoría de juegos algorítmica</br>, y discutimos estas conexiones con más detalle más adelante en la introducción. A un nivel general, nuestro enfoque puede ser visto como la síntesis de dos importantes corrientes de trabajo: una que trata la interacción comprador-vendedor utilizando estructuras de red, pero sin intentar modelar los procesos mediante los cuales los precios son realmente formados [1, 4, 5, 6, 8, 9, 10, 13]; y otra corriente en la literatura sobre microestructura de mercado que incorpora intermediarios en la fijación de precios, pero sin restricciones de tipo red sobre quién puede comerciar con quién [12]. Al desarrollar un modelo de red que incluye explícitamente a los comerciantes como agentes que establecen precios, en un sistema junto con compradores y vendedores, podemos capturar la formación de precios en un entorno de red como un proceso estratégico llevado a cabo por intermediarios, en lugar de como resultado de un mecanismo centralizado o exógeno. El Modelo Básico: Bienes Indistinguibles. Nuestro objetivo al formular el modelo es expresar el proceso de fijación de precios en mercados como los discutidos anteriormente, donde los participantes no tienen todos acceso uniforme entre sí. Se nos da un conjunto B de compradores, un conjunto S de vendedores y un conjunto T de traders. Hay un grafo no dirigido G que indica quién puede comerciar con quién. Todos los bordes tienen un extremo en B ∪ S y el otro en T; es decir, cada borde tiene la forma (i, t) para i ∈ S y t ∈ T, o (j, t) para j ∈ B y t ∈ T. Esto refleja las restricciones de que todas las transacciones entre compradores y vendedores pasan por los intermediarios comerciales. En la versión más básica del modelo, consideramos bienes idénticos, de los cuales cada vendedor inicialmente posee una copia. Los compradores y vendedores tienen un valor para una copia del bien, y asumimos que estos valores son de conocimiento común. Posteriormente generalizaremos esto a un escenario en el que los bienes son distinguibles, los compradores pueden valorar los diferentes bienes de manera diferente y, potencialmente, los vendedores también pueden valorar las transacciones con diferentes compradores de manera diferente. Tener diferentes valoraciones de los compradores captura escenarios como las compras de viviendas; agregar diferentes valoraciones de los vendedores también captura mercados de coincidencia, por ejemplo, vendedores como solicitantes de empleo y compradores como empleadores, ambos preocupados por quién termina con qué bien (y con los comerciantes actuando como servicios que facilitan la búsqueda de empleo). Por lo tanto, para comenzar con el modelo básico, hay un solo tipo de bien; el bien viene en unidades indivisibles; y cada vendedor inicialmente posee una unidad del bien. Todos los tres tipos de agentes valoran el dinero a la misma tasa; y cada i ∈ B ∪ S valora adicionalmente una copia del bien en θi unidades de dinero. Ningún agente quiere más de una copia del bien, por lo que las copias adicionales se valoran en 0. Cada agente tiene una dotación inicial de dinero que es mayor que cualquier valoración individual θi; el efecto de esto es garantizar que cualquier comprador que termine sin una copia del bien ha sido excluido del mercado debido a su valoración y posición en la red, no a la falta de fondos. Nos imaginamos que cada bien que se vende fluye a lo largo de una secuencia de dos etapas: desde un vendedor a un comerciante, y luego del comerciante a un comprador. La forma particular en la que fluyen los bienes está determinada por el siguiente juego. Primero, cada comerciante ofrece un precio de oferta a cada vendedor al que está conectado, y un precio de demanda a cada comprador al que está conectado. Los vendedores y compradores luego eligen entre las ofertas presentadas por los comerciantes. Si varios comerciantes proponen el mismo precio a un vendedor o comprador, entonces no hay una mejor respuesta estricta para el vendedor o comprador. En este caso se debe hacer una selección, y, como es habitual (ver por ejemplo [10]), nosotros (los modeladores) elegimos entre las mejores ofertas. Finalmente, cada comerciante compra una copia del bien de cada vendedor que acepta su oferta, y vende una copia del bien a cada comprador que acepta su oferta. Si un comerciante en particular, t, descubre que más compradores que vendedores aceptan sus ofertas, entonces se ha comprometido a proporcionar más copias del bien de las que ha recibido, y diremos que esto resulta en una gran penalización para el comerciante por incumplimiento; el efecto de esto es que en equilibrio, ningún comerciante elegirá precios de oferta y demanda que resulten en un incumplimiento. Más precisamente, una estrategia para cada operador t es una especificación de un precio de oferta βti para cada vendedor i al que t está conectado, y un precio de demanda αtj para cada comprador j al que t está conectado. (También podemos manejar un modelo en el que un operador puede optar por no hacer una oferta a ciertos de sus vendedores o compradores adyacentes). Cada vendedor o comprador elige como máximo una arista incidente, indicando el comerciante con quien realizarán la transacción, al precio indicado. (La elección de una sola arista refleja el hecho de que (a) los vendedores inicialmente solo tienen una copia del bien, y (b) los compradores solo desean una copia del bien). Las ganancias son las siguientes: Para cada vendedor i, la ganancia de seleccionar al comerciante t es βti, mientras que la ganancia de no seleccionar a ningún comerciante es θi. (En el primer caso, el vendedor recibe βti unidades de dinero, mientras que en el segundo caso conserva su copia del bien, al que valora en θi). Para cada comprador j, la ganancia de seleccionar al comerciante t es θj - αtj, mientras que la ganancia de no seleccionar a ningún comerciante es 0. (En el primer caso, el comprador recibe el bien pero renuncia a αtj unidades de dinero). Para cada operador t, con ofertas aceptadas de vendedores i1, . . . , is y compradores j1, . . . , jb, la ganancia es P r αtjr − P r βtir, menos una penalización π si b > s. La penalización se elige lo suficientemente grande para que un operador nunca la sufra en equilibrio, por lo que generalmente no nos preocuparemos por la penalización. Esto define los elementos básicos del juego. El concepto de equilibrio que utilizamos es el equilibrio de Nash perfecto en subjuegos. Algunos ejemplos. Para ayudar a pensar en el modelo, ahora describimos tres ejemplos ilustrativos, representados en la Figura 1. Para evitar que las figuras se vuelvan demasiado desordenadas, adoptamos las siguientes convenciones: los vendedores se representan como círculos en la columna más a la izquierda y se les asigna el nombre i1, i2, ... de arriba abajo; los comerciantes se representan como cuadrados en la columna del medio y se les asigna el nombre t1, t2, ... de arriba abajo; y los compradores se representan como círculos en la columna más a la derecha y se les asigna el nombre j1, j2, ... de arriba abajo. Todos los vendedores en los ejemplos tendrán valoraciones para el bien iguales a 0; la valoración de cada comprador se dibuja dentro de su círculo; y el precio de oferta o demanda en cada borde se dibuja encima del borde. En la Figura 1(a), mostramos cómo una subasta estándar de segundo precio surge naturalmente de nuestro modelo. Supongamos que las valoraciones de los compradores de mayor a menor son w > x > y > z. Los precios de oferta y demanda mostrados son consistentes con un equilibrio en el que i1 y j1 aceptan las ofertas del trader t1, y ningún otro comprador acepta la oferta de su trader adyacente: así, el trader t1 recibe el bien con un precio de oferta de x, y gana w − x al vender el bien al comprador j1 por w. De esta manera, podemos considerar esta instancia particular como una subasta para un bien único en la que los traders actúan como representantes de sus compradores adyacentes. El comprador con la valoración más alta para el bien termina adquiriéndolo, y el excedente se divide entre el vendedor y el comerciante asociado. Se debe tener en cuenta que se puede construir una subasta de k unidades con > k compradores con la misma facilidad, creando un grafo bipartito completo con k vendedores y comerciantes, y luego conectando a cada comerciante con un único comprador distinto. En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales. Específicamente, el vendedor i2 y el comprador j2 ocupan posiciones poderosas, ya que los dos comerciantes compiten por su negocio; por otro lado, los otros vendedores y compradores se encuentran en posiciones débiles, ya que cada uno tiene solo una opción. Y de hecho, en cada equilibrio, hay un número real x ∈ [0, 1] tal que ambos comerciantes ofrecen precios de oferta y demanda de x a i2 y j2 respectivamente, mientras ofrecen ofertas de 0 y demandas de 1 a los otros vendedores y compradores. Por lo tanto, este ejemplo ilustra algunos ingredientes cruciales que identificaremos a un nivel más general en breve. Específicamente, i2 y j2 experimentan los beneficios de la competencia perfecta, ya que los dos comerciantes reducen los márgenes de oferta y demanda a 0 al competir por su negocio. Por otro lado, los otros vendedores y compradores experimentan las desventajas del monopolio: no reciben ninguna ganancia ya que solo tienen una opción para comerciar, y el comerciante correspondiente se queda con todas las ganancias. Observa además cómo este comportamiento natural surge del hecho de que los comerciantes pueden ofrecer diferentes precios a diferentes agentes, capturando el hecho de que no hay un precio fijo en los tipos de mercados que motivan el modelo, sino diferentes precios que reflejan el poder relativo de los diferentes agentes involucrados. El ejemplo anterior muestra quizás la forma más natural en la que la ganancia de un comerciante en una transacción particular puede caer a 0: cuando hay otro comerciante que puede replicar su función de manera precisa. (En ese ejemplo, dos comerciantes tenían la capacidad de mover una copia del bien de i2 a j2). Pero como mostrarán nuestros resultados posteriores, los comerciantes no obtienen ganancias en general debido a razones globales y teóricas de grafos. El ejemplo en la Figura 1(c) da una indicación inicial de esto: se puede demostrar que para cada equilibrio, existe un y ∈ [0, 1] tal que cada oferta y cada precio de demanda es igual a y. En otras palabras, todos los comerciantes no obtienen beneficios, ya sea que pase por ellos una copia del bien o no, y sin embargo, ningún par de comerciantes comparte rutas de vendedor-comprador en común. Los márgenes de precios se han reducido a cero debido a una restricción global impuesta por el largo ciclo a través de todos los agentes; este es un ejemplo de competencia perfecta implícita determinada por la topología de la red. Extendiendo el modelo para bienes distinguibles. Extendemos el modelo básico a un escenario con bienes distinguibles, de la siguiente manera. En lugar de que cada agente i ∈ B ∪ S tenga una única valoración numérica θi, indexamos las valoraciones por pares de compradores y vendedores: si el comprador j obtiene el bien inicialmente poseído por el vendedor i, obtiene una utilidad de θji, y si el vendedor i vende su bien al comprador j, experimenta una pérdida de utilidad de θij. Esto generaliza el caso de bienes indistinguibles, ya que siempre podemos hacer que estas valoraciones por pares dependan solo de uno de los índices. Una estrategia para un trader ahora consiste en ofrecer una oferta a cada vendedor que especifique tanto un precio como un comprador, y ofrecer una demanda a cada comprador que especifique tanto un precio como un vendedor. (También podemos manejar un modelo en el que un trader ofrece ofertas (respectivamente, demandas) en forma de vectores, especificando esencialmente un menú con un precio adjunto a cada comprador (resp. vendedor).) Cada comprador y vendedor selecciona una oferta de un comerciante adyacente, y los pagos a todos los agentes se determinan como antes. Este marco general captura los mercados de emparejamiento [10, 13]: por ejemplo, un mercado laboral que es mediado por agentes o servicios de búsqueda de empleo (como en la contratación de ejecutivos corporativos, o figuras del deporte o del entretenimiento). Aquí los vendedores son solicitantes de empleo, los compradores son empleadores y los comerciantes son los agentes que median en el mercado laboral. Por supuesto, si se especifican valoraciones por pares en los compradores pero solo valoraciones individuales para los vendedores, modelamos un escenario donde los compradores pueden distinguir entre los bienes, pero a los vendedores no les importa a quién venden, esto captura (aproximadamente) escenarios como los mercados de vivienda. Nuestros resultados. Nuestros resultados identificarán formas generales de algunos de los principios mencionados en los ejemplos discutidos anteriormente, incluyendo la pregunta de qué compradores terminan con el bien; la pregunta de cómo los pagos son realizados de manera diferente por vendedores, comerciantes y compradores; y la pregunta de qué propiedades estructurales de la red determinan si los comerciantes obtendrán beneficios positivos. Para hacer esto preciso, introducimos la siguiente notación. Cualquier resultado del juego determina una asignación final de bienes a algunos de los agentes; esto puede ser especificado por una colección M de triples (es decir, te, je), donde ie ∈ S, te ∈ T y je ∈ B; además, cada vendedor y cada comprador aparece en a lo sumo un triple. El significado es que para cada e ∈ M, el bien inicialmente poseído por ie se transfiere a je a través de te. (Los vendedores que no aparecen en ningún trío conservan su copia del bien). Decimos que el valor de la asignación es igual a P e∈M θjeie − θieje. Que θ∗ denote el valor máximo de cualquier asignación M que sea factible dada la red. Mostramos que cada instancia de nuestro juego tiene un equilibrio, y que en cada uno de estos equilibrios, la asignación tiene un valor de θ∗ 145, en otras palabras, logra el mejor valor posible. Por lo tanto, los equilibrios en este modelo son siempre eficientes, ya que el mercado permite que el conjunto correcto de personas obtenga el bien, sujeto a las restricciones de la red. Establecemos la existencia y eficiencia de los equilibrios mediante la construcción de un programa lineal para capturar el flujo de bienes a través de la red; el dual de este programa lineal contiene suficiente información para extraer los precios de equilibrio. Según la definición del juego, el valor de la asignación de equilibrio se divide en forma de pagos a los agentes, y resulta interesante preguntarse cómo se distribuye este valor, en particular cuánta ganancia puede obtener un trader según su posición en la red. Observamos que, aunque todos los equilibrios tienen el mismo valor, la ganancia de un trader dado puede variar entre diferentes equilibrios. Sin embargo, somos capaces de caracterizar las cantidades máximas y mínimas que un operador dado puede obtener, donde estos máximos y mínimos se toman sobre todos los equilibrios, y proporcionamos un algoritmo eficiente para calcular esto. En particular, nuestros resultados aquí implican una caracterización combinatoria clara de cuándo un trader dado t puede lograr un beneficio distinto de cero: esto ocurre si y solo si hay algún borde e incidente en t que es esencial, en el sentido de que eliminar e reduce el valor de la asignación óptima θ∗. También obtenemos resultados para la suma de todas las ganancias de los operadores. Trabajo relacionado. El enfoque estándar de referencia para analizar la interacción entre compradores y vendedores es el modelo walrasiano en el que compradores y vendedores anónimos intercambian un bien a un único precio de equilibrio de mercado. Esta forma reducida de comercio, basada en la idealización de un precio de mercado, es un modelo poderoso que ha dado lugar a muchas ideas. Pero no es un buen modelo para examinar de dónde vienen los precios o exactamente cómo compradores y vendedores comercian entre sí. La dificultad es que en el modelo walrasiano no hay un agente que fije el precio, y los agentes en realidad no comercian entre sí. De hecho, no hay un mercado, en el sentido cotidiano de esa palabra, en el modelo walrasiano. Es decir, no hay un lugar físico o virtual donde los compradores y vendedores interactúen para comerciar y establecer precios. Por lo tanto, en este modelo simple, todos los compradores y vendedores son uniformes y comercian al mismo precio, y tampoco hay un papel para intermediarios. Hay varias literaturas en economía y finanzas que examinan cómo se fijan los precios en lugar de simplemente determinar los precios de equilibrio. La literatura sobre competencia imperfecta es quizás la más antigua de todas. Aquí un monopolista, o un grupo de oligopolistas, eligen los precios con el fin de maximizar sus ganancias (ver [14] para el tratamiento estándar de estos mercados en los libros de texto). Un monopolista utiliza su conocimiento de la demanda del mercado para elegir un precio, o una colección de precios si discrimina. Los oligopolistas juegan un juego en el que sus ganancias dependen de la demanda del mercado y las acciones de sus competidores. En esta literatura hay agentes que fijan precios, pero se mantiene la ficción de un solo mercado. En la literatura de búsqueda de equilibrio, las empresas establecen precios y los consumidores los buscan (ver [3]). Los consumidores terminan pagando precios diferentes, pero todos los consumidores tienen acceso a todas las empresas y no hay intermediarios. En la literatura de equilibrio general ha habido varios intentos de introducir la determinación de precios. Una técnica de prueba estándar para la existencia de un equilibrio competitivo implica un mecanismo de ajuste de precios en el que los precios responden a la demanda excesiva. El subastador walrasiano suele ser presentado como un dispositivo para explicar cómo funciona este proceso, pero en realidad es fundamentalmente una metáfora de un algoritmo iterativo de actualización de precios, no de los detalles internos de un mercado real. Se han introducido procesos más sofisticados para estudiar la estabilidad de los precios de equilibrio o la información necesaria para calcularlos. Pero de nuevo no hay agentes que fijen los precios aquí. En la literatura financiera, el trabajo sobre microestructura de mercado sí tiene agentes que fijan precios (especialistas), algunas partes de él determinan precios de oferta y demanda separados, y diferentes agentes reciben precios distintos por el mismo activo (ver [12] para un tratamiento de la teoría de microestructura). El trabajo en economía de la información ha identificado fenómenos similares (ver por ejemplo [7]). Pero hay poca investigación en estas literaturas que examine el efecto de las restricciones sobre quién puede comerciar con quién. Ha habido varios enfoques para estudiar cómo la estructura de la red determina los precios. Estos han planteado la determinación de precios a través de definiciones basadas en el equilibrio competitivo o el núcleo, o mediante el uso de mecanismos veraces. Al revisar brevemente este trabajo, notaremos el contraste con nuestro enfoque, ya que modelamos los precios como resultado del comportamiento estratégico de los agentes en el sistema. En un trabajo reciente, Kakade et al. [8] han estudiado la distribución de precios en equilibrio competitivo en un grafo bipartito de compradores y vendedores, generado utilizando un modelo probabilístico capaz de producir distribuciones de grados con colas pesadas [11]. Even-Dar et al. [6] se basan en esto para considerar los aspectos estratégicos de la formación de redes cuando los precios surgen del equilibrio competitivo. Leonard [10], Babaioff et al. [1], y Chu y Shen [4] consideran un enfoque basado en el diseño de mecanismos: los compradores y vendedores residen en nodos diferentes en un grafo, y incurren en un costo de transporte dado para comerciar entre sí. Leonard estudia los precios de VCG en este contexto; Babaioff et al. y Chu y Shen además proporcionan un mecanismo equilibrado en presupuesto. Dado que la preocupación aquí radica en mecanismos veraces que operan sobre valoraciones privadas, existe un compromiso inherente entre la eficiencia de la asignación y la condición de equilibrio presupuestario. Por el contrario, nuestro modelo tiene valoraciones y precios conocidos que surgen del comportamiento estratégico de los operadores. Por lo tanto, las suposiciones detrás de nuestro modelo no son directamente comparables a las que subyacen en el enfoque del diseño de mecanismos: aunque asumimos valoraciones conocidas, no requerimos una autoridad centralizada para imponer un mecanismo. Más bien, la fijación de precios es parte del resultado estratégico, como en los mercados reales que motivan nuestro trabajo, y nuestros equilibrios son simultáneamente equilibrados en términos presupuestarios y eficientes, algo que no es posible en los marcos de diseño de mecanismos que se han utilizado. Demange, Gale y Sotomayor [5], y Kranton y Minehart [9], analizan los precios a los que se produce el comercio en una red, trabajando dentro del marco del diseño de mecanismos. Kranton y Minehart utilizan un grafo bipartito con enlaces directos entre compradores y vendedores, y luego emplean un mecanismo de subasta ascendente, en lugar de intermediarios estratégicos, para determinar los precios. Su subasta tiene propiedades de equilibrio deseables, pero como señalan Kranton y Minehart, es una abstracción de cómo se asignan los bienes y se determinan los precios que es similar en espíritu a la abstracción del subastador walrasiano. De hecho, podemos mostrar cómo el modelo básico de Kranton y Minehart puede ser codificado como una instancia de nuestro juego, con los comerciantes produciendo precios en equilibrio que coinciden con los precios producidos por su mecanismo de subasta. Finalmente, los resultados clásicos de Shapley y Shubik [13] sobre el juego de asignación pueden ser vistos como el estudio del resultado del comercio en un grafo bipartito en términos del núcleo. Estudian el dual de un programa lineal basado en el problema de emparejamiento, similar a lo que usamos para una versión reducida de nuestro modelo en la siguiente sección, pero su enfoque es diferente ya que no consideran agentes que buscan establecer precios. 2. MERCADOS CON OPERADORES DE PAREJAS Para comprender las ideas detrás del análisis del modelo general, es muy útil considerar primero un caso especial con un re1 Kranton y Minehart, sin embargo, también pueden analizar un entorno más general en el que los valores de los compradores son privados y, por lo tanto, compradores y vendedores juegan un juego de información incompleta. Solo trabajamos con información completa. 146 forma restringida de comerciantes a los que nos referimos como operadores de pares. En este caso, cada comerciante está conectado a solo un comprador y un vendedor. (Por lo tanto, sirve esencialmente como una ruta comercial entre los dos). Las técnicas que desarrollamos para manejar este caso formarán una base útil para razonar sobre el caso de los comerciantes que pueden estar conectados arbitrariamente a los vendedores y compradores. Relacionaremos las ganancias en un equilibrio de Nash perfecto en subjuegos con las soluciones óptimas de un cierto programa lineal, utilizaremos esta relación para demostrar que todos los equilibrios resultan en una asignación eficiente de los bienes, y mostraremos que siempre existe un equilibrio puro. Primero, consideramos el modelo más simple donde los vendedores tienen artículos indistinguibles, y cada comprador está interesado en obtener un artículo. Luego extendemos los resultados al caso más general de un mercado de emparejamiento, como se discutió en la sección anterior, donde las valoraciones dependen de la identidad del vendedor y comprador. Luego caracterizamos las ganancias mínimas y máximas que los comerciantes pueden obtener. En la siguiente sección, extendemos los resultados a los operadores que pueden estar conectados a cualquier subconjunto de vendedores y compradores. Dado que estamos trabajando con operadores de pares en esta sección, podemos representar el problema utilizando un grafo bipartito G cuyo conjunto de nodos es B ∪ S, y donde cada operador t, conectando al vendedor i y al comprador j, aparece como una arista t = (i, j) en G. Sin embargo, cabe destacar que permitimos que múltiples operadores conecten el mismo par de agentes. Para cada comprador y vendedor i, usaremos adj(i) para denotar el conjunto de comerciantes que pueden comerciar con i. 2.1 Bienes Indistinguibles El intercambio socialmente óptimo para el caso de bienes indistinguibles es la solución del problema de transporte: enviar bienes a lo largo de los bordes que representan a los comerciantes. Las aristas a lo largo de las cuales ocurre el comercio corresponden a un emparejamiento en este grafo bipartito, y el comercio óptimo está descrito por el siguiente programa lineal. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B A continuación, consideramos un equilibrio. Cada operador t = (i, j) debe ofrecer una oferta βt y una demanda αt. (Omitimos el subíndice que denota al vendedor y comprador aquí, ya que estamos tratando con operadores en pares). Dado el precio de oferta y demanda, los agentes reaccionan a estos precios, como se describió anteriormente. En lugar de enfocarnos en los precios, nos enfocaremos en las ganancias. Si un vendedor i vende a un comerciante t ∈ adj(i) con una oferta βt, entonces su ganancia es pi = βt − θi. De manera similar, si un comprador j compra a un comerciante t ∈ adj(j) con una oferta αt, entonces su ganancia es pj = θj − αt. Finalmente, si un comerciante t opera con la oferta αt y la demanda βt, entonces su ganancia es yt = αt − βt. Todos los agentes que no están involucrados en el comercio no obtienen ganancias. Demostraremos que las ganancias en equilibrio son una solución óptima para el siguiente programa lineal. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMA 2.1. En el equilibrio, los beneficios deben satisfacer las desigualdades anteriores. Prueba. Claramente, todas las ganancias son no negativas, ya que el comercio es opcional para todos los agentes. Para ver por qué se cumplen el último conjunto de desigualdades, considera dos casos por separado. Para un comerciante t que realizó un intercambio, obtenemos igualdad por definición. Para otros comerciantes t = (i, j), el valor pi + θi es el precio al que el vendedor i vendió (o θi si el vendedor i decidió quedarse con el bien). Ofrecer una oferta βt > pi + θi haría que el vendedor vendiera al comerciante t. De manera similar, θj − pj es el precio al que el comprador j compró (o θj si no compró), y para cualquier oferta αt < θj − pj, el comprador comprará al comerciante t. Por lo tanto, a menos que θj − pj ≤ θi + pi, el comerciante tiene una desviación rentable. Ahora estamos listos para demostrar nuestro primer teorema: TEOREMA 2.2. En cualquier equilibrio, el comercio es eficiente. Prueba. Que x sea un flujo de bienes que resulta en un equilibrio, y que las variables p e y sean las ganancias. Considera el programa lineal que describe el comercio socialmente óptimo. También agregaremos un conjunto de restricciones adicionales xt ≤ 1 para todos los operadores t ∈ T; esto se puede agregar a la descripción, ya que está implícito en las otras restricciones. Ahora afirmamos que los dos programas lineales son duales entre sí. Las variables pi para los agentes B ∪ S corresponden a las ecuaciones Pt∈adj(i) xt ≤ 1. La variable dual adicional yt corresponde a una desigualdad adicional xt ≤ 1. La optimalidad del valor social del intercambio se seguirá de la afirmación de que la solución de estos dos programas lineales derivados de un equilibrio satisface las condiciones de holgura complementaria para este par de programas lineales, y por lo tanto tanto x como (p, y) son soluciones óptimas de los programas lineales correspondientes. Existen tres condiciones de holgura complementarias diferentes que debemos considerar, correspondientes a los tres conjuntos de variables x, y y p. Cualquier agente solo puede obtener ganancias si realiza transacciones, por lo que pi > 0 implica que P t∈adj(i) xt = 1, y de manera similar, yt > 0 implica que xt = 1 también. Finalmente, considera a un trader t con xt > 0 que negocia entre el vendedor i y el comprador j, y recuerda que hemos visto anteriormente que la desigualdad yt ≥ (θj − pj) − (θi + pi) se cumple con igualdad para aquellos que comercian. A continuación argumentamos que los equilibrios siempre existen. TEOREMA 2.3. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro de valores de oferta y demanda que respalda este comercio. Prueba. Considera un intercambio eficiente; sea xt = 1 si t intercambia y 0 en caso contrario; y considera una solución óptima (p, y) para el programa lineal dual. Nos gustaría afirmar que todas las soluciones duales corresponden a precios de equilibrio, pero desafortunadamente esto no es exactamente cierto. Antes de poder convertir una solución dual en precios de equilibrio, es posible que necesitemos modificar ligeramente la solución de la siguiente manera. Considera cualquier agente i que solo esté conectado a un único comerciante t. Debido a que el agente está solo conectado a un único comerciante, las variables yt y pi son variables duales correspondientes a la misma desigualdad primal xt ≤ 1, y siempre aparecen juntas como yt + pi en todas las desigualdades, y también en la función objetivo. Por lo tanto, existe una solución óptima en la que pi = 0 para todos los agentes i conectados solo a un único comerciante. Supongamos que (p, y) es una solución dual donde los agentes conectados solo a un comerciante tienen pi = 0. Para un vendedor i, dejemos que βt = θi + pi sea la oferta para todos los comerciantes t adyacentes a i. De manera similar, para cada comprador j, sea αt = θj − pj la oferta para todos los operadores t adyacentes a j. Sostenemos que este conjunto de ofertas y demandas, junto con la transacción x, constituyen un equilibrio. Para entender por qué, hay que tener en cuenta que todos los operadores t adyacentes a un vendedor o comprador i ofrecen la misma oferta o demanda, por lo que comerciar con cualquier operador es igualmente bueno para el agente i. Además, si i no está operando en la solución 147 x, entonces por holgura complementaria pi = 0, y por lo tanto, no operar también es igualmente bueno para i. Esto muestra que los vendedores y compradores no tienen un incentivo para desviarse. Necesitamos demostrar que los comerciantes no tienen incentivos para desviarse tampoco. Cuando un comerciante t está negociando con el vendedor i y el comprador j, las desviaciones rentables implicarían aumentar αt o disminuir βt. Pero por nuestra construcción (y suposición sobre agentes monopolizados) todos los vendedores y compradores tienen múltiples ofertas de compra/venta idénticas, o el intercambio está ocurriendo a valuación. En cualquier caso, tal desviación no puede tener éxito. Finalmente, considera un trader t = (i, j) que no realiza intercambios. Una desviación para t implicaría ofrecer una oferta más baja al vendedor i y una oferta más alta al vendedor j que su intercambio actual. Sin embargo, yt = 0 por holgura complementaria, y por lo tanto pi + θi ≥ θj − pj, por lo que i vende a un precio al menos tan alto como el precio al que j compra, por lo que el comerciante t no puede crear un intercambio rentable. Se debe tener en cuenta que un vendedor o comprador conectado a un único comerciante t no puede obtener beneficios en equilibrio, por lo que los posibles beneficios en equilibrio están en correspondencia uno a uno con las soluciones duales para las cuales pi = 0 siempre que i esté monopolizado por un único comerciante. Una característica decepcionante del equilibrio creado por esta prueba es que algunos agentes t pueden tener que crear pares de oferta y demanda donde βt > αt, ofreciendo comprar por más del precio al que están dispuestos a vender. Los agentes que realizan tales pares de oferta y demanda nunca realizan realmente una transacción, por lo que no resulta en una pérdida de beneficios para el agente, pero dichos pares son poco comunes. Los pares de ofertas y demandas cruzadas son débilmente dominados por la estrategia de ofrecer una oferta baja β = 0 y una demanda extremadamente alta para garantizar que ninguna sea aceptada. Para formular una forma de evitar tales pares cruzados, decimos que un equilibrio es libre de cruces si αt ≥ βt para todos los operadores t. Ahora mostramos que siempre hay un equilibrio libre de cruces. TEOREMA 2.4. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro y libre de cruces. Prueba. Considera una solución óptima para el programa lineal dual. Para obtener un equilibrio sin cruzar ofertas, necesitamos hacer una modificación más general que simplemente asumir que pi = 0 para todos los vendedores y compradores conectados a un único operador. Que el conjunto E sea el conjunto de aristas t = (i, j) que son tensas, en el sentido de que tenemos la igualdad yt = (θj − pj) − (θi + pi). Este conjunto E contiene todos los bordes donde ocurre el comercio, y algunos bordes adicionales. Queremos asegurarnos de que pi = 0 para todos los vendedores y compradores que tengan un grado de a lo sumo 1 en E. Considere un vendedor i que tiene pi > 0. Debemos tener i involucrado en un intercambio, y el borde t = (i, j) a lo largo del cual ocurre el intercambio debe ser ajustado. Supongamos que este es el único borde ajustado adyacente al agente i; entonces podemos disminuir pi e incrementar yt hasta que ocurra una de las siguientes situaciones: o bien pi = 0 o la restricción de algún otro agente t ∈ adj(i) se vuelva ajustada. Esta modificación solo aumenta el conjunto de aristas ajustadas E, mantiene la solución factible y no cambia el valor de la función objetivo. Entonces, después de hacer esto para todos los vendedores, y cambiando de manera análoga yt y pj para todos los compradores, obtenemos una solución óptima donde todos los vendedores y compradores i tienen pi = 0 o tienen al menos dos aristas ajustadas adyacentes. Ahora podemos establecer ofertas y demandas para formar un equilibrio libre de cruces. Para todos los traders t = (i, j) asociados con un borde t ∈ E, establecemos αt y βt como antes: fijamos la oferta βt = pi + θi y la demanda αt = θj − pj. Para un trader t = (i, j) ∈ E, tenemos que pi + θi > θj − pj y establecemos αt = βt para que sea cualquier valor en el rango [θj − pj, pi + θi]. Esto garantiza que para cada vendedor o comprador, la mejor oferta de venta o compra se encuentra a lo largo del borde donde se produce el intercambio en la solución. Los valores de askbid a lo largo de los bordes ajustados garantizan que los traders que operan no puedan aumentar su spread. Los operadores t = (i, j) que no realizan operaciones no pueden obtener ganancias debido a la restricción pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) Ningún operador obtiene ganancias 1 1 1 0 x x x x 1 x x 0 x (b) Ganancias del operador Figura 2: Izquierda: un equilibrio con ofertas cruzadas donde los operadores no ganan dinero. Correcto: un equilibrio sin ofertas cruzadas para cualquier valor x ∈ [0, 1]. La ganancia total del comerciante oscila entre 1 y 2. 2.2 Bienes distinguibles. Ahora consideramos el caso de bienes distinguibles. Como en la sección anterior, podemos escribir un programa lineal de transbordo para el comercio socialmente óptimo, con el único cambio en la función objetivo. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) Podemos demostrar que el dual de este programa lineal corresponde a las ganancias de los comerciantes. Recuerda que necesitábamos agregar las restricciones xt ≤ 1 para todos los traders. El dual es entonces: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T. No es difícil extender las pruebas de los Teoremas 2.2 - 2.4 a este caso. Las ganancias en un equilibrio satisfacen las restricciones duales, y las ganancias y el comercio satisfacen la holgura complementaria. Esto demuestra que el comercio es socialmente óptimo. Tomando una solución dual óptima donde pi = 0 para todos los agentes que están monopolizados, podemos convertirla en un equilibrio, y con un poco más de cuidado, también podemos crear un equilibrio sin pares de oferta y demanda cruzados. TEOREMA 2.5. Todos los equilibrios para el caso de los operadores en pares con bienes distinguibles resultan en un comercio socialmente óptimo. Existen equilibrios puros no cruzados. 2.3 Ganancias de los operadores Hemos visto que todos los equilibrios son eficientes. Sin embargo, resulta que los equilibrios pueden diferir en cómo se distribuye el valor de la asignación entre los vendedores, compradores e intermediarios. La Figura 2 representa un ejemplo simple de este fenómeno. Nuestro objetivo es entender cómo se ve afectada la ganancia de un trader por su posición en la red; utilizaremos la caracterización que obtuvimos para determinar el rango de ganancias que un trader puede obtener. Para maximizar la ganancia de un operador t (o un subconjunto de operadores T), todo lo que necesitamos hacer es encontrar una solución óptima al programa lineal dual que maximice el valor de yt (o la suma Pt∈T yt). Tales soluciones duales corresponderán a equilibrios con precios no cruzados. TEOREMA 2.6. Para cualquier operador t o subconjunto de operadores T, la ganancia total máxima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. Este beneficio máximo se puede obtener mediante un equilibrio no cruzado. Una forma de pensar en la ganancia de un trader t = (i, j) es como una resta del valor del borde correspondiente (i, j). El valor del borde es el valor social θji − θij si el comerciante no obtiene ganancias, y disminuye a θji − θij − yt si el comerciante t insiste en obtener una ganancia de yt. El comerciante t obtiene un beneficio yt en equilibrio, si después de esta disminución en el valor del borde, el borde sigue incluido en el transbordo óptimo. TEOREMA 2.7. Un comerciante t puede obtener beneficios en un equilibrio si y solo si t es esencial para el bienestar social, es decir, si eliminar al agente t disminuye el bienestar social. La ganancia máxima que puede obtener es exactamente su valor para la sociedad, es decir, el aumento que su presencia provoca en el bienestar social. Si permitimos el cruce de equilibrios, entonces también podemos encontrar la ganancia mínima posible. Recuerde que en la demostración del Teorema 2.3, los comerciantes solo ganaron dinero de vendedores o compradores sobre los que tenían un monopolio. Permitiendo tales equilibrios con ofertas cruzadas, podemos encontrar la ganancia mínima que un trader o conjunto de traders puede obtener, minimizando el valor yt (o la suma de P t∈T yt) en todas las soluciones óptimas que satisfacen que pi = 0 siempre que i esté conectado solo a un trader. TEOREMA 2.8. Para cualquier operador t o subconjunto de operadores T, la ganancia total mínima que pueden obtener en cualquier equilibrio puede ser calculada en tiempo polinómico. A continuación, extendemos los resultados a un modelo en el que los comerciantes pueden estar conectados a un número arbitrario de vendedores y compradores. Para un comerciante t ∈ T utilizaremos S(t) y B(t) para denotar el conjunto de compradores y vendedores conectados al comerciante t. En esta sección nos enfocamos en el caso general cuando los bienes son distinguibles (es decir, tanto los compradores como los vendedores tienen valoraciones que son sensibles a la identidad del agente con el que se emparejan en la asignación). En la versión completa del artículo también discutimos el caso especial de bienes indistinguibles con más detalle. Para obtener el intercambio óptimo, consideramos el grafo bipartito G = (S ∪ B, E) que conecta vendedores y compradores, donde una arista e = (i, j) conecta un vendedor i y un comprador j si hay un comerciante adyacente a ambos: E = {(i, j) : adj(i) ∩ adj(j) = ∅}. En este gráfico, luego resolvemos la instancia del problema de asignación que también se utilizó en la Sección 2.2, con el valor del borde (i, j) igual a θji − θij (ya que el valor del intercambio entre i y j es independiente de qué comerciante realizó el intercambio). También utilizaremos el dual de este programa lineal: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Ofertas y Demandas y Optimización del Trader. Primero necesitamos entender qué modelo de oferta utilizaremos. Incluso cuando los bienes son indistinguibles, un comerciante puede querer practicar discriminación de precios y ofrecer diferentes valores de oferta y demanda a diferentes vendedores y compradores. En el caso de bienes distinguibles, tenemos que lidiar con una complicación adicional: el comerciante tiene que nombrar el bien que está proponiendo vender o comprar, y posiblemente ofrecer múltiples productos diferentes. Hay dos variantes de nuestro modelo dependiendo de si un trader hace una única oferta de compra o venta a un vendedor o comprador, o si ofrece un menú de opciones. (i) Un trader t puede ofrecer a un comprador j un menú de ofertas de compra αtji, un vector de valores para todos los productos a los que está conectado, donde αtji es la oferta de compra para el producto del vendedor i. De manera simétrica, un trader t puede ofrecer a cada vendedor i un menú de ofertas de venta βtij para vender a diferentes compradores j. (ii) Alternativamente, podemos requerir que cada trader t pueda hacer como máximo una oferta de compra a cada vendedor y una oferta de venta para cada comprador, y una oferta de compra debe incluir el producto vendido, y una oferta de venta debe ofrecer a un comprador en particular para venderle. Nuestros resultados se mantienen en ambos modelos. Para simplificar la notación, utilizaremos la opción del menú aquí. A continuación, necesitamos entender el problema de optimización de un trader t. Supongamos que tenemos valores de oferta y demanda para todos los demás traders t ∈ T, t = t. ¿Cuáles son las mejores ofertas de compra y venta que el trader t puede hacer como mejor respuesta al conjunto actual de ofertas de compra y venta? Para cada vendedor i, dejemos que pi sea la ganancia máxima que el vendedor i puede obtener utilizando ofertas de otros comerciantes, y asumamos de manera simétrica que pj es la ganancia máxima que el comprador j puede obtener utilizando demandas de otros comerciantes (dejando pi = 0 para cualquier vendedor o comprador i que no pueda obtener ganancias). Ahora considera un par vendedor-comprador (i, j) que el comerciante t puede conectar. El trader t tendrá que hacer una oferta de al menos βtij = θij + pi al vendedor i y un precio de venta de como máximo αtji = θji − pj al comprador j para realizar esta transacción, por lo que la ganancia máxima que puede obtener en esta operación es vtij = αtji − βtij = θji − pj − (θij + pi). El intercambio óptimo para el trader t se obtiene resolviendo un problema de emparejamiento para encontrar la correspondencia entre los vendedores S(t) y compradores B(t) que maximiza el valor total vtij para el trader t. Necesitaremos el dual del programa lineal para encontrar el intercambio de máximo beneficio para el trader t. Utilizaremos qti como la variable dual asociada con la restricción del vendedor o comprador i. El dual es entonces el siguiente problema. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t). Vemos qti como la ganancia obtenida por t al comerciar con el vendedor o comprador i. El Teorema 3.1 resume la discusión anterior. TEOREMA 3.1. Para un trader t, dado las ofertas más bajas βtij y las peticiones más altas αtji que pueden ser aceptadas para los vendedores i ∈ S(t) y compradores j ∈ B(t), el mejor intercambio que t puede hacer es el emparejamiento de valor máximo entre S(t) y B(t) con valor vtij = αtji − βtij para la arista (i, j). Este valor máximo es igual al mínimo del programa lineal dual anterior. 3.2 Comercio eficiente y equilibrio Ahora podemos demostrar que el comercio en equilibrio siempre es eficiente. TEOREMA 3.2. Cada equilibrio resulta en una asignación eficiente de los bienes. Prueba. Considera un equilibrio, con xe = 1 si y solo si el comercio ocurre a lo largo del borde e = (i, j). El comercio es una solución al programa lineal de transbordo utilizado en la Sección 2.2. Que pi denote la ganancia del vendedor o comprador i. Cada operador t actualmente tiene la mejor solución a su propio problema de optimización. Un comerciante t encuentra su intercambio óptimo (dadas las ofertas y demandas de los otros 149 comerciantes) resolviendo un problema de emparejamiento. Que qti para i ∈ B(t)∪S(t) denote la solución dual óptima a este problema de emparejamiento como se describe en el Teorema 3.1. Al configurar el problema de optimización para un trader t anteriormente, usamos pi para denotar la ganancia máxima que puedo obtener sin la oferta del trader t. Tenga en cuenta que este pi es exactamente el mismo pi que usamos aquí, la ganancia del agente i. Esto es claramente cierto para todos los operadores t que no están comerciando con i en el equilibrio. Para ver por qué es cierto para el operador t con el que i está negociando, usamos que el conjunto actual de valores de oferta y demanda es un equilibrio. Si para cualquier agente i la oferta o demanda del trader t fuera la única mejor opción, entonces t podría obtener más beneficios ofreciendo una demanda un poco más alta o una oferta un poco más baja, lo cual sería una contradicción. Mostramos que el intercambio x es óptimo al considerar la solución dual zi = pi + P t qti para todos los agentes i ∈ B ∪ S. Afirmamos que z es una solución dual y satisface la holgura complementaria con el intercambio x. Para ver esto, necesitamos mostrar algunos hechos. Necesitamos que zi > 0 implique que i comercie. Si zi > 0, entonces o bien pi > 0 o qti > 0 para algún trader t. El agente i solo puede obtener ganancias pi > 0 si está involucrado en una transacción. Si qti > 0 para algún t, entonces el trader t debe comerciar con i, ya que su solución es óptima, y por holgura complementaria para la solución dual, qti > 0 implica que t comercia con i. Para un borde (i, j) asociado con un trader t, necesitamos mostrar que la solución dual es factible, es decir, zi + zj ≥ θji − θij. Se recuerda que vtij = θji −pj −(θij +pi), y la restricción dual del problema de optimización de los traders requiere qti + qtj ≥ vtij. Al juntar todo esto, tenemos zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij. Finalmente, necesitamos demostrar que las variables de intercambio x también cumplen la restricción de holgura complementaria: cuando xe > 0 para una arista e = (i, j) entonces la restricción dual correspondiente es activa. Que t sea el comerciante involucrado en la transacción. Por la holgura complementaria del problema de optimización de ts, tenemos qti + qtj = vtij. Para ver que z satisface la holgura complementaria, necesitamos argumentar que para todos los otros comerciantes t = t, tenemos tanto qt i = 0 como qt j = 0. Esto es cierto ya que qt i > 0 implica por la holgura complementaria del problema de optimización de t s que t debe comerciar con i en el óptimo, y t = t está comerciando. A continuación queremos demostrar que siempre existe un equilibrio no cruzado. Llamamos a un equilibrio no cruzado si las ofertas de compra y venta que un trader t hace para un par vendedor-comprador (i, j) nunca se cruzan, es decir, βtij ≤ αtji para todo t, i, j. TEOREMA 3.3. Existe un equilibrio no cruzado que respalda cualquier intercambio socialmente óptimo. Prueba. Considera un intercambio óptimo x y una solución dual z como antes. Para encontrar un equilibrio no cruzado necesitamos dividir la ganancia zi entre i y el comerciante t que negocia con i. Usaremos qti como el beneficio del comerciante asociado con el agente i para cualquier i ∈ S(t) ∪ B(t). Necesitaremos garantizar las siguientes propiedades: El comerciante t comercia con el agente i siempre que qti > 0. Esta es una de las condiciones de holgura complementaria para asegurar que el intercambio actual sea óptimo para el trader t. Para todos los pares vendedor-comprador (i, j) con los que un trader t puede comerciar, tenemos que pi + qti + pj + qtj ≥ θji − θij, (1) lo cual asegurará que qt sea una solución dual factible para el problema de optimización al que se enfrenta el trader t. Necesitamos tener igualdad en (1) cuando el trader t está comerciando entre i y j. Esta es una de las condiciones de holgura complementaria para el trader t, y garantizará que el intercambio de t sea óptimo para el trader. Finalmente, queremos organizar que cada agente i con pi > 0 tenga múltiples ofertas para obtener ganancias pi, y que el intercambio se realice en una de sus mejores ofertas. Para garantizar esto en las ofertas y demandas correspondientes, necesitamos asegurarnos de que siempre que pi > 0 haya múltiples t ∈ adj(i) que cumplan con la ecuación en la restricción anterior (1). Comenzamos estableciendo pi = zi para todo i ∈ S ∪ B y qti = 0 para todo i ∈ S ∪ B y traders t ∈ adj(i). Esto garantiza todos los invariantes excepto la última propiedad sobre múltiples t ∈ adj(t) teniendo igualdad en (1). Modificaremos p y q para aplicar gradualmente la última condición, manteniendo las demás. Considera un vendedor con pi > 0. Por la optimalidad del intercambio y la solución dual z, el vendedor i debe comerciar con algún comerciante t, y ese comerciante tendrá igualdad en (1) para el comprador j con el que se empareja i. Si este es el único operador t que tiene una restricción estricta en (1) que involucra al vendedor i, entonces aumentamos qti y disminuimos pi hasta que pi = 0 o hasta que otro operador t = t logre la igualdad en (1) para algún borde del comprador adyacente a i (posiblemente un comprador diferente j). Este cambio mantiene todas las invariantes y aumenta el conjunto de vendedores que también cumplen con la última restricción. Podemos hacer un cambio similar para un comprador j que tiene pj > 0 y solo tiene un operador t con una restricción ajustada (1) adyacente a j. Después de posiblemente repetir esto para todos los vendedores y compradores, obtenemos ganancias que satisfacen todas las restricciones. Ahora obtenemos los valores de oferta y demanda de equilibrio de la siguiente manera. Para un operador t que tiene igualdad para el par vendedor-comprador (i, j) en (1), ofrecemos αtji = θji − pj y βtij = θij + pi. Para todos los demás comerciantes t y pares de vendedor-comprador (i, j) tenemos el invariante (1), y utilizando esto sabemos que podemos elegir un valor γ en el rango θij +pi+qti ≥ γ ≥ θji − (pj + qtj). Ofrecemos valores de oferta y demanda βtij = αtji = γ. Ni la oferta ni la demanda serán la única mejor oferta para el comprador, por lo tanto, el intercambio x sigue siendo un equilibrio. 3.3 Ganancias del Trader Finalmente, nos enfocamos en el objetivo de comprender, en el caso de los traders generales, cómo se ve afectada la ganancia de un trader por su posición en la red. Primero, mostramos cómo maximizar la ganancia total de un grupo de comerciantes. La ganancia del comerciante t en un equilibrio es P i qti. Para encontrar la ganancia máxima posible para un trader t o un conjunto de traders T, necesitamos hacer lo siguiente: Encontrar ganancias pi ≥ 0 y qti > 0 de manera que zi = pi + P t∈adj(i) qti sea una solución dual óptima, y también cumpla con las restricciones (1) para cualquier vendedor i y comprador j conectados a través de un trader t ∈ T. Ahora, sujeto a todas estas condiciones, maximizamos la suma P t∈T P i∈S(t)∪B(t) qti. Ten en cuenta que esta maximización es una función objetivo secundaria con respecto al objetivo principal de que z sea una solución dual óptima. Luego usamos la prueba del Teorema 3.3 que muestra cómo convertir esto en un equilibrio. TEOREMA 3.4. El valor máximo para P t∈T P i qti anterior es la máxima ganancia que el conjunto T de comerciantes puede obtener. Prueba. Por la demostración del Teorema 3.2, las ganancias del comerciante t pueden ser escritas en esta forma, por lo que el conjunto de comerciantes T no puede obtener más ganancias de las reclamadas en este teorema. Para ver que T realmente puede obtener tantas ganancias, usamos la prueba del Teorema 3.3. Modificamos esa prueba para empezar con los vectores de ganancias p y qt para t ∈ T, y establecemos qt = 0 para todos los traders t ∈ T. Verificamos que esta solución inicial cumple con las tres primeras de las cuatro propiedades requeridas, y luego podemos seguir la demostración para hacer que la cuarta propiedad sea verdadera. Omitimos los detalles de esto en la versión actual. En la Sección 2.3 demostramos que en el caso de los traders de pares, un trader t puede ganar dinero si es esencial para el comercio eficiente. Esto no es 150 1 1 Figura 3: El comerciante principal es esencial para el bienestar social. Sin embargo, el único equilibrio es tener valores de oferta y demanda iguales a 0, y el comerciante no obtiene beneficios. Esto es cierto para el tipo de comerciantes más generales que consideramos aquí, como se muestra en el ejemplo de la Figura 3. Sin embargo, aún obtenemos una caracterización de cuándo un comerciante t puede obtener una ganancia positiva. TEOREMA 3.5. Un comerciante t puede obtener ganancias en un equilibrio si y solo si hay un vendedor o comprador i adyacente a t tal que la conexión del comerciante t con el agente i es esencial para el bienestar social, es decir, si eliminar al agente t de adj(i) disminuye el valor de la asignación óptima. Prueba. Primero mostramos la dirección en la que si un comerciante t puede ganar dinero, debe haber un agente i tal que la conexión de t con i sea esencial para el bienestar social. Sean p, q las ganancias en un equilibrio donde t gana dinero, como se describe en el Teorema 3.2 con P i∈S(t)∪B(t) qti > 0. Así que tenemos un agente i con qti > 0. Sostenemos que la conexión entre el agente i y el comerciante t debe ser esencial, en particular, sostenemos que el bienestar social debe disminuir al menos en qti si eliminamos t de adj(t). Para ver por qué, observe que al disminuir el valor de todas las aristas de la forma (i, j) asociadas con el comerciante t en qti, se mantiene el mismo óptimo de comercio, ya que obtenemos una solución dual de emparejamiento simplemente restableciendo qti a cero. Para ver lo contrario, suponga que eliminar t de adj(t) disminuye el bienestar social en algún valor γ. Supongamos que i es un vendedor (el caso de los compradores es simétrico), y disminuye en γ el valor social de cada arista (i, j) para cualquier comprador j tal que t sea el único agente que conecta a i y j. Por supuesto, el intercambio sigue siendo óptimo y dejamos que z sea la solución dual para esta correspondencia. Ahora utilizamos el mismo proceso que en la demostración del Teorema 3.3 para crear un equilibrio no cruzado comenzando con pi = zi para todo i ∈ S ∪ B, y qti = γ, y todos los demás valores de q igual a 0. Esto crea un equilibrio con ofertas que no se cruzan, donde t obtiene al menos γ de beneficio (debido al intercambio con el vendedor i). Finalmente, si permitimos el cruce de equilibrios, entonces podemos encontrar la ganancia mínima posible simplemente encontrando una solución dual que minimice las variables duales asociadas con los agentes monopolizados por algún comerciante. TEOREMA 3.6. Para cualquier trader t o subconjunto de traders T, la ganancia total mínima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. 4. REFERENCIAS [1] M. Babaioff, N. Nisan, E. Pavlov. Mecanismos para un mercado distribuido espacialmente. Conferencia ACM EC, 2005. [2] C. Barrett, E. Mutambatsere. Mercados agrícolas en países en desarrollo. El Nuevo Diccionario de Economía de Palgrave, 2da edición, próximo a publicarse. [3] Kenneth Burdett y Kenneth Judd. Dispersión del precio de equilibrio. Econometrica, 51/4, julio de 1983, 955-969. [4] L. Chu, Z.-J. I'm sorry, but \"Shen\" is not a sentence. Can you please provide a sentence for me to translate into Spanish? Mecanismo de subasta doble de competencia de agentes. Ciencia de la Gestión, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor. Subastas de varios artículos. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Econ. Política 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri. Un juego de formación de redes para economías de intercambio bipartitas. Simposio ACM-SIAM sobre Algoritmos Discretos (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald. Precios dinámicos por agentes de software. Redes de Computadoras, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri. Propiedades económicas de las redes sociales. NIPS 2004. [9] R. Kranton, D. Minehart. \n\nNIPS 2004. [9] R. Kranton, D. Minehart. Una teoría de redes de comprador-vendedor. American Economic Review 91(3), junio de 2001. [10] H. Leonard. Elicitación de preferencias honestas para la asignación de individuos a posiciones. J. Pol. Econ, 1983. [11] M. E. J. Newman. \n\nEcon, 1983. [11] M. E. J. Newman. La estructura y función de redes complejas. SIAM Review, 45:167-256, 2003. [12] M. OHara. \n\nRevista SIAM, 45:167-256, 2003. [12] M. OHara. Teoría de la Microestructura del Mercado. Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.\nEditorial Blackwell, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, El juego de asignación I: El núcleo. Internacional. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Teoría de Juegos 1/2 111-130, 1972. [14] Jean Tirole. La Teoría de la Organización Industrial. El MIT Press, Cambridge, MA, 1988. 151 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "market": {
            "translated_key": "mercado",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the <br>market</br>.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching <br>market</br>, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to <br>market</br> makers to electronic trading systems.",
                "For many assets there is no one <br>market</br>; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the <br>market</br> for foreign exchange, where there is an interbank <br>market</br> with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different <br>market</br> participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the <br>market</br> participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on <br>market</br> microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the <br>market</br> due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job <br>market</br> that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job <br>market</br>.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the <br>market</br> enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single <br>market</br> clearing price.",
                "This reduced form of trade, built on the idealization of a <br>market</br> price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no <br>market</br>, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of <br>market</br> demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on <br>market</br> demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single <br>market</br> is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual <br>market</br>.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on <br>market</br> microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching <br>market</br>, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed <br>market</br>.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "<br>market</br> Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the <br>market</br>.",
                "We extend these results to a more general type of matching <br>market</br>, such as one finds in the matching of job applicants and employers.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to <br>market</br> makers to electronic trading systems.",
                "For many assets there is no one <br>market</br>; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "One of the most striking examples of this phenomenon occurs in the <br>market</br> for foreign exchange, where there is an interbank <br>market</br> with restricted access and a retail market with much more open access."
            ],
            "translated_annotated_samples": [
                "Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el <br>mercado</br>.",
                "Extendemos estos resultados a un tipo más general de <br>mercado</br> de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores.",
                "En estos <br>mercado</br>s, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de <br>mercado</br> y sistemas de negociación electrónica.",
                "Para muchos activos no hay un único <br>mercado</br>; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en <br>mercado</br>s de otros países.",
                "Uno de los ejemplos más llamativos de este fenómeno ocurre en el <br>mercado</br> de divisas, donde existe un <br>mercado</br> interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto."
            ],
            "translated_text": "Redes de intercambio con agentes que fijan precios Larry Blume Dept. En una amplia gama de mercados, los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, quienes determinan los precios mediante consideraciones estratégicas. Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el <br>mercado</br>. Modelamos este fenómeno utilizando un juego en el que compradores, vendedores e intermediarios participan en transacciones en un gráfico que representa el acceso que cada comprador y vendedor tiene a los intermediarios. En este modelo, los comerciantes establecen precios estratégicamente, y luego los compradores y vendedores reaccionan a los precios que se les ofrecen. Mostramos que el juego resultante siempre tiene un equilibrio de Nash perfecto en subjuegos, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. Extendemos estos resultados a un tipo más general de <br>mercado</br> de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores. Finalmente, consideramos cómo los beneficios obtenidos por los comerciantes dependen del grafo subyacente: en resumen, un comerciante puede obtener un beneficio positivo si y solo si tiene una conexión esencial en la estructura de la red, proporcionando así una base teórica de grafos para cuantificar la cantidad de competencia entre los comerciantes. Nuestro trabajo difiere de los estudios recientes sobre cómo el precio se ve afectado por la estructura de la red a través de nuestro modelado del establecimiento de precios como una actividad estratégica realizada por un subconjunto de agentes en el sistema, en lugar de estudiar precios establecidos a través de un equilibrio competitivo o por un mecanismo veraz. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1. INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio. Un ejemplo de esta configuración es el comercio de productos agrícolas en países en desarrollo. Dada la falta de redes de transporte adecuadas y el limitado acceso de los agricultores pobres al capital, muchos agricultores no tienen otra alternativa que comerciar con intermediarios en mercados locales ineficientes. Un país en desarrollo puede tener muchos mercados parcialmente superpuestos que coexisten junto a mercados modernos y eficientes. Los mercados financieros proporcionan un ejemplo diferente de un entorno con estas características generales. En estos <br>mercado</br>s, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de <br>mercado</br> y sistemas de negociación electrónica. Para muchos activos no hay un único <br>mercado</br>; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en <br>mercado</br>s de otros países. Algunos compradores y vendedores tienen acceso a muchos o a todos estos lugares de negociación; otros solo tienen acceso a uno o a unos pocos de ellos. El precio al que se negocia el activo puede variar en estos lugares de negociación. De hecho, no hay un precio fijo ya que diferentes comerciantes pagan o reciben precios diferentes. En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el precio de compra. Uno de los ejemplos más llamativos de este fenómeno ocurre en el <br>mercado</br> de divisas, donde existe un <br>mercado</br> interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "trading network": {
            "translated_key": "red de intercambio",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        },
        "interactions of buyers and sellers": {
            "translated_key": "interacciones de compradores y vendedores",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the <br>interactions of buyers and sellers</br>, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [
                "INTRODUCTION In a range of settings where markets mediate the <br>interactions of buyers and sellers</br>, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price."
            ],
            "translated_annotated_samples": [
                "INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio."
            ],
            "translated_text": "Redes de intercambio con agentes que fijan precios Larry Blume Dept. En una amplia gama de mercados, los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, quienes determinan los precios mediante consideraciones estratégicas. Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el mercado. Modelamos este fenómeno utilizando un juego en el que compradores, vendedores e intermediarios participan en transacciones en un gráfico que representa el acceso que cada comprador y vendedor tiene a los intermediarios. En este modelo, los comerciantes establecen precios estratégicamente, y luego los compradores y vendedores reaccionan a los precios que se les ofrecen. Mostramos que el juego resultante siempre tiene un equilibrio de Nash perfecto en subjuegos, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. Extendemos estos resultados a un tipo más general de mercado de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores. Finalmente, consideramos cómo los beneficios obtenidos por los comerciantes dependen del grafo subyacente: en resumen, un comerciante puede obtener un beneficio positivo si y solo si tiene una conexión esencial en la estructura de la red, proporcionando así una base teórica de grafos para cuantificar la cantidad de competencia entre los comerciantes. Nuestro trabajo difiere de los estudios recientes sobre cómo el precio se ve afectado por la estructura de la red a través de nuestro modelado del establecimiento de precios como una actividad estratégica realizada por un subconjunto de agentes en el sistema, en lugar de estudiar precios establecidos a través de un equilibrio competitivo o por un mecanismo veraz. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1. INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio. Un ejemplo de esta configuración es el comercio de productos agrícolas en países en desarrollo. Dada la falta de redes de transporte adecuadas y el limitado acceso de los agricultores pobres al capital, muchos agricultores no tienen otra alternativa que comerciar con intermediarios en mercados locales ineficientes. Un país en desarrollo puede tener muchos mercados parcialmente superpuestos que coexisten junto a mercados modernos y eficientes. Los mercados financieros proporcionan un ejemplo diferente de un entorno con estas características generales. En estos mercados, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de mercado y sistemas de negociación electrónica. Para muchos activos no hay un único mercado; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en mercados de otros países. Algunos compradores y vendedores tienen acceso a muchos o a todos estos lugares de negociación; otros solo tienen acceso a uno o a unos pocos de ellos. El precio al que se negocia el activo puede variar en estos lugares de negociación. De hecho, no hay un precio fijo ya que diferentes comerciantes pagan o reciben precios diferentes. En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el precio de compra. Uno de los ejemplos más llamativos de este fenómeno ocurre en el mercado de divisas, donde existe un mercado interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto. Los spreads, definidos como la diferencia entre los precios de oferta y demanda, difieren significativamente en estos mercados, a pesar de que el mismo activo se está negociando en ambos mercados. En este artículo, desarrollamos un marco en el que tales fenómenos surgen de un modelo de comercio basado en teoría de juegos, con compradores, vendedores e intermediarios interactuando en una red. Los bordes de la red conectan a los comerciantes con los compradores y vendedores, y por lo tanto representan el acceso que tienen los diferentes participantes del mercado entre sí. Los comerciantes actúan como intermediarios en un juego de comercio de dos etapas: eligen estratégicamente los precios de oferta y demanda para ofrecer a los vendedores y compradores a los que están conectados; luego, los vendedores y compradores reaccionan a los precios que enfrentan. Por lo tanto, la red codifica el poder relativo en las posiciones estructurales de los participantes del mercado, incluyendo los niveles implícitos de competencia entre los traders. Mostramos que este juego siempre tiene un equilibrio de Nash perfecto en subjuegos de 143, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. También analizamos cómo los beneficios de los operadores dependen de la estructura de la red, caracterizando esencialmente en términos de teoría de grafos cómo se determina el pago de un operador por la cantidad de competencia que experimenta con otros operadores. Nuestro trabajo aquí está conectado a varias líneas de investigación en economía, finanzas y teoría de juegos algorítmica, y discutimos estas conexiones con más detalle más adelante en la introducción. A un nivel general, nuestro enfoque puede ser visto como la síntesis de dos importantes corrientes de trabajo: una que trata la interacción comprador-vendedor utilizando estructuras de red, pero sin intentar modelar los procesos mediante los cuales los precios son realmente formados [1, 4, 5, 6, 8, 9, 10, 13]; y otra corriente en la literatura sobre microestructura de mercado que incorpora intermediarios en la fijación de precios, pero sin restricciones de tipo red sobre quién puede comerciar con quién [12]. Al desarrollar un modelo de red que incluye explícitamente a los comerciantes como agentes que establecen precios, en un sistema junto con compradores y vendedores, podemos capturar la formación de precios en un entorno de red como un proceso estratégico llevado a cabo por intermediarios, en lugar de como resultado de un mecanismo centralizado o exógeno. El Modelo Básico: Bienes Indistinguibles. Nuestro objetivo al formular el modelo es expresar el proceso de fijación de precios en mercados como los discutidos anteriormente, donde los participantes no tienen todos acceso uniforme entre sí. Se nos da un conjunto B de compradores, un conjunto S de vendedores y un conjunto T de traders. Hay un grafo no dirigido G que indica quién puede comerciar con quién. Todos los bordes tienen un extremo en B ∪ S y el otro en T; es decir, cada borde tiene la forma (i, t) para i ∈ S y t ∈ T, o (j, t) para j ∈ B y t ∈ T. Esto refleja las restricciones de que todas las transacciones entre compradores y vendedores pasan por los intermediarios comerciales. En la versión más básica del modelo, consideramos bienes idénticos, de los cuales cada vendedor inicialmente posee una copia. Los compradores y vendedores tienen un valor para una copia del bien, y asumimos que estos valores son de conocimiento común. Posteriormente generalizaremos esto a un escenario en el que los bienes son distinguibles, los compradores pueden valorar los diferentes bienes de manera diferente y, potencialmente, los vendedores también pueden valorar las transacciones con diferentes compradores de manera diferente. Tener diferentes valoraciones de los compradores captura escenarios como las compras de viviendas; agregar diferentes valoraciones de los vendedores también captura mercados de coincidencia, por ejemplo, vendedores como solicitantes de empleo y compradores como empleadores, ambos preocupados por quién termina con qué bien (y con los comerciantes actuando como servicios que facilitan la búsqueda de empleo). Por lo tanto, para comenzar con el modelo básico, hay un solo tipo de bien; el bien viene en unidades indivisibles; y cada vendedor inicialmente posee una unidad del bien. Todos los tres tipos de agentes valoran el dinero a la misma tasa; y cada i ∈ B ∪ S valora adicionalmente una copia del bien en θi unidades de dinero. Ningún agente quiere más de una copia del bien, por lo que las copias adicionales se valoran en 0. Cada agente tiene una dotación inicial de dinero que es mayor que cualquier valoración individual θi; el efecto de esto es garantizar que cualquier comprador que termine sin una copia del bien ha sido excluido del mercado debido a su valoración y posición en la red, no a la falta de fondos. Nos imaginamos que cada bien que se vende fluye a lo largo de una secuencia de dos etapas: desde un vendedor a un comerciante, y luego del comerciante a un comprador. La forma particular en la que fluyen los bienes está determinada por el siguiente juego. Primero, cada comerciante ofrece un precio de oferta a cada vendedor al que está conectado, y un precio de demanda a cada comprador al que está conectado. Los vendedores y compradores luego eligen entre las ofertas presentadas por los comerciantes. Si varios comerciantes proponen el mismo precio a un vendedor o comprador, entonces no hay una mejor respuesta estricta para el vendedor o comprador. En este caso se debe hacer una selección, y, como es habitual (ver por ejemplo [10]), nosotros (los modeladores) elegimos entre las mejores ofertas. Finalmente, cada comerciante compra una copia del bien de cada vendedor que acepta su oferta, y vende una copia del bien a cada comprador que acepta su oferta. Si un comerciante en particular, t, descubre que más compradores que vendedores aceptan sus ofertas, entonces se ha comprometido a proporcionar más copias del bien de las que ha recibido, y diremos que esto resulta en una gran penalización para el comerciante por incumplimiento; el efecto de esto es que en equilibrio, ningún comerciante elegirá precios de oferta y demanda que resulten en un incumplimiento. Más precisamente, una estrategia para cada operador t es una especificación de un precio de oferta βti para cada vendedor i al que t está conectado, y un precio de demanda αtj para cada comprador j al que t está conectado. (También podemos manejar un modelo en el que un operador puede optar por no hacer una oferta a ciertos de sus vendedores o compradores adyacentes). Cada vendedor o comprador elige como máximo una arista incidente, indicando el comerciante con quien realizarán la transacción, al precio indicado. (La elección de una sola arista refleja el hecho de que (a) los vendedores inicialmente solo tienen una copia del bien, y (b) los compradores solo desean una copia del bien). Las ganancias son las siguientes: Para cada vendedor i, la ganancia de seleccionar al comerciante t es βti, mientras que la ganancia de no seleccionar a ningún comerciante es θi. (En el primer caso, el vendedor recibe βti unidades de dinero, mientras que en el segundo caso conserva su copia del bien, al que valora en θi). Para cada comprador j, la ganancia de seleccionar al comerciante t es θj - αtj, mientras que la ganancia de no seleccionar a ningún comerciante es 0. (En el primer caso, el comprador recibe el bien pero renuncia a αtj unidades de dinero). Para cada operador t, con ofertas aceptadas de vendedores i1, . . . , is y compradores j1, . . . , jb, la ganancia es P r αtjr − P r βtir, menos una penalización π si b > s. La penalización se elige lo suficientemente grande para que un operador nunca la sufra en equilibrio, por lo que generalmente no nos preocuparemos por la penalización. Esto define los elementos básicos del juego. El concepto de equilibrio que utilizamos es el equilibrio de Nash perfecto en subjuegos. Algunos ejemplos. Para ayudar a pensar en el modelo, ahora describimos tres ejemplos ilustrativos, representados en la Figura 1. Para evitar que las figuras se vuelvan demasiado desordenadas, adoptamos las siguientes convenciones: los vendedores se representan como círculos en la columna más a la izquierda y se les asigna el nombre i1, i2, ... de arriba abajo; los comerciantes se representan como cuadrados en la columna del medio y se les asigna el nombre t1, t2, ... de arriba abajo; y los compradores se representan como círculos en la columna más a la derecha y se les asigna el nombre j1, j2, ... de arriba abajo. Todos los vendedores en los ejemplos tendrán valoraciones para el bien iguales a 0; la valoración de cada comprador se dibuja dentro de su círculo; y el precio de oferta o demanda en cada borde se dibuja encima del borde. En la Figura 1(a), mostramos cómo una subasta estándar de segundo precio surge naturalmente de nuestro modelo. Supongamos que las valoraciones de los compradores de mayor a menor son w > x > y > z. Los precios de oferta y demanda mostrados son consistentes con un equilibrio en el que i1 y j1 aceptan las ofertas del trader t1, y ningún otro comprador acepta la oferta de su trader adyacente: así, el trader t1 recibe el bien con un precio de oferta de x, y gana w − x al vender el bien al comprador j1 por w. De esta manera, podemos considerar esta instancia particular como una subasta para un bien único en la que los traders actúan como representantes de sus compradores adyacentes. El comprador con la valoración más alta para el bien termina adquiriéndolo, y el excedente se divide entre el vendedor y el comerciante asociado. Se debe tener en cuenta que se puede construir una subasta de k unidades con > k compradores con la misma facilidad, creando un grafo bipartito completo con k vendedores y comerciantes, y luego conectando a cada comerciante con un único comprador distinto. En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales. Específicamente, el vendedor i2 y el comprador j2 ocupan posiciones poderosas, ya que los dos comerciantes compiten por su negocio; por otro lado, los otros vendedores y compradores se encuentran en posiciones débiles, ya que cada uno tiene solo una opción. Y de hecho, en cada equilibrio, hay un número real x ∈ [0, 1] tal que ambos comerciantes ofrecen precios de oferta y demanda de x a i2 y j2 respectivamente, mientras ofrecen ofertas de 0 y demandas de 1 a los otros vendedores y compradores. Por lo tanto, este ejemplo ilustra algunos ingredientes cruciales que identificaremos a un nivel más general en breve. Específicamente, i2 y j2 experimentan los beneficios de la competencia perfecta, ya que los dos comerciantes reducen los márgenes de oferta y demanda a 0 al competir por su negocio. Por otro lado, los otros vendedores y compradores experimentan las desventajas del monopolio: no reciben ninguna ganancia ya que solo tienen una opción para comerciar, y el comerciante correspondiente se queda con todas las ganancias. Observa además cómo este comportamiento natural surge del hecho de que los comerciantes pueden ofrecer diferentes precios a diferentes agentes, capturando el hecho de que no hay un precio fijo en los tipos de mercados que motivan el modelo, sino diferentes precios que reflejan el poder relativo de los diferentes agentes involucrados. El ejemplo anterior muestra quizás la forma más natural en la que la ganancia de un comerciante en una transacción particular puede caer a 0: cuando hay otro comerciante que puede replicar su función de manera precisa. (En ese ejemplo, dos comerciantes tenían la capacidad de mover una copia del bien de i2 a j2). Pero como mostrarán nuestros resultados posteriores, los comerciantes no obtienen ganancias en general debido a razones globales y teóricas de grafos. El ejemplo en la Figura 1(c) da una indicación inicial de esto: se puede demostrar que para cada equilibrio, existe un y ∈ [0, 1] tal que cada oferta y cada precio de demanda es igual a y. En otras palabras, todos los comerciantes no obtienen beneficios, ya sea que pase por ellos una copia del bien o no, y sin embargo, ningún par de comerciantes comparte rutas de vendedor-comprador en común. Los márgenes de precios se han reducido a cero debido a una restricción global impuesta por el largo ciclo a través de todos los agentes; este es un ejemplo de competencia perfecta implícita determinada por la topología de la red. Extendiendo el modelo para bienes distinguibles. Extendemos el modelo básico a un escenario con bienes distinguibles, de la siguiente manera. En lugar de que cada agente i ∈ B ∪ S tenga una única valoración numérica θi, indexamos las valoraciones por pares de compradores y vendedores: si el comprador j obtiene el bien inicialmente poseído por el vendedor i, obtiene una utilidad de θji, y si el vendedor i vende su bien al comprador j, experimenta una pérdida de utilidad de θij. Esto generaliza el caso de bienes indistinguibles, ya que siempre podemos hacer que estas valoraciones por pares dependan solo de uno de los índices. Una estrategia para un trader ahora consiste en ofrecer una oferta a cada vendedor que especifique tanto un precio como un comprador, y ofrecer una demanda a cada comprador que especifique tanto un precio como un vendedor. (También podemos manejar un modelo en el que un trader ofrece ofertas (respectivamente, demandas) en forma de vectores, especificando esencialmente un menú con un precio adjunto a cada comprador (resp. vendedor).) Cada comprador y vendedor selecciona una oferta de un comerciante adyacente, y los pagos a todos los agentes se determinan como antes. Este marco general captura los mercados de emparejamiento [10, 13]: por ejemplo, un mercado laboral que es mediado por agentes o servicios de búsqueda de empleo (como en la contratación de ejecutivos corporativos, o figuras del deporte o del entretenimiento). Aquí los vendedores son solicitantes de empleo, los compradores son empleadores y los comerciantes son los agentes que median en el mercado laboral. Por supuesto, si se especifican valoraciones por pares en los compradores pero solo valoraciones individuales para los vendedores, modelamos un escenario donde los compradores pueden distinguir entre los bienes, pero a los vendedores no les importa a quién venden, esto captura (aproximadamente) escenarios como los mercados de vivienda. Nuestros resultados. Nuestros resultados identificarán formas generales de algunos de los principios mencionados en los ejemplos discutidos anteriormente, incluyendo la pregunta de qué compradores terminan con el bien; la pregunta de cómo los pagos son realizados de manera diferente por vendedores, comerciantes y compradores; y la pregunta de qué propiedades estructurales de la red determinan si los comerciantes obtendrán beneficios positivos. Para hacer esto preciso, introducimos la siguiente notación. Cualquier resultado del juego determina una asignación final de bienes a algunos de los agentes; esto puede ser especificado por una colección M de triples (es decir, te, je), donde ie ∈ S, te ∈ T y je ∈ B; además, cada vendedor y cada comprador aparece en a lo sumo un triple. El significado es que para cada e ∈ M, el bien inicialmente poseído por ie se transfiere a je a través de te. (Los vendedores que no aparecen en ningún trío conservan su copia del bien). Decimos que el valor de la asignación es igual a P e∈M θjeie − θieje. Que θ∗ denote el valor máximo de cualquier asignación M que sea factible dada la red. Mostramos que cada instancia de nuestro juego tiene un equilibrio, y que en cada uno de estos equilibrios, la asignación tiene un valor de θ∗ 145, en otras palabras, logra el mejor valor posible. Por lo tanto, los equilibrios en este modelo son siempre eficientes, ya que el mercado permite que el conjunto correcto de personas obtenga el bien, sujeto a las restricciones de la red. Establecemos la existencia y eficiencia de los equilibrios mediante la construcción de un programa lineal para capturar el flujo de bienes a través de la red; el dual de este programa lineal contiene suficiente información para extraer los precios de equilibrio. Según la definición del juego, el valor de la asignación de equilibrio se divide en forma de pagos a los agentes, y resulta interesante preguntarse cómo se distribuye este valor, en particular cuánta ganancia puede obtener un trader según su posición en la red. Observamos que, aunque todos los equilibrios tienen el mismo valor, la ganancia de un trader dado puede variar entre diferentes equilibrios. Sin embargo, somos capaces de caracterizar las cantidades máximas y mínimas que un operador dado puede obtener, donde estos máximos y mínimos se toman sobre todos los equilibrios, y proporcionamos un algoritmo eficiente para calcular esto. En particular, nuestros resultados aquí implican una caracterización combinatoria clara de cuándo un trader dado t puede lograr un beneficio distinto de cero: esto ocurre si y solo si hay algún borde e incidente en t que es esencial, en el sentido de que eliminar e reduce el valor de la asignación óptima θ∗. También obtenemos resultados para la suma de todas las ganancias de los operadores. Trabajo relacionado. El enfoque estándar de referencia para analizar la interacción entre compradores y vendedores es el modelo walrasiano en el que compradores y vendedores anónimos intercambian un bien a un único precio de equilibrio de mercado. Esta forma reducida de comercio, basada en la idealización de un precio de mercado, es un modelo poderoso que ha dado lugar a muchas ideas. Pero no es un buen modelo para examinar de dónde vienen los precios o exactamente cómo compradores y vendedores comercian entre sí. La dificultad es que en el modelo walrasiano no hay un agente que fije el precio, y los agentes en realidad no comercian entre sí. De hecho, no hay un mercado, en el sentido cotidiano de esa palabra, en el modelo walrasiano. Es decir, no hay un lugar físico o virtual donde los compradores y vendedores interactúen para comerciar y establecer precios. Por lo tanto, en este modelo simple, todos los compradores y vendedores son uniformes y comercian al mismo precio, y tampoco hay un papel para intermediarios. Hay varias literaturas en economía y finanzas que examinan cómo se fijan los precios en lugar de simplemente determinar los precios de equilibrio. La literatura sobre competencia imperfecta es quizás la más antigua de todas. Aquí un monopolista, o un grupo de oligopolistas, eligen los precios con el fin de maximizar sus ganancias (ver [14] para el tratamiento estándar de estos mercados en los libros de texto). Un monopolista utiliza su conocimiento de la demanda del mercado para elegir un precio, o una colección de precios si discrimina. Los oligopolistas juegan un juego en el que sus ganancias dependen de la demanda del mercado y las acciones de sus competidores. En esta literatura hay agentes que fijan precios, pero se mantiene la ficción de un solo mercado. En la literatura de búsqueda de equilibrio, las empresas establecen precios y los consumidores los buscan (ver [3]). Los consumidores terminan pagando precios diferentes, pero todos los consumidores tienen acceso a todas las empresas y no hay intermediarios. En la literatura de equilibrio general ha habido varios intentos de introducir la determinación de precios. Una técnica de prueba estándar para la existencia de un equilibrio competitivo implica un mecanismo de ajuste de precios en el que los precios responden a la demanda excesiva. El subastador walrasiano suele ser presentado como un dispositivo para explicar cómo funciona este proceso, pero en realidad es fundamentalmente una metáfora de un algoritmo iterativo de actualización de precios, no de los detalles internos de un mercado real. Se han introducido procesos más sofisticados para estudiar la estabilidad de los precios de equilibrio o la información necesaria para calcularlos. Pero de nuevo no hay agentes que fijen los precios aquí. En la literatura financiera, el trabajo sobre microestructura de mercado sí tiene agentes que fijan precios (especialistas), algunas partes de él determinan precios de oferta y demanda separados, y diferentes agentes reciben precios distintos por el mismo activo (ver [12] para un tratamiento de la teoría de microestructura). El trabajo en economía de la información ha identificado fenómenos similares (ver por ejemplo [7]). Pero hay poca investigación en estas literaturas que examine el efecto de las restricciones sobre quién puede comerciar con quién. Ha habido varios enfoques para estudiar cómo la estructura de la red determina los precios. Estos han planteado la determinación de precios a través de definiciones basadas en el equilibrio competitivo o el núcleo, o mediante el uso de mecanismos veraces. Al revisar brevemente este trabajo, notaremos el contraste con nuestro enfoque, ya que modelamos los precios como resultado del comportamiento estratégico de los agentes en el sistema. En un trabajo reciente, Kakade et al. [8] han estudiado la distribución de precios en equilibrio competitivo en un grafo bipartito de compradores y vendedores, generado utilizando un modelo probabilístico capaz de producir distribuciones de grados con colas pesadas [11]. Even-Dar et al. [6] se basan en esto para considerar los aspectos estratégicos de la formación de redes cuando los precios surgen del equilibrio competitivo. Leonard [10], Babaioff et al. [1], y Chu y Shen [4] consideran un enfoque basado en el diseño de mecanismos: los compradores y vendedores residen en nodos diferentes en un grafo, y incurren en un costo de transporte dado para comerciar entre sí. Leonard estudia los precios de VCG en este contexto; Babaioff et al. y Chu y Shen además proporcionan un mecanismo equilibrado en presupuesto. Dado que la preocupación aquí radica en mecanismos veraces que operan sobre valoraciones privadas, existe un compromiso inherente entre la eficiencia de la asignación y la condición de equilibrio presupuestario. Por el contrario, nuestro modelo tiene valoraciones y precios conocidos que surgen del comportamiento estratégico de los operadores. Por lo tanto, las suposiciones detrás de nuestro modelo no son directamente comparables a las que subyacen en el enfoque del diseño de mecanismos: aunque asumimos valoraciones conocidas, no requerimos una autoridad centralizada para imponer un mecanismo. Más bien, la fijación de precios es parte del resultado estratégico, como en los mercados reales que motivan nuestro trabajo, y nuestros equilibrios son simultáneamente equilibrados en términos presupuestarios y eficientes, algo que no es posible en los marcos de diseño de mecanismos que se han utilizado. Demange, Gale y Sotomayor [5], y Kranton y Minehart [9], analizan los precios a los que se produce el comercio en una red, trabajando dentro del marco del diseño de mecanismos. Kranton y Minehart utilizan un grafo bipartito con enlaces directos entre compradores y vendedores, y luego emplean un mecanismo de subasta ascendente, en lugar de intermediarios estratégicos, para determinar los precios. Su subasta tiene propiedades de equilibrio deseables, pero como señalan Kranton y Minehart, es una abstracción de cómo se asignan los bienes y se determinan los precios que es similar en espíritu a la abstracción del subastador walrasiano. De hecho, podemos mostrar cómo el modelo básico de Kranton y Minehart puede ser codificado como una instancia de nuestro juego, con los comerciantes produciendo precios en equilibrio que coinciden con los precios producidos por su mecanismo de subasta. Finalmente, los resultados clásicos de Shapley y Shubik [13] sobre el juego de asignación pueden ser vistos como el estudio del resultado del comercio en un grafo bipartito en términos del núcleo. Estudian el dual de un programa lineal basado en el problema de emparejamiento, similar a lo que usamos para una versión reducida de nuestro modelo en la siguiente sección, pero su enfoque es diferente ya que no consideran agentes que buscan establecer precios. 2. MERCADOS CON OPERADORES DE PAREJAS Para comprender las ideas detrás del análisis del modelo general, es muy útil considerar primero un caso especial con un re1 Kranton y Minehart, sin embargo, también pueden analizar un entorno más general en el que los valores de los compradores son privados y, por lo tanto, compradores y vendedores juegan un juego de información incompleta. Solo trabajamos con información completa. 146 forma restringida de comerciantes a los que nos referimos como operadores de pares. En este caso, cada comerciante está conectado a solo un comprador y un vendedor. (Por lo tanto, sirve esencialmente como una ruta comercial entre los dos). Las técnicas que desarrollamos para manejar este caso formarán una base útil para razonar sobre el caso de los comerciantes que pueden estar conectados arbitrariamente a los vendedores y compradores. Relacionaremos las ganancias en un equilibrio de Nash perfecto en subjuegos con las soluciones óptimas de un cierto programa lineal, utilizaremos esta relación para demostrar que todos los equilibrios resultan en una asignación eficiente de los bienes, y mostraremos que siempre existe un equilibrio puro. Primero, consideramos el modelo más simple donde los vendedores tienen artículos indistinguibles, y cada comprador está interesado en obtener un artículo. Luego extendemos los resultados al caso más general de un mercado de emparejamiento, como se discutió en la sección anterior, donde las valoraciones dependen de la identidad del vendedor y comprador. Luego caracterizamos las ganancias mínimas y máximas que los comerciantes pueden obtener. En la siguiente sección, extendemos los resultados a los operadores que pueden estar conectados a cualquier subconjunto de vendedores y compradores. Dado que estamos trabajando con operadores de pares en esta sección, podemos representar el problema utilizando un grafo bipartito G cuyo conjunto de nodos es B ∪ S, y donde cada operador t, conectando al vendedor i y al comprador j, aparece como una arista t = (i, j) en G. Sin embargo, cabe destacar que permitimos que múltiples operadores conecten el mismo par de agentes. Para cada comprador y vendedor i, usaremos adj(i) para denotar el conjunto de comerciantes que pueden comerciar con i. 2.1 Bienes Indistinguibles El intercambio socialmente óptimo para el caso de bienes indistinguibles es la solución del problema de transporte: enviar bienes a lo largo de los bordes que representan a los comerciantes. Las aristas a lo largo de las cuales ocurre el comercio corresponden a un emparejamiento en este grafo bipartito, y el comercio óptimo está descrito por el siguiente programa lineal. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B A continuación, consideramos un equilibrio. Cada operador t = (i, j) debe ofrecer una oferta βt y una demanda αt. (Omitimos el subíndice que denota al vendedor y comprador aquí, ya que estamos tratando con operadores en pares). Dado el precio de oferta y demanda, los agentes reaccionan a estos precios, como se describió anteriormente. En lugar de enfocarnos en los precios, nos enfocaremos en las ganancias. Si un vendedor i vende a un comerciante t ∈ adj(i) con una oferta βt, entonces su ganancia es pi = βt − θi. De manera similar, si un comprador j compra a un comerciante t ∈ adj(j) con una oferta αt, entonces su ganancia es pj = θj − αt. Finalmente, si un comerciante t opera con la oferta αt y la demanda βt, entonces su ganancia es yt = αt − βt. Todos los agentes que no están involucrados en el comercio no obtienen ganancias. Demostraremos que las ganancias en equilibrio son una solución óptima para el siguiente programa lineal. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMA 2.1. En el equilibrio, los beneficios deben satisfacer las desigualdades anteriores. Prueba. Claramente, todas las ganancias son no negativas, ya que el comercio es opcional para todos los agentes. Para ver por qué se cumplen el último conjunto de desigualdades, considera dos casos por separado. Para un comerciante t que realizó un intercambio, obtenemos igualdad por definición. Para otros comerciantes t = (i, j), el valor pi + θi es el precio al que el vendedor i vendió (o θi si el vendedor i decidió quedarse con el bien). Ofrecer una oferta βt > pi + θi haría que el vendedor vendiera al comerciante t. De manera similar, θj − pj es el precio al que el comprador j compró (o θj si no compró), y para cualquier oferta αt < θj − pj, el comprador comprará al comerciante t. Por lo tanto, a menos que θj − pj ≤ θi + pi, el comerciante tiene una desviación rentable. Ahora estamos listos para demostrar nuestro primer teorema: TEOREMA 2.2. En cualquier equilibrio, el comercio es eficiente. Prueba. Que x sea un flujo de bienes que resulta en un equilibrio, y que las variables p e y sean las ganancias. Considera el programa lineal que describe el comercio socialmente óptimo. También agregaremos un conjunto de restricciones adicionales xt ≤ 1 para todos los operadores t ∈ T; esto se puede agregar a la descripción, ya que está implícito en las otras restricciones. Ahora afirmamos que los dos programas lineales son duales entre sí. Las variables pi para los agentes B ∪ S corresponden a las ecuaciones Pt∈adj(i) xt ≤ 1. La variable dual adicional yt corresponde a una desigualdad adicional xt ≤ 1. La optimalidad del valor social del intercambio se seguirá de la afirmación de que la solución de estos dos programas lineales derivados de un equilibrio satisface las condiciones de holgura complementaria para este par de programas lineales, y por lo tanto tanto x como (p, y) son soluciones óptimas de los programas lineales correspondientes. Existen tres condiciones de holgura complementarias diferentes que debemos considerar, correspondientes a los tres conjuntos de variables x, y y p. Cualquier agente solo puede obtener ganancias si realiza transacciones, por lo que pi > 0 implica que P t∈adj(i) xt = 1, y de manera similar, yt > 0 implica que xt = 1 también. Finalmente, considera a un trader t con xt > 0 que negocia entre el vendedor i y el comprador j, y recuerda que hemos visto anteriormente que la desigualdad yt ≥ (θj − pj) − (θi + pi) se cumple con igualdad para aquellos que comercian. A continuación argumentamos que los equilibrios siempre existen. TEOREMA 2.3. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro de valores de oferta y demanda que respalda este comercio. Prueba. Considera un intercambio eficiente; sea xt = 1 si t intercambia y 0 en caso contrario; y considera una solución óptima (p, y) para el programa lineal dual. Nos gustaría afirmar que todas las soluciones duales corresponden a precios de equilibrio, pero desafortunadamente esto no es exactamente cierto. Antes de poder convertir una solución dual en precios de equilibrio, es posible que necesitemos modificar ligeramente la solución de la siguiente manera. Considera cualquier agente i que solo esté conectado a un único comerciante t. Debido a que el agente está solo conectado a un único comerciante, las variables yt y pi son variables duales correspondientes a la misma desigualdad primal xt ≤ 1, y siempre aparecen juntas como yt + pi en todas las desigualdades, y también en la función objetivo. Por lo tanto, existe una solución óptima en la que pi = 0 para todos los agentes i conectados solo a un único comerciante. Supongamos que (p, y) es una solución dual donde los agentes conectados solo a un comerciante tienen pi = 0. Para un vendedor i, dejemos que βt = θi + pi sea la oferta para todos los comerciantes t adyacentes a i. De manera similar, para cada comprador j, sea αt = θj − pj la oferta para todos los operadores t adyacentes a j. Sostenemos que este conjunto de ofertas y demandas, junto con la transacción x, constituyen un equilibrio. Para entender por qué, hay que tener en cuenta que todos los operadores t adyacentes a un vendedor o comprador i ofrecen la misma oferta o demanda, por lo que comerciar con cualquier operador es igualmente bueno para el agente i. Además, si i no está operando en la solución 147 x, entonces por holgura complementaria pi = 0, y por lo tanto, no operar también es igualmente bueno para i. Esto muestra que los vendedores y compradores no tienen un incentivo para desviarse. Necesitamos demostrar que los comerciantes no tienen incentivos para desviarse tampoco. Cuando un comerciante t está negociando con el vendedor i y el comprador j, las desviaciones rentables implicarían aumentar αt o disminuir βt. Pero por nuestra construcción (y suposición sobre agentes monopolizados) todos los vendedores y compradores tienen múltiples ofertas de compra/venta idénticas, o el intercambio está ocurriendo a valuación. En cualquier caso, tal desviación no puede tener éxito. Finalmente, considera un trader t = (i, j) que no realiza intercambios. Una desviación para t implicaría ofrecer una oferta más baja al vendedor i y una oferta más alta al vendedor j que su intercambio actual. Sin embargo, yt = 0 por holgura complementaria, y por lo tanto pi + θi ≥ θj − pj, por lo que i vende a un precio al menos tan alto como el precio al que j compra, por lo que el comerciante t no puede crear un intercambio rentable. Se debe tener en cuenta que un vendedor o comprador conectado a un único comerciante t no puede obtener beneficios en equilibrio, por lo que los posibles beneficios en equilibrio están en correspondencia uno a uno con las soluciones duales para las cuales pi = 0 siempre que i esté monopolizado por un único comerciante. Una característica decepcionante del equilibrio creado por esta prueba es que algunos agentes t pueden tener que crear pares de oferta y demanda donde βt > αt, ofreciendo comprar por más del precio al que están dispuestos a vender. Los agentes que realizan tales pares de oferta y demanda nunca realizan realmente una transacción, por lo que no resulta en una pérdida de beneficios para el agente, pero dichos pares son poco comunes. Los pares de ofertas y demandas cruzadas son débilmente dominados por la estrategia de ofrecer una oferta baja β = 0 y una demanda extremadamente alta para garantizar que ninguna sea aceptada. Para formular una forma de evitar tales pares cruzados, decimos que un equilibrio es libre de cruces si αt ≥ βt para todos los operadores t. Ahora mostramos que siempre hay un equilibrio libre de cruces. TEOREMA 2.4. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro y libre de cruces. Prueba. Considera una solución óptima para el programa lineal dual. Para obtener un equilibrio sin cruzar ofertas, necesitamos hacer una modificación más general que simplemente asumir que pi = 0 para todos los vendedores y compradores conectados a un único operador. Que el conjunto E sea el conjunto de aristas t = (i, j) que son tensas, en el sentido de que tenemos la igualdad yt = (θj − pj) − (θi + pi). Este conjunto E contiene todos los bordes donde ocurre el comercio, y algunos bordes adicionales. Queremos asegurarnos de que pi = 0 para todos los vendedores y compradores que tengan un grado de a lo sumo 1 en E. Considere un vendedor i que tiene pi > 0. Debemos tener i involucrado en un intercambio, y el borde t = (i, j) a lo largo del cual ocurre el intercambio debe ser ajustado. Supongamos que este es el único borde ajustado adyacente al agente i; entonces podemos disminuir pi e incrementar yt hasta que ocurra una de las siguientes situaciones: o bien pi = 0 o la restricción de algún otro agente t ∈ adj(i) se vuelva ajustada. Esta modificación solo aumenta el conjunto de aristas ajustadas E, mantiene la solución factible y no cambia el valor de la función objetivo. Entonces, después de hacer esto para todos los vendedores, y cambiando de manera análoga yt y pj para todos los compradores, obtenemos una solución óptima donde todos los vendedores y compradores i tienen pi = 0 o tienen al menos dos aristas ajustadas adyacentes. Ahora podemos establecer ofertas y demandas para formar un equilibrio libre de cruces. Para todos los traders t = (i, j) asociados con un borde t ∈ E, establecemos αt y βt como antes: fijamos la oferta βt = pi + θi y la demanda αt = θj − pj. Para un trader t = (i, j) ∈ E, tenemos que pi + θi > θj − pj y establecemos αt = βt para que sea cualquier valor en el rango [θj − pj, pi + θi]. Esto garantiza que para cada vendedor o comprador, la mejor oferta de venta o compra se encuentra a lo largo del borde donde se produce el intercambio en la solución. Los valores de askbid a lo largo de los bordes ajustados garantizan que los traders que operan no puedan aumentar su spread. Los operadores t = (i, j) que no realizan operaciones no pueden obtener ganancias debido a la restricción pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) Ningún operador obtiene ganancias 1 1 1 0 x x x x 1 x x 0 x (b) Ganancias del operador Figura 2: Izquierda: un equilibrio con ofertas cruzadas donde los operadores no ganan dinero. Correcto: un equilibrio sin ofertas cruzadas para cualquier valor x ∈ [0, 1]. La ganancia total del comerciante oscila entre 1 y 2. 2.2 Bienes distinguibles. Ahora consideramos el caso de bienes distinguibles. Como en la sección anterior, podemos escribir un programa lineal de transbordo para el comercio socialmente óptimo, con el único cambio en la función objetivo. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) Podemos demostrar que el dual de este programa lineal corresponde a las ganancias de los comerciantes. Recuerda que necesitábamos agregar las restricciones xt ≤ 1 para todos los traders. El dual es entonces: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T. No es difícil extender las pruebas de los Teoremas 2.2 - 2.4 a este caso. Las ganancias en un equilibrio satisfacen las restricciones duales, y las ganancias y el comercio satisfacen la holgura complementaria. Esto demuestra que el comercio es socialmente óptimo. Tomando una solución dual óptima donde pi = 0 para todos los agentes que están monopolizados, podemos convertirla en un equilibrio, y con un poco más de cuidado, también podemos crear un equilibrio sin pares de oferta y demanda cruzados. TEOREMA 2.5. Todos los equilibrios para el caso de los operadores en pares con bienes distinguibles resultan en un comercio socialmente óptimo. Existen equilibrios puros no cruzados. 2.3 Ganancias de los operadores Hemos visto que todos los equilibrios son eficientes. Sin embargo, resulta que los equilibrios pueden diferir en cómo se distribuye el valor de la asignación entre los vendedores, compradores e intermediarios. La Figura 2 representa un ejemplo simple de este fenómeno. Nuestro objetivo es entender cómo se ve afectada la ganancia de un trader por su posición en la red; utilizaremos la caracterización que obtuvimos para determinar el rango de ganancias que un trader puede obtener. Para maximizar la ganancia de un operador t (o un subconjunto de operadores T), todo lo que necesitamos hacer es encontrar una solución óptima al programa lineal dual que maximice el valor de yt (o la suma Pt∈T yt). Tales soluciones duales corresponderán a equilibrios con precios no cruzados. TEOREMA 2.6. Para cualquier operador t o subconjunto de operadores T, la ganancia total máxima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. Este beneficio máximo se puede obtener mediante un equilibrio no cruzado. Una forma de pensar en la ganancia de un trader t = (i, j) es como una resta del valor del borde correspondiente (i, j). El valor del borde es el valor social θji − θij si el comerciante no obtiene ganancias, y disminuye a θji − θij − yt si el comerciante t insiste en obtener una ganancia de yt. El comerciante t obtiene un beneficio yt en equilibrio, si después de esta disminución en el valor del borde, el borde sigue incluido en el transbordo óptimo. TEOREMA 2.7. Un comerciante t puede obtener beneficios en un equilibrio si y solo si t es esencial para el bienestar social, es decir, si eliminar al agente t disminuye el bienestar social. La ganancia máxima que puede obtener es exactamente su valor para la sociedad, es decir, el aumento que su presencia provoca en el bienestar social. Si permitimos el cruce de equilibrios, entonces también podemos encontrar la ganancia mínima posible. Recuerde que en la demostración del Teorema 2.3, los comerciantes solo ganaron dinero de vendedores o compradores sobre los que tenían un monopolio. Permitiendo tales equilibrios con ofertas cruzadas, podemos encontrar la ganancia mínima que un trader o conjunto de traders puede obtener, minimizando el valor yt (o la suma de P t∈T yt) en todas las soluciones óptimas que satisfacen que pi = 0 siempre que i esté conectado solo a un trader. TEOREMA 2.8. Para cualquier operador t o subconjunto de operadores T, la ganancia total mínima que pueden obtener en cualquier equilibrio puede ser calculada en tiempo polinómico. A continuación, extendemos los resultados a un modelo en el que los comerciantes pueden estar conectados a un número arbitrario de vendedores y compradores. Para un comerciante t ∈ T utilizaremos S(t) y B(t) para denotar el conjunto de compradores y vendedores conectados al comerciante t. En esta sección nos enfocamos en el caso general cuando los bienes son distinguibles (es decir, tanto los compradores como los vendedores tienen valoraciones que son sensibles a la identidad del agente con el que se emparejan en la asignación). En la versión completa del artículo también discutimos el caso especial de bienes indistinguibles con más detalle. Para obtener el intercambio óptimo, consideramos el grafo bipartito G = (S ∪ B, E) que conecta vendedores y compradores, donde una arista e = (i, j) conecta un vendedor i y un comprador j si hay un comerciante adyacente a ambos: E = {(i, j) : adj(i) ∩ adj(j) = ∅}. En este gráfico, luego resolvemos la instancia del problema de asignación que también se utilizó en la Sección 2.2, con el valor del borde (i, j) igual a θji − θij (ya que el valor del intercambio entre i y j es independiente de qué comerciante realizó el intercambio). También utilizaremos el dual de este programa lineal: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Ofertas y Demandas y Optimización del Trader. Primero necesitamos entender qué modelo de oferta utilizaremos. Incluso cuando los bienes son indistinguibles, un comerciante puede querer practicar discriminación de precios y ofrecer diferentes valores de oferta y demanda a diferentes vendedores y compradores. En el caso de bienes distinguibles, tenemos que lidiar con una complicación adicional: el comerciante tiene que nombrar el bien que está proponiendo vender o comprar, y posiblemente ofrecer múltiples productos diferentes. Hay dos variantes de nuestro modelo dependiendo de si un trader hace una única oferta de compra o venta a un vendedor o comprador, o si ofrece un menú de opciones. (i) Un trader t puede ofrecer a un comprador j un menú de ofertas de compra αtji, un vector de valores para todos los productos a los que está conectado, donde αtji es la oferta de compra para el producto del vendedor i. De manera simétrica, un trader t puede ofrecer a cada vendedor i un menú de ofertas de venta βtij para vender a diferentes compradores j. (ii) Alternativamente, podemos requerir que cada trader t pueda hacer como máximo una oferta de compra a cada vendedor y una oferta de venta para cada comprador, y una oferta de compra debe incluir el producto vendido, y una oferta de venta debe ofrecer a un comprador en particular para venderle. Nuestros resultados se mantienen en ambos modelos. Para simplificar la notación, utilizaremos la opción del menú aquí. A continuación, necesitamos entender el problema de optimización de un trader t. Supongamos que tenemos valores de oferta y demanda para todos los demás traders t ∈ T, t = t. ¿Cuáles son las mejores ofertas de compra y venta que el trader t puede hacer como mejor respuesta al conjunto actual de ofertas de compra y venta? Para cada vendedor i, dejemos que pi sea la ganancia máxima que el vendedor i puede obtener utilizando ofertas de otros comerciantes, y asumamos de manera simétrica que pj es la ganancia máxima que el comprador j puede obtener utilizando demandas de otros comerciantes (dejando pi = 0 para cualquier vendedor o comprador i que no pueda obtener ganancias). Ahora considera un par vendedor-comprador (i, j) que el comerciante t puede conectar. El trader t tendrá que hacer una oferta de al menos βtij = θij + pi al vendedor i y un precio de venta de como máximo αtji = θji − pj al comprador j para realizar esta transacción, por lo que la ganancia máxima que puede obtener en esta operación es vtij = αtji − βtij = θji − pj − (θij + pi). El intercambio óptimo para el trader t se obtiene resolviendo un problema de emparejamiento para encontrar la correspondencia entre los vendedores S(t) y compradores B(t) que maximiza el valor total vtij para el trader t. Necesitaremos el dual del programa lineal para encontrar el intercambio de máximo beneficio para el trader t. Utilizaremos qti como la variable dual asociada con la restricción del vendedor o comprador i. El dual es entonces el siguiente problema. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t). Vemos qti como la ganancia obtenida por t al comerciar con el vendedor o comprador i. El Teorema 3.1 resume la discusión anterior. TEOREMA 3.1. Para un trader t, dado las ofertas más bajas βtij y las peticiones más altas αtji que pueden ser aceptadas para los vendedores i ∈ S(t) y compradores j ∈ B(t), el mejor intercambio que t puede hacer es el emparejamiento de valor máximo entre S(t) y B(t) con valor vtij = αtji − βtij para la arista (i, j). Este valor máximo es igual al mínimo del programa lineal dual anterior. 3.2 Comercio eficiente y equilibrio Ahora podemos demostrar que el comercio en equilibrio siempre es eficiente. TEOREMA 3.2. Cada equilibrio resulta en una asignación eficiente de los bienes. Prueba. Considera un equilibrio, con xe = 1 si y solo si el comercio ocurre a lo largo del borde e = (i, j). El comercio es una solución al programa lineal de transbordo utilizado en la Sección 2.2. Que pi denote la ganancia del vendedor o comprador i. Cada operador t actualmente tiene la mejor solución a su propio problema de optimización. Un comerciante t encuentra su intercambio óptimo (dadas las ofertas y demandas de los otros 149 comerciantes) resolviendo un problema de emparejamiento. Que qti para i ∈ B(t)∪S(t) denote la solución dual óptima a este problema de emparejamiento como se describe en el Teorema 3.1. Al configurar el problema de optimización para un trader t anteriormente, usamos pi para denotar la ganancia máxima que puedo obtener sin la oferta del trader t. Tenga en cuenta que este pi es exactamente el mismo pi que usamos aquí, la ganancia del agente i. Esto es claramente cierto para todos los operadores t que no están comerciando con i en el equilibrio. Para ver por qué es cierto para el operador t con el que i está negociando, usamos que el conjunto actual de valores de oferta y demanda es un equilibrio. Si para cualquier agente i la oferta o demanda del trader t fuera la única mejor opción, entonces t podría obtener más beneficios ofreciendo una demanda un poco más alta o una oferta un poco más baja, lo cual sería una contradicción. Mostramos que el intercambio x es óptimo al considerar la solución dual zi = pi + P t qti para todos los agentes i ∈ B ∪ S. Afirmamos que z es una solución dual y satisface la holgura complementaria con el intercambio x. Para ver esto, necesitamos mostrar algunos hechos. Necesitamos que zi > 0 implique que i comercie. Si zi > 0, entonces o bien pi > 0 o qti > 0 para algún trader t. El agente i solo puede obtener ganancias pi > 0 si está involucrado en una transacción. Si qti > 0 para algún t, entonces el trader t debe comerciar con i, ya que su solución es óptima, y por holgura complementaria para la solución dual, qti > 0 implica que t comercia con i. Para un borde (i, j) asociado con un trader t, necesitamos mostrar que la solución dual es factible, es decir, zi + zj ≥ θji − θij. Se recuerda que vtij = θji −pj −(θij +pi), y la restricción dual del problema de optimización de los traders requiere qti + qtj ≥ vtij. Al juntar todo esto, tenemos zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij. Finalmente, necesitamos demostrar que las variables de intercambio x también cumplen la restricción de holgura complementaria: cuando xe > 0 para una arista e = (i, j) entonces la restricción dual correspondiente es activa. Que t sea el comerciante involucrado en la transacción. Por la holgura complementaria del problema de optimización de ts, tenemos qti + qtj = vtij. Para ver que z satisface la holgura complementaria, necesitamos argumentar que para todos los otros comerciantes t = t, tenemos tanto qt i = 0 como qt j = 0. Esto es cierto ya que qt i > 0 implica por la holgura complementaria del problema de optimización de t s que t debe comerciar con i en el óptimo, y t = t está comerciando. A continuación queremos demostrar que siempre existe un equilibrio no cruzado. Llamamos a un equilibrio no cruzado si las ofertas de compra y venta que un trader t hace para un par vendedor-comprador (i, j) nunca se cruzan, es decir, βtij ≤ αtji para todo t, i, j. TEOREMA 3.3. Existe un equilibrio no cruzado que respalda cualquier intercambio socialmente óptimo. Prueba. Considera un intercambio óptimo x y una solución dual z como antes. Para encontrar un equilibrio no cruzado necesitamos dividir la ganancia zi entre i y el comerciante t que negocia con i. Usaremos qti como el beneficio del comerciante asociado con el agente i para cualquier i ∈ S(t) ∪ B(t). Necesitaremos garantizar las siguientes propiedades: El comerciante t comercia con el agente i siempre que qti > 0. Esta es una de las condiciones de holgura complementaria para asegurar que el intercambio actual sea óptimo para el trader t. Para todos los pares vendedor-comprador (i, j) con los que un trader t puede comerciar, tenemos que pi + qti + pj + qtj ≥ θji − θij, (1) lo cual asegurará que qt sea una solución dual factible para el problema de optimización al que se enfrenta el trader t. Necesitamos tener igualdad en (1) cuando el trader t está comerciando entre i y j. Esta es una de las condiciones de holgura complementaria para el trader t, y garantizará que el intercambio de t sea óptimo para el trader. Finalmente, queremos organizar que cada agente i con pi > 0 tenga múltiples ofertas para obtener ganancias pi, y que el intercambio se realice en una de sus mejores ofertas. Para garantizar esto en las ofertas y demandas correspondientes, necesitamos asegurarnos de que siempre que pi > 0 haya múltiples t ∈ adj(i) que cumplan con la ecuación en la restricción anterior (1). Comenzamos estableciendo pi = zi para todo i ∈ S ∪ B y qti = 0 para todo i ∈ S ∪ B y traders t ∈ adj(i). Esto garantiza todos los invariantes excepto la última propiedad sobre múltiples t ∈ adj(t) teniendo igualdad en (1). Modificaremos p y q para aplicar gradualmente la última condición, manteniendo las demás. Considera un vendedor con pi > 0. Por la optimalidad del intercambio y la solución dual z, el vendedor i debe comerciar con algún comerciante t, y ese comerciante tendrá igualdad en (1) para el comprador j con el que se empareja i. Si este es el único operador t que tiene una restricción estricta en (1) que involucra al vendedor i, entonces aumentamos qti y disminuimos pi hasta que pi = 0 o hasta que otro operador t = t logre la igualdad en (1) para algún borde del comprador adyacente a i (posiblemente un comprador diferente j). Este cambio mantiene todas las invariantes y aumenta el conjunto de vendedores que también cumplen con la última restricción. Podemos hacer un cambio similar para un comprador j que tiene pj > 0 y solo tiene un operador t con una restricción ajustada (1) adyacente a j. Después de posiblemente repetir esto para todos los vendedores y compradores, obtenemos ganancias que satisfacen todas las restricciones. Ahora obtenemos los valores de oferta y demanda de equilibrio de la siguiente manera. Para un operador t que tiene igualdad para el par vendedor-comprador (i, j) en (1), ofrecemos αtji = θji − pj y βtij = θij + pi. Para todos los demás comerciantes t y pares de vendedor-comprador (i, j) tenemos el invariante (1), y utilizando esto sabemos que podemos elegir un valor γ en el rango θij +pi+qti ≥ γ ≥ θji − (pj + qtj). Ofrecemos valores de oferta y demanda βtij = αtji = γ. Ni la oferta ni la demanda serán la única mejor oferta para el comprador, por lo tanto, el intercambio x sigue siendo un equilibrio. 3.3 Ganancias del Trader Finalmente, nos enfocamos en el objetivo de comprender, en el caso de los traders generales, cómo se ve afectada la ganancia de un trader por su posición en la red. Primero, mostramos cómo maximizar la ganancia total de un grupo de comerciantes. La ganancia del comerciante t en un equilibrio es P i qti. Para encontrar la ganancia máxima posible para un trader t o un conjunto de traders T, necesitamos hacer lo siguiente: Encontrar ganancias pi ≥ 0 y qti > 0 de manera que zi = pi + P t∈adj(i) qti sea una solución dual óptima, y también cumpla con las restricciones (1) para cualquier vendedor i y comprador j conectados a través de un trader t ∈ T. Ahora, sujeto a todas estas condiciones, maximizamos la suma P t∈T P i∈S(t)∪B(t) qti. Ten en cuenta que esta maximización es una función objetivo secundaria con respecto al objetivo principal de que z sea una solución dual óptima. Luego usamos la prueba del Teorema 3.3 que muestra cómo convertir esto en un equilibrio. TEOREMA 3.4. El valor máximo para P t∈T P i qti anterior es la máxima ganancia que el conjunto T de comerciantes puede obtener. Prueba. Por la demostración del Teorema 3.2, las ganancias del comerciante t pueden ser escritas en esta forma, por lo que el conjunto de comerciantes T no puede obtener más ganancias de las reclamadas en este teorema. Para ver que T realmente puede obtener tantas ganancias, usamos la prueba del Teorema 3.3. Modificamos esa prueba para empezar con los vectores de ganancias p y qt para t ∈ T, y establecemos qt = 0 para todos los traders t ∈ T. Verificamos que esta solución inicial cumple con las tres primeras de las cuatro propiedades requeridas, y luego podemos seguir la demostración para hacer que la cuarta propiedad sea verdadera. Omitimos los detalles de esto en la versión actual. En la Sección 2.3 demostramos que en el caso de los traders de pares, un trader t puede ganar dinero si es esencial para el comercio eficiente. Esto no es 150 1 1 Figura 3: El comerciante principal es esencial para el bienestar social. Sin embargo, el único equilibrio es tener valores de oferta y demanda iguales a 0, y el comerciante no obtiene beneficios. Esto es cierto para el tipo de comerciantes más generales que consideramos aquí, como se muestra en el ejemplo de la Figura 3. Sin embargo, aún obtenemos una caracterización de cuándo un comerciante t puede obtener una ganancia positiva. TEOREMA 3.5. Un comerciante t puede obtener ganancias en un equilibrio si y solo si hay un vendedor o comprador i adyacente a t tal que la conexión del comerciante t con el agente i es esencial para el bienestar social, es decir, si eliminar al agente t de adj(i) disminuye el valor de la asignación óptima. Prueba. Primero mostramos la dirección en la que si un comerciante t puede ganar dinero, debe haber un agente i tal que la conexión de t con i sea esencial para el bienestar social. Sean p, q las ganancias en un equilibrio donde t gana dinero, como se describe en el Teorema 3.2 con P i∈S(t)∪B(t) qti > 0. Así que tenemos un agente i con qti > 0. Sostenemos que la conexión entre el agente i y el comerciante t debe ser esencial, en particular, sostenemos que el bienestar social debe disminuir al menos en qti si eliminamos t de adj(t). Para ver por qué, observe que al disminuir el valor de todas las aristas de la forma (i, j) asociadas con el comerciante t en qti, se mantiene el mismo óptimo de comercio, ya que obtenemos una solución dual de emparejamiento simplemente restableciendo qti a cero. Para ver lo contrario, suponga que eliminar t de adj(t) disminuye el bienestar social en algún valor γ. Supongamos que i es un vendedor (el caso de los compradores es simétrico), y disminuye en γ el valor social de cada arista (i, j) para cualquier comprador j tal que t sea el único agente que conecta a i y j. Por supuesto, el intercambio sigue siendo óptimo y dejamos que z sea la solución dual para esta correspondencia. Ahora utilizamos el mismo proceso que en la demostración del Teorema 3.3 para crear un equilibrio no cruzado comenzando con pi = zi para todo i ∈ S ∪ B, y qti = γ, y todos los demás valores de q igual a 0. Esto crea un equilibrio con ofertas que no se cruzan, donde t obtiene al menos γ de beneficio (debido al intercambio con el vendedor i). Finalmente, si permitimos el cruce de equilibrios, entonces podemos encontrar la ganancia mínima posible simplemente encontrando una solución dual que minimice las variables duales asociadas con los agentes monopolizados por algún comerciante. TEOREMA 3.6. Para cualquier trader t o subconjunto de traders T, la ganancia total mínima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. 4. REFERENCIAS [1] M. Babaioff, N. Nisan, E. Pavlov. Mecanismos para un mercado distribuido espacialmente. Conferencia ACM EC, 2005. [2] C. Barrett, E. Mutambatsere. Mercados agrícolas en países en desarrollo. El Nuevo Diccionario de Economía de Palgrave, 2da edición, próximo a publicarse. [3] Kenneth Burdett y Kenneth Judd. Dispersión del precio de equilibrio. Econometrica, 51/4, julio de 1983, 955-969. [4] L. Chu, Z.-J. I'm sorry, but \"Shen\" is not a sentence. Can you please provide a sentence for me to translate into Spanish? Mecanismo de subasta doble de competencia de agentes. Ciencia de la Gestión, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor. Subastas de varios artículos. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Econ. Política 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri. Un juego de formación de redes para economías de intercambio bipartitas. Simposio ACM-SIAM sobre Algoritmos Discretos (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald. Precios dinámicos por agentes de software. Redes de Computadoras, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri. Propiedades económicas de las redes sociales. NIPS 2004. [9] R. Kranton, D. Minehart. \n\nNIPS 2004. [9] R. Kranton, D. Minehart. Una teoría de redes de comprador-vendedor. American Economic Review 91(3), junio de 2001. [10] H. Leonard. Elicitación de preferencias honestas para la asignación de individuos a posiciones. J. Pol. Econ, 1983. [11] M. E. J. Newman. \n\nEcon, 1983. [11] M. E. J. Newman. La estructura y función de redes complejas. SIAM Review, 45:167-256, 2003. [12] M. OHara. \n\nRevista SIAM, 45:167-256, 2003. [12] M. OHara. Teoría de la Microestructura del Mercado. Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.\nEditorial Blackwell, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, El juego de asignación I: El núcleo. Internacional. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Teoría de Juegos 1/2 111-130, 1972. [14] Jean Tirole. La Teoría de la Organización Industrial. El MIT Press, Cambridge, MA, 1988. 151 ",
            "candidates": [],
            "error": [
                []
            ]
        },
        "buyer and seller interaction": {
            "translated_key": "interacción entre comprador y vendedor",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        },
        "initial endowment of money": {
            "translated_key": "dotación inicial de dinero",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an <br>initial endowment of money</br> that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [
                "Each agent has an <br>initial endowment of money</br> that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds."
            ],
            "translated_annotated_samples": [
                "Cada agente tiene una <br>dotación inicial de dinero</br> que es mayor que cualquier valoración individual θi; el efecto de esto es garantizar que cualquier comprador que termine sin una copia del bien ha sido excluido del mercado debido a su valoración y posición en la red, no a la falta de fondos."
            ],
            "translated_text": "Redes de intercambio con agentes que fijan precios Larry Blume Dept. En una amplia gama de mercados, los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, quienes determinan los precios mediante consideraciones estratégicas. Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el mercado. Modelamos este fenómeno utilizando un juego en el que compradores, vendedores e intermediarios participan en transacciones en un gráfico que representa el acceso que cada comprador y vendedor tiene a los intermediarios. En este modelo, los comerciantes establecen precios estratégicamente, y luego los compradores y vendedores reaccionan a los precios que se les ofrecen. Mostramos que el juego resultante siempre tiene un equilibrio de Nash perfecto en subjuegos, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. Extendemos estos resultados a un tipo más general de mercado de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores. Finalmente, consideramos cómo los beneficios obtenidos por los comerciantes dependen del grafo subyacente: en resumen, un comerciante puede obtener un beneficio positivo si y solo si tiene una conexión esencial en la estructura de la red, proporcionando así una base teórica de grafos para cuantificar la cantidad de competencia entre los comerciantes. Nuestro trabajo difiere de los estudios recientes sobre cómo el precio se ve afectado por la estructura de la red a través de nuestro modelado del establecimiento de precios como una actividad estratégica realizada por un subconjunto de agentes en el sistema, en lugar de estudiar precios establecidos a través de un equilibrio competitivo o por un mecanismo veraz. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1. INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio. Un ejemplo de esta configuración es el comercio de productos agrícolas en países en desarrollo. Dada la falta de redes de transporte adecuadas y el limitado acceso de los agricultores pobres al capital, muchos agricultores no tienen otra alternativa que comerciar con intermediarios en mercados locales ineficientes. Un país en desarrollo puede tener muchos mercados parcialmente superpuestos que coexisten junto a mercados modernos y eficientes. Los mercados financieros proporcionan un ejemplo diferente de un entorno con estas características generales. En estos mercados, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de mercado y sistemas de negociación electrónica. Para muchos activos no hay un único mercado; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en mercados de otros países. Algunos compradores y vendedores tienen acceso a muchos o a todos estos lugares de negociación; otros solo tienen acceso a uno o a unos pocos de ellos. El precio al que se negocia el activo puede variar en estos lugares de negociación. De hecho, no hay un precio fijo ya que diferentes comerciantes pagan o reciben precios diferentes. En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el precio de compra. Uno de los ejemplos más llamativos de este fenómeno ocurre en el mercado de divisas, donde existe un mercado interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto. Los spreads, definidos como la diferencia entre los precios de oferta y demanda, difieren significativamente en estos mercados, a pesar de que el mismo activo se está negociando en ambos mercados. En este artículo, desarrollamos un marco en el que tales fenómenos surgen de un modelo de comercio basado en teoría de juegos, con compradores, vendedores e intermediarios interactuando en una red. Los bordes de la red conectan a los comerciantes con los compradores y vendedores, y por lo tanto representan el acceso que tienen los diferentes participantes del mercado entre sí. Los comerciantes actúan como intermediarios en un juego de comercio de dos etapas: eligen estratégicamente los precios de oferta y demanda para ofrecer a los vendedores y compradores a los que están conectados; luego, los vendedores y compradores reaccionan a los precios que enfrentan. Por lo tanto, la red codifica el poder relativo en las posiciones estructurales de los participantes del mercado, incluyendo los niveles implícitos de competencia entre los traders. Mostramos que este juego siempre tiene un equilibrio de Nash perfecto en subjuegos de 143, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. También analizamos cómo los beneficios de los operadores dependen de la estructura de la red, caracterizando esencialmente en términos de teoría de grafos cómo se determina el pago de un operador por la cantidad de competencia que experimenta con otros operadores. Nuestro trabajo aquí está conectado a varias líneas de investigación en economía, finanzas y teoría de juegos algorítmica, y discutimos estas conexiones con más detalle más adelante en la introducción. A un nivel general, nuestro enfoque puede ser visto como la síntesis de dos importantes corrientes de trabajo: una que trata la interacción comprador-vendedor utilizando estructuras de red, pero sin intentar modelar los procesos mediante los cuales los precios son realmente formados [1, 4, 5, 6, 8, 9, 10, 13]; y otra corriente en la literatura sobre microestructura de mercado que incorpora intermediarios en la fijación de precios, pero sin restricciones de tipo red sobre quién puede comerciar con quién [12]. Al desarrollar un modelo de red que incluye explícitamente a los comerciantes como agentes que establecen precios, en un sistema junto con compradores y vendedores, podemos capturar la formación de precios en un entorno de red como un proceso estratégico llevado a cabo por intermediarios, en lugar de como resultado de un mecanismo centralizado o exógeno. El Modelo Básico: Bienes Indistinguibles. Nuestro objetivo al formular el modelo es expresar el proceso de fijación de precios en mercados como los discutidos anteriormente, donde los participantes no tienen todos acceso uniforme entre sí. Se nos da un conjunto B de compradores, un conjunto S de vendedores y un conjunto T de traders. Hay un grafo no dirigido G que indica quién puede comerciar con quién. Todos los bordes tienen un extremo en B ∪ S y el otro en T; es decir, cada borde tiene la forma (i, t) para i ∈ S y t ∈ T, o (j, t) para j ∈ B y t ∈ T. Esto refleja las restricciones de que todas las transacciones entre compradores y vendedores pasan por los intermediarios comerciales. En la versión más básica del modelo, consideramos bienes idénticos, de los cuales cada vendedor inicialmente posee una copia. Los compradores y vendedores tienen un valor para una copia del bien, y asumimos que estos valores son de conocimiento común. Posteriormente generalizaremos esto a un escenario en el que los bienes son distinguibles, los compradores pueden valorar los diferentes bienes de manera diferente y, potencialmente, los vendedores también pueden valorar las transacciones con diferentes compradores de manera diferente. Tener diferentes valoraciones de los compradores captura escenarios como las compras de viviendas; agregar diferentes valoraciones de los vendedores también captura mercados de coincidencia, por ejemplo, vendedores como solicitantes de empleo y compradores como empleadores, ambos preocupados por quién termina con qué bien (y con los comerciantes actuando como servicios que facilitan la búsqueda de empleo). Por lo tanto, para comenzar con el modelo básico, hay un solo tipo de bien; el bien viene en unidades indivisibles; y cada vendedor inicialmente posee una unidad del bien. Todos los tres tipos de agentes valoran el dinero a la misma tasa; y cada i ∈ B ∪ S valora adicionalmente una copia del bien en θi unidades de dinero. Ningún agente quiere más de una copia del bien, por lo que las copias adicionales se valoran en 0. Cada agente tiene una <br>dotación inicial de dinero</br> que es mayor que cualquier valoración individual θi; el efecto de esto es garantizar que cualquier comprador que termine sin una copia del bien ha sido excluido del mercado debido a su valoración y posición en la red, no a la falta de fondos. Nos imaginamos que cada bien que se vende fluye a lo largo de una secuencia de dos etapas: desde un vendedor a un comerciante, y luego del comerciante a un comprador. La forma particular en la que fluyen los bienes está determinada por el siguiente juego. Primero, cada comerciante ofrece un precio de oferta a cada vendedor al que está conectado, y un precio de demanda a cada comprador al que está conectado. Los vendedores y compradores luego eligen entre las ofertas presentadas por los comerciantes. Si varios comerciantes proponen el mismo precio a un vendedor o comprador, entonces no hay una mejor respuesta estricta para el vendedor o comprador. En este caso se debe hacer una selección, y, como es habitual (ver por ejemplo [10]), nosotros (los modeladores) elegimos entre las mejores ofertas. Finalmente, cada comerciante compra una copia del bien de cada vendedor que acepta su oferta, y vende una copia del bien a cada comprador que acepta su oferta. Si un comerciante en particular, t, descubre que más compradores que vendedores aceptan sus ofertas, entonces se ha comprometido a proporcionar más copias del bien de las que ha recibido, y diremos que esto resulta en una gran penalización para el comerciante por incumplimiento; el efecto de esto es que en equilibrio, ningún comerciante elegirá precios de oferta y demanda que resulten en un incumplimiento. Más precisamente, una estrategia para cada operador t es una especificación de un precio de oferta βti para cada vendedor i al que t está conectado, y un precio de demanda αtj para cada comprador j al que t está conectado. (También podemos manejar un modelo en el que un operador puede optar por no hacer una oferta a ciertos de sus vendedores o compradores adyacentes). Cada vendedor o comprador elige como máximo una arista incidente, indicando el comerciante con quien realizarán la transacción, al precio indicado. (La elección de una sola arista refleja el hecho de que (a) los vendedores inicialmente solo tienen una copia del bien, y (b) los compradores solo desean una copia del bien). Las ganancias son las siguientes: Para cada vendedor i, la ganancia de seleccionar al comerciante t es βti, mientras que la ganancia de no seleccionar a ningún comerciante es θi. (En el primer caso, el vendedor recibe βti unidades de dinero, mientras que en el segundo caso conserva su copia del bien, al que valora en θi). Para cada comprador j, la ganancia de seleccionar al comerciante t es θj - αtj, mientras que la ganancia de no seleccionar a ningún comerciante es 0. (En el primer caso, el comprador recibe el bien pero renuncia a αtj unidades de dinero). Para cada operador t, con ofertas aceptadas de vendedores i1, . . . , is y compradores j1, . . . , jb, la ganancia es P r αtjr − P r βtir, menos una penalización π si b > s. La penalización se elige lo suficientemente grande para que un operador nunca la sufra en equilibrio, por lo que generalmente no nos preocuparemos por la penalización. Esto define los elementos básicos del juego. El concepto de equilibrio que utilizamos es el equilibrio de Nash perfecto en subjuegos. Algunos ejemplos. Para ayudar a pensar en el modelo, ahora describimos tres ejemplos ilustrativos, representados en la Figura 1. Para evitar que las figuras se vuelvan demasiado desordenadas, adoptamos las siguientes convenciones: los vendedores se representan como círculos en la columna más a la izquierda y se les asigna el nombre i1, i2, ... de arriba abajo; los comerciantes se representan como cuadrados en la columna del medio y se les asigna el nombre t1, t2, ... de arriba abajo; y los compradores se representan como círculos en la columna más a la derecha y se les asigna el nombre j1, j2, ... de arriba abajo. Todos los vendedores en los ejemplos tendrán valoraciones para el bien iguales a 0; la valoración de cada comprador se dibuja dentro de su círculo; y el precio de oferta o demanda en cada borde se dibuja encima del borde. En la Figura 1(a), mostramos cómo una subasta estándar de segundo precio surge naturalmente de nuestro modelo. Supongamos que las valoraciones de los compradores de mayor a menor son w > x > y > z. Los precios de oferta y demanda mostrados son consistentes con un equilibrio en el que i1 y j1 aceptan las ofertas del trader t1, y ningún otro comprador acepta la oferta de su trader adyacente: así, el trader t1 recibe el bien con un precio de oferta de x, y gana w − x al vender el bien al comprador j1 por w. De esta manera, podemos considerar esta instancia particular como una subasta para un bien único en la que los traders actúan como representantes de sus compradores adyacentes. El comprador con la valoración más alta para el bien termina adquiriéndolo, y el excedente se divide entre el vendedor y el comerciante asociado. Se debe tener en cuenta que se puede construir una subasta de k unidades con > k compradores con la misma facilidad, creando un grafo bipartito completo con k vendedores y comerciantes, y luego conectando a cada comerciante con un único comprador distinto. En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales. Específicamente, el vendedor i2 y el comprador j2 ocupan posiciones poderosas, ya que los dos comerciantes compiten por su negocio; por otro lado, los otros vendedores y compradores se encuentran en posiciones débiles, ya que cada uno tiene solo una opción. Y de hecho, en cada equilibrio, hay un número real x ∈ [0, 1] tal que ambos comerciantes ofrecen precios de oferta y demanda de x a i2 y j2 respectivamente, mientras ofrecen ofertas de 0 y demandas de 1 a los otros vendedores y compradores. Por lo tanto, este ejemplo ilustra algunos ingredientes cruciales que identificaremos a un nivel más general en breve. Específicamente, i2 y j2 experimentan los beneficios de la competencia perfecta, ya que los dos comerciantes reducen los márgenes de oferta y demanda a 0 al competir por su negocio. Por otro lado, los otros vendedores y compradores experimentan las desventajas del monopolio: no reciben ninguna ganancia ya que solo tienen una opción para comerciar, y el comerciante correspondiente se queda con todas las ganancias. Observa además cómo este comportamiento natural surge del hecho de que los comerciantes pueden ofrecer diferentes precios a diferentes agentes, capturando el hecho de que no hay un precio fijo en los tipos de mercados que motivan el modelo, sino diferentes precios que reflejan el poder relativo de los diferentes agentes involucrados. El ejemplo anterior muestra quizás la forma más natural en la que la ganancia de un comerciante en una transacción particular puede caer a 0: cuando hay otro comerciante que puede replicar su función de manera precisa. (En ese ejemplo, dos comerciantes tenían la capacidad de mover una copia del bien de i2 a j2). Pero como mostrarán nuestros resultados posteriores, los comerciantes no obtienen ganancias en general debido a razones globales y teóricas de grafos. El ejemplo en la Figura 1(c) da una indicación inicial de esto: se puede demostrar que para cada equilibrio, existe un y ∈ [0, 1] tal que cada oferta y cada precio de demanda es igual a y. En otras palabras, todos los comerciantes no obtienen beneficios, ya sea que pase por ellos una copia del bien o no, y sin embargo, ningún par de comerciantes comparte rutas de vendedor-comprador en común. Los márgenes de precios se han reducido a cero debido a una restricción global impuesta por el largo ciclo a través de todos los agentes; este es un ejemplo de competencia perfecta implícita determinada por la topología de la red. Extendiendo el modelo para bienes distinguibles. Extendemos el modelo básico a un escenario con bienes distinguibles, de la siguiente manera. En lugar de que cada agente i ∈ B ∪ S tenga una única valoración numérica θi, indexamos las valoraciones por pares de compradores y vendedores: si el comprador j obtiene el bien inicialmente poseído por el vendedor i, obtiene una utilidad de θji, y si el vendedor i vende su bien al comprador j, experimenta una pérdida de utilidad de θij. Esto generaliza el caso de bienes indistinguibles, ya que siempre podemos hacer que estas valoraciones por pares dependan solo de uno de los índices. Una estrategia para un trader ahora consiste en ofrecer una oferta a cada vendedor que especifique tanto un precio como un comprador, y ofrecer una demanda a cada comprador que especifique tanto un precio como un vendedor. (También podemos manejar un modelo en el que un trader ofrece ofertas (respectivamente, demandas) en forma de vectores, especificando esencialmente un menú con un precio adjunto a cada comprador (resp. vendedor).) Cada comprador y vendedor selecciona una oferta de un comerciante adyacente, y los pagos a todos los agentes se determinan como antes. Este marco general captura los mercados de emparejamiento [10, 13]: por ejemplo, un mercado laboral que es mediado por agentes o servicios de búsqueda de empleo (como en la contratación de ejecutivos corporativos, o figuras del deporte o del entretenimiento). Aquí los vendedores son solicitantes de empleo, los compradores son empleadores y los comerciantes son los agentes que median en el mercado laboral. Por supuesto, si se especifican valoraciones por pares en los compradores pero solo valoraciones individuales para los vendedores, modelamos un escenario donde los compradores pueden distinguir entre los bienes, pero a los vendedores no les importa a quién venden, esto captura (aproximadamente) escenarios como los mercados de vivienda. Nuestros resultados. Nuestros resultados identificarán formas generales de algunos de los principios mencionados en los ejemplos discutidos anteriormente, incluyendo la pregunta de qué compradores terminan con el bien; la pregunta de cómo los pagos son realizados de manera diferente por vendedores, comerciantes y compradores; y la pregunta de qué propiedades estructurales de la red determinan si los comerciantes obtendrán beneficios positivos. Para hacer esto preciso, introducimos la siguiente notación. Cualquier resultado del juego determina una asignación final de bienes a algunos de los agentes; esto puede ser especificado por una colección M de triples (es decir, te, je), donde ie ∈ S, te ∈ T y je ∈ B; además, cada vendedor y cada comprador aparece en a lo sumo un triple. El significado es que para cada e ∈ M, el bien inicialmente poseído por ie se transfiere a je a través de te. (Los vendedores que no aparecen en ningún trío conservan su copia del bien). Decimos que el valor de la asignación es igual a P e∈M θjeie − θieje. Que θ∗ denote el valor máximo de cualquier asignación M que sea factible dada la red. Mostramos que cada instancia de nuestro juego tiene un equilibrio, y que en cada uno de estos equilibrios, la asignación tiene un valor de θ∗ 145, en otras palabras, logra el mejor valor posible. Por lo tanto, los equilibrios en este modelo son siempre eficientes, ya que el mercado permite que el conjunto correcto de personas obtenga el bien, sujeto a las restricciones de la red. Establecemos la existencia y eficiencia de los equilibrios mediante la construcción de un programa lineal para capturar el flujo de bienes a través de la red; el dual de este programa lineal contiene suficiente información para extraer los precios de equilibrio. Según la definición del juego, el valor de la asignación de equilibrio se divide en forma de pagos a los agentes, y resulta interesante preguntarse cómo se distribuye este valor, en particular cuánta ganancia puede obtener un trader según su posición en la red. Observamos que, aunque todos los equilibrios tienen el mismo valor, la ganancia de un trader dado puede variar entre diferentes equilibrios. Sin embargo, somos capaces de caracterizar las cantidades máximas y mínimas que un operador dado puede obtener, donde estos máximos y mínimos se toman sobre todos los equilibrios, y proporcionamos un algoritmo eficiente para calcular esto. En particular, nuestros resultados aquí implican una caracterización combinatoria clara de cuándo un trader dado t puede lograr un beneficio distinto de cero: esto ocurre si y solo si hay algún borde e incidente en t que es esencial, en el sentido de que eliminar e reduce el valor de la asignación óptima θ∗. También obtenemos resultados para la suma de todas las ganancias de los operadores. Trabajo relacionado. El enfoque estándar de referencia para analizar la interacción entre compradores y vendedores es el modelo walrasiano en el que compradores y vendedores anónimos intercambian un bien a un único precio de equilibrio de mercado. Esta forma reducida de comercio, basada en la idealización de un precio de mercado, es un modelo poderoso que ha dado lugar a muchas ideas. Pero no es un buen modelo para examinar de dónde vienen los precios o exactamente cómo compradores y vendedores comercian entre sí. La dificultad es que en el modelo walrasiano no hay un agente que fije el precio, y los agentes en realidad no comercian entre sí. De hecho, no hay un mercado, en el sentido cotidiano de esa palabra, en el modelo walrasiano. Es decir, no hay un lugar físico o virtual donde los compradores y vendedores interactúen para comerciar y establecer precios. Por lo tanto, en este modelo simple, todos los compradores y vendedores son uniformes y comercian al mismo precio, y tampoco hay un papel para intermediarios. Hay varias literaturas en economía y finanzas que examinan cómo se fijan los precios en lugar de simplemente determinar los precios de equilibrio. La literatura sobre competencia imperfecta es quizás la más antigua de todas. Aquí un monopolista, o un grupo de oligopolistas, eligen los precios con el fin de maximizar sus ganancias (ver [14] para el tratamiento estándar de estos mercados en los libros de texto). Un monopolista utiliza su conocimiento de la demanda del mercado para elegir un precio, o una colección de precios si discrimina. Los oligopolistas juegan un juego en el que sus ganancias dependen de la demanda del mercado y las acciones de sus competidores. En esta literatura hay agentes que fijan precios, pero se mantiene la ficción de un solo mercado. En la literatura de búsqueda de equilibrio, las empresas establecen precios y los consumidores los buscan (ver [3]). Los consumidores terminan pagando precios diferentes, pero todos los consumidores tienen acceso a todas las empresas y no hay intermediarios. En la literatura de equilibrio general ha habido varios intentos de introducir la determinación de precios. Una técnica de prueba estándar para la existencia de un equilibrio competitivo implica un mecanismo de ajuste de precios en el que los precios responden a la demanda excesiva. El subastador walrasiano suele ser presentado como un dispositivo para explicar cómo funciona este proceso, pero en realidad es fundamentalmente una metáfora de un algoritmo iterativo de actualización de precios, no de los detalles internos de un mercado real. Se han introducido procesos más sofisticados para estudiar la estabilidad de los precios de equilibrio o la información necesaria para calcularlos. Pero de nuevo no hay agentes que fijen los precios aquí. En la literatura financiera, el trabajo sobre microestructura de mercado sí tiene agentes que fijan precios (especialistas), algunas partes de él determinan precios de oferta y demanda separados, y diferentes agentes reciben precios distintos por el mismo activo (ver [12] para un tratamiento de la teoría de microestructura). El trabajo en economía de la información ha identificado fenómenos similares (ver por ejemplo [7]). Pero hay poca investigación en estas literaturas que examine el efecto de las restricciones sobre quién puede comerciar con quién. Ha habido varios enfoques para estudiar cómo la estructura de la red determina los precios. Estos han planteado la determinación de precios a través de definiciones basadas en el equilibrio competitivo o el núcleo, o mediante el uso de mecanismos veraces. Al revisar brevemente este trabajo, notaremos el contraste con nuestro enfoque, ya que modelamos los precios como resultado del comportamiento estratégico de los agentes en el sistema. En un trabajo reciente, Kakade et al. [8] han estudiado la distribución de precios en equilibrio competitivo en un grafo bipartito de compradores y vendedores, generado utilizando un modelo probabilístico capaz de producir distribuciones de grados con colas pesadas [11]. Even-Dar et al. [6] se basan en esto para considerar los aspectos estratégicos de la formación de redes cuando los precios surgen del equilibrio competitivo. Leonard [10], Babaioff et al. [1], y Chu y Shen [4] consideran un enfoque basado en el diseño de mecanismos: los compradores y vendedores residen en nodos diferentes en un grafo, y incurren en un costo de transporte dado para comerciar entre sí. Leonard estudia los precios de VCG en este contexto; Babaioff et al. y Chu y Shen además proporcionan un mecanismo equilibrado en presupuesto. Dado que la preocupación aquí radica en mecanismos veraces que operan sobre valoraciones privadas, existe un compromiso inherente entre la eficiencia de la asignación y la condición de equilibrio presupuestario. Por el contrario, nuestro modelo tiene valoraciones y precios conocidos que surgen del comportamiento estratégico de los operadores. Por lo tanto, las suposiciones detrás de nuestro modelo no son directamente comparables a las que subyacen en el enfoque del diseño de mecanismos: aunque asumimos valoraciones conocidas, no requerimos una autoridad centralizada para imponer un mecanismo. Más bien, la fijación de precios es parte del resultado estratégico, como en los mercados reales que motivan nuestro trabajo, y nuestros equilibrios son simultáneamente equilibrados en términos presupuestarios y eficientes, algo que no es posible en los marcos de diseño de mecanismos que se han utilizado. Demange, Gale y Sotomayor [5], y Kranton y Minehart [9], analizan los precios a los que se produce el comercio en una red, trabajando dentro del marco del diseño de mecanismos. Kranton y Minehart utilizan un grafo bipartito con enlaces directos entre compradores y vendedores, y luego emplean un mecanismo de subasta ascendente, en lugar de intermediarios estratégicos, para determinar los precios. Su subasta tiene propiedades de equilibrio deseables, pero como señalan Kranton y Minehart, es una abstracción de cómo se asignan los bienes y se determinan los precios que es similar en espíritu a la abstracción del subastador walrasiano. De hecho, podemos mostrar cómo el modelo básico de Kranton y Minehart puede ser codificado como una instancia de nuestro juego, con los comerciantes produciendo precios en equilibrio que coinciden con los precios producidos por su mecanismo de subasta. Finalmente, los resultados clásicos de Shapley y Shubik [13] sobre el juego de asignación pueden ser vistos como el estudio del resultado del comercio en un grafo bipartito en términos del núcleo. Estudian el dual de un programa lineal basado en el problema de emparejamiento, similar a lo que usamos para una versión reducida de nuestro modelo en la siguiente sección, pero su enfoque es diferente ya que no consideran agentes que buscan establecer precios. 2. MERCADOS CON OPERADORES DE PAREJAS Para comprender las ideas detrás del análisis del modelo general, es muy útil considerar primero un caso especial con un re1 Kranton y Minehart, sin embargo, también pueden analizar un entorno más general en el que los valores de los compradores son privados y, por lo tanto, compradores y vendedores juegan un juego de información incompleta. Solo trabajamos con información completa. 146 forma restringida de comerciantes a los que nos referimos como operadores de pares. En este caso, cada comerciante está conectado a solo un comprador y un vendedor. (Por lo tanto, sirve esencialmente como una ruta comercial entre los dos). Las técnicas que desarrollamos para manejar este caso formarán una base útil para razonar sobre el caso de los comerciantes que pueden estar conectados arbitrariamente a los vendedores y compradores. Relacionaremos las ganancias en un equilibrio de Nash perfecto en subjuegos con las soluciones óptimas de un cierto programa lineal, utilizaremos esta relación para demostrar que todos los equilibrios resultan en una asignación eficiente de los bienes, y mostraremos que siempre existe un equilibrio puro. Primero, consideramos el modelo más simple donde los vendedores tienen artículos indistinguibles, y cada comprador está interesado en obtener un artículo. Luego extendemos los resultados al caso más general de un mercado de emparejamiento, como se discutió en la sección anterior, donde las valoraciones dependen de la identidad del vendedor y comprador. Luego caracterizamos las ganancias mínimas y máximas que los comerciantes pueden obtener. En la siguiente sección, extendemos los resultados a los operadores que pueden estar conectados a cualquier subconjunto de vendedores y compradores. Dado que estamos trabajando con operadores de pares en esta sección, podemos representar el problema utilizando un grafo bipartito G cuyo conjunto de nodos es B ∪ S, y donde cada operador t, conectando al vendedor i y al comprador j, aparece como una arista t = (i, j) en G. Sin embargo, cabe destacar que permitimos que múltiples operadores conecten el mismo par de agentes. Para cada comprador y vendedor i, usaremos adj(i) para denotar el conjunto de comerciantes que pueden comerciar con i. 2.1 Bienes Indistinguibles El intercambio socialmente óptimo para el caso de bienes indistinguibles es la solución del problema de transporte: enviar bienes a lo largo de los bordes que representan a los comerciantes. Las aristas a lo largo de las cuales ocurre el comercio corresponden a un emparejamiento en este grafo bipartito, y el comercio óptimo está descrito por el siguiente programa lineal. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B A continuación, consideramos un equilibrio. Cada operador t = (i, j) debe ofrecer una oferta βt y una demanda αt. (Omitimos el subíndice que denota al vendedor y comprador aquí, ya que estamos tratando con operadores en pares). Dado el precio de oferta y demanda, los agentes reaccionan a estos precios, como se describió anteriormente. En lugar de enfocarnos en los precios, nos enfocaremos en las ganancias. Si un vendedor i vende a un comerciante t ∈ adj(i) con una oferta βt, entonces su ganancia es pi = βt − θi. De manera similar, si un comprador j compra a un comerciante t ∈ adj(j) con una oferta αt, entonces su ganancia es pj = θj − αt. Finalmente, si un comerciante t opera con la oferta αt y la demanda βt, entonces su ganancia es yt = αt − βt. Todos los agentes que no están involucrados en el comercio no obtienen ganancias. Demostraremos que las ganancias en equilibrio son una solución óptima para el siguiente programa lineal. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMA 2.1. En el equilibrio, los beneficios deben satisfacer las desigualdades anteriores. Prueba. Claramente, todas las ganancias son no negativas, ya que el comercio es opcional para todos los agentes. Para ver por qué se cumplen el último conjunto de desigualdades, considera dos casos por separado. Para un comerciante t que realizó un intercambio, obtenemos igualdad por definición. Para otros comerciantes t = (i, j), el valor pi + θi es el precio al que el vendedor i vendió (o θi si el vendedor i decidió quedarse con el bien). Ofrecer una oferta βt > pi + θi haría que el vendedor vendiera al comerciante t. De manera similar, θj − pj es el precio al que el comprador j compró (o θj si no compró), y para cualquier oferta αt < θj − pj, el comprador comprará al comerciante t. Por lo tanto, a menos que θj − pj ≤ θi + pi, el comerciante tiene una desviación rentable. Ahora estamos listos para demostrar nuestro primer teorema: TEOREMA 2.2. En cualquier equilibrio, el comercio es eficiente. Prueba. Que x sea un flujo de bienes que resulta en un equilibrio, y que las variables p e y sean las ganancias. Considera el programa lineal que describe el comercio socialmente óptimo. También agregaremos un conjunto de restricciones adicionales xt ≤ 1 para todos los operadores t ∈ T; esto se puede agregar a la descripción, ya que está implícito en las otras restricciones. Ahora afirmamos que los dos programas lineales son duales entre sí. Las variables pi para los agentes B ∪ S corresponden a las ecuaciones Pt∈adj(i) xt ≤ 1. La variable dual adicional yt corresponde a una desigualdad adicional xt ≤ 1. La optimalidad del valor social del intercambio se seguirá de la afirmación de que la solución de estos dos programas lineales derivados de un equilibrio satisface las condiciones de holgura complementaria para este par de programas lineales, y por lo tanto tanto x como (p, y) son soluciones óptimas de los programas lineales correspondientes. Existen tres condiciones de holgura complementarias diferentes que debemos considerar, correspondientes a los tres conjuntos de variables x, y y p. Cualquier agente solo puede obtener ganancias si realiza transacciones, por lo que pi > 0 implica que P t∈adj(i) xt = 1, y de manera similar, yt > 0 implica que xt = 1 también. Finalmente, considera a un trader t con xt > 0 que negocia entre el vendedor i y el comprador j, y recuerda que hemos visto anteriormente que la desigualdad yt ≥ (θj − pj) − (θi + pi) se cumple con igualdad para aquellos que comercian. A continuación argumentamos que los equilibrios siempre existen. TEOREMA 2.3. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro de valores de oferta y demanda que respalda este comercio. Prueba. Considera un intercambio eficiente; sea xt = 1 si t intercambia y 0 en caso contrario; y considera una solución óptima (p, y) para el programa lineal dual. Nos gustaría afirmar que todas las soluciones duales corresponden a precios de equilibrio, pero desafortunadamente esto no es exactamente cierto. Antes de poder convertir una solución dual en precios de equilibrio, es posible que necesitemos modificar ligeramente la solución de la siguiente manera. Considera cualquier agente i que solo esté conectado a un único comerciante t. Debido a que el agente está solo conectado a un único comerciante, las variables yt y pi son variables duales correspondientes a la misma desigualdad primal xt ≤ 1, y siempre aparecen juntas como yt + pi en todas las desigualdades, y también en la función objetivo. Por lo tanto, existe una solución óptima en la que pi = 0 para todos los agentes i conectados solo a un único comerciante. Supongamos que (p, y) es una solución dual donde los agentes conectados solo a un comerciante tienen pi = 0. Para un vendedor i, dejemos que βt = θi + pi sea la oferta para todos los comerciantes t adyacentes a i. De manera similar, para cada comprador j, sea αt = θj − pj la oferta para todos los operadores t adyacentes a j. Sostenemos que este conjunto de ofertas y demandas, junto con la transacción x, constituyen un equilibrio. Para entender por qué, hay que tener en cuenta que todos los operadores t adyacentes a un vendedor o comprador i ofrecen la misma oferta o demanda, por lo que comerciar con cualquier operador es igualmente bueno para el agente i. Además, si i no está operando en la solución 147 x, entonces por holgura complementaria pi = 0, y por lo tanto, no operar también es igualmente bueno para i. Esto muestra que los vendedores y compradores no tienen un incentivo para desviarse. Necesitamos demostrar que los comerciantes no tienen incentivos para desviarse tampoco. Cuando un comerciante t está negociando con el vendedor i y el comprador j, las desviaciones rentables implicarían aumentar αt o disminuir βt. Pero por nuestra construcción (y suposición sobre agentes monopolizados) todos los vendedores y compradores tienen múltiples ofertas de compra/venta idénticas, o el intercambio está ocurriendo a valuación. En cualquier caso, tal desviación no puede tener éxito. Finalmente, considera un trader t = (i, j) que no realiza intercambios. Una desviación para t implicaría ofrecer una oferta más baja al vendedor i y una oferta más alta al vendedor j que su intercambio actual. Sin embargo, yt = 0 por holgura complementaria, y por lo tanto pi + θi ≥ θj − pj, por lo que i vende a un precio al menos tan alto como el precio al que j compra, por lo que el comerciante t no puede crear un intercambio rentable. Se debe tener en cuenta que un vendedor o comprador conectado a un único comerciante t no puede obtener beneficios en equilibrio, por lo que los posibles beneficios en equilibrio están en correspondencia uno a uno con las soluciones duales para las cuales pi = 0 siempre que i esté monopolizado por un único comerciante. Una característica decepcionante del equilibrio creado por esta prueba es que algunos agentes t pueden tener que crear pares de oferta y demanda donde βt > αt, ofreciendo comprar por más del precio al que están dispuestos a vender. Los agentes que realizan tales pares de oferta y demanda nunca realizan realmente una transacción, por lo que no resulta en una pérdida de beneficios para el agente, pero dichos pares son poco comunes. Los pares de ofertas y demandas cruzadas son débilmente dominados por la estrategia de ofrecer una oferta baja β = 0 y una demanda extremadamente alta para garantizar que ninguna sea aceptada. Para formular una forma de evitar tales pares cruzados, decimos que un equilibrio es libre de cruces si αt ≥ βt para todos los operadores t. Ahora mostramos que siempre hay un equilibrio libre de cruces. TEOREMA 2.4. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro y libre de cruces. Prueba. Considera una solución óptima para el programa lineal dual. Para obtener un equilibrio sin cruzar ofertas, necesitamos hacer una modificación más general que simplemente asumir que pi = 0 para todos los vendedores y compradores conectados a un único operador. Que el conjunto E sea el conjunto de aristas t = (i, j) que son tensas, en el sentido de que tenemos la igualdad yt = (θj − pj) − (θi + pi). Este conjunto E contiene todos los bordes donde ocurre el comercio, y algunos bordes adicionales. Queremos asegurarnos de que pi = 0 para todos los vendedores y compradores que tengan un grado de a lo sumo 1 en E. Considere un vendedor i que tiene pi > 0. Debemos tener i involucrado en un intercambio, y el borde t = (i, j) a lo largo del cual ocurre el intercambio debe ser ajustado. Supongamos que este es el único borde ajustado adyacente al agente i; entonces podemos disminuir pi e incrementar yt hasta que ocurra una de las siguientes situaciones: o bien pi = 0 o la restricción de algún otro agente t ∈ adj(i) se vuelva ajustada. Esta modificación solo aumenta el conjunto de aristas ajustadas E, mantiene la solución factible y no cambia el valor de la función objetivo. Entonces, después de hacer esto para todos los vendedores, y cambiando de manera análoga yt y pj para todos los compradores, obtenemos una solución óptima donde todos los vendedores y compradores i tienen pi = 0 o tienen al menos dos aristas ajustadas adyacentes. Ahora podemos establecer ofertas y demandas para formar un equilibrio libre de cruces. Para todos los traders t = (i, j) asociados con un borde t ∈ E, establecemos αt y βt como antes: fijamos la oferta βt = pi + θi y la demanda αt = θj − pj. Para un trader t = (i, j) ∈ E, tenemos que pi + θi > θj − pj y establecemos αt = βt para que sea cualquier valor en el rango [θj − pj, pi + θi]. Esto garantiza que para cada vendedor o comprador, la mejor oferta de venta o compra se encuentra a lo largo del borde donde se produce el intercambio en la solución. Los valores de askbid a lo largo de los bordes ajustados garantizan que los traders que operan no puedan aumentar su spread. Los operadores t = (i, j) que no realizan operaciones no pueden obtener ganancias debido a la restricción pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) Ningún operador obtiene ganancias 1 1 1 0 x x x x 1 x x 0 x (b) Ganancias del operador Figura 2: Izquierda: un equilibrio con ofertas cruzadas donde los operadores no ganan dinero. Correcto: un equilibrio sin ofertas cruzadas para cualquier valor x ∈ [0, 1]. La ganancia total del comerciante oscila entre 1 y 2. 2.2 Bienes distinguibles. Ahora consideramos el caso de bienes distinguibles. Como en la sección anterior, podemos escribir un programa lineal de transbordo para el comercio socialmente óptimo, con el único cambio en la función objetivo. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) Podemos demostrar que el dual de este programa lineal corresponde a las ganancias de los comerciantes. Recuerda que necesitábamos agregar las restricciones xt ≤ 1 para todos los traders. El dual es entonces: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T. No es difícil extender las pruebas de los Teoremas 2.2 - 2.4 a este caso. Las ganancias en un equilibrio satisfacen las restricciones duales, y las ganancias y el comercio satisfacen la holgura complementaria. Esto demuestra que el comercio es socialmente óptimo. Tomando una solución dual óptima donde pi = 0 para todos los agentes que están monopolizados, podemos convertirla en un equilibrio, y con un poco más de cuidado, también podemos crear un equilibrio sin pares de oferta y demanda cruzados. TEOREMA 2.5. Todos los equilibrios para el caso de los operadores en pares con bienes distinguibles resultan en un comercio socialmente óptimo. Existen equilibrios puros no cruzados. 2.3 Ganancias de los operadores Hemos visto que todos los equilibrios son eficientes. Sin embargo, resulta que los equilibrios pueden diferir en cómo se distribuye el valor de la asignación entre los vendedores, compradores e intermediarios. La Figura 2 representa un ejemplo simple de este fenómeno. Nuestro objetivo es entender cómo se ve afectada la ganancia de un trader por su posición en la red; utilizaremos la caracterización que obtuvimos para determinar el rango de ganancias que un trader puede obtener. Para maximizar la ganancia de un operador t (o un subconjunto de operadores T), todo lo que necesitamos hacer es encontrar una solución óptima al programa lineal dual que maximice el valor de yt (o la suma Pt∈T yt). Tales soluciones duales corresponderán a equilibrios con precios no cruzados. TEOREMA 2.6. Para cualquier operador t o subconjunto de operadores T, la ganancia total máxima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. Este beneficio máximo se puede obtener mediante un equilibrio no cruzado. Una forma de pensar en la ganancia de un trader t = (i, j) es como una resta del valor del borde correspondiente (i, j). El valor del borde es el valor social θji − θij si el comerciante no obtiene ganancias, y disminuye a θji − θij − yt si el comerciante t insiste en obtener una ganancia de yt. El comerciante t obtiene un beneficio yt en equilibrio, si después de esta disminución en el valor del borde, el borde sigue incluido en el transbordo óptimo. TEOREMA 2.7. Un comerciante t puede obtener beneficios en un equilibrio si y solo si t es esencial para el bienestar social, es decir, si eliminar al agente t disminuye el bienestar social. La ganancia máxima que puede obtener es exactamente su valor para la sociedad, es decir, el aumento que su presencia provoca en el bienestar social. Si permitimos el cruce de equilibrios, entonces también podemos encontrar la ganancia mínima posible. Recuerde que en la demostración del Teorema 2.3, los comerciantes solo ganaron dinero de vendedores o compradores sobre los que tenían un monopolio. Permitiendo tales equilibrios con ofertas cruzadas, podemos encontrar la ganancia mínima que un trader o conjunto de traders puede obtener, minimizando el valor yt (o la suma de P t∈T yt) en todas las soluciones óptimas que satisfacen que pi = 0 siempre que i esté conectado solo a un trader. TEOREMA 2.8. Para cualquier operador t o subconjunto de operadores T, la ganancia total mínima que pueden obtener en cualquier equilibrio puede ser calculada en tiempo polinómico. A continuación, extendemos los resultados a un modelo en el que los comerciantes pueden estar conectados a un número arbitrario de vendedores y compradores. Para un comerciante t ∈ T utilizaremos S(t) y B(t) para denotar el conjunto de compradores y vendedores conectados al comerciante t. En esta sección nos enfocamos en el caso general cuando los bienes son distinguibles (es decir, tanto los compradores como los vendedores tienen valoraciones que son sensibles a la identidad del agente con el que se emparejan en la asignación). En la versión completa del artículo también discutimos el caso especial de bienes indistinguibles con más detalle. Para obtener el intercambio óptimo, consideramos el grafo bipartito G = (S ∪ B, E) que conecta vendedores y compradores, donde una arista e = (i, j) conecta un vendedor i y un comprador j si hay un comerciante adyacente a ambos: E = {(i, j) : adj(i) ∩ adj(j) = ∅}. En este gráfico, luego resolvemos la instancia del problema de asignación que también se utilizó en la Sección 2.2, con el valor del borde (i, j) igual a θji − θij (ya que el valor del intercambio entre i y j es independiente de qué comerciante realizó el intercambio). También utilizaremos el dual de este programa lineal: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Ofertas y Demandas y Optimización del Trader. Primero necesitamos entender qué modelo de oferta utilizaremos. Incluso cuando los bienes son indistinguibles, un comerciante puede querer practicar discriminación de precios y ofrecer diferentes valores de oferta y demanda a diferentes vendedores y compradores. En el caso de bienes distinguibles, tenemos que lidiar con una complicación adicional: el comerciante tiene que nombrar el bien que está proponiendo vender o comprar, y posiblemente ofrecer múltiples productos diferentes. Hay dos variantes de nuestro modelo dependiendo de si un trader hace una única oferta de compra o venta a un vendedor o comprador, o si ofrece un menú de opciones. (i) Un trader t puede ofrecer a un comprador j un menú de ofertas de compra αtji, un vector de valores para todos los productos a los que está conectado, donde αtji es la oferta de compra para el producto del vendedor i. De manera simétrica, un trader t puede ofrecer a cada vendedor i un menú de ofertas de venta βtij para vender a diferentes compradores j. (ii) Alternativamente, podemos requerir que cada trader t pueda hacer como máximo una oferta de compra a cada vendedor y una oferta de venta para cada comprador, y una oferta de compra debe incluir el producto vendido, y una oferta de venta debe ofrecer a un comprador en particular para venderle. Nuestros resultados se mantienen en ambos modelos. Para simplificar la notación, utilizaremos la opción del menú aquí. A continuación, necesitamos entender el problema de optimización de un trader t. Supongamos que tenemos valores de oferta y demanda para todos los demás traders t ∈ T, t = t. ¿Cuáles son las mejores ofertas de compra y venta que el trader t puede hacer como mejor respuesta al conjunto actual de ofertas de compra y venta? Para cada vendedor i, dejemos que pi sea la ganancia máxima que el vendedor i puede obtener utilizando ofertas de otros comerciantes, y asumamos de manera simétrica que pj es la ganancia máxima que el comprador j puede obtener utilizando demandas de otros comerciantes (dejando pi = 0 para cualquier vendedor o comprador i que no pueda obtener ganancias). Ahora considera un par vendedor-comprador (i, j) que el comerciante t puede conectar. El trader t tendrá que hacer una oferta de al menos βtij = θij + pi al vendedor i y un precio de venta de como máximo αtji = θji − pj al comprador j para realizar esta transacción, por lo que la ganancia máxima que puede obtener en esta operación es vtij = αtji − βtij = θji − pj − (θij + pi). El intercambio óptimo para el trader t se obtiene resolviendo un problema de emparejamiento para encontrar la correspondencia entre los vendedores S(t) y compradores B(t) que maximiza el valor total vtij para el trader t. Necesitaremos el dual del programa lineal para encontrar el intercambio de máximo beneficio para el trader t. Utilizaremos qti como la variable dual asociada con la restricción del vendedor o comprador i. El dual es entonces el siguiente problema. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t). Vemos qti como la ganancia obtenida por t al comerciar con el vendedor o comprador i. El Teorema 3.1 resume la discusión anterior. TEOREMA 3.1. Para un trader t, dado las ofertas más bajas βtij y las peticiones más altas αtji que pueden ser aceptadas para los vendedores i ∈ S(t) y compradores j ∈ B(t), el mejor intercambio que t puede hacer es el emparejamiento de valor máximo entre S(t) y B(t) con valor vtij = αtji − βtij para la arista (i, j). Este valor máximo es igual al mínimo del programa lineal dual anterior. 3.2 Comercio eficiente y equilibrio Ahora podemos demostrar que el comercio en equilibrio siempre es eficiente. TEOREMA 3.2. Cada equilibrio resulta en una asignación eficiente de los bienes. Prueba. Considera un equilibrio, con xe = 1 si y solo si el comercio ocurre a lo largo del borde e = (i, j). El comercio es una solución al programa lineal de transbordo utilizado en la Sección 2.2. Que pi denote la ganancia del vendedor o comprador i. Cada operador t actualmente tiene la mejor solución a su propio problema de optimización. Un comerciante t encuentra su intercambio óptimo (dadas las ofertas y demandas de los otros 149 comerciantes) resolviendo un problema de emparejamiento. Que qti para i ∈ B(t)∪S(t) denote la solución dual óptima a este problema de emparejamiento como se describe en el Teorema 3.1. Al configurar el problema de optimización para un trader t anteriormente, usamos pi para denotar la ganancia máxima que puedo obtener sin la oferta del trader t. Tenga en cuenta que este pi es exactamente el mismo pi que usamos aquí, la ganancia del agente i. Esto es claramente cierto para todos los operadores t que no están comerciando con i en el equilibrio. Para ver por qué es cierto para el operador t con el que i está negociando, usamos que el conjunto actual de valores de oferta y demanda es un equilibrio. Si para cualquier agente i la oferta o demanda del trader t fuera la única mejor opción, entonces t podría obtener más beneficios ofreciendo una demanda un poco más alta o una oferta un poco más baja, lo cual sería una contradicción. Mostramos que el intercambio x es óptimo al considerar la solución dual zi = pi + P t qti para todos los agentes i ∈ B ∪ S. Afirmamos que z es una solución dual y satisface la holgura complementaria con el intercambio x. Para ver esto, necesitamos mostrar algunos hechos. Necesitamos que zi > 0 implique que i comercie. Si zi > 0, entonces o bien pi > 0 o qti > 0 para algún trader t. El agente i solo puede obtener ganancias pi > 0 si está involucrado en una transacción. Si qti > 0 para algún t, entonces el trader t debe comerciar con i, ya que su solución es óptima, y por holgura complementaria para la solución dual, qti > 0 implica que t comercia con i. Para un borde (i, j) asociado con un trader t, necesitamos mostrar que la solución dual es factible, es decir, zi + zj ≥ θji − θij. Se recuerda que vtij = θji −pj −(θij +pi), y la restricción dual del problema de optimización de los traders requiere qti + qtj ≥ vtij. Al juntar todo esto, tenemos zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij. Finalmente, necesitamos demostrar que las variables de intercambio x también cumplen la restricción de holgura complementaria: cuando xe > 0 para una arista e = (i, j) entonces la restricción dual correspondiente es activa. Que t sea el comerciante involucrado en la transacción. Por la holgura complementaria del problema de optimización de ts, tenemos qti + qtj = vtij. Para ver que z satisface la holgura complementaria, necesitamos argumentar que para todos los otros comerciantes t = t, tenemos tanto qt i = 0 como qt j = 0. Esto es cierto ya que qt i > 0 implica por la holgura complementaria del problema de optimización de t s que t debe comerciar con i en el óptimo, y t = t está comerciando. A continuación queremos demostrar que siempre existe un equilibrio no cruzado. Llamamos a un equilibrio no cruzado si las ofertas de compra y venta que un trader t hace para un par vendedor-comprador (i, j) nunca se cruzan, es decir, βtij ≤ αtji para todo t, i, j. TEOREMA 3.3. Existe un equilibrio no cruzado que respalda cualquier intercambio socialmente óptimo. Prueba. Considera un intercambio óptimo x y una solución dual z como antes. Para encontrar un equilibrio no cruzado necesitamos dividir la ganancia zi entre i y el comerciante t que negocia con i. Usaremos qti como el beneficio del comerciante asociado con el agente i para cualquier i ∈ S(t) ∪ B(t). Necesitaremos garantizar las siguientes propiedades: El comerciante t comercia con el agente i siempre que qti > 0. Esta es una de las condiciones de holgura complementaria para asegurar que el intercambio actual sea óptimo para el trader t. Para todos los pares vendedor-comprador (i, j) con los que un trader t puede comerciar, tenemos que pi + qti + pj + qtj ≥ θji − θij, (1) lo cual asegurará que qt sea una solución dual factible para el problema de optimización al que se enfrenta el trader t. Necesitamos tener igualdad en (1) cuando el trader t está comerciando entre i y j. Esta es una de las condiciones de holgura complementaria para el trader t, y garantizará que el intercambio de t sea óptimo para el trader. Finalmente, queremos organizar que cada agente i con pi > 0 tenga múltiples ofertas para obtener ganancias pi, y que el intercambio se realice en una de sus mejores ofertas. Para garantizar esto en las ofertas y demandas correspondientes, necesitamos asegurarnos de que siempre que pi > 0 haya múltiples t ∈ adj(i) que cumplan con la ecuación en la restricción anterior (1). Comenzamos estableciendo pi = zi para todo i ∈ S ∪ B y qti = 0 para todo i ∈ S ∪ B y traders t ∈ adj(i). Esto garantiza todos los invariantes excepto la última propiedad sobre múltiples t ∈ adj(t) teniendo igualdad en (1). Modificaremos p y q para aplicar gradualmente la última condición, manteniendo las demás. Considera un vendedor con pi > 0. Por la optimalidad del intercambio y la solución dual z, el vendedor i debe comerciar con algún comerciante t, y ese comerciante tendrá igualdad en (1) para el comprador j con el que se empareja i. Si este es el único operador t que tiene una restricción estricta en (1) que involucra al vendedor i, entonces aumentamos qti y disminuimos pi hasta que pi = 0 o hasta que otro operador t = t logre la igualdad en (1) para algún borde del comprador adyacente a i (posiblemente un comprador diferente j). Este cambio mantiene todas las invariantes y aumenta el conjunto de vendedores que también cumplen con la última restricción. Podemos hacer un cambio similar para un comprador j que tiene pj > 0 y solo tiene un operador t con una restricción ajustada (1) adyacente a j. Después de posiblemente repetir esto para todos los vendedores y compradores, obtenemos ganancias que satisfacen todas las restricciones. Ahora obtenemos los valores de oferta y demanda de equilibrio de la siguiente manera. Para un operador t que tiene igualdad para el par vendedor-comprador (i, j) en (1), ofrecemos αtji = θji − pj y βtij = θij + pi. Para todos los demás comerciantes t y pares de vendedor-comprador (i, j) tenemos el invariante (1), y utilizando esto sabemos que podemos elegir un valor γ en el rango θij +pi+qti ≥ γ ≥ θji − (pj + qtj). Ofrecemos valores de oferta y demanda βtij = αtji = γ. Ni la oferta ni la demanda serán la única mejor oferta para el comprador, por lo tanto, el intercambio x sigue siendo un equilibrio. 3.3 Ganancias del Trader Finalmente, nos enfocamos en el objetivo de comprender, en el caso de los traders generales, cómo se ve afectada la ganancia de un trader por su posición en la red. Primero, mostramos cómo maximizar la ganancia total de un grupo de comerciantes. La ganancia del comerciante t en un equilibrio es P i qti. Para encontrar la ganancia máxima posible para un trader t o un conjunto de traders T, necesitamos hacer lo siguiente: Encontrar ganancias pi ≥ 0 y qti > 0 de manera que zi = pi + P t∈adj(i) qti sea una solución dual óptima, y también cumpla con las restricciones (1) para cualquier vendedor i y comprador j conectados a través de un trader t ∈ T. Ahora, sujeto a todas estas condiciones, maximizamos la suma P t∈T P i∈S(t)∪B(t) qti. Ten en cuenta que esta maximización es una función objetivo secundaria con respecto al objetivo principal de que z sea una solución dual óptima. Luego usamos la prueba del Teorema 3.3 que muestra cómo convertir esto en un equilibrio. TEOREMA 3.4. El valor máximo para P t∈T P i qti anterior es la máxima ganancia que el conjunto T de comerciantes puede obtener. Prueba. Por la demostración del Teorema 3.2, las ganancias del comerciante t pueden ser escritas en esta forma, por lo que el conjunto de comerciantes T no puede obtener más ganancias de las reclamadas en este teorema. Para ver que T realmente puede obtener tantas ganancias, usamos la prueba del Teorema 3.3. Modificamos esa prueba para empezar con los vectores de ganancias p y qt para t ∈ T, y establecemos qt = 0 para todos los traders t ∈ T. Verificamos que esta solución inicial cumple con las tres primeras de las cuatro propiedades requeridas, y luego podemos seguir la demostración para hacer que la cuarta propiedad sea verdadera. Omitimos los detalles de esto en la versión actual. En la Sección 2.3 demostramos que en el caso de los traders de pares, un trader t puede ganar dinero si es esencial para el comercio eficiente. Esto no es 150 1 1 Figura 3: El comerciante principal es esencial para el bienestar social. Sin embargo, el único equilibrio es tener valores de oferta y demanda iguales a 0, y el comerciante no obtiene beneficios. Esto es cierto para el tipo de comerciantes más generales que consideramos aquí, como se muestra en el ejemplo de la Figura 3. Sin embargo, aún obtenemos una caracterización de cuándo un comerciante t puede obtener una ganancia positiva. TEOREMA 3.5. Un comerciante t puede obtener ganancias en un equilibrio si y solo si hay un vendedor o comprador i adyacente a t tal que la conexión del comerciante t con el agente i es esencial para el bienestar social, es decir, si eliminar al agente t de adj(i) disminuye el valor de la asignación óptima. Prueba. Primero mostramos la dirección en la que si un comerciante t puede ganar dinero, debe haber un agente i tal que la conexión de t con i sea esencial para el bienestar social. Sean p, q las ganancias en un equilibrio donde t gana dinero, como se describe en el Teorema 3.2 con P i∈S(t)∪B(t) qti > 0. Así que tenemos un agente i con qti > 0. Sostenemos que la conexión entre el agente i y el comerciante t debe ser esencial, en particular, sostenemos que el bienestar social debe disminuir al menos en qti si eliminamos t de adj(t). Para ver por qué, observe que al disminuir el valor de todas las aristas de la forma (i, j) asociadas con el comerciante t en qti, se mantiene el mismo óptimo de comercio, ya que obtenemos una solución dual de emparejamiento simplemente restableciendo qti a cero. Para ver lo contrario, suponga que eliminar t de adj(t) disminuye el bienestar social en algún valor γ. Supongamos que i es un vendedor (el caso de los compradores es simétrico), y disminuye en γ el valor social de cada arista (i, j) para cualquier comprador j tal que t sea el único agente que conecta a i y j. Por supuesto, el intercambio sigue siendo óptimo y dejamos que z sea la solución dual para esta correspondencia. Ahora utilizamos el mismo proceso que en la demostración del Teorema 3.3 para crear un equilibrio no cruzado comenzando con pi = zi para todo i ∈ S ∪ B, y qti = γ, y todos los demás valores de q igual a 0. Esto crea un equilibrio con ofertas que no se cruzan, donde t obtiene al menos γ de beneficio (debido al intercambio con el vendedor i). Finalmente, si permitimos el cruce de equilibrios, entonces podemos encontrar la ganancia mínima posible simplemente encontrando una solución dual que minimice las variables duales asociadas con los agentes monopolizados por algún comerciante. TEOREMA 3.6. Para cualquier trader t o subconjunto de traders T, la ganancia total mínima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. 4. REFERENCIAS [1] M. Babaioff, N. Nisan, E. Pavlov. Mecanismos para un mercado distribuido espacialmente. Conferencia ACM EC, 2005. [2] C. Barrett, E. Mutambatsere. Mercados agrícolas en países en desarrollo. El Nuevo Diccionario de Economía de Palgrave, 2da edición, próximo a publicarse. [3] Kenneth Burdett y Kenneth Judd. Dispersión del precio de equilibrio. Econometrica, 51/4, julio de 1983, 955-969. [4] L. Chu, Z.-J. I'm sorry, but \"Shen\" is not a sentence. Can you please provide a sentence for me to translate into Spanish? Mecanismo de subasta doble de competencia de agentes. Ciencia de la Gestión, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor. Subastas de varios artículos. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Econ. Política 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri. Un juego de formación de redes para economías de intercambio bipartitas. Simposio ACM-SIAM sobre Algoritmos Discretos (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald. Precios dinámicos por agentes de software. Redes de Computadoras, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri. Propiedades económicas de las redes sociales. NIPS 2004. [9] R. Kranton, D. Minehart. \n\nNIPS 2004. [9] R. Kranton, D. Minehart. Una teoría de redes de comprador-vendedor. American Economic Review 91(3), junio de 2001. [10] H. Leonard. Elicitación de preferencias honestas para la asignación de individuos a posiciones. J. Pol. Econ, 1983. [11] M. E. J. Newman. \n\nEcon, 1983. [11] M. E. J. Newman. La estructura y función de redes complejas. SIAM Review, 45:167-256, 2003. [12] M. OHara. \n\nRevista SIAM, 45:167-256, 2003. [12] M. OHara. Teoría de la Microestructura del Mercado. Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.\nEditorial Blackwell, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, El juego de asignación I: El núcleo. Internacional. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Teoría de Juegos 1/2 111-130, 1972. [14] Jean Tirole. La Teoría de la Organización Industrial. El MIT Press, Cambridge, MA, 1988. 151 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "money initial endowment": {
            "translated_key": "dotación inicial de dinero",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        },
        "bid price": {
            "translated_key": "precio de oferta",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the <br>bid price</br>.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a <br>bid price</br> to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a <br>bid price</br> βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a <br>bid price</br> of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the <br>bid price</br>.",
                "First, each trader offers a <br>bid price</br> to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "More precisely, a strategy for each trader t is a specification of a <br>bid price</br> βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a <br>bid price</br> of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers."
            ],
            "translated_annotated_samples": [
                "En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el <br>precio de compra</br>.",
                "Primero, cada comerciante ofrece un <br>precio de oferta</br> a cada vendedor al que está conectado, y un precio de demanda a cada comprador al que está conectado.",
                "Más precisamente, una estrategia para cada operador t es una especificación de un <br>precio de oferta</br> βti para cada vendedor i al que t está conectado, y un precio de demanda αtj para cada comprador j al que t está conectado. (También podemos manejar un modelo en el que un operador puede optar por no hacer una oferta a ciertos de sus vendedores o compradores adyacentes).",
                "Los precios de oferta y demanda mostrados son consistentes con un equilibrio en el que i1 y j1 aceptan las ofertas del trader t1, y ningún otro comprador acepta la oferta de su trader adyacente: así, el trader t1 recibe el bien con un <br>precio de oferta</br> de x, y gana w − x al vender el bien al comprador j1 por w. De esta manera, podemos considerar esta instancia particular como una subasta para un bien único en la que los traders actúan como representantes de sus compradores adyacentes."
            ],
            "translated_text": "Redes de intercambio con agentes que fijan precios Larry Blume Dept. En una amplia gama de mercados, los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, quienes determinan los precios mediante consideraciones estratégicas. Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el mercado. Modelamos este fenómeno utilizando un juego en el que compradores, vendedores e intermediarios participan en transacciones en un gráfico que representa el acceso que cada comprador y vendedor tiene a los intermediarios. En este modelo, los comerciantes establecen precios estratégicamente, y luego los compradores y vendedores reaccionan a los precios que se les ofrecen. Mostramos que el juego resultante siempre tiene un equilibrio de Nash perfecto en subjuegos, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. Extendemos estos resultados a un tipo más general de mercado de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores. Finalmente, consideramos cómo los beneficios obtenidos por los comerciantes dependen del grafo subyacente: en resumen, un comerciante puede obtener un beneficio positivo si y solo si tiene una conexión esencial en la estructura de la red, proporcionando así una base teórica de grafos para cuantificar la cantidad de competencia entre los comerciantes. Nuestro trabajo difiere de los estudios recientes sobre cómo el precio se ve afectado por la estructura de la red a través de nuestro modelado del establecimiento de precios como una actividad estratégica realizada por un subconjunto de agentes en el sistema, en lugar de estudiar precios establecidos a través de un equilibrio competitivo o por un mecanismo veraz. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1. INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio. Un ejemplo de esta configuración es el comercio de productos agrícolas en países en desarrollo. Dada la falta de redes de transporte adecuadas y el limitado acceso de los agricultores pobres al capital, muchos agricultores no tienen otra alternativa que comerciar con intermediarios en mercados locales ineficientes. Un país en desarrollo puede tener muchos mercados parcialmente superpuestos que coexisten junto a mercados modernos y eficientes. Los mercados financieros proporcionan un ejemplo diferente de un entorno con estas características generales. En estos mercados, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de mercado y sistemas de negociación electrónica. Para muchos activos no hay un único mercado; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en mercados de otros países. Algunos compradores y vendedores tienen acceso a muchos o a todos estos lugares de negociación; otros solo tienen acceso a uno o a unos pocos de ellos. El precio al que se negocia el activo puede variar en estos lugares de negociación. De hecho, no hay un precio fijo ya que diferentes comerciantes pagan o reciben precios diferentes. En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el <br>precio de compra</br>. Uno de los ejemplos más llamativos de este fenómeno ocurre en el mercado de divisas, donde existe un mercado interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto. Los spreads, definidos como la diferencia entre los precios de oferta y demanda, difieren significativamente en estos mercados, a pesar de que el mismo activo se está negociando en ambos mercados. En este artículo, desarrollamos un marco en el que tales fenómenos surgen de un modelo de comercio basado en teoría de juegos, con compradores, vendedores e intermediarios interactuando en una red. Los bordes de la red conectan a los comerciantes con los compradores y vendedores, y por lo tanto representan el acceso que tienen los diferentes participantes del mercado entre sí. Los comerciantes actúan como intermediarios en un juego de comercio de dos etapas: eligen estratégicamente los precios de oferta y demanda para ofrecer a los vendedores y compradores a los que están conectados; luego, los vendedores y compradores reaccionan a los precios que enfrentan. Por lo tanto, la red codifica el poder relativo en las posiciones estructurales de los participantes del mercado, incluyendo los niveles implícitos de competencia entre los traders. Mostramos que este juego siempre tiene un equilibrio de Nash perfecto en subjuegos de 143, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. También analizamos cómo los beneficios de los operadores dependen de la estructura de la red, caracterizando esencialmente en términos de teoría de grafos cómo se determina el pago de un operador por la cantidad de competencia que experimenta con otros operadores. Nuestro trabajo aquí está conectado a varias líneas de investigación en economía, finanzas y teoría de juegos algorítmica, y discutimos estas conexiones con más detalle más adelante en la introducción. A un nivel general, nuestro enfoque puede ser visto como la síntesis de dos importantes corrientes de trabajo: una que trata la interacción comprador-vendedor utilizando estructuras de red, pero sin intentar modelar los procesos mediante los cuales los precios son realmente formados [1, 4, 5, 6, 8, 9, 10, 13]; y otra corriente en la literatura sobre microestructura de mercado que incorpora intermediarios en la fijación de precios, pero sin restricciones de tipo red sobre quién puede comerciar con quién [12]. Al desarrollar un modelo de red que incluye explícitamente a los comerciantes como agentes que establecen precios, en un sistema junto con compradores y vendedores, podemos capturar la formación de precios en un entorno de red como un proceso estratégico llevado a cabo por intermediarios, en lugar de como resultado de un mecanismo centralizado o exógeno. El Modelo Básico: Bienes Indistinguibles. Nuestro objetivo al formular el modelo es expresar el proceso de fijación de precios en mercados como los discutidos anteriormente, donde los participantes no tienen todos acceso uniforme entre sí. Se nos da un conjunto B de compradores, un conjunto S de vendedores y un conjunto T de traders. Hay un grafo no dirigido G que indica quién puede comerciar con quién. Todos los bordes tienen un extremo en B ∪ S y el otro en T; es decir, cada borde tiene la forma (i, t) para i ∈ S y t ∈ T, o (j, t) para j ∈ B y t ∈ T. Esto refleja las restricciones de que todas las transacciones entre compradores y vendedores pasan por los intermediarios comerciales. En la versión más básica del modelo, consideramos bienes idénticos, de los cuales cada vendedor inicialmente posee una copia. Los compradores y vendedores tienen un valor para una copia del bien, y asumimos que estos valores son de conocimiento común. Posteriormente generalizaremos esto a un escenario en el que los bienes son distinguibles, los compradores pueden valorar los diferentes bienes de manera diferente y, potencialmente, los vendedores también pueden valorar las transacciones con diferentes compradores de manera diferente. Tener diferentes valoraciones de los compradores captura escenarios como las compras de viviendas; agregar diferentes valoraciones de los vendedores también captura mercados de coincidencia, por ejemplo, vendedores como solicitantes de empleo y compradores como empleadores, ambos preocupados por quién termina con qué bien (y con los comerciantes actuando como servicios que facilitan la búsqueda de empleo). Por lo tanto, para comenzar con el modelo básico, hay un solo tipo de bien; el bien viene en unidades indivisibles; y cada vendedor inicialmente posee una unidad del bien. Todos los tres tipos de agentes valoran el dinero a la misma tasa; y cada i ∈ B ∪ S valora adicionalmente una copia del bien en θi unidades de dinero. Ningún agente quiere más de una copia del bien, por lo que las copias adicionales se valoran en 0. Cada agente tiene una dotación inicial de dinero que es mayor que cualquier valoración individual θi; el efecto de esto es garantizar que cualquier comprador que termine sin una copia del bien ha sido excluido del mercado debido a su valoración y posición en la red, no a la falta de fondos. Nos imaginamos que cada bien que se vende fluye a lo largo de una secuencia de dos etapas: desde un vendedor a un comerciante, y luego del comerciante a un comprador. La forma particular en la que fluyen los bienes está determinada por el siguiente juego. Primero, cada comerciante ofrece un <br>precio de oferta</br> a cada vendedor al que está conectado, y un precio de demanda a cada comprador al que está conectado. Los vendedores y compradores luego eligen entre las ofertas presentadas por los comerciantes. Si varios comerciantes proponen el mismo precio a un vendedor o comprador, entonces no hay una mejor respuesta estricta para el vendedor o comprador. En este caso se debe hacer una selección, y, como es habitual (ver por ejemplo [10]), nosotros (los modeladores) elegimos entre las mejores ofertas. Finalmente, cada comerciante compra una copia del bien de cada vendedor que acepta su oferta, y vende una copia del bien a cada comprador que acepta su oferta. Si un comerciante en particular, t, descubre que más compradores que vendedores aceptan sus ofertas, entonces se ha comprometido a proporcionar más copias del bien de las que ha recibido, y diremos que esto resulta en una gran penalización para el comerciante por incumplimiento; el efecto de esto es que en equilibrio, ningún comerciante elegirá precios de oferta y demanda que resulten en un incumplimiento. Más precisamente, una estrategia para cada operador t es una especificación de un <br>precio de oferta</br> βti para cada vendedor i al que t está conectado, y un precio de demanda αtj para cada comprador j al que t está conectado. (También podemos manejar un modelo en el que un operador puede optar por no hacer una oferta a ciertos de sus vendedores o compradores adyacentes). Cada vendedor o comprador elige como máximo una arista incidente, indicando el comerciante con quien realizarán la transacción, al precio indicado. (La elección de una sola arista refleja el hecho de que (a) los vendedores inicialmente solo tienen una copia del bien, y (b) los compradores solo desean una copia del bien). Las ganancias son las siguientes: Para cada vendedor i, la ganancia de seleccionar al comerciante t es βti, mientras que la ganancia de no seleccionar a ningún comerciante es θi. (En el primer caso, el vendedor recibe βti unidades de dinero, mientras que en el segundo caso conserva su copia del bien, al que valora en θi). Para cada comprador j, la ganancia de seleccionar al comerciante t es θj - αtj, mientras que la ganancia de no seleccionar a ningún comerciante es 0. (En el primer caso, el comprador recibe el bien pero renuncia a αtj unidades de dinero). Para cada operador t, con ofertas aceptadas de vendedores i1, . . . , is y compradores j1, . . . , jb, la ganancia es P r αtjr − P r βtir, menos una penalización π si b > s. La penalización se elige lo suficientemente grande para que un operador nunca la sufra en equilibrio, por lo que generalmente no nos preocuparemos por la penalización. Esto define los elementos básicos del juego. El concepto de equilibrio que utilizamos es el equilibrio de Nash perfecto en subjuegos. Algunos ejemplos. Para ayudar a pensar en el modelo, ahora describimos tres ejemplos ilustrativos, representados en la Figura 1. Para evitar que las figuras se vuelvan demasiado desordenadas, adoptamos las siguientes convenciones: los vendedores se representan como círculos en la columna más a la izquierda y se les asigna el nombre i1, i2, ... de arriba abajo; los comerciantes se representan como cuadrados en la columna del medio y se les asigna el nombre t1, t2, ... de arriba abajo; y los compradores se representan como círculos en la columna más a la derecha y se les asigna el nombre j1, j2, ... de arriba abajo. Todos los vendedores en los ejemplos tendrán valoraciones para el bien iguales a 0; la valoración de cada comprador se dibuja dentro de su círculo; y el precio de oferta o demanda en cada borde se dibuja encima del borde. En la Figura 1(a), mostramos cómo una subasta estándar de segundo precio surge naturalmente de nuestro modelo. Supongamos que las valoraciones de los compradores de mayor a menor son w > x > y > z. Los precios de oferta y demanda mostrados son consistentes con un equilibrio en el que i1 y j1 aceptan las ofertas del trader t1, y ningún otro comprador acepta la oferta de su trader adyacente: así, el trader t1 recibe el bien con un <br>precio de oferta</br> de x, y gana w − x al vender el bien al comprador j1 por w. De esta manera, podemos considerar esta instancia particular como una subasta para un bien único en la que los traders actúan como representantes de sus compradores adyacentes. El comprador con la valoración más alta para el bien termina adquiriéndolo, y el excedente se divide entre el vendedor y el comerciante asociado. Se debe tener en cuenta que se puede construir una subasta de k unidades con > k compradores con la misma facilidad, creando un grafo bipartito completo con k vendedores y comerciantes, y luego conectando a cada comerciante con un único comprador distinto. En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales. Específicamente, el vendedor i2 y el comprador j2 ocupan posiciones poderosas, ya que los dos comerciantes compiten por su negocio; por otro lado, los otros vendedores y compradores se encuentran en posiciones débiles, ya que cada uno tiene solo una opción. Y de hecho, en cada equilibrio, hay un número real x ∈ [0, 1] tal que ambos comerciantes ofrecen precios de oferta y demanda de x a i2 y j2 respectivamente, mientras ofrecen ofertas de 0 y demandas de 1 a los otros vendedores y compradores. Por lo tanto, este ejemplo ilustra algunos ingredientes cruciales que identificaremos a un nivel más general en breve. Específicamente, i2 y j2 experimentan los beneficios de la competencia perfecta, ya que los dos comerciantes reducen los márgenes de oferta y demanda a 0 al competir por su negocio. Por otro lado, los otros vendedores y compradores experimentan las desventajas del monopolio: no reciben ninguna ganancia ya que solo tienen una opción para comerciar, y el comerciante correspondiente se queda con todas las ganancias. Observa además cómo este comportamiento natural surge del hecho de que los comerciantes pueden ofrecer diferentes precios a diferentes agentes, capturando el hecho de que no hay un precio fijo en los tipos de mercados que motivan el modelo, sino diferentes precios que reflejan el poder relativo de los diferentes agentes involucrados. El ejemplo anterior muestra quizás la forma más natural en la que la ganancia de un comerciante en una transacción particular puede caer a 0: cuando hay otro comerciante que puede replicar su función de manera precisa. (En ese ejemplo, dos comerciantes tenían la capacidad de mover una copia del bien de i2 a j2). Pero como mostrarán nuestros resultados posteriores, los comerciantes no obtienen ganancias en general debido a razones globales y teóricas de grafos. El ejemplo en la Figura 1(c) da una indicación inicial de esto: se puede demostrar que para cada equilibrio, existe un y ∈ [0, 1] tal que cada oferta y cada precio de demanda es igual a y. En otras palabras, todos los comerciantes no obtienen beneficios, ya sea que pase por ellos una copia del bien o no, y sin embargo, ningún par de comerciantes comparte rutas de vendedor-comprador en común. Los márgenes de precios se han reducido a cero debido a una restricción global impuesta por el largo ciclo a través de todos los agentes; este es un ejemplo de competencia perfecta implícita determinada por la topología de la red. Extendiendo el modelo para bienes distinguibles. Extendemos el modelo básico a un escenario con bienes distinguibles, de la siguiente manera. En lugar de que cada agente i ∈ B ∪ S tenga una única valoración numérica θi, indexamos las valoraciones por pares de compradores y vendedores: si el comprador j obtiene el bien inicialmente poseído por el vendedor i, obtiene una utilidad de θji, y si el vendedor i vende su bien al comprador j, experimenta una pérdida de utilidad de θij. Esto generaliza el caso de bienes indistinguibles, ya que siempre podemos hacer que estas valoraciones por pares dependan solo de uno de los índices. Una estrategia para un trader ahora consiste en ofrecer una oferta a cada vendedor que especifique tanto un precio como un comprador, y ofrecer una demanda a cada comprador que especifique tanto un precio como un vendedor. (También podemos manejar un modelo en el que un trader ofrece ofertas (respectivamente, demandas) en forma de vectores, especificando esencialmente un menú con un precio adjunto a cada comprador (resp. vendedor).) Cada comprador y vendedor selecciona una oferta de un comerciante adyacente, y los pagos a todos los agentes se determinan como antes. Este marco general captura los mercados de emparejamiento [10, 13]: por ejemplo, un mercado laboral que es mediado por agentes o servicios de búsqueda de empleo (como en la contratación de ejecutivos corporativos, o figuras del deporte o del entretenimiento). Aquí los vendedores son solicitantes de empleo, los compradores son empleadores y los comerciantes son los agentes que median en el mercado laboral. Por supuesto, si se especifican valoraciones por pares en los compradores pero solo valoraciones individuales para los vendedores, modelamos un escenario donde los compradores pueden distinguir entre los bienes, pero a los vendedores no les importa a quién venden, esto captura (aproximadamente) escenarios como los mercados de vivienda. Nuestros resultados. Nuestros resultados identificarán formas generales de algunos de los principios mencionados en los ejemplos discutidos anteriormente, incluyendo la pregunta de qué compradores terminan con el bien; la pregunta de cómo los pagos son realizados de manera diferente por vendedores, comerciantes y compradores; y la pregunta de qué propiedades estructurales de la red determinan si los comerciantes obtendrán beneficios positivos. Para hacer esto preciso, introducimos la siguiente notación. Cualquier resultado del juego determina una asignación final de bienes a algunos de los agentes; esto puede ser especificado por una colección M de triples (es decir, te, je), donde ie ∈ S, te ∈ T y je ∈ B; además, cada vendedor y cada comprador aparece en a lo sumo un triple. El significado es que para cada e ∈ M, el bien inicialmente poseído por ie se transfiere a je a través de te. (Los vendedores que no aparecen en ningún trío conservan su copia del bien). Decimos que el valor de la asignación es igual a P e∈M θjeie − θieje. Que θ∗ denote el valor máximo de cualquier asignación M que sea factible dada la red. Mostramos que cada instancia de nuestro juego tiene un equilibrio, y que en cada uno de estos equilibrios, la asignación tiene un valor de θ∗ 145, en otras palabras, logra el mejor valor posible. Por lo tanto, los equilibrios en este modelo son siempre eficientes, ya que el mercado permite que el conjunto correcto de personas obtenga el bien, sujeto a las restricciones de la red. Establecemos la existencia y eficiencia de los equilibrios mediante la construcción de un programa lineal para capturar el flujo de bienes a través de la red; el dual de este programa lineal contiene suficiente información para extraer los precios de equilibrio. Según la definición del juego, el valor de la asignación de equilibrio se divide en forma de pagos a los agentes, y resulta interesante preguntarse cómo se distribuye este valor, en particular cuánta ganancia puede obtener un trader según su posición en la red. Observamos que, aunque todos los equilibrios tienen el mismo valor, la ganancia de un trader dado puede variar entre diferentes equilibrios. Sin embargo, somos capaces de caracterizar las cantidades máximas y mínimas que un operador dado puede obtener, donde estos máximos y mínimos se toman sobre todos los equilibrios, y proporcionamos un algoritmo eficiente para calcular esto. En particular, nuestros resultados aquí implican una caracterización combinatoria clara de cuándo un trader dado t puede lograr un beneficio distinto de cero: esto ocurre si y solo si hay algún borde e incidente en t que es esencial, en el sentido de que eliminar e reduce el valor de la asignación óptima θ∗. También obtenemos resultados para la suma de todas las ganancias de los operadores. Trabajo relacionado. El enfoque estándar de referencia para analizar la interacción entre compradores y vendedores es el modelo walrasiano en el que compradores y vendedores anónimos intercambian un bien a un único precio de equilibrio de mercado. Esta forma reducida de comercio, basada en la idealización de un precio de mercado, es un modelo poderoso que ha dado lugar a muchas ideas. Pero no es un buen modelo para examinar de dónde vienen los precios o exactamente cómo compradores y vendedores comercian entre sí. La dificultad es que en el modelo walrasiano no hay un agente que fije el precio, y los agentes en realidad no comercian entre sí. De hecho, no hay un mercado, en el sentido cotidiano de esa palabra, en el modelo walrasiano. Es decir, no hay un lugar físico o virtual donde los compradores y vendedores interactúen para comerciar y establecer precios. Por lo tanto, en este modelo simple, todos los compradores y vendedores son uniformes y comercian al mismo precio, y tampoco hay un papel para intermediarios. Hay varias literaturas en economía y finanzas que examinan cómo se fijan los precios en lugar de simplemente determinar los precios de equilibrio. La literatura sobre competencia imperfecta es quizás la más antigua de todas. Aquí un monopolista, o un grupo de oligopolistas, eligen los precios con el fin de maximizar sus ganancias (ver [14] para el tratamiento estándar de estos mercados en los libros de texto). Un monopolista utiliza su conocimiento de la demanda del mercado para elegir un precio, o una colección de precios si discrimina. Los oligopolistas juegan un juego en el que sus ganancias dependen de la demanda del mercado y las acciones de sus competidores. En esta literatura hay agentes que fijan precios, pero se mantiene la ficción de un solo mercado. En la literatura de búsqueda de equilibrio, las empresas establecen precios y los consumidores los buscan (ver [3]). Los consumidores terminan pagando precios diferentes, pero todos los consumidores tienen acceso a todas las empresas y no hay intermediarios. En la literatura de equilibrio general ha habido varios intentos de introducir la determinación de precios. Una técnica de prueba estándar para la existencia de un equilibrio competitivo implica un mecanismo de ajuste de precios en el que los precios responden a la demanda excesiva. El subastador walrasiano suele ser presentado como un dispositivo para explicar cómo funciona este proceso, pero en realidad es fundamentalmente una metáfora de un algoritmo iterativo de actualización de precios, no de los detalles internos de un mercado real. Se han introducido procesos más sofisticados para estudiar la estabilidad de los precios de equilibrio o la información necesaria para calcularlos. Pero de nuevo no hay agentes que fijen los precios aquí. En la literatura financiera, el trabajo sobre microestructura de mercado sí tiene agentes que fijan precios (especialistas), algunas partes de él determinan precios de oferta y demanda separados, y diferentes agentes reciben precios distintos por el mismo activo (ver [12] para un tratamiento de la teoría de microestructura). El trabajo en economía de la información ha identificado fenómenos similares (ver por ejemplo [7]). Pero hay poca investigación en estas literaturas que examine el efecto de las restricciones sobre quién puede comerciar con quién. Ha habido varios enfoques para estudiar cómo la estructura de la red determina los precios. Estos han planteado la determinación de precios a través de definiciones basadas en el equilibrio competitivo o el núcleo, o mediante el uso de mecanismos veraces. Al revisar brevemente este trabajo, notaremos el contraste con nuestro enfoque, ya que modelamos los precios como resultado del comportamiento estratégico de los agentes en el sistema. En un trabajo reciente, Kakade et al. [8] han estudiado la distribución de precios en equilibrio competitivo en un grafo bipartito de compradores y vendedores, generado utilizando un modelo probabilístico capaz de producir distribuciones de grados con colas pesadas [11]. Even-Dar et al. [6] se basan en esto para considerar los aspectos estratégicos de la formación de redes cuando los precios surgen del equilibrio competitivo. Leonard [10], Babaioff et al. [1], y Chu y Shen [4] consideran un enfoque basado en el diseño de mecanismos: los compradores y vendedores residen en nodos diferentes en un grafo, y incurren en un costo de transporte dado para comerciar entre sí. Leonard estudia los precios de VCG en este contexto; Babaioff et al. y Chu y Shen además proporcionan un mecanismo equilibrado en presupuesto. Dado que la preocupación aquí radica en mecanismos veraces que operan sobre valoraciones privadas, existe un compromiso inherente entre la eficiencia de la asignación y la condición de equilibrio presupuestario. Por el contrario, nuestro modelo tiene valoraciones y precios conocidos que surgen del comportamiento estratégico de los operadores. Por lo tanto, las suposiciones detrás de nuestro modelo no son directamente comparables a las que subyacen en el enfoque del diseño de mecanismos: aunque asumimos valoraciones conocidas, no requerimos una autoridad centralizada para imponer un mecanismo. Más bien, la fijación de precios es parte del resultado estratégico, como en los mercados reales que motivan nuestro trabajo, y nuestros equilibrios son simultáneamente equilibrados en términos presupuestarios y eficientes, algo que no es posible en los marcos de diseño de mecanismos que se han utilizado. Demange, Gale y Sotomayor [5], y Kranton y Minehart [9], analizan los precios a los que se produce el comercio en una red, trabajando dentro del marco del diseño de mecanismos. Kranton y Minehart utilizan un grafo bipartito con enlaces directos entre compradores y vendedores, y luego emplean un mecanismo de subasta ascendente, en lugar de intermediarios estratégicos, para determinar los precios. Su subasta tiene propiedades de equilibrio deseables, pero como señalan Kranton y Minehart, es una abstracción de cómo se asignan los bienes y se determinan los precios que es similar en espíritu a la abstracción del subastador walrasiano. De hecho, podemos mostrar cómo el modelo básico de Kranton y Minehart puede ser codificado como una instancia de nuestro juego, con los comerciantes produciendo precios en equilibrio que coinciden con los precios producidos por su mecanismo de subasta. Finalmente, los resultados clásicos de Shapley y Shubik [13] sobre el juego de asignación pueden ser vistos como el estudio del resultado del comercio en un grafo bipartito en términos del núcleo. Estudian el dual de un programa lineal basado en el problema de emparejamiento, similar a lo que usamos para una versión reducida de nuestro modelo en la siguiente sección, pero su enfoque es diferente ya que no consideran agentes que buscan establecer precios. 2. MERCADOS CON OPERADORES DE PAREJAS Para comprender las ideas detrás del análisis del modelo general, es muy útil considerar primero un caso especial con un re1 Kranton y Minehart, sin embargo, también pueden analizar un entorno más general en el que los valores de los compradores son privados y, por lo tanto, compradores y vendedores juegan un juego de información incompleta. Solo trabajamos con información completa. 146 forma restringida de comerciantes a los que nos referimos como operadores de pares. En este caso, cada comerciante está conectado a solo un comprador y un vendedor. (Por lo tanto, sirve esencialmente como una ruta comercial entre los dos). Las técnicas que desarrollamos para manejar este caso formarán una base útil para razonar sobre el caso de los comerciantes que pueden estar conectados arbitrariamente a los vendedores y compradores. Relacionaremos las ganancias en un equilibrio de Nash perfecto en subjuegos con las soluciones óptimas de un cierto programa lineal, utilizaremos esta relación para demostrar que todos los equilibrios resultan en una asignación eficiente de los bienes, y mostraremos que siempre existe un equilibrio puro. Primero, consideramos el modelo más simple donde los vendedores tienen artículos indistinguibles, y cada comprador está interesado en obtener un artículo. Luego extendemos los resultados al caso más general de un mercado de emparejamiento, como se discutió en la sección anterior, donde las valoraciones dependen de la identidad del vendedor y comprador. Luego caracterizamos las ganancias mínimas y máximas que los comerciantes pueden obtener. En la siguiente sección, extendemos los resultados a los operadores que pueden estar conectados a cualquier subconjunto de vendedores y compradores. Dado que estamos trabajando con operadores de pares en esta sección, podemos representar el problema utilizando un grafo bipartito G cuyo conjunto de nodos es B ∪ S, y donde cada operador t, conectando al vendedor i y al comprador j, aparece como una arista t = (i, j) en G. Sin embargo, cabe destacar que permitimos que múltiples operadores conecten el mismo par de agentes. Para cada comprador y vendedor i, usaremos adj(i) para denotar el conjunto de comerciantes que pueden comerciar con i. 2.1 Bienes Indistinguibles El intercambio socialmente óptimo para el caso de bienes indistinguibles es la solución del problema de transporte: enviar bienes a lo largo de los bordes que representan a los comerciantes. Las aristas a lo largo de las cuales ocurre el comercio corresponden a un emparejamiento en este grafo bipartito, y el comercio óptimo está descrito por el siguiente programa lineal. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B A continuación, consideramos un equilibrio. Cada operador t = (i, j) debe ofrecer una oferta βt y una demanda αt. (Omitimos el subíndice que denota al vendedor y comprador aquí, ya que estamos tratando con operadores en pares). Dado el precio de oferta y demanda, los agentes reaccionan a estos precios, como se describió anteriormente. En lugar de enfocarnos en los precios, nos enfocaremos en las ganancias. Si un vendedor i vende a un comerciante t ∈ adj(i) con una oferta βt, entonces su ganancia es pi = βt − θi. De manera similar, si un comprador j compra a un comerciante t ∈ adj(j) con una oferta αt, entonces su ganancia es pj = θj − αt. Finalmente, si un comerciante t opera con la oferta αt y la demanda βt, entonces su ganancia es yt = αt − βt. Todos los agentes que no están involucrados en el comercio no obtienen ganancias. Demostraremos que las ganancias en equilibrio son una solución óptima para el siguiente programa lineal. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMA 2.1. En el equilibrio, los beneficios deben satisfacer las desigualdades anteriores. Prueba. Claramente, todas las ganancias son no negativas, ya que el comercio es opcional para todos los agentes. Para ver por qué se cumplen el último conjunto de desigualdades, considera dos casos por separado. Para un comerciante t que realizó un intercambio, obtenemos igualdad por definición. Para otros comerciantes t = (i, j), el valor pi + θi es el precio al que el vendedor i vendió (o θi si el vendedor i decidió quedarse con el bien). Ofrecer una oferta βt > pi + θi haría que el vendedor vendiera al comerciante t. De manera similar, θj − pj es el precio al que el comprador j compró (o θj si no compró), y para cualquier oferta αt < θj − pj, el comprador comprará al comerciante t. Por lo tanto, a menos que θj − pj ≤ θi + pi, el comerciante tiene una desviación rentable. Ahora estamos listos para demostrar nuestro primer teorema: TEOREMA 2.2. En cualquier equilibrio, el comercio es eficiente. Prueba. Que x sea un flujo de bienes que resulta en un equilibrio, y que las variables p e y sean las ganancias. Considera el programa lineal que describe el comercio socialmente óptimo. También agregaremos un conjunto de restricciones adicionales xt ≤ 1 para todos los operadores t ∈ T; esto se puede agregar a la descripción, ya que está implícito en las otras restricciones. Ahora afirmamos que los dos programas lineales son duales entre sí. Las variables pi para los agentes B ∪ S corresponden a las ecuaciones Pt∈adj(i) xt ≤ 1. La variable dual adicional yt corresponde a una desigualdad adicional xt ≤ 1. La optimalidad del valor social del intercambio se seguirá de la afirmación de que la solución de estos dos programas lineales derivados de un equilibrio satisface las condiciones de holgura complementaria para este par de programas lineales, y por lo tanto tanto x como (p, y) son soluciones óptimas de los programas lineales correspondientes. Existen tres condiciones de holgura complementarias diferentes que debemos considerar, correspondientes a los tres conjuntos de variables x, y y p. Cualquier agente solo puede obtener ganancias si realiza transacciones, por lo que pi > 0 implica que P t∈adj(i) xt = 1, y de manera similar, yt > 0 implica que xt = 1 también. Finalmente, considera a un trader t con xt > 0 que negocia entre el vendedor i y el comprador j, y recuerda que hemos visto anteriormente que la desigualdad yt ≥ (θj − pj) − (θi + pi) se cumple con igualdad para aquellos que comercian. A continuación argumentamos que los equilibrios siempre existen. TEOREMA 2.3. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro de valores de oferta y demanda que respalda este comercio. Prueba. Considera un intercambio eficiente; sea xt = 1 si t intercambia y 0 en caso contrario; y considera una solución óptima (p, y) para el programa lineal dual. Nos gustaría afirmar que todas las soluciones duales corresponden a precios de equilibrio, pero desafortunadamente esto no es exactamente cierto. Antes de poder convertir una solución dual en precios de equilibrio, es posible que necesitemos modificar ligeramente la solución de la siguiente manera. Considera cualquier agente i que solo esté conectado a un único comerciante t. Debido a que el agente está solo conectado a un único comerciante, las variables yt y pi son variables duales correspondientes a la misma desigualdad primal xt ≤ 1, y siempre aparecen juntas como yt + pi en todas las desigualdades, y también en la función objetivo. Por lo tanto, existe una solución óptima en la que pi = 0 para todos los agentes i conectados solo a un único comerciante. Supongamos que (p, y) es una solución dual donde los agentes conectados solo a un comerciante tienen pi = 0. Para un vendedor i, dejemos que βt = θi + pi sea la oferta para todos los comerciantes t adyacentes a i. De manera similar, para cada comprador j, sea αt = θj − pj la oferta para todos los operadores t adyacentes a j. Sostenemos que este conjunto de ofertas y demandas, junto con la transacción x, constituyen un equilibrio. Para entender por qué, hay que tener en cuenta que todos los operadores t adyacentes a un vendedor o comprador i ofrecen la misma oferta o demanda, por lo que comerciar con cualquier operador es igualmente bueno para el agente i. Además, si i no está operando en la solución 147 x, entonces por holgura complementaria pi = 0, y por lo tanto, no operar también es igualmente bueno para i. Esto muestra que los vendedores y compradores no tienen un incentivo para desviarse. Necesitamos demostrar que los comerciantes no tienen incentivos para desviarse tampoco. Cuando un comerciante t está negociando con el vendedor i y el comprador j, las desviaciones rentables implicarían aumentar αt o disminuir βt. Pero por nuestra construcción (y suposición sobre agentes monopolizados) todos los vendedores y compradores tienen múltiples ofertas de compra/venta idénticas, o el intercambio está ocurriendo a valuación. En cualquier caso, tal desviación no puede tener éxito. Finalmente, considera un trader t = (i, j) que no realiza intercambios. Una desviación para t implicaría ofrecer una oferta más baja al vendedor i y una oferta más alta al vendedor j que su intercambio actual. Sin embargo, yt = 0 por holgura complementaria, y por lo tanto pi + θi ≥ θj − pj, por lo que i vende a un precio al menos tan alto como el precio al que j compra, por lo que el comerciante t no puede crear un intercambio rentable. Se debe tener en cuenta que un vendedor o comprador conectado a un único comerciante t no puede obtener beneficios en equilibrio, por lo que los posibles beneficios en equilibrio están en correspondencia uno a uno con las soluciones duales para las cuales pi = 0 siempre que i esté monopolizado por un único comerciante. Una característica decepcionante del equilibrio creado por esta prueba es que algunos agentes t pueden tener que crear pares de oferta y demanda donde βt > αt, ofreciendo comprar por más del precio al que están dispuestos a vender. Los agentes que realizan tales pares de oferta y demanda nunca realizan realmente una transacción, por lo que no resulta en una pérdida de beneficios para el agente, pero dichos pares son poco comunes. Los pares de ofertas y demandas cruzadas son débilmente dominados por la estrategia de ofrecer una oferta baja β = 0 y una demanda extremadamente alta para garantizar que ninguna sea aceptada. Para formular una forma de evitar tales pares cruzados, decimos que un equilibrio es libre de cruces si αt ≥ βt para todos los operadores t. Ahora mostramos que siempre hay un equilibrio libre de cruces. TEOREMA 2.4. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro y libre de cruces. Prueba. Considera una solución óptima para el programa lineal dual. Para obtener un equilibrio sin cruzar ofertas, necesitamos hacer una modificación más general que simplemente asumir que pi = 0 para todos los vendedores y compradores conectados a un único operador. Que el conjunto E sea el conjunto de aristas t = (i, j) que son tensas, en el sentido de que tenemos la igualdad yt = (θj − pj) − (θi + pi). Este conjunto E contiene todos los bordes donde ocurre el comercio, y algunos bordes adicionales. Queremos asegurarnos de que pi = 0 para todos los vendedores y compradores que tengan un grado de a lo sumo 1 en E. Considere un vendedor i que tiene pi > 0. Debemos tener i involucrado en un intercambio, y el borde t = (i, j) a lo largo del cual ocurre el intercambio debe ser ajustado. Supongamos que este es el único borde ajustado adyacente al agente i; entonces podemos disminuir pi e incrementar yt hasta que ocurra una de las siguientes situaciones: o bien pi = 0 o la restricción de algún otro agente t ∈ adj(i) se vuelva ajustada. Esta modificación solo aumenta el conjunto de aristas ajustadas E, mantiene la solución factible y no cambia el valor de la función objetivo. Entonces, después de hacer esto para todos los vendedores, y cambiando de manera análoga yt y pj para todos los compradores, obtenemos una solución óptima donde todos los vendedores y compradores i tienen pi = 0 o tienen al menos dos aristas ajustadas adyacentes. Ahora podemos establecer ofertas y demandas para formar un equilibrio libre de cruces. Para todos los traders t = (i, j) asociados con un borde t ∈ E, establecemos αt y βt como antes: fijamos la oferta βt = pi + θi y la demanda αt = θj − pj. Para un trader t = (i, j) ∈ E, tenemos que pi + θi > θj − pj y establecemos αt = βt para que sea cualquier valor en el rango [θj − pj, pi + θi]. Esto garantiza que para cada vendedor o comprador, la mejor oferta de venta o compra se encuentra a lo largo del borde donde se produce el intercambio en la solución. Los valores de askbid a lo largo de los bordes ajustados garantizan que los traders que operan no puedan aumentar su spread. Los operadores t = (i, j) que no realizan operaciones no pueden obtener ganancias debido a la restricción pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) Ningún operador obtiene ganancias 1 1 1 0 x x x x 1 x x 0 x (b) Ganancias del operador Figura 2: Izquierda: un equilibrio con ofertas cruzadas donde los operadores no ganan dinero. Correcto: un equilibrio sin ofertas cruzadas para cualquier valor x ∈ [0, 1]. La ganancia total del comerciante oscila entre 1 y 2. 2.2 Bienes distinguibles. Ahora consideramos el caso de bienes distinguibles. Como en la sección anterior, podemos escribir un programa lineal de transbordo para el comercio socialmente óptimo, con el único cambio en la función objetivo. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) Podemos demostrar que el dual de este programa lineal corresponde a las ganancias de los comerciantes. Recuerda que necesitábamos agregar las restricciones xt ≤ 1 para todos los traders. El dual es entonces: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T. No es difícil extender las pruebas de los Teoremas 2.2 - 2.4 a este caso. Las ganancias en un equilibrio satisfacen las restricciones duales, y las ganancias y el comercio satisfacen la holgura complementaria. Esto demuestra que el comercio es socialmente óptimo. Tomando una solución dual óptima donde pi = 0 para todos los agentes que están monopolizados, podemos convertirla en un equilibrio, y con un poco más de cuidado, también podemos crear un equilibrio sin pares de oferta y demanda cruzados. TEOREMA 2.5. Todos los equilibrios para el caso de los operadores en pares con bienes distinguibles resultan en un comercio socialmente óptimo. Existen equilibrios puros no cruzados. 2.3 Ganancias de los operadores Hemos visto que todos los equilibrios son eficientes. Sin embargo, resulta que los equilibrios pueden diferir en cómo se distribuye el valor de la asignación entre los vendedores, compradores e intermediarios. La Figura 2 representa un ejemplo simple de este fenómeno. Nuestro objetivo es entender cómo se ve afectada la ganancia de un trader por su posición en la red; utilizaremos la caracterización que obtuvimos para determinar el rango de ganancias que un trader puede obtener. Para maximizar la ganancia de un operador t (o un subconjunto de operadores T), todo lo que necesitamos hacer es encontrar una solución óptima al programa lineal dual que maximice el valor de yt (o la suma Pt∈T yt). Tales soluciones duales corresponderán a equilibrios con precios no cruzados. TEOREMA 2.6. Para cualquier operador t o subconjunto de operadores T, la ganancia total máxima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. Este beneficio máximo se puede obtener mediante un equilibrio no cruzado. Una forma de pensar en la ganancia de un trader t = (i, j) es como una resta del valor del borde correspondiente (i, j). El valor del borde es el valor social θji − θij si el comerciante no obtiene ganancias, y disminuye a θji − θij − yt si el comerciante t insiste en obtener una ganancia de yt. El comerciante t obtiene un beneficio yt en equilibrio, si después de esta disminución en el valor del borde, el borde sigue incluido en el transbordo óptimo. TEOREMA 2.7. Un comerciante t puede obtener beneficios en un equilibrio si y solo si t es esencial para el bienestar social, es decir, si eliminar al agente t disminuye el bienestar social. La ganancia máxima que puede obtener es exactamente su valor para la sociedad, es decir, el aumento que su presencia provoca en el bienestar social. Si permitimos el cruce de equilibrios, entonces también podemos encontrar la ganancia mínima posible. Recuerde que en la demostración del Teorema 2.3, los comerciantes solo ganaron dinero de vendedores o compradores sobre los que tenían un monopolio. Permitiendo tales equilibrios con ofertas cruzadas, podemos encontrar la ganancia mínima que un trader o conjunto de traders puede obtener, minimizando el valor yt (o la suma de P t∈T yt) en todas las soluciones óptimas que satisfacen que pi = 0 siempre que i esté conectado solo a un trader. TEOREMA 2.8. Para cualquier operador t o subconjunto de operadores T, la ganancia total mínima que pueden obtener en cualquier equilibrio puede ser calculada en tiempo polinómico. A continuación, extendemos los resultados a un modelo en el que los comerciantes pueden estar conectados a un número arbitrario de vendedores y compradores. Para un comerciante t ∈ T utilizaremos S(t) y B(t) para denotar el conjunto de compradores y vendedores conectados al comerciante t. En esta sección nos enfocamos en el caso general cuando los bienes son distinguibles (es decir, tanto los compradores como los vendedores tienen valoraciones que son sensibles a la identidad del agente con el que se emparejan en la asignación). En la versión completa del artículo también discutimos el caso especial de bienes indistinguibles con más detalle. Para obtener el intercambio óptimo, consideramos el grafo bipartito G = (S ∪ B, E) que conecta vendedores y compradores, donde una arista e = (i, j) conecta un vendedor i y un comprador j si hay un comerciante adyacente a ambos: E = {(i, j) : adj(i) ∩ adj(j) = ∅}. En este gráfico, luego resolvemos la instancia del problema de asignación que también se utilizó en la Sección 2.2, con el valor del borde (i, j) igual a θji − θij (ya que el valor del intercambio entre i y j es independiente de qué comerciante realizó el intercambio). También utilizaremos el dual de este programa lineal: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Ofertas y Demandas y Optimización del Trader. Primero necesitamos entender qué modelo de oferta utilizaremos. Incluso cuando los bienes son indistinguibles, un comerciante puede querer practicar discriminación de precios y ofrecer diferentes valores de oferta y demanda a diferentes vendedores y compradores. En el caso de bienes distinguibles, tenemos que lidiar con una complicación adicional: el comerciante tiene que nombrar el bien que está proponiendo vender o comprar, y posiblemente ofrecer múltiples productos diferentes. Hay dos variantes de nuestro modelo dependiendo de si un trader hace una única oferta de compra o venta a un vendedor o comprador, o si ofrece un menú de opciones. (i) Un trader t puede ofrecer a un comprador j un menú de ofertas de compra αtji, un vector de valores para todos los productos a los que está conectado, donde αtji es la oferta de compra para el producto del vendedor i. De manera simétrica, un trader t puede ofrecer a cada vendedor i un menú de ofertas de venta βtij para vender a diferentes compradores j. (ii) Alternativamente, podemos requerir que cada trader t pueda hacer como máximo una oferta de compra a cada vendedor y una oferta de venta para cada comprador, y una oferta de compra debe incluir el producto vendido, y una oferta de venta debe ofrecer a un comprador en particular para venderle. Nuestros resultados se mantienen en ambos modelos. Para simplificar la notación, utilizaremos la opción del menú aquí. A continuación, necesitamos entender el problema de optimización de un trader t. Supongamos que tenemos valores de oferta y demanda para todos los demás traders t ∈ T, t = t. ¿Cuáles son las mejores ofertas de compra y venta que el trader t puede hacer como mejor respuesta al conjunto actual de ofertas de compra y venta? Para cada vendedor i, dejemos que pi sea la ganancia máxima que el vendedor i puede obtener utilizando ofertas de otros comerciantes, y asumamos de manera simétrica que pj es la ganancia máxima que el comprador j puede obtener utilizando demandas de otros comerciantes (dejando pi = 0 para cualquier vendedor o comprador i que no pueda obtener ganancias). Ahora considera un par vendedor-comprador (i, j) que el comerciante t puede conectar. El trader t tendrá que hacer una oferta de al menos βtij = θij + pi al vendedor i y un precio de venta de como máximo αtji = θji − pj al comprador j para realizar esta transacción, por lo que la ganancia máxima que puede obtener en esta operación es vtij = αtji − βtij = θji − pj − (θij + pi). El intercambio óptimo para el trader t se obtiene resolviendo un problema de emparejamiento para encontrar la correspondencia entre los vendedores S(t) y compradores B(t) que maximiza el valor total vtij para el trader t. Necesitaremos el dual del programa lineal para encontrar el intercambio de máximo beneficio para el trader t. Utilizaremos qti como la variable dual asociada con la restricción del vendedor o comprador i. El dual es entonces el siguiente problema. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t). Vemos qti como la ganancia obtenida por t al comerciar con el vendedor o comprador i. El Teorema 3.1 resume la discusión anterior. TEOREMA 3.1. Para un trader t, dado las ofertas más bajas βtij y las peticiones más altas αtji que pueden ser aceptadas para los vendedores i ∈ S(t) y compradores j ∈ B(t), el mejor intercambio que t puede hacer es el emparejamiento de valor máximo entre S(t) y B(t) con valor vtij = αtji − βtij para la arista (i, j). Este valor máximo es igual al mínimo del programa lineal dual anterior. 3.2 Comercio eficiente y equilibrio Ahora podemos demostrar que el comercio en equilibrio siempre es eficiente. TEOREMA 3.2. Cada equilibrio resulta en una asignación eficiente de los bienes. Prueba. Considera un equilibrio, con xe = 1 si y solo si el comercio ocurre a lo largo del borde e = (i, j). El comercio es una solución al programa lineal de transbordo utilizado en la Sección 2.2. Que pi denote la ganancia del vendedor o comprador i. Cada operador t actualmente tiene la mejor solución a su propio problema de optimización. Un comerciante t encuentra su intercambio óptimo (dadas las ofertas y demandas de los otros 149 comerciantes) resolviendo un problema de emparejamiento. Que qti para i ∈ B(t)∪S(t) denote la solución dual óptima a este problema de emparejamiento como se describe en el Teorema 3.1. Al configurar el problema de optimización para un trader t anteriormente, usamos pi para denotar la ganancia máxima que puedo obtener sin la oferta del trader t. Tenga en cuenta que este pi es exactamente el mismo pi que usamos aquí, la ganancia del agente i. Esto es claramente cierto para todos los operadores t que no están comerciando con i en el equilibrio. Para ver por qué es cierto para el operador t con el que i está negociando, usamos que el conjunto actual de valores de oferta y demanda es un equilibrio. Si para cualquier agente i la oferta o demanda del trader t fuera la única mejor opción, entonces t podría obtener más beneficios ofreciendo una demanda un poco más alta o una oferta un poco más baja, lo cual sería una contradicción. Mostramos que el intercambio x es óptimo al considerar la solución dual zi = pi + P t qti para todos los agentes i ∈ B ∪ S. Afirmamos que z es una solución dual y satisface la holgura complementaria con el intercambio x. Para ver esto, necesitamos mostrar algunos hechos. Necesitamos que zi > 0 implique que i comercie. Si zi > 0, entonces o bien pi > 0 o qti > 0 para algún trader t. El agente i solo puede obtener ganancias pi > 0 si está involucrado en una transacción. Si qti > 0 para algún t, entonces el trader t debe comerciar con i, ya que su solución es óptima, y por holgura complementaria para la solución dual, qti > 0 implica que t comercia con i. Para un borde (i, j) asociado con un trader t, necesitamos mostrar que la solución dual es factible, es decir, zi + zj ≥ θji − θij. Se recuerda que vtij = θji −pj −(θij +pi), y la restricción dual del problema de optimización de los traders requiere qti + qtj ≥ vtij. Al juntar todo esto, tenemos zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij. Finalmente, necesitamos demostrar que las variables de intercambio x también cumplen la restricción de holgura complementaria: cuando xe > 0 para una arista e = (i, j) entonces la restricción dual correspondiente es activa. Que t sea el comerciante involucrado en la transacción. Por la holgura complementaria del problema de optimización de ts, tenemos qti + qtj = vtij. Para ver que z satisface la holgura complementaria, necesitamos argumentar que para todos los otros comerciantes t = t, tenemos tanto qt i = 0 como qt j = 0. Esto es cierto ya que qt i > 0 implica por la holgura complementaria del problema de optimización de t s que t debe comerciar con i en el óptimo, y t = t está comerciando. A continuación queremos demostrar que siempre existe un equilibrio no cruzado. Llamamos a un equilibrio no cruzado si las ofertas de compra y venta que un trader t hace para un par vendedor-comprador (i, j) nunca se cruzan, es decir, βtij ≤ αtji para todo t, i, j. TEOREMA 3.3. Existe un equilibrio no cruzado que respalda cualquier intercambio socialmente óptimo. Prueba. Considera un intercambio óptimo x y una solución dual z como antes. Para encontrar un equilibrio no cruzado necesitamos dividir la ganancia zi entre i y el comerciante t que negocia con i. Usaremos qti como el beneficio del comerciante asociado con el agente i para cualquier i ∈ S(t) ∪ B(t). Necesitaremos garantizar las siguientes propiedades: El comerciante t comercia con el agente i siempre que qti > 0. Esta es una de las condiciones de holgura complementaria para asegurar que el intercambio actual sea óptimo para el trader t. Para todos los pares vendedor-comprador (i, j) con los que un trader t puede comerciar, tenemos que pi + qti + pj + qtj ≥ θji − θij, (1) lo cual asegurará que qt sea una solución dual factible para el problema de optimización al que se enfrenta el trader t. Necesitamos tener igualdad en (1) cuando el trader t está comerciando entre i y j. Esta es una de las condiciones de holgura complementaria para el trader t, y garantizará que el intercambio de t sea óptimo para el trader. Finalmente, queremos organizar que cada agente i con pi > 0 tenga múltiples ofertas para obtener ganancias pi, y que el intercambio se realice en una de sus mejores ofertas. Para garantizar esto en las ofertas y demandas correspondientes, necesitamos asegurarnos de que siempre que pi > 0 haya múltiples t ∈ adj(i) que cumplan con la ecuación en la restricción anterior (1). Comenzamos estableciendo pi = zi para todo i ∈ S ∪ B y qti = 0 para todo i ∈ S ∪ B y traders t ∈ adj(i). Esto garantiza todos los invariantes excepto la última propiedad sobre múltiples t ∈ adj(t) teniendo igualdad en (1). Modificaremos p y q para aplicar gradualmente la última condición, manteniendo las demás. Considera un vendedor con pi > 0. Por la optimalidad del intercambio y la solución dual z, el vendedor i debe comerciar con algún comerciante t, y ese comerciante tendrá igualdad en (1) para el comprador j con el que se empareja i. Si este es el único operador t que tiene una restricción estricta en (1) que involucra al vendedor i, entonces aumentamos qti y disminuimos pi hasta que pi = 0 o hasta que otro operador t = t logre la igualdad en (1) para algún borde del comprador adyacente a i (posiblemente un comprador diferente j). Este cambio mantiene todas las invariantes y aumenta el conjunto de vendedores que también cumplen con la última restricción. Podemos hacer un cambio similar para un comprador j que tiene pj > 0 y solo tiene un operador t con una restricción ajustada (1) adyacente a j. Después de posiblemente repetir esto para todos los vendedores y compradores, obtenemos ganancias que satisfacen todas las restricciones. Ahora obtenemos los valores de oferta y demanda de equilibrio de la siguiente manera. Para un operador t que tiene igualdad para el par vendedor-comprador (i, j) en (1), ofrecemos αtji = θji − pj y βtij = θij + pi. Para todos los demás comerciantes t y pares de vendedor-comprador (i, j) tenemos el invariante (1), y utilizando esto sabemos que podemos elegir un valor γ en el rango θij +pi+qti ≥ γ ≥ θji − (pj + qtj). Ofrecemos valores de oferta y demanda βtij = αtji = γ. Ni la oferta ni la demanda serán la única mejor oferta para el comprador, por lo tanto, el intercambio x sigue siendo un equilibrio. 3.3 Ganancias del Trader Finalmente, nos enfocamos en el objetivo de comprender, en el caso de los traders generales, cómo se ve afectada la ganancia de un trader por su posición en la red. Primero, mostramos cómo maximizar la ganancia total de un grupo de comerciantes. La ganancia del comerciante t en un equilibrio es P i qti. Para encontrar la ganancia máxima posible para un trader t o un conjunto de traders T, necesitamos hacer lo siguiente: Encontrar ganancias pi ≥ 0 y qti > 0 de manera que zi = pi + P t∈adj(i) qti sea una solución dual óptima, y también cumpla con las restricciones (1) para cualquier vendedor i y comprador j conectados a través de un trader t ∈ T. Ahora, sujeto a todas estas condiciones, maximizamos la suma P t∈T P i∈S(t)∪B(t) qti. Ten en cuenta que esta maximización es una función objetivo secundaria con respecto al objetivo principal de que z sea una solución dual óptima. Luego usamos la prueba del Teorema 3.3 que muestra cómo convertir esto en un equilibrio. TEOREMA 3.4. El valor máximo para P t∈T P i qti anterior es la máxima ganancia que el conjunto T de comerciantes puede obtener. Prueba. Por la demostración del Teorema 3.2, las ganancias del comerciante t pueden ser escritas en esta forma, por lo que el conjunto de comerciantes T no puede obtener más ganancias de las reclamadas en este teorema. Para ver que T realmente puede obtener tantas ganancias, usamos la prueba del Teorema 3.3. Modificamos esa prueba para empezar con los vectores de ganancias p y qt para t ∈ T, y establecemos qt = 0 para todos los traders t ∈ T. Verificamos que esta solución inicial cumple con las tres primeras de las cuatro propiedades requeridas, y luego podemos seguir la demostración para hacer que la cuarta propiedad sea verdadera. Omitimos los detalles de esto en la versión actual. En la Sección 2.3 demostramos que en el caso de los traders de pares, un trader t puede ganar dinero si es esencial para el comercio eficiente. Esto no es 150 1 1 Figura 3: El comerciante principal es esencial para el bienestar social. Sin embargo, el único equilibrio es tener valores de oferta y demanda iguales a 0, y el comerciante no obtiene beneficios. Esto es cierto para el tipo de comerciantes más generales que consideramos aquí, como se muestra en el ejemplo de la Figura 3. Sin embargo, aún obtenemos una caracterización de cuándo un comerciante t puede obtener una ganancia positiva. TEOREMA 3.5. Un comerciante t puede obtener ganancias en un equilibrio si y solo si hay un vendedor o comprador i adyacente a t tal que la conexión del comerciante t con el agente i es esencial para el bienestar social, es decir, si eliminar al agente t de adj(i) disminuye el valor de la asignación óptima. Prueba. Primero mostramos la dirección en la que si un comerciante t puede ganar dinero, debe haber un agente i tal que la conexión de t con i sea esencial para el bienestar social. Sean p, q las ganancias en un equilibrio donde t gana dinero, como se describe en el Teorema 3.2 con P i∈S(t)∪B(t) qti > 0. Así que tenemos un agente i con qti > 0. Sostenemos que la conexión entre el agente i y el comerciante t debe ser esencial, en particular, sostenemos que el bienestar social debe disminuir al menos en qti si eliminamos t de adj(t). Para ver por qué, observe que al disminuir el valor de todas las aristas de la forma (i, j) asociadas con el comerciante t en qti, se mantiene el mismo óptimo de comercio, ya que obtenemos una solución dual de emparejamiento simplemente restableciendo qti a cero. Para ver lo contrario, suponga que eliminar t de adj(t) disminuye el bienestar social en algún valor γ. Supongamos que i es un vendedor (el caso de los compradores es simétrico), y disminuye en γ el valor social de cada arista (i, j) para cualquier comprador j tal que t sea el único agente que conecta a i y j. Por supuesto, el intercambio sigue siendo óptimo y dejamos que z sea la solución dual para esta correspondencia. Ahora utilizamos el mismo proceso que en la demostración del Teorema 3.3 para crear un equilibrio no cruzado comenzando con pi = zi para todo i ∈ S ∪ B, y qti = γ, y todos los demás valores de q igual a 0. Esto crea un equilibrio con ofertas que no se cruzan, donde t obtiene al menos γ de beneficio (debido al intercambio con el vendedor i). Finalmente, si permitimos el cruce de equilibrios, entonces podemos encontrar la ganancia mínima posible simplemente encontrando una solución dual que minimice las variables duales asociadas con los agentes monopolizados por algún comerciante. TEOREMA 3.6. Para cualquier trader t o subconjunto de traders T, la ganancia total mínima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. 4. REFERENCIAS [1] M. Babaioff, N. Nisan, E. Pavlov. Mecanismos para un mercado distribuido espacialmente. Conferencia ACM EC, 2005. [2] C. Barrett, E. Mutambatsere. Mercados agrícolas en países en desarrollo. El Nuevo Diccionario de Economía de Palgrave, 2da edición, próximo a publicarse. [3] Kenneth Burdett y Kenneth Judd. Dispersión del precio de equilibrio. Econometrica, 51/4, julio de 1983, 955-969. [4] L. Chu, Z.-J. I'm sorry, but \"Shen\" is not a sentence. Can you please provide a sentence for me to translate into Spanish? Mecanismo de subasta doble de competencia de agentes. Ciencia de la Gestión, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor. Subastas de varios artículos. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Econ. Política 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri. Un juego de formación de redes para economías de intercambio bipartitas. Simposio ACM-SIAM sobre Algoritmos Discretos (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald. Precios dinámicos por agentes de software. Redes de Computadoras, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri. Propiedades económicas de las redes sociales. NIPS 2004. [9] R. Kranton, D. Minehart. \n\nNIPS 2004. [9] R. Kranton, D. Minehart. Una teoría de redes de comprador-vendedor. American Economic Review 91(3), junio de 2001. [10] H. Leonard. Elicitación de preferencias honestas para la asignación de individuos a posiciones. J. Pol. Econ, 1983. [11] M. E. J. Newman. \n\nEcon, 1983. [11] M. E. J. Newman. La estructura y función de redes complejas. SIAM Review, 45:167-256, 2003. [12] M. OHara. \n\nRevista SIAM, 45:167-256, 2003. [12] M. OHara. Teoría de la Microestructura del Mercado. Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.\nEditorial Blackwell, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, El juego de asignación I: El núcleo. Internacional. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Teoría de Juegos 1/2 111-130, 1972. [14] Jean Tirole. La Teoría de la Organización Industrial. El MIT Press, Cambridge, MA, 1988. 151 ",
            "candidates": [],
            "error": [
                [
                    "precio de compra",
                    "precio de oferta",
                    "precio de oferta",
                    "precio de oferta"
                ]
            ]
        },
        "perfect competition": {
            "translated_key": "competencia perfecta",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit <br>perfect competition</br> Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from <br>perfect competition</br> between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of <br>perfect competition</br>, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit <br>perfect competition</br> determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit <br>perfect competition</br> Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from <br>perfect competition</br> between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, i2 and j2 experience the benefits of <br>perfect competition</br>, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit <br>perfect competition</br> determined by the network topology."
            ],
            "translated_annotated_samples": [
                "En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales.",
                "Específicamente, i2 y j2 experimentan los beneficios de la <br>competencia perfecta</br>, ya que los dos comerciantes reducen los márgenes de oferta y demanda a 0 al competir por su negocio.",
                "Los márgenes de precios se han reducido a cero debido a una restricción global impuesta por el largo ciclo a través de todos los agentes; este es un ejemplo de <br>competencia perfecta</br> implícita determinada por la topología de la red."
            ],
            "translated_text": "Redes de intercambio con agentes que fijan precios Larry Blume Dept. En una amplia gama de mercados, los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, quienes determinan los precios mediante consideraciones estratégicas. Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el mercado. Modelamos este fenómeno utilizando un juego en el que compradores, vendedores e intermediarios participan en transacciones en un gráfico que representa el acceso que cada comprador y vendedor tiene a los intermediarios. En este modelo, los comerciantes establecen precios estratégicamente, y luego los compradores y vendedores reaccionan a los precios que se les ofrecen. Mostramos que el juego resultante siempre tiene un equilibrio de Nash perfecto en subjuegos, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. Extendemos estos resultados a un tipo más general de mercado de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores. Finalmente, consideramos cómo los beneficios obtenidos por los comerciantes dependen del grafo subyacente: en resumen, un comerciante puede obtener un beneficio positivo si y solo si tiene una conexión esencial en la estructura de la red, proporcionando así una base teórica de grafos para cuantificar la cantidad de competencia entre los comerciantes. Nuestro trabajo difiere de los estudios recientes sobre cómo el precio se ve afectado por la estructura de la red a través de nuestro modelado del establecimiento de precios como una actividad estratégica realizada por un subconjunto de agentes en el sistema, en lugar de estudiar precios establecidos a través de un equilibrio competitivo o por un mecanismo veraz. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1. INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio. Un ejemplo de esta configuración es el comercio de productos agrícolas en países en desarrollo. Dada la falta de redes de transporte adecuadas y el limitado acceso de los agricultores pobres al capital, muchos agricultores no tienen otra alternativa que comerciar con intermediarios en mercados locales ineficientes. Un país en desarrollo puede tener muchos mercados parcialmente superpuestos que coexisten junto a mercados modernos y eficientes. Los mercados financieros proporcionan un ejemplo diferente de un entorno con estas características generales. En estos mercados, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de mercado y sistemas de negociación electrónica. Para muchos activos no hay un único mercado; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en mercados de otros países. Algunos compradores y vendedores tienen acceso a muchos o a todos estos lugares de negociación; otros solo tienen acceso a uno o a unos pocos de ellos. El precio al que se negocia el activo puede variar en estos lugares de negociación. De hecho, no hay un precio fijo ya que diferentes comerciantes pagan o reciben precios diferentes. En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el precio de compra. Uno de los ejemplos más llamativos de este fenómeno ocurre en el mercado de divisas, donde existe un mercado interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto. Los spreads, definidos como la diferencia entre los precios de oferta y demanda, difieren significativamente en estos mercados, a pesar de que el mismo activo se está negociando en ambos mercados. En este artículo, desarrollamos un marco en el que tales fenómenos surgen de un modelo de comercio basado en teoría de juegos, con compradores, vendedores e intermediarios interactuando en una red. Los bordes de la red conectan a los comerciantes con los compradores y vendedores, y por lo tanto representan el acceso que tienen los diferentes participantes del mercado entre sí. Los comerciantes actúan como intermediarios en un juego de comercio de dos etapas: eligen estratégicamente los precios de oferta y demanda para ofrecer a los vendedores y compradores a los que están conectados; luego, los vendedores y compradores reaccionan a los precios que enfrentan. Por lo tanto, la red codifica el poder relativo en las posiciones estructurales de los participantes del mercado, incluyendo los niveles implícitos de competencia entre los traders. Mostramos que este juego siempre tiene un equilibrio de Nash perfecto en subjuegos de 143, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. También analizamos cómo los beneficios de los operadores dependen de la estructura de la red, caracterizando esencialmente en términos de teoría de grafos cómo se determina el pago de un operador por la cantidad de competencia que experimenta con otros operadores. Nuestro trabajo aquí está conectado a varias líneas de investigación en economía, finanzas y teoría de juegos algorítmica, y discutimos estas conexiones con más detalle más adelante en la introducción. A un nivel general, nuestro enfoque puede ser visto como la síntesis de dos importantes corrientes de trabajo: una que trata la interacción comprador-vendedor utilizando estructuras de red, pero sin intentar modelar los procesos mediante los cuales los precios son realmente formados [1, 4, 5, 6, 8, 9, 10, 13]; y otra corriente en la literatura sobre microestructura de mercado que incorpora intermediarios en la fijación de precios, pero sin restricciones de tipo red sobre quién puede comerciar con quién [12]. Al desarrollar un modelo de red que incluye explícitamente a los comerciantes como agentes que establecen precios, en un sistema junto con compradores y vendedores, podemos capturar la formación de precios en un entorno de red como un proceso estratégico llevado a cabo por intermediarios, en lugar de como resultado de un mecanismo centralizado o exógeno. El Modelo Básico: Bienes Indistinguibles. Nuestro objetivo al formular el modelo es expresar el proceso de fijación de precios en mercados como los discutidos anteriormente, donde los participantes no tienen todos acceso uniforme entre sí. Se nos da un conjunto B de compradores, un conjunto S de vendedores y un conjunto T de traders. Hay un grafo no dirigido G que indica quién puede comerciar con quién. Todos los bordes tienen un extremo en B ∪ S y el otro en T; es decir, cada borde tiene la forma (i, t) para i ∈ S y t ∈ T, o (j, t) para j ∈ B y t ∈ T. Esto refleja las restricciones de que todas las transacciones entre compradores y vendedores pasan por los intermediarios comerciales. En la versión más básica del modelo, consideramos bienes idénticos, de los cuales cada vendedor inicialmente posee una copia. Los compradores y vendedores tienen un valor para una copia del bien, y asumimos que estos valores son de conocimiento común. Posteriormente generalizaremos esto a un escenario en el que los bienes son distinguibles, los compradores pueden valorar los diferentes bienes de manera diferente y, potencialmente, los vendedores también pueden valorar las transacciones con diferentes compradores de manera diferente. Tener diferentes valoraciones de los compradores captura escenarios como las compras de viviendas; agregar diferentes valoraciones de los vendedores también captura mercados de coincidencia, por ejemplo, vendedores como solicitantes de empleo y compradores como empleadores, ambos preocupados por quién termina con qué bien (y con los comerciantes actuando como servicios que facilitan la búsqueda de empleo). Por lo tanto, para comenzar con el modelo básico, hay un solo tipo de bien; el bien viene en unidades indivisibles; y cada vendedor inicialmente posee una unidad del bien. Todos los tres tipos de agentes valoran el dinero a la misma tasa; y cada i ∈ B ∪ S valora adicionalmente una copia del bien en θi unidades de dinero. Ningún agente quiere más de una copia del bien, por lo que las copias adicionales se valoran en 0. Cada agente tiene una dotación inicial de dinero que es mayor que cualquier valoración individual θi; el efecto de esto es garantizar que cualquier comprador que termine sin una copia del bien ha sido excluido del mercado debido a su valoración y posición en la red, no a la falta de fondos. Nos imaginamos que cada bien que se vende fluye a lo largo de una secuencia de dos etapas: desde un vendedor a un comerciante, y luego del comerciante a un comprador. La forma particular en la que fluyen los bienes está determinada por el siguiente juego. Primero, cada comerciante ofrece un precio de oferta a cada vendedor al que está conectado, y un precio de demanda a cada comprador al que está conectado. Los vendedores y compradores luego eligen entre las ofertas presentadas por los comerciantes. Si varios comerciantes proponen el mismo precio a un vendedor o comprador, entonces no hay una mejor respuesta estricta para el vendedor o comprador. En este caso se debe hacer una selección, y, como es habitual (ver por ejemplo [10]), nosotros (los modeladores) elegimos entre las mejores ofertas. Finalmente, cada comerciante compra una copia del bien de cada vendedor que acepta su oferta, y vende una copia del bien a cada comprador que acepta su oferta. Si un comerciante en particular, t, descubre que más compradores que vendedores aceptan sus ofertas, entonces se ha comprometido a proporcionar más copias del bien de las que ha recibido, y diremos que esto resulta en una gran penalización para el comerciante por incumplimiento; el efecto de esto es que en equilibrio, ningún comerciante elegirá precios de oferta y demanda que resulten en un incumplimiento. Más precisamente, una estrategia para cada operador t es una especificación de un precio de oferta βti para cada vendedor i al que t está conectado, y un precio de demanda αtj para cada comprador j al que t está conectado. (También podemos manejar un modelo en el que un operador puede optar por no hacer una oferta a ciertos de sus vendedores o compradores adyacentes). Cada vendedor o comprador elige como máximo una arista incidente, indicando el comerciante con quien realizarán la transacción, al precio indicado. (La elección de una sola arista refleja el hecho de que (a) los vendedores inicialmente solo tienen una copia del bien, y (b) los compradores solo desean una copia del bien). Las ganancias son las siguientes: Para cada vendedor i, la ganancia de seleccionar al comerciante t es βti, mientras que la ganancia de no seleccionar a ningún comerciante es θi. (En el primer caso, el vendedor recibe βti unidades de dinero, mientras que en el segundo caso conserva su copia del bien, al que valora en θi). Para cada comprador j, la ganancia de seleccionar al comerciante t es θj - αtj, mientras que la ganancia de no seleccionar a ningún comerciante es 0. (En el primer caso, el comprador recibe el bien pero renuncia a αtj unidades de dinero). Para cada operador t, con ofertas aceptadas de vendedores i1, . . . , is y compradores j1, . . . , jb, la ganancia es P r αtjr − P r βtir, menos una penalización π si b > s. La penalización se elige lo suficientemente grande para que un operador nunca la sufra en equilibrio, por lo que generalmente no nos preocuparemos por la penalización. Esto define los elementos básicos del juego. El concepto de equilibrio que utilizamos es el equilibrio de Nash perfecto en subjuegos. Algunos ejemplos. Para ayudar a pensar en el modelo, ahora describimos tres ejemplos ilustrativos, representados en la Figura 1. Para evitar que las figuras se vuelvan demasiado desordenadas, adoptamos las siguientes convenciones: los vendedores se representan como círculos en la columna más a la izquierda y se les asigna el nombre i1, i2, ... de arriba abajo; los comerciantes se representan como cuadrados en la columna del medio y se les asigna el nombre t1, t2, ... de arriba abajo; y los compradores se representan como círculos en la columna más a la derecha y se les asigna el nombre j1, j2, ... de arriba abajo. Todos los vendedores en los ejemplos tendrán valoraciones para el bien iguales a 0; la valoración de cada comprador se dibuja dentro de su círculo; y el precio de oferta o demanda en cada borde se dibuja encima del borde. En la Figura 1(a), mostramos cómo una subasta estándar de segundo precio surge naturalmente de nuestro modelo. Supongamos que las valoraciones de los compradores de mayor a menor son w > x > y > z. Los precios de oferta y demanda mostrados son consistentes con un equilibrio en el que i1 y j1 aceptan las ofertas del trader t1, y ningún otro comprador acepta la oferta de su trader adyacente: así, el trader t1 recibe el bien con un precio de oferta de x, y gana w − x al vender el bien al comprador j1 por w. De esta manera, podemos considerar esta instancia particular como una subasta para un bien único en la que los traders actúan como representantes de sus compradores adyacentes. El comprador con la valoración más alta para el bien termina adquiriéndolo, y el excedente se divide entre el vendedor y el comerciante asociado. Se debe tener en cuenta que se puede construir una subasta de k unidades con > k compradores con la misma facilidad, creando un grafo bipartito completo con k vendedores y comerciantes, y luego conectando a cada comerciante con un único comprador distinto. En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales. Específicamente, el vendedor i2 y el comprador j2 ocupan posiciones poderosas, ya que los dos comerciantes compiten por su negocio; por otro lado, los otros vendedores y compradores se encuentran en posiciones débiles, ya que cada uno tiene solo una opción. Y de hecho, en cada equilibrio, hay un número real x ∈ [0, 1] tal que ambos comerciantes ofrecen precios de oferta y demanda de x a i2 y j2 respectivamente, mientras ofrecen ofertas de 0 y demandas de 1 a los otros vendedores y compradores. Por lo tanto, este ejemplo ilustra algunos ingredientes cruciales que identificaremos a un nivel más general en breve. Específicamente, i2 y j2 experimentan los beneficios de la <br>competencia perfecta</br>, ya que los dos comerciantes reducen los márgenes de oferta y demanda a 0 al competir por su negocio. Por otro lado, los otros vendedores y compradores experimentan las desventajas del monopolio: no reciben ninguna ganancia ya que solo tienen una opción para comerciar, y el comerciante correspondiente se queda con todas las ganancias. Observa además cómo este comportamiento natural surge del hecho de que los comerciantes pueden ofrecer diferentes precios a diferentes agentes, capturando el hecho de que no hay un precio fijo en los tipos de mercados que motivan el modelo, sino diferentes precios que reflejan el poder relativo de los diferentes agentes involucrados. El ejemplo anterior muestra quizás la forma más natural en la que la ganancia de un comerciante en una transacción particular puede caer a 0: cuando hay otro comerciante que puede replicar su función de manera precisa. (En ese ejemplo, dos comerciantes tenían la capacidad de mover una copia del bien de i2 a j2). Pero como mostrarán nuestros resultados posteriores, los comerciantes no obtienen ganancias en general debido a razones globales y teóricas de grafos. El ejemplo en la Figura 1(c) da una indicación inicial de esto: se puede demostrar que para cada equilibrio, existe un y ∈ [0, 1] tal que cada oferta y cada precio de demanda es igual a y. En otras palabras, todos los comerciantes no obtienen beneficios, ya sea que pase por ellos una copia del bien o no, y sin embargo, ningún par de comerciantes comparte rutas de vendedor-comprador en común. Los márgenes de precios se han reducido a cero debido a una restricción global impuesta por el largo ciclo a través de todos los agentes; este es un ejemplo de <br>competencia perfecta</br> implícita determinada por la topología de la red. Extendiendo el modelo para bienes distinguibles. Extendemos el modelo básico a un escenario con bienes distinguibles, de la siguiente manera. En lugar de que cada agente i ∈ B ∪ S tenga una única valoración numérica θi, indexamos las valoraciones por pares de compradores y vendedores: si el comprador j obtiene el bien inicialmente poseído por el vendedor i, obtiene una utilidad de θji, y si el vendedor i vende su bien al comprador j, experimenta una pérdida de utilidad de θij. Esto generaliza el caso de bienes indistinguibles, ya que siempre podemos hacer que estas valoraciones por pares dependan solo de uno de los índices. Una estrategia para un trader ahora consiste en ofrecer una oferta a cada vendedor que especifique tanto un precio como un comprador, y ofrecer una demanda a cada comprador que especifique tanto un precio como un vendedor. (También podemos manejar un modelo en el que un trader ofrece ofertas (respectivamente, demandas) en forma de vectores, especificando esencialmente un menú con un precio adjunto a cada comprador (resp. vendedor).) Cada comprador y vendedor selecciona una oferta de un comerciante adyacente, y los pagos a todos los agentes se determinan como antes. Este marco general captura los mercados de emparejamiento [10, 13]: por ejemplo, un mercado laboral que es mediado por agentes o servicios de búsqueda de empleo (como en la contratación de ejecutivos corporativos, o figuras del deporte o del entretenimiento). Aquí los vendedores son solicitantes de empleo, los compradores son empleadores y los comerciantes son los agentes que median en el mercado laboral. Por supuesto, si se especifican valoraciones por pares en los compradores pero solo valoraciones individuales para los vendedores, modelamos un escenario donde los compradores pueden distinguir entre los bienes, pero a los vendedores no les importa a quién venden, esto captura (aproximadamente) escenarios como los mercados de vivienda. Nuestros resultados. Nuestros resultados identificarán formas generales de algunos de los principios mencionados en los ejemplos discutidos anteriormente, incluyendo la pregunta de qué compradores terminan con el bien; la pregunta de cómo los pagos son realizados de manera diferente por vendedores, comerciantes y compradores; y la pregunta de qué propiedades estructurales de la red determinan si los comerciantes obtendrán beneficios positivos. Para hacer esto preciso, introducimos la siguiente notación. Cualquier resultado del juego determina una asignación final de bienes a algunos de los agentes; esto puede ser especificado por una colección M de triples (es decir, te, je), donde ie ∈ S, te ∈ T y je ∈ B; además, cada vendedor y cada comprador aparece en a lo sumo un triple. El significado es que para cada e ∈ M, el bien inicialmente poseído por ie se transfiere a je a través de te. (Los vendedores que no aparecen en ningún trío conservan su copia del bien). Decimos que el valor de la asignación es igual a P e∈M θjeie − θieje. Que θ∗ denote el valor máximo de cualquier asignación M que sea factible dada la red. Mostramos que cada instancia de nuestro juego tiene un equilibrio, y que en cada uno de estos equilibrios, la asignación tiene un valor de θ∗ 145, en otras palabras, logra el mejor valor posible. Por lo tanto, los equilibrios en este modelo son siempre eficientes, ya que el mercado permite que el conjunto correcto de personas obtenga el bien, sujeto a las restricciones de la red. Establecemos la existencia y eficiencia de los equilibrios mediante la construcción de un programa lineal para capturar el flujo de bienes a través de la red; el dual de este programa lineal contiene suficiente información para extraer los precios de equilibrio. Según la definición del juego, el valor de la asignación de equilibrio se divide en forma de pagos a los agentes, y resulta interesante preguntarse cómo se distribuye este valor, en particular cuánta ganancia puede obtener un trader según su posición en la red. Observamos que, aunque todos los equilibrios tienen el mismo valor, la ganancia de un trader dado puede variar entre diferentes equilibrios. Sin embargo, somos capaces de caracterizar las cantidades máximas y mínimas que un operador dado puede obtener, donde estos máximos y mínimos se toman sobre todos los equilibrios, y proporcionamos un algoritmo eficiente para calcular esto. En particular, nuestros resultados aquí implican una caracterización combinatoria clara de cuándo un trader dado t puede lograr un beneficio distinto de cero: esto ocurre si y solo si hay algún borde e incidente en t que es esencial, en el sentido de que eliminar e reduce el valor de la asignación óptima θ∗. También obtenemos resultados para la suma de todas las ganancias de los operadores. Trabajo relacionado. El enfoque estándar de referencia para analizar la interacción entre compradores y vendedores es el modelo walrasiano en el que compradores y vendedores anónimos intercambian un bien a un único precio de equilibrio de mercado. Esta forma reducida de comercio, basada en la idealización de un precio de mercado, es un modelo poderoso que ha dado lugar a muchas ideas. Pero no es un buen modelo para examinar de dónde vienen los precios o exactamente cómo compradores y vendedores comercian entre sí. La dificultad es que en el modelo walrasiano no hay un agente que fije el precio, y los agentes en realidad no comercian entre sí. De hecho, no hay un mercado, en el sentido cotidiano de esa palabra, en el modelo walrasiano. Es decir, no hay un lugar físico o virtual donde los compradores y vendedores interactúen para comerciar y establecer precios. Por lo tanto, en este modelo simple, todos los compradores y vendedores son uniformes y comercian al mismo precio, y tampoco hay un papel para intermediarios. Hay varias literaturas en economía y finanzas que examinan cómo se fijan los precios en lugar de simplemente determinar los precios de equilibrio. La literatura sobre competencia imperfecta es quizás la más antigua de todas. Aquí un monopolista, o un grupo de oligopolistas, eligen los precios con el fin de maximizar sus ganancias (ver [14] para el tratamiento estándar de estos mercados en los libros de texto). Un monopolista utiliza su conocimiento de la demanda del mercado para elegir un precio, o una colección de precios si discrimina. Los oligopolistas juegan un juego en el que sus ganancias dependen de la demanda del mercado y las acciones de sus competidores. En esta literatura hay agentes que fijan precios, pero se mantiene la ficción de un solo mercado. En la literatura de búsqueda de equilibrio, las empresas establecen precios y los consumidores los buscan (ver [3]). Los consumidores terminan pagando precios diferentes, pero todos los consumidores tienen acceso a todas las empresas y no hay intermediarios. En la literatura de equilibrio general ha habido varios intentos de introducir la determinación de precios. Una técnica de prueba estándar para la existencia de un equilibrio competitivo implica un mecanismo de ajuste de precios en el que los precios responden a la demanda excesiva. El subastador walrasiano suele ser presentado como un dispositivo para explicar cómo funciona este proceso, pero en realidad es fundamentalmente una metáfora de un algoritmo iterativo de actualización de precios, no de los detalles internos de un mercado real. Se han introducido procesos más sofisticados para estudiar la estabilidad de los precios de equilibrio o la información necesaria para calcularlos. Pero de nuevo no hay agentes que fijen los precios aquí. En la literatura financiera, el trabajo sobre microestructura de mercado sí tiene agentes que fijan precios (especialistas), algunas partes de él determinan precios de oferta y demanda separados, y diferentes agentes reciben precios distintos por el mismo activo (ver [12] para un tratamiento de la teoría de microestructura). El trabajo en economía de la información ha identificado fenómenos similares (ver por ejemplo [7]). Pero hay poca investigación en estas literaturas que examine el efecto de las restricciones sobre quién puede comerciar con quién. Ha habido varios enfoques para estudiar cómo la estructura de la red determina los precios. Estos han planteado la determinación de precios a través de definiciones basadas en el equilibrio competitivo o el núcleo, o mediante el uso de mecanismos veraces. Al revisar brevemente este trabajo, notaremos el contraste con nuestro enfoque, ya que modelamos los precios como resultado del comportamiento estratégico de los agentes en el sistema. En un trabajo reciente, Kakade et al. [8] han estudiado la distribución de precios en equilibrio competitivo en un grafo bipartito de compradores y vendedores, generado utilizando un modelo probabilístico capaz de producir distribuciones de grados con colas pesadas [11]. Even-Dar et al. [6] se basan en esto para considerar los aspectos estratégicos de la formación de redes cuando los precios surgen del equilibrio competitivo. Leonard [10], Babaioff et al. [1], y Chu y Shen [4] consideran un enfoque basado en el diseño de mecanismos: los compradores y vendedores residen en nodos diferentes en un grafo, y incurren en un costo de transporte dado para comerciar entre sí. Leonard estudia los precios de VCG en este contexto; Babaioff et al. y Chu y Shen además proporcionan un mecanismo equilibrado en presupuesto. Dado que la preocupación aquí radica en mecanismos veraces que operan sobre valoraciones privadas, existe un compromiso inherente entre la eficiencia de la asignación y la condición de equilibrio presupuestario. Por el contrario, nuestro modelo tiene valoraciones y precios conocidos que surgen del comportamiento estratégico de los operadores. Por lo tanto, las suposiciones detrás de nuestro modelo no son directamente comparables a las que subyacen en el enfoque del diseño de mecanismos: aunque asumimos valoraciones conocidas, no requerimos una autoridad centralizada para imponer un mecanismo. Más bien, la fijación de precios es parte del resultado estratégico, como en los mercados reales que motivan nuestro trabajo, y nuestros equilibrios son simultáneamente equilibrados en términos presupuestarios y eficientes, algo que no es posible en los marcos de diseño de mecanismos que se han utilizado. Demange, Gale y Sotomayor [5], y Kranton y Minehart [9], analizan los precios a los que se produce el comercio en una red, trabajando dentro del marco del diseño de mecanismos. Kranton y Minehart utilizan un grafo bipartito con enlaces directos entre compradores y vendedores, y luego emplean un mecanismo de subasta ascendente, en lugar de intermediarios estratégicos, para determinar los precios. Su subasta tiene propiedades de equilibrio deseables, pero como señalan Kranton y Minehart, es una abstracción de cómo se asignan los bienes y se determinan los precios que es similar en espíritu a la abstracción del subastador walrasiano. De hecho, podemos mostrar cómo el modelo básico de Kranton y Minehart puede ser codificado como una instancia de nuestro juego, con los comerciantes produciendo precios en equilibrio que coinciden con los precios producidos por su mecanismo de subasta. Finalmente, los resultados clásicos de Shapley y Shubik [13] sobre el juego de asignación pueden ser vistos como el estudio del resultado del comercio en un grafo bipartito en términos del núcleo. Estudian el dual de un programa lineal basado en el problema de emparejamiento, similar a lo que usamos para una versión reducida de nuestro modelo en la siguiente sección, pero su enfoque es diferente ya que no consideran agentes que buscan establecer precios. 2. MERCADOS CON OPERADORES DE PAREJAS Para comprender las ideas detrás del análisis del modelo general, es muy útil considerar primero un caso especial con un re1 Kranton y Minehart, sin embargo, también pueden analizar un entorno más general en el que los valores de los compradores son privados y, por lo tanto, compradores y vendedores juegan un juego de información incompleta. Solo trabajamos con información completa. 146 forma restringida de comerciantes a los que nos referimos como operadores de pares. En este caso, cada comerciante está conectado a solo un comprador y un vendedor. (Por lo tanto, sirve esencialmente como una ruta comercial entre los dos). Las técnicas que desarrollamos para manejar este caso formarán una base útil para razonar sobre el caso de los comerciantes que pueden estar conectados arbitrariamente a los vendedores y compradores. Relacionaremos las ganancias en un equilibrio de Nash perfecto en subjuegos con las soluciones óptimas de un cierto programa lineal, utilizaremos esta relación para demostrar que todos los equilibrios resultan en una asignación eficiente de los bienes, y mostraremos que siempre existe un equilibrio puro. Primero, consideramos el modelo más simple donde los vendedores tienen artículos indistinguibles, y cada comprador está interesado en obtener un artículo. Luego extendemos los resultados al caso más general de un mercado de emparejamiento, como se discutió en la sección anterior, donde las valoraciones dependen de la identidad del vendedor y comprador. Luego caracterizamos las ganancias mínimas y máximas que los comerciantes pueden obtener. En la siguiente sección, extendemos los resultados a los operadores que pueden estar conectados a cualquier subconjunto de vendedores y compradores. Dado que estamos trabajando con operadores de pares en esta sección, podemos representar el problema utilizando un grafo bipartito G cuyo conjunto de nodos es B ∪ S, y donde cada operador t, conectando al vendedor i y al comprador j, aparece como una arista t = (i, j) en G. Sin embargo, cabe destacar que permitimos que múltiples operadores conecten el mismo par de agentes. Para cada comprador y vendedor i, usaremos adj(i) para denotar el conjunto de comerciantes que pueden comerciar con i. 2.1 Bienes Indistinguibles El intercambio socialmente óptimo para el caso de bienes indistinguibles es la solución del problema de transporte: enviar bienes a lo largo de los bordes que representan a los comerciantes. Las aristas a lo largo de las cuales ocurre el comercio corresponden a un emparejamiento en este grafo bipartito, y el comercio óptimo está descrito por el siguiente programa lineal. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B A continuación, consideramos un equilibrio. Cada operador t = (i, j) debe ofrecer una oferta βt y una demanda αt. (Omitimos el subíndice que denota al vendedor y comprador aquí, ya que estamos tratando con operadores en pares). Dado el precio de oferta y demanda, los agentes reaccionan a estos precios, como se describió anteriormente. En lugar de enfocarnos en los precios, nos enfocaremos en las ganancias. Si un vendedor i vende a un comerciante t ∈ adj(i) con una oferta βt, entonces su ganancia es pi = βt − θi. De manera similar, si un comprador j compra a un comerciante t ∈ adj(j) con una oferta αt, entonces su ganancia es pj = θj − αt. Finalmente, si un comerciante t opera con la oferta αt y la demanda βt, entonces su ganancia es yt = αt − βt. Todos los agentes que no están involucrados en el comercio no obtienen ganancias. Demostraremos que las ganancias en equilibrio son una solución óptima para el siguiente programa lineal. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMA 2.1. En el equilibrio, los beneficios deben satisfacer las desigualdades anteriores. Prueba. Claramente, todas las ganancias son no negativas, ya que el comercio es opcional para todos los agentes. Para ver por qué se cumplen el último conjunto de desigualdades, considera dos casos por separado. Para un comerciante t que realizó un intercambio, obtenemos igualdad por definición. Para otros comerciantes t = (i, j), el valor pi + θi es el precio al que el vendedor i vendió (o θi si el vendedor i decidió quedarse con el bien). Ofrecer una oferta βt > pi + θi haría que el vendedor vendiera al comerciante t. De manera similar, θj − pj es el precio al que el comprador j compró (o θj si no compró), y para cualquier oferta αt < θj − pj, el comprador comprará al comerciante t. Por lo tanto, a menos que θj − pj ≤ θi + pi, el comerciante tiene una desviación rentable. Ahora estamos listos para demostrar nuestro primer teorema: TEOREMA 2.2. En cualquier equilibrio, el comercio es eficiente. Prueba. Que x sea un flujo de bienes que resulta en un equilibrio, y que las variables p e y sean las ganancias. Considera el programa lineal que describe el comercio socialmente óptimo. También agregaremos un conjunto de restricciones adicionales xt ≤ 1 para todos los operadores t ∈ T; esto se puede agregar a la descripción, ya que está implícito en las otras restricciones. Ahora afirmamos que los dos programas lineales son duales entre sí. Las variables pi para los agentes B ∪ S corresponden a las ecuaciones Pt∈adj(i) xt ≤ 1. La variable dual adicional yt corresponde a una desigualdad adicional xt ≤ 1. La optimalidad del valor social del intercambio se seguirá de la afirmación de que la solución de estos dos programas lineales derivados de un equilibrio satisface las condiciones de holgura complementaria para este par de programas lineales, y por lo tanto tanto x como (p, y) son soluciones óptimas de los programas lineales correspondientes. Existen tres condiciones de holgura complementarias diferentes que debemos considerar, correspondientes a los tres conjuntos de variables x, y y p. Cualquier agente solo puede obtener ganancias si realiza transacciones, por lo que pi > 0 implica que P t∈adj(i) xt = 1, y de manera similar, yt > 0 implica que xt = 1 también. Finalmente, considera a un trader t con xt > 0 que negocia entre el vendedor i y el comprador j, y recuerda que hemos visto anteriormente que la desigualdad yt ≥ (θj − pj) − (θi + pi) se cumple con igualdad para aquellos que comercian. A continuación argumentamos que los equilibrios siempre existen. TEOREMA 2.3. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro de valores de oferta y demanda que respalda este comercio. Prueba. Considera un intercambio eficiente; sea xt = 1 si t intercambia y 0 en caso contrario; y considera una solución óptima (p, y) para el programa lineal dual. Nos gustaría afirmar que todas las soluciones duales corresponden a precios de equilibrio, pero desafortunadamente esto no es exactamente cierto. Antes de poder convertir una solución dual en precios de equilibrio, es posible que necesitemos modificar ligeramente la solución de la siguiente manera. Considera cualquier agente i que solo esté conectado a un único comerciante t. Debido a que el agente está solo conectado a un único comerciante, las variables yt y pi son variables duales correspondientes a la misma desigualdad primal xt ≤ 1, y siempre aparecen juntas como yt + pi en todas las desigualdades, y también en la función objetivo. Por lo tanto, existe una solución óptima en la que pi = 0 para todos los agentes i conectados solo a un único comerciante. Supongamos que (p, y) es una solución dual donde los agentes conectados solo a un comerciante tienen pi = 0. Para un vendedor i, dejemos que βt = θi + pi sea la oferta para todos los comerciantes t adyacentes a i. De manera similar, para cada comprador j, sea αt = θj − pj la oferta para todos los operadores t adyacentes a j. Sostenemos que este conjunto de ofertas y demandas, junto con la transacción x, constituyen un equilibrio. Para entender por qué, hay que tener en cuenta que todos los operadores t adyacentes a un vendedor o comprador i ofrecen la misma oferta o demanda, por lo que comerciar con cualquier operador es igualmente bueno para el agente i. Además, si i no está operando en la solución 147 x, entonces por holgura complementaria pi = 0, y por lo tanto, no operar también es igualmente bueno para i. Esto muestra que los vendedores y compradores no tienen un incentivo para desviarse. Necesitamos demostrar que los comerciantes no tienen incentivos para desviarse tampoco. Cuando un comerciante t está negociando con el vendedor i y el comprador j, las desviaciones rentables implicarían aumentar αt o disminuir βt. Pero por nuestra construcción (y suposición sobre agentes monopolizados) todos los vendedores y compradores tienen múltiples ofertas de compra/venta idénticas, o el intercambio está ocurriendo a valuación. En cualquier caso, tal desviación no puede tener éxito. Finalmente, considera un trader t = (i, j) que no realiza intercambios. Una desviación para t implicaría ofrecer una oferta más baja al vendedor i y una oferta más alta al vendedor j que su intercambio actual. Sin embargo, yt = 0 por holgura complementaria, y por lo tanto pi + θi ≥ θj − pj, por lo que i vende a un precio al menos tan alto como el precio al que j compra, por lo que el comerciante t no puede crear un intercambio rentable. Se debe tener en cuenta que un vendedor o comprador conectado a un único comerciante t no puede obtener beneficios en equilibrio, por lo que los posibles beneficios en equilibrio están en correspondencia uno a uno con las soluciones duales para las cuales pi = 0 siempre que i esté monopolizado por un único comerciante. Una característica decepcionante del equilibrio creado por esta prueba es que algunos agentes t pueden tener que crear pares de oferta y demanda donde βt > αt, ofreciendo comprar por más del precio al que están dispuestos a vender. Los agentes que realizan tales pares de oferta y demanda nunca realizan realmente una transacción, por lo que no resulta en una pérdida de beneficios para el agente, pero dichos pares son poco comunes. Los pares de ofertas y demandas cruzadas son débilmente dominados por la estrategia de ofrecer una oferta baja β = 0 y una demanda extremadamente alta para garantizar que ninguna sea aceptada. Para formular una forma de evitar tales pares cruzados, decimos que un equilibrio es libre de cruces si αt ≥ βt para todos los operadores t. Ahora mostramos que siempre hay un equilibrio libre de cruces. TEOREMA 2.4. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro y libre de cruces. Prueba. Considera una solución óptima para el programa lineal dual. Para obtener un equilibrio sin cruzar ofertas, necesitamos hacer una modificación más general que simplemente asumir que pi = 0 para todos los vendedores y compradores conectados a un único operador. Que el conjunto E sea el conjunto de aristas t = (i, j) que son tensas, en el sentido de que tenemos la igualdad yt = (θj − pj) − (θi + pi). Este conjunto E contiene todos los bordes donde ocurre el comercio, y algunos bordes adicionales. Queremos asegurarnos de que pi = 0 para todos los vendedores y compradores que tengan un grado de a lo sumo 1 en E. Considere un vendedor i que tiene pi > 0. Debemos tener i involucrado en un intercambio, y el borde t = (i, j) a lo largo del cual ocurre el intercambio debe ser ajustado. Supongamos que este es el único borde ajustado adyacente al agente i; entonces podemos disminuir pi e incrementar yt hasta que ocurra una de las siguientes situaciones: o bien pi = 0 o la restricción de algún otro agente t ∈ adj(i) se vuelva ajustada. Esta modificación solo aumenta el conjunto de aristas ajustadas E, mantiene la solución factible y no cambia el valor de la función objetivo. Entonces, después de hacer esto para todos los vendedores, y cambiando de manera análoga yt y pj para todos los compradores, obtenemos una solución óptima donde todos los vendedores y compradores i tienen pi = 0 o tienen al menos dos aristas ajustadas adyacentes. Ahora podemos establecer ofertas y demandas para formar un equilibrio libre de cruces. Para todos los traders t = (i, j) asociados con un borde t ∈ E, establecemos αt y βt como antes: fijamos la oferta βt = pi + θi y la demanda αt = θj − pj. Para un trader t = (i, j) ∈ E, tenemos que pi + θi > θj − pj y establecemos αt = βt para que sea cualquier valor en el rango [θj − pj, pi + θi]. Esto garantiza que para cada vendedor o comprador, la mejor oferta de venta o compra se encuentra a lo largo del borde donde se produce el intercambio en la solución. Los valores de askbid a lo largo de los bordes ajustados garantizan que los traders que operan no puedan aumentar su spread. Los operadores t = (i, j) que no realizan operaciones no pueden obtener ganancias debido a la restricción pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) Ningún operador obtiene ganancias 1 1 1 0 x x x x 1 x x 0 x (b) Ganancias del operador Figura 2: Izquierda: un equilibrio con ofertas cruzadas donde los operadores no ganan dinero. Correcto: un equilibrio sin ofertas cruzadas para cualquier valor x ∈ [0, 1]. La ganancia total del comerciante oscila entre 1 y 2. 2.2 Bienes distinguibles. Ahora consideramos el caso de bienes distinguibles. Como en la sección anterior, podemos escribir un programa lineal de transbordo para el comercio socialmente óptimo, con el único cambio en la función objetivo. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) Podemos demostrar que el dual de este programa lineal corresponde a las ganancias de los comerciantes. Recuerda que necesitábamos agregar las restricciones xt ≤ 1 para todos los traders. El dual es entonces: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T. No es difícil extender las pruebas de los Teoremas 2.2 - 2.4 a este caso. Las ganancias en un equilibrio satisfacen las restricciones duales, y las ganancias y el comercio satisfacen la holgura complementaria. Esto demuestra que el comercio es socialmente óptimo. Tomando una solución dual óptima donde pi = 0 para todos los agentes que están monopolizados, podemos convertirla en un equilibrio, y con un poco más de cuidado, también podemos crear un equilibrio sin pares de oferta y demanda cruzados. TEOREMA 2.5. Todos los equilibrios para el caso de los operadores en pares con bienes distinguibles resultan en un comercio socialmente óptimo. Existen equilibrios puros no cruzados. 2.3 Ganancias de los operadores Hemos visto que todos los equilibrios son eficientes. Sin embargo, resulta que los equilibrios pueden diferir en cómo se distribuye el valor de la asignación entre los vendedores, compradores e intermediarios. La Figura 2 representa un ejemplo simple de este fenómeno. Nuestro objetivo es entender cómo se ve afectada la ganancia de un trader por su posición en la red; utilizaremos la caracterización que obtuvimos para determinar el rango de ganancias que un trader puede obtener. Para maximizar la ganancia de un operador t (o un subconjunto de operadores T), todo lo que necesitamos hacer es encontrar una solución óptima al programa lineal dual que maximice el valor de yt (o la suma Pt∈T yt). Tales soluciones duales corresponderán a equilibrios con precios no cruzados. TEOREMA 2.6. Para cualquier operador t o subconjunto de operadores T, la ganancia total máxima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. Este beneficio máximo se puede obtener mediante un equilibrio no cruzado. Una forma de pensar en la ganancia de un trader t = (i, j) es como una resta del valor del borde correspondiente (i, j). El valor del borde es el valor social θji − θij si el comerciante no obtiene ganancias, y disminuye a θji − θij − yt si el comerciante t insiste en obtener una ganancia de yt. El comerciante t obtiene un beneficio yt en equilibrio, si después de esta disminución en el valor del borde, el borde sigue incluido en el transbordo óptimo. TEOREMA 2.7. Un comerciante t puede obtener beneficios en un equilibrio si y solo si t es esencial para el bienestar social, es decir, si eliminar al agente t disminuye el bienestar social. La ganancia máxima que puede obtener es exactamente su valor para la sociedad, es decir, el aumento que su presencia provoca en el bienestar social. Si permitimos el cruce de equilibrios, entonces también podemos encontrar la ganancia mínima posible. Recuerde que en la demostración del Teorema 2.3, los comerciantes solo ganaron dinero de vendedores o compradores sobre los que tenían un monopolio. Permitiendo tales equilibrios con ofertas cruzadas, podemos encontrar la ganancia mínima que un trader o conjunto de traders puede obtener, minimizando el valor yt (o la suma de P t∈T yt) en todas las soluciones óptimas que satisfacen que pi = 0 siempre que i esté conectado solo a un trader. TEOREMA 2.8. Para cualquier operador t o subconjunto de operadores T, la ganancia total mínima que pueden obtener en cualquier equilibrio puede ser calculada en tiempo polinómico. A continuación, extendemos los resultados a un modelo en el que los comerciantes pueden estar conectados a un número arbitrario de vendedores y compradores. Para un comerciante t ∈ T utilizaremos S(t) y B(t) para denotar el conjunto de compradores y vendedores conectados al comerciante t. En esta sección nos enfocamos en el caso general cuando los bienes son distinguibles (es decir, tanto los compradores como los vendedores tienen valoraciones que son sensibles a la identidad del agente con el que se emparejan en la asignación). En la versión completa del artículo también discutimos el caso especial de bienes indistinguibles con más detalle. Para obtener el intercambio óptimo, consideramos el grafo bipartito G = (S ∪ B, E) que conecta vendedores y compradores, donde una arista e = (i, j) conecta un vendedor i y un comprador j si hay un comerciante adyacente a ambos: E = {(i, j) : adj(i) ∩ adj(j) = ∅}. En este gráfico, luego resolvemos la instancia del problema de asignación que también se utilizó en la Sección 2.2, con el valor del borde (i, j) igual a θji − θij (ya que el valor del intercambio entre i y j es independiente de qué comerciante realizó el intercambio). También utilizaremos el dual de este programa lineal: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Ofertas y Demandas y Optimización del Trader. Primero necesitamos entender qué modelo de oferta utilizaremos. Incluso cuando los bienes son indistinguibles, un comerciante puede querer practicar discriminación de precios y ofrecer diferentes valores de oferta y demanda a diferentes vendedores y compradores. En el caso de bienes distinguibles, tenemos que lidiar con una complicación adicional: el comerciante tiene que nombrar el bien que está proponiendo vender o comprar, y posiblemente ofrecer múltiples productos diferentes. Hay dos variantes de nuestro modelo dependiendo de si un trader hace una única oferta de compra o venta a un vendedor o comprador, o si ofrece un menú de opciones. (i) Un trader t puede ofrecer a un comprador j un menú de ofertas de compra αtji, un vector de valores para todos los productos a los que está conectado, donde αtji es la oferta de compra para el producto del vendedor i. De manera simétrica, un trader t puede ofrecer a cada vendedor i un menú de ofertas de venta βtij para vender a diferentes compradores j. (ii) Alternativamente, podemos requerir que cada trader t pueda hacer como máximo una oferta de compra a cada vendedor y una oferta de venta para cada comprador, y una oferta de compra debe incluir el producto vendido, y una oferta de venta debe ofrecer a un comprador en particular para venderle. Nuestros resultados se mantienen en ambos modelos. Para simplificar la notación, utilizaremos la opción del menú aquí. A continuación, necesitamos entender el problema de optimización de un trader t. Supongamos que tenemos valores de oferta y demanda para todos los demás traders t ∈ T, t = t. ¿Cuáles son las mejores ofertas de compra y venta que el trader t puede hacer como mejor respuesta al conjunto actual de ofertas de compra y venta? Para cada vendedor i, dejemos que pi sea la ganancia máxima que el vendedor i puede obtener utilizando ofertas de otros comerciantes, y asumamos de manera simétrica que pj es la ganancia máxima que el comprador j puede obtener utilizando demandas de otros comerciantes (dejando pi = 0 para cualquier vendedor o comprador i que no pueda obtener ganancias). Ahora considera un par vendedor-comprador (i, j) que el comerciante t puede conectar. El trader t tendrá que hacer una oferta de al menos βtij = θij + pi al vendedor i y un precio de venta de como máximo αtji = θji − pj al comprador j para realizar esta transacción, por lo que la ganancia máxima que puede obtener en esta operación es vtij = αtji − βtij = θji − pj − (θij + pi). El intercambio óptimo para el trader t se obtiene resolviendo un problema de emparejamiento para encontrar la correspondencia entre los vendedores S(t) y compradores B(t) que maximiza el valor total vtij para el trader t. Necesitaremos el dual del programa lineal para encontrar el intercambio de máximo beneficio para el trader t. Utilizaremos qti como la variable dual asociada con la restricción del vendedor o comprador i. El dual es entonces el siguiente problema. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t). Vemos qti como la ganancia obtenida por t al comerciar con el vendedor o comprador i. El Teorema 3.1 resume la discusión anterior. TEOREMA 3.1. Para un trader t, dado las ofertas más bajas βtij y las peticiones más altas αtji que pueden ser aceptadas para los vendedores i ∈ S(t) y compradores j ∈ B(t), el mejor intercambio que t puede hacer es el emparejamiento de valor máximo entre S(t) y B(t) con valor vtij = αtji − βtij para la arista (i, j). Este valor máximo es igual al mínimo del programa lineal dual anterior. 3.2 Comercio eficiente y equilibrio Ahora podemos demostrar que el comercio en equilibrio siempre es eficiente. TEOREMA 3.2. Cada equilibrio resulta en una asignación eficiente de los bienes. Prueba. Considera un equilibrio, con xe = 1 si y solo si el comercio ocurre a lo largo del borde e = (i, j). El comercio es una solución al programa lineal de transbordo utilizado en la Sección 2.2. Que pi denote la ganancia del vendedor o comprador i. Cada operador t actualmente tiene la mejor solución a su propio problema de optimización. Un comerciante t encuentra su intercambio óptimo (dadas las ofertas y demandas de los otros 149 comerciantes) resolviendo un problema de emparejamiento. Que qti para i ∈ B(t)∪S(t) denote la solución dual óptima a este problema de emparejamiento como se describe en el Teorema 3.1. Al configurar el problema de optimización para un trader t anteriormente, usamos pi para denotar la ganancia máxima que puedo obtener sin la oferta del trader t. Tenga en cuenta que este pi es exactamente el mismo pi que usamos aquí, la ganancia del agente i. Esto es claramente cierto para todos los operadores t que no están comerciando con i en el equilibrio. Para ver por qué es cierto para el operador t con el que i está negociando, usamos que el conjunto actual de valores de oferta y demanda es un equilibrio. Si para cualquier agente i la oferta o demanda del trader t fuera la única mejor opción, entonces t podría obtener más beneficios ofreciendo una demanda un poco más alta o una oferta un poco más baja, lo cual sería una contradicción. Mostramos que el intercambio x es óptimo al considerar la solución dual zi = pi + P t qti para todos los agentes i ∈ B ∪ S. Afirmamos que z es una solución dual y satisface la holgura complementaria con el intercambio x. Para ver esto, necesitamos mostrar algunos hechos. Necesitamos que zi > 0 implique que i comercie. Si zi > 0, entonces o bien pi > 0 o qti > 0 para algún trader t. El agente i solo puede obtener ganancias pi > 0 si está involucrado en una transacción. Si qti > 0 para algún t, entonces el trader t debe comerciar con i, ya que su solución es óptima, y por holgura complementaria para la solución dual, qti > 0 implica que t comercia con i. Para un borde (i, j) asociado con un trader t, necesitamos mostrar que la solución dual es factible, es decir, zi + zj ≥ θji − θij. Se recuerda que vtij = θji −pj −(θij +pi), y la restricción dual del problema de optimización de los traders requiere qti + qtj ≥ vtij. Al juntar todo esto, tenemos zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij. Finalmente, necesitamos demostrar que las variables de intercambio x también cumplen la restricción de holgura complementaria: cuando xe > 0 para una arista e = (i, j) entonces la restricción dual correspondiente es activa. Que t sea el comerciante involucrado en la transacción. Por la holgura complementaria del problema de optimización de ts, tenemos qti + qtj = vtij. Para ver que z satisface la holgura complementaria, necesitamos argumentar que para todos los otros comerciantes t = t, tenemos tanto qt i = 0 como qt j = 0. Esto es cierto ya que qt i > 0 implica por la holgura complementaria del problema de optimización de t s que t debe comerciar con i en el óptimo, y t = t está comerciando. A continuación queremos demostrar que siempre existe un equilibrio no cruzado. Llamamos a un equilibrio no cruzado si las ofertas de compra y venta que un trader t hace para un par vendedor-comprador (i, j) nunca se cruzan, es decir, βtij ≤ αtji para todo t, i, j. TEOREMA 3.3. Existe un equilibrio no cruzado que respalda cualquier intercambio socialmente óptimo. Prueba. Considera un intercambio óptimo x y una solución dual z como antes. Para encontrar un equilibrio no cruzado necesitamos dividir la ganancia zi entre i y el comerciante t que negocia con i. Usaremos qti como el beneficio del comerciante asociado con el agente i para cualquier i ∈ S(t) ∪ B(t). Necesitaremos garantizar las siguientes propiedades: El comerciante t comercia con el agente i siempre que qti > 0. Esta es una de las condiciones de holgura complementaria para asegurar que el intercambio actual sea óptimo para el trader t. Para todos los pares vendedor-comprador (i, j) con los que un trader t puede comerciar, tenemos que pi + qti + pj + qtj ≥ θji − θij, (1) lo cual asegurará que qt sea una solución dual factible para el problema de optimización al que se enfrenta el trader t. Necesitamos tener igualdad en (1) cuando el trader t está comerciando entre i y j. Esta es una de las condiciones de holgura complementaria para el trader t, y garantizará que el intercambio de t sea óptimo para el trader. Finalmente, queremos organizar que cada agente i con pi > 0 tenga múltiples ofertas para obtener ganancias pi, y que el intercambio se realice en una de sus mejores ofertas. Para garantizar esto en las ofertas y demandas correspondientes, necesitamos asegurarnos de que siempre que pi > 0 haya múltiples t ∈ adj(i) que cumplan con la ecuación en la restricción anterior (1). Comenzamos estableciendo pi = zi para todo i ∈ S ∪ B y qti = 0 para todo i ∈ S ∪ B y traders t ∈ adj(i). Esto garantiza todos los invariantes excepto la última propiedad sobre múltiples t ∈ adj(t) teniendo igualdad en (1). Modificaremos p y q para aplicar gradualmente la última condición, manteniendo las demás. Considera un vendedor con pi > 0. Por la optimalidad del intercambio y la solución dual z, el vendedor i debe comerciar con algún comerciante t, y ese comerciante tendrá igualdad en (1) para el comprador j con el que se empareja i. Si este es el único operador t que tiene una restricción estricta en (1) que involucra al vendedor i, entonces aumentamos qti y disminuimos pi hasta que pi = 0 o hasta que otro operador t = t logre la igualdad en (1) para algún borde del comprador adyacente a i (posiblemente un comprador diferente j). Este cambio mantiene todas las invariantes y aumenta el conjunto de vendedores que también cumplen con la última restricción. Podemos hacer un cambio similar para un comprador j que tiene pj > 0 y solo tiene un operador t con una restricción ajustada (1) adyacente a j. Después de posiblemente repetir esto para todos los vendedores y compradores, obtenemos ganancias que satisfacen todas las restricciones. Ahora obtenemos los valores de oferta y demanda de equilibrio de la siguiente manera. Para un operador t que tiene igualdad para el par vendedor-comprador (i, j) en (1), ofrecemos αtji = θji − pj y βtij = θij + pi. Para todos los demás comerciantes t y pares de vendedor-comprador (i, j) tenemos el invariante (1), y utilizando esto sabemos que podemos elegir un valor γ en el rango θij +pi+qti ≥ γ ≥ θji − (pj + qtj). Ofrecemos valores de oferta y demanda βtij = αtji = γ. Ni la oferta ni la demanda serán la única mejor oferta para el comprador, por lo tanto, el intercambio x sigue siendo un equilibrio. 3.3 Ganancias del Trader Finalmente, nos enfocamos en el objetivo de comprender, en el caso de los traders generales, cómo se ve afectada la ganancia de un trader por su posición en la red. Primero, mostramos cómo maximizar la ganancia total de un grupo de comerciantes. La ganancia del comerciante t en un equilibrio es P i qti. Para encontrar la ganancia máxima posible para un trader t o un conjunto de traders T, necesitamos hacer lo siguiente: Encontrar ganancias pi ≥ 0 y qti > 0 de manera que zi = pi + P t∈adj(i) qti sea una solución dual óptima, y también cumpla con las restricciones (1) para cualquier vendedor i y comprador j conectados a través de un trader t ∈ T. Ahora, sujeto a todas estas condiciones, maximizamos la suma P t∈T P i∈S(t)∪B(t) qti. Ten en cuenta que esta maximización es una función objetivo secundaria con respecto al objetivo principal de que z sea una solución dual óptima. Luego usamos la prueba del Teorema 3.3 que muestra cómo convertir esto en un equilibrio. TEOREMA 3.4. El valor máximo para P t∈T P i qti anterior es la máxima ganancia que el conjunto T de comerciantes puede obtener. Prueba. Por la demostración del Teorema 3.2, las ganancias del comerciante t pueden ser escritas en esta forma, por lo que el conjunto de comerciantes T no puede obtener más ganancias de las reclamadas en este teorema. Para ver que T realmente puede obtener tantas ganancias, usamos la prueba del Teorema 3.3. Modificamos esa prueba para empezar con los vectores de ganancias p y qt para t ∈ T, y establecemos qt = 0 para todos los traders t ∈ T. Verificamos que esta solución inicial cumple con las tres primeras de las cuatro propiedades requeridas, y luego podemos seguir la demostración para hacer que la cuarta propiedad sea verdadera. Omitimos los detalles de esto en la versión actual. En la Sección 2.3 demostramos que en el caso de los traders de pares, un trader t puede ganar dinero si es esencial para el comercio eficiente. Esto no es 150 1 1 Figura 3: El comerciante principal es esencial para el bienestar social. Sin embargo, el único equilibrio es tener valores de oferta y demanda iguales a 0, y el comerciante no obtiene beneficios. Esto es cierto para el tipo de comerciantes más generales que consideramos aquí, como se muestra en el ejemplo de la Figura 3. Sin embargo, aún obtenemos una caracterización de cuándo un comerciante t puede obtener una ganancia positiva. TEOREMA 3.5. Un comerciante t puede obtener ganancias en un equilibrio si y solo si hay un vendedor o comprador i adyacente a t tal que la conexión del comerciante t con el agente i es esencial para el bienestar social, es decir, si eliminar al agente t de adj(i) disminuye el valor de la asignación óptima. Prueba. Primero mostramos la dirección en la que si un comerciante t puede ganar dinero, debe haber un agente i tal que la conexión de t con i sea esencial para el bienestar social. Sean p, q las ganancias en un equilibrio donde t gana dinero, como se describe en el Teorema 3.2 con P i∈S(t)∪B(t) qti > 0. Así que tenemos un agente i con qti > 0. Sostenemos que la conexión entre el agente i y el comerciante t debe ser esencial, en particular, sostenemos que el bienestar social debe disminuir al menos en qti si eliminamos t de adj(t). Para ver por qué, observe que al disminuir el valor de todas las aristas de la forma (i, j) asociadas con el comerciante t en qti, se mantiene el mismo óptimo de comercio, ya que obtenemos una solución dual de emparejamiento simplemente restableciendo qti a cero. Para ver lo contrario, suponga que eliminar t de adj(t) disminuye el bienestar social en algún valor γ. Supongamos que i es un vendedor (el caso de los compradores es simétrico), y disminuye en γ el valor social de cada arista (i, j) para cualquier comprador j tal que t sea el único agente que conecta a i y j. Por supuesto, el intercambio sigue siendo óptimo y dejamos que z sea la solución dual para esta correspondencia. Ahora utilizamos el mismo proceso que en la demostración del Teorema 3.3 para crear un equilibrio no cruzado comenzando con pi = zi para todo i ∈ S ∪ B, y qti = γ, y todos los demás valores de q igual a 0. Esto crea un equilibrio con ofertas que no se cruzan, donde t obtiene al menos γ de beneficio (debido al intercambio con el vendedor i). Finalmente, si permitimos el cruce de equilibrios, entonces podemos encontrar la ganancia mínima posible simplemente encontrando una solución dual que minimice las variables duales asociadas con los agentes monopolizados por algún comerciante. TEOREMA 3.6. Para cualquier trader t o subconjunto de traders T, la ganancia total mínima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. 4. REFERENCIAS [1] M. Babaioff, N. Nisan, E. Pavlov. Mecanismos para un mercado distribuido espacialmente. Conferencia ACM EC, 2005. [2] C. Barrett, E. Mutambatsere. Mercados agrícolas en países en desarrollo. El Nuevo Diccionario de Economía de Palgrave, 2da edición, próximo a publicarse. [3] Kenneth Burdett y Kenneth Judd. Dispersión del precio de equilibrio. Econometrica, 51/4, julio de 1983, 955-969. [4] L. Chu, Z.-J. I'm sorry, but \"Shen\" is not a sentence. Can you please provide a sentence for me to translate into Spanish? Mecanismo de subasta doble de competencia de agentes. Ciencia de la Gestión, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor. Subastas de varios artículos. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Econ. Política 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri. Un juego de formación de redes para economías de intercambio bipartitas. Simposio ACM-SIAM sobre Algoritmos Discretos (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald. Precios dinámicos por agentes de software. Redes de Computadoras, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri. Propiedades económicas de las redes sociales. NIPS 2004. [9] R. Kranton, D. Minehart. \n\nNIPS 2004. [9] R. Kranton, D. Minehart. Una teoría de redes de comprador-vendedor. American Economic Review 91(3), junio de 2001. [10] H. Leonard. Elicitación de preferencias honestas para la asignación de individuos a posiciones. J. Pol. Econ, 1983. [11] M. E. J. Newman. \n\nEcon, 1983. [11] M. E. J. Newman. La estructura y función de redes complejas. SIAM Review, 45:167-256, 2003. [12] M. OHara. \n\nRevista SIAM, 45:167-256, 2003. [12] M. OHara. Teoría de la Microestructura del Mercado. Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.\nEditorial Blackwell, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, El juego de asignación I: El núcleo. Internacional. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Teoría de Juegos 1/2 111-130, 1972. [14] Jean Tirole. La Teoría de la Organización Industrial. El MIT Press, Cambridge, MA, 1988. 151 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "benefit": {
            "translated_key": "Prestación",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer <br>benefit</br> from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer <br>benefit</br> from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically."
            ],
            "translated_annotated_samples": [
                "En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales."
            ],
            "translated_text": "Redes de intercambio con agentes que fijan precios Larry Blume Dept. En una amplia gama de mercados, los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, quienes determinan los precios mediante consideraciones estratégicas. Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el mercado. Modelamos este fenómeno utilizando un juego en el que compradores, vendedores e intermediarios participan en transacciones en un gráfico que representa el acceso que cada comprador y vendedor tiene a los intermediarios. En este modelo, los comerciantes establecen precios estratégicamente, y luego los compradores y vendedores reaccionan a los precios que se les ofrecen. Mostramos que el juego resultante siempre tiene un equilibrio de Nash perfecto en subjuegos, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. Extendemos estos resultados a un tipo más general de mercado de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores. Finalmente, consideramos cómo los beneficios obtenidos por los comerciantes dependen del grafo subyacente: en resumen, un comerciante puede obtener un beneficio positivo si y solo si tiene una conexión esencial en la estructura de la red, proporcionando así una base teórica de grafos para cuantificar la cantidad de competencia entre los comerciantes. Nuestro trabajo difiere de los estudios recientes sobre cómo el precio se ve afectado por la estructura de la red a través de nuestro modelado del establecimiento de precios como una actividad estratégica realizada por un subconjunto de agentes en el sistema, en lugar de estudiar precios establecidos a través de un equilibrio competitivo o por un mecanismo veraz. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1. INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio. Un ejemplo de esta configuración es el comercio de productos agrícolas en países en desarrollo. Dada la falta de redes de transporte adecuadas y el limitado acceso de los agricultores pobres al capital, muchos agricultores no tienen otra alternativa que comerciar con intermediarios en mercados locales ineficientes. Un país en desarrollo puede tener muchos mercados parcialmente superpuestos que coexisten junto a mercados modernos y eficientes. Los mercados financieros proporcionan un ejemplo diferente de un entorno con estas características generales. En estos mercados, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de mercado y sistemas de negociación electrónica. Para muchos activos no hay un único mercado; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en mercados de otros países. Algunos compradores y vendedores tienen acceso a muchos o a todos estos lugares de negociación; otros solo tienen acceso a uno o a unos pocos de ellos. El precio al que se negocia el activo puede variar en estos lugares de negociación. De hecho, no hay un precio fijo ya que diferentes comerciantes pagan o reciben precios diferentes. En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el precio de compra. Uno de los ejemplos más llamativos de este fenómeno ocurre en el mercado de divisas, donde existe un mercado interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto. Los spreads, definidos como la diferencia entre los precios de oferta y demanda, difieren significativamente en estos mercados, a pesar de que el mismo activo se está negociando en ambos mercados. En este artículo, desarrollamos un marco en el que tales fenómenos surgen de un modelo de comercio basado en teoría de juegos, con compradores, vendedores e intermediarios interactuando en una red. Los bordes de la red conectan a los comerciantes con los compradores y vendedores, y por lo tanto representan el acceso que tienen los diferentes participantes del mercado entre sí. Los comerciantes actúan como intermediarios en un juego de comercio de dos etapas: eligen estratégicamente los precios de oferta y demanda para ofrecer a los vendedores y compradores a los que están conectados; luego, los vendedores y compradores reaccionan a los precios que enfrentan. Por lo tanto, la red codifica el poder relativo en las posiciones estructurales de los participantes del mercado, incluyendo los niveles implícitos de competencia entre los traders. Mostramos que este juego siempre tiene un equilibrio de Nash perfecto en subjuegos de 143, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. También analizamos cómo los beneficios de los operadores dependen de la estructura de la red, caracterizando esencialmente en términos de teoría de grafos cómo se determina el pago de un operador por la cantidad de competencia que experimenta con otros operadores. Nuestro trabajo aquí está conectado a varias líneas de investigación en economía, finanzas y teoría de juegos algorítmica, y discutimos estas conexiones con más detalle más adelante en la introducción. A un nivel general, nuestro enfoque puede ser visto como la síntesis de dos importantes corrientes de trabajo: una que trata la interacción comprador-vendedor utilizando estructuras de red, pero sin intentar modelar los procesos mediante los cuales los precios son realmente formados [1, 4, 5, 6, 8, 9, 10, 13]; y otra corriente en la literatura sobre microestructura de mercado que incorpora intermediarios en la fijación de precios, pero sin restricciones de tipo red sobre quién puede comerciar con quién [12]. Al desarrollar un modelo de red que incluye explícitamente a los comerciantes como agentes que establecen precios, en un sistema junto con compradores y vendedores, podemos capturar la formación de precios en un entorno de red como un proceso estratégico llevado a cabo por intermediarios, en lugar de como resultado de un mecanismo centralizado o exógeno. El Modelo Básico: Bienes Indistinguibles. Nuestro objetivo al formular el modelo es expresar el proceso de fijación de precios en mercados como los discutidos anteriormente, donde los participantes no tienen todos acceso uniforme entre sí. Se nos da un conjunto B de compradores, un conjunto S de vendedores y un conjunto T de traders. Hay un grafo no dirigido G que indica quién puede comerciar con quién. Todos los bordes tienen un extremo en B ∪ S y el otro en T; es decir, cada borde tiene la forma (i, t) para i ∈ S y t ∈ T, o (j, t) para j ∈ B y t ∈ T. Esto refleja las restricciones de que todas las transacciones entre compradores y vendedores pasan por los intermediarios comerciales. En la versión más básica del modelo, consideramos bienes idénticos, de los cuales cada vendedor inicialmente posee una copia. Los compradores y vendedores tienen un valor para una copia del bien, y asumimos que estos valores son de conocimiento común. Posteriormente generalizaremos esto a un escenario en el que los bienes son distinguibles, los compradores pueden valorar los diferentes bienes de manera diferente y, potencialmente, los vendedores también pueden valorar las transacciones con diferentes compradores de manera diferente. Tener diferentes valoraciones de los compradores captura escenarios como las compras de viviendas; agregar diferentes valoraciones de los vendedores también captura mercados de coincidencia, por ejemplo, vendedores como solicitantes de empleo y compradores como empleadores, ambos preocupados por quién termina con qué bien (y con los comerciantes actuando como servicios que facilitan la búsqueda de empleo). Por lo tanto, para comenzar con el modelo básico, hay un solo tipo de bien; el bien viene en unidades indivisibles; y cada vendedor inicialmente posee una unidad del bien. Todos los tres tipos de agentes valoran el dinero a la misma tasa; y cada i ∈ B ∪ S valora adicionalmente una copia del bien en θi unidades de dinero. Ningún agente quiere más de una copia del bien, por lo que las copias adicionales se valoran en 0. Cada agente tiene una dotación inicial de dinero que es mayor que cualquier valoración individual θi; el efecto de esto es garantizar que cualquier comprador que termine sin una copia del bien ha sido excluido del mercado debido a su valoración y posición en la red, no a la falta de fondos. Nos imaginamos que cada bien que se vende fluye a lo largo de una secuencia de dos etapas: desde un vendedor a un comerciante, y luego del comerciante a un comprador. La forma particular en la que fluyen los bienes está determinada por el siguiente juego. Primero, cada comerciante ofrece un precio de oferta a cada vendedor al que está conectado, y un precio de demanda a cada comprador al que está conectado. Los vendedores y compradores luego eligen entre las ofertas presentadas por los comerciantes. Si varios comerciantes proponen el mismo precio a un vendedor o comprador, entonces no hay una mejor respuesta estricta para el vendedor o comprador. En este caso se debe hacer una selección, y, como es habitual (ver por ejemplo [10]), nosotros (los modeladores) elegimos entre las mejores ofertas. Finalmente, cada comerciante compra una copia del bien de cada vendedor que acepta su oferta, y vende una copia del bien a cada comprador que acepta su oferta. Si un comerciante en particular, t, descubre que más compradores que vendedores aceptan sus ofertas, entonces se ha comprometido a proporcionar más copias del bien de las que ha recibido, y diremos que esto resulta en una gran penalización para el comerciante por incumplimiento; el efecto de esto es que en equilibrio, ningún comerciante elegirá precios de oferta y demanda que resulten en un incumplimiento. Más precisamente, una estrategia para cada operador t es una especificación de un precio de oferta βti para cada vendedor i al que t está conectado, y un precio de demanda αtj para cada comprador j al que t está conectado. (También podemos manejar un modelo en el que un operador puede optar por no hacer una oferta a ciertos de sus vendedores o compradores adyacentes). Cada vendedor o comprador elige como máximo una arista incidente, indicando el comerciante con quien realizarán la transacción, al precio indicado. (La elección de una sola arista refleja el hecho de que (a) los vendedores inicialmente solo tienen una copia del bien, y (b) los compradores solo desean una copia del bien). Las ganancias son las siguientes: Para cada vendedor i, la ganancia de seleccionar al comerciante t es βti, mientras que la ganancia de no seleccionar a ningún comerciante es θi. (En el primer caso, el vendedor recibe βti unidades de dinero, mientras que en el segundo caso conserva su copia del bien, al que valora en θi). Para cada comprador j, la ganancia de seleccionar al comerciante t es θj - αtj, mientras que la ganancia de no seleccionar a ningún comerciante es 0. (En el primer caso, el comprador recibe el bien pero renuncia a αtj unidades de dinero). Para cada operador t, con ofertas aceptadas de vendedores i1, . . . , is y compradores j1, . . . , jb, la ganancia es P r αtjr − P r βtir, menos una penalización π si b > s. La penalización se elige lo suficientemente grande para que un operador nunca la sufra en equilibrio, por lo que generalmente no nos preocuparemos por la penalización. Esto define los elementos básicos del juego. El concepto de equilibrio que utilizamos es el equilibrio de Nash perfecto en subjuegos. Algunos ejemplos. Para ayudar a pensar en el modelo, ahora describimos tres ejemplos ilustrativos, representados en la Figura 1. Para evitar que las figuras se vuelvan demasiado desordenadas, adoptamos las siguientes convenciones: los vendedores se representan como círculos en la columna más a la izquierda y se les asigna el nombre i1, i2, ... de arriba abajo; los comerciantes se representan como cuadrados en la columna del medio y se les asigna el nombre t1, t2, ... de arriba abajo; y los compradores se representan como círculos en la columna más a la derecha y se les asigna el nombre j1, j2, ... de arriba abajo. Todos los vendedores en los ejemplos tendrán valoraciones para el bien iguales a 0; la valoración de cada comprador se dibuja dentro de su círculo; y el precio de oferta o demanda en cada borde se dibuja encima del borde. En la Figura 1(a), mostramos cómo una subasta estándar de segundo precio surge naturalmente de nuestro modelo. Supongamos que las valoraciones de los compradores de mayor a menor son w > x > y > z. Los precios de oferta y demanda mostrados son consistentes con un equilibrio en el que i1 y j1 aceptan las ofertas del trader t1, y ningún otro comprador acepta la oferta de su trader adyacente: así, el trader t1 recibe el bien con un precio de oferta de x, y gana w − x al vender el bien al comprador j1 por w. De esta manera, podemos considerar esta instancia particular como una subasta para un bien único en la que los traders actúan como representantes de sus compradores adyacentes. El comprador con la valoración más alta para el bien termina adquiriéndolo, y el excedente se divide entre el vendedor y el comerciante asociado. Se debe tener en cuenta que se puede construir una subasta de k unidades con > k compradores con la misma facilidad, creando un grafo bipartito completo con k vendedores y comerciantes, y luego conectando a cada comerciante con un único comprador distinto. En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales. Específicamente, el vendedor i2 y el comprador j2 ocupan posiciones poderosas, ya que los dos comerciantes compiten por su negocio; por otro lado, los otros vendedores y compradores se encuentran en posiciones débiles, ya que cada uno tiene solo una opción. Y de hecho, en cada equilibrio, hay un número real x ∈ [0, 1] tal que ambos comerciantes ofrecen precios de oferta y demanda de x a i2 y j2 respectivamente, mientras ofrecen ofertas de 0 y demandas de 1 a los otros vendedores y compradores. Por lo tanto, este ejemplo ilustra algunos ingredientes cruciales que identificaremos a un nivel más general en breve. Específicamente, i2 y j2 experimentan los beneficios de la competencia perfecta, ya que los dos comerciantes reducen los márgenes de oferta y demanda a 0 al competir por su negocio. Por otro lado, los otros vendedores y compradores experimentan las desventajas del monopolio: no reciben ninguna ganancia ya que solo tienen una opción para comerciar, y el comerciante correspondiente se queda con todas las ganancias. Observa además cómo este comportamiento natural surge del hecho de que los comerciantes pueden ofrecer diferentes precios a diferentes agentes, capturando el hecho de que no hay un precio fijo en los tipos de mercados que motivan el modelo, sino diferentes precios que reflejan el poder relativo de los diferentes agentes involucrados. El ejemplo anterior muestra quizás la forma más natural en la que la ganancia de un comerciante en una transacción particular puede caer a 0: cuando hay otro comerciante que puede replicar su función de manera precisa. (En ese ejemplo, dos comerciantes tenían la capacidad de mover una copia del bien de i2 a j2). Pero como mostrarán nuestros resultados posteriores, los comerciantes no obtienen ganancias en general debido a razones globales y teóricas de grafos. El ejemplo en la Figura 1(c) da una indicación inicial de esto: se puede demostrar que para cada equilibrio, existe un y ∈ [0, 1] tal que cada oferta y cada precio de demanda es igual a y. En otras palabras, todos los comerciantes no obtienen beneficios, ya sea que pase por ellos una copia del bien o no, y sin embargo, ningún par de comerciantes comparte rutas de vendedor-comprador en común. Los márgenes de precios se han reducido a cero debido a una restricción global impuesta por el largo ciclo a través de todos los agentes; este es un ejemplo de competencia perfecta implícita determinada por la topología de la red. Extendiendo el modelo para bienes distinguibles. Extendemos el modelo básico a un escenario con bienes distinguibles, de la siguiente manera. En lugar de que cada agente i ∈ B ∪ S tenga una única valoración numérica θi, indexamos las valoraciones por pares de compradores y vendedores: si el comprador j obtiene el bien inicialmente poseído por el vendedor i, obtiene una utilidad de θji, y si el vendedor i vende su bien al comprador j, experimenta una pérdida de utilidad de θij. Esto generaliza el caso de bienes indistinguibles, ya que siempre podemos hacer que estas valoraciones por pares dependan solo de uno de los índices. Una estrategia para un trader ahora consiste en ofrecer una oferta a cada vendedor que especifique tanto un precio como un comprador, y ofrecer una demanda a cada comprador que especifique tanto un precio como un vendedor. (También podemos manejar un modelo en el que un trader ofrece ofertas (respectivamente, demandas) en forma de vectores, especificando esencialmente un menú con un precio adjunto a cada comprador (resp. vendedor).) Cada comprador y vendedor selecciona una oferta de un comerciante adyacente, y los pagos a todos los agentes se determinan como antes. Este marco general captura los mercados de emparejamiento [10, 13]: por ejemplo, un mercado laboral que es mediado por agentes o servicios de búsqueda de empleo (como en la contratación de ejecutivos corporativos, o figuras del deporte o del entretenimiento). Aquí los vendedores son solicitantes de empleo, los compradores son empleadores y los comerciantes son los agentes que median en el mercado laboral. Por supuesto, si se especifican valoraciones por pares en los compradores pero solo valoraciones individuales para los vendedores, modelamos un escenario donde los compradores pueden distinguir entre los bienes, pero a los vendedores no les importa a quién venden, esto captura (aproximadamente) escenarios como los mercados de vivienda. Nuestros resultados. Nuestros resultados identificarán formas generales de algunos de los principios mencionados en los ejemplos discutidos anteriormente, incluyendo la pregunta de qué compradores terminan con el bien; la pregunta de cómo los pagos son realizados de manera diferente por vendedores, comerciantes y compradores; y la pregunta de qué propiedades estructurales de la red determinan si los comerciantes obtendrán beneficios positivos. Para hacer esto preciso, introducimos la siguiente notación. Cualquier resultado del juego determina una asignación final de bienes a algunos de los agentes; esto puede ser especificado por una colección M de triples (es decir, te, je), donde ie ∈ S, te ∈ T y je ∈ B; además, cada vendedor y cada comprador aparece en a lo sumo un triple. El significado es que para cada e ∈ M, el bien inicialmente poseído por ie se transfiere a je a través de te. (Los vendedores que no aparecen en ningún trío conservan su copia del bien). Decimos que el valor de la asignación es igual a P e∈M θjeie − θieje. Que θ∗ denote el valor máximo de cualquier asignación M que sea factible dada la red. Mostramos que cada instancia de nuestro juego tiene un equilibrio, y que en cada uno de estos equilibrios, la asignación tiene un valor de θ∗ 145, en otras palabras, logra el mejor valor posible. Por lo tanto, los equilibrios en este modelo son siempre eficientes, ya que el mercado permite que el conjunto correcto de personas obtenga el bien, sujeto a las restricciones de la red. Establecemos la existencia y eficiencia de los equilibrios mediante la construcción de un programa lineal para capturar el flujo de bienes a través de la red; el dual de este programa lineal contiene suficiente información para extraer los precios de equilibrio. Según la definición del juego, el valor de la asignación de equilibrio se divide en forma de pagos a los agentes, y resulta interesante preguntarse cómo se distribuye este valor, en particular cuánta ganancia puede obtener un trader según su posición en la red. Observamos que, aunque todos los equilibrios tienen el mismo valor, la ganancia de un trader dado puede variar entre diferentes equilibrios. Sin embargo, somos capaces de caracterizar las cantidades máximas y mínimas que un operador dado puede obtener, donde estos máximos y mínimos se toman sobre todos los equilibrios, y proporcionamos un algoritmo eficiente para calcular esto. En particular, nuestros resultados aquí implican una caracterización combinatoria clara de cuándo un trader dado t puede lograr un beneficio distinto de cero: esto ocurre si y solo si hay algún borde e incidente en t que es esencial, en el sentido de que eliminar e reduce el valor de la asignación óptima θ∗. También obtenemos resultados para la suma de todas las ganancias de los operadores. Trabajo relacionado. El enfoque estándar de referencia para analizar la interacción entre compradores y vendedores es el modelo walrasiano en el que compradores y vendedores anónimos intercambian un bien a un único precio de equilibrio de mercado. Esta forma reducida de comercio, basada en la idealización de un precio de mercado, es un modelo poderoso que ha dado lugar a muchas ideas. Pero no es un buen modelo para examinar de dónde vienen los precios o exactamente cómo compradores y vendedores comercian entre sí. La dificultad es que en el modelo walrasiano no hay un agente que fije el precio, y los agentes en realidad no comercian entre sí. De hecho, no hay un mercado, en el sentido cotidiano de esa palabra, en el modelo walrasiano. Es decir, no hay un lugar físico o virtual donde los compradores y vendedores interactúen para comerciar y establecer precios. Por lo tanto, en este modelo simple, todos los compradores y vendedores son uniformes y comercian al mismo precio, y tampoco hay un papel para intermediarios. Hay varias literaturas en economía y finanzas que examinan cómo se fijan los precios en lugar de simplemente determinar los precios de equilibrio. La literatura sobre competencia imperfecta es quizás la más antigua de todas. Aquí un monopolista, o un grupo de oligopolistas, eligen los precios con el fin de maximizar sus ganancias (ver [14] para el tratamiento estándar de estos mercados en los libros de texto). Un monopolista utiliza su conocimiento de la demanda del mercado para elegir un precio, o una colección de precios si discrimina. Los oligopolistas juegan un juego en el que sus ganancias dependen de la demanda del mercado y las acciones de sus competidores. En esta literatura hay agentes que fijan precios, pero se mantiene la ficción de un solo mercado. En la literatura de búsqueda de equilibrio, las empresas establecen precios y los consumidores los buscan (ver [3]). Los consumidores terminan pagando precios diferentes, pero todos los consumidores tienen acceso a todas las empresas y no hay intermediarios. En la literatura de equilibrio general ha habido varios intentos de introducir la determinación de precios. Una técnica de prueba estándar para la existencia de un equilibrio competitivo implica un mecanismo de ajuste de precios en el que los precios responden a la demanda excesiva. El subastador walrasiano suele ser presentado como un dispositivo para explicar cómo funciona este proceso, pero en realidad es fundamentalmente una metáfora de un algoritmo iterativo de actualización de precios, no de los detalles internos de un mercado real. Se han introducido procesos más sofisticados para estudiar la estabilidad de los precios de equilibrio o la información necesaria para calcularlos. Pero de nuevo no hay agentes que fijen los precios aquí. En la literatura financiera, el trabajo sobre microestructura de mercado sí tiene agentes que fijan precios (especialistas), algunas partes de él determinan precios de oferta y demanda separados, y diferentes agentes reciben precios distintos por el mismo activo (ver [12] para un tratamiento de la teoría de microestructura). El trabajo en economía de la información ha identificado fenómenos similares (ver por ejemplo [7]). Pero hay poca investigación en estas literaturas que examine el efecto de las restricciones sobre quién puede comerciar con quién. Ha habido varios enfoques para estudiar cómo la estructura de la red determina los precios. Estos han planteado la determinación de precios a través de definiciones basadas en el equilibrio competitivo o el núcleo, o mediante el uso de mecanismos veraces. Al revisar brevemente este trabajo, notaremos el contraste con nuestro enfoque, ya que modelamos los precios como resultado del comportamiento estratégico de los agentes en el sistema. En un trabajo reciente, Kakade et al. [8] han estudiado la distribución de precios en equilibrio competitivo en un grafo bipartito de compradores y vendedores, generado utilizando un modelo probabilístico capaz de producir distribuciones de grados con colas pesadas [11]. Even-Dar et al. [6] se basan en esto para considerar los aspectos estratégicos de la formación de redes cuando los precios surgen del equilibrio competitivo. Leonard [10], Babaioff et al. [1], y Chu y Shen [4] consideran un enfoque basado en el diseño de mecanismos: los compradores y vendedores residen en nodos diferentes en un grafo, y incurren en un costo de transporte dado para comerciar entre sí. Leonard estudia los precios de VCG en este contexto; Babaioff et al. y Chu y Shen además proporcionan un mecanismo equilibrado en presupuesto. Dado que la preocupación aquí radica en mecanismos veraces que operan sobre valoraciones privadas, existe un compromiso inherente entre la eficiencia de la asignación y la condición de equilibrio presupuestario. Por el contrario, nuestro modelo tiene valoraciones y precios conocidos que surgen del comportamiento estratégico de los operadores. Por lo tanto, las suposiciones detrás de nuestro modelo no son directamente comparables a las que subyacen en el enfoque del diseño de mecanismos: aunque asumimos valoraciones conocidas, no requerimos una autoridad centralizada para imponer un mecanismo. Más bien, la fijación de precios es parte del resultado estratégico, como en los mercados reales que motivan nuestro trabajo, y nuestros equilibrios son simultáneamente equilibrados en términos presupuestarios y eficientes, algo que no es posible en los marcos de diseño de mecanismos que se han utilizado. Demange, Gale y Sotomayor [5], y Kranton y Minehart [9], analizan los precios a los que se produce el comercio en una red, trabajando dentro del marco del diseño de mecanismos. Kranton y Minehart utilizan un grafo bipartito con enlaces directos entre compradores y vendedores, y luego emplean un mecanismo de subasta ascendente, en lugar de intermediarios estratégicos, para determinar los precios. Su subasta tiene propiedades de equilibrio deseables, pero como señalan Kranton y Minehart, es una abstracción de cómo se asignan los bienes y se determinan los precios que es similar en espíritu a la abstracción del subastador walrasiano. De hecho, podemos mostrar cómo el modelo básico de Kranton y Minehart puede ser codificado como una instancia de nuestro juego, con los comerciantes produciendo precios en equilibrio que coinciden con los precios producidos por su mecanismo de subasta. Finalmente, los resultados clásicos de Shapley y Shubik [13] sobre el juego de asignación pueden ser vistos como el estudio del resultado del comercio en un grafo bipartito en términos del núcleo. Estudian el dual de un programa lineal basado en el problema de emparejamiento, similar a lo que usamos para una versión reducida de nuestro modelo en la siguiente sección, pero su enfoque es diferente ya que no consideran agentes que buscan establecer precios. 2. MERCADOS CON OPERADORES DE PAREJAS Para comprender las ideas detrás del análisis del modelo general, es muy útil considerar primero un caso especial con un re1 Kranton y Minehart, sin embargo, también pueden analizar un entorno más general en el que los valores de los compradores son privados y, por lo tanto, compradores y vendedores juegan un juego de información incompleta. Solo trabajamos con información completa. 146 forma restringida de comerciantes a los que nos referimos como operadores de pares. En este caso, cada comerciante está conectado a solo un comprador y un vendedor. (Por lo tanto, sirve esencialmente como una ruta comercial entre los dos). Las técnicas que desarrollamos para manejar este caso formarán una base útil para razonar sobre el caso de los comerciantes que pueden estar conectados arbitrariamente a los vendedores y compradores. Relacionaremos las ganancias en un equilibrio de Nash perfecto en subjuegos con las soluciones óptimas de un cierto programa lineal, utilizaremos esta relación para demostrar que todos los equilibrios resultan en una asignación eficiente de los bienes, y mostraremos que siempre existe un equilibrio puro. Primero, consideramos el modelo más simple donde los vendedores tienen artículos indistinguibles, y cada comprador está interesado en obtener un artículo. Luego extendemos los resultados al caso más general de un mercado de emparejamiento, como se discutió en la sección anterior, donde las valoraciones dependen de la identidad del vendedor y comprador. Luego caracterizamos las ganancias mínimas y máximas que los comerciantes pueden obtener. En la siguiente sección, extendemos los resultados a los operadores que pueden estar conectados a cualquier subconjunto de vendedores y compradores. Dado que estamos trabajando con operadores de pares en esta sección, podemos representar el problema utilizando un grafo bipartito G cuyo conjunto de nodos es B ∪ S, y donde cada operador t, conectando al vendedor i y al comprador j, aparece como una arista t = (i, j) en G. Sin embargo, cabe destacar que permitimos que múltiples operadores conecten el mismo par de agentes. Para cada comprador y vendedor i, usaremos adj(i) para denotar el conjunto de comerciantes que pueden comerciar con i. 2.1 Bienes Indistinguibles El intercambio socialmente óptimo para el caso de bienes indistinguibles es la solución del problema de transporte: enviar bienes a lo largo de los bordes que representan a los comerciantes. Las aristas a lo largo de las cuales ocurre el comercio corresponden a un emparejamiento en este grafo bipartito, y el comercio óptimo está descrito por el siguiente programa lineal. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B A continuación, consideramos un equilibrio. Cada operador t = (i, j) debe ofrecer una oferta βt y una demanda αt. (Omitimos el subíndice que denota al vendedor y comprador aquí, ya que estamos tratando con operadores en pares). Dado el precio de oferta y demanda, los agentes reaccionan a estos precios, como se describió anteriormente. En lugar de enfocarnos en los precios, nos enfocaremos en las ganancias. Si un vendedor i vende a un comerciante t ∈ adj(i) con una oferta βt, entonces su ganancia es pi = βt − θi. De manera similar, si un comprador j compra a un comerciante t ∈ adj(j) con una oferta αt, entonces su ganancia es pj = θj − αt. Finalmente, si un comerciante t opera con la oferta αt y la demanda βt, entonces su ganancia es yt = αt − βt. Todos los agentes que no están involucrados en el comercio no obtienen ganancias. Demostraremos que las ganancias en equilibrio son una solución óptima para el siguiente programa lineal. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMA 2.1. En el equilibrio, los beneficios deben satisfacer las desigualdades anteriores. Prueba. Claramente, todas las ganancias son no negativas, ya que el comercio es opcional para todos los agentes. Para ver por qué se cumplen el último conjunto de desigualdades, considera dos casos por separado. Para un comerciante t que realizó un intercambio, obtenemos igualdad por definición. Para otros comerciantes t = (i, j), el valor pi + θi es el precio al que el vendedor i vendió (o θi si el vendedor i decidió quedarse con el bien). Ofrecer una oferta βt > pi + θi haría que el vendedor vendiera al comerciante t. De manera similar, θj − pj es el precio al que el comprador j compró (o θj si no compró), y para cualquier oferta αt < θj − pj, el comprador comprará al comerciante t. Por lo tanto, a menos que θj − pj ≤ θi + pi, el comerciante tiene una desviación rentable. Ahora estamos listos para demostrar nuestro primer teorema: TEOREMA 2.2. En cualquier equilibrio, el comercio es eficiente. Prueba. Que x sea un flujo de bienes que resulta en un equilibrio, y que las variables p e y sean las ganancias. Considera el programa lineal que describe el comercio socialmente óptimo. También agregaremos un conjunto de restricciones adicionales xt ≤ 1 para todos los operadores t ∈ T; esto se puede agregar a la descripción, ya que está implícito en las otras restricciones. Ahora afirmamos que los dos programas lineales son duales entre sí. Las variables pi para los agentes B ∪ S corresponden a las ecuaciones Pt∈adj(i) xt ≤ 1. La variable dual adicional yt corresponde a una desigualdad adicional xt ≤ 1. La optimalidad del valor social del intercambio se seguirá de la afirmación de que la solución de estos dos programas lineales derivados de un equilibrio satisface las condiciones de holgura complementaria para este par de programas lineales, y por lo tanto tanto x como (p, y) son soluciones óptimas de los programas lineales correspondientes. Existen tres condiciones de holgura complementarias diferentes que debemos considerar, correspondientes a los tres conjuntos de variables x, y y p. Cualquier agente solo puede obtener ganancias si realiza transacciones, por lo que pi > 0 implica que P t∈adj(i) xt = 1, y de manera similar, yt > 0 implica que xt = 1 también. Finalmente, considera a un trader t con xt > 0 que negocia entre el vendedor i y el comprador j, y recuerda que hemos visto anteriormente que la desigualdad yt ≥ (θj − pj) − (θi + pi) se cumple con igualdad para aquellos que comercian. A continuación argumentamos que los equilibrios siempre existen. TEOREMA 2.3. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro de valores de oferta y demanda que respalda este comercio. Prueba. Considera un intercambio eficiente; sea xt = 1 si t intercambia y 0 en caso contrario; y considera una solución óptima (p, y) para el programa lineal dual. Nos gustaría afirmar que todas las soluciones duales corresponden a precios de equilibrio, pero desafortunadamente esto no es exactamente cierto. Antes de poder convertir una solución dual en precios de equilibrio, es posible que necesitemos modificar ligeramente la solución de la siguiente manera. Considera cualquier agente i que solo esté conectado a un único comerciante t. Debido a que el agente está solo conectado a un único comerciante, las variables yt y pi son variables duales correspondientes a la misma desigualdad primal xt ≤ 1, y siempre aparecen juntas como yt + pi en todas las desigualdades, y también en la función objetivo. Por lo tanto, existe una solución óptima en la que pi = 0 para todos los agentes i conectados solo a un único comerciante. Supongamos que (p, y) es una solución dual donde los agentes conectados solo a un comerciante tienen pi = 0. Para un vendedor i, dejemos que βt = θi + pi sea la oferta para todos los comerciantes t adyacentes a i. De manera similar, para cada comprador j, sea αt = θj − pj la oferta para todos los operadores t adyacentes a j. Sostenemos que este conjunto de ofertas y demandas, junto con la transacción x, constituyen un equilibrio. Para entender por qué, hay que tener en cuenta que todos los operadores t adyacentes a un vendedor o comprador i ofrecen la misma oferta o demanda, por lo que comerciar con cualquier operador es igualmente bueno para el agente i. Además, si i no está operando en la solución 147 x, entonces por holgura complementaria pi = 0, y por lo tanto, no operar también es igualmente bueno para i. Esto muestra que los vendedores y compradores no tienen un incentivo para desviarse. Necesitamos demostrar que los comerciantes no tienen incentivos para desviarse tampoco. Cuando un comerciante t está negociando con el vendedor i y el comprador j, las desviaciones rentables implicarían aumentar αt o disminuir βt. Pero por nuestra construcción (y suposición sobre agentes monopolizados) todos los vendedores y compradores tienen múltiples ofertas de compra/venta idénticas, o el intercambio está ocurriendo a valuación. En cualquier caso, tal desviación no puede tener éxito. Finalmente, considera un trader t = (i, j) que no realiza intercambios. Una desviación para t implicaría ofrecer una oferta más baja al vendedor i y una oferta más alta al vendedor j que su intercambio actual. Sin embargo, yt = 0 por holgura complementaria, y por lo tanto pi + θi ≥ θj − pj, por lo que i vende a un precio al menos tan alto como el precio al que j compra, por lo que el comerciante t no puede crear un intercambio rentable. Se debe tener en cuenta que un vendedor o comprador conectado a un único comerciante t no puede obtener beneficios en equilibrio, por lo que los posibles beneficios en equilibrio están en correspondencia uno a uno con las soluciones duales para las cuales pi = 0 siempre que i esté monopolizado por un único comerciante. Una característica decepcionante del equilibrio creado por esta prueba es que algunos agentes t pueden tener que crear pares de oferta y demanda donde βt > αt, ofreciendo comprar por más del precio al que están dispuestos a vender. Los agentes que realizan tales pares de oferta y demanda nunca realizan realmente una transacción, por lo que no resulta en una pérdida de beneficios para el agente, pero dichos pares son poco comunes. Los pares de ofertas y demandas cruzadas son débilmente dominados por la estrategia de ofrecer una oferta baja β = 0 y una demanda extremadamente alta para garantizar que ninguna sea aceptada. Para formular una forma de evitar tales pares cruzados, decimos que un equilibrio es libre de cruces si αt ≥ βt para todos los operadores t. Ahora mostramos que siempre hay un equilibrio libre de cruces. TEOREMA 2.4. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro y libre de cruces. Prueba. Considera una solución óptima para el programa lineal dual. Para obtener un equilibrio sin cruzar ofertas, necesitamos hacer una modificación más general que simplemente asumir que pi = 0 para todos los vendedores y compradores conectados a un único operador. Que el conjunto E sea el conjunto de aristas t = (i, j) que son tensas, en el sentido de que tenemos la igualdad yt = (θj − pj) − (θi + pi). Este conjunto E contiene todos los bordes donde ocurre el comercio, y algunos bordes adicionales. Queremos asegurarnos de que pi = 0 para todos los vendedores y compradores que tengan un grado de a lo sumo 1 en E. Considere un vendedor i que tiene pi > 0. Debemos tener i involucrado en un intercambio, y el borde t = (i, j) a lo largo del cual ocurre el intercambio debe ser ajustado. Supongamos que este es el único borde ajustado adyacente al agente i; entonces podemos disminuir pi e incrementar yt hasta que ocurra una de las siguientes situaciones: o bien pi = 0 o la restricción de algún otro agente t ∈ adj(i) se vuelva ajustada. Esta modificación solo aumenta el conjunto de aristas ajustadas E, mantiene la solución factible y no cambia el valor de la función objetivo. Entonces, después de hacer esto para todos los vendedores, y cambiando de manera análoga yt y pj para todos los compradores, obtenemos una solución óptima donde todos los vendedores y compradores i tienen pi = 0 o tienen al menos dos aristas ajustadas adyacentes. Ahora podemos establecer ofertas y demandas para formar un equilibrio libre de cruces. Para todos los traders t = (i, j) asociados con un borde t ∈ E, establecemos αt y βt como antes: fijamos la oferta βt = pi + θi y la demanda αt = θj − pj. Para un trader t = (i, j) ∈ E, tenemos que pi + θi > θj − pj y establecemos αt = βt para que sea cualquier valor en el rango [θj − pj, pi + θi]. Esto garantiza que para cada vendedor o comprador, la mejor oferta de venta o compra se encuentra a lo largo del borde donde se produce el intercambio en la solución. Los valores de askbid a lo largo de los bordes ajustados garantizan que los traders que operan no puedan aumentar su spread. Los operadores t = (i, j) que no realizan operaciones no pueden obtener ganancias debido a la restricción pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) Ningún operador obtiene ganancias 1 1 1 0 x x x x 1 x x 0 x (b) Ganancias del operador Figura 2: Izquierda: un equilibrio con ofertas cruzadas donde los operadores no ganan dinero. Correcto: un equilibrio sin ofertas cruzadas para cualquier valor x ∈ [0, 1]. La ganancia total del comerciante oscila entre 1 y 2. 2.2 Bienes distinguibles. Ahora consideramos el caso de bienes distinguibles. Como en la sección anterior, podemos escribir un programa lineal de transbordo para el comercio socialmente óptimo, con el único cambio en la función objetivo. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) Podemos demostrar que el dual de este programa lineal corresponde a las ganancias de los comerciantes. Recuerda que necesitábamos agregar las restricciones xt ≤ 1 para todos los traders. El dual es entonces: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T. No es difícil extender las pruebas de los Teoremas 2.2 - 2.4 a este caso. Las ganancias en un equilibrio satisfacen las restricciones duales, y las ganancias y el comercio satisfacen la holgura complementaria. Esto demuestra que el comercio es socialmente óptimo. Tomando una solución dual óptima donde pi = 0 para todos los agentes que están monopolizados, podemos convertirla en un equilibrio, y con un poco más de cuidado, también podemos crear un equilibrio sin pares de oferta y demanda cruzados. TEOREMA 2.5. Todos los equilibrios para el caso de los operadores en pares con bienes distinguibles resultan en un comercio socialmente óptimo. Existen equilibrios puros no cruzados. 2.3 Ganancias de los operadores Hemos visto que todos los equilibrios son eficientes. Sin embargo, resulta que los equilibrios pueden diferir en cómo se distribuye el valor de la asignación entre los vendedores, compradores e intermediarios. La Figura 2 representa un ejemplo simple de este fenómeno. Nuestro objetivo es entender cómo se ve afectada la ganancia de un trader por su posición en la red; utilizaremos la caracterización que obtuvimos para determinar el rango de ganancias que un trader puede obtener. Para maximizar la ganancia de un operador t (o un subconjunto de operadores T), todo lo que necesitamos hacer es encontrar una solución óptima al programa lineal dual que maximice el valor de yt (o la suma Pt∈T yt). Tales soluciones duales corresponderán a equilibrios con precios no cruzados. TEOREMA 2.6. Para cualquier operador t o subconjunto de operadores T, la ganancia total máxima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. Este beneficio máximo se puede obtener mediante un equilibrio no cruzado. Una forma de pensar en la ganancia de un trader t = (i, j) es como una resta del valor del borde correspondiente (i, j). El valor del borde es el valor social θji − θij si el comerciante no obtiene ganancias, y disminuye a θji − θij − yt si el comerciante t insiste en obtener una ganancia de yt. El comerciante t obtiene un beneficio yt en equilibrio, si después de esta disminución en el valor del borde, el borde sigue incluido en el transbordo óptimo. TEOREMA 2.7. Un comerciante t puede obtener beneficios en un equilibrio si y solo si t es esencial para el bienestar social, es decir, si eliminar al agente t disminuye el bienestar social. La ganancia máxima que puede obtener es exactamente su valor para la sociedad, es decir, el aumento que su presencia provoca en el bienestar social. Si permitimos el cruce de equilibrios, entonces también podemos encontrar la ganancia mínima posible. Recuerde que en la demostración del Teorema 2.3, los comerciantes solo ganaron dinero de vendedores o compradores sobre los que tenían un monopolio. Permitiendo tales equilibrios con ofertas cruzadas, podemos encontrar la ganancia mínima que un trader o conjunto de traders puede obtener, minimizando el valor yt (o la suma de P t∈T yt) en todas las soluciones óptimas que satisfacen que pi = 0 siempre que i esté conectado solo a un trader. TEOREMA 2.8. Para cualquier operador t o subconjunto de operadores T, la ganancia total mínima que pueden obtener en cualquier equilibrio puede ser calculada en tiempo polinómico. A continuación, extendemos los resultados a un modelo en el que los comerciantes pueden estar conectados a un número arbitrario de vendedores y compradores. Para un comerciante t ∈ T utilizaremos S(t) y B(t) para denotar el conjunto de compradores y vendedores conectados al comerciante t. En esta sección nos enfocamos en el caso general cuando los bienes son distinguibles (es decir, tanto los compradores como los vendedores tienen valoraciones que son sensibles a la identidad del agente con el que se emparejan en la asignación). En la versión completa del artículo también discutimos el caso especial de bienes indistinguibles con más detalle. Para obtener el intercambio óptimo, consideramos el grafo bipartito G = (S ∪ B, E) que conecta vendedores y compradores, donde una arista e = (i, j) conecta un vendedor i y un comprador j si hay un comerciante adyacente a ambos: E = {(i, j) : adj(i) ∩ adj(j) = ∅}. En este gráfico, luego resolvemos la instancia del problema de asignación que también se utilizó en la Sección 2.2, con el valor del borde (i, j) igual a θji − θij (ya que el valor del intercambio entre i y j es independiente de qué comerciante realizó el intercambio). También utilizaremos el dual de este programa lineal: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Ofertas y Demandas y Optimización del Trader. Primero necesitamos entender qué modelo de oferta utilizaremos. Incluso cuando los bienes son indistinguibles, un comerciante puede querer practicar discriminación de precios y ofrecer diferentes valores de oferta y demanda a diferentes vendedores y compradores. En el caso de bienes distinguibles, tenemos que lidiar con una complicación adicional: el comerciante tiene que nombrar el bien que está proponiendo vender o comprar, y posiblemente ofrecer múltiples productos diferentes. Hay dos variantes de nuestro modelo dependiendo de si un trader hace una única oferta de compra o venta a un vendedor o comprador, o si ofrece un menú de opciones. (i) Un trader t puede ofrecer a un comprador j un menú de ofertas de compra αtji, un vector de valores para todos los productos a los que está conectado, donde αtji es la oferta de compra para el producto del vendedor i. De manera simétrica, un trader t puede ofrecer a cada vendedor i un menú de ofertas de venta βtij para vender a diferentes compradores j. (ii) Alternativamente, podemos requerir que cada trader t pueda hacer como máximo una oferta de compra a cada vendedor y una oferta de venta para cada comprador, y una oferta de compra debe incluir el producto vendido, y una oferta de venta debe ofrecer a un comprador en particular para venderle. Nuestros resultados se mantienen en ambos modelos. Para simplificar la notación, utilizaremos la opción del menú aquí. A continuación, necesitamos entender el problema de optimización de un trader t. Supongamos que tenemos valores de oferta y demanda para todos los demás traders t ∈ T, t = t. ¿Cuáles son las mejores ofertas de compra y venta que el trader t puede hacer como mejor respuesta al conjunto actual de ofertas de compra y venta? Para cada vendedor i, dejemos que pi sea la ganancia máxima que el vendedor i puede obtener utilizando ofertas de otros comerciantes, y asumamos de manera simétrica que pj es la ganancia máxima que el comprador j puede obtener utilizando demandas de otros comerciantes (dejando pi = 0 para cualquier vendedor o comprador i que no pueda obtener ganancias). Ahora considera un par vendedor-comprador (i, j) que el comerciante t puede conectar. El trader t tendrá que hacer una oferta de al menos βtij = θij + pi al vendedor i y un precio de venta de como máximo αtji = θji − pj al comprador j para realizar esta transacción, por lo que la ganancia máxima que puede obtener en esta operación es vtij = αtji − βtij = θji − pj − (θij + pi). El intercambio óptimo para el trader t se obtiene resolviendo un problema de emparejamiento para encontrar la correspondencia entre los vendedores S(t) y compradores B(t) que maximiza el valor total vtij para el trader t. Necesitaremos el dual del programa lineal para encontrar el intercambio de máximo beneficio para el trader t. Utilizaremos qti como la variable dual asociada con la restricción del vendedor o comprador i. El dual es entonces el siguiente problema. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t). Vemos qti como la ganancia obtenida por t al comerciar con el vendedor o comprador i. El Teorema 3.1 resume la discusión anterior. TEOREMA 3.1. Para un trader t, dado las ofertas más bajas βtij y las peticiones más altas αtji que pueden ser aceptadas para los vendedores i ∈ S(t) y compradores j ∈ B(t), el mejor intercambio que t puede hacer es el emparejamiento de valor máximo entre S(t) y B(t) con valor vtij = αtji − βtij para la arista (i, j). Este valor máximo es igual al mínimo del programa lineal dual anterior. 3.2 Comercio eficiente y equilibrio Ahora podemos demostrar que el comercio en equilibrio siempre es eficiente. TEOREMA 3.2. Cada equilibrio resulta en una asignación eficiente de los bienes. Prueba. Considera un equilibrio, con xe = 1 si y solo si el comercio ocurre a lo largo del borde e = (i, j). El comercio es una solución al programa lineal de transbordo utilizado en la Sección 2.2. Que pi denote la ganancia del vendedor o comprador i. Cada operador t actualmente tiene la mejor solución a su propio problema de optimización. Un comerciante t encuentra su intercambio óptimo (dadas las ofertas y demandas de los otros 149 comerciantes) resolviendo un problema de emparejamiento. Que qti para i ∈ B(t)∪S(t) denote la solución dual óptima a este problema de emparejamiento como se describe en el Teorema 3.1. Al configurar el problema de optimización para un trader t anteriormente, usamos pi para denotar la ganancia máxima que puedo obtener sin la oferta del trader t. Tenga en cuenta que este pi es exactamente el mismo pi que usamos aquí, la ganancia del agente i. Esto es claramente cierto para todos los operadores t que no están comerciando con i en el equilibrio. Para ver por qué es cierto para el operador t con el que i está negociando, usamos que el conjunto actual de valores de oferta y demanda es un equilibrio. Si para cualquier agente i la oferta o demanda del trader t fuera la única mejor opción, entonces t podría obtener más beneficios ofreciendo una demanda un poco más alta o una oferta un poco más baja, lo cual sería una contradicción. Mostramos que el intercambio x es óptimo al considerar la solución dual zi = pi + P t qti para todos los agentes i ∈ B ∪ S. Afirmamos que z es una solución dual y satisface la holgura complementaria con el intercambio x. Para ver esto, necesitamos mostrar algunos hechos. Necesitamos que zi > 0 implique que i comercie. Si zi > 0, entonces o bien pi > 0 o qti > 0 para algún trader t. El agente i solo puede obtener ganancias pi > 0 si está involucrado en una transacción. Si qti > 0 para algún t, entonces el trader t debe comerciar con i, ya que su solución es óptima, y por holgura complementaria para la solución dual, qti > 0 implica que t comercia con i. Para un borde (i, j) asociado con un trader t, necesitamos mostrar que la solución dual es factible, es decir, zi + zj ≥ θji − θij. Se recuerda que vtij = θji −pj −(θij +pi), y la restricción dual del problema de optimización de los traders requiere qti + qtj ≥ vtij. Al juntar todo esto, tenemos zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij. Finalmente, necesitamos demostrar que las variables de intercambio x también cumplen la restricción de holgura complementaria: cuando xe > 0 para una arista e = (i, j) entonces la restricción dual correspondiente es activa. Que t sea el comerciante involucrado en la transacción. Por la holgura complementaria del problema de optimización de ts, tenemos qti + qtj = vtij. Para ver que z satisface la holgura complementaria, necesitamos argumentar que para todos los otros comerciantes t = t, tenemos tanto qt i = 0 como qt j = 0. Esto es cierto ya que qt i > 0 implica por la holgura complementaria del problema de optimización de t s que t debe comerciar con i en el óptimo, y t = t está comerciando. A continuación queremos demostrar que siempre existe un equilibrio no cruzado. Llamamos a un equilibrio no cruzado si las ofertas de compra y venta que un trader t hace para un par vendedor-comprador (i, j) nunca se cruzan, es decir, βtij ≤ αtji para todo t, i, j. TEOREMA 3.3. Existe un equilibrio no cruzado que respalda cualquier intercambio socialmente óptimo. Prueba. Considera un intercambio óptimo x y una solución dual z como antes. Para encontrar un equilibrio no cruzado necesitamos dividir la ganancia zi entre i y el comerciante t que negocia con i. Usaremos qti como el beneficio del comerciante asociado con el agente i para cualquier i ∈ S(t) ∪ B(t). Necesitaremos garantizar las siguientes propiedades: El comerciante t comercia con el agente i siempre que qti > 0. Esta es una de las condiciones de holgura complementaria para asegurar que el intercambio actual sea óptimo para el trader t. Para todos los pares vendedor-comprador (i, j) con los que un trader t puede comerciar, tenemos que pi + qti + pj + qtj ≥ θji − θij, (1) lo cual asegurará que qt sea una solución dual factible para el problema de optimización al que se enfrenta el trader t. Necesitamos tener igualdad en (1) cuando el trader t está comerciando entre i y j. Esta es una de las condiciones de holgura complementaria para el trader t, y garantizará que el intercambio de t sea óptimo para el trader. Finalmente, queremos organizar que cada agente i con pi > 0 tenga múltiples ofertas para obtener ganancias pi, y que el intercambio se realice en una de sus mejores ofertas. Para garantizar esto en las ofertas y demandas correspondientes, necesitamos asegurarnos de que siempre que pi > 0 haya múltiples t ∈ adj(i) que cumplan con la ecuación en la restricción anterior (1). Comenzamos estableciendo pi = zi para todo i ∈ S ∪ B y qti = 0 para todo i ∈ S ∪ B y traders t ∈ adj(i). Esto garantiza todos los invariantes excepto la última propiedad sobre múltiples t ∈ adj(t) teniendo igualdad en (1). Modificaremos p y q para aplicar gradualmente la última condición, manteniendo las demás. Considera un vendedor con pi > 0. Por la optimalidad del intercambio y la solución dual z, el vendedor i debe comerciar con algún comerciante t, y ese comerciante tendrá igualdad en (1) para el comprador j con el que se empareja i. Si este es el único operador t que tiene una restricción estricta en (1) que involucra al vendedor i, entonces aumentamos qti y disminuimos pi hasta que pi = 0 o hasta que otro operador t = t logre la igualdad en (1) para algún borde del comprador adyacente a i (posiblemente un comprador diferente j). Este cambio mantiene todas las invariantes y aumenta el conjunto de vendedores que también cumplen con la última restricción. Podemos hacer un cambio similar para un comprador j que tiene pj > 0 y solo tiene un operador t con una restricción ajustada (1) adyacente a j. Después de posiblemente repetir esto para todos los vendedores y compradores, obtenemos ganancias que satisfacen todas las restricciones. Ahora obtenemos los valores de oferta y demanda de equilibrio de la siguiente manera. Para un operador t que tiene igualdad para el par vendedor-comprador (i, j) en (1), ofrecemos αtji = θji − pj y βtij = θij + pi. Para todos los demás comerciantes t y pares de vendedor-comprador (i, j) tenemos el invariante (1), y utilizando esto sabemos que podemos elegir un valor γ en el rango θij +pi+qti ≥ γ ≥ θji − (pj + qtj). Ofrecemos valores de oferta y demanda βtij = αtji = γ. Ni la oferta ni la demanda serán la única mejor oferta para el comprador, por lo tanto, el intercambio x sigue siendo un equilibrio. 3.3 Ganancias del Trader Finalmente, nos enfocamos en el objetivo de comprender, en el caso de los traders generales, cómo se ve afectada la ganancia de un trader por su posición en la red. Primero, mostramos cómo maximizar la ganancia total de un grupo de comerciantes. La ganancia del comerciante t en un equilibrio es P i qti. Para encontrar la ganancia máxima posible para un trader t o un conjunto de traders T, necesitamos hacer lo siguiente: Encontrar ganancias pi ≥ 0 y qti > 0 de manera que zi = pi + P t∈adj(i) qti sea una solución dual óptima, y también cumpla con las restricciones (1) para cualquier vendedor i y comprador j conectados a través de un trader t ∈ T. Ahora, sujeto a todas estas condiciones, maximizamos la suma P t∈T P i∈S(t)∪B(t) qti. Ten en cuenta que esta maximización es una función objetivo secundaria con respecto al objetivo principal de que z sea una solución dual óptima. Luego usamos la prueba del Teorema 3.3 que muestra cómo convertir esto en un equilibrio. TEOREMA 3.4. El valor máximo para P t∈T P i qti anterior es la máxima ganancia que el conjunto T de comerciantes puede obtener. Prueba. Por la demostración del Teorema 3.2, las ganancias del comerciante t pueden ser escritas en esta forma, por lo que el conjunto de comerciantes T no puede obtener más ganancias de las reclamadas en este teorema. Para ver que T realmente puede obtener tantas ganancias, usamos la prueba del Teorema 3.3. Modificamos esa prueba para empezar con los vectores de ganancias p y qt para t ∈ T, y establecemos qt = 0 para todos los traders t ∈ T. Verificamos que esta solución inicial cumple con las tres primeras de las cuatro propiedades requeridas, y luego podemos seguir la demostración para hacer que la cuarta propiedad sea verdadera. Omitimos los detalles de esto en la versión actual. En la Sección 2.3 demostramos que en el caso de los traders de pares, un trader t puede ganar dinero si es esencial para el comercio eficiente. Esto no es 150 1 1 Figura 3: El comerciante principal es esencial para el bienestar social. Sin embargo, el único equilibrio es tener valores de oferta y demanda iguales a 0, y el comerciante no obtiene beneficios. Esto es cierto para el tipo de comerciantes más generales que consideramos aquí, como se muestra en el ejemplo de la Figura 3. Sin embargo, aún obtenemos una caracterización de cuándo un comerciante t puede obtener una ganancia positiva. TEOREMA 3.5. Un comerciante t puede obtener ganancias en un equilibrio si y solo si hay un vendedor o comprador i adyacente a t tal que la conexión del comerciante t con el agente i es esencial para el bienestar social, es decir, si eliminar al agente t de adj(i) disminuye el valor de la asignación óptima. Prueba. Primero mostramos la dirección en la que si un comerciante t puede ganar dinero, debe haber un agente i tal que la conexión de t con i sea esencial para el bienestar social. Sean p, q las ganancias en un equilibrio donde t gana dinero, como se describe en el Teorema 3.2 con P i∈S(t)∪B(t) qti > 0. Así que tenemos un agente i con qti > 0. Sostenemos que la conexión entre el agente i y el comerciante t debe ser esencial, en particular, sostenemos que el bienestar social debe disminuir al menos en qti si eliminamos t de adj(t). Para ver por qué, observe que al disminuir el valor de todas las aristas de la forma (i, j) asociadas con el comerciante t en qti, se mantiene el mismo óptimo de comercio, ya que obtenemos una solución dual de emparejamiento simplemente restableciendo qti a cero. Para ver lo contrario, suponga que eliminar t de adj(t) disminuye el bienestar social en algún valor γ. Supongamos que i es un vendedor (el caso de los compradores es simétrico), y disminuye en γ el valor social de cada arista (i, j) para cualquier comprador j tal que t sea el único agente que conecta a i y j. Por supuesto, el intercambio sigue siendo óptimo y dejamos que z sea la solución dual para esta correspondencia. Ahora utilizamos el mismo proceso que en la demostración del Teorema 3.3 para crear un equilibrio no cruzado comenzando con pi = zi para todo i ∈ S ∪ B, y qti = γ, y todos los demás valores de q igual a 0. Esto crea un equilibrio con ofertas que no se cruzan, donde t obtiene al menos γ de beneficio (debido al intercambio con el vendedor i). Finalmente, si permitimos el cruce de equilibrios, entonces podemos encontrar la ganancia mínima posible simplemente encontrando una solución dual que minimice las variables duales asociadas con los agentes monopolizados por algún comerciante. TEOREMA 3.6. Para cualquier trader t o subconjunto de traders T, la ganancia total mínima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. 4. REFERENCIAS [1] M. Babaioff, N. Nisan, E. Pavlov. Mecanismos para un mercado distribuido espacialmente. Conferencia ACM EC, 2005. [2] C. Barrett, E. Mutambatsere. Mercados agrícolas en países en desarrollo. El Nuevo Diccionario de Economía de Palgrave, 2da edición, próximo a publicarse. [3] Kenneth Burdett y Kenneth Judd. Dispersión del precio de equilibrio. Econometrica, 51/4, julio de 1983, 955-969. [4] L. Chu, Z.-J. I'm sorry, but \"Shen\" is not a sentence. Can you please provide a sentence for me to translate into Spanish? Mecanismo de subasta doble de competencia de agentes. Ciencia de la Gestión, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor. Subastas de varios artículos. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Econ. Política 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri. Un juego de formación de redes para economías de intercambio bipartitas. Simposio ACM-SIAM sobre Algoritmos Discretos (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald. Precios dinámicos por agentes de software. Redes de Computadoras, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri. Propiedades económicas de las redes sociales. NIPS 2004. [9] R. Kranton, D. Minehart. \n\nNIPS 2004. [9] R. Kranton, D. Minehart. Una teoría de redes de comprador-vendedor. American Economic Review 91(3), junio de 2001. [10] H. Leonard. Elicitación de preferencias honestas para la asignación de individuos a posiciones. J. Pol. Econ, 1983. [11] M. E. J. Newman. \n\nEcon, 1983. [11] M. E. J. Newman. La estructura y función de redes complejas. SIAM Review, 45:167-256, 2003. [12] M. OHara. \n\nRevista SIAM, 45:167-256, 2003. [12] M. OHara. Teoría de la Microestructura del Mercado. Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.\nEditorial Blackwell, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, El juego de asignación I: El núcleo. Internacional. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Teoría de Juegos 1/2 111-130, 1972. [14] Jean Tirole. La Teoría de la Organización Industrial. El MIT Press, Cambridge, MA, 1988. 151 ",
            "candidates": [],
            "error": [
                []
            ]
        },
        "maximum and minimum amount": {
            "translated_key": "cantidades máximas y mínimas",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the <br>maximum and minimum amount</br>s that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [
                "However, we are able to characterize the <br>maximum and minimum amount</br>s that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this."
            ],
            "translated_annotated_samples": [
                "Sin embargo, somos capaces de caracterizar las <br>cantidades máximas y mínimas</br> que un operador dado puede obtener, donde estos máximos y mínimos se toman sobre todos los equilibrios, y proporcionamos un algoritmo eficiente para calcular esto."
            ],
            "translated_text": "Redes de intercambio con agentes que fijan precios Larry Blume Dept. En una amplia gama de mercados, los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, quienes determinan los precios mediante consideraciones estratégicas. Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el mercado. Modelamos este fenómeno utilizando un juego en el que compradores, vendedores e intermediarios participan en transacciones en un gráfico que representa el acceso que cada comprador y vendedor tiene a los intermediarios. En este modelo, los comerciantes establecen precios estratégicamente, y luego los compradores y vendedores reaccionan a los precios que se les ofrecen. Mostramos que el juego resultante siempre tiene un equilibrio de Nash perfecto en subjuegos, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. Extendemos estos resultados a un tipo más general de mercado de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores. Finalmente, consideramos cómo los beneficios obtenidos por los comerciantes dependen del grafo subyacente: en resumen, un comerciante puede obtener un beneficio positivo si y solo si tiene una conexión esencial en la estructura de la red, proporcionando así una base teórica de grafos para cuantificar la cantidad de competencia entre los comerciantes. Nuestro trabajo difiere de los estudios recientes sobre cómo el precio se ve afectado por la estructura de la red a través de nuestro modelado del establecimiento de precios como una actividad estratégica realizada por un subconjunto de agentes en el sistema, en lugar de estudiar precios establecidos a través de un equilibrio competitivo o por un mecanismo veraz. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1. INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio. Un ejemplo de esta configuración es el comercio de productos agrícolas en países en desarrollo. Dada la falta de redes de transporte adecuadas y el limitado acceso de los agricultores pobres al capital, muchos agricultores no tienen otra alternativa que comerciar con intermediarios en mercados locales ineficientes. Un país en desarrollo puede tener muchos mercados parcialmente superpuestos que coexisten junto a mercados modernos y eficientes. Los mercados financieros proporcionan un ejemplo diferente de un entorno con estas características generales. En estos mercados, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de mercado y sistemas de negociación electrónica. Para muchos activos no hay un único mercado; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en mercados de otros países. Algunos compradores y vendedores tienen acceso a muchos o a todos estos lugares de negociación; otros solo tienen acceso a uno o a unos pocos de ellos. El precio al que se negocia el activo puede variar en estos lugares de negociación. De hecho, no hay un precio fijo ya que diferentes comerciantes pagan o reciben precios diferentes. En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el precio de compra. Uno de los ejemplos más llamativos de este fenómeno ocurre en el mercado de divisas, donde existe un mercado interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto. Los spreads, definidos como la diferencia entre los precios de oferta y demanda, difieren significativamente en estos mercados, a pesar de que el mismo activo se está negociando en ambos mercados. En este artículo, desarrollamos un marco en el que tales fenómenos surgen de un modelo de comercio basado en teoría de juegos, con compradores, vendedores e intermediarios interactuando en una red. Los bordes de la red conectan a los comerciantes con los compradores y vendedores, y por lo tanto representan el acceso que tienen los diferentes participantes del mercado entre sí. Los comerciantes actúan como intermediarios en un juego de comercio de dos etapas: eligen estratégicamente los precios de oferta y demanda para ofrecer a los vendedores y compradores a los que están conectados; luego, los vendedores y compradores reaccionan a los precios que enfrentan. Por lo tanto, la red codifica el poder relativo en las posiciones estructurales de los participantes del mercado, incluyendo los niveles implícitos de competencia entre los traders. Mostramos que este juego siempre tiene un equilibrio de Nash perfecto en subjuegos de 143, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. También analizamos cómo los beneficios de los operadores dependen de la estructura de la red, caracterizando esencialmente en términos de teoría de grafos cómo se determina el pago de un operador por la cantidad de competencia que experimenta con otros operadores. Nuestro trabajo aquí está conectado a varias líneas de investigación en economía, finanzas y teoría de juegos algorítmica, y discutimos estas conexiones con más detalle más adelante en la introducción. A un nivel general, nuestro enfoque puede ser visto como la síntesis de dos importantes corrientes de trabajo: una que trata la interacción comprador-vendedor utilizando estructuras de red, pero sin intentar modelar los procesos mediante los cuales los precios son realmente formados [1, 4, 5, 6, 8, 9, 10, 13]; y otra corriente en la literatura sobre microestructura de mercado que incorpora intermediarios en la fijación de precios, pero sin restricciones de tipo red sobre quién puede comerciar con quién [12]. Al desarrollar un modelo de red que incluye explícitamente a los comerciantes como agentes que establecen precios, en un sistema junto con compradores y vendedores, podemos capturar la formación de precios en un entorno de red como un proceso estratégico llevado a cabo por intermediarios, en lugar de como resultado de un mecanismo centralizado o exógeno. El Modelo Básico: Bienes Indistinguibles. Nuestro objetivo al formular el modelo es expresar el proceso de fijación de precios en mercados como los discutidos anteriormente, donde los participantes no tienen todos acceso uniforme entre sí. Se nos da un conjunto B de compradores, un conjunto S de vendedores y un conjunto T de traders. Hay un grafo no dirigido G que indica quién puede comerciar con quién. Todos los bordes tienen un extremo en B ∪ S y el otro en T; es decir, cada borde tiene la forma (i, t) para i ∈ S y t ∈ T, o (j, t) para j ∈ B y t ∈ T. Esto refleja las restricciones de que todas las transacciones entre compradores y vendedores pasan por los intermediarios comerciales. En la versión más básica del modelo, consideramos bienes idénticos, de los cuales cada vendedor inicialmente posee una copia. Los compradores y vendedores tienen un valor para una copia del bien, y asumimos que estos valores son de conocimiento común. Posteriormente generalizaremos esto a un escenario en el que los bienes son distinguibles, los compradores pueden valorar los diferentes bienes de manera diferente y, potencialmente, los vendedores también pueden valorar las transacciones con diferentes compradores de manera diferente. Tener diferentes valoraciones de los compradores captura escenarios como las compras de viviendas; agregar diferentes valoraciones de los vendedores también captura mercados de coincidencia, por ejemplo, vendedores como solicitantes de empleo y compradores como empleadores, ambos preocupados por quién termina con qué bien (y con los comerciantes actuando como servicios que facilitan la búsqueda de empleo). Por lo tanto, para comenzar con el modelo básico, hay un solo tipo de bien; el bien viene en unidades indivisibles; y cada vendedor inicialmente posee una unidad del bien. Todos los tres tipos de agentes valoran el dinero a la misma tasa; y cada i ∈ B ∪ S valora adicionalmente una copia del bien en θi unidades de dinero. Ningún agente quiere más de una copia del bien, por lo que las copias adicionales se valoran en 0. Cada agente tiene una dotación inicial de dinero que es mayor que cualquier valoración individual θi; el efecto de esto es garantizar que cualquier comprador que termine sin una copia del bien ha sido excluido del mercado debido a su valoración y posición en la red, no a la falta de fondos. Nos imaginamos que cada bien que se vende fluye a lo largo de una secuencia de dos etapas: desde un vendedor a un comerciante, y luego del comerciante a un comprador. La forma particular en la que fluyen los bienes está determinada por el siguiente juego. Primero, cada comerciante ofrece un precio de oferta a cada vendedor al que está conectado, y un precio de demanda a cada comprador al que está conectado. Los vendedores y compradores luego eligen entre las ofertas presentadas por los comerciantes. Si varios comerciantes proponen el mismo precio a un vendedor o comprador, entonces no hay una mejor respuesta estricta para el vendedor o comprador. En este caso se debe hacer una selección, y, como es habitual (ver por ejemplo [10]), nosotros (los modeladores) elegimos entre las mejores ofertas. Finalmente, cada comerciante compra una copia del bien de cada vendedor que acepta su oferta, y vende una copia del bien a cada comprador que acepta su oferta. Si un comerciante en particular, t, descubre que más compradores que vendedores aceptan sus ofertas, entonces se ha comprometido a proporcionar más copias del bien de las que ha recibido, y diremos que esto resulta en una gran penalización para el comerciante por incumplimiento; el efecto de esto es que en equilibrio, ningún comerciante elegirá precios de oferta y demanda que resulten en un incumplimiento. Más precisamente, una estrategia para cada operador t es una especificación de un precio de oferta βti para cada vendedor i al que t está conectado, y un precio de demanda αtj para cada comprador j al que t está conectado. (También podemos manejar un modelo en el que un operador puede optar por no hacer una oferta a ciertos de sus vendedores o compradores adyacentes). Cada vendedor o comprador elige como máximo una arista incidente, indicando el comerciante con quien realizarán la transacción, al precio indicado. (La elección de una sola arista refleja el hecho de que (a) los vendedores inicialmente solo tienen una copia del bien, y (b) los compradores solo desean una copia del bien). Las ganancias son las siguientes: Para cada vendedor i, la ganancia de seleccionar al comerciante t es βti, mientras que la ganancia de no seleccionar a ningún comerciante es θi. (En el primer caso, el vendedor recibe βti unidades de dinero, mientras que en el segundo caso conserva su copia del bien, al que valora en θi). Para cada comprador j, la ganancia de seleccionar al comerciante t es θj - αtj, mientras que la ganancia de no seleccionar a ningún comerciante es 0. (En el primer caso, el comprador recibe el bien pero renuncia a αtj unidades de dinero). Para cada operador t, con ofertas aceptadas de vendedores i1, . . . , is y compradores j1, . . . , jb, la ganancia es P r αtjr − P r βtir, menos una penalización π si b > s. La penalización se elige lo suficientemente grande para que un operador nunca la sufra en equilibrio, por lo que generalmente no nos preocuparemos por la penalización. Esto define los elementos básicos del juego. El concepto de equilibrio que utilizamos es el equilibrio de Nash perfecto en subjuegos. Algunos ejemplos. Para ayudar a pensar en el modelo, ahora describimos tres ejemplos ilustrativos, representados en la Figura 1. Para evitar que las figuras se vuelvan demasiado desordenadas, adoptamos las siguientes convenciones: los vendedores se representan como círculos en la columna más a la izquierda y se les asigna el nombre i1, i2, ... de arriba abajo; los comerciantes se representan como cuadrados en la columna del medio y se les asigna el nombre t1, t2, ... de arriba abajo; y los compradores se representan como círculos en la columna más a la derecha y se les asigna el nombre j1, j2, ... de arriba abajo. Todos los vendedores en los ejemplos tendrán valoraciones para el bien iguales a 0; la valoración de cada comprador se dibuja dentro de su círculo; y el precio de oferta o demanda en cada borde se dibuja encima del borde. En la Figura 1(a), mostramos cómo una subasta estándar de segundo precio surge naturalmente de nuestro modelo. Supongamos que las valoraciones de los compradores de mayor a menor son w > x > y > z. Los precios de oferta y demanda mostrados son consistentes con un equilibrio en el que i1 y j1 aceptan las ofertas del trader t1, y ningún otro comprador acepta la oferta de su trader adyacente: así, el trader t1 recibe el bien con un precio de oferta de x, y gana w − x al vender el bien al comprador j1 por w. De esta manera, podemos considerar esta instancia particular como una subasta para un bien único en la que los traders actúan como representantes de sus compradores adyacentes. El comprador con la valoración más alta para el bien termina adquiriéndolo, y el excedente se divide entre el vendedor y el comerciante asociado. Se debe tener en cuenta que se puede construir una subasta de k unidades con > k compradores con la misma facilidad, creando un grafo bipartito completo con k vendedores y comerciantes, y luego conectando a cada comerciante con un único comprador distinto. En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales. Específicamente, el vendedor i2 y el comprador j2 ocupan posiciones poderosas, ya que los dos comerciantes compiten por su negocio; por otro lado, los otros vendedores y compradores se encuentran en posiciones débiles, ya que cada uno tiene solo una opción. Y de hecho, en cada equilibrio, hay un número real x ∈ [0, 1] tal que ambos comerciantes ofrecen precios de oferta y demanda de x a i2 y j2 respectivamente, mientras ofrecen ofertas de 0 y demandas de 1 a los otros vendedores y compradores. Por lo tanto, este ejemplo ilustra algunos ingredientes cruciales que identificaremos a un nivel más general en breve. Específicamente, i2 y j2 experimentan los beneficios de la competencia perfecta, ya que los dos comerciantes reducen los márgenes de oferta y demanda a 0 al competir por su negocio. Por otro lado, los otros vendedores y compradores experimentan las desventajas del monopolio: no reciben ninguna ganancia ya que solo tienen una opción para comerciar, y el comerciante correspondiente se queda con todas las ganancias. Observa además cómo este comportamiento natural surge del hecho de que los comerciantes pueden ofrecer diferentes precios a diferentes agentes, capturando el hecho de que no hay un precio fijo en los tipos de mercados que motivan el modelo, sino diferentes precios que reflejan el poder relativo de los diferentes agentes involucrados. El ejemplo anterior muestra quizás la forma más natural en la que la ganancia de un comerciante en una transacción particular puede caer a 0: cuando hay otro comerciante que puede replicar su función de manera precisa. (En ese ejemplo, dos comerciantes tenían la capacidad de mover una copia del bien de i2 a j2). Pero como mostrarán nuestros resultados posteriores, los comerciantes no obtienen ganancias en general debido a razones globales y teóricas de grafos. El ejemplo en la Figura 1(c) da una indicación inicial de esto: se puede demostrar que para cada equilibrio, existe un y ∈ [0, 1] tal que cada oferta y cada precio de demanda es igual a y. En otras palabras, todos los comerciantes no obtienen beneficios, ya sea que pase por ellos una copia del bien o no, y sin embargo, ningún par de comerciantes comparte rutas de vendedor-comprador en común. Los márgenes de precios se han reducido a cero debido a una restricción global impuesta por el largo ciclo a través de todos los agentes; este es un ejemplo de competencia perfecta implícita determinada por la topología de la red. Extendiendo el modelo para bienes distinguibles. Extendemos el modelo básico a un escenario con bienes distinguibles, de la siguiente manera. En lugar de que cada agente i ∈ B ∪ S tenga una única valoración numérica θi, indexamos las valoraciones por pares de compradores y vendedores: si el comprador j obtiene el bien inicialmente poseído por el vendedor i, obtiene una utilidad de θji, y si el vendedor i vende su bien al comprador j, experimenta una pérdida de utilidad de θij. Esto generaliza el caso de bienes indistinguibles, ya que siempre podemos hacer que estas valoraciones por pares dependan solo de uno de los índices. Una estrategia para un trader ahora consiste en ofrecer una oferta a cada vendedor que especifique tanto un precio como un comprador, y ofrecer una demanda a cada comprador que especifique tanto un precio como un vendedor. (También podemos manejar un modelo en el que un trader ofrece ofertas (respectivamente, demandas) en forma de vectores, especificando esencialmente un menú con un precio adjunto a cada comprador (resp. vendedor).) Cada comprador y vendedor selecciona una oferta de un comerciante adyacente, y los pagos a todos los agentes se determinan como antes. Este marco general captura los mercados de emparejamiento [10, 13]: por ejemplo, un mercado laboral que es mediado por agentes o servicios de búsqueda de empleo (como en la contratación de ejecutivos corporativos, o figuras del deporte o del entretenimiento). Aquí los vendedores son solicitantes de empleo, los compradores son empleadores y los comerciantes son los agentes que median en el mercado laboral. Por supuesto, si se especifican valoraciones por pares en los compradores pero solo valoraciones individuales para los vendedores, modelamos un escenario donde los compradores pueden distinguir entre los bienes, pero a los vendedores no les importa a quién venden, esto captura (aproximadamente) escenarios como los mercados de vivienda. Nuestros resultados. Nuestros resultados identificarán formas generales de algunos de los principios mencionados en los ejemplos discutidos anteriormente, incluyendo la pregunta de qué compradores terminan con el bien; la pregunta de cómo los pagos son realizados de manera diferente por vendedores, comerciantes y compradores; y la pregunta de qué propiedades estructurales de la red determinan si los comerciantes obtendrán beneficios positivos. Para hacer esto preciso, introducimos la siguiente notación. Cualquier resultado del juego determina una asignación final de bienes a algunos de los agentes; esto puede ser especificado por una colección M de triples (es decir, te, je), donde ie ∈ S, te ∈ T y je ∈ B; además, cada vendedor y cada comprador aparece en a lo sumo un triple. El significado es que para cada e ∈ M, el bien inicialmente poseído por ie se transfiere a je a través de te. (Los vendedores que no aparecen en ningún trío conservan su copia del bien). Decimos que el valor de la asignación es igual a P e∈M θjeie − θieje. Que θ∗ denote el valor máximo de cualquier asignación M que sea factible dada la red. Mostramos que cada instancia de nuestro juego tiene un equilibrio, y que en cada uno de estos equilibrios, la asignación tiene un valor de θ∗ 145, en otras palabras, logra el mejor valor posible. Por lo tanto, los equilibrios en este modelo son siempre eficientes, ya que el mercado permite que el conjunto correcto de personas obtenga el bien, sujeto a las restricciones de la red. Establecemos la existencia y eficiencia de los equilibrios mediante la construcción de un programa lineal para capturar el flujo de bienes a través de la red; el dual de este programa lineal contiene suficiente información para extraer los precios de equilibrio. Según la definición del juego, el valor de la asignación de equilibrio se divide en forma de pagos a los agentes, y resulta interesante preguntarse cómo se distribuye este valor, en particular cuánta ganancia puede obtener un trader según su posición en la red. Observamos que, aunque todos los equilibrios tienen el mismo valor, la ganancia de un trader dado puede variar entre diferentes equilibrios. Sin embargo, somos capaces de caracterizar las <br>cantidades máximas y mínimas</br> que un operador dado puede obtener, donde estos máximos y mínimos se toman sobre todos los equilibrios, y proporcionamos un algoritmo eficiente para calcular esto. En particular, nuestros resultados aquí implican una caracterización combinatoria clara de cuándo un trader dado t puede lograr un beneficio distinto de cero: esto ocurre si y solo si hay algún borde e incidente en t que es esencial, en el sentido de que eliminar e reduce el valor de la asignación óptima θ∗. También obtenemos resultados para la suma de todas las ganancias de los operadores. Trabajo relacionado. El enfoque estándar de referencia para analizar la interacción entre compradores y vendedores es el modelo walrasiano en el que compradores y vendedores anónimos intercambian un bien a un único precio de equilibrio de mercado. Esta forma reducida de comercio, basada en la idealización de un precio de mercado, es un modelo poderoso que ha dado lugar a muchas ideas. Pero no es un buen modelo para examinar de dónde vienen los precios o exactamente cómo compradores y vendedores comercian entre sí. La dificultad es que en el modelo walrasiano no hay un agente que fije el precio, y los agentes en realidad no comercian entre sí. De hecho, no hay un mercado, en el sentido cotidiano de esa palabra, en el modelo walrasiano. Es decir, no hay un lugar físico o virtual donde los compradores y vendedores interactúen para comerciar y establecer precios. Por lo tanto, en este modelo simple, todos los compradores y vendedores son uniformes y comercian al mismo precio, y tampoco hay un papel para intermediarios. Hay varias literaturas en economía y finanzas que examinan cómo se fijan los precios en lugar de simplemente determinar los precios de equilibrio. La literatura sobre competencia imperfecta es quizás la más antigua de todas. Aquí un monopolista, o un grupo de oligopolistas, eligen los precios con el fin de maximizar sus ganancias (ver [14] para el tratamiento estándar de estos mercados en los libros de texto). Un monopolista utiliza su conocimiento de la demanda del mercado para elegir un precio, o una colección de precios si discrimina. Los oligopolistas juegan un juego en el que sus ganancias dependen de la demanda del mercado y las acciones de sus competidores. En esta literatura hay agentes que fijan precios, pero se mantiene la ficción de un solo mercado. En la literatura de búsqueda de equilibrio, las empresas establecen precios y los consumidores los buscan (ver [3]). Los consumidores terminan pagando precios diferentes, pero todos los consumidores tienen acceso a todas las empresas y no hay intermediarios. En la literatura de equilibrio general ha habido varios intentos de introducir la determinación de precios. Una técnica de prueba estándar para la existencia de un equilibrio competitivo implica un mecanismo de ajuste de precios en el que los precios responden a la demanda excesiva. El subastador walrasiano suele ser presentado como un dispositivo para explicar cómo funciona este proceso, pero en realidad es fundamentalmente una metáfora de un algoritmo iterativo de actualización de precios, no de los detalles internos de un mercado real. Se han introducido procesos más sofisticados para estudiar la estabilidad de los precios de equilibrio o la información necesaria para calcularlos. Pero de nuevo no hay agentes que fijen los precios aquí. En la literatura financiera, el trabajo sobre microestructura de mercado sí tiene agentes que fijan precios (especialistas), algunas partes de él determinan precios de oferta y demanda separados, y diferentes agentes reciben precios distintos por el mismo activo (ver [12] para un tratamiento de la teoría de microestructura). El trabajo en economía de la información ha identificado fenómenos similares (ver por ejemplo [7]). Pero hay poca investigación en estas literaturas que examine el efecto de las restricciones sobre quién puede comerciar con quién. Ha habido varios enfoques para estudiar cómo la estructura de la red determina los precios. Estos han planteado la determinación de precios a través de definiciones basadas en el equilibrio competitivo o el núcleo, o mediante el uso de mecanismos veraces. Al revisar brevemente este trabajo, notaremos el contraste con nuestro enfoque, ya que modelamos los precios como resultado del comportamiento estratégico de los agentes en el sistema. En un trabajo reciente, Kakade et al. [8] han estudiado la distribución de precios en equilibrio competitivo en un grafo bipartito de compradores y vendedores, generado utilizando un modelo probabilístico capaz de producir distribuciones de grados con colas pesadas [11]. Even-Dar et al. [6] se basan en esto para considerar los aspectos estratégicos de la formación de redes cuando los precios surgen del equilibrio competitivo. Leonard [10], Babaioff et al. [1], y Chu y Shen [4] consideran un enfoque basado en el diseño de mecanismos: los compradores y vendedores residen en nodos diferentes en un grafo, y incurren en un costo de transporte dado para comerciar entre sí. Leonard estudia los precios de VCG en este contexto; Babaioff et al. y Chu y Shen además proporcionan un mecanismo equilibrado en presupuesto. Dado que la preocupación aquí radica en mecanismos veraces que operan sobre valoraciones privadas, existe un compromiso inherente entre la eficiencia de la asignación y la condición de equilibrio presupuestario. Por el contrario, nuestro modelo tiene valoraciones y precios conocidos que surgen del comportamiento estratégico de los operadores. Por lo tanto, las suposiciones detrás de nuestro modelo no son directamente comparables a las que subyacen en el enfoque del diseño de mecanismos: aunque asumimos valoraciones conocidas, no requerimos una autoridad centralizada para imponer un mecanismo. Más bien, la fijación de precios es parte del resultado estratégico, como en los mercados reales que motivan nuestro trabajo, y nuestros equilibrios son simultáneamente equilibrados en términos presupuestarios y eficientes, algo que no es posible en los marcos de diseño de mecanismos que se han utilizado. Demange, Gale y Sotomayor [5], y Kranton y Minehart [9], analizan los precios a los que se produce el comercio en una red, trabajando dentro del marco del diseño de mecanismos. Kranton y Minehart utilizan un grafo bipartito con enlaces directos entre compradores y vendedores, y luego emplean un mecanismo de subasta ascendente, en lugar de intermediarios estratégicos, para determinar los precios. Su subasta tiene propiedades de equilibrio deseables, pero como señalan Kranton y Minehart, es una abstracción de cómo se asignan los bienes y se determinan los precios que es similar en espíritu a la abstracción del subastador walrasiano. De hecho, podemos mostrar cómo el modelo básico de Kranton y Minehart puede ser codificado como una instancia de nuestro juego, con los comerciantes produciendo precios en equilibrio que coinciden con los precios producidos por su mecanismo de subasta. Finalmente, los resultados clásicos de Shapley y Shubik [13] sobre el juego de asignación pueden ser vistos como el estudio del resultado del comercio en un grafo bipartito en términos del núcleo. Estudian el dual de un programa lineal basado en el problema de emparejamiento, similar a lo que usamos para una versión reducida de nuestro modelo en la siguiente sección, pero su enfoque es diferente ya que no consideran agentes que buscan establecer precios. 2. MERCADOS CON OPERADORES DE PAREJAS Para comprender las ideas detrás del análisis del modelo general, es muy útil considerar primero un caso especial con un re1 Kranton y Minehart, sin embargo, también pueden analizar un entorno más general en el que los valores de los compradores son privados y, por lo tanto, compradores y vendedores juegan un juego de información incompleta. Solo trabajamos con información completa. 146 forma restringida de comerciantes a los que nos referimos como operadores de pares. En este caso, cada comerciante está conectado a solo un comprador y un vendedor. (Por lo tanto, sirve esencialmente como una ruta comercial entre los dos). Las técnicas que desarrollamos para manejar este caso formarán una base útil para razonar sobre el caso de los comerciantes que pueden estar conectados arbitrariamente a los vendedores y compradores. Relacionaremos las ganancias en un equilibrio de Nash perfecto en subjuegos con las soluciones óptimas de un cierto programa lineal, utilizaremos esta relación para demostrar que todos los equilibrios resultan en una asignación eficiente de los bienes, y mostraremos que siempre existe un equilibrio puro. Primero, consideramos el modelo más simple donde los vendedores tienen artículos indistinguibles, y cada comprador está interesado en obtener un artículo. Luego extendemos los resultados al caso más general de un mercado de emparejamiento, como se discutió en la sección anterior, donde las valoraciones dependen de la identidad del vendedor y comprador. Luego caracterizamos las ganancias mínimas y máximas que los comerciantes pueden obtener. En la siguiente sección, extendemos los resultados a los operadores que pueden estar conectados a cualquier subconjunto de vendedores y compradores. Dado que estamos trabajando con operadores de pares en esta sección, podemos representar el problema utilizando un grafo bipartito G cuyo conjunto de nodos es B ∪ S, y donde cada operador t, conectando al vendedor i y al comprador j, aparece como una arista t = (i, j) en G. Sin embargo, cabe destacar que permitimos que múltiples operadores conecten el mismo par de agentes. Para cada comprador y vendedor i, usaremos adj(i) para denotar el conjunto de comerciantes que pueden comerciar con i. 2.1 Bienes Indistinguibles El intercambio socialmente óptimo para el caso de bienes indistinguibles es la solución del problema de transporte: enviar bienes a lo largo de los bordes que representan a los comerciantes. Las aristas a lo largo de las cuales ocurre el comercio corresponden a un emparejamiento en este grafo bipartito, y el comercio óptimo está descrito por el siguiente programa lineal. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B A continuación, consideramos un equilibrio. Cada operador t = (i, j) debe ofrecer una oferta βt y una demanda αt. (Omitimos el subíndice que denota al vendedor y comprador aquí, ya que estamos tratando con operadores en pares). Dado el precio de oferta y demanda, los agentes reaccionan a estos precios, como se describió anteriormente. En lugar de enfocarnos en los precios, nos enfocaremos en las ganancias. Si un vendedor i vende a un comerciante t ∈ adj(i) con una oferta βt, entonces su ganancia es pi = βt − θi. De manera similar, si un comprador j compra a un comerciante t ∈ adj(j) con una oferta αt, entonces su ganancia es pj = θj − αt. Finalmente, si un comerciante t opera con la oferta αt y la demanda βt, entonces su ganancia es yt = αt − βt. Todos los agentes que no están involucrados en el comercio no obtienen ganancias. Demostraremos que las ganancias en equilibrio son una solución óptima para el siguiente programa lineal. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMA 2.1. En el equilibrio, los beneficios deben satisfacer las desigualdades anteriores. Prueba. Claramente, todas las ganancias son no negativas, ya que el comercio es opcional para todos los agentes. Para ver por qué se cumplen el último conjunto de desigualdades, considera dos casos por separado. Para un comerciante t que realizó un intercambio, obtenemos igualdad por definición. Para otros comerciantes t = (i, j), el valor pi + θi es el precio al que el vendedor i vendió (o θi si el vendedor i decidió quedarse con el bien). Ofrecer una oferta βt > pi + θi haría que el vendedor vendiera al comerciante t. De manera similar, θj − pj es el precio al que el comprador j compró (o θj si no compró), y para cualquier oferta αt < θj − pj, el comprador comprará al comerciante t. Por lo tanto, a menos que θj − pj ≤ θi + pi, el comerciante tiene una desviación rentable. Ahora estamos listos para demostrar nuestro primer teorema: TEOREMA 2.2. En cualquier equilibrio, el comercio es eficiente. Prueba. Que x sea un flujo de bienes que resulta en un equilibrio, y que las variables p e y sean las ganancias. Considera el programa lineal que describe el comercio socialmente óptimo. También agregaremos un conjunto de restricciones adicionales xt ≤ 1 para todos los operadores t ∈ T; esto se puede agregar a la descripción, ya que está implícito en las otras restricciones. Ahora afirmamos que los dos programas lineales son duales entre sí. Las variables pi para los agentes B ∪ S corresponden a las ecuaciones Pt∈adj(i) xt ≤ 1. La variable dual adicional yt corresponde a una desigualdad adicional xt ≤ 1. La optimalidad del valor social del intercambio se seguirá de la afirmación de que la solución de estos dos programas lineales derivados de un equilibrio satisface las condiciones de holgura complementaria para este par de programas lineales, y por lo tanto tanto x como (p, y) son soluciones óptimas de los programas lineales correspondientes. Existen tres condiciones de holgura complementarias diferentes que debemos considerar, correspondientes a los tres conjuntos de variables x, y y p. Cualquier agente solo puede obtener ganancias si realiza transacciones, por lo que pi > 0 implica que P t∈adj(i) xt = 1, y de manera similar, yt > 0 implica que xt = 1 también. Finalmente, considera a un trader t con xt > 0 que negocia entre el vendedor i y el comprador j, y recuerda que hemos visto anteriormente que la desigualdad yt ≥ (θj − pj) − (θi + pi) se cumple con igualdad para aquellos que comercian. A continuación argumentamos que los equilibrios siempre existen. TEOREMA 2.3. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro de valores de oferta y demanda que respalda este comercio. Prueba. Considera un intercambio eficiente; sea xt = 1 si t intercambia y 0 en caso contrario; y considera una solución óptima (p, y) para el programa lineal dual. Nos gustaría afirmar que todas las soluciones duales corresponden a precios de equilibrio, pero desafortunadamente esto no es exactamente cierto. Antes de poder convertir una solución dual en precios de equilibrio, es posible que necesitemos modificar ligeramente la solución de la siguiente manera. Considera cualquier agente i que solo esté conectado a un único comerciante t. Debido a que el agente está solo conectado a un único comerciante, las variables yt y pi son variables duales correspondientes a la misma desigualdad primal xt ≤ 1, y siempre aparecen juntas como yt + pi en todas las desigualdades, y también en la función objetivo. Por lo tanto, existe una solución óptima en la que pi = 0 para todos los agentes i conectados solo a un único comerciante. Supongamos que (p, y) es una solución dual donde los agentes conectados solo a un comerciante tienen pi = 0. Para un vendedor i, dejemos que βt = θi + pi sea la oferta para todos los comerciantes t adyacentes a i. De manera similar, para cada comprador j, sea αt = θj − pj la oferta para todos los operadores t adyacentes a j. Sostenemos que este conjunto de ofertas y demandas, junto con la transacción x, constituyen un equilibrio. Para entender por qué, hay que tener en cuenta que todos los operadores t adyacentes a un vendedor o comprador i ofrecen la misma oferta o demanda, por lo que comerciar con cualquier operador es igualmente bueno para el agente i. Además, si i no está operando en la solución 147 x, entonces por holgura complementaria pi = 0, y por lo tanto, no operar también es igualmente bueno para i. Esto muestra que los vendedores y compradores no tienen un incentivo para desviarse. Necesitamos demostrar que los comerciantes no tienen incentivos para desviarse tampoco. Cuando un comerciante t está negociando con el vendedor i y el comprador j, las desviaciones rentables implicarían aumentar αt o disminuir βt. Pero por nuestra construcción (y suposición sobre agentes monopolizados) todos los vendedores y compradores tienen múltiples ofertas de compra/venta idénticas, o el intercambio está ocurriendo a valuación. En cualquier caso, tal desviación no puede tener éxito. Finalmente, considera un trader t = (i, j) que no realiza intercambios. Una desviación para t implicaría ofrecer una oferta más baja al vendedor i y una oferta más alta al vendedor j que su intercambio actual. Sin embargo, yt = 0 por holgura complementaria, y por lo tanto pi + θi ≥ θj − pj, por lo que i vende a un precio al menos tan alto como el precio al que j compra, por lo que el comerciante t no puede crear un intercambio rentable. Se debe tener en cuenta que un vendedor o comprador conectado a un único comerciante t no puede obtener beneficios en equilibrio, por lo que los posibles beneficios en equilibrio están en correspondencia uno a uno con las soluciones duales para las cuales pi = 0 siempre que i esté monopolizado por un único comerciante. Una característica decepcionante del equilibrio creado por esta prueba es que algunos agentes t pueden tener que crear pares de oferta y demanda donde βt > αt, ofreciendo comprar por más del precio al que están dispuestos a vender. Los agentes que realizan tales pares de oferta y demanda nunca realizan realmente una transacción, por lo que no resulta en una pérdida de beneficios para el agente, pero dichos pares son poco comunes. Los pares de ofertas y demandas cruzadas son débilmente dominados por la estrategia de ofrecer una oferta baja β = 0 y una demanda extremadamente alta para garantizar que ninguna sea aceptada. Para formular una forma de evitar tales pares cruzados, decimos que un equilibrio es libre de cruces si αt ≥ βt para todos los operadores t. Ahora mostramos que siempre hay un equilibrio libre de cruces. TEOREMA 2.4. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro y libre de cruces. Prueba. Considera una solución óptima para el programa lineal dual. Para obtener un equilibrio sin cruzar ofertas, necesitamos hacer una modificación más general que simplemente asumir que pi = 0 para todos los vendedores y compradores conectados a un único operador. Que el conjunto E sea el conjunto de aristas t = (i, j) que son tensas, en el sentido de que tenemos la igualdad yt = (θj − pj) − (θi + pi). Este conjunto E contiene todos los bordes donde ocurre el comercio, y algunos bordes adicionales. Queremos asegurarnos de que pi = 0 para todos los vendedores y compradores que tengan un grado de a lo sumo 1 en E. Considere un vendedor i que tiene pi > 0. Debemos tener i involucrado en un intercambio, y el borde t = (i, j) a lo largo del cual ocurre el intercambio debe ser ajustado. Supongamos que este es el único borde ajustado adyacente al agente i; entonces podemos disminuir pi e incrementar yt hasta que ocurra una de las siguientes situaciones: o bien pi = 0 o la restricción de algún otro agente t ∈ adj(i) se vuelva ajustada. Esta modificación solo aumenta el conjunto de aristas ajustadas E, mantiene la solución factible y no cambia el valor de la función objetivo. Entonces, después de hacer esto para todos los vendedores, y cambiando de manera análoga yt y pj para todos los compradores, obtenemos una solución óptima donde todos los vendedores y compradores i tienen pi = 0 o tienen al menos dos aristas ajustadas adyacentes. Ahora podemos establecer ofertas y demandas para formar un equilibrio libre de cruces. Para todos los traders t = (i, j) asociados con un borde t ∈ E, establecemos αt y βt como antes: fijamos la oferta βt = pi + θi y la demanda αt = θj − pj. Para un trader t = (i, j) ∈ E, tenemos que pi + θi > θj − pj y establecemos αt = βt para que sea cualquier valor en el rango [θj − pj, pi + θi]. Esto garantiza que para cada vendedor o comprador, la mejor oferta de venta o compra se encuentra a lo largo del borde donde se produce el intercambio en la solución. Los valores de askbid a lo largo de los bordes ajustados garantizan que los traders que operan no puedan aumentar su spread. Los operadores t = (i, j) que no realizan operaciones no pueden obtener ganancias debido a la restricción pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) Ningún operador obtiene ganancias 1 1 1 0 x x x x 1 x x 0 x (b) Ganancias del operador Figura 2: Izquierda: un equilibrio con ofertas cruzadas donde los operadores no ganan dinero. Correcto: un equilibrio sin ofertas cruzadas para cualquier valor x ∈ [0, 1]. La ganancia total del comerciante oscila entre 1 y 2. 2.2 Bienes distinguibles. Ahora consideramos el caso de bienes distinguibles. Como en la sección anterior, podemos escribir un programa lineal de transbordo para el comercio socialmente óptimo, con el único cambio en la función objetivo. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) Podemos demostrar que el dual de este programa lineal corresponde a las ganancias de los comerciantes. Recuerda que necesitábamos agregar las restricciones xt ≤ 1 para todos los traders. El dual es entonces: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T. No es difícil extender las pruebas de los Teoremas 2.2 - 2.4 a este caso. Las ganancias en un equilibrio satisfacen las restricciones duales, y las ganancias y el comercio satisfacen la holgura complementaria. Esto demuestra que el comercio es socialmente óptimo. Tomando una solución dual óptima donde pi = 0 para todos los agentes que están monopolizados, podemos convertirla en un equilibrio, y con un poco más de cuidado, también podemos crear un equilibrio sin pares de oferta y demanda cruzados. TEOREMA 2.5. Todos los equilibrios para el caso de los operadores en pares con bienes distinguibles resultan en un comercio socialmente óptimo. Existen equilibrios puros no cruzados. 2.3 Ganancias de los operadores Hemos visto que todos los equilibrios son eficientes. Sin embargo, resulta que los equilibrios pueden diferir en cómo se distribuye el valor de la asignación entre los vendedores, compradores e intermediarios. La Figura 2 representa un ejemplo simple de este fenómeno. Nuestro objetivo es entender cómo se ve afectada la ganancia de un trader por su posición en la red; utilizaremos la caracterización que obtuvimos para determinar el rango de ganancias que un trader puede obtener. Para maximizar la ganancia de un operador t (o un subconjunto de operadores T), todo lo que necesitamos hacer es encontrar una solución óptima al programa lineal dual que maximice el valor de yt (o la suma Pt∈T yt). Tales soluciones duales corresponderán a equilibrios con precios no cruzados. TEOREMA 2.6. Para cualquier operador t o subconjunto de operadores T, la ganancia total máxima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. Este beneficio máximo se puede obtener mediante un equilibrio no cruzado. Una forma de pensar en la ganancia de un trader t = (i, j) es como una resta del valor del borde correspondiente (i, j). El valor del borde es el valor social θji − θij si el comerciante no obtiene ganancias, y disminuye a θji − θij − yt si el comerciante t insiste en obtener una ganancia de yt. El comerciante t obtiene un beneficio yt en equilibrio, si después de esta disminución en el valor del borde, el borde sigue incluido en el transbordo óptimo. TEOREMA 2.7. Un comerciante t puede obtener beneficios en un equilibrio si y solo si t es esencial para el bienestar social, es decir, si eliminar al agente t disminuye el bienestar social. La ganancia máxima que puede obtener es exactamente su valor para la sociedad, es decir, el aumento que su presencia provoca en el bienestar social. Si permitimos el cruce de equilibrios, entonces también podemos encontrar la ganancia mínima posible. Recuerde que en la demostración del Teorema 2.3, los comerciantes solo ganaron dinero de vendedores o compradores sobre los que tenían un monopolio. Permitiendo tales equilibrios con ofertas cruzadas, podemos encontrar la ganancia mínima que un trader o conjunto de traders puede obtener, minimizando el valor yt (o la suma de P t∈T yt) en todas las soluciones óptimas que satisfacen que pi = 0 siempre que i esté conectado solo a un trader. TEOREMA 2.8. Para cualquier operador t o subconjunto de operadores T, la ganancia total mínima que pueden obtener en cualquier equilibrio puede ser calculada en tiempo polinómico. A continuación, extendemos los resultados a un modelo en el que los comerciantes pueden estar conectados a un número arbitrario de vendedores y compradores. Para un comerciante t ∈ T utilizaremos S(t) y B(t) para denotar el conjunto de compradores y vendedores conectados al comerciante t. En esta sección nos enfocamos en el caso general cuando los bienes son distinguibles (es decir, tanto los compradores como los vendedores tienen valoraciones que son sensibles a la identidad del agente con el que se emparejan en la asignación). En la versión completa del artículo también discutimos el caso especial de bienes indistinguibles con más detalle. Para obtener el intercambio óptimo, consideramos el grafo bipartito G = (S ∪ B, E) que conecta vendedores y compradores, donde una arista e = (i, j) conecta un vendedor i y un comprador j si hay un comerciante adyacente a ambos: E = {(i, j) : adj(i) ∩ adj(j) = ∅}. En este gráfico, luego resolvemos la instancia del problema de asignación que también se utilizó en la Sección 2.2, con el valor del borde (i, j) igual a θji − θij (ya que el valor del intercambio entre i y j es independiente de qué comerciante realizó el intercambio). También utilizaremos el dual de este programa lineal: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Ofertas y Demandas y Optimización del Trader. Primero necesitamos entender qué modelo de oferta utilizaremos. Incluso cuando los bienes son indistinguibles, un comerciante puede querer practicar discriminación de precios y ofrecer diferentes valores de oferta y demanda a diferentes vendedores y compradores. En el caso de bienes distinguibles, tenemos que lidiar con una complicación adicional: el comerciante tiene que nombrar el bien que está proponiendo vender o comprar, y posiblemente ofrecer múltiples productos diferentes. Hay dos variantes de nuestro modelo dependiendo de si un trader hace una única oferta de compra o venta a un vendedor o comprador, o si ofrece un menú de opciones. (i) Un trader t puede ofrecer a un comprador j un menú de ofertas de compra αtji, un vector de valores para todos los productos a los que está conectado, donde αtji es la oferta de compra para el producto del vendedor i. De manera simétrica, un trader t puede ofrecer a cada vendedor i un menú de ofertas de venta βtij para vender a diferentes compradores j. (ii) Alternativamente, podemos requerir que cada trader t pueda hacer como máximo una oferta de compra a cada vendedor y una oferta de venta para cada comprador, y una oferta de compra debe incluir el producto vendido, y una oferta de venta debe ofrecer a un comprador en particular para venderle. Nuestros resultados se mantienen en ambos modelos. Para simplificar la notación, utilizaremos la opción del menú aquí. A continuación, necesitamos entender el problema de optimización de un trader t. Supongamos que tenemos valores de oferta y demanda para todos los demás traders t ∈ T, t = t. ¿Cuáles son las mejores ofertas de compra y venta que el trader t puede hacer como mejor respuesta al conjunto actual de ofertas de compra y venta? Para cada vendedor i, dejemos que pi sea la ganancia máxima que el vendedor i puede obtener utilizando ofertas de otros comerciantes, y asumamos de manera simétrica que pj es la ganancia máxima que el comprador j puede obtener utilizando demandas de otros comerciantes (dejando pi = 0 para cualquier vendedor o comprador i que no pueda obtener ganancias). Ahora considera un par vendedor-comprador (i, j) que el comerciante t puede conectar. El trader t tendrá que hacer una oferta de al menos βtij = θij + pi al vendedor i y un precio de venta de como máximo αtji = θji − pj al comprador j para realizar esta transacción, por lo que la ganancia máxima que puede obtener en esta operación es vtij = αtji − βtij = θji − pj − (θij + pi). El intercambio óptimo para el trader t se obtiene resolviendo un problema de emparejamiento para encontrar la correspondencia entre los vendedores S(t) y compradores B(t) que maximiza el valor total vtij para el trader t. Necesitaremos el dual del programa lineal para encontrar el intercambio de máximo beneficio para el trader t. Utilizaremos qti como la variable dual asociada con la restricción del vendedor o comprador i. El dual es entonces el siguiente problema. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t). Vemos qti como la ganancia obtenida por t al comerciar con el vendedor o comprador i. El Teorema 3.1 resume la discusión anterior. TEOREMA 3.1. Para un trader t, dado las ofertas más bajas βtij y las peticiones más altas αtji que pueden ser aceptadas para los vendedores i ∈ S(t) y compradores j ∈ B(t), el mejor intercambio que t puede hacer es el emparejamiento de valor máximo entre S(t) y B(t) con valor vtij = αtji − βtij para la arista (i, j). Este valor máximo es igual al mínimo del programa lineal dual anterior. 3.2 Comercio eficiente y equilibrio Ahora podemos demostrar que el comercio en equilibrio siempre es eficiente. TEOREMA 3.2. Cada equilibrio resulta en una asignación eficiente de los bienes. Prueba. Considera un equilibrio, con xe = 1 si y solo si el comercio ocurre a lo largo del borde e = (i, j). El comercio es una solución al programa lineal de transbordo utilizado en la Sección 2.2. Que pi denote la ganancia del vendedor o comprador i. Cada operador t actualmente tiene la mejor solución a su propio problema de optimización. Un comerciante t encuentra su intercambio óptimo (dadas las ofertas y demandas de los otros 149 comerciantes) resolviendo un problema de emparejamiento. Que qti para i ∈ B(t)∪S(t) denote la solución dual óptima a este problema de emparejamiento como se describe en el Teorema 3.1. Al configurar el problema de optimización para un trader t anteriormente, usamos pi para denotar la ganancia máxima que puedo obtener sin la oferta del trader t. Tenga en cuenta que este pi es exactamente el mismo pi que usamos aquí, la ganancia del agente i. Esto es claramente cierto para todos los operadores t que no están comerciando con i en el equilibrio. Para ver por qué es cierto para el operador t con el que i está negociando, usamos que el conjunto actual de valores de oferta y demanda es un equilibrio. Si para cualquier agente i la oferta o demanda del trader t fuera la única mejor opción, entonces t podría obtener más beneficios ofreciendo una demanda un poco más alta o una oferta un poco más baja, lo cual sería una contradicción. Mostramos que el intercambio x es óptimo al considerar la solución dual zi = pi + P t qti para todos los agentes i ∈ B ∪ S. Afirmamos que z es una solución dual y satisface la holgura complementaria con el intercambio x. Para ver esto, necesitamos mostrar algunos hechos. Necesitamos que zi > 0 implique que i comercie. Si zi > 0, entonces o bien pi > 0 o qti > 0 para algún trader t. El agente i solo puede obtener ganancias pi > 0 si está involucrado en una transacción. Si qti > 0 para algún t, entonces el trader t debe comerciar con i, ya que su solución es óptima, y por holgura complementaria para la solución dual, qti > 0 implica que t comercia con i. Para un borde (i, j) asociado con un trader t, necesitamos mostrar que la solución dual es factible, es decir, zi + zj ≥ θji − θij. Se recuerda que vtij = θji −pj −(θij +pi), y la restricción dual del problema de optimización de los traders requiere qti + qtj ≥ vtij. Al juntar todo esto, tenemos zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij. Finalmente, necesitamos demostrar que las variables de intercambio x también cumplen la restricción de holgura complementaria: cuando xe > 0 para una arista e = (i, j) entonces la restricción dual correspondiente es activa. Que t sea el comerciante involucrado en la transacción. Por la holgura complementaria del problema de optimización de ts, tenemos qti + qtj = vtij. Para ver que z satisface la holgura complementaria, necesitamos argumentar que para todos los otros comerciantes t = t, tenemos tanto qt i = 0 como qt j = 0. Esto es cierto ya que qt i > 0 implica por la holgura complementaria del problema de optimización de t s que t debe comerciar con i en el óptimo, y t = t está comerciando. A continuación queremos demostrar que siempre existe un equilibrio no cruzado. Llamamos a un equilibrio no cruzado si las ofertas de compra y venta que un trader t hace para un par vendedor-comprador (i, j) nunca se cruzan, es decir, βtij ≤ αtji para todo t, i, j. TEOREMA 3.3. Existe un equilibrio no cruzado que respalda cualquier intercambio socialmente óptimo. Prueba. Considera un intercambio óptimo x y una solución dual z como antes. Para encontrar un equilibrio no cruzado necesitamos dividir la ganancia zi entre i y el comerciante t que negocia con i. Usaremos qti como el beneficio del comerciante asociado con el agente i para cualquier i ∈ S(t) ∪ B(t). Necesitaremos garantizar las siguientes propiedades: El comerciante t comercia con el agente i siempre que qti > 0. Esta es una de las condiciones de holgura complementaria para asegurar que el intercambio actual sea óptimo para el trader t. Para todos los pares vendedor-comprador (i, j) con los que un trader t puede comerciar, tenemos que pi + qti + pj + qtj ≥ θji − θij, (1) lo cual asegurará que qt sea una solución dual factible para el problema de optimización al que se enfrenta el trader t. Necesitamos tener igualdad en (1) cuando el trader t está comerciando entre i y j. Esta es una de las condiciones de holgura complementaria para el trader t, y garantizará que el intercambio de t sea óptimo para el trader. Finalmente, queremos organizar que cada agente i con pi > 0 tenga múltiples ofertas para obtener ganancias pi, y que el intercambio se realice en una de sus mejores ofertas. Para garantizar esto en las ofertas y demandas correspondientes, necesitamos asegurarnos de que siempre que pi > 0 haya múltiples t ∈ adj(i) que cumplan con la ecuación en la restricción anterior (1). Comenzamos estableciendo pi = zi para todo i ∈ S ∪ B y qti = 0 para todo i ∈ S ∪ B y traders t ∈ adj(i). Esto garantiza todos los invariantes excepto la última propiedad sobre múltiples t ∈ adj(t) teniendo igualdad en (1). Modificaremos p y q para aplicar gradualmente la última condición, manteniendo las demás. Considera un vendedor con pi > 0. Por la optimalidad del intercambio y la solución dual z, el vendedor i debe comerciar con algún comerciante t, y ese comerciante tendrá igualdad en (1) para el comprador j con el que se empareja i. Si este es el único operador t que tiene una restricción estricta en (1) que involucra al vendedor i, entonces aumentamos qti y disminuimos pi hasta que pi = 0 o hasta que otro operador t = t logre la igualdad en (1) para algún borde del comprador adyacente a i (posiblemente un comprador diferente j). Este cambio mantiene todas las invariantes y aumenta el conjunto de vendedores que también cumplen con la última restricción. Podemos hacer un cambio similar para un comprador j que tiene pj > 0 y solo tiene un operador t con una restricción ajustada (1) adyacente a j. Después de posiblemente repetir esto para todos los vendedores y compradores, obtenemos ganancias que satisfacen todas las restricciones. Ahora obtenemos los valores de oferta y demanda de equilibrio de la siguiente manera. Para un operador t que tiene igualdad para el par vendedor-comprador (i, j) en (1), ofrecemos αtji = θji − pj y βtij = θij + pi. Para todos los demás comerciantes t y pares de vendedor-comprador (i, j) tenemos el invariante (1), y utilizando esto sabemos que podemos elegir un valor γ en el rango θij +pi+qti ≥ γ ≥ θji − (pj + qtj). Ofrecemos valores de oferta y demanda βtij = αtji = γ. Ni la oferta ni la demanda serán la única mejor oferta para el comprador, por lo tanto, el intercambio x sigue siendo un equilibrio. 3.3 Ganancias del Trader Finalmente, nos enfocamos en el objetivo de comprender, en el caso de los traders generales, cómo se ve afectada la ganancia de un trader por su posición en la red. Primero, mostramos cómo maximizar la ganancia total de un grupo de comerciantes. La ganancia del comerciante t en un equilibrio es P i qti. Para encontrar la ganancia máxima posible para un trader t o un conjunto de traders T, necesitamos hacer lo siguiente: Encontrar ganancias pi ≥ 0 y qti > 0 de manera que zi = pi + P t∈adj(i) qti sea una solución dual óptima, y también cumpla con las restricciones (1) para cualquier vendedor i y comprador j conectados a través de un trader t ∈ T. Ahora, sujeto a todas estas condiciones, maximizamos la suma P t∈T P i∈S(t)∪B(t) qti. Ten en cuenta que esta maximización es una función objetivo secundaria con respecto al objetivo principal de que z sea una solución dual óptima. Luego usamos la prueba del Teorema 3.3 que muestra cómo convertir esto en un equilibrio. TEOREMA 3.4. El valor máximo para P t∈T P i qti anterior es la máxima ganancia que el conjunto T de comerciantes puede obtener. Prueba. Por la demostración del Teorema 3.2, las ganancias del comerciante t pueden ser escritas en esta forma, por lo que el conjunto de comerciantes T no puede obtener más ganancias de las reclamadas en este teorema. Para ver que T realmente puede obtener tantas ganancias, usamos la prueba del Teorema 3.3. Modificamos esa prueba para empezar con los vectores de ganancias p y qt para t ∈ T, y establecemos qt = 0 para todos los traders t ∈ T. Verificamos que esta solución inicial cumple con las tres primeras de las cuatro propiedades requeridas, y luego podemos seguir la demostración para hacer que la cuarta propiedad sea verdadera. Omitimos los detalles de esto en la versión actual. En la Sección 2.3 demostramos que en el caso de los traders de pares, un trader t puede ganar dinero si es esencial para el comercio eficiente. Esto no es 150 1 1 Figura 3: El comerciante principal es esencial para el bienestar social. Sin embargo, el único equilibrio es tener valores de oferta y demanda iguales a 0, y el comerciante no obtiene beneficios. Esto es cierto para el tipo de comerciantes más generales que consideramos aquí, como se muestra en el ejemplo de la Figura 3. Sin embargo, aún obtenemos una caracterización de cuándo un comerciante t puede obtener una ganancia positiva. TEOREMA 3.5. Un comerciante t puede obtener ganancias en un equilibrio si y solo si hay un vendedor o comprador i adyacente a t tal que la conexión del comerciante t con el agente i es esencial para el bienestar social, es decir, si eliminar al agente t de adj(i) disminuye el valor de la asignación óptima. Prueba. Primero mostramos la dirección en la que si un comerciante t puede ganar dinero, debe haber un agente i tal que la conexión de t con i sea esencial para el bienestar social. Sean p, q las ganancias en un equilibrio donde t gana dinero, como se describe en el Teorema 3.2 con P i∈S(t)∪B(t) qti > 0. Así que tenemos un agente i con qti > 0. Sostenemos que la conexión entre el agente i y el comerciante t debe ser esencial, en particular, sostenemos que el bienestar social debe disminuir al menos en qti si eliminamos t de adj(t). Para ver por qué, observe que al disminuir el valor de todas las aristas de la forma (i, j) asociadas con el comerciante t en qti, se mantiene el mismo óptimo de comercio, ya que obtenemos una solución dual de emparejamiento simplemente restableciendo qti a cero. Para ver lo contrario, suponga que eliminar t de adj(t) disminuye el bienestar social en algún valor γ. Supongamos que i es un vendedor (el caso de los compradores es simétrico), y disminuye en γ el valor social de cada arista (i, j) para cualquier comprador j tal que t sea el único agente que conecta a i y j. Por supuesto, el intercambio sigue siendo óptimo y dejamos que z sea la solución dual para esta correspondencia. Ahora utilizamos el mismo proceso que en la demostración del Teorema 3.3 para crear un equilibrio no cruzado comenzando con pi = zi para todo i ∈ S ∪ B, y qti = γ, y todos los demás valores de q igual a 0. Esto crea un equilibrio con ofertas que no se cruzan, donde t obtiene al menos γ de beneficio (debido al intercambio con el vendedor i). Finalmente, si permitimos el cruce de equilibrios, entonces podemos encontrar la ganancia mínima posible simplemente encontrando una solución dual que minimice las variables duales asociadas con los agentes monopolizados por algún comerciante. TEOREMA 3.6. Para cualquier trader t o subconjunto de traders T, la ganancia total mínima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. 4. REFERENCIAS [1] M. Babaioff, N. Nisan, E. Pavlov. Mecanismos para un mercado distribuido espacialmente. Conferencia ACM EC, 2005. [2] C. Barrett, E. Mutambatsere. Mercados agrícolas en países en desarrollo. El Nuevo Diccionario de Economía de Palgrave, 2da edición, próximo a publicarse. [3] Kenneth Burdett y Kenneth Judd. Dispersión del precio de equilibrio. Econometrica, 51/4, julio de 1983, 955-969. [4] L. Chu, Z.-J. I'm sorry, but \"Shen\" is not a sentence. Can you please provide a sentence for me to translate into Spanish? Mecanismo de subasta doble de competencia de agentes. Ciencia de la Gestión, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor. Subastas de varios artículos. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Econ. Política 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri. Un juego de formación de redes para economías de intercambio bipartitas. Simposio ACM-SIAM sobre Algoritmos Discretos (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald. Precios dinámicos por agentes de software. Redes de Computadoras, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri. Propiedades económicas de las redes sociales. NIPS 2004. [9] R. Kranton, D. Minehart. \n\nNIPS 2004. [9] R. Kranton, D. Minehart. Una teoría de redes de comprador-vendedor. American Economic Review 91(3), junio de 2001. [10] H. Leonard. Elicitación de preferencias honestas para la asignación de individuos a posiciones. J. Pol. Econ, 1983. [11] M. E. J. Newman. \n\nEcon, 1983. [11] M. E. J. Newman. La estructura y función de redes complejas. SIAM Review, 45:167-256, 2003. [12] M. OHara. \n\nRevista SIAM, 45:167-256, 2003. [12] M. OHara. Teoría de la Microestructura del Mercado. Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.\nEditorial Blackwell, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, El juego de asignación I: El núcleo. Internacional. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Teoría de Juegos 1/2 111-130, 1972. [14] Jean Tirole. La Teoría de la Organización Industrial. El MIT Press, Cambridge, MA, 1988. 151 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "economics and finance": {
            "translated_key": "economía y finanzas",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in <br>economics and finance</br> which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [
                "There are several literatures in <br>economics and finance</br> which examine how prices are set rather than just determining equilibrium prices."
            ],
            "translated_annotated_samples": [
                "Hay varias literaturas en <br>economía y finanzas</br> que examinan cómo se fijan los precios en lugar de simplemente determinar los precios de equilibrio."
            ],
            "translated_text": "Redes de intercambio con agentes que fijan precios Larry Blume Dept. En una amplia gama de mercados, los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, quienes determinan los precios mediante consideraciones estratégicas. Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el mercado. Modelamos este fenómeno utilizando un juego en el que compradores, vendedores e intermediarios participan en transacciones en un gráfico que representa el acceso que cada comprador y vendedor tiene a los intermediarios. En este modelo, los comerciantes establecen precios estratégicamente, y luego los compradores y vendedores reaccionan a los precios que se les ofrecen. Mostramos que el juego resultante siempre tiene un equilibrio de Nash perfecto en subjuegos, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. Extendemos estos resultados a un tipo más general de mercado de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores. Finalmente, consideramos cómo los beneficios obtenidos por los comerciantes dependen del grafo subyacente: en resumen, un comerciante puede obtener un beneficio positivo si y solo si tiene una conexión esencial en la estructura de la red, proporcionando así una base teórica de grafos para cuantificar la cantidad de competencia entre los comerciantes. Nuestro trabajo difiere de los estudios recientes sobre cómo el precio se ve afectado por la estructura de la red a través de nuestro modelado del establecimiento de precios como una actividad estratégica realizada por un subconjunto de agentes en el sistema, en lugar de estudiar precios establecidos a través de un equilibrio competitivo o por un mecanismo veraz. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1. INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio. Un ejemplo de esta configuración es el comercio de productos agrícolas en países en desarrollo. Dada la falta de redes de transporte adecuadas y el limitado acceso de los agricultores pobres al capital, muchos agricultores no tienen otra alternativa que comerciar con intermediarios en mercados locales ineficientes. Un país en desarrollo puede tener muchos mercados parcialmente superpuestos que coexisten junto a mercados modernos y eficientes. Los mercados financieros proporcionan un ejemplo diferente de un entorno con estas características generales. En estos mercados, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de mercado y sistemas de negociación electrónica. Para muchos activos no hay un único mercado; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en mercados de otros países. Algunos compradores y vendedores tienen acceso a muchos o a todos estos lugares de negociación; otros solo tienen acceso a uno o a unos pocos de ellos. El precio al que se negocia el activo puede variar en estos lugares de negociación. De hecho, no hay un precio fijo ya que diferentes comerciantes pagan o reciben precios diferentes. En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el precio de compra. Uno de los ejemplos más llamativos de este fenómeno ocurre en el mercado de divisas, donde existe un mercado interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto. Los spreads, definidos como la diferencia entre los precios de oferta y demanda, difieren significativamente en estos mercados, a pesar de que el mismo activo se está negociando en ambos mercados. En este artículo, desarrollamos un marco en el que tales fenómenos surgen de un modelo de comercio basado en teoría de juegos, con compradores, vendedores e intermediarios interactuando en una red. Los bordes de la red conectan a los comerciantes con los compradores y vendedores, y por lo tanto representan el acceso que tienen los diferentes participantes del mercado entre sí. Los comerciantes actúan como intermediarios en un juego de comercio de dos etapas: eligen estratégicamente los precios de oferta y demanda para ofrecer a los vendedores y compradores a los que están conectados; luego, los vendedores y compradores reaccionan a los precios que enfrentan. Por lo tanto, la red codifica el poder relativo en las posiciones estructurales de los participantes del mercado, incluyendo los niveles implícitos de competencia entre los traders. Mostramos que este juego siempre tiene un equilibrio de Nash perfecto en subjuegos de 143, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. También analizamos cómo los beneficios de los operadores dependen de la estructura de la red, caracterizando esencialmente en términos de teoría de grafos cómo se determina el pago de un operador por la cantidad de competencia que experimenta con otros operadores. Nuestro trabajo aquí está conectado a varias líneas de investigación en economía, finanzas y teoría de juegos algorítmica, y discutimos estas conexiones con más detalle más adelante en la introducción. A un nivel general, nuestro enfoque puede ser visto como la síntesis de dos importantes corrientes de trabajo: una que trata la interacción comprador-vendedor utilizando estructuras de red, pero sin intentar modelar los procesos mediante los cuales los precios son realmente formados [1, 4, 5, 6, 8, 9, 10, 13]; y otra corriente en la literatura sobre microestructura de mercado que incorpora intermediarios en la fijación de precios, pero sin restricciones de tipo red sobre quién puede comerciar con quién [12]. Al desarrollar un modelo de red que incluye explícitamente a los comerciantes como agentes que establecen precios, en un sistema junto con compradores y vendedores, podemos capturar la formación de precios en un entorno de red como un proceso estratégico llevado a cabo por intermediarios, en lugar de como resultado de un mecanismo centralizado o exógeno. El Modelo Básico: Bienes Indistinguibles. Nuestro objetivo al formular el modelo es expresar el proceso de fijación de precios en mercados como los discutidos anteriormente, donde los participantes no tienen todos acceso uniforme entre sí. Se nos da un conjunto B de compradores, un conjunto S de vendedores y un conjunto T de traders. Hay un grafo no dirigido G que indica quién puede comerciar con quién. Todos los bordes tienen un extremo en B ∪ S y el otro en T; es decir, cada borde tiene la forma (i, t) para i ∈ S y t ∈ T, o (j, t) para j ∈ B y t ∈ T. Esto refleja las restricciones de que todas las transacciones entre compradores y vendedores pasan por los intermediarios comerciales. En la versión más básica del modelo, consideramos bienes idénticos, de los cuales cada vendedor inicialmente posee una copia. Los compradores y vendedores tienen un valor para una copia del bien, y asumimos que estos valores son de conocimiento común. Posteriormente generalizaremos esto a un escenario en el que los bienes son distinguibles, los compradores pueden valorar los diferentes bienes de manera diferente y, potencialmente, los vendedores también pueden valorar las transacciones con diferentes compradores de manera diferente. Tener diferentes valoraciones de los compradores captura escenarios como las compras de viviendas; agregar diferentes valoraciones de los vendedores también captura mercados de coincidencia, por ejemplo, vendedores como solicitantes de empleo y compradores como empleadores, ambos preocupados por quién termina con qué bien (y con los comerciantes actuando como servicios que facilitan la búsqueda de empleo). Por lo tanto, para comenzar con el modelo básico, hay un solo tipo de bien; el bien viene en unidades indivisibles; y cada vendedor inicialmente posee una unidad del bien. Todos los tres tipos de agentes valoran el dinero a la misma tasa; y cada i ∈ B ∪ S valora adicionalmente una copia del bien en θi unidades de dinero. Ningún agente quiere más de una copia del bien, por lo que las copias adicionales se valoran en 0. Cada agente tiene una dotación inicial de dinero que es mayor que cualquier valoración individual θi; el efecto de esto es garantizar que cualquier comprador que termine sin una copia del bien ha sido excluido del mercado debido a su valoración y posición en la red, no a la falta de fondos. Nos imaginamos que cada bien que se vende fluye a lo largo de una secuencia de dos etapas: desde un vendedor a un comerciante, y luego del comerciante a un comprador. La forma particular en la que fluyen los bienes está determinada por el siguiente juego. Primero, cada comerciante ofrece un precio de oferta a cada vendedor al que está conectado, y un precio de demanda a cada comprador al que está conectado. Los vendedores y compradores luego eligen entre las ofertas presentadas por los comerciantes. Si varios comerciantes proponen el mismo precio a un vendedor o comprador, entonces no hay una mejor respuesta estricta para el vendedor o comprador. En este caso se debe hacer una selección, y, como es habitual (ver por ejemplo [10]), nosotros (los modeladores) elegimos entre las mejores ofertas. Finalmente, cada comerciante compra una copia del bien de cada vendedor que acepta su oferta, y vende una copia del bien a cada comprador que acepta su oferta. Si un comerciante en particular, t, descubre que más compradores que vendedores aceptan sus ofertas, entonces se ha comprometido a proporcionar más copias del bien de las que ha recibido, y diremos que esto resulta en una gran penalización para el comerciante por incumplimiento; el efecto de esto es que en equilibrio, ningún comerciante elegirá precios de oferta y demanda que resulten en un incumplimiento. Más precisamente, una estrategia para cada operador t es una especificación de un precio de oferta βti para cada vendedor i al que t está conectado, y un precio de demanda αtj para cada comprador j al que t está conectado. (También podemos manejar un modelo en el que un operador puede optar por no hacer una oferta a ciertos de sus vendedores o compradores adyacentes). Cada vendedor o comprador elige como máximo una arista incidente, indicando el comerciante con quien realizarán la transacción, al precio indicado. (La elección de una sola arista refleja el hecho de que (a) los vendedores inicialmente solo tienen una copia del bien, y (b) los compradores solo desean una copia del bien). Las ganancias son las siguientes: Para cada vendedor i, la ganancia de seleccionar al comerciante t es βti, mientras que la ganancia de no seleccionar a ningún comerciante es θi. (En el primer caso, el vendedor recibe βti unidades de dinero, mientras que en el segundo caso conserva su copia del bien, al que valora en θi). Para cada comprador j, la ganancia de seleccionar al comerciante t es θj - αtj, mientras que la ganancia de no seleccionar a ningún comerciante es 0. (En el primer caso, el comprador recibe el bien pero renuncia a αtj unidades de dinero). Para cada operador t, con ofertas aceptadas de vendedores i1, . . . , is y compradores j1, . . . , jb, la ganancia es P r αtjr − P r βtir, menos una penalización π si b > s. La penalización se elige lo suficientemente grande para que un operador nunca la sufra en equilibrio, por lo que generalmente no nos preocuparemos por la penalización. Esto define los elementos básicos del juego. El concepto de equilibrio que utilizamos es el equilibrio de Nash perfecto en subjuegos. Algunos ejemplos. Para ayudar a pensar en el modelo, ahora describimos tres ejemplos ilustrativos, representados en la Figura 1. Para evitar que las figuras se vuelvan demasiado desordenadas, adoptamos las siguientes convenciones: los vendedores se representan como círculos en la columna más a la izquierda y se les asigna el nombre i1, i2, ... de arriba abajo; los comerciantes se representan como cuadrados en la columna del medio y se les asigna el nombre t1, t2, ... de arriba abajo; y los compradores se representan como círculos en la columna más a la derecha y se les asigna el nombre j1, j2, ... de arriba abajo. Todos los vendedores en los ejemplos tendrán valoraciones para el bien iguales a 0; la valoración de cada comprador se dibuja dentro de su círculo; y el precio de oferta o demanda en cada borde se dibuja encima del borde. En la Figura 1(a), mostramos cómo una subasta estándar de segundo precio surge naturalmente de nuestro modelo. Supongamos que las valoraciones de los compradores de mayor a menor son w > x > y > z. Los precios de oferta y demanda mostrados son consistentes con un equilibrio en el que i1 y j1 aceptan las ofertas del trader t1, y ningún otro comprador acepta la oferta de su trader adyacente: así, el trader t1 recibe el bien con un precio de oferta de x, y gana w − x al vender el bien al comprador j1 por w. De esta manera, podemos considerar esta instancia particular como una subasta para un bien único en la que los traders actúan como representantes de sus compradores adyacentes. El comprador con la valoración más alta para el bien termina adquiriéndolo, y el excedente se divide entre el vendedor y el comerciante asociado. Se debe tener en cuenta que se puede construir una subasta de k unidades con > k compradores con la misma facilidad, creando un grafo bipartito completo con k vendedores y comerciantes, y luego conectando a cada comerciante con un único comprador distinto. En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales. Específicamente, el vendedor i2 y el comprador j2 ocupan posiciones poderosas, ya que los dos comerciantes compiten por su negocio; por otro lado, los otros vendedores y compradores se encuentran en posiciones débiles, ya que cada uno tiene solo una opción. Y de hecho, en cada equilibrio, hay un número real x ∈ [0, 1] tal que ambos comerciantes ofrecen precios de oferta y demanda de x a i2 y j2 respectivamente, mientras ofrecen ofertas de 0 y demandas de 1 a los otros vendedores y compradores. Por lo tanto, este ejemplo ilustra algunos ingredientes cruciales que identificaremos a un nivel más general en breve. Específicamente, i2 y j2 experimentan los beneficios de la competencia perfecta, ya que los dos comerciantes reducen los márgenes de oferta y demanda a 0 al competir por su negocio. Por otro lado, los otros vendedores y compradores experimentan las desventajas del monopolio: no reciben ninguna ganancia ya que solo tienen una opción para comerciar, y el comerciante correspondiente se queda con todas las ganancias. Observa además cómo este comportamiento natural surge del hecho de que los comerciantes pueden ofrecer diferentes precios a diferentes agentes, capturando el hecho de que no hay un precio fijo en los tipos de mercados que motivan el modelo, sino diferentes precios que reflejan el poder relativo de los diferentes agentes involucrados. El ejemplo anterior muestra quizás la forma más natural en la que la ganancia de un comerciante en una transacción particular puede caer a 0: cuando hay otro comerciante que puede replicar su función de manera precisa. (En ese ejemplo, dos comerciantes tenían la capacidad de mover una copia del bien de i2 a j2). Pero como mostrarán nuestros resultados posteriores, los comerciantes no obtienen ganancias en general debido a razones globales y teóricas de grafos. El ejemplo en la Figura 1(c) da una indicación inicial de esto: se puede demostrar que para cada equilibrio, existe un y ∈ [0, 1] tal que cada oferta y cada precio de demanda es igual a y. En otras palabras, todos los comerciantes no obtienen beneficios, ya sea que pase por ellos una copia del bien o no, y sin embargo, ningún par de comerciantes comparte rutas de vendedor-comprador en común. Los márgenes de precios se han reducido a cero debido a una restricción global impuesta por el largo ciclo a través de todos los agentes; este es un ejemplo de competencia perfecta implícita determinada por la topología de la red. Extendiendo el modelo para bienes distinguibles. Extendemos el modelo básico a un escenario con bienes distinguibles, de la siguiente manera. En lugar de que cada agente i ∈ B ∪ S tenga una única valoración numérica θi, indexamos las valoraciones por pares de compradores y vendedores: si el comprador j obtiene el bien inicialmente poseído por el vendedor i, obtiene una utilidad de θji, y si el vendedor i vende su bien al comprador j, experimenta una pérdida de utilidad de θij. Esto generaliza el caso de bienes indistinguibles, ya que siempre podemos hacer que estas valoraciones por pares dependan solo de uno de los índices. Una estrategia para un trader ahora consiste en ofrecer una oferta a cada vendedor que especifique tanto un precio como un comprador, y ofrecer una demanda a cada comprador que especifique tanto un precio como un vendedor. (También podemos manejar un modelo en el que un trader ofrece ofertas (respectivamente, demandas) en forma de vectores, especificando esencialmente un menú con un precio adjunto a cada comprador (resp. vendedor).) Cada comprador y vendedor selecciona una oferta de un comerciante adyacente, y los pagos a todos los agentes se determinan como antes. Este marco general captura los mercados de emparejamiento [10, 13]: por ejemplo, un mercado laboral que es mediado por agentes o servicios de búsqueda de empleo (como en la contratación de ejecutivos corporativos, o figuras del deporte o del entretenimiento). Aquí los vendedores son solicitantes de empleo, los compradores son empleadores y los comerciantes son los agentes que median en el mercado laboral. Por supuesto, si se especifican valoraciones por pares en los compradores pero solo valoraciones individuales para los vendedores, modelamos un escenario donde los compradores pueden distinguir entre los bienes, pero a los vendedores no les importa a quién venden, esto captura (aproximadamente) escenarios como los mercados de vivienda. Nuestros resultados. Nuestros resultados identificarán formas generales de algunos de los principios mencionados en los ejemplos discutidos anteriormente, incluyendo la pregunta de qué compradores terminan con el bien; la pregunta de cómo los pagos son realizados de manera diferente por vendedores, comerciantes y compradores; y la pregunta de qué propiedades estructurales de la red determinan si los comerciantes obtendrán beneficios positivos. Para hacer esto preciso, introducimos la siguiente notación. Cualquier resultado del juego determina una asignación final de bienes a algunos de los agentes; esto puede ser especificado por una colección M de triples (es decir, te, je), donde ie ∈ S, te ∈ T y je ∈ B; además, cada vendedor y cada comprador aparece en a lo sumo un triple. El significado es que para cada e ∈ M, el bien inicialmente poseído por ie se transfiere a je a través de te. (Los vendedores que no aparecen en ningún trío conservan su copia del bien). Decimos que el valor de la asignación es igual a P e∈M θjeie − θieje. Que θ∗ denote el valor máximo de cualquier asignación M que sea factible dada la red. Mostramos que cada instancia de nuestro juego tiene un equilibrio, y que en cada uno de estos equilibrios, la asignación tiene un valor de θ∗ 145, en otras palabras, logra el mejor valor posible. Por lo tanto, los equilibrios en este modelo son siempre eficientes, ya que el mercado permite que el conjunto correcto de personas obtenga el bien, sujeto a las restricciones de la red. Establecemos la existencia y eficiencia de los equilibrios mediante la construcción de un programa lineal para capturar el flujo de bienes a través de la red; el dual de este programa lineal contiene suficiente información para extraer los precios de equilibrio. Según la definición del juego, el valor de la asignación de equilibrio se divide en forma de pagos a los agentes, y resulta interesante preguntarse cómo se distribuye este valor, en particular cuánta ganancia puede obtener un trader según su posición en la red. Observamos que, aunque todos los equilibrios tienen el mismo valor, la ganancia de un trader dado puede variar entre diferentes equilibrios. Sin embargo, somos capaces de caracterizar las cantidades máximas y mínimas que un operador dado puede obtener, donde estos máximos y mínimos se toman sobre todos los equilibrios, y proporcionamos un algoritmo eficiente para calcular esto. En particular, nuestros resultados aquí implican una caracterización combinatoria clara de cuándo un trader dado t puede lograr un beneficio distinto de cero: esto ocurre si y solo si hay algún borde e incidente en t que es esencial, en el sentido de que eliminar e reduce el valor de la asignación óptima θ∗. También obtenemos resultados para la suma de todas las ganancias de los operadores. Trabajo relacionado. El enfoque estándar de referencia para analizar la interacción entre compradores y vendedores es el modelo walrasiano en el que compradores y vendedores anónimos intercambian un bien a un único precio de equilibrio de mercado. Esta forma reducida de comercio, basada en la idealización de un precio de mercado, es un modelo poderoso que ha dado lugar a muchas ideas. Pero no es un buen modelo para examinar de dónde vienen los precios o exactamente cómo compradores y vendedores comercian entre sí. La dificultad es que en el modelo walrasiano no hay un agente que fije el precio, y los agentes en realidad no comercian entre sí. De hecho, no hay un mercado, en el sentido cotidiano de esa palabra, en el modelo walrasiano. Es decir, no hay un lugar físico o virtual donde los compradores y vendedores interactúen para comerciar y establecer precios. Por lo tanto, en este modelo simple, todos los compradores y vendedores son uniformes y comercian al mismo precio, y tampoco hay un papel para intermediarios. Hay varias literaturas en <br>economía y finanzas</br> que examinan cómo se fijan los precios en lugar de simplemente determinar los precios de equilibrio. La literatura sobre competencia imperfecta es quizás la más antigua de todas. Aquí un monopolista, o un grupo de oligopolistas, eligen los precios con el fin de maximizar sus ganancias (ver [14] para el tratamiento estándar de estos mercados en los libros de texto). Un monopolista utiliza su conocimiento de la demanda del mercado para elegir un precio, o una colección de precios si discrimina. Los oligopolistas juegan un juego en el que sus ganancias dependen de la demanda del mercado y las acciones de sus competidores. En esta literatura hay agentes que fijan precios, pero se mantiene la ficción de un solo mercado. En la literatura de búsqueda de equilibrio, las empresas establecen precios y los consumidores los buscan (ver [3]). Los consumidores terminan pagando precios diferentes, pero todos los consumidores tienen acceso a todas las empresas y no hay intermediarios. En la literatura de equilibrio general ha habido varios intentos de introducir la determinación de precios. Una técnica de prueba estándar para la existencia de un equilibrio competitivo implica un mecanismo de ajuste de precios en el que los precios responden a la demanda excesiva. El subastador walrasiano suele ser presentado como un dispositivo para explicar cómo funciona este proceso, pero en realidad es fundamentalmente una metáfora de un algoritmo iterativo de actualización de precios, no de los detalles internos de un mercado real. Se han introducido procesos más sofisticados para estudiar la estabilidad de los precios de equilibrio o la información necesaria para calcularlos. Pero de nuevo no hay agentes que fijen los precios aquí. En la literatura financiera, el trabajo sobre microestructura de mercado sí tiene agentes que fijan precios (especialistas), algunas partes de él determinan precios de oferta y demanda separados, y diferentes agentes reciben precios distintos por el mismo activo (ver [12] para un tratamiento de la teoría de microestructura). El trabajo en economía de la información ha identificado fenómenos similares (ver por ejemplo [7]). Pero hay poca investigación en estas literaturas que examine el efecto de las restricciones sobre quién puede comerciar con quién. Ha habido varios enfoques para estudiar cómo la estructura de la red determina los precios. Estos han planteado la determinación de precios a través de definiciones basadas en el equilibrio competitivo o el núcleo, o mediante el uso de mecanismos veraces. Al revisar brevemente este trabajo, notaremos el contraste con nuestro enfoque, ya que modelamos los precios como resultado del comportamiento estratégico de los agentes en el sistema. En un trabajo reciente, Kakade et al. [8] han estudiado la distribución de precios en equilibrio competitivo en un grafo bipartito de compradores y vendedores, generado utilizando un modelo probabilístico capaz de producir distribuciones de grados con colas pesadas [11]. Even-Dar et al. [6] se basan en esto para considerar los aspectos estratégicos de la formación de redes cuando los precios surgen del equilibrio competitivo. Leonard [10], Babaioff et al. [1], y Chu y Shen [4] consideran un enfoque basado en el diseño de mecanismos: los compradores y vendedores residen en nodos diferentes en un grafo, y incurren en un costo de transporte dado para comerciar entre sí. Leonard estudia los precios de VCG en este contexto; Babaioff et al. y Chu y Shen además proporcionan un mecanismo equilibrado en presupuesto. Dado que la preocupación aquí radica en mecanismos veraces que operan sobre valoraciones privadas, existe un compromiso inherente entre la eficiencia de la asignación y la condición de equilibrio presupuestario. Por el contrario, nuestro modelo tiene valoraciones y precios conocidos que surgen del comportamiento estratégico de los operadores. Por lo tanto, las suposiciones detrás de nuestro modelo no son directamente comparables a las que subyacen en el enfoque del diseño de mecanismos: aunque asumimos valoraciones conocidas, no requerimos una autoridad centralizada para imponer un mecanismo. Más bien, la fijación de precios es parte del resultado estratégico, como en los mercados reales que motivan nuestro trabajo, y nuestros equilibrios son simultáneamente equilibrados en términos presupuestarios y eficientes, algo que no es posible en los marcos de diseño de mecanismos que se han utilizado. Demange, Gale y Sotomayor [5], y Kranton y Minehart [9], analizan los precios a los que se produce el comercio en una red, trabajando dentro del marco del diseño de mecanismos. Kranton y Minehart utilizan un grafo bipartito con enlaces directos entre compradores y vendedores, y luego emplean un mecanismo de subasta ascendente, en lugar de intermediarios estratégicos, para determinar los precios. Su subasta tiene propiedades de equilibrio deseables, pero como señalan Kranton y Minehart, es una abstracción de cómo se asignan los bienes y se determinan los precios que es similar en espíritu a la abstracción del subastador walrasiano. De hecho, podemos mostrar cómo el modelo básico de Kranton y Minehart puede ser codificado como una instancia de nuestro juego, con los comerciantes produciendo precios en equilibrio que coinciden con los precios producidos por su mecanismo de subasta. Finalmente, los resultados clásicos de Shapley y Shubik [13] sobre el juego de asignación pueden ser vistos como el estudio del resultado del comercio en un grafo bipartito en términos del núcleo. Estudian el dual de un programa lineal basado en el problema de emparejamiento, similar a lo que usamos para una versión reducida de nuestro modelo en la siguiente sección, pero su enfoque es diferente ya que no consideran agentes que buscan establecer precios. 2. MERCADOS CON OPERADORES DE PAREJAS Para comprender las ideas detrás del análisis del modelo general, es muy útil considerar primero un caso especial con un re1 Kranton y Minehart, sin embargo, también pueden analizar un entorno más general en el que los valores de los compradores son privados y, por lo tanto, compradores y vendedores juegan un juego de información incompleta. Solo trabajamos con información completa. 146 forma restringida de comerciantes a los que nos referimos como operadores de pares. En este caso, cada comerciante está conectado a solo un comprador y un vendedor. (Por lo tanto, sirve esencialmente como una ruta comercial entre los dos). Las técnicas que desarrollamos para manejar este caso formarán una base útil para razonar sobre el caso de los comerciantes que pueden estar conectados arbitrariamente a los vendedores y compradores. Relacionaremos las ganancias en un equilibrio de Nash perfecto en subjuegos con las soluciones óptimas de un cierto programa lineal, utilizaremos esta relación para demostrar que todos los equilibrios resultan en una asignación eficiente de los bienes, y mostraremos que siempre existe un equilibrio puro. Primero, consideramos el modelo más simple donde los vendedores tienen artículos indistinguibles, y cada comprador está interesado en obtener un artículo. Luego extendemos los resultados al caso más general de un mercado de emparejamiento, como se discutió en la sección anterior, donde las valoraciones dependen de la identidad del vendedor y comprador. Luego caracterizamos las ganancias mínimas y máximas que los comerciantes pueden obtener. En la siguiente sección, extendemos los resultados a los operadores que pueden estar conectados a cualquier subconjunto de vendedores y compradores. Dado que estamos trabajando con operadores de pares en esta sección, podemos representar el problema utilizando un grafo bipartito G cuyo conjunto de nodos es B ∪ S, y donde cada operador t, conectando al vendedor i y al comprador j, aparece como una arista t = (i, j) en G. Sin embargo, cabe destacar que permitimos que múltiples operadores conecten el mismo par de agentes. Para cada comprador y vendedor i, usaremos adj(i) para denotar el conjunto de comerciantes que pueden comerciar con i. 2.1 Bienes Indistinguibles El intercambio socialmente óptimo para el caso de bienes indistinguibles es la solución del problema de transporte: enviar bienes a lo largo de los bordes que representan a los comerciantes. Las aristas a lo largo de las cuales ocurre el comercio corresponden a un emparejamiento en este grafo bipartito, y el comercio óptimo está descrito por el siguiente programa lineal. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B A continuación, consideramos un equilibrio. Cada operador t = (i, j) debe ofrecer una oferta βt y una demanda αt. (Omitimos el subíndice que denota al vendedor y comprador aquí, ya que estamos tratando con operadores en pares). Dado el precio de oferta y demanda, los agentes reaccionan a estos precios, como se describió anteriormente. En lugar de enfocarnos en los precios, nos enfocaremos en las ganancias. Si un vendedor i vende a un comerciante t ∈ adj(i) con una oferta βt, entonces su ganancia es pi = βt − θi. De manera similar, si un comprador j compra a un comerciante t ∈ adj(j) con una oferta αt, entonces su ganancia es pj = θj − αt. Finalmente, si un comerciante t opera con la oferta αt y la demanda βt, entonces su ganancia es yt = αt − βt. Todos los agentes que no están involucrados en el comercio no obtienen ganancias. Demostraremos que las ganancias en equilibrio son una solución óptima para el siguiente programa lineal. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMA 2.1. En el equilibrio, los beneficios deben satisfacer las desigualdades anteriores. Prueba. Claramente, todas las ganancias son no negativas, ya que el comercio es opcional para todos los agentes. Para ver por qué se cumplen el último conjunto de desigualdades, considera dos casos por separado. Para un comerciante t que realizó un intercambio, obtenemos igualdad por definición. Para otros comerciantes t = (i, j), el valor pi + θi es el precio al que el vendedor i vendió (o θi si el vendedor i decidió quedarse con el bien). Ofrecer una oferta βt > pi + θi haría que el vendedor vendiera al comerciante t. De manera similar, θj − pj es el precio al que el comprador j compró (o θj si no compró), y para cualquier oferta αt < θj − pj, el comprador comprará al comerciante t. Por lo tanto, a menos que θj − pj ≤ θi + pi, el comerciante tiene una desviación rentable. Ahora estamos listos para demostrar nuestro primer teorema: TEOREMA 2.2. En cualquier equilibrio, el comercio es eficiente. Prueba. Que x sea un flujo de bienes que resulta en un equilibrio, y que las variables p e y sean las ganancias. Considera el programa lineal que describe el comercio socialmente óptimo. También agregaremos un conjunto de restricciones adicionales xt ≤ 1 para todos los operadores t ∈ T; esto se puede agregar a la descripción, ya que está implícito en las otras restricciones. Ahora afirmamos que los dos programas lineales son duales entre sí. Las variables pi para los agentes B ∪ S corresponden a las ecuaciones Pt∈adj(i) xt ≤ 1. La variable dual adicional yt corresponde a una desigualdad adicional xt ≤ 1. La optimalidad del valor social del intercambio se seguirá de la afirmación de que la solución de estos dos programas lineales derivados de un equilibrio satisface las condiciones de holgura complementaria para este par de programas lineales, y por lo tanto tanto x como (p, y) son soluciones óptimas de los programas lineales correspondientes. Existen tres condiciones de holgura complementarias diferentes que debemos considerar, correspondientes a los tres conjuntos de variables x, y y p. Cualquier agente solo puede obtener ganancias si realiza transacciones, por lo que pi > 0 implica que P t∈adj(i) xt = 1, y de manera similar, yt > 0 implica que xt = 1 también. Finalmente, considera a un trader t con xt > 0 que negocia entre el vendedor i y el comprador j, y recuerda que hemos visto anteriormente que la desigualdad yt ≥ (θj − pj) − (θi + pi) se cumple con igualdad para aquellos que comercian. A continuación argumentamos que los equilibrios siempre existen. TEOREMA 2.3. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro de valores de oferta y demanda que respalda este comercio. Prueba. Considera un intercambio eficiente; sea xt = 1 si t intercambia y 0 en caso contrario; y considera una solución óptima (p, y) para el programa lineal dual. Nos gustaría afirmar que todas las soluciones duales corresponden a precios de equilibrio, pero desafortunadamente esto no es exactamente cierto. Antes de poder convertir una solución dual en precios de equilibrio, es posible que necesitemos modificar ligeramente la solución de la siguiente manera. Considera cualquier agente i que solo esté conectado a un único comerciante t. Debido a que el agente está solo conectado a un único comerciante, las variables yt y pi son variables duales correspondientes a la misma desigualdad primal xt ≤ 1, y siempre aparecen juntas como yt + pi en todas las desigualdades, y también en la función objetivo. Por lo tanto, existe una solución óptima en la que pi = 0 para todos los agentes i conectados solo a un único comerciante. Supongamos que (p, y) es una solución dual donde los agentes conectados solo a un comerciante tienen pi = 0. Para un vendedor i, dejemos que βt = θi + pi sea la oferta para todos los comerciantes t adyacentes a i. De manera similar, para cada comprador j, sea αt = θj − pj la oferta para todos los operadores t adyacentes a j. Sostenemos que este conjunto de ofertas y demandas, junto con la transacción x, constituyen un equilibrio. Para entender por qué, hay que tener en cuenta que todos los operadores t adyacentes a un vendedor o comprador i ofrecen la misma oferta o demanda, por lo que comerciar con cualquier operador es igualmente bueno para el agente i. Además, si i no está operando en la solución 147 x, entonces por holgura complementaria pi = 0, y por lo tanto, no operar también es igualmente bueno para i. Esto muestra que los vendedores y compradores no tienen un incentivo para desviarse. Necesitamos demostrar que los comerciantes no tienen incentivos para desviarse tampoco. Cuando un comerciante t está negociando con el vendedor i y el comprador j, las desviaciones rentables implicarían aumentar αt o disminuir βt. Pero por nuestra construcción (y suposición sobre agentes monopolizados) todos los vendedores y compradores tienen múltiples ofertas de compra/venta idénticas, o el intercambio está ocurriendo a valuación. En cualquier caso, tal desviación no puede tener éxito. Finalmente, considera un trader t = (i, j) que no realiza intercambios. Una desviación para t implicaría ofrecer una oferta más baja al vendedor i y una oferta más alta al vendedor j que su intercambio actual. Sin embargo, yt = 0 por holgura complementaria, y por lo tanto pi + θi ≥ θj − pj, por lo que i vende a un precio al menos tan alto como el precio al que j compra, por lo que el comerciante t no puede crear un intercambio rentable. Se debe tener en cuenta que un vendedor o comprador conectado a un único comerciante t no puede obtener beneficios en equilibrio, por lo que los posibles beneficios en equilibrio están en correspondencia uno a uno con las soluciones duales para las cuales pi = 0 siempre que i esté monopolizado por un único comerciante. Una característica decepcionante del equilibrio creado por esta prueba es que algunos agentes t pueden tener que crear pares de oferta y demanda donde βt > αt, ofreciendo comprar por más del precio al que están dispuestos a vender. Los agentes que realizan tales pares de oferta y demanda nunca realizan realmente una transacción, por lo que no resulta en una pérdida de beneficios para el agente, pero dichos pares son poco comunes. Los pares de ofertas y demandas cruzadas son débilmente dominados por la estrategia de ofrecer una oferta baja β = 0 y una demanda extremadamente alta para garantizar que ninguna sea aceptada. Para formular una forma de evitar tales pares cruzados, decimos que un equilibrio es libre de cruces si αt ≥ βt para todos los operadores t. Ahora mostramos que siempre hay un equilibrio libre de cruces. TEOREMA 2.4. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro y libre de cruces. Prueba. Considera una solución óptima para el programa lineal dual. Para obtener un equilibrio sin cruzar ofertas, necesitamos hacer una modificación más general que simplemente asumir que pi = 0 para todos los vendedores y compradores conectados a un único operador. Que el conjunto E sea el conjunto de aristas t = (i, j) que son tensas, en el sentido de que tenemos la igualdad yt = (θj − pj) − (θi + pi). Este conjunto E contiene todos los bordes donde ocurre el comercio, y algunos bordes adicionales. Queremos asegurarnos de que pi = 0 para todos los vendedores y compradores que tengan un grado de a lo sumo 1 en E. Considere un vendedor i que tiene pi > 0. Debemos tener i involucrado en un intercambio, y el borde t = (i, j) a lo largo del cual ocurre el intercambio debe ser ajustado. Supongamos que este es el único borde ajustado adyacente al agente i; entonces podemos disminuir pi e incrementar yt hasta que ocurra una de las siguientes situaciones: o bien pi = 0 o la restricción de algún otro agente t ∈ adj(i) se vuelva ajustada. Esta modificación solo aumenta el conjunto de aristas ajustadas E, mantiene la solución factible y no cambia el valor de la función objetivo. Entonces, después de hacer esto para todos los vendedores, y cambiando de manera análoga yt y pj para todos los compradores, obtenemos una solución óptima donde todos los vendedores y compradores i tienen pi = 0 o tienen al menos dos aristas ajustadas adyacentes. Ahora podemos establecer ofertas y demandas para formar un equilibrio libre de cruces. Para todos los traders t = (i, j) asociados con un borde t ∈ E, establecemos αt y βt como antes: fijamos la oferta βt = pi + θi y la demanda αt = θj − pj. Para un trader t = (i, j) ∈ E, tenemos que pi + θi > θj − pj y establecemos αt = βt para que sea cualquier valor en el rango [θj − pj, pi + θi]. Esto garantiza que para cada vendedor o comprador, la mejor oferta de venta o compra se encuentra a lo largo del borde donde se produce el intercambio en la solución. Los valores de askbid a lo largo de los bordes ajustados garantizan que los traders que operan no puedan aumentar su spread. Los operadores t = (i, j) que no realizan operaciones no pueden obtener ganancias debido a la restricción pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) Ningún operador obtiene ganancias 1 1 1 0 x x x x 1 x x 0 x (b) Ganancias del operador Figura 2: Izquierda: un equilibrio con ofertas cruzadas donde los operadores no ganan dinero. Correcto: un equilibrio sin ofertas cruzadas para cualquier valor x ∈ [0, 1]. La ganancia total del comerciante oscila entre 1 y 2. 2.2 Bienes distinguibles. Ahora consideramos el caso de bienes distinguibles. Como en la sección anterior, podemos escribir un programa lineal de transbordo para el comercio socialmente óptimo, con el único cambio en la función objetivo. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) Podemos demostrar que el dual de este programa lineal corresponde a las ganancias de los comerciantes. Recuerda que necesitábamos agregar las restricciones xt ≤ 1 para todos los traders. El dual es entonces: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T. No es difícil extender las pruebas de los Teoremas 2.2 - 2.4 a este caso. Las ganancias en un equilibrio satisfacen las restricciones duales, y las ganancias y el comercio satisfacen la holgura complementaria. Esto demuestra que el comercio es socialmente óptimo. Tomando una solución dual óptima donde pi = 0 para todos los agentes que están monopolizados, podemos convertirla en un equilibrio, y con un poco más de cuidado, también podemos crear un equilibrio sin pares de oferta y demanda cruzados. TEOREMA 2.5. Todos los equilibrios para el caso de los operadores en pares con bienes distinguibles resultan en un comercio socialmente óptimo. Existen equilibrios puros no cruzados. 2.3 Ganancias de los operadores Hemos visto que todos los equilibrios son eficientes. Sin embargo, resulta que los equilibrios pueden diferir en cómo se distribuye el valor de la asignación entre los vendedores, compradores e intermediarios. La Figura 2 representa un ejemplo simple de este fenómeno. Nuestro objetivo es entender cómo se ve afectada la ganancia de un trader por su posición en la red; utilizaremos la caracterización que obtuvimos para determinar el rango de ganancias que un trader puede obtener. Para maximizar la ganancia de un operador t (o un subconjunto de operadores T), todo lo que necesitamos hacer es encontrar una solución óptima al programa lineal dual que maximice el valor de yt (o la suma Pt∈T yt). Tales soluciones duales corresponderán a equilibrios con precios no cruzados. TEOREMA 2.6. Para cualquier operador t o subconjunto de operadores T, la ganancia total máxima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. Este beneficio máximo se puede obtener mediante un equilibrio no cruzado. Una forma de pensar en la ganancia de un trader t = (i, j) es como una resta del valor del borde correspondiente (i, j). El valor del borde es el valor social θji − θij si el comerciante no obtiene ganancias, y disminuye a θji − θij − yt si el comerciante t insiste en obtener una ganancia de yt. El comerciante t obtiene un beneficio yt en equilibrio, si después de esta disminución en el valor del borde, el borde sigue incluido en el transbordo óptimo. TEOREMA 2.7. Un comerciante t puede obtener beneficios en un equilibrio si y solo si t es esencial para el bienestar social, es decir, si eliminar al agente t disminuye el bienestar social. La ganancia máxima que puede obtener es exactamente su valor para la sociedad, es decir, el aumento que su presencia provoca en el bienestar social. Si permitimos el cruce de equilibrios, entonces también podemos encontrar la ganancia mínima posible. Recuerde que en la demostración del Teorema 2.3, los comerciantes solo ganaron dinero de vendedores o compradores sobre los que tenían un monopolio. Permitiendo tales equilibrios con ofertas cruzadas, podemos encontrar la ganancia mínima que un trader o conjunto de traders puede obtener, minimizando el valor yt (o la suma de P t∈T yt) en todas las soluciones óptimas que satisfacen que pi = 0 siempre que i esté conectado solo a un trader. TEOREMA 2.8. Para cualquier operador t o subconjunto de operadores T, la ganancia total mínima que pueden obtener en cualquier equilibrio puede ser calculada en tiempo polinómico. A continuación, extendemos los resultados a un modelo en el que los comerciantes pueden estar conectados a un número arbitrario de vendedores y compradores. Para un comerciante t ∈ T utilizaremos S(t) y B(t) para denotar el conjunto de compradores y vendedores conectados al comerciante t. En esta sección nos enfocamos en el caso general cuando los bienes son distinguibles (es decir, tanto los compradores como los vendedores tienen valoraciones que son sensibles a la identidad del agente con el que se emparejan en la asignación). En la versión completa del artículo también discutimos el caso especial de bienes indistinguibles con más detalle. Para obtener el intercambio óptimo, consideramos el grafo bipartito G = (S ∪ B, E) que conecta vendedores y compradores, donde una arista e = (i, j) conecta un vendedor i y un comprador j si hay un comerciante adyacente a ambos: E = {(i, j) : adj(i) ∩ adj(j) = ∅}. En este gráfico, luego resolvemos la instancia del problema de asignación que también se utilizó en la Sección 2.2, con el valor del borde (i, j) igual a θji − θij (ya que el valor del intercambio entre i y j es independiente de qué comerciante realizó el intercambio). También utilizaremos el dual de este programa lineal: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Ofertas y Demandas y Optimización del Trader. Primero necesitamos entender qué modelo de oferta utilizaremos. Incluso cuando los bienes son indistinguibles, un comerciante puede querer practicar discriminación de precios y ofrecer diferentes valores de oferta y demanda a diferentes vendedores y compradores. En el caso de bienes distinguibles, tenemos que lidiar con una complicación adicional: el comerciante tiene que nombrar el bien que está proponiendo vender o comprar, y posiblemente ofrecer múltiples productos diferentes. Hay dos variantes de nuestro modelo dependiendo de si un trader hace una única oferta de compra o venta a un vendedor o comprador, o si ofrece un menú de opciones. (i) Un trader t puede ofrecer a un comprador j un menú de ofertas de compra αtji, un vector de valores para todos los productos a los que está conectado, donde αtji es la oferta de compra para el producto del vendedor i. De manera simétrica, un trader t puede ofrecer a cada vendedor i un menú de ofertas de venta βtij para vender a diferentes compradores j. (ii) Alternativamente, podemos requerir que cada trader t pueda hacer como máximo una oferta de compra a cada vendedor y una oferta de venta para cada comprador, y una oferta de compra debe incluir el producto vendido, y una oferta de venta debe ofrecer a un comprador en particular para venderle. Nuestros resultados se mantienen en ambos modelos. Para simplificar la notación, utilizaremos la opción del menú aquí. A continuación, necesitamos entender el problema de optimización de un trader t. Supongamos que tenemos valores de oferta y demanda para todos los demás traders t ∈ T, t = t. ¿Cuáles son las mejores ofertas de compra y venta que el trader t puede hacer como mejor respuesta al conjunto actual de ofertas de compra y venta? Para cada vendedor i, dejemos que pi sea la ganancia máxima que el vendedor i puede obtener utilizando ofertas de otros comerciantes, y asumamos de manera simétrica que pj es la ganancia máxima que el comprador j puede obtener utilizando demandas de otros comerciantes (dejando pi = 0 para cualquier vendedor o comprador i que no pueda obtener ganancias). Ahora considera un par vendedor-comprador (i, j) que el comerciante t puede conectar. El trader t tendrá que hacer una oferta de al menos βtij = θij + pi al vendedor i y un precio de venta de como máximo αtji = θji − pj al comprador j para realizar esta transacción, por lo que la ganancia máxima que puede obtener en esta operación es vtij = αtji − βtij = θji − pj − (θij + pi). El intercambio óptimo para el trader t se obtiene resolviendo un problema de emparejamiento para encontrar la correspondencia entre los vendedores S(t) y compradores B(t) que maximiza el valor total vtij para el trader t. Necesitaremos el dual del programa lineal para encontrar el intercambio de máximo beneficio para el trader t. Utilizaremos qti como la variable dual asociada con la restricción del vendedor o comprador i. El dual es entonces el siguiente problema. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t). Vemos qti como la ganancia obtenida por t al comerciar con el vendedor o comprador i. El Teorema 3.1 resume la discusión anterior. TEOREMA 3.1. Para un trader t, dado las ofertas más bajas βtij y las peticiones más altas αtji que pueden ser aceptadas para los vendedores i ∈ S(t) y compradores j ∈ B(t), el mejor intercambio que t puede hacer es el emparejamiento de valor máximo entre S(t) y B(t) con valor vtij = αtji − βtij para la arista (i, j). Este valor máximo es igual al mínimo del programa lineal dual anterior. 3.2 Comercio eficiente y equilibrio Ahora podemos demostrar que el comercio en equilibrio siempre es eficiente. TEOREMA 3.2. Cada equilibrio resulta en una asignación eficiente de los bienes. Prueba. Considera un equilibrio, con xe = 1 si y solo si el comercio ocurre a lo largo del borde e = (i, j). El comercio es una solución al programa lineal de transbordo utilizado en la Sección 2.2. Que pi denote la ganancia del vendedor o comprador i. Cada operador t actualmente tiene la mejor solución a su propio problema de optimización. Un comerciante t encuentra su intercambio óptimo (dadas las ofertas y demandas de los otros 149 comerciantes) resolviendo un problema de emparejamiento. Que qti para i ∈ B(t)∪S(t) denote la solución dual óptima a este problema de emparejamiento como se describe en el Teorema 3.1. Al configurar el problema de optimización para un trader t anteriormente, usamos pi para denotar la ganancia máxima que puedo obtener sin la oferta del trader t. Tenga en cuenta que este pi es exactamente el mismo pi que usamos aquí, la ganancia del agente i. Esto es claramente cierto para todos los operadores t que no están comerciando con i en el equilibrio. Para ver por qué es cierto para el operador t con el que i está negociando, usamos que el conjunto actual de valores de oferta y demanda es un equilibrio. Si para cualquier agente i la oferta o demanda del trader t fuera la única mejor opción, entonces t podría obtener más beneficios ofreciendo una demanda un poco más alta o una oferta un poco más baja, lo cual sería una contradicción. Mostramos que el intercambio x es óptimo al considerar la solución dual zi = pi + P t qti para todos los agentes i ∈ B ∪ S. Afirmamos que z es una solución dual y satisface la holgura complementaria con el intercambio x. Para ver esto, necesitamos mostrar algunos hechos. Necesitamos que zi > 0 implique que i comercie. Si zi > 0, entonces o bien pi > 0 o qti > 0 para algún trader t. El agente i solo puede obtener ganancias pi > 0 si está involucrado en una transacción. Si qti > 0 para algún t, entonces el trader t debe comerciar con i, ya que su solución es óptima, y por holgura complementaria para la solución dual, qti > 0 implica que t comercia con i. Para un borde (i, j) asociado con un trader t, necesitamos mostrar que la solución dual es factible, es decir, zi + zj ≥ θji − θij. Se recuerda que vtij = θji −pj −(θij +pi), y la restricción dual del problema de optimización de los traders requiere qti + qtj ≥ vtij. Al juntar todo esto, tenemos zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij. Finalmente, necesitamos demostrar que las variables de intercambio x también cumplen la restricción de holgura complementaria: cuando xe > 0 para una arista e = (i, j) entonces la restricción dual correspondiente es activa. Que t sea el comerciante involucrado en la transacción. Por la holgura complementaria del problema de optimización de ts, tenemos qti + qtj = vtij. Para ver que z satisface la holgura complementaria, necesitamos argumentar que para todos los otros comerciantes t = t, tenemos tanto qt i = 0 como qt j = 0. Esto es cierto ya que qt i > 0 implica por la holgura complementaria del problema de optimización de t s que t debe comerciar con i en el óptimo, y t = t está comerciando. A continuación queremos demostrar que siempre existe un equilibrio no cruzado. Llamamos a un equilibrio no cruzado si las ofertas de compra y venta que un trader t hace para un par vendedor-comprador (i, j) nunca se cruzan, es decir, βtij ≤ αtji para todo t, i, j. TEOREMA 3.3. Existe un equilibrio no cruzado que respalda cualquier intercambio socialmente óptimo. Prueba. Considera un intercambio óptimo x y una solución dual z como antes. Para encontrar un equilibrio no cruzado necesitamos dividir la ganancia zi entre i y el comerciante t que negocia con i. Usaremos qti como el beneficio del comerciante asociado con el agente i para cualquier i ∈ S(t) ∪ B(t). Necesitaremos garantizar las siguientes propiedades: El comerciante t comercia con el agente i siempre que qti > 0. Esta es una de las condiciones de holgura complementaria para asegurar que el intercambio actual sea óptimo para el trader t. Para todos los pares vendedor-comprador (i, j) con los que un trader t puede comerciar, tenemos que pi + qti + pj + qtj ≥ θji − θij, (1) lo cual asegurará que qt sea una solución dual factible para el problema de optimización al que se enfrenta el trader t. Necesitamos tener igualdad en (1) cuando el trader t está comerciando entre i y j. Esta es una de las condiciones de holgura complementaria para el trader t, y garantizará que el intercambio de t sea óptimo para el trader. Finalmente, queremos organizar que cada agente i con pi > 0 tenga múltiples ofertas para obtener ganancias pi, y que el intercambio se realice en una de sus mejores ofertas. Para garantizar esto en las ofertas y demandas correspondientes, necesitamos asegurarnos de que siempre que pi > 0 haya múltiples t ∈ adj(i) que cumplan con la ecuación en la restricción anterior (1). Comenzamos estableciendo pi = zi para todo i ∈ S ∪ B y qti = 0 para todo i ∈ S ∪ B y traders t ∈ adj(i). Esto garantiza todos los invariantes excepto la última propiedad sobre múltiples t ∈ adj(t) teniendo igualdad en (1). Modificaremos p y q para aplicar gradualmente la última condición, manteniendo las demás. Considera un vendedor con pi > 0. Por la optimalidad del intercambio y la solución dual z, el vendedor i debe comerciar con algún comerciante t, y ese comerciante tendrá igualdad en (1) para el comprador j con el que se empareja i. Si este es el único operador t que tiene una restricción estricta en (1) que involucra al vendedor i, entonces aumentamos qti y disminuimos pi hasta que pi = 0 o hasta que otro operador t = t logre la igualdad en (1) para algún borde del comprador adyacente a i (posiblemente un comprador diferente j). Este cambio mantiene todas las invariantes y aumenta el conjunto de vendedores que también cumplen con la última restricción. Podemos hacer un cambio similar para un comprador j que tiene pj > 0 y solo tiene un operador t con una restricción ajustada (1) adyacente a j. Después de posiblemente repetir esto para todos los vendedores y compradores, obtenemos ganancias que satisfacen todas las restricciones. Ahora obtenemos los valores de oferta y demanda de equilibrio de la siguiente manera. Para un operador t que tiene igualdad para el par vendedor-comprador (i, j) en (1), ofrecemos αtji = θji − pj y βtij = θij + pi. Para todos los demás comerciantes t y pares de vendedor-comprador (i, j) tenemos el invariante (1), y utilizando esto sabemos que podemos elegir un valor γ en el rango θij +pi+qti ≥ γ ≥ θji − (pj + qtj). Ofrecemos valores de oferta y demanda βtij = αtji = γ. Ni la oferta ni la demanda serán la única mejor oferta para el comprador, por lo tanto, el intercambio x sigue siendo un equilibrio. 3.3 Ganancias del Trader Finalmente, nos enfocamos en el objetivo de comprender, en el caso de los traders generales, cómo se ve afectada la ganancia de un trader por su posición en la red. Primero, mostramos cómo maximizar la ganancia total de un grupo de comerciantes. La ganancia del comerciante t en un equilibrio es P i qti. Para encontrar la ganancia máxima posible para un trader t o un conjunto de traders T, necesitamos hacer lo siguiente: Encontrar ganancias pi ≥ 0 y qti > 0 de manera que zi = pi + P t∈adj(i) qti sea una solución dual óptima, y también cumpla con las restricciones (1) para cualquier vendedor i y comprador j conectados a través de un trader t ∈ T. Ahora, sujeto a todas estas condiciones, maximizamos la suma P t∈T P i∈S(t)∪B(t) qti. Ten en cuenta que esta maximización es una función objetivo secundaria con respecto al objetivo principal de que z sea una solución dual óptima. Luego usamos la prueba del Teorema 3.3 que muestra cómo convertir esto en un equilibrio. TEOREMA 3.4. El valor máximo para P t∈T P i qti anterior es la máxima ganancia que el conjunto T de comerciantes puede obtener. Prueba. Por la demostración del Teorema 3.2, las ganancias del comerciante t pueden ser escritas en esta forma, por lo que el conjunto de comerciantes T no puede obtener más ganancias de las reclamadas en este teorema. Para ver que T realmente puede obtener tantas ganancias, usamos la prueba del Teorema 3.3. Modificamos esa prueba para empezar con los vectores de ganancias p y qt para t ∈ T, y establecemos qt = 0 para todos los traders t ∈ T. Verificamos que esta solución inicial cumple con las tres primeras de las cuatro propiedades requeridas, y luego podemos seguir la demostración para hacer que la cuarta propiedad sea verdadera. Omitimos los detalles de esto en la versión actual. En la Sección 2.3 demostramos que en el caso de los traders de pares, un trader t puede ganar dinero si es esencial para el comercio eficiente. Esto no es 150 1 1 Figura 3: El comerciante principal es esencial para el bienestar social. Sin embargo, el único equilibrio es tener valores de oferta y demanda iguales a 0, y el comerciante no obtiene beneficios. Esto es cierto para el tipo de comerciantes más generales que consideramos aquí, como se muestra en el ejemplo de la Figura 3. Sin embargo, aún obtenemos una caracterización de cuándo un comerciante t puede obtener una ganancia positiva. TEOREMA 3.5. Un comerciante t puede obtener ganancias en un equilibrio si y solo si hay un vendedor o comprador i adyacente a t tal que la conexión del comerciante t con el agente i es esencial para el bienestar social, es decir, si eliminar al agente t de adj(i) disminuye el valor de la asignación óptima. Prueba. Primero mostramos la dirección en la que si un comerciante t puede ganar dinero, debe haber un agente i tal que la conexión de t con i sea esencial para el bienestar social. Sean p, q las ganancias en un equilibrio donde t gana dinero, como se describe en el Teorema 3.2 con P i∈S(t)∪B(t) qti > 0. Así que tenemos un agente i con qti > 0. Sostenemos que la conexión entre el agente i y el comerciante t debe ser esencial, en particular, sostenemos que el bienestar social debe disminuir al menos en qti si eliminamos t de adj(t). Para ver por qué, observe que al disminuir el valor de todas las aristas de la forma (i, j) asociadas con el comerciante t en qti, se mantiene el mismo óptimo de comercio, ya que obtenemos una solución dual de emparejamiento simplemente restableciendo qti a cero. Para ver lo contrario, suponga que eliminar t de adj(t) disminuye el bienestar social en algún valor γ. Supongamos que i es un vendedor (el caso de los compradores es simétrico), y disminuye en γ el valor social de cada arista (i, j) para cualquier comprador j tal que t sea el único agente que conecta a i y j. Por supuesto, el intercambio sigue siendo óptimo y dejamos que z sea la solución dual para esta correspondencia. Ahora utilizamos el mismo proceso que en la demostración del Teorema 3.3 para crear un equilibrio no cruzado comenzando con pi = zi para todo i ∈ S ∪ B, y qti = γ, y todos los demás valores de q igual a 0. Esto crea un equilibrio con ofertas que no se cruzan, donde t obtiene al menos γ de beneficio (debido al intercambio con el vendedor i). Finalmente, si permitimos el cruce de equilibrios, entonces podemos encontrar la ganancia mínima posible simplemente encontrando una solución dual que minimice las variables duales asociadas con los agentes monopolizados por algún comerciante. TEOREMA 3.6. Para cualquier trader t o subconjunto de traders T, la ganancia total mínima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. 4. REFERENCIAS [1] M. Babaioff, N. Nisan, E. Pavlov. Mecanismos para un mercado distribuido espacialmente. Conferencia ACM EC, 2005. [2] C. Barrett, E. Mutambatsere. Mercados agrícolas en países en desarrollo. El Nuevo Diccionario de Economía de Palgrave, 2da edición, próximo a publicarse. [3] Kenneth Burdett y Kenneth Judd. Dispersión del precio de equilibrio. Econometrica, 51/4, julio de 1983, 955-969. [4] L. Chu, Z.-J. I'm sorry, but \"Shen\" is not a sentence. Can you please provide a sentence for me to translate into Spanish? Mecanismo de subasta doble de competencia de agentes. Ciencia de la Gestión, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor. Subastas de varios artículos. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Econ. Política 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri. Un juego de formación de redes para economías de intercambio bipartitas. Simposio ACM-SIAM sobre Algoritmos Discretos (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald. Precios dinámicos por agentes de software. Redes de Computadoras, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri. Propiedades económicas de las redes sociales. NIPS 2004. [9] R. Kranton, D. Minehart. \n\nNIPS 2004. [9] R. Kranton, D. Minehart. Una teoría de redes de comprador-vendedor. American Economic Review 91(3), junio de 2001. [10] H. Leonard. Elicitación de preferencias honestas para la asignación de individuos a posiciones. J. Pol. Econ, 1983. [11] M. E. J. Newman. \n\nEcon, 1983. [11] M. E. J. Newman. La estructura y función de redes complejas. SIAM Review, 45:167-256, 2003. [12] M. OHara. \n\nRevista SIAM, 45:167-256, 2003. [12] M. OHara. Teoría de la Microestructura del Mercado. Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.\nEditorial Blackwell, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, El juego de asignación I: El núcleo. Internacional. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Teoría de Juegos 1/2 111-130, 1972. [14] Jean Tirole. La Teoría de la Organización Industrial. El MIT Press, Cambridge, MA, 1988. 151 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "strategic behavior of trader": {
            "translated_key": "comportamiento estratégico de los operadores",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the <br>strategic behavior of trader</br>s.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [
                "In contrast, our model has known valuations and prices arising from the <br>strategic behavior of trader</br>s."
            ],
            "translated_annotated_samples": [
                "Por el contrario, nuestro modelo tiene valoraciones y precios conocidos que surgen del <br>comportamiento estratégico de los operadores</br>."
            ],
            "translated_text": "Redes de intercambio con agentes que fijan precios Larry Blume Dept. En una amplia gama de mercados, los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, quienes determinan los precios mediante consideraciones estratégicas. Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el mercado. Modelamos este fenómeno utilizando un juego en el que compradores, vendedores e intermediarios participan en transacciones en un gráfico que representa el acceso que cada comprador y vendedor tiene a los intermediarios. En este modelo, los comerciantes establecen precios estratégicamente, y luego los compradores y vendedores reaccionan a los precios que se les ofrecen. Mostramos que el juego resultante siempre tiene un equilibrio de Nash perfecto en subjuegos, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. Extendemos estos resultados a un tipo más general de mercado de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores. Finalmente, consideramos cómo los beneficios obtenidos por los comerciantes dependen del grafo subyacente: en resumen, un comerciante puede obtener un beneficio positivo si y solo si tiene una conexión esencial en la estructura de la red, proporcionando así una base teórica de grafos para cuantificar la cantidad de competencia entre los comerciantes. Nuestro trabajo difiere de los estudios recientes sobre cómo el precio se ve afectado por la estructura de la red a través de nuestro modelado del establecimiento de precios como una actividad estratégica realizada por un subconjunto de agentes en el sistema, en lugar de estudiar precios establecidos a través de un equilibrio competitivo o por un mecanismo veraz. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1. INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio. Un ejemplo de esta configuración es el comercio de productos agrícolas en países en desarrollo. Dada la falta de redes de transporte adecuadas y el limitado acceso de los agricultores pobres al capital, muchos agricultores no tienen otra alternativa que comerciar con intermediarios en mercados locales ineficientes. Un país en desarrollo puede tener muchos mercados parcialmente superpuestos que coexisten junto a mercados modernos y eficientes. Los mercados financieros proporcionan un ejemplo diferente de un entorno con estas características generales. En estos mercados, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de mercado y sistemas de negociación electrónica. Para muchos activos no hay un único mercado; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en mercados de otros países. Algunos compradores y vendedores tienen acceso a muchos o a todos estos lugares de negociación; otros solo tienen acceso a uno o a unos pocos de ellos. El precio al que se negocia el activo puede variar en estos lugares de negociación. De hecho, no hay un precio fijo ya que diferentes comerciantes pagan o reciben precios diferentes. En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el precio de compra. Uno de los ejemplos más llamativos de este fenómeno ocurre en el mercado de divisas, donde existe un mercado interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto. Los spreads, definidos como la diferencia entre los precios de oferta y demanda, difieren significativamente en estos mercados, a pesar de que el mismo activo se está negociando en ambos mercados. En este artículo, desarrollamos un marco en el que tales fenómenos surgen de un modelo de comercio basado en teoría de juegos, con compradores, vendedores e intermediarios interactuando en una red. Los bordes de la red conectan a los comerciantes con los compradores y vendedores, y por lo tanto representan el acceso que tienen los diferentes participantes del mercado entre sí. Los comerciantes actúan como intermediarios en un juego de comercio de dos etapas: eligen estratégicamente los precios de oferta y demanda para ofrecer a los vendedores y compradores a los que están conectados; luego, los vendedores y compradores reaccionan a los precios que enfrentan. Por lo tanto, la red codifica el poder relativo en las posiciones estructurales de los participantes del mercado, incluyendo los niveles implícitos de competencia entre los traders. Mostramos que este juego siempre tiene un equilibrio de Nash perfecto en subjuegos de 143, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. También analizamos cómo los beneficios de los operadores dependen de la estructura de la red, caracterizando esencialmente en términos de teoría de grafos cómo se determina el pago de un operador por la cantidad de competencia que experimenta con otros operadores. Nuestro trabajo aquí está conectado a varias líneas de investigación en economía, finanzas y teoría de juegos algorítmica, y discutimos estas conexiones con más detalle más adelante en la introducción. A un nivel general, nuestro enfoque puede ser visto como la síntesis de dos importantes corrientes de trabajo: una que trata la interacción comprador-vendedor utilizando estructuras de red, pero sin intentar modelar los procesos mediante los cuales los precios son realmente formados [1, 4, 5, 6, 8, 9, 10, 13]; y otra corriente en la literatura sobre microestructura de mercado que incorpora intermediarios en la fijación de precios, pero sin restricciones de tipo red sobre quién puede comerciar con quién [12]. Al desarrollar un modelo de red que incluye explícitamente a los comerciantes como agentes que establecen precios, en un sistema junto con compradores y vendedores, podemos capturar la formación de precios en un entorno de red como un proceso estratégico llevado a cabo por intermediarios, en lugar de como resultado de un mecanismo centralizado o exógeno. El Modelo Básico: Bienes Indistinguibles. Nuestro objetivo al formular el modelo es expresar el proceso de fijación de precios en mercados como los discutidos anteriormente, donde los participantes no tienen todos acceso uniforme entre sí. Se nos da un conjunto B de compradores, un conjunto S de vendedores y un conjunto T de traders. Hay un grafo no dirigido G que indica quién puede comerciar con quién. Todos los bordes tienen un extremo en B ∪ S y el otro en T; es decir, cada borde tiene la forma (i, t) para i ∈ S y t ∈ T, o (j, t) para j ∈ B y t ∈ T. Esto refleja las restricciones de que todas las transacciones entre compradores y vendedores pasan por los intermediarios comerciales. En la versión más básica del modelo, consideramos bienes idénticos, de los cuales cada vendedor inicialmente posee una copia. Los compradores y vendedores tienen un valor para una copia del bien, y asumimos que estos valores son de conocimiento común. Posteriormente generalizaremos esto a un escenario en el que los bienes son distinguibles, los compradores pueden valorar los diferentes bienes de manera diferente y, potencialmente, los vendedores también pueden valorar las transacciones con diferentes compradores de manera diferente. Tener diferentes valoraciones de los compradores captura escenarios como las compras de viviendas; agregar diferentes valoraciones de los vendedores también captura mercados de coincidencia, por ejemplo, vendedores como solicitantes de empleo y compradores como empleadores, ambos preocupados por quién termina con qué bien (y con los comerciantes actuando como servicios que facilitan la búsqueda de empleo). Por lo tanto, para comenzar con el modelo básico, hay un solo tipo de bien; el bien viene en unidades indivisibles; y cada vendedor inicialmente posee una unidad del bien. Todos los tres tipos de agentes valoran el dinero a la misma tasa; y cada i ∈ B ∪ S valora adicionalmente una copia del bien en θi unidades de dinero. Ningún agente quiere más de una copia del bien, por lo que las copias adicionales se valoran en 0. Cada agente tiene una dotación inicial de dinero que es mayor que cualquier valoración individual θi; el efecto de esto es garantizar que cualquier comprador que termine sin una copia del bien ha sido excluido del mercado debido a su valoración y posición en la red, no a la falta de fondos. Nos imaginamos que cada bien que se vende fluye a lo largo de una secuencia de dos etapas: desde un vendedor a un comerciante, y luego del comerciante a un comprador. La forma particular en la que fluyen los bienes está determinada por el siguiente juego. Primero, cada comerciante ofrece un precio de oferta a cada vendedor al que está conectado, y un precio de demanda a cada comprador al que está conectado. Los vendedores y compradores luego eligen entre las ofertas presentadas por los comerciantes. Si varios comerciantes proponen el mismo precio a un vendedor o comprador, entonces no hay una mejor respuesta estricta para el vendedor o comprador. En este caso se debe hacer una selección, y, como es habitual (ver por ejemplo [10]), nosotros (los modeladores) elegimos entre las mejores ofertas. Finalmente, cada comerciante compra una copia del bien de cada vendedor que acepta su oferta, y vende una copia del bien a cada comprador que acepta su oferta. Si un comerciante en particular, t, descubre que más compradores que vendedores aceptan sus ofertas, entonces se ha comprometido a proporcionar más copias del bien de las que ha recibido, y diremos que esto resulta en una gran penalización para el comerciante por incumplimiento; el efecto de esto es que en equilibrio, ningún comerciante elegirá precios de oferta y demanda que resulten en un incumplimiento. Más precisamente, una estrategia para cada operador t es una especificación de un precio de oferta βti para cada vendedor i al que t está conectado, y un precio de demanda αtj para cada comprador j al que t está conectado. (También podemos manejar un modelo en el que un operador puede optar por no hacer una oferta a ciertos de sus vendedores o compradores adyacentes). Cada vendedor o comprador elige como máximo una arista incidente, indicando el comerciante con quien realizarán la transacción, al precio indicado. (La elección de una sola arista refleja el hecho de que (a) los vendedores inicialmente solo tienen una copia del bien, y (b) los compradores solo desean una copia del bien). Las ganancias son las siguientes: Para cada vendedor i, la ganancia de seleccionar al comerciante t es βti, mientras que la ganancia de no seleccionar a ningún comerciante es θi. (En el primer caso, el vendedor recibe βti unidades de dinero, mientras que en el segundo caso conserva su copia del bien, al que valora en θi). Para cada comprador j, la ganancia de seleccionar al comerciante t es θj - αtj, mientras que la ganancia de no seleccionar a ningún comerciante es 0. (En el primer caso, el comprador recibe el bien pero renuncia a αtj unidades de dinero). Para cada operador t, con ofertas aceptadas de vendedores i1, . . . , is y compradores j1, . . . , jb, la ganancia es P r αtjr − P r βtir, menos una penalización π si b > s. La penalización se elige lo suficientemente grande para que un operador nunca la sufra en equilibrio, por lo que generalmente no nos preocuparemos por la penalización. Esto define los elementos básicos del juego. El concepto de equilibrio que utilizamos es el equilibrio de Nash perfecto en subjuegos. Algunos ejemplos. Para ayudar a pensar en el modelo, ahora describimos tres ejemplos ilustrativos, representados en la Figura 1. Para evitar que las figuras se vuelvan demasiado desordenadas, adoptamos las siguientes convenciones: los vendedores se representan como círculos en la columna más a la izquierda y se les asigna el nombre i1, i2, ... de arriba abajo; los comerciantes se representan como cuadrados en la columna del medio y se les asigna el nombre t1, t2, ... de arriba abajo; y los compradores se representan como círculos en la columna más a la derecha y se les asigna el nombre j1, j2, ... de arriba abajo. Todos los vendedores en los ejemplos tendrán valoraciones para el bien iguales a 0; la valoración de cada comprador se dibuja dentro de su círculo; y el precio de oferta o demanda en cada borde se dibuja encima del borde. En la Figura 1(a), mostramos cómo una subasta estándar de segundo precio surge naturalmente de nuestro modelo. Supongamos que las valoraciones de los compradores de mayor a menor son w > x > y > z. Los precios de oferta y demanda mostrados son consistentes con un equilibrio en el que i1 y j1 aceptan las ofertas del trader t1, y ningún otro comprador acepta la oferta de su trader adyacente: así, el trader t1 recibe el bien con un precio de oferta de x, y gana w − x al vender el bien al comprador j1 por w. De esta manera, podemos considerar esta instancia particular como una subasta para un bien único en la que los traders actúan como representantes de sus compradores adyacentes. El comprador con la valoración más alta para el bien termina adquiriéndolo, y el excedente se divide entre el vendedor y el comerciante asociado. Se debe tener en cuenta que se puede construir una subasta de k unidades con > k compradores con la misma facilidad, creando un grafo bipartito completo con k vendedores y comerciantes, y luego conectando a cada comerciante con un único comprador distinto. En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales. Específicamente, el vendedor i2 y el comprador j2 ocupan posiciones poderosas, ya que los dos comerciantes compiten por su negocio; por otro lado, los otros vendedores y compradores se encuentran en posiciones débiles, ya que cada uno tiene solo una opción. Y de hecho, en cada equilibrio, hay un número real x ∈ [0, 1] tal que ambos comerciantes ofrecen precios de oferta y demanda de x a i2 y j2 respectivamente, mientras ofrecen ofertas de 0 y demandas de 1 a los otros vendedores y compradores. Por lo tanto, este ejemplo ilustra algunos ingredientes cruciales que identificaremos a un nivel más general en breve. Específicamente, i2 y j2 experimentan los beneficios de la competencia perfecta, ya que los dos comerciantes reducen los márgenes de oferta y demanda a 0 al competir por su negocio. Por otro lado, los otros vendedores y compradores experimentan las desventajas del monopolio: no reciben ninguna ganancia ya que solo tienen una opción para comerciar, y el comerciante correspondiente se queda con todas las ganancias. Observa además cómo este comportamiento natural surge del hecho de que los comerciantes pueden ofrecer diferentes precios a diferentes agentes, capturando el hecho de que no hay un precio fijo en los tipos de mercados que motivan el modelo, sino diferentes precios que reflejan el poder relativo de los diferentes agentes involucrados. El ejemplo anterior muestra quizás la forma más natural en la que la ganancia de un comerciante en una transacción particular puede caer a 0: cuando hay otro comerciante que puede replicar su función de manera precisa. (En ese ejemplo, dos comerciantes tenían la capacidad de mover una copia del bien de i2 a j2). Pero como mostrarán nuestros resultados posteriores, los comerciantes no obtienen ganancias en general debido a razones globales y teóricas de grafos. El ejemplo en la Figura 1(c) da una indicación inicial de esto: se puede demostrar que para cada equilibrio, existe un y ∈ [0, 1] tal que cada oferta y cada precio de demanda es igual a y. En otras palabras, todos los comerciantes no obtienen beneficios, ya sea que pase por ellos una copia del bien o no, y sin embargo, ningún par de comerciantes comparte rutas de vendedor-comprador en común. Los márgenes de precios se han reducido a cero debido a una restricción global impuesta por el largo ciclo a través de todos los agentes; este es un ejemplo de competencia perfecta implícita determinada por la topología de la red. Extendiendo el modelo para bienes distinguibles. Extendemos el modelo básico a un escenario con bienes distinguibles, de la siguiente manera. En lugar de que cada agente i ∈ B ∪ S tenga una única valoración numérica θi, indexamos las valoraciones por pares de compradores y vendedores: si el comprador j obtiene el bien inicialmente poseído por el vendedor i, obtiene una utilidad de θji, y si el vendedor i vende su bien al comprador j, experimenta una pérdida de utilidad de θij. Esto generaliza el caso de bienes indistinguibles, ya que siempre podemos hacer que estas valoraciones por pares dependan solo de uno de los índices. Una estrategia para un trader ahora consiste en ofrecer una oferta a cada vendedor que especifique tanto un precio como un comprador, y ofrecer una demanda a cada comprador que especifique tanto un precio como un vendedor. (También podemos manejar un modelo en el que un trader ofrece ofertas (respectivamente, demandas) en forma de vectores, especificando esencialmente un menú con un precio adjunto a cada comprador (resp. vendedor).) Cada comprador y vendedor selecciona una oferta de un comerciante adyacente, y los pagos a todos los agentes se determinan como antes. Este marco general captura los mercados de emparejamiento [10, 13]: por ejemplo, un mercado laboral que es mediado por agentes o servicios de búsqueda de empleo (como en la contratación de ejecutivos corporativos, o figuras del deporte o del entretenimiento). Aquí los vendedores son solicitantes de empleo, los compradores son empleadores y los comerciantes son los agentes que median en el mercado laboral. Por supuesto, si se especifican valoraciones por pares en los compradores pero solo valoraciones individuales para los vendedores, modelamos un escenario donde los compradores pueden distinguir entre los bienes, pero a los vendedores no les importa a quién venden, esto captura (aproximadamente) escenarios como los mercados de vivienda. Nuestros resultados. Nuestros resultados identificarán formas generales de algunos de los principios mencionados en los ejemplos discutidos anteriormente, incluyendo la pregunta de qué compradores terminan con el bien; la pregunta de cómo los pagos son realizados de manera diferente por vendedores, comerciantes y compradores; y la pregunta de qué propiedades estructurales de la red determinan si los comerciantes obtendrán beneficios positivos. Para hacer esto preciso, introducimos la siguiente notación. Cualquier resultado del juego determina una asignación final de bienes a algunos de los agentes; esto puede ser especificado por una colección M de triples (es decir, te, je), donde ie ∈ S, te ∈ T y je ∈ B; además, cada vendedor y cada comprador aparece en a lo sumo un triple. El significado es que para cada e ∈ M, el bien inicialmente poseído por ie se transfiere a je a través de te. (Los vendedores que no aparecen en ningún trío conservan su copia del bien). Decimos que el valor de la asignación es igual a P e∈M θjeie − θieje. Que θ∗ denote el valor máximo de cualquier asignación M que sea factible dada la red. Mostramos que cada instancia de nuestro juego tiene un equilibrio, y que en cada uno de estos equilibrios, la asignación tiene un valor de θ∗ 145, en otras palabras, logra el mejor valor posible. Por lo tanto, los equilibrios en este modelo son siempre eficientes, ya que el mercado permite que el conjunto correcto de personas obtenga el bien, sujeto a las restricciones de la red. Establecemos la existencia y eficiencia de los equilibrios mediante la construcción de un programa lineal para capturar el flujo de bienes a través de la red; el dual de este programa lineal contiene suficiente información para extraer los precios de equilibrio. Según la definición del juego, el valor de la asignación de equilibrio se divide en forma de pagos a los agentes, y resulta interesante preguntarse cómo se distribuye este valor, en particular cuánta ganancia puede obtener un trader según su posición en la red. Observamos que, aunque todos los equilibrios tienen el mismo valor, la ganancia de un trader dado puede variar entre diferentes equilibrios. Sin embargo, somos capaces de caracterizar las cantidades máximas y mínimas que un operador dado puede obtener, donde estos máximos y mínimos se toman sobre todos los equilibrios, y proporcionamos un algoritmo eficiente para calcular esto. En particular, nuestros resultados aquí implican una caracterización combinatoria clara de cuándo un trader dado t puede lograr un beneficio distinto de cero: esto ocurre si y solo si hay algún borde e incidente en t que es esencial, en el sentido de que eliminar e reduce el valor de la asignación óptima θ∗. También obtenemos resultados para la suma de todas las ganancias de los operadores. Trabajo relacionado. El enfoque estándar de referencia para analizar la interacción entre compradores y vendedores es el modelo walrasiano en el que compradores y vendedores anónimos intercambian un bien a un único precio de equilibrio de mercado. Esta forma reducida de comercio, basada en la idealización de un precio de mercado, es un modelo poderoso que ha dado lugar a muchas ideas. Pero no es un buen modelo para examinar de dónde vienen los precios o exactamente cómo compradores y vendedores comercian entre sí. La dificultad es que en el modelo walrasiano no hay un agente que fije el precio, y los agentes en realidad no comercian entre sí. De hecho, no hay un mercado, en el sentido cotidiano de esa palabra, en el modelo walrasiano. Es decir, no hay un lugar físico o virtual donde los compradores y vendedores interactúen para comerciar y establecer precios. Por lo tanto, en este modelo simple, todos los compradores y vendedores son uniformes y comercian al mismo precio, y tampoco hay un papel para intermediarios. Hay varias literaturas en economía y finanzas que examinan cómo se fijan los precios en lugar de simplemente determinar los precios de equilibrio. La literatura sobre competencia imperfecta es quizás la más antigua de todas. Aquí un monopolista, o un grupo de oligopolistas, eligen los precios con el fin de maximizar sus ganancias (ver [14] para el tratamiento estándar de estos mercados en los libros de texto). Un monopolista utiliza su conocimiento de la demanda del mercado para elegir un precio, o una colección de precios si discrimina. Los oligopolistas juegan un juego en el que sus ganancias dependen de la demanda del mercado y las acciones de sus competidores. En esta literatura hay agentes que fijan precios, pero se mantiene la ficción de un solo mercado. En la literatura de búsqueda de equilibrio, las empresas establecen precios y los consumidores los buscan (ver [3]). Los consumidores terminan pagando precios diferentes, pero todos los consumidores tienen acceso a todas las empresas y no hay intermediarios. En la literatura de equilibrio general ha habido varios intentos de introducir la determinación de precios. Una técnica de prueba estándar para la existencia de un equilibrio competitivo implica un mecanismo de ajuste de precios en el que los precios responden a la demanda excesiva. El subastador walrasiano suele ser presentado como un dispositivo para explicar cómo funciona este proceso, pero en realidad es fundamentalmente una metáfora de un algoritmo iterativo de actualización de precios, no de los detalles internos de un mercado real. Se han introducido procesos más sofisticados para estudiar la estabilidad de los precios de equilibrio o la información necesaria para calcularlos. Pero de nuevo no hay agentes que fijen los precios aquí. En la literatura financiera, el trabajo sobre microestructura de mercado sí tiene agentes que fijan precios (especialistas), algunas partes de él determinan precios de oferta y demanda separados, y diferentes agentes reciben precios distintos por el mismo activo (ver [12] para un tratamiento de la teoría de microestructura). El trabajo en economía de la información ha identificado fenómenos similares (ver por ejemplo [7]). Pero hay poca investigación en estas literaturas que examine el efecto de las restricciones sobre quién puede comerciar con quién. Ha habido varios enfoques para estudiar cómo la estructura de la red determina los precios. Estos han planteado la determinación de precios a través de definiciones basadas en el equilibrio competitivo o el núcleo, o mediante el uso de mecanismos veraces. Al revisar brevemente este trabajo, notaremos el contraste con nuestro enfoque, ya que modelamos los precios como resultado del comportamiento estratégico de los agentes en el sistema. En un trabajo reciente, Kakade et al. [8] han estudiado la distribución de precios en equilibrio competitivo en un grafo bipartito de compradores y vendedores, generado utilizando un modelo probabilístico capaz de producir distribuciones de grados con colas pesadas [11]. Even-Dar et al. [6] se basan en esto para considerar los aspectos estratégicos de la formación de redes cuando los precios surgen del equilibrio competitivo. Leonard [10], Babaioff et al. [1], y Chu y Shen [4] consideran un enfoque basado en el diseño de mecanismos: los compradores y vendedores residen en nodos diferentes en un grafo, y incurren en un costo de transporte dado para comerciar entre sí. Leonard estudia los precios de VCG en este contexto; Babaioff et al. y Chu y Shen además proporcionan un mecanismo equilibrado en presupuesto. Dado que la preocupación aquí radica en mecanismos veraces que operan sobre valoraciones privadas, existe un compromiso inherente entre la eficiencia de la asignación y la condición de equilibrio presupuestario. Por el contrario, nuestro modelo tiene valoraciones y precios conocidos que surgen del <br>comportamiento estratégico de los operadores</br>. Por lo tanto, las suposiciones detrás de nuestro modelo no son directamente comparables a las que subyacen en el enfoque del diseño de mecanismos: aunque asumimos valoraciones conocidas, no requerimos una autoridad centralizada para imponer un mecanismo. Más bien, la fijación de precios es parte del resultado estratégico, como en los mercados reales que motivan nuestro trabajo, y nuestros equilibrios son simultáneamente equilibrados en términos presupuestarios y eficientes, algo que no es posible en los marcos de diseño de mecanismos que se han utilizado. Demange, Gale y Sotomayor [5], y Kranton y Minehart [9], analizan los precios a los que se produce el comercio en una red, trabajando dentro del marco del diseño de mecanismos. Kranton y Minehart utilizan un grafo bipartito con enlaces directos entre compradores y vendedores, y luego emplean un mecanismo de subasta ascendente, en lugar de intermediarios estratégicos, para determinar los precios. Su subasta tiene propiedades de equilibrio deseables, pero como señalan Kranton y Minehart, es una abstracción de cómo se asignan los bienes y se determinan los precios que es similar en espíritu a la abstracción del subastador walrasiano. De hecho, podemos mostrar cómo el modelo básico de Kranton y Minehart puede ser codificado como una instancia de nuestro juego, con los comerciantes produciendo precios en equilibrio que coinciden con los precios producidos por su mecanismo de subasta. Finalmente, los resultados clásicos de Shapley y Shubik [13] sobre el juego de asignación pueden ser vistos como el estudio del resultado del comercio en un grafo bipartito en términos del núcleo. Estudian el dual de un programa lineal basado en el problema de emparejamiento, similar a lo que usamos para una versión reducida de nuestro modelo en la siguiente sección, pero su enfoque es diferente ya que no consideran agentes que buscan establecer precios. 2. MERCADOS CON OPERADORES DE PAREJAS Para comprender las ideas detrás del análisis del modelo general, es muy útil considerar primero un caso especial con un re1 Kranton y Minehart, sin embargo, también pueden analizar un entorno más general en el que los valores de los compradores son privados y, por lo tanto, compradores y vendedores juegan un juego de información incompleta. Solo trabajamos con información completa. 146 forma restringida de comerciantes a los que nos referimos como operadores de pares. En este caso, cada comerciante está conectado a solo un comprador y un vendedor. (Por lo tanto, sirve esencialmente como una ruta comercial entre los dos). Las técnicas que desarrollamos para manejar este caso formarán una base útil para razonar sobre el caso de los comerciantes que pueden estar conectados arbitrariamente a los vendedores y compradores. Relacionaremos las ganancias en un equilibrio de Nash perfecto en subjuegos con las soluciones óptimas de un cierto programa lineal, utilizaremos esta relación para demostrar que todos los equilibrios resultan en una asignación eficiente de los bienes, y mostraremos que siempre existe un equilibrio puro. Primero, consideramos el modelo más simple donde los vendedores tienen artículos indistinguibles, y cada comprador está interesado en obtener un artículo. Luego extendemos los resultados al caso más general de un mercado de emparejamiento, como se discutió en la sección anterior, donde las valoraciones dependen de la identidad del vendedor y comprador. Luego caracterizamos las ganancias mínimas y máximas que los comerciantes pueden obtener. En la siguiente sección, extendemos los resultados a los operadores que pueden estar conectados a cualquier subconjunto de vendedores y compradores. Dado que estamos trabajando con operadores de pares en esta sección, podemos representar el problema utilizando un grafo bipartito G cuyo conjunto de nodos es B ∪ S, y donde cada operador t, conectando al vendedor i y al comprador j, aparece como una arista t = (i, j) en G. Sin embargo, cabe destacar que permitimos que múltiples operadores conecten el mismo par de agentes. Para cada comprador y vendedor i, usaremos adj(i) para denotar el conjunto de comerciantes que pueden comerciar con i. 2.1 Bienes Indistinguibles El intercambio socialmente óptimo para el caso de bienes indistinguibles es la solución del problema de transporte: enviar bienes a lo largo de los bordes que representan a los comerciantes. Las aristas a lo largo de las cuales ocurre el comercio corresponden a un emparejamiento en este grafo bipartito, y el comercio óptimo está descrito por el siguiente programa lineal. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B A continuación, consideramos un equilibrio. Cada operador t = (i, j) debe ofrecer una oferta βt y una demanda αt. (Omitimos el subíndice que denota al vendedor y comprador aquí, ya que estamos tratando con operadores en pares). Dado el precio de oferta y demanda, los agentes reaccionan a estos precios, como se describió anteriormente. En lugar de enfocarnos en los precios, nos enfocaremos en las ganancias. Si un vendedor i vende a un comerciante t ∈ adj(i) con una oferta βt, entonces su ganancia es pi = βt − θi. De manera similar, si un comprador j compra a un comerciante t ∈ adj(j) con una oferta αt, entonces su ganancia es pj = θj − αt. Finalmente, si un comerciante t opera con la oferta αt y la demanda βt, entonces su ganancia es yt = αt − βt. Todos los agentes que no están involucrados en el comercio no obtienen ganancias. Demostraremos que las ganancias en equilibrio son una solución óptima para el siguiente programa lineal. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMA 2.1. En el equilibrio, los beneficios deben satisfacer las desigualdades anteriores. Prueba. Claramente, todas las ganancias son no negativas, ya que el comercio es opcional para todos los agentes. Para ver por qué se cumplen el último conjunto de desigualdades, considera dos casos por separado. Para un comerciante t que realizó un intercambio, obtenemos igualdad por definición. Para otros comerciantes t = (i, j), el valor pi + θi es el precio al que el vendedor i vendió (o θi si el vendedor i decidió quedarse con el bien). Ofrecer una oferta βt > pi + θi haría que el vendedor vendiera al comerciante t. De manera similar, θj − pj es el precio al que el comprador j compró (o θj si no compró), y para cualquier oferta αt < θj − pj, el comprador comprará al comerciante t. Por lo tanto, a menos que θj − pj ≤ θi + pi, el comerciante tiene una desviación rentable. Ahora estamos listos para demostrar nuestro primer teorema: TEOREMA 2.2. En cualquier equilibrio, el comercio es eficiente. Prueba. Que x sea un flujo de bienes que resulta en un equilibrio, y que las variables p e y sean las ganancias. Considera el programa lineal que describe el comercio socialmente óptimo. También agregaremos un conjunto de restricciones adicionales xt ≤ 1 para todos los operadores t ∈ T; esto se puede agregar a la descripción, ya que está implícito en las otras restricciones. Ahora afirmamos que los dos programas lineales son duales entre sí. Las variables pi para los agentes B ∪ S corresponden a las ecuaciones Pt∈adj(i) xt ≤ 1. La variable dual adicional yt corresponde a una desigualdad adicional xt ≤ 1. La optimalidad del valor social del intercambio se seguirá de la afirmación de que la solución de estos dos programas lineales derivados de un equilibrio satisface las condiciones de holgura complementaria para este par de programas lineales, y por lo tanto tanto x como (p, y) son soluciones óptimas de los programas lineales correspondientes. Existen tres condiciones de holgura complementarias diferentes que debemos considerar, correspondientes a los tres conjuntos de variables x, y y p. Cualquier agente solo puede obtener ganancias si realiza transacciones, por lo que pi > 0 implica que P t∈adj(i) xt = 1, y de manera similar, yt > 0 implica que xt = 1 también. Finalmente, considera a un trader t con xt > 0 que negocia entre el vendedor i y el comprador j, y recuerda que hemos visto anteriormente que la desigualdad yt ≥ (θj − pj) − (θi + pi) se cumple con igualdad para aquellos que comercian. A continuación argumentamos que los equilibrios siempre existen. TEOREMA 2.3. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro de valores de oferta y demanda que respalda este comercio. Prueba. Considera un intercambio eficiente; sea xt = 1 si t intercambia y 0 en caso contrario; y considera una solución óptima (p, y) para el programa lineal dual. Nos gustaría afirmar que todas las soluciones duales corresponden a precios de equilibrio, pero desafortunadamente esto no es exactamente cierto. Antes de poder convertir una solución dual en precios de equilibrio, es posible que necesitemos modificar ligeramente la solución de la siguiente manera. Considera cualquier agente i que solo esté conectado a un único comerciante t. Debido a que el agente está solo conectado a un único comerciante, las variables yt y pi son variables duales correspondientes a la misma desigualdad primal xt ≤ 1, y siempre aparecen juntas como yt + pi en todas las desigualdades, y también en la función objetivo. Por lo tanto, existe una solución óptima en la que pi = 0 para todos los agentes i conectados solo a un único comerciante. Supongamos que (p, y) es una solución dual donde los agentes conectados solo a un comerciante tienen pi = 0. Para un vendedor i, dejemos que βt = θi + pi sea la oferta para todos los comerciantes t adyacentes a i. De manera similar, para cada comprador j, sea αt = θj − pj la oferta para todos los operadores t adyacentes a j. Sostenemos que este conjunto de ofertas y demandas, junto con la transacción x, constituyen un equilibrio. Para entender por qué, hay que tener en cuenta que todos los operadores t adyacentes a un vendedor o comprador i ofrecen la misma oferta o demanda, por lo que comerciar con cualquier operador es igualmente bueno para el agente i. Además, si i no está operando en la solución 147 x, entonces por holgura complementaria pi = 0, y por lo tanto, no operar también es igualmente bueno para i. Esto muestra que los vendedores y compradores no tienen un incentivo para desviarse. Necesitamos demostrar que los comerciantes no tienen incentivos para desviarse tampoco. Cuando un comerciante t está negociando con el vendedor i y el comprador j, las desviaciones rentables implicarían aumentar αt o disminuir βt. Pero por nuestra construcción (y suposición sobre agentes monopolizados) todos los vendedores y compradores tienen múltiples ofertas de compra/venta idénticas, o el intercambio está ocurriendo a valuación. En cualquier caso, tal desviación no puede tener éxito. Finalmente, considera un trader t = (i, j) que no realiza intercambios. Una desviación para t implicaría ofrecer una oferta más baja al vendedor i y una oferta más alta al vendedor j que su intercambio actual. Sin embargo, yt = 0 por holgura complementaria, y por lo tanto pi + θi ≥ θj − pj, por lo que i vende a un precio al menos tan alto como el precio al que j compra, por lo que el comerciante t no puede crear un intercambio rentable. Se debe tener en cuenta que un vendedor o comprador conectado a un único comerciante t no puede obtener beneficios en equilibrio, por lo que los posibles beneficios en equilibrio están en correspondencia uno a uno con las soluciones duales para las cuales pi = 0 siempre que i esté monopolizado por un único comerciante. Una característica decepcionante del equilibrio creado por esta prueba es que algunos agentes t pueden tener que crear pares de oferta y demanda donde βt > αt, ofreciendo comprar por más del precio al que están dispuestos a vender. Los agentes que realizan tales pares de oferta y demanda nunca realizan realmente una transacción, por lo que no resulta en una pérdida de beneficios para el agente, pero dichos pares son poco comunes. Los pares de ofertas y demandas cruzadas son débilmente dominados por la estrategia de ofrecer una oferta baja β = 0 y una demanda extremadamente alta para garantizar que ninguna sea aceptada. Para formular una forma de evitar tales pares cruzados, decimos que un equilibrio es libre de cruces si αt ≥ βt para todos los operadores t. Ahora mostramos que siempre hay un equilibrio libre de cruces. TEOREMA 2.4. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro y libre de cruces. Prueba. Considera una solución óptima para el programa lineal dual. Para obtener un equilibrio sin cruzar ofertas, necesitamos hacer una modificación más general que simplemente asumir que pi = 0 para todos los vendedores y compradores conectados a un único operador. Que el conjunto E sea el conjunto de aristas t = (i, j) que son tensas, en el sentido de que tenemos la igualdad yt = (θj − pj) − (θi + pi). Este conjunto E contiene todos los bordes donde ocurre el comercio, y algunos bordes adicionales. Queremos asegurarnos de que pi = 0 para todos los vendedores y compradores que tengan un grado de a lo sumo 1 en E. Considere un vendedor i que tiene pi > 0. Debemos tener i involucrado en un intercambio, y el borde t = (i, j) a lo largo del cual ocurre el intercambio debe ser ajustado. Supongamos que este es el único borde ajustado adyacente al agente i; entonces podemos disminuir pi e incrementar yt hasta que ocurra una de las siguientes situaciones: o bien pi = 0 o la restricción de algún otro agente t ∈ adj(i) se vuelva ajustada. Esta modificación solo aumenta el conjunto de aristas ajustadas E, mantiene la solución factible y no cambia el valor de la función objetivo. Entonces, después de hacer esto para todos los vendedores, y cambiando de manera análoga yt y pj para todos los compradores, obtenemos una solución óptima donde todos los vendedores y compradores i tienen pi = 0 o tienen al menos dos aristas ajustadas adyacentes. Ahora podemos establecer ofertas y demandas para formar un equilibrio libre de cruces. Para todos los traders t = (i, j) asociados con un borde t ∈ E, establecemos αt y βt como antes: fijamos la oferta βt = pi + θi y la demanda αt = θj − pj. Para un trader t = (i, j) ∈ E, tenemos que pi + θi > θj − pj y establecemos αt = βt para que sea cualquier valor en el rango [θj − pj, pi + θi]. Esto garantiza que para cada vendedor o comprador, la mejor oferta de venta o compra se encuentra a lo largo del borde donde se produce el intercambio en la solución. Los valores de askbid a lo largo de los bordes ajustados garantizan que los traders que operan no puedan aumentar su spread. Los operadores t = (i, j) que no realizan operaciones no pueden obtener ganancias debido a la restricción pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) Ningún operador obtiene ganancias 1 1 1 0 x x x x 1 x x 0 x (b) Ganancias del operador Figura 2: Izquierda: un equilibrio con ofertas cruzadas donde los operadores no ganan dinero. Correcto: un equilibrio sin ofertas cruzadas para cualquier valor x ∈ [0, 1]. La ganancia total del comerciante oscila entre 1 y 2. 2.2 Bienes distinguibles. Ahora consideramos el caso de bienes distinguibles. Como en la sección anterior, podemos escribir un programa lineal de transbordo para el comercio socialmente óptimo, con el único cambio en la función objetivo. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) Podemos demostrar que el dual de este programa lineal corresponde a las ganancias de los comerciantes. Recuerda que necesitábamos agregar las restricciones xt ≤ 1 para todos los traders. El dual es entonces: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T. No es difícil extender las pruebas de los Teoremas 2.2 - 2.4 a este caso. Las ganancias en un equilibrio satisfacen las restricciones duales, y las ganancias y el comercio satisfacen la holgura complementaria. Esto demuestra que el comercio es socialmente óptimo. Tomando una solución dual óptima donde pi = 0 para todos los agentes que están monopolizados, podemos convertirla en un equilibrio, y con un poco más de cuidado, también podemos crear un equilibrio sin pares de oferta y demanda cruzados. TEOREMA 2.5. Todos los equilibrios para el caso de los operadores en pares con bienes distinguibles resultan en un comercio socialmente óptimo. Existen equilibrios puros no cruzados. 2.3 Ganancias de los operadores Hemos visto que todos los equilibrios son eficientes. Sin embargo, resulta que los equilibrios pueden diferir en cómo se distribuye el valor de la asignación entre los vendedores, compradores e intermediarios. La Figura 2 representa un ejemplo simple de este fenómeno. Nuestro objetivo es entender cómo se ve afectada la ganancia de un trader por su posición en la red; utilizaremos la caracterización que obtuvimos para determinar el rango de ganancias que un trader puede obtener. Para maximizar la ganancia de un operador t (o un subconjunto de operadores T), todo lo que necesitamos hacer es encontrar una solución óptima al programa lineal dual que maximice el valor de yt (o la suma Pt∈T yt). Tales soluciones duales corresponderán a equilibrios con precios no cruzados. TEOREMA 2.6. Para cualquier operador t o subconjunto de operadores T, la ganancia total máxima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. Este beneficio máximo se puede obtener mediante un equilibrio no cruzado. Una forma de pensar en la ganancia de un trader t = (i, j) es como una resta del valor del borde correspondiente (i, j). El valor del borde es el valor social θji − θij si el comerciante no obtiene ganancias, y disminuye a θji − θij − yt si el comerciante t insiste en obtener una ganancia de yt. El comerciante t obtiene un beneficio yt en equilibrio, si después de esta disminución en el valor del borde, el borde sigue incluido en el transbordo óptimo. TEOREMA 2.7. Un comerciante t puede obtener beneficios en un equilibrio si y solo si t es esencial para el bienestar social, es decir, si eliminar al agente t disminuye el bienestar social. La ganancia máxima que puede obtener es exactamente su valor para la sociedad, es decir, el aumento que su presencia provoca en el bienestar social. Si permitimos el cruce de equilibrios, entonces también podemos encontrar la ganancia mínima posible. Recuerde que en la demostración del Teorema 2.3, los comerciantes solo ganaron dinero de vendedores o compradores sobre los que tenían un monopolio. Permitiendo tales equilibrios con ofertas cruzadas, podemos encontrar la ganancia mínima que un trader o conjunto de traders puede obtener, minimizando el valor yt (o la suma de P t∈T yt) en todas las soluciones óptimas que satisfacen que pi = 0 siempre que i esté conectado solo a un trader. TEOREMA 2.8. Para cualquier operador t o subconjunto de operadores T, la ganancia total mínima que pueden obtener en cualquier equilibrio puede ser calculada en tiempo polinómico. A continuación, extendemos los resultados a un modelo en el que los comerciantes pueden estar conectados a un número arbitrario de vendedores y compradores. Para un comerciante t ∈ T utilizaremos S(t) y B(t) para denotar el conjunto de compradores y vendedores conectados al comerciante t. En esta sección nos enfocamos en el caso general cuando los bienes son distinguibles (es decir, tanto los compradores como los vendedores tienen valoraciones que son sensibles a la identidad del agente con el que se emparejan en la asignación). En la versión completa del artículo también discutimos el caso especial de bienes indistinguibles con más detalle. Para obtener el intercambio óptimo, consideramos el grafo bipartito G = (S ∪ B, E) que conecta vendedores y compradores, donde una arista e = (i, j) conecta un vendedor i y un comprador j si hay un comerciante adyacente a ambos: E = {(i, j) : adj(i) ∩ adj(j) = ∅}. En este gráfico, luego resolvemos la instancia del problema de asignación que también se utilizó en la Sección 2.2, con el valor del borde (i, j) igual a θji − θij (ya que el valor del intercambio entre i y j es independiente de qué comerciante realizó el intercambio). También utilizaremos el dual de este programa lineal: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Ofertas y Demandas y Optimización del Trader. Primero necesitamos entender qué modelo de oferta utilizaremos. Incluso cuando los bienes son indistinguibles, un comerciante puede querer practicar discriminación de precios y ofrecer diferentes valores de oferta y demanda a diferentes vendedores y compradores. En el caso de bienes distinguibles, tenemos que lidiar con una complicación adicional: el comerciante tiene que nombrar el bien que está proponiendo vender o comprar, y posiblemente ofrecer múltiples productos diferentes. Hay dos variantes de nuestro modelo dependiendo de si un trader hace una única oferta de compra o venta a un vendedor o comprador, o si ofrece un menú de opciones. (i) Un trader t puede ofrecer a un comprador j un menú de ofertas de compra αtji, un vector de valores para todos los productos a los que está conectado, donde αtji es la oferta de compra para el producto del vendedor i. De manera simétrica, un trader t puede ofrecer a cada vendedor i un menú de ofertas de venta βtij para vender a diferentes compradores j. (ii) Alternativamente, podemos requerir que cada trader t pueda hacer como máximo una oferta de compra a cada vendedor y una oferta de venta para cada comprador, y una oferta de compra debe incluir el producto vendido, y una oferta de venta debe ofrecer a un comprador en particular para venderle. Nuestros resultados se mantienen en ambos modelos. Para simplificar la notación, utilizaremos la opción del menú aquí. A continuación, necesitamos entender el problema de optimización de un trader t. Supongamos que tenemos valores de oferta y demanda para todos los demás traders t ∈ T, t = t. ¿Cuáles son las mejores ofertas de compra y venta que el trader t puede hacer como mejor respuesta al conjunto actual de ofertas de compra y venta? Para cada vendedor i, dejemos que pi sea la ganancia máxima que el vendedor i puede obtener utilizando ofertas de otros comerciantes, y asumamos de manera simétrica que pj es la ganancia máxima que el comprador j puede obtener utilizando demandas de otros comerciantes (dejando pi = 0 para cualquier vendedor o comprador i que no pueda obtener ganancias). Ahora considera un par vendedor-comprador (i, j) que el comerciante t puede conectar. El trader t tendrá que hacer una oferta de al menos βtij = θij + pi al vendedor i y un precio de venta de como máximo αtji = θji − pj al comprador j para realizar esta transacción, por lo que la ganancia máxima que puede obtener en esta operación es vtij = αtji − βtij = θji − pj − (θij + pi). El intercambio óptimo para el trader t se obtiene resolviendo un problema de emparejamiento para encontrar la correspondencia entre los vendedores S(t) y compradores B(t) que maximiza el valor total vtij para el trader t. Necesitaremos el dual del programa lineal para encontrar el intercambio de máximo beneficio para el trader t. Utilizaremos qti como la variable dual asociada con la restricción del vendedor o comprador i. El dual es entonces el siguiente problema. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t). Vemos qti como la ganancia obtenida por t al comerciar con el vendedor o comprador i. El Teorema 3.1 resume la discusión anterior. TEOREMA 3.1. Para un trader t, dado las ofertas más bajas βtij y las peticiones más altas αtji que pueden ser aceptadas para los vendedores i ∈ S(t) y compradores j ∈ B(t), el mejor intercambio que t puede hacer es el emparejamiento de valor máximo entre S(t) y B(t) con valor vtij = αtji − βtij para la arista (i, j). Este valor máximo es igual al mínimo del programa lineal dual anterior. 3.2 Comercio eficiente y equilibrio Ahora podemos demostrar que el comercio en equilibrio siempre es eficiente. TEOREMA 3.2. Cada equilibrio resulta en una asignación eficiente de los bienes. Prueba. Considera un equilibrio, con xe = 1 si y solo si el comercio ocurre a lo largo del borde e = (i, j). El comercio es una solución al programa lineal de transbordo utilizado en la Sección 2.2. Que pi denote la ganancia del vendedor o comprador i. Cada operador t actualmente tiene la mejor solución a su propio problema de optimización. Un comerciante t encuentra su intercambio óptimo (dadas las ofertas y demandas de los otros 149 comerciantes) resolviendo un problema de emparejamiento. Que qti para i ∈ B(t)∪S(t) denote la solución dual óptima a este problema de emparejamiento como se describe en el Teorema 3.1. Al configurar el problema de optimización para un trader t anteriormente, usamos pi para denotar la ganancia máxima que puedo obtener sin la oferta del trader t. Tenga en cuenta que este pi es exactamente el mismo pi que usamos aquí, la ganancia del agente i. Esto es claramente cierto para todos los operadores t que no están comerciando con i en el equilibrio. Para ver por qué es cierto para el operador t con el que i está negociando, usamos que el conjunto actual de valores de oferta y demanda es un equilibrio. Si para cualquier agente i la oferta o demanda del trader t fuera la única mejor opción, entonces t podría obtener más beneficios ofreciendo una demanda un poco más alta o una oferta un poco más baja, lo cual sería una contradicción. Mostramos que el intercambio x es óptimo al considerar la solución dual zi = pi + P t qti para todos los agentes i ∈ B ∪ S. Afirmamos que z es una solución dual y satisface la holgura complementaria con el intercambio x. Para ver esto, necesitamos mostrar algunos hechos. Necesitamos que zi > 0 implique que i comercie. Si zi > 0, entonces o bien pi > 0 o qti > 0 para algún trader t. El agente i solo puede obtener ganancias pi > 0 si está involucrado en una transacción. Si qti > 0 para algún t, entonces el trader t debe comerciar con i, ya que su solución es óptima, y por holgura complementaria para la solución dual, qti > 0 implica que t comercia con i. Para un borde (i, j) asociado con un trader t, necesitamos mostrar que la solución dual es factible, es decir, zi + zj ≥ θji − θij. Se recuerda que vtij = θji −pj −(θij +pi), y la restricción dual del problema de optimización de los traders requiere qti + qtj ≥ vtij. Al juntar todo esto, tenemos zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij. Finalmente, necesitamos demostrar que las variables de intercambio x también cumplen la restricción de holgura complementaria: cuando xe > 0 para una arista e = (i, j) entonces la restricción dual correspondiente es activa. Que t sea el comerciante involucrado en la transacción. Por la holgura complementaria del problema de optimización de ts, tenemos qti + qtj = vtij. Para ver que z satisface la holgura complementaria, necesitamos argumentar que para todos los otros comerciantes t = t, tenemos tanto qt i = 0 como qt j = 0. Esto es cierto ya que qt i > 0 implica por la holgura complementaria del problema de optimización de t s que t debe comerciar con i en el óptimo, y t = t está comerciando. A continuación queremos demostrar que siempre existe un equilibrio no cruzado. Llamamos a un equilibrio no cruzado si las ofertas de compra y venta que un trader t hace para un par vendedor-comprador (i, j) nunca se cruzan, es decir, βtij ≤ αtji para todo t, i, j. TEOREMA 3.3. Existe un equilibrio no cruzado que respalda cualquier intercambio socialmente óptimo. Prueba. Considera un intercambio óptimo x y una solución dual z como antes. Para encontrar un equilibrio no cruzado necesitamos dividir la ganancia zi entre i y el comerciante t que negocia con i. Usaremos qti como el beneficio del comerciante asociado con el agente i para cualquier i ∈ S(t) ∪ B(t). Necesitaremos garantizar las siguientes propiedades: El comerciante t comercia con el agente i siempre que qti > 0. Esta es una de las condiciones de holgura complementaria para asegurar que el intercambio actual sea óptimo para el trader t. Para todos los pares vendedor-comprador (i, j) con los que un trader t puede comerciar, tenemos que pi + qti + pj + qtj ≥ θji − θij, (1) lo cual asegurará que qt sea una solución dual factible para el problema de optimización al que se enfrenta el trader t. Necesitamos tener igualdad en (1) cuando el trader t está comerciando entre i y j. Esta es una de las condiciones de holgura complementaria para el trader t, y garantizará que el intercambio de t sea óptimo para el trader. Finalmente, queremos organizar que cada agente i con pi > 0 tenga múltiples ofertas para obtener ganancias pi, y que el intercambio se realice en una de sus mejores ofertas. Para garantizar esto en las ofertas y demandas correspondientes, necesitamos asegurarnos de que siempre que pi > 0 haya múltiples t ∈ adj(i) que cumplan con la ecuación en la restricción anterior (1). Comenzamos estableciendo pi = zi para todo i ∈ S ∪ B y qti = 0 para todo i ∈ S ∪ B y traders t ∈ adj(i). Esto garantiza todos los invariantes excepto la última propiedad sobre múltiples t ∈ adj(t) teniendo igualdad en (1). Modificaremos p y q para aplicar gradualmente la última condición, manteniendo las demás. Considera un vendedor con pi > 0. Por la optimalidad del intercambio y la solución dual z, el vendedor i debe comerciar con algún comerciante t, y ese comerciante tendrá igualdad en (1) para el comprador j con el que se empareja i. Si este es el único operador t que tiene una restricción estricta en (1) que involucra al vendedor i, entonces aumentamos qti y disminuimos pi hasta que pi = 0 o hasta que otro operador t = t logre la igualdad en (1) para algún borde del comprador adyacente a i (posiblemente un comprador diferente j). Este cambio mantiene todas las invariantes y aumenta el conjunto de vendedores que también cumplen con la última restricción. Podemos hacer un cambio similar para un comprador j que tiene pj > 0 y solo tiene un operador t con una restricción ajustada (1) adyacente a j. Después de posiblemente repetir esto para todos los vendedores y compradores, obtenemos ganancias que satisfacen todas las restricciones. Ahora obtenemos los valores de oferta y demanda de equilibrio de la siguiente manera. Para un operador t que tiene igualdad para el par vendedor-comprador (i, j) en (1), ofrecemos αtji = θji − pj y βtij = θij + pi. Para todos los demás comerciantes t y pares de vendedor-comprador (i, j) tenemos el invariante (1), y utilizando esto sabemos que podemos elegir un valor γ en el rango θij +pi+qti ≥ γ ≥ θji − (pj + qtj). Ofrecemos valores de oferta y demanda βtij = αtji = γ. Ni la oferta ni la demanda serán la única mejor oferta para el comprador, por lo tanto, el intercambio x sigue siendo un equilibrio. 3.3 Ganancias del Trader Finalmente, nos enfocamos en el objetivo de comprender, en el caso de los traders generales, cómo se ve afectada la ganancia de un trader por su posición en la red. Primero, mostramos cómo maximizar la ganancia total de un grupo de comerciantes. La ganancia del comerciante t en un equilibrio es P i qti. Para encontrar la ganancia máxima posible para un trader t o un conjunto de traders T, necesitamos hacer lo siguiente: Encontrar ganancias pi ≥ 0 y qti > 0 de manera que zi = pi + P t∈adj(i) qti sea una solución dual óptima, y también cumpla con las restricciones (1) para cualquier vendedor i y comprador j conectados a través de un trader t ∈ T. Ahora, sujeto a todas estas condiciones, maximizamos la suma P t∈T P i∈S(t)∪B(t) qti. Ten en cuenta que esta maximización es una función objetivo secundaria con respecto al objetivo principal de que z sea una solución dual óptima. Luego usamos la prueba del Teorema 3.3 que muestra cómo convertir esto en un equilibrio. TEOREMA 3.4. El valor máximo para P t∈T P i qti anterior es la máxima ganancia que el conjunto T de comerciantes puede obtener. Prueba. Por la demostración del Teorema 3.2, las ganancias del comerciante t pueden ser escritas en esta forma, por lo que el conjunto de comerciantes T no puede obtener más ganancias de las reclamadas en este teorema. Para ver que T realmente puede obtener tantas ganancias, usamos la prueba del Teorema 3.3. Modificamos esa prueba para empezar con los vectores de ganancias p y qt para t ∈ T, y establecemos qt = 0 para todos los traders t ∈ T. Verificamos que esta solución inicial cumple con las tres primeras de las cuatro propiedades requeridas, y luego podemos seguir la demostración para hacer que la cuarta propiedad sea verdadera. Omitimos los detalles de esto en la versión actual. En la Sección 2.3 demostramos que en el caso de los traders de pares, un trader t puede ganar dinero si es esencial para el comercio eficiente. Esto no es 150 1 1 Figura 3: El comerciante principal es esencial para el bienestar social. Sin embargo, el único equilibrio es tener valores de oferta y demanda iguales a 0, y el comerciante no obtiene beneficios. Esto es cierto para el tipo de comerciantes más generales que consideramos aquí, como se muestra en el ejemplo de la Figura 3. Sin embargo, aún obtenemos una caracterización de cuándo un comerciante t puede obtener una ganancia positiva. TEOREMA 3.5. Un comerciante t puede obtener ganancias en un equilibrio si y solo si hay un vendedor o comprador i adyacente a t tal que la conexión del comerciante t con el agente i es esencial para el bienestar social, es decir, si eliminar al agente t de adj(i) disminuye el valor de la asignación óptima. Prueba. Primero mostramos la dirección en la que si un comerciante t puede ganar dinero, debe haber un agente i tal que la conexión de t con i sea esencial para el bienestar social. Sean p, q las ganancias en un equilibrio donde t gana dinero, como se describe en el Teorema 3.2 con P i∈S(t)∪B(t) qti > 0. Así que tenemos un agente i con qti > 0. Sostenemos que la conexión entre el agente i y el comerciante t debe ser esencial, en particular, sostenemos que el bienestar social debe disminuir al menos en qti si eliminamos t de adj(t). Para ver por qué, observe que al disminuir el valor de todas las aristas de la forma (i, j) asociadas con el comerciante t en qti, se mantiene el mismo óptimo de comercio, ya que obtenemos una solución dual de emparejamiento simplemente restableciendo qti a cero. Para ver lo contrario, suponga que eliminar t de adj(t) disminuye el bienestar social en algún valor γ. Supongamos que i es un vendedor (el caso de los compradores es simétrico), y disminuye en γ el valor social de cada arista (i, j) para cualquier comprador j tal que t sea el único agente que conecta a i y j. Por supuesto, el intercambio sigue siendo óptimo y dejamos que z sea la solución dual para esta correspondencia. Ahora utilizamos el mismo proceso que en la demostración del Teorema 3.3 para crear un equilibrio no cruzado comenzando con pi = zi para todo i ∈ S ∪ B, y qti = γ, y todos los demás valores de q igual a 0. Esto crea un equilibrio con ofertas que no se cruzan, donde t obtiene al menos γ de beneficio (debido al intercambio con el vendedor i). Finalmente, si permitimos el cruce de equilibrios, entonces podemos encontrar la ganancia mínima posible simplemente encontrando una solución dual que minimice las variables duales asociadas con los agentes monopolizados por algún comerciante. TEOREMA 3.6. Para cualquier trader t o subconjunto de traders T, la ganancia total mínima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. 4. REFERENCIAS [1] M. Babaioff, N. Nisan, E. Pavlov. Mecanismos para un mercado distribuido espacialmente. Conferencia ACM EC, 2005. [2] C. Barrett, E. Mutambatsere. Mercados agrícolas en países en desarrollo. El Nuevo Diccionario de Economía de Palgrave, 2da edición, próximo a publicarse. [3] Kenneth Burdett y Kenneth Judd. Dispersión del precio de equilibrio. Econometrica, 51/4, julio de 1983, 955-969. [4] L. Chu, Z.-J. I'm sorry, but \"Shen\" is not a sentence. Can you please provide a sentence for me to translate into Spanish? Mecanismo de subasta doble de competencia de agentes. Ciencia de la Gestión, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor. Subastas de varios artículos. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Econ. Política 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri. Un juego de formación de redes para economías de intercambio bipartitas. Simposio ACM-SIAM sobre Algoritmos Discretos (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald. Precios dinámicos por agentes de software. Redes de Computadoras, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri. Propiedades económicas de las redes sociales. NIPS 2004. [9] R. Kranton, D. Minehart. \n\nNIPS 2004. [9] R. Kranton, D. Minehart. Una teoría de redes de comprador-vendedor. American Economic Review 91(3), junio de 2001. [10] H. Leonard. Elicitación de preferencias honestas para la asignación de individuos a posiciones. J. Pol. Econ, 1983. [11] M. E. J. Newman. \n\nEcon, 1983. [11] M. E. J. Newman. La estructura y función de redes complejas. SIAM Review, 45:167-256, 2003. [12] M. OHara. \n\nRevista SIAM, 45:167-256, 2003. [12] M. OHara. Teoría de la Microestructura del Mercado. Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.\nEditorial Blackwell, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, El juego de asignación I: El núcleo. Internacional. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Teoría de Juegos 1/2 111-130, 1972. [14] Jean Tirole. La Teoría de la Organización Industrial. El MIT Press, Cambridge, MA, 1988. 151 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "trader strategic behavior": {
            "translated_key": "comportamiento estratégico del trader",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        },
        "complementary slackness": {
            "translated_key": "holgura complementaria",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the <br>complementary slackness</br> conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different <br>complementary slackness</br> conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by <br>complementary slackness</br> pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by <br>complementary slackness</br>, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy <br>complementary slackness</br>.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies <br>complementary slackness</br> with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by <br>complementary slackness</br> for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the <br>complementary slackness</br> constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By <br>complementary slackness</br> of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies <br>complementary slackness</br> we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by <br>complementary slackness</br> of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the <br>complementary slackness</br> conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the <br>complementary slackness</br> conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the <br>complementary slackness</br> conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different <br>complementary slackness</br> conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Also, if i is not trading in the solution 147 x then by <br>complementary slackness</br> pi = 0, and hence not trading is also equally good for i.",
                "However, yt = 0 by <br>complementary slackness</br>, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy <br>complementary slackness</br>."
            ],
            "translated_annotated_samples": [
                "La optimalidad del valor social del intercambio se seguirá de la afirmación de que la solución de estos dos programas lineales derivados de un equilibrio satisface las condiciones de <br>holgura complementaria</br> para este par de programas lineales, y por lo tanto tanto x como (p, y) son soluciones óptimas de los programas lineales correspondientes.",
                "Existen tres condiciones de <br>holgura complementaria</br>s diferentes que debemos considerar, correspondientes a los tres conjuntos de variables x, y y p. Cualquier agente solo puede obtener ganancias si realiza transacciones, por lo que pi > 0 implica que P t∈adj(i) xt = 1, y de manera similar, yt > 0 implica que xt = 1 también.",
                "Además, si i no está operando en la solución 147 x, entonces por <br>holgura complementaria</br> pi = 0, y por lo tanto, no operar también es igualmente bueno para i.",
                "Sin embargo, yt = 0 por <br>holgura complementaria</br>, y por lo tanto pi + θi ≥ θj − pj, por lo que i vende a un precio al menos tan alto como el precio al que j compra, por lo que el comerciante t no puede crear un intercambio rentable.",
                "Las ganancias en un equilibrio satisfacen las restricciones duales, y las ganancias y el comercio satisfacen la <br>holgura complementaria</br>."
            ],
            "translated_text": "Redes de intercambio con agentes que fijan precios Larry Blume Dept. En una amplia gama de mercados, los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, quienes determinan los precios mediante consideraciones estratégicas. Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el mercado. Modelamos este fenómeno utilizando un juego en el que compradores, vendedores e intermediarios participan en transacciones en un gráfico que representa el acceso que cada comprador y vendedor tiene a los intermediarios. En este modelo, los comerciantes establecen precios estratégicamente, y luego los compradores y vendedores reaccionan a los precios que se les ofrecen. Mostramos que el juego resultante siempre tiene un equilibrio de Nash perfecto en subjuegos, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. Extendemos estos resultados a un tipo más general de mercado de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores. Finalmente, consideramos cómo los beneficios obtenidos por los comerciantes dependen del grafo subyacente: en resumen, un comerciante puede obtener un beneficio positivo si y solo si tiene una conexión esencial en la estructura de la red, proporcionando así una base teórica de grafos para cuantificar la cantidad de competencia entre los comerciantes. Nuestro trabajo difiere de los estudios recientes sobre cómo el precio se ve afectado por la estructura de la red a través de nuestro modelado del establecimiento de precios como una actividad estratégica realizada por un subconjunto de agentes en el sistema, en lugar de estudiar precios establecidos a través de un equilibrio competitivo o por un mecanismo veraz. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1. INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio. Un ejemplo de esta configuración es el comercio de productos agrícolas en países en desarrollo. Dada la falta de redes de transporte adecuadas y el limitado acceso de los agricultores pobres al capital, muchos agricultores no tienen otra alternativa que comerciar con intermediarios en mercados locales ineficientes. Un país en desarrollo puede tener muchos mercados parcialmente superpuestos que coexisten junto a mercados modernos y eficientes. Los mercados financieros proporcionan un ejemplo diferente de un entorno con estas características generales. En estos mercados, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de mercado y sistemas de negociación electrónica. Para muchos activos no hay un único mercado; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en mercados de otros países. Algunos compradores y vendedores tienen acceso a muchos o a todos estos lugares de negociación; otros solo tienen acceso a uno o a unos pocos de ellos. El precio al que se negocia el activo puede variar en estos lugares de negociación. De hecho, no hay un precio fijo ya que diferentes comerciantes pagan o reciben precios diferentes. En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el precio de compra. Uno de los ejemplos más llamativos de este fenómeno ocurre en el mercado de divisas, donde existe un mercado interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto. Los spreads, definidos como la diferencia entre los precios de oferta y demanda, difieren significativamente en estos mercados, a pesar de que el mismo activo se está negociando en ambos mercados. En este artículo, desarrollamos un marco en el que tales fenómenos surgen de un modelo de comercio basado en teoría de juegos, con compradores, vendedores e intermediarios interactuando en una red. Los bordes de la red conectan a los comerciantes con los compradores y vendedores, y por lo tanto representan el acceso que tienen los diferentes participantes del mercado entre sí. Los comerciantes actúan como intermediarios en un juego de comercio de dos etapas: eligen estratégicamente los precios de oferta y demanda para ofrecer a los vendedores y compradores a los que están conectados; luego, los vendedores y compradores reaccionan a los precios que enfrentan. Por lo tanto, la red codifica el poder relativo en las posiciones estructurales de los participantes del mercado, incluyendo los niveles implícitos de competencia entre los traders. Mostramos que este juego siempre tiene un equilibrio de Nash perfecto en subjuegos de 143, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. También analizamos cómo los beneficios de los operadores dependen de la estructura de la red, caracterizando esencialmente en términos de teoría de grafos cómo se determina el pago de un operador por la cantidad de competencia que experimenta con otros operadores. Nuestro trabajo aquí está conectado a varias líneas de investigación en economía, finanzas y teoría de juegos algorítmica, y discutimos estas conexiones con más detalle más adelante en la introducción. A un nivel general, nuestro enfoque puede ser visto como la síntesis de dos importantes corrientes de trabajo: una que trata la interacción comprador-vendedor utilizando estructuras de red, pero sin intentar modelar los procesos mediante los cuales los precios son realmente formados [1, 4, 5, 6, 8, 9, 10, 13]; y otra corriente en la literatura sobre microestructura de mercado que incorpora intermediarios en la fijación de precios, pero sin restricciones de tipo red sobre quién puede comerciar con quién [12]. Al desarrollar un modelo de red que incluye explícitamente a los comerciantes como agentes que establecen precios, en un sistema junto con compradores y vendedores, podemos capturar la formación de precios en un entorno de red como un proceso estratégico llevado a cabo por intermediarios, en lugar de como resultado de un mecanismo centralizado o exógeno. El Modelo Básico: Bienes Indistinguibles. Nuestro objetivo al formular el modelo es expresar el proceso de fijación de precios en mercados como los discutidos anteriormente, donde los participantes no tienen todos acceso uniforme entre sí. Se nos da un conjunto B de compradores, un conjunto S de vendedores y un conjunto T de traders. Hay un grafo no dirigido G que indica quién puede comerciar con quién. Todos los bordes tienen un extremo en B ∪ S y el otro en T; es decir, cada borde tiene la forma (i, t) para i ∈ S y t ∈ T, o (j, t) para j ∈ B y t ∈ T. Esto refleja las restricciones de que todas las transacciones entre compradores y vendedores pasan por los intermediarios comerciales. En la versión más básica del modelo, consideramos bienes idénticos, de los cuales cada vendedor inicialmente posee una copia. Los compradores y vendedores tienen un valor para una copia del bien, y asumimos que estos valores son de conocimiento común. Posteriormente generalizaremos esto a un escenario en el que los bienes son distinguibles, los compradores pueden valorar los diferentes bienes de manera diferente y, potencialmente, los vendedores también pueden valorar las transacciones con diferentes compradores de manera diferente. Tener diferentes valoraciones de los compradores captura escenarios como las compras de viviendas; agregar diferentes valoraciones de los vendedores también captura mercados de coincidencia, por ejemplo, vendedores como solicitantes de empleo y compradores como empleadores, ambos preocupados por quién termina con qué bien (y con los comerciantes actuando como servicios que facilitan la búsqueda de empleo). Por lo tanto, para comenzar con el modelo básico, hay un solo tipo de bien; el bien viene en unidades indivisibles; y cada vendedor inicialmente posee una unidad del bien. Todos los tres tipos de agentes valoran el dinero a la misma tasa; y cada i ∈ B ∪ S valora adicionalmente una copia del bien en θi unidades de dinero. Ningún agente quiere más de una copia del bien, por lo que las copias adicionales se valoran en 0. Cada agente tiene una dotación inicial de dinero que es mayor que cualquier valoración individual θi; el efecto de esto es garantizar que cualquier comprador que termine sin una copia del bien ha sido excluido del mercado debido a su valoración y posición en la red, no a la falta de fondos. Nos imaginamos que cada bien que se vende fluye a lo largo de una secuencia de dos etapas: desde un vendedor a un comerciante, y luego del comerciante a un comprador. La forma particular en la que fluyen los bienes está determinada por el siguiente juego. Primero, cada comerciante ofrece un precio de oferta a cada vendedor al que está conectado, y un precio de demanda a cada comprador al que está conectado. Los vendedores y compradores luego eligen entre las ofertas presentadas por los comerciantes. Si varios comerciantes proponen el mismo precio a un vendedor o comprador, entonces no hay una mejor respuesta estricta para el vendedor o comprador. En este caso se debe hacer una selección, y, como es habitual (ver por ejemplo [10]), nosotros (los modeladores) elegimos entre las mejores ofertas. Finalmente, cada comerciante compra una copia del bien de cada vendedor que acepta su oferta, y vende una copia del bien a cada comprador que acepta su oferta. Si un comerciante en particular, t, descubre que más compradores que vendedores aceptan sus ofertas, entonces se ha comprometido a proporcionar más copias del bien de las que ha recibido, y diremos que esto resulta en una gran penalización para el comerciante por incumplimiento; el efecto de esto es que en equilibrio, ningún comerciante elegirá precios de oferta y demanda que resulten en un incumplimiento. Más precisamente, una estrategia para cada operador t es una especificación de un precio de oferta βti para cada vendedor i al que t está conectado, y un precio de demanda αtj para cada comprador j al que t está conectado. (También podemos manejar un modelo en el que un operador puede optar por no hacer una oferta a ciertos de sus vendedores o compradores adyacentes). Cada vendedor o comprador elige como máximo una arista incidente, indicando el comerciante con quien realizarán la transacción, al precio indicado. (La elección de una sola arista refleja el hecho de que (a) los vendedores inicialmente solo tienen una copia del bien, y (b) los compradores solo desean una copia del bien). Las ganancias son las siguientes: Para cada vendedor i, la ganancia de seleccionar al comerciante t es βti, mientras que la ganancia de no seleccionar a ningún comerciante es θi. (En el primer caso, el vendedor recibe βti unidades de dinero, mientras que en el segundo caso conserva su copia del bien, al que valora en θi). Para cada comprador j, la ganancia de seleccionar al comerciante t es θj - αtj, mientras que la ganancia de no seleccionar a ningún comerciante es 0. (En el primer caso, el comprador recibe el bien pero renuncia a αtj unidades de dinero). Para cada operador t, con ofertas aceptadas de vendedores i1, . . . , is y compradores j1, . . . , jb, la ganancia es P r αtjr − P r βtir, menos una penalización π si b > s. La penalización se elige lo suficientemente grande para que un operador nunca la sufra en equilibrio, por lo que generalmente no nos preocuparemos por la penalización. Esto define los elementos básicos del juego. El concepto de equilibrio que utilizamos es el equilibrio de Nash perfecto en subjuegos. Algunos ejemplos. Para ayudar a pensar en el modelo, ahora describimos tres ejemplos ilustrativos, representados en la Figura 1. Para evitar que las figuras se vuelvan demasiado desordenadas, adoptamos las siguientes convenciones: los vendedores se representan como círculos en la columna más a la izquierda y se les asigna el nombre i1, i2, ... de arriba abajo; los comerciantes se representan como cuadrados en la columna del medio y se les asigna el nombre t1, t2, ... de arriba abajo; y los compradores se representan como círculos en la columna más a la derecha y se les asigna el nombre j1, j2, ... de arriba abajo. Todos los vendedores en los ejemplos tendrán valoraciones para el bien iguales a 0; la valoración de cada comprador se dibuja dentro de su círculo; y el precio de oferta o demanda en cada borde se dibuja encima del borde. En la Figura 1(a), mostramos cómo una subasta estándar de segundo precio surge naturalmente de nuestro modelo. Supongamos que las valoraciones de los compradores de mayor a menor son w > x > y > z. Los precios de oferta y demanda mostrados son consistentes con un equilibrio en el que i1 y j1 aceptan las ofertas del trader t1, y ningún otro comprador acepta la oferta de su trader adyacente: así, el trader t1 recibe el bien con un precio de oferta de x, y gana w − x al vender el bien al comprador j1 por w. De esta manera, podemos considerar esta instancia particular como una subasta para un bien único en la que los traders actúan como representantes de sus compradores adyacentes. El comprador con la valoración más alta para el bien termina adquiriéndolo, y el excedente se divide entre el vendedor y el comerciante asociado. Se debe tener en cuenta que se puede construir una subasta de k unidades con > k compradores con la misma facilidad, creando un grafo bipartito completo con k vendedores y comerciantes, y luego conectando a cada comerciante con un único comprador distinto. En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales. Específicamente, el vendedor i2 y el comprador j2 ocupan posiciones poderosas, ya que los dos comerciantes compiten por su negocio; por otro lado, los otros vendedores y compradores se encuentran en posiciones débiles, ya que cada uno tiene solo una opción. Y de hecho, en cada equilibrio, hay un número real x ∈ [0, 1] tal que ambos comerciantes ofrecen precios de oferta y demanda de x a i2 y j2 respectivamente, mientras ofrecen ofertas de 0 y demandas de 1 a los otros vendedores y compradores. Por lo tanto, este ejemplo ilustra algunos ingredientes cruciales que identificaremos a un nivel más general en breve. Específicamente, i2 y j2 experimentan los beneficios de la competencia perfecta, ya que los dos comerciantes reducen los márgenes de oferta y demanda a 0 al competir por su negocio. Por otro lado, los otros vendedores y compradores experimentan las desventajas del monopolio: no reciben ninguna ganancia ya que solo tienen una opción para comerciar, y el comerciante correspondiente se queda con todas las ganancias. Observa además cómo este comportamiento natural surge del hecho de que los comerciantes pueden ofrecer diferentes precios a diferentes agentes, capturando el hecho de que no hay un precio fijo en los tipos de mercados que motivan el modelo, sino diferentes precios que reflejan el poder relativo de los diferentes agentes involucrados. El ejemplo anterior muestra quizás la forma más natural en la que la ganancia de un comerciante en una transacción particular puede caer a 0: cuando hay otro comerciante que puede replicar su función de manera precisa. (En ese ejemplo, dos comerciantes tenían la capacidad de mover una copia del bien de i2 a j2). Pero como mostrarán nuestros resultados posteriores, los comerciantes no obtienen ganancias en general debido a razones globales y teóricas de grafos. El ejemplo en la Figura 1(c) da una indicación inicial de esto: se puede demostrar que para cada equilibrio, existe un y ∈ [0, 1] tal que cada oferta y cada precio de demanda es igual a y. En otras palabras, todos los comerciantes no obtienen beneficios, ya sea que pase por ellos una copia del bien o no, y sin embargo, ningún par de comerciantes comparte rutas de vendedor-comprador en común. Los márgenes de precios se han reducido a cero debido a una restricción global impuesta por el largo ciclo a través de todos los agentes; este es un ejemplo de competencia perfecta implícita determinada por la topología de la red. Extendiendo el modelo para bienes distinguibles. Extendemos el modelo básico a un escenario con bienes distinguibles, de la siguiente manera. En lugar de que cada agente i ∈ B ∪ S tenga una única valoración numérica θi, indexamos las valoraciones por pares de compradores y vendedores: si el comprador j obtiene el bien inicialmente poseído por el vendedor i, obtiene una utilidad de θji, y si el vendedor i vende su bien al comprador j, experimenta una pérdida de utilidad de θij. Esto generaliza el caso de bienes indistinguibles, ya que siempre podemos hacer que estas valoraciones por pares dependan solo de uno de los índices. Una estrategia para un trader ahora consiste en ofrecer una oferta a cada vendedor que especifique tanto un precio como un comprador, y ofrecer una demanda a cada comprador que especifique tanto un precio como un vendedor. (También podemos manejar un modelo en el que un trader ofrece ofertas (respectivamente, demandas) en forma de vectores, especificando esencialmente un menú con un precio adjunto a cada comprador (resp. vendedor).) Cada comprador y vendedor selecciona una oferta de un comerciante adyacente, y los pagos a todos los agentes se determinan como antes. Este marco general captura los mercados de emparejamiento [10, 13]: por ejemplo, un mercado laboral que es mediado por agentes o servicios de búsqueda de empleo (como en la contratación de ejecutivos corporativos, o figuras del deporte o del entretenimiento). Aquí los vendedores son solicitantes de empleo, los compradores son empleadores y los comerciantes son los agentes que median en el mercado laboral. Por supuesto, si se especifican valoraciones por pares en los compradores pero solo valoraciones individuales para los vendedores, modelamos un escenario donde los compradores pueden distinguir entre los bienes, pero a los vendedores no les importa a quién venden, esto captura (aproximadamente) escenarios como los mercados de vivienda. Nuestros resultados. Nuestros resultados identificarán formas generales de algunos de los principios mencionados en los ejemplos discutidos anteriormente, incluyendo la pregunta de qué compradores terminan con el bien; la pregunta de cómo los pagos son realizados de manera diferente por vendedores, comerciantes y compradores; y la pregunta de qué propiedades estructurales de la red determinan si los comerciantes obtendrán beneficios positivos. Para hacer esto preciso, introducimos la siguiente notación. Cualquier resultado del juego determina una asignación final de bienes a algunos de los agentes; esto puede ser especificado por una colección M de triples (es decir, te, je), donde ie ∈ S, te ∈ T y je ∈ B; además, cada vendedor y cada comprador aparece en a lo sumo un triple. El significado es que para cada e ∈ M, el bien inicialmente poseído por ie se transfiere a je a través de te. (Los vendedores que no aparecen en ningún trío conservan su copia del bien). Decimos que el valor de la asignación es igual a P e∈M θjeie − θieje. Que θ∗ denote el valor máximo de cualquier asignación M que sea factible dada la red. Mostramos que cada instancia de nuestro juego tiene un equilibrio, y que en cada uno de estos equilibrios, la asignación tiene un valor de θ∗ 145, en otras palabras, logra el mejor valor posible. Por lo tanto, los equilibrios en este modelo son siempre eficientes, ya que el mercado permite que el conjunto correcto de personas obtenga el bien, sujeto a las restricciones de la red. Establecemos la existencia y eficiencia de los equilibrios mediante la construcción de un programa lineal para capturar el flujo de bienes a través de la red; el dual de este programa lineal contiene suficiente información para extraer los precios de equilibrio. Según la definición del juego, el valor de la asignación de equilibrio se divide en forma de pagos a los agentes, y resulta interesante preguntarse cómo se distribuye este valor, en particular cuánta ganancia puede obtener un trader según su posición en la red. Observamos que, aunque todos los equilibrios tienen el mismo valor, la ganancia de un trader dado puede variar entre diferentes equilibrios. Sin embargo, somos capaces de caracterizar las cantidades máximas y mínimas que un operador dado puede obtener, donde estos máximos y mínimos se toman sobre todos los equilibrios, y proporcionamos un algoritmo eficiente para calcular esto. En particular, nuestros resultados aquí implican una caracterización combinatoria clara de cuándo un trader dado t puede lograr un beneficio distinto de cero: esto ocurre si y solo si hay algún borde e incidente en t que es esencial, en el sentido de que eliminar e reduce el valor de la asignación óptima θ∗. También obtenemos resultados para la suma de todas las ganancias de los operadores. Trabajo relacionado. El enfoque estándar de referencia para analizar la interacción entre compradores y vendedores es el modelo walrasiano en el que compradores y vendedores anónimos intercambian un bien a un único precio de equilibrio de mercado. Esta forma reducida de comercio, basada en la idealización de un precio de mercado, es un modelo poderoso que ha dado lugar a muchas ideas. Pero no es un buen modelo para examinar de dónde vienen los precios o exactamente cómo compradores y vendedores comercian entre sí. La dificultad es que en el modelo walrasiano no hay un agente que fije el precio, y los agentes en realidad no comercian entre sí. De hecho, no hay un mercado, en el sentido cotidiano de esa palabra, en el modelo walrasiano. Es decir, no hay un lugar físico o virtual donde los compradores y vendedores interactúen para comerciar y establecer precios. Por lo tanto, en este modelo simple, todos los compradores y vendedores son uniformes y comercian al mismo precio, y tampoco hay un papel para intermediarios. Hay varias literaturas en economía y finanzas que examinan cómo se fijan los precios en lugar de simplemente determinar los precios de equilibrio. La literatura sobre competencia imperfecta es quizás la más antigua de todas. Aquí un monopolista, o un grupo de oligopolistas, eligen los precios con el fin de maximizar sus ganancias (ver [14] para el tratamiento estándar de estos mercados en los libros de texto). Un monopolista utiliza su conocimiento de la demanda del mercado para elegir un precio, o una colección de precios si discrimina. Los oligopolistas juegan un juego en el que sus ganancias dependen de la demanda del mercado y las acciones de sus competidores. En esta literatura hay agentes que fijan precios, pero se mantiene la ficción de un solo mercado. En la literatura de búsqueda de equilibrio, las empresas establecen precios y los consumidores los buscan (ver [3]). Los consumidores terminan pagando precios diferentes, pero todos los consumidores tienen acceso a todas las empresas y no hay intermediarios. En la literatura de equilibrio general ha habido varios intentos de introducir la determinación de precios. Una técnica de prueba estándar para la existencia de un equilibrio competitivo implica un mecanismo de ajuste de precios en el que los precios responden a la demanda excesiva. El subastador walrasiano suele ser presentado como un dispositivo para explicar cómo funciona este proceso, pero en realidad es fundamentalmente una metáfora de un algoritmo iterativo de actualización de precios, no de los detalles internos de un mercado real. Se han introducido procesos más sofisticados para estudiar la estabilidad de los precios de equilibrio o la información necesaria para calcularlos. Pero de nuevo no hay agentes que fijen los precios aquí. En la literatura financiera, el trabajo sobre microestructura de mercado sí tiene agentes que fijan precios (especialistas), algunas partes de él determinan precios de oferta y demanda separados, y diferentes agentes reciben precios distintos por el mismo activo (ver [12] para un tratamiento de la teoría de microestructura). El trabajo en economía de la información ha identificado fenómenos similares (ver por ejemplo [7]). Pero hay poca investigación en estas literaturas que examine el efecto de las restricciones sobre quién puede comerciar con quién. Ha habido varios enfoques para estudiar cómo la estructura de la red determina los precios. Estos han planteado la determinación de precios a través de definiciones basadas en el equilibrio competitivo o el núcleo, o mediante el uso de mecanismos veraces. Al revisar brevemente este trabajo, notaremos el contraste con nuestro enfoque, ya que modelamos los precios como resultado del comportamiento estratégico de los agentes en el sistema. En un trabajo reciente, Kakade et al. [8] han estudiado la distribución de precios en equilibrio competitivo en un grafo bipartito de compradores y vendedores, generado utilizando un modelo probabilístico capaz de producir distribuciones de grados con colas pesadas [11]. Even-Dar et al. [6] se basan en esto para considerar los aspectos estratégicos de la formación de redes cuando los precios surgen del equilibrio competitivo. Leonard [10], Babaioff et al. [1], y Chu y Shen [4] consideran un enfoque basado en el diseño de mecanismos: los compradores y vendedores residen en nodos diferentes en un grafo, y incurren en un costo de transporte dado para comerciar entre sí. Leonard estudia los precios de VCG en este contexto; Babaioff et al. y Chu y Shen además proporcionan un mecanismo equilibrado en presupuesto. Dado que la preocupación aquí radica en mecanismos veraces que operan sobre valoraciones privadas, existe un compromiso inherente entre la eficiencia de la asignación y la condición de equilibrio presupuestario. Por el contrario, nuestro modelo tiene valoraciones y precios conocidos que surgen del comportamiento estratégico de los operadores. Por lo tanto, las suposiciones detrás de nuestro modelo no son directamente comparables a las que subyacen en el enfoque del diseño de mecanismos: aunque asumimos valoraciones conocidas, no requerimos una autoridad centralizada para imponer un mecanismo. Más bien, la fijación de precios es parte del resultado estratégico, como en los mercados reales que motivan nuestro trabajo, y nuestros equilibrios son simultáneamente equilibrados en términos presupuestarios y eficientes, algo que no es posible en los marcos de diseño de mecanismos que se han utilizado. Demange, Gale y Sotomayor [5], y Kranton y Minehart [9], analizan los precios a los que se produce el comercio en una red, trabajando dentro del marco del diseño de mecanismos. Kranton y Minehart utilizan un grafo bipartito con enlaces directos entre compradores y vendedores, y luego emplean un mecanismo de subasta ascendente, en lugar de intermediarios estratégicos, para determinar los precios. Su subasta tiene propiedades de equilibrio deseables, pero como señalan Kranton y Minehart, es una abstracción de cómo se asignan los bienes y se determinan los precios que es similar en espíritu a la abstracción del subastador walrasiano. De hecho, podemos mostrar cómo el modelo básico de Kranton y Minehart puede ser codificado como una instancia de nuestro juego, con los comerciantes produciendo precios en equilibrio que coinciden con los precios producidos por su mecanismo de subasta. Finalmente, los resultados clásicos de Shapley y Shubik [13] sobre el juego de asignación pueden ser vistos como el estudio del resultado del comercio en un grafo bipartito en términos del núcleo. Estudian el dual de un programa lineal basado en el problema de emparejamiento, similar a lo que usamos para una versión reducida de nuestro modelo en la siguiente sección, pero su enfoque es diferente ya que no consideran agentes que buscan establecer precios. 2. MERCADOS CON OPERADORES DE PAREJAS Para comprender las ideas detrás del análisis del modelo general, es muy útil considerar primero un caso especial con un re1 Kranton y Minehart, sin embargo, también pueden analizar un entorno más general en el que los valores de los compradores son privados y, por lo tanto, compradores y vendedores juegan un juego de información incompleta. Solo trabajamos con información completa. 146 forma restringida de comerciantes a los que nos referimos como operadores de pares. En este caso, cada comerciante está conectado a solo un comprador y un vendedor. (Por lo tanto, sirve esencialmente como una ruta comercial entre los dos). Las técnicas que desarrollamos para manejar este caso formarán una base útil para razonar sobre el caso de los comerciantes que pueden estar conectados arbitrariamente a los vendedores y compradores. Relacionaremos las ganancias en un equilibrio de Nash perfecto en subjuegos con las soluciones óptimas de un cierto programa lineal, utilizaremos esta relación para demostrar que todos los equilibrios resultan en una asignación eficiente de los bienes, y mostraremos que siempre existe un equilibrio puro. Primero, consideramos el modelo más simple donde los vendedores tienen artículos indistinguibles, y cada comprador está interesado en obtener un artículo. Luego extendemos los resultados al caso más general de un mercado de emparejamiento, como se discutió en la sección anterior, donde las valoraciones dependen de la identidad del vendedor y comprador. Luego caracterizamos las ganancias mínimas y máximas que los comerciantes pueden obtener. En la siguiente sección, extendemos los resultados a los operadores que pueden estar conectados a cualquier subconjunto de vendedores y compradores. Dado que estamos trabajando con operadores de pares en esta sección, podemos representar el problema utilizando un grafo bipartito G cuyo conjunto de nodos es B ∪ S, y donde cada operador t, conectando al vendedor i y al comprador j, aparece como una arista t = (i, j) en G. Sin embargo, cabe destacar que permitimos que múltiples operadores conecten el mismo par de agentes. Para cada comprador y vendedor i, usaremos adj(i) para denotar el conjunto de comerciantes que pueden comerciar con i. 2.1 Bienes Indistinguibles El intercambio socialmente óptimo para el caso de bienes indistinguibles es la solución del problema de transporte: enviar bienes a lo largo de los bordes que representan a los comerciantes. Las aristas a lo largo de las cuales ocurre el comercio corresponden a un emparejamiento en este grafo bipartito, y el comercio óptimo está descrito por el siguiente programa lineal. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B A continuación, consideramos un equilibrio. Cada operador t = (i, j) debe ofrecer una oferta βt y una demanda αt. (Omitimos el subíndice que denota al vendedor y comprador aquí, ya que estamos tratando con operadores en pares). Dado el precio de oferta y demanda, los agentes reaccionan a estos precios, como se describió anteriormente. En lugar de enfocarnos en los precios, nos enfocaremos en las ganancias. Si un vendedor i vende a un comerciante t ∈ adj(i) con una oferta βt, entonces su ganancia es pi = βt − θi. De manera similar, si un comprador j compra a un comerciante t ∈ adj(j) con una oferta αt, entonces su ganancia es pj = θj − αt. Finalmente, si un comerciante t opera con la oferta αt y la demanda βt, entonces su ganancia es yt = αt − βt. Todos los agentes que no están involucrados en el comercio no obtienen ganancias. Demostraremos que las ganancias en equilibrio son una solución óptima para el siguiente programa lineal. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMA 2.1. En el equilibrio, los beneficios deben satisfacer las desigualdades anteriores. Prueba. Claramente, todas las ganancias son no negativas, ya que el comercio es opcional para todos los agentes. Para ver por qué se cumplen el último conjunto de desigualdades, considera dos casos por separado. Para un comerciante t que realizó un intercambio, obtenemos igualdad por definición. Para otros comerciantes t = (i, j), el valor pi + θi es el precio al que el vendedor i vendió (o θi si el vendedor i decidió quedarse con el bien). Ofrecer una oferta βt > pi + θi haría que el vendedor vendiera al comerciante t. De manera similar, θj − pj es el precio al que el comprador j compró (o θj si no compró), y para cualquier oferta αt < θj − pj, el comprador comprará al comerciante t. Por lo tanto, a menos que θj − pj ≤ θi + pi, el comerciante tiene una desviación rentable. Ahora estamos listos para demostrar nuestro primer teorema: TEOREMA 2.2. En cualquier equilibrio, el comercio es eficiente. Prueba. Que x sea un flujo de bienes que resulta en un equilibrio, y que las variables p e y sean las ganancias. Considera el programa lineal que describe el comercio socialmente óptimo. También agregaremos un conjunto de restricciones adicionales xt ≤ 1 para todos los operadores t ∈ T; esto se puede agregar a la descripción, ya que está implícito en las otras restricciones. Ahora afirmamos que los dos programas lineales son duales entre sí. Las variables pi para los agentes B ∪ S corresponden a las ecuaciones Pt∈adj(i) xt ≤ 1. La variable dual adicional yt corresponde a una desigualdad adicional xt ≤ 1. La optimalidad del valor social del intercambio se seguirá de la afirmación de que la solución de estos dos programas lineales derivados de un equilibrio satisface las condiciones de <br>holgura complementaria</br> para este par de programas lineales, y por lo tanto tanto x como (p, y) son soluciones óptimas de los programas lineales correspondientes. Existen tres condiciones de <br>holgura complementaria</br>s diferentes que debemos considerar, correspondientes a los tres conjuntos de variables x, y y p. Cualquier agente solo puede obtener ganancias si realiza transacciones, por lo que pi > 0 implica que P t∈adj(i) xt = 1, y de manera similar, yt > 0 implica que xt = 1 también. Finalmente, considera a un trader t con xt > 0 que negocia entre el vendedor i y el comprador j, y recuerda que hemos visto anteriormente que la desigualdad yt ≥ (θj − pj) − (θi + pi) se cumple con igualdad para aquellos que comercian. A continuación argumentamos que los equilibrios siempre existen. TEOREMA 2.3. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro de valores de oferta y demanda que respalda este comercio. Prueba. Considera un intercambio eficiente; sea xt = 1 si t intercambia y 0 en caso contrario; y considera una solución óptima (p, y) para el programa lineal dual. Nos gustaría afirmar que todas las soluciones duales corresponden a precios de equilibrio, pero desafortunadamente esto no es exactamente cierto. Antes de poder convertir una solución dual en precios de equilibrio, es posible que necesitemos modificar ligeramente la solución de la siguiente manera. Considera cualquier agente i que solo esté conectado a un único comerciante t. Debido a que el agente está solo conectado a un único comerciante, las variables yt y pi son variables duales correspondientes a la misma desigualdad primal xt ≤ 1, y siempre aparecen juntas como yt + pi en todas las desigualdades, y también en la función objetivo. Por lo tanto, existe una solución óptima en la que pi = 0 para todos los agentes i conectados solo a un único comerciante. Supongamos que (p, y) es una solución dual donde los agentes conectados solo a un comerciante tienen pi = 0. Para un vendedor i, dejemos que βt = θi + pi sea la oferta para todos los comerciantes t adyacentes a i. De manera similar, para cada comprador j, sea αt = θj − pj la oferta para todos los operadores t adyacentes a j. Sostenemos que este conjunto de ofertas y demandas, junto con la transacción x, constituyen un equilibrio. Para entender por qué, hay que tener en cuenta que todos los operadores t adyacentes a un vendedor o comprador i ofrecen la misma oferta o demanda, por lo que comerciar con cualquier operador es igualmente bueno para el agente i. Además, si i no está operando en la solución 147 x, entonces por <br>holgura complementaria</br> pi = 0, y por lo tanto, no operar también es igualmente bueno para i. Esto muestra que los vendedores y compradores no tienen un incentivo para desviarse. Necesitamos demostrar que los comerciantes no tienen incentivos para desviarse tampoco. Cuando un comerciante t está negociando con el vendedor i y el comprador j, las desviaciones rentables implicarían aumentar αt o disminuir βt. Pero por nuestra construcción (y suposición sobre agentes monopolizados) todos los vendedores y compradores tienen múltiples ofertas de compra/venta idénticas, o el intercambio está ocurriendo a valuación. En cualquier caso, tal desviación no puede tener éxito. Finalmente, considera un trader t = (i, j) que no realiza intercambios. Una desviación para t implicaría ofrecer una oferta más baja al vendedor i y una oferta más alta al vendedor j que su intercambio actual. Sin embargo, yt = 0 por <br>holgura complementaria</br>, y por lo tanto pi + θi ≥ θj − pj, por lo que i vende a un precio al menos tan alto como el precio al que j compra, por lo que el comerciante t no puede crear un intercambio rentable. Se debe tener en cuenta que un vendedor o comprador conectado a un único comerciante t no puede obtener beneficios en equilibrio, por lo que los posibles beneficios en equilibrio están en correspondencia uno a uno con las soluciones duales para las cuales pi = 0 siempre que i esté monopolizado por un único comerciante. Una característica decepcionante del equilibrio creado por esta prueba es que algunos agentes t pueden tener que crear pares de oferta y demanda donde βt > αt, ofreciendo comprar por más del precio al que están dispuestos a vender. Los agentes que realizan tales pares de oferta y demanda nunca realizan realmente una transacción, por lo que no resulta en una pérdida de beneficios para el agente, pero dichos pares son poco comunes. Los pares de ofertas y demandas cruzadas son débilmente dominados por la estrategia de ofrecer una oferta baja β = 0 y una demanda extremadamente alta para garantizar que ninguna sea aceptada. Para formular una forma de evitar tales pares cruzados, decimos que un equilibrio es libre de cruces si αt ≥ βt para todos los operadores t. Ahora mostramos que siempre hay un equilibrio libre de cruces. TEOREMA 2.4. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro y libre de cruces. Prueba. Considera una solución óptima para el programa lineal dual. Para obtener un equilibrio sin cruzar ofertas, necesitamos hacer una modificación más general que simplemente asumir que pi = 0 para todos los vendedores y compradores conectados a un único operador. Que el conjunto E sea el conjunto de aristas t = (i, j) que son tensas, en el sentido de que tenemos la igualdad yt = (θj − pj) − (θi + pi). Este conjunto E contiene todos los bordes donde ocurre el comercio, y algunos bordes adicionales. Queremos asegurarnos de que pi = 0 para todos los vendedores y compradores que tengan un grado de a lo sumo 1 en E. Considere un vendedor i que tiene pi > 0. Debemos tener i involucrado en un intercambio, y el borde t = (i, j) a lo largo del cual ocurre el intercambio debe ser ajustado. Supongamos que este es el único borde ajustado adyacente al agente i; entonces podemos disminuir pi e incrementar yt hasta que ocurra una de las siguientes situaciones: o bien pi = 0 o la restricción de algún otro agente t ∈ adj(i) se vuelva ajustada. Esta modificación solo aumenta el conjunto de aristas ajustadas E, mantiene la solución factible y no cambia el valor de la función objetivo. Entonces, después de hacer esto para todos los vendedores, y cambiando de manera análoga yt y pj para todos los compradores, obtenemos una solución óptima donde todos los vendedores y compradores i tienen pi = 0 o tienen al menos dos aristas ajustadas adyacentes. Ahora podemos establecer ofertas y demandas para formar un equilibrio libre de cruces. Para todos los traders t = (i, j) asociados con un borde t ∈ E, establecemos αt y βt como antes: fijamos la oferta βt = pi + θi y la demanda αt = θj − pj. Para un trader t = (i, j) ∈ E, tenemos que pi + θi > θj − pj y establecemos αt = βt para que sea cualquier valor en el rango [θj − pj, pi + θi]. Esto garantiza que para cada vendedor o comprador, la mejor oferta de venta o compra se encuentra a lo largo del borde donde se produce el intercambio en la solución. Los valores de askbid a lo largo de los bordes ajustados garantizan que los traders que operan no puedan aumentar su spread. Los operadores t = (i, j) que no realizan operaciones no pueden obtener ganancias debido a la restricción pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) Ningún operador obtiene ganancias 1 1 1 0 x x x x 1 x x 0 x (b) Ganancias del operador Figura 2: Izquierda: un equilibrio con ofertas cruzadas donde los operadores no ganan dinero. Correcto: un equilibrio sin ofertas cruzadas para cualquier valor x ∈ [0, 1]. La ganancia total del comerciante oscila entre 1 y 2. 2.2 Bienes distinguibles. Ahora consideramos el caso de bienes distinguibles. Como en la sección anterior, podemos escribir un programa lineal de transbordo para el comercio socialmente óptimo, con el único cambio en la función objetivo. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) Podemos demostrar que el dual de este programa lineal corresponde a las ganancias de los comerciantes. Recuerda que necesitábamos agregar las restricciones xt ≤ 1 para todos los traders. El dual es entonces: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T. No es difícil extender las pruebas de los Teoremas 2.2 - 2.4 a este caso. Las ganancias en un equilibrio satisfacen las restricciones duales, y las ganancias y el comercio satisfacen la <br>holgura complementaria</br>. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "monopoly": {
            "translated_key": "monopolio",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of <br>monopoly</br> - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a <br>monopoly</br> over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [
                "On the other hand, the other sellers and buyers experience the downsides of <br>monopoly</br> - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a <br>monopoly</br> over."
            ],
            "translated_annotated_samples": [
                "Por otro lado, los otros vendedores y compradores experimentan las desventajas del <br>monopolio</br>: no reciben ninguna ganancia ya que solo tienen una opción para comerciar, y el comerciante correspondiente se queda con todas las ganancias.",
                "Recuerde que en la demostración del Teorema 2.3, los comerciantes solo ganaron dinero de vendedores o compradores sobre los que tenían un <br>monopolio</br>."
            ],
            "translated_text": "Redes de intercambio con agentes que fijan precios Larry Blume Dept. En una amplia gama de mercados, los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, quienes determinan los precios mediante consideraciones estratégicas. Por lo general, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y realizan transacciones a precios correspondientemente diferentes que reflejan sus cantidades relativas de poder en el mercado. Modelamos este fenómeno utilizando un juego en el que compradores, vendedores e intermediarios participan en transacciones en un gráfico que representa el acceso que cada comprador y vendedor tiene a los intermediarios. En este modelo, los comerciantes establecen precios estratégicamente, y luego los compradores y vendedores reaccionan a los precios que se les ofrecen. Mostramos que el juego resultante siempre tiene un equilibrio de Nash perfecto en subjuegos, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. Extendemos estos resultados a un tipo más general de mercado de emparejamiento, como el que se encuentra en el emparejamiento de solicitantes de empleo y empleadores. Finalmente, consideramos cómo los beneficios obtenidos por los comerciantes dependen del grafo subyacente: en resumen, un comerciante puede obtener un beneficio positivo si y solo si tiene una conexión esencial en la estructura de la red, proporcionando así una base teórica de grafos para cuantificar la cantidad de competencia entre los comerciantes. Nuestro trabajo difiere de los estudios recientes sobre cómo el precio se ve afectado por la estructura de la red a través de nuestro modelado del establecimiento de precios como una actividad estratégica realizada por un subconjunto de agentes en el sistema, en lugar de estudiar precios establecidos a través de un equilibrio competitivo o por un mecanismo veraz. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía Términos Generales Economía, Teoría 1. INTRODUCCIÓN En una variedad de entornos donde los mercados median las interacciones entre compradores y vendedores, se observan varias propiedades recurrentes: Los compradores y vendedores individuales a menudo realizan transacciones a través de intermediarios, no todos los compradores y vendedores tienen acceso a los mismos intermediarios, y no todos los compradores y vendedores comercian al mismo precio. Un ejemplo de esta configuración es el comercio de productos agrícolas en países en desarrollo. Dada la falta de redes de transporte adecuadas y el limitado acceso de los agricultores pobres al capital, muchos agricultores no tienen otra alternativa que comerciar con intermediarios en mercados locales ineficientes. Un país en desarrollo puede tener muchos mercados parcialmente superpuestos que coexisten junto a mercados modernos y eficientes. Los mercados financieros proporcionan un ejemplo diferente de un entorno con estas características generales. En estos mercados, gran parte del comercio entre compradores y vendedores es intermediado por una variedad de agentes que van desde corredores hasta creadores de mercado y sistemas de negociación electrónica. Para muchos activos no hay un único mercado; la negociación de un solo activo puede ocurrir simultáneamente en el piso de una bolsa, en redes de cruce, en bolsas electrónicas y en mercados de otros países. Algunos compradores y vendedores tienen acceso a muchos o a todos estos lugares de negociación; otros solo tienen acceso a uno o a unos pocos de ellos. El precio al que se negocia el activo puede variar en estos lugares de negociación. De hecho, no hay un precio fijo ya que diferentes comerciantes pagan o reciben precios diferentes. En muchos contextos también existe una brecha entre el precio que paga un comprador por un activo, el precio de venta, y el precio que recibe un vendedor por el activo, el precio de compra. Uno de los ejemplos más llamativos de este fenómeno ocurre en el mercado de divisas, donde existe un mercado interbancario con acceso restringido y un mercado minorista con un acceso mucho más abierto. Los spreads, definidos como la diferencia entre los precios de oferta y demanda, difieren significativamente en estos mercados, a pesar de que el mismo activo se está negociando en ambos mercados. En este artículo, desarrollamos un marco en el que tales fenómenos surgen de un modelo de comercio basado en teoría de juegos, con compradores, vendedores e intermediarios interactuando en una red. Los bordes de la red conectan a los comerciantes con los compradores y vendedores, y por lo tanto representan el acceso que tienen los diferentes participantes del mercado entre sí. Los comerciantes actúan como intermediarios en un juego de comercio de dos etapas: eligen estratégicamente los precios de oferta y demanda para ofrecer a los vendedores y compradores a los que están conectados; luego, los vendedores y compradores reaccionan a los precios que enfrentan. Por lo tanto, la red codifica el poder relativo en las posiciones estructurales de los participantes del mercado, incluyendo los niveles implícitos de competencia entre los traders. Mostramos que este juego siempre tiene un equilibrio de Nash perfecto en subjuegos de 143, y que todos los equilibrios conducen a una asignación eficiente (es decir, socialmente óptima) de bienes. También analizamos cómo los beneficios de los operadores dependen de la estructura de la red, caracterizando esencialmente en términos de teoría de grafos cómo se determina el pago de un operador por la cantidad de competencia que experimenta con otros operadores. Nuestro trabajo aquí está conectado a varias líneas de investigación en economía, finanzas y teoría de juegos algorítmica, y discutimos estas conexiones con más detalle más adelante en la introducción. A un nivel general, nuestro enfoque puede ser visto como la síntesis de dos importantes corrientes de trabajo: una que trata la interacción comprador-vendedor utilizando estructuras de red, pero sin intentar modelar los procesos mediante los cuales los precios son realmente formados [1, 4, 5, 6, 8, 9, 10, 13]; y otra corriente en la literatura sobre microestructura de mercado que incorpora intermediarios en la fijación de precios, pero sin restricciones de tipo red sobre quién puede comerciar con quién [12]. Al desarrollar un modelo de red que incluye explícitamente a los comerciantes como agentes que establecen precios, en un sistema junto con compradores y vendedores, podemos capturar la formación de precios en un entorno de red como un proceso estratégico llevado a cabo por intermediarios, en lugar de como resultado de un mecanismo centralizado o exógeno. El Modelo Básico: Bienes Indistinguibles. Nuestro objetivo al formular el modelo es expresar el proceso de fijación de precios en mercados como los discutidos anteriormente, donde los participantes no tienen todos acceso uniforme entre sí. Se nos da un conjunto B de compradores, un conjunto S de vendedores y un conjunto T de traders. Hay un grafo no dirigido G que indica quién puede comerciar con quién. Todos los bordes tienen un extremo en B ∪ S y el otro en T; es decir, cada borde tiene la forma (i, t) para i ∈ S y t ∈ T, o (j, t) para j ∈ B y t ∈ T. Esto refleja las restricciones de que todas las transacciones entre compradores y vendedores pasan por los intermediarios comerciales. En la versión más básica del modelo, consideramos bienes idénticos, de los cuales cada vendedor inicialmente posee una copia. Los compradores y vendedores tienen un valor para una copia del bien, y asumimos que estos valores son de conocimiento común. Posteriormente generalizaremos esto a un escenario en el que los bienes son distinguibles, los compradores pueden valorar los diferentes bienes de manera diferente y, potencialmente, los vendedores también pueden valorar las transacciones con diferentes compradores de manera diferente. Tener diferentes valoraciones de los compradores captura escenarios como las compras de viviendas; agregar diferentes valoraciones de los vendedores también captura mercados de coincidencia, por ejemplo, vendedores como solicitantes de empleo y compradores como empleadores, ambos preocupados por quién termina con qué bien (y con los comerciantes actuando como servicios que facilitan la búsqueda de empleo). Por lo tanto, para comenzar con el modelo básico, hay un solo tipo de bien; el bien viene en unidades indivisibles; y cada vendedor inicialmente posee una unidad del bien. Todos los tres tipos de agentes valoran el dinero a la misma tasa; y cada i ∈ B ∪ S valora adicionalmente una copia del bien en θi unidades de dinero. Ningún agente quiere más de una copia del bien, por lo que las copias adicionales se valoran en 0. Cada agente tiene una dotación inicial de dinero que es mayor que cualquier valoración individual θi; el efecto de esto es garantizar que cualquier comprador que termine sin una copia del bien ha sido excluido del mercado debido a su valoración y posición en la red, no a la falta de fondos. Nos imaginamos que cada bien que se vende fluye a lo largo de una secuencia de dos etapas: desde un vendedor a un comerciante, y luego del comerciante a un comprador. La forma particular en la que fluyen los bienes está determinada por el siguiente juego. Primero, cada comerciante ofrece un precio de oferta a cada vendedor al que está conectado, y un precio de demanda a cada comprador al que está conectado. Los vendedores y compradores luego eligen entre las ofertas presentadas por los comerciantes. Si varios comerciantes proponen el mismo precio a un vendedor o comprador, entonces no hay una mejor respuesta estricta para el vendedor o comprador. En este caso se debe hacer una selección, y, como es habitual (ver por ejemplo [10]), nosotros (los modeladores) elegimos entre las mejores ofertas. Finalmente, cada comerciante compra una copia del bien de cada vendedor que acepta su oferta, y vende una copia del bien a cada comprador que acepta su oferta. Si un comerciante en particular, t, descubre que más compradores que vendedores aceptan sus ofertas, entonces se ha comprometido a proporcionar más copias del bien de las que ha recibido, y diremos que esto resulta en una gran penalización para el comerciante por incumplimiento; el efecto de esto es que en equilibrio, ningún comerciante elegirá precios de oferta y demanda que resulten en un incumplimiento. Más precisamente, una estrategia para cada operador t es una especificación de un precio de oferta βti para cada vendedor i al que t está conectado, y un precio de demanda αtj para cada comprador j al que t está conectado. (También podemos manejar un modelo en el que un operador puede optar por no hacer una oferta a ciertos de sus vendedores o compradores adyacentes). Cada vendedor o comprador elige como máximo una arista incidente, indicando el comerciante con quien realizarán la transacción, al precio indicado. (La elección de una sola arista refleja el hecho de que (a) los vendedores inicialmente solo tienen una copia del bien, y (b) los compradores solo desean una copia del bien). Las ganancias son las siguientes: Para cada vendedor i, la ganancia de seleccionar al comerciante t es βti, mientras que la ganancia de no seleccionar a ningún comerciante es θi. (En el primer caso, el vendedor recibe βti unidades de dinero, mientras que en el segundo caso conserva su copia del bien, al que valora en θi). Para cada comprador j, la ganancia de seleccionar al comerciante t es θj - αtj, mientras que la ganancia de no seleccionar a ningún comerciante es 0. (En el primer caso, el comprador recibe el bien pero renuncia a αtj unidades de dinero). Para cada operador t, con ofertas aceptadas de vendedores i1, . . . , is y compradores j1, . . . , jb, la ganancia es P r αtjr − P r βtir, menos una penalización π si b > s. La penalización se elige lo suficientemente grande para que un operador nunca la sufra en equilibrio, por lo que generalmente no nos preocuparemos por la penalización. Esto define los elementos básicos del juego. El concepto de equilibrio que utilizamos es el equilibrio de Nash perfecto en subjuegos. Algunos ejemplos. Para ayudar a pensar en el modelo, ahora describimos tres ejemplos ilustrativos, representados en la Figura 1. Para evitar que las figuras se vuelvan demasiado desordenadas, adoptamos las siguientes convenciones: los vendedores se representan como círculos en la columna más a la izquierda y se les asigna el nombre i1, i2, ... de arriba abajo; los comerciantes se representan como cuadrados en la columna del medio y se les asigna el nombre t1, t2, ... de arriba abajo; y los compradores se representan como círculos en la columna más a la derecha y se les asigna el nombre j1, j2, ... de arriba abajo. Todos los vendedores en los ejemplos tendrán valoraciones para el bien iguales a 0; la valoración de cada comprador se dibuja dentro de su círculo; y el precio de oferta o demanda en cada borde se dibuja encima del borde. En la Figura 1(a), mostramos cómo una subasta estándar de segundo precio surge naturalmente de nuestro modelo. Supongamos que las valoraciones de los compradores de mayor a menor son w > x > y > z. Los precios de oferta y demanda mostrados son consistentes con un equilibrio en el que i1 y j1 aceptan las ofertas del trader t1, y ningún otro comprador acepta la oferta de su trader adyacente: así, el trader t1 recibe el bien con un precio de oferta de x, y gana w − x al vender el bien al comprador j1 por w. De esta manera, podemos considerar esta instancia particular como una subasta para un bien único en la que los traders actúan como representantes de sus compradores adyacentes. El comprador con la valoración más alta para el bien termina adquiriéndolo, y el excedente se divide entre el vendedor y el comerciante asociado. Se debe tener en cuenta que se puede construir una subasta de k unidades con > k compradores con la misma facilidad, creando un grafo bipartito completo con k vendedores y comerciantes, y luego conectando a cada comerciante con un único comprador distinto. En la Figura 1(b), mostramos cómo los nodos con diferentes posiciones en la topología de la red pueden lograr diferentes ganancias, incluso cuando todas las valoraciones de los compradores son numéricamente iguales. Específicamente, el vendedor i2 y el comprador j2 ocupan posiciones poderosas, ya que los dos comerciantes compiten por su negocio; por otro lado, los otros vendedores y compradores se encuentran en posiciones débiles, ya que cada uno tiene solo una opción. Y de hecho, en cada equilibrio, hay un número real x ∈ [0, 1] tal que ambos comerciantes ofrecen precios de oferta y demanda de x a i2 y j2 respectivamente, mientras ofrecen ofertas de 0 y demandas de 1 a los otros vendedores y compradores. Por lo tanto, este ejemplo ilustra algunos ingredientes cruciales que identificaremos a un nivel más general en breve. Específicamente, i2 y j2 experimentan los beneficios de la competencia perfecta, ya que los dos comerciantes reducen los márgenes de oferta y demanda a 0 al competir por su negocio. Por otro lado, los otros vendedores y compradores experimentan las desventajas del <br>monopolio</br>: no reciben ninguna ganancia ya que solo tienen una opción para comerciar, y el comerciante correspondiente se queda con todas las ganancias. Observa además cómo este comportamiento natural surge del hecho de que los comerciantes pueden ofrecer diferentes precios a diferentes agentes, capturando el hecho de que no hay un precio fijo en los tipos de mercados que motivan el modelo, sino diferentes precios que reflejan el poder relativo de los diferentes agentes involucrados. El ejemplo anterior muestra quizás la forma más natural en la que la ganancia de un comerciante en una transacción particular puede caer a 0: cuando hay otro comerciante que puede replicar su función de manera precisa. (En ese ejemplo, dos comerciantes tenían la capacidad de mover una copia del bien de i2 a j2). Pero como mostrarán nuestros resultados posteriores, los comerciantes no obtienen ganancias en general debido a razones globales y teóricas de grafos. El ejemplo en la Figura 1(c) da una indicación inicial de esto: se puede demostrar que para cada equilibrio, existe un y ∈ [0, 1] tal que cada oferta y cada precio de demanda es igual a y. En otras palabras, todos los comerciantes no obtienen beneficios, ya sea que pase por ellos una copia del bien o no, y sin embargo, ningún par de comerciantes comparte rutas de vendedor-comprador en común. Los márgenes de precios se han reducido a cero debido a una restricción global impuesta por el largo ciclo a través de todos los agentes; este es un ejemplo de competencia perfecta implícita determinada por la topología de la red. Extendiendo el modelo para bienes distinguibles. Extendemos el modelo básico a un escenario con bienes distinguibles, de la siguiente manera. En lugar de que cada agente i ∈ B ∪ S tenga una única valoración numérica θi, indexamos las valoraciones por pares de compradores y vendedores: si el comprador j obtiene el bien inicialmente poseído por el vendedor i, obtiene una utilidad de θji, y si el vendedor i vende su bien al comprador j, experimenta una pérdida de utilidad de θij. Esto generaliza el caso de bienes indistinguibles, ya que siempre podemos hacer que estas valoraciones por pares dependan solo de uno de los índices. Una estrategia para un trader ahora consiste en ofrecer una oferta a cada vendedor que especifique tanto un precio como un comprador, y ofrecer una demanda a cada comprador que especifique tanto un precio como un vendedor. (También podemos manejar un modelo en el que un trader ofrece ofertas (respectivamente, demandas) en forma de vectores, especificando esencialmente un menú con un precio adjunto a cada comprador (resp. vendedor).) Cada comprador y vendedor selecciona una oferta de un comerciante adyacente, y los pagos a todos los agentes se determinan como antes. Este marco general captura los mercados de emparejamiento [10, 13]: por ejemplo, un mercado laboral que es mediado por agentes o servicios de búsqueda de empleo (como en la contratación de ejecutivos corporativos, o figuras del deporte o del entretenimiento). Aquí los vendedores son solicitantes de empleo, los compradores son empleadores y los comerciantes son los agentes que median en el mercado laboral. Por supuesto, si se especifican valoraciones por pares en los compradores pero solo valoraciones individuales para los vendedores, modelamos un escenario donde los compradores pueden distinguir entre los bienes, pero a los vendedores no les importa a quién venden, esto captura (aproximadamente) escenarios como los mercados de vivienda. Nuestros resultados. Nuestros resultados identificarán formas generales de algunos de los principios mencionados en los ejemplos discutidos anteriormente, incluyendo la pregunta de qué compradores terminan con el bien; la pregunta de cómo los pagos son realizados de manera diferente por vendedores, comerciantes y compradores; y la pregunta de qué propiedades estructurales de la red determinan si los comerciantes obtendrán beneficios positivos. Para hacer esto preciso, introducimos la siguiente notación. Cualquier resultado del juego determina una asignación final de bienes a algunos de los agentes; esto puede ser especificado por una colección M de triples (es decir, te, je), donde ie ∈ S, te ∈ T y je ∈ B; además, cada vendedor y cada comprador aparece en a lo sumo un triple. El significado es que para cada e ∈ M, el bien inicialmente poseído por ie se transfiere a je a través de te. (Los vendedores que no aparecen en ningún trío conservan su copia del bien). Decimos que el valor de la asignación es igual a P e∈M θjeie − θieje. Que θ∗ denote el valor máximo de cualquier asignación M que sea factible dada la red. Mostramos que cada instancia de nuestro juego tiene un equilibrio, y que en cada uno de estos equilibrios, la asignación tiene un valor de θ∗ 145, en otras palabras, logra el mejor valor posible. Por lo tanto, los equilibrios en este modelo son siempre eficientes, ya que el mercado permite que el conjunto correcto de personas obtenga el bien, sujeto a las restricciones de la red. Establecemos la existencia y eficiencia de los equilibrios mediante la construcción de un programa lineal para capturar el flujo de bienes a través de la red; el dual de este programa lineal contiene suficiente información para extraer los precios de equilibrio. Según la definición del juego, el valor de la asignación de equilibrio se divide en forma de pagos a los agentes, y resulta interesante preguntarse cómo se distribuye este valor, en particular cuánta ganancia puede obtener un trader según su posición en la red. Observamos que, aunque todos los equilibrios tienen el mismo valor, la ganancia de un trader dado puede variar entre diferentes equilibrios. Sin embargo, somos capaces de caracterizar las cantidades máximas y mínimas que un operador dado puede obtener, donde estos máximos y mínimos se toman sobre todos los equilibrios, y proporcionamos un algoritmo eficiente para calcular esto. En particular, nuestros resultados aquí implican una caracterización combinatoria clara de cuándo un trader dado t puede lograr un beneficio distinto de cero: esto ocurre si y solo si hay algún borde e incidente en t que es esencial, en el sentido de que eliminar e reduce el valor de la asignación óptima θ∗. También obtenemos resultados para la suma de todas las ganancias de los operadores. Trabajo relacionado. El enfoque estándar de referencia para analizar la interacción entre compradores y vendedores es el modelo walrasiano en el que compradores y vendedores anónimos intercambian un bien a un único precio de equilibrio de mercado. Esta forma reducida de comercio, basada en la idealización de un precio de mercado, es un modelo poderoso que ha dado lugar a muchas ideas. Pero no es un buen modelo para examinar de dónde vienen los precios o exactamente cómo compradores y vendedores comercian entre sí. La dificultad es que en el modelo walrasiano no hay un agente que fije el precio, y los agentes en realidad no comercian entre sí. De hecho, no hay un mercado, en el sentido cotidiano de esa palabra, en el modelo walrasiano. Es decir, no hay un lugar físico o virtual donde los compradores y vendedores interactúen para comerciar y establecer precios. Por lo tanto, en este modelo simple, todos los compradores y vendedores son uniformes y comercian al mismo precio, y tampoco hay un papel para intermediarios. Hay varias literaturas en economía y finanzas que examinan cómo se fijan los precios en lugar de simplemente determinar los precios de equilibrio. La literatura sobre competencia imperfecta es quizás la más antigua de todas. Aquí un monopolista, o un grupo de oligopolistas, eligen los precios con el fin de maximizar sus ganancias (ver [14] para el tratamiento estándar de estos mercados en los libros de texto). Un monopolista utiliza su conocimiento de la demanda del mercado para elegir un precio, o una colección de precios si discrimina. Los oligopolistas juegan un juego en el que sus ganancias dependen de la demanda del mercado y las acciones de sus competidores. En esta literatura hay agentes que fijan precios, pero se mantiene la ficción de un solo mercado. En la literatura de búsqueda de equilibrio, las empresas establecen precios y los consumidores los buscan (ver [3]). Los consumidores terminan pagando precios diferentes, pero todos los consumidores tienen acceso a todas las empresas y no hay intermediarios. En la literatura de equilibrio general ha habido varios intentos de introducir la determinación de precios. Una técnica de prueba estándar para la existencia de un equilibrio competitivo implica un mecanismo de ajuste de precios en el que los precios responden a la demanda excesiva. El subastador walrasiano suele ser presentado como un dispositivo para explicar cómo funciona este proceso, pero en realidad es fundamentalmente una metáfora de un algoritmo iterativo de actualización de precios, no de los detalles internos de un mercado real. Se han introducido procesos más sofisticados para estudiar la estabilidad de los precios de equilibrio o la información necesaria para calcularlos. Pero de nuevo no hay agentes que fijen los precios aquí. En la literatura financiera, el trabajo sobre microestructura de mercado sí tiene agentes que fijan precios (especialistas), algunas partes de él determinan precios de oferta y demanda separados, y diferentes agentes reciben precios distintos por el mismo activo (ver [12] para un tratamiento de la teoría de microestructura). El trabajo en economía de la información ha identificado fenómenos similares (ver por ejemplo [7]). Pero hay poca investigación en estas literaturas que examine el efecto de las restricciones sobre quién puede comerciar con quién. Ha habido varios enfoques para estudiar cómo la estructura de la red determina los precios. Estos han planteado la determinación de precios a través de definiciones basadas en el equilibrio competitivo o el núcleo, o mediante el uso de mecanismos veraces. Al revisar brevemente este trabajo, notaremos el contraste con nuestro enfoque, ya que modelamos los precios como resultado del comportamiento estratégico de los agentes en el sistema. En un trabajo reciente, Kakade et al. [8] han estudiado la distribución de precios en equilibrio competitivo en un grafo bipartito de compradores y vendedores, generado utilizando un modelo probabilístico capaz de producir distribuciones de grados con colas pesadas [11]. Even-Dar et al. [6] se basan en esto para considerar los aspectos estratégicos de la formación de redes cuando los precios surgen del equilibrio competitivo. Leonard [10], Babaioff et al. [1], y Chu y Shen [4] consideran un enfoque basado en el diseño de mecanismos: los compradores y vendedores residen en nodos diferentes en un grafo, y incurren en un costo de transporte dado para comerciar entre sí. Leonard estudia los precios de VCG en este contexto; Babaioff et al. y Chu y Shen además proporcionan un mecanismo equilibrado en presupuesto. Dado que la preocupación aquí radica en mecanismos veraces que operan sobre valoraciones privadas, existe un compromiso inherente entre la eficiencia de la asignación y la condición de equilibrio presupuestario. Por el contrario, nuestro modelo tiene valoraciones y precios conocidos que surgen del comportamiento estratégico de los operadores. Por lo tanto, las suposiciones detrás de nuestro modelo no son directamente comparables a las que subyacen en el enfoque del diseño de mecanismos: aunque asumimos valoraciones conocidas, no requerimos una autoridad centralizada para imponer un mecanismo. Más bien, la fijación de precios es parte del resultado estratégico, como en los mercados reales que motivan nuestro trabajo, y nuestros equilibrios son simultáneamente equilibrados en términos presupuestarios y eficientes, algo que no es posible en los marcos de diseño de mecanismos que se han utilizado. Demange, Gale y Sotomayor [5], y Kranton y Minehart [9], analizan los precios a los que se produce el comercio en una red, trabajando dentro del marco del diseño de mecanismos. Kranton y Minehart utilizan un grafo bipartito con enlaces directos entre compradores y vendedores, y luego emplean un mecanismo de subasta ascendente, en lugar de intermediarios estratégicos, para determinar los precios. Su subasta tiene propiedades de equilibrio deseables, pero como señalan Kranton y Minehart, es una abstracción de cómo se asignan los bienes y se determinan los precios que es similar en espíritu a la abstracción del subastador walrasiano. De hecho, podemos mostrar cómo el modelo básico de Kranton y Minehart puede ser codificado como una instancia de nuestro juego, con los comerciantes produciendo precios en equilibrio que coinciden con los precios producidos por su mecanismo de subasta. Finalmente, los resultados clásicos de Shapley y Shubik [13] sobre el juego de asignación pueden ser vistos como el estudio del resultado del comercio en un grafo bipartito en términos del núcleo. Estudian el dual de un programa lineal basado en el problema de emparejamiento, similar a lo que usamos para una versión reducida de nuestro modelo en la siguiente sección, pero su enfoque es diferente ya que no consideran agentes que buscan establecer precios. 2. MERCADOS CON OPERADORES DE PAREJAS Para comprender las ideas detrás del análisis del modelo general, es muy útil considerar primero un caso especial con un re1 Kranton y Minehart, sin embargo, también pueden analizar un entorno más general en el que los valores de los compradores son privados y, por lo tanto, compradores y vendedores juegan un juego de información incompleta. Solo trabajamos con información completa. 146 forma restringida de comerciantes a los que nos referimos como operadores de pares. En este caso, cada comerciante está conectado a solo un comprador y un vendedor. (Por lo tanto, sirve esencialmente como una ruta comercial entre los dos). Las técnicas que desarrollamos para manejar este caso formarán una base útil para razonar sobre el caso de los comerciantes que pueden estar conectados arbitrariamente a los vendedores y compradores. Relacionaremos las ganancias en un equilibrio de Nash perfecto en subjuegos con las soluciones óptimas de un cierto programa lineal, utilizaremos esta relación para demostrar que todos los equilibrios resultan en una asignación eficiente de los bienes, y mostraremos que siempre existe un equilibrio puro. Primero, consideramos el modelo más simple donde los vendedores tienen artículos indistinguibles, y cada comprador está interesado en obtener un artículo. Luego extendemos los resultados al caso más general de un mercado de emparejamiento, como se discutió en la sección anterior, donde las valoraciones dependen de la identidad del vendedor y comprador. Luego caracterizamos las ganancias mínimas y máximas que los comerciantes pueden obtener. En la siguiente sección, extendemos los resultados a los operadores que pueden estar conectados a cualquier subconjunto de vendedores y compradores. Dado que estamos trabajando con operadores de pares en esta sección, podemos representar el problema utilizando un grafo bipartito G cuyo conjunto de nodos es B ∪ S, y donde cada operador t, conectando al vendedor i y al comprador j, aparece como una arista t = (i, j) en G. Sin embargo, cabe destacar que permitimos que múltiples operadores conecten el mismo par de agentes. Para cada comprador y vendedor i, usaremos adj(i) para denotar el conjunto de comerciantes que pueden comerciar con i. 2.1 Bienes Indistinguibles El intercambio socialmente óptimo para el caso de bienes indistinguibles es la solución del problema de transporte: enviar bienes a lo largo de los bordes que representan a los comerciantes. Las aristas a lo largo de las cuales ocurre el comercio corresponden a un emparejamiento en este grafo bipartito, y el comercio óptimo está descrito por el siguiente programa lineal. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B A continuación, consideramos un equilibrio. Cada operador t = (i, j) debe ofrecer una oferta βt y una demanda αt. (Omitimos el subíndice que denota al vendedor y comprador aquí, ya que estamos tratando con operadores en pares). Dado el precio de oferta y demanda, los agentes reaccionan a estos precios, como se describió anteriormente. En lugar de enfocarnos en los precios, nos enfocaremos en las ganancias. Si un vendedor i vende a un comerciante t ∈ adj(i) con una oferta βt, entonces su ganancia es pi = βt − θi. De manera similar, si un comprador j compra a un comerciante t ∈ adj(j) con una oferta αt, entonces su ganancia es pj = θj − αt. Finalmente, si un comerciante t opera con la oferta αt y la demanda βt, entonces su ganancia es yt = αt − βt. Todos los agentes que no están involucrados en el comercio no obtienen ganancias. Demostraremos que las ganancias en equilibrio son una solución óptima para el siguiente programa lineal. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMA 2.1. En el equilibrio, los beneficios deben satisfacer las desigualdades anteriores. Prueba. Claramente, todas las ganancias son no negativas, ya que el comercio es opcional para todos los agentes. Para ver por qué se cumplen el último conjunto de desigualdades, considera dos casos por separado. Para un comerciante t que realizó un intercambio, obtenemos igualdad por definición. Para otros comerciantes t = (i, j), el valor pi + θi es el precio al que el vendedor i vendió (o θi si el vendedor i decidió quedarse con el bien). Ofrecer una oferta βt > pi + θi haría que el vendedor vendiera al comerciante t. De manera similar, θj − pj es el precio al que el comprador j compró (o θj si no compró), y para cualquier oferta αt < θj − pj, el comprador comprará al comerciante t. Por lo tanto, a menos que θj − pj ≤ θi + pi, el comerciante tiene una desviación rentable. Ahora estamos listos para demostrar nuestro primer teorema: TEOREMA 2.2. En cualquier equilibrio, el comercio es eficiente. Prueba. Que x sea un flujo de bienes que resulta en un equilibrio, y que las variables p e y sean las ganancias. Considera el programa lineal que describe el comercio socialmente óptimo. También agregaremos un conjunto de restricciones adicionales xt ≤ 1 para todos los operadores t ∈ T; esto se puede agregar a la descripción, ya que está implícito en las otras restricciones. Ahora afirmamos que los dos programas lineales son duales entre sí. Las variables pi para los agentes B ∪ S corresponden a las ecuaciones Pt∈adj(i) xt ≤ 1. La variable dual adicional yt corresponde a una desigualdad adicional xt ≤ 1. La optimalidad del valor social del intercambio se seguirá de la afirmación de que la solución de estos dos programas lineales derivados de un equilibrio satisface las condiciones de holgura complementaria para este par de programas lineales, y por lo tanto tanto x como (p, y) son soluciones óptimas de los programas lineales correspondientes. Existen tres condiciones de holgura complementarias diferentes que debemos considerar, correspondientes a los tres conjuntos de variables x, y y p. Cualquier agente solo puede obtener ganancias si realiza transacciones, por lo que pi > 0 implica que P t∈adj(i) xt = 1, y de manera similar, yt > 0 implica que xt = 1 también. Finalmente, considera a un trader t con xt > 0 que negocia entre el vendedor i y el comprador j, y recuerda que hemos visto anteriormente que la desigualdad yt ≥ (θj − pj) − (θi + pi) se cumple con igualdad para aquellos que comercian. A continuación argumentamos que los equilibrios siempre existen. TEOREMA 2.3. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro de valores de oferta y demanda que respalda este comercio. Prueba. Considera un intercambio eficiente; sea xt = 1 si t intercambia y 0 en caso contrario; y considera una solución óptima (p, y) para el programa lineal dual. Nos gustaría afirmar que todas las soluciones duales corresponden a precios de equilibrio, pero desafortunadamente esto no es exactamente cierto. Antes de poder convertir una solución dual en precios de equilibrio, es posible que necesitemos modificar ligeramente la solución de la siguiente manera. Considera cualquier agente i que solo esté conectado a un único comerciante t. Debido a que el agente está solo conectado a un único comerciante, las variables yt y pi son variables duales correspondientes a la misma desigualdad primal xt ≤ 1, y siempre aparecen juntas como yt + pi en todas las desigualdades, y también en la función objetivo. Por lo tanto, existe una solución óptima en la que pi = 0 para todos los agentes i conectados solo a un único comerciante. Supongamos que (p, y) es una solución dual donde los agentes conectados solo a un comerciante tienen pi = 0. Para un vendedor i, dejemos que βt = θi + pi sea la oferta para todos los comerciantes t adyacentes a i. De manera similar, para cada comprador j, sea αt = θj − pj la oferta para todos los operadores t adyacentes a j. Sostenemos que este conjunto de ofertas y demandas, junto con la transacción x, constituyen un equilibrio. Para entender por qué, hay que tener en cuenta que todos los operadores t adyacentes a un vendedor o comprador i ofrecen la misma oferta o demanda, por lo que comerciar con cualquier operador es igualmente bueno para el agente i. Además, si i no está operando en la solución 147 x, entonces por holgura complementaria pi = 0, y por lo tanto, no operar también es igualmente bueno para i. Esto muestra que los vendedores y compradores no tienen un incentivo para desviarse. Necesitamos demostrar que los comerciantes no tienen incentivos para desviarse tampoco. Cuando un comerciante t está negociando con el vendedor i y el comprador j, las desviaciones rentables implicarían aumentar αt o disminuir βt. Pero por nuestra construcción (y suposición sobre agentes monopolizados) todos los vendedores y compradores tienen múltiples ofertas de compra/venta idénticas, o el intercambio está ocurriendo a valuación. En cualquier caso, tal desviación no puede tener éxito. Finalmente, considera un trader t = (i, j) que no realiza intercambios. Una desviación para t implicaría ofrecer una oferta más baja al vendedor i y una oferta más alta al vendedor j que su intercambio actual. Sin embargo, yt = 0 por holgura complementaria, y por lo tanto pi + θi ≥ θj − pj, por lo que i vende a un precio al menos tan alto como el precio al que j compra, por lo que el comerciante t no puede crear un intercambio rentable. Se debe tener en cuenta que un vendedor o comprador conectado a un único comerciante t no puede obtener beneficios en equilibrio, por lo que los posibles beneficios en equilibrio están en correspondencia uno a uno con las soluciones duales para las cuales pi = 0 siempre que i esté monopolizado por un único comerciante. Una característica decepcionante del equilibrio creado por esta prueba es que algunos agentes t pueden tener que crear pares de oferta y demanda donde βt > αt, ofreciendo comprar por más del precio al que están dispuestos a vender. Los agentes que realizan tales pares de oferta y demanda nunca realizan realmente una transacción, por lo que no resulta en una pérdida de beneficios para el agente, pero dichos pares son poco comunes. Los pares de ofertas y demandas cruzadas son débilmente dominados por la estrategia de ofrecer una oferta baja β = 0 y una demanda extremadamente alta para garantizar que ninguna sea aceptada. Para formular una forma de evitar tales pares cruzados, decimos que un equilibrio es libre de cruces si αt ≥ βt para todos los operadores t. Ahora mostramos que siempre hay un equilibrio libre de cruces. TEOREMA 2.4. Para cualquier comercio eficiente entre compradores y vendedores, existe un equilibrio puro y libre de cruces. Prueba. Considera una solución óptima para el programa lineal dual. Para obtener un equilibrio sin cruzar ofertas, necesitamos hacer una modificación más general que simplemente asumir que pi = 0 para todos los vendedores y compradores conectados a un único operador. Que el conjunto E sea el conjunto de aristas t = (i, j) que son tensas, en el sentido de que tenemos la igualdad yt = (θj − pj) − (θi + pi). Este conjunto E contiene todos los bordes donde ocurre el comercio, y algunos bordes adicionales. Queremos asegurarnos de que pi = 0 para todos los vendedores y compradores que tengan un grado de a lo sumo 1 en E. Considere un vendedor i que tiene pi > 0. Debemos tener i involucrado en un intercambio, y el borde t = (i, j) a lo largo del cual ocurre el intercambio debe ser ajustado. Supongamos que este es el único borde ajustado adyacente al agente i; entonces podemos disminuir pi e incrementar yt hasta que ocurra una de las siguientes situaciones: o bien pi = 0 o la restricción de algún otro agente t ∈ adj(i) se vuelva ajustada. Esta modificación solo aumenta el conjunto de aristas ajustadas E, mantiene la solución factible y no cambia el valor de la función objetivo. Entonces, después de hacer esto para todos los vendedores, y cambiando de manera análoga yt y pj para todos los compradores, obtenemos una solución óptima donde todos los vendedores y compradores i tienen pi = 0 o tienen al menos dos aristas ajustadas adyacentes. Ahora podemos establecer ofertas y demandas para formar un equilibrio libre de cruces. Para todos los traders t = (i, j) asociados con un borde t ∈ E, establecemos αt y βt como antes: fijamos la oferta βt = pi + θi y la demanda αt = θj − pj. Para un trader t = (i, j) ∈ E, tenemos que pi + θi > θj − pj y establecemos αt = βt para que sea cualquier valor en el rango [θj − pj, pi + θi]. Esto garantiza que para cada vendedor o comprador, la mejor oferta de venta o compra se encuentra a lo largo del borde donde se produce el intercambio en la solución. Los valores de askbid a lo largo de los bordes ajustados garantizan que los traders que operan no puedan aumentar su spread. Los operadores t = (i, j) que no realizan operaciones no pueden obtener ganancias debido a la restricción pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) Ningún operador obtiene ganancias 1 1 1 0 x x x x 1 x x 0 x (b) Ganancias del operador Figura 2: Izquierda: un equilibrio con ofertas cruzadas donde los operadores no ganan dinero. Correcto: un equilibrio sin ofertas cruzadas para cualquier valor x ∈ [0, 1]. La ganancia total del comerciante oscila entre 1 y 2. 2.2 Bienes distinguibles. Ahora consideramos el caso de bienes distinguibles. Como en la sección anterior, podemos escribir un programa lineal de transbordo para el comercio socialmente óptimo, con el único cambio en la función objetivo. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) Podemos demostrar que el dual de este programa lineal corresponde a las ganancias de los comerciantes. Recuerda que necesitábamos agregar las restricciones xt ≤ 1 para todos los traders. El dual es entonces: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T. No es difícil extender las pruebas de los Teoremas 2.2 - 2.4 a este caso. Las ganancias en un equilibrio satisfacen las restricciones duales, y las ganancias y el comercio satisfacen la holgura complementaria. Esto demuestra que el comercio es socialmente óptimo. Tomando una solución dual óptima donde pi = 0 para todos los agentes que están monopolizados, podemos convertirla en un equilibrio, y con un poco más de cuidado, también podemos crear un equilibrio sin pares de oferta y demanda cruzados. TEOREMA 2.5. Todos los equilibrios para el caso de los operadores en pares con bienes distinguibles resultan en un comercio socialmente óptimo. Existen equilibrios puros no cruzados. 2.3 Ganancias de los operadores Hemos visto que todos los equilibrios son eficientes. Sin embargo, resulta que los equilibrios pueden diferir en cómo se distribuye el valor de la asignación entre los vendedores, compradores e intermediarios. La Figura 2 representa un ejemplo simple de este fenómeno. Nuestro objetivo es entender cómo se ve afectada la ganancia de un trader por su posición en la red; utilizaremos la caracterización que obtuvimos para determinar el rango de ganancias que un trader puede obtener. Para maximizar la ganancia de un operador t (o un subconjunto de operadores T), todo lo que necesitamos hacer es encontrar una solución óptima al programa lineal dual que maximice el valor de yt (o la suma Pt∈T yt). Tales soluciones duales corresponderán a equilibrios con precios no cruzados. TEOREMA 2.6. Para cualquier operador t o subconjunto de operadores T, la ganancia total máxima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. Este beneficio máximo se puede obtener mediante un equilibrio no cruzado. Una forma de pensar en la ganancia de un trader t = (i, j) es como una resta del valor del borde correspondiente (i, j). El valor del borde es el valor social θji − θij si el comerciante no obtiene ganancias, y disminuye a θji − θij − yt si el comerciante t insiste en obtener una ganancia de yt. El comerciante t obtiene un beneficio yt en equilibrio, si después de esta disminución en el valor del borde, el borde sigue incluido en el transbordo óptimo. TEOREMA 2.7. Un comerciante t puede obtener beneficios en un equilibrio si y solo si t es esencial para el bienestar social, es decir, si eliminar al agente t disminuye el bienestar social. La ganancia máxima que puede obtener es exactamente su valor para la sociedad, es decir, el aumento que su presencia provoca en el bienestar social. Si permitimos el cruce de equilibrios, entonces también podemos encontrar la ganancia mínima posible. Recuerde que en la demostración del Teorema 2.3, los comerciantes solo ganaron dinero de vendedores o compradores sobre los que tenían un <br>monopolio</br>. Permitiendo tales equilibrios con ofertas cruzadas, podemos encontrar la ganancia mínima que un trader o conjunto de traders puede obtener, minimizando el valor yt (o la suma de P t∈T yt) en todas las soluciones óptimas que satisfacen que pi = 0 siempre que i esté conectado solo a un trader. TEOREMA 2.8. Para cualquier operador t o subconjunto de operadores T, la ganancia total mínima que pueden obtener en cualquier equilibrio puede ser calculada en tiempo polinómico. A continuación, extendemos los resultados a un modelo en el que los comerciantes pueden estar conectados a un número arbitrario de vendedores y compradores. Para un comerciante t ∈ T utilizaremos S(t) y B(t) para denotar el conjunto de compradores y vendedores conectados al comerciante t. En esta sección nos enfocamos en el caso general cuando los bienes son distinguibles (es decir, tanto los compradores como los vendedores tienen valoraciones que son sensibles a la identidad del agente con el que se emparejan en la asignación). En la versión completa del artículo también discutimos el caso especial de bienes indistinguibles con más detalle. Para obtener el intercambio óptimo, consideramos el grafo bipartito G = (S ∪ B, E) que conecta vendedores y compradores, donde una arista e = (i, j) conecta un vendedor i y un comprador j si hay un comerciante adyacente a ambos: E = {(i, j) : adj(i) ∩ adj(j) = ∅}. En este gráfico, luego resolvemos la instancia del problema de asignación que también se utilizó en la Sección 2.2, con el valor del borde (i, j) igual a θji − θij (ya que el valor del intercambio entre i y j es independiente de qué comerciante realizó el intercambio). También utilizaremos el dual de este programa lineal: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Ofertas y Demandas y Optimización del Trader. Primero necesitamos entender qué modelo de oferta utilizaremos. Incluso cuando los bienes son indistinguibles, un comerciante puede querer practicar discriminación de precios y ofrecer diferentes valores de oferta y demanda a diferentes vendedores y compradores. En el caso de bienes distinguibles, tenemos que lidiar con una complicación adicional: el comerciante tiene que nombrar el bien que está proponiendo vender o comprar, y posiblemente ofrecer múltiples productos diferentes. Hay dos variantes de nuestro modelo dependiendo de si un trader hace una única oferta de compra o venta a un vendedor o comprador, o si ofrece un menú de opciones. (i) Un trader t puede ofrecer a un comprador j un menú de ofertas de compra αtji, un vector de valores para todos los productos a los que está conectado, donde αtji es la oferta de compra para el producto del vendedor i. De manera simétrica, un trader t puede ofrecer a cada vendedor i un menú de ofertas de venta βtij para vender a diferentes compradores j. (ii) Alternativamente, podemos requerir que cada trader t pueda hacer como máximo una oferta de compra a cada vendedor y una oferta de venta para cada comprador, y una oferta de compra debe incluir el producto vendido, y una oferta de venta debe ofrecer a un comprador en particular para venderle. Nuestros resultados se mantienen en ambos modelos. Para simplificar la notación, utilizaremos la opción del menú aquí. A continuación, necesitamos entender el problema de optimización de un trader t. Supongamos que tenemos valores de oferta y demanda para todos los demás traders t ∈ T, t = t. ¿Cuáles son las mejores ofertas de compra y venta que el trader t puede hacer como mejor respuesta al conjunto actual de ofertas de compra y venta? Para cada vendedor i, dejemos que pi sea la ganancia máxima que el vendedor i puede obtener utilizando ofertas de otros comerciantes, y asumamos de manera simétrica que pj es la ganancia máxima que el comprador j puede obtener utilizando demandas de otros comerciantes (dejando pi = 0 para cualquier vendedor o comprador i que no pueda obtener ganancias). Ahora considera un par vendedor-comprador (i, j) que el comerciante t puede conectar. El trader t tendrá que hacer una oferta de al menos βtij = θij + pi al vendedor i y un precio de venta de como máximo αtji = θji − pj al comprador j para realizar esta transacción, por lo que la ganancia máxima que puede obtener en esta operación es vtij = αtji − βtij = θji − pj − (θij + pi). El intercambio óptimo para el trader t se obtiene resolviendo un problema de emparejamiento para encontrar la correspondencia entre los vendedores S(t) y compradores B(t) que maximiza el valor total vtij para el trader t. Necesitaremos el dual del programa lineal para encontrar el intercambio de máximo beneficio para el trader t. Utilizaremos qti como la variable dual asociada con la restricción del vendedor o comprador i. El dual es entonces el siguiente problema. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t). Vemos qti como la ganancia obtenida por t al comerciar con el vendedor o comprador i. El Teorema 3.1 resume la discusión anterior. TEOREMA 3.1. Para un trader t, dado las ofertas más bajas βtij y las peticiones más altas αtji que pueden ser aceptadas para los vendedores i ∈ S(t) y compradores j ∈ B(t), el mejor intercambio que t puede hacer es el emparejamiento de valor máximo entre S(t) y B(t) con valor vtij = αtji − βtij para la arista (i, j). Este valor máximo es igual al mínimo del programa lineal dual anterior. 3.2 Comercio eficiente y equilibrio Ahora podemos demostrar que el comercio en equilibrio siempre es eficiente. TEOREMA 3.2. Cada equilibrio resulta en una asignación eficiente de los bienes. Prueba. Considera un equilibrio, con xe = 1 si y solo si el comercio ocurre a lo largo del borde e = (i, j). El comercio es una solución al programa lineal de transbordo utilizado en la Sección 2.2. Que pi denote la ganancia del vendedor o comprador i. Cada operador t actualmente tiene la mejor solución a su propio problema de optimización. Un comerciante t encuentra su intercambio óptimo (dadas las ofertas y demandas de los otros 149 comerciantes) resolviendo un problema de emparejamiento. Que qti para i ∈ B(t)∪S(t) denote la solución dual óptima a este problema de emparejamiento como se describe en el Teorema 3.1. Al configurar el problema de optimización para un trader t anteriormente, usamos pi para denotar la ganancia máxima que puedo obtener sin la oferta del trader t. Tenga en cuenta que este pi es exactamente el mismo pi que usamos aquí, la ganancia del agente i. Esto es claramente cierto para todos los operadores t que no están comerciando con i en el equilibrio. Para ver por qué es cierto para el operador t con el que i está negociando, usamos que el conjunto actual de valores de oferta y demanda es un equilibrio. Si para cualquier agente i la oferta o demanda del trader t fuera la única mejor opción, entonces t podría obtener más beneficios ofreciendo una demanda un poco más alta o una oferta un poco más baja, lo cual sería una contradicción. Mostramos que el intercambio x es óptimo al considerar la solución dual zi = pi + P t qti para todos los agentes i ∈ B ∪ S. Afirmamos que z es una solución dual y satisface la holgura complementaria con el intercambio x. Para ver esto, necesitamos mostrar algunos hechos. Necesitamos que zi > 0 implique que i comercie. Si zi > 0, entonces o bien pi > 0 o qti > 0 para algún trader t. El agente i solo puede obtener ganancias pi > 0 si está involucrado en una transacción. Si qti > 0 para algún t, entonces el trader t debe comerciar con i, ya que su solución es óptima, y por holgura complementaria para la solución dual, qti > 0 implica que t comercia con i. Para un borde (i, j) asociado con un trader t, necesitamos mostrar que la solución dual es factible, es decir, zi + zj ≥ θji − θij. Se recuerda que vtij = θji −pj −(θij +pi), y la restricción dual del problema de optimización de los traders requiere qti + qtj ≥ vtij. Al juntar todo esto, tenemos zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij. Finalmente, necesitamos demostrar que las variables de intercambio x también cumplen la restricción de holgura complementaria: cuando xe > 0 para una arista e = (i, j) entonces la restricción dual correspondiente es activa. Que t sea el comerciante involucrado en la transacción. Por la holgura complementaria del problema de optimización de ts, tenemos qti + qtj = vtij. Para ver que z satisface la holgura complementaria, necesitamos argumentar que para todos los otros comerciantes t = t, tenemos tanto qt i = 0 como qt j = 0. Esto es cierto ya que qt i > 0 implica por la holgura complementaria del problema de optimización de t s que t debe comerciar con i en el óptimo, y t = t está comerciando. A continuación queremos demostrar que siempre existe un equilibrio no cruzado. Llamamos a un equilibrio no cruzado si las ofertas de compra y venta que un trader t hace para un par vendedor-comprador (i, j) nunca se cruzan, es decir, βtij ≤ αtji para todo t, i, j. TEOREMA 3.3. Existe un equilibrio no cruzado que respalda cualquier intercambio socialmente óptimo. Prueba. Considera un intercambio óptimo x y una solución dual z como antes. Para encontrar un equilibrio no cruzado necesitamos dividir la ganancia zi entre i y el comerciante t que negocia con i. Usaremos qti como el beneficio del comerciante asociado con el agente i para cualquier i ∈ S(t) ∪ B(t). Necesitaremos garantizar las siguientes propiedades: El comerciante t comercia con el agente i siempre que qti > 0. Esta es una de las condiciones de holgura complementaria para asegurar que el intercambio actual sea óptimo para el trader t. Para todos los pares vendedor-comprador (i, j) con los que un trader t puede comerciar, tenemos que pi + qti + pj + qtj ≥ θji − θij, (1) lo cual asegurará que qt sea una solución dual factible para el problema de optimización al que se enfrenta el trader t. Necesitamos tener igualdad en (1) cuando el trader t está comerciando entre i y j. Esta es una de las condiciones de holgura complementaria para el trader t, y garantizará que el intercambio de t sea óptimo para el trader. Finalmente, queremos organizar que cada agente i con pi > 0 tenga múltiples ofertas para obtener ganancias pi, y que el intercambio se realice en una de sus mejores ofertas. Para garantizar esto en las ofertas y demandas correspondientes, necesitamos asegurarnos de que siempre que pi > 0 haya múltiples t ∈ adj(i) que cumplan con la ecuación en la restricción anterior (1). Comenzamos estableciendo pi = zi para todo i ∈ S ∪ B y qti = 0 para todo i ∈ S ∪ B y traders t ∈ adj(i). Esto garantiza todos los invariantes excepto la última propiedad sobre múltiples t ∈ adj(t) teniendo igualdad en (1). Modificaremos p y q para aplicar gradualmente la última condición, manteniendo las demás. Considera un vendedor con pi > 0. Por la optimalidad del intercambio y la solución dual z, el vendedor i debe comerciar con algún comerciante t, y ese comerciante tendrá igualdad en (1) para el comprador j con el que se empareja i. Si este es el único operador t que tiene una restricción estricta en (1) que involucra al vendedor i, entonces aumentamos qti y disminuimos pi hasta que pi = 0 o hasta que otro operador t = t logre la igualdad en (1) para algún borde del comprador adyacente a i (posiblemente un comprador diferente j). Este cambio mantiene todas las invariantes y aumenta el conjunto de vendedores que también cumplen con la última restricción. Podemos hacer un cambio similar para un comprador j que tiene pj > 0 y solo tiene un operador t con una restricción ajustada (1) adyacente a j. Después de posiblemente repetir esto para todos los vendedores y compradores, obtenemos ganancias que satisfacen todas las restricciones. Ahora obtenemos los valores de oferta y demanda de equilibrio de la siguiente manera. Para un operador t que tiene igualdad para el par vendedor-comprador (i, j) en (1), ofrecemos αtji = θji − pj y βtij = θij + pi. Para todos los demás comerciantes t y pares de vendedor-comprador (i, j) tenemos el invariante (1), y utilizando esto sabemos que podemos elegir un valor γ en el rango θij +pi+qti ≥ γ ≥ θji − (pj + qtj). Ofrecemos valores de oferta y demanda βtij = αtji = γ. Ni la oferta ni la demanda serán la única mejor oferta para el comprador, por lo tanto, el intercambio x sigue siendo un equilibrio. 3.3 Ganancias del Trader Finalmente, nos enfocamos en el objetivo de comprender, en el caso de los traders generales, cómo se ve afectada la ganancia de un trader por su posición en la red. Primero, mostramos cómo maximizar la ganancia total de un grupo de comerciantes. La ganancia del comerciante t en un equilibrio es P i qti. Para encontrar la ganancia máxima posible para un trader t o un conjunto de traders T, necesitamos hacer lo siguiente: Encontrar ganancias pi ≥ 0 y qti > 0 de manera que zi = pi + P t∈adj(i) qti sea una solución dual óptima, y también cumpla con las restricciones (1) para cualquier vendedor i y comprador j conectados a través de un trader t ∈ T. Ahora, sujeto a todas estas condiciones, maximizamos la suma P t∈T P i∈S(t)∪B(t) qti. Ten en cuenta que esta maximización es una función objetivo secundaria con respecto al objetivo principal de que z sea una solución dual óptima. Luego usamos la prueba del Teorema 3.3 que muestra cómo convertir esto en un equilibrio. TEOREMA 3.4. El valor máximo para P t∈T P i qti anterior es la máxima ganancia que el conjunto T de comerciantes puede obtener. Prueba. Por la demostración del Teorema 3.2, las ganancias del comerciante t pueden ser escritas en esta forma, por lo que el conjunto de comerciantes T no puede obtener más ganancias de las reclamadas en este teorema. Para ver que T realmente puede obtener tantas ganancias, usamos la prueba del Teorema 3.3. Modificamos esa prueba para empezar con los vectores de ganancias p y qt para t ∈ T, y establecemos qt = 0 para todos los traders t ∈ T. Verificamos que esta solución inicial cumple con las tres primeras de las cuatro propiedades requeridas, y luego podemos seguir la demostración para hacer que la cuarta propiedad sea verdadera. Omitimos los detalles de esto en la versión actual. En la Sección 2.3 demostramos que en el caso de los traders de pares, un trader t puede ganar dinero si es esencial para el comercio eficiente. Esto no es 150 1 1 Figura 3: El comerciante principal es esencial para el bienestar social. Sin embargo, el único equilibrio es tener valores de oferta y demanda iguales a 0, y el comerciante no obtiene beneficios. Esto es cierto para el tipo de comerciantes más generales que consideramos aquí, como se muestra en el ejemplo de la Figura 3. Sin embargo, aún obtenemos una caracterización de cuándo un comerciante t puede obtener una ganancia positiva. TEOREMA 3.5. Un comerciante t puede obtener ganancias en un equilibrio si y solo si hay un vendedor o comprador i adyacente a t tal que la conexión del comerciante t con el agente i es esencial para el bienestar social, es decir, si eliminar al agente t de adj(i) disminuye el valor de la asignación óptima. Prueba. Primero mostramos la dirección en la que si un comerciante t puede ganar dinero, debe haber un agente i tal que la conexión de t con i sea esencial para el bienestar social. Sean p, q las ganancias en un equilibrio donde t gana dinero, como se describe en el Teorema 3.2 con P i∈S(t)∪B(t) qti > 0. Así que tenemos un agente i con qti > 0. Sostenemos que la conexión entre el agente i y el comerciante t debe ser esencial, en particular, sostenemos que el bienestar social debe disminuir al menos en qti si eliminamos t de adj(t). Para ver por qué, observe que al disminuir el valor de todas las aristas de la forma (i, j) asociadas con el comerciante t en qti, se mantiene el mismo óptimo de comercio, ya que obtenemos una solución dual de emparejamiento simplemente restableciendo qti a cero. Para ver lo contrario, suponga que eliminar t de adj(t) disminuye el bienestar social en algún valor γ. Supongamos que i es un vendedor (el caso de los compradores es simétrico), y disminuye en γ el valor social de cada arista (i, j) para cualquier comprador j tal que t sea el único agente que conecta a i y j. Por supuesto, el intercambio sigue siendo óptimo y dejamos que z sea la solución dual para esta correspondencia. Ahora utilizamos el mismo proceso que en la demostración del Teorema 3.3 para crear un equilibrio no cruzado comenzando con pi = zi para todo i ∈ S ∪ B, y qti = γ, y todos los demás valores de q igual a 0. Esto crea un equilibrio con ofertas que no se cruzan, donde t obtiene al menos γ de beneficio (debido al intercambio con el vendedor i). Finalmente, si permitimos el cruce de equilibrios, entonces podemos encontrar la ganancia mínima posible simplemente encontrando una solución dual que minimice las variables duales asociadas con los agentes monopolizados por algún comerciante. TEOREMA 3.6. Para cualquier trader t o subconjunto de traders T, la ganancia total mínima que pueden obtener en cualquier equilibrio se puede calcular en tiempo polinómico. 4. REFERENCIAS [1] M. Babaioff, N. Nisan, E. Pavlov. Mecanismos para un mercado distribuido espacialmente. Conferencia ACM EC, 2005. [2] C. Barrett, E. Mutambatsere. Mercados agrícolas en países en desarrollo. El Nuevo Diccionario de Economía de Palgrave, 2da edición, próximo a publicarse. [3] Kenneth Burdett y Kenneth Judd. Dispersión del precio de equilibrio. Econometrica, 51/4, julio de 1983, 955-969. [4] L. Chu, Z.-J. I'm sorry, but \"Shen\" is not a sentence. Can you please provide a sentence for me to translate into Spanish? Mecanismo de subasta doble de competencia de agentes. Ciencia de la Gestión, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor. Subastas de varios artículos. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Econ. Política 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri. Un juego de formación de redes para economías de intercambio bipartitas. Simposio ACM-SIAM sobre Algoritmos Discretos (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald. Precios dinámicos por agentes de software. Redes de Computadoras, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri. Propiedades económicas de las redes sociales. NIPS 2004. [9] R. Kranton, D. Minehart. \n\nNIPS 2004. [9] R. Kranton, D. Minehart. Una teoría de redes de comprador-vendedor. American Economic Review 91(3), junio de 2001. [10] H. Leonard. Elicitación de preferencias honestas para la asignación de individuos a posiciones. J. Pol. Econ, 1983. [11] M. E. J. Newman. \n\nEcon, 1983. [11] M. E. J. Newman. La estructura y función de redes complejas. SIAM Review, 45:167-256, 2003. [12] M. OHara. \n\nRevista SIAM, 45:167-256, 2003. [12] M. OHara. Teoría de la Microestructura del Mercado. Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.\nEditorial Blackwell, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, El juego de asignación I: El núcleo. Internacional. I'm sorry, but the sentence \"J.\" does not provide enough context for me to accurately translate it. Could you please provide more information or a complete sentence for me to work with? Teoría de Juegos 1/2 111-130, 1972. [14] Jean Tirole. La Teoría de la Organización Industrial. El MIT Press, Cambridge, MA, 1988. 151 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "trade network": {
            "translated_key": "red de comercio",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Trading Networks with Price-Setting Agents Larry Blume Dept.",
                "of Economics Cornell University, Ithaca NY lb19@cs.cornell.edu David Easley Dept. of Economics Cornell University, Ithaca NY dae3@cs.cornell.edu Jon Kleinberg Dept. of Computer Science Cornell University, Ithaca NY kleinber@cs.cornell.edu ´Eva Tardos Dept. of Computer Science Cornell University, Ithaca NY eva@cs.cornell.edu ABSTRACT In a wide range of markets, individual buyers and sellers often trade through intermediaries, who determine prices via strategic considerations.",
                "Typically, not all buyers and sellers have access to the same intermediaries, and they trade at correspondingly different prices that reflect their relative amounts of power in the market.",
                "We model this phenomenon using a game in which buyers, sellers, and traders engage in trade on a graph that represents the access each buyer and seller has to the traders.",
                "In this model, traders set prices strategically, and then buyers and sellers react to the prices they are offered.",
                "We show that the resulting game always has a subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We extend these results to a more general type of matching market, such as one finds in the matching of job applicants and employers.",
                "Finally, we consider how the profits obtained by the traders depend on the underlying graph - roughly, a trader can command a positive profit if and only if it has an essential connection in the network structure, thus providing a graph-theoretic basis for quantifying the amount of competition among traders.",
                "Our work differs from recent studies of how price is affected by network structure through our modeling of price-setting as a strategic activity carried out by a subset of agents in the system, rather than studying prices set via competitive equilibrium or by a truthful mechanism.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics General Terms Economics, Theory 1.",
                "INTRODUCTION In a range of settings where markets mediate the interactions of buyers and sellers, one observes several recurring properties: Individual buyers and sellers often trade through intermediaries, not all buyers and sellers have access to the same intermediaries, and not all buyers and sellers trade at the same price.",
                "One example of this setting is the trade of agricultural goods in developing countries.",
                "Given inadequate transportation networks, and poor farmers limited access to capital, many farmers have no alternative to trading with middlemen in inefficient local markets.",
                "A developing country may have many such partially overlapping markets existing alongside modern efficient markets [2].",
                "Financial markets provide a different example of a setting with these general characteristics.",
                "In these markets much of the trade between buyers and sellers is intermediated by a variety of agents ranging from brokers to market makers to electronic trading systems.",
                "For many assets there is no one market; trade in a single asset may occur simultaneously on the floor of an exchange, on crossing networks, on electronic exchanges, and in markets in other countries.",
                "Some buyers and sellers have access to many or all of these trading venues; others have access to only one or a few of them.",
                "The price at which the asset trades may differ across these trading venues.",
                "In fact, there is no price as different traders pay or receive different prices.",
                "In many settings there is also a gap between the price a buyer pays for an asset, the ask price, and the price a seller receives for the asset, the bid price.",
                "One of the most striking examples of this phenomenon occurs in the market for foreign exchange, where there is an interbank market with restricted access and a retail market with much more open access.",
                "Spreads, defined as the difference between bid and ask prices, differ significantly across these markets, even though the same asset is being traded in the two markets.",
                "In this paper, we develop a framework in which such phenomena emerge from a game-theoretic model of trade, with buyers, sellers, and traders interacting on a network.",
                "The edges of the network connect traders to buyers and sellers, and thus represent the access that different market participants have to one another.",
                "The traders serve as intermediaries in a two-stage trading game: they strategically choose bid and ask prices to offer to the sellers and buyers they are connected to; the sellers and buyers then react to the prices they face.",
                "Thus, the network encodes the relative power in the structural positions of the market participants, including the implicit levels of competition among traders.",
                "We show that this game always has a 143 subgame perfect Nash equilibrium, and that all equilibria lead to an efficient (i.e. socially optimal) allocation of goods.",
                "We also analyze how trader profits depend on the network structure, essentially characterizing in graph-theoretic terms how a traders payoff is determined by the amount of competition it experiences with other traders.",
                "Our work here is connected to several lines of research in economics, finance, and algorithmic game theory, and we discuss these connections in more detail later in the introduction.",
                "At a general level, our approach can be viewed as synthesizing two important strands of work: one that treats buyer-seller interaction using network structures, but without attempting to model the processses by which prices are actually formed [1, 4, 5, 6, 8, 9, 10, 13]; and another strand in the literature on market microstructure that incorporates price-setting intermediaries, but without network-type constraints on who can trade with whom [12].",
                "By developing a network model that explicitly includes traders as price-setting agents, in a system together with buyers and sellers, we are able to capture price formation in a network setting as a strategic process carried out by intermediaries, rather than as the result of a centrally controlled or exogenous mechanism.",
                "The Basic Model: Indistinguishable Goods.",
                "Our goal in formulating the model is to express the process of price-setting in markets such as those discussed above, where the participants do not all have uniform access to one another.",
                "We are given a set B of buyers, a set S of sellers, and a set T of traders.",
                "There is an undirected graph G that indicates who is able to trade with whom.",
                "All edges have one end in B ∪ S and the other in T; that is, each edge has the form (i, t) for i ∈ S and t ∈ T, or (j, t) for j ∈ B and t ∈ T. This reflects the constraints that all buyer-seller transactions go through traders as intermediaries.",
                "In the most basic version of the model, we consider identical goods, one copy of which is initially held by each seller.",
                "Buyers and sellers each have a value for one copy of the good, and we assume that these values are common knowledge.",
                "We will subsequently generalize this to a setting in which goods are distinguishable, buyers can value different goods differently, and potentially sellers can value transactions with different buyers differently as well.",
                "Having different buyer valuations captures settings like house purchases; adding different seller valuations as well captures matching markets - for example, sellers as job applicants and buyers as employers, with both caring about who ends up with which good (and with traders acting as services that broker the job search).",
                "Thus, to start with the basic model, there is a single type of good; the good comes in individisible units; and each seller initially holds one unit of the good.",
                "All three types of agents value money at the same rate; and each i ∈ B ∪ S additionally values one copy of the good at θi units of money.",
                "No agent wants more than one copy of the good, so additional copies are valued at 0.",
                "Each agent has an initial endowment of money that is larger than any individual valuation θi; the effect of this is to guarantee that any buyer who ends up without a copy of the good has been priced out of the market due to its valuation and network position, not a lack of funds.",
                "We picture each good that is sold flowing along a sequence of two edges: from a seller to a trader, and then from the trader to a buyer.",
                "The particular way in which goods flow is determined by the following game.",
                "First, each trader offers a bid price to each seller it is connected to, and an ask price to each buyer it is connected to.",
                "Sellers and buyers then choose from among the offers presented to them by traders.",
                "If multiple traders propose the same price to a seller or buyer, then there is no strict best response for the seller or buyer.",
                "In this case a selection must be made, and, as is standard (see for example [10]), we (the modelers) choose among the best offers.",
                "Finally, each trader buys a copy of the good from each seller that accepts its offer, and it sells a copy of the good to each buyer that accepts its offer.",
                "If a particular trader t finds that more buyers than sellers accept its offers, then it has committed to provide more copies of the good than it has received, and we will say that this results in a large penalty to the trader for defaulting; the effect of this is that in equilibrium, no trader will choose bid and ask prices that result in a default.",
                "More precisely, a strategy for each trader t is a specification of a bid price βti for each seller i to which t is connected, and an ask price αtj for each buyer j to which t is connected. (We can also handle a model in which a trader may choose not to make an offer to certain of its adjacent sellers or buyers.)",
                "Each seller or buyer then chooses at most one incident edge, indicating the trader with whom they will transact, at the indicated price. (The choice of a single edge reflects the facts that (a) sellers each initially have only one copy of the good, and (b) buyers each only want one copy of the good.)",
                "The payoffs are as follows: For each seller i, the payoff from selecting trader t is βti, while the payoff from selecting no trader is θi. (In the former case, the seller receives βti units of money, while in the latter it keeps its copy of the good, which it values at θi.)",
                "For each buyer j, the payoff from selecting trader t is θj −αtj, whle the payoff from selecting no trader is 0. (In the former case, the buyer receives the good but gives up αtj units of money.)",
                "For each trader t, with accepted offers from sellers i1, . . . , is and buyers j1, . . . , jb, the payoff is P r αtjr − P r βtir , minus a penalty π if b > s. The penalty is chosen to be large enough that a trader will never incur it in equilibrium, and hence we will generally not be concerned with the penalty.",
                "This defines the basic elements of the game.",
                "The equilibrium concept we use is subgame perfect Nash equilibrium.",
                "Some Examples.",
                "To help with thinking about the model, we now describe three illustrative examples, depicted in Figure 1.",
                "To keep the figures from getting too cluttered, we adopt the following conventions: sellers are drawn as circles in the leftmost column and will be named i1, i2, . . . from top to bottom; traders are drawn as squares in the middle column and will be named t1, t2, . . . from top to bottom; and buyers are drawn as circles in the rightmost column and will be named j1, j2, . . . from top to bottom.",
                "All sellers in the examples will have valuations for the good equal to 0; the valuation of each buyer is drawn inside its circle; and the bid or ask price on each edge is drawn on top of the edge.",
                "In Figure 1(a), we show how a standard second-price auction arises naturally from our model.",
                "Suppose the buyer valuations from top to bottom are w > x > y > z.",
                "The bid and ask prices shown are consistent with an equilibrium in which i1 and j1 accept the offers of trader t1, and no other buyer accepts the offer of its adjacent trader: thus, trader t1 receives the good with a bid price of x, and makes w − x by selling the good to buyer j1 for w. In this way, we can consider this particular instance as an auction for a single good in which the traders act as proxies for their adjacent buyers.",
                "The buyer with the highest valuation for the good ends up with it, and the surplus is divided between the seller and the associated trader.",
                "Note that one can construct a k-unit auction with > k buyers just as easily, by building a complete bipartite graph on k sellers and traders, and then attaching each trader to a single distinct buyer.",
                "In Figure 1(b), we show how nodes with different positions in the network topology can achieve different payoffs, even when all 144 w x y z x w x x y y z z (a) Auction 1 1 1 0 x x 0 1 x x 1 (b) Heterogeneous outcomes 1 1 1 0 x x 0 1 x x 1 (c) Implicit perfect competition Figure 1: (a) An auction, mediated by traders, in which the buyer with the highest valuation for the good ends up with it. (b) A network in which the middle seller and buyer benefit from perfect competition between the traders, while the other sellers and buyers have no power due to their position in the network. (c) A form of implicit perfect competition: all bid/ask spreads will be zero in equilibrium, even though no trader directly competes with any other trader for the same buyer-seller pair. buyer valuations are the same numerically.",
                "Specifically, seller i2 and buyer j2 occupy powerful positions, because the two traders are competing for their business; on the other hand, the other sellers and buyers are in weak positions, because they each have only one option.",
                "And indeed, in every equilibrium, there is a real number x ∈ [0, 1] such that both traders offer bid and ask prices of x to i2 and j2 respectively, while they offer bids of 0 and asks of 1 to the other sellers and buyers.",
                "Thus, this example illustrates a few crucial ingredients that we will identify at a more general level shortly.",
                "Specifically, i2 and j2 experience the benefits of perfect competition, in that the two traders drive the bid-ask spreads to 0 in competing for their business.",
                "On the other hand, the other sellers and buyers experience the downsides of monopoly - they receive 0 payoff since they have only a single option for trade, and the corresponding trader makes all the profit.",
                "Note further how this natural behavior emerges from the fact that traders are able to offer different prices to different agents - capturing the fact that there is no one fixed price in the kinds of markets that motivate the model, but rather different prices reflecting the relative power of the different agents involved.",
                "The previous example shows perhaps the most natural way in which a traders profit on a particular transaction can drop to 0: when there is another trader who can replicate its function precisely. (In that example, two traders each had the ability to move a copy of the good from i2 to j2.)",
                "But as our subsequent results will show, traders make zero profit more generally due to global, graph-theoretic reasons.",
                "The example in Figure 1(c) gives an initial indication of this: one can show that for every equilibrium, there is a y ∈ [0, 1] such that every bid and every ask price is equal to y.",
                "In other words, all traders make zero profit, whether or not a copy of the good passes through them - and yet, no two traders have any seller-buyer paths in common.",
                "The price spreads have been driven to zero by a global constraint imposed by the long cycle through all the agents; this is an example of implicit perfect competition determined by the network topology.",
                "Extending the Model to Distinguishable Goods.",
                "We extend the basic model to a setting with distinguishable goods, as follows.",
                "Instead of having each agent i ∈ B ∪ S have a single numerical valuation θi, we index valuations by pairs of buyers and sellers: if buyer j obtains the good initially held by seller i, it gets a utility of θji, and if seller i sells its good to buyer j, it experiences a loss of utility of θij .",
                "This generalizes the case of indistinguishable goods, since we can always have these pairwise valuations depend only on one of the indices.",
                "A strategy for a trader now consists of offering a bid to each seller that specifies both a price and a buyer, and offering an ask to each buyer that specifies both a price and a seller. (We can also handle a model in which a trader offers bids (respectively, asks) in the form of vectors, essentially specifying a menu with a price attached to each buyer (resp. seller).)",
                "Each buyer and seller selects an offer from an adjacent trader, and the payoffs to all agents are determined as before.",
                "This general framework captures matching markets [10, 13]: for example, a job market that is mediated by agents or employment search services (as in hiring for corporate executives, or sports or entertainment figures).",
                "Here the sellers are job applicants, buyers are employers, and traders are the agents that mediate the job market.",
                "Of course, if one specifies pairwise valuations on buyers but just single valuations for sellers, we model a setting where buyers can distinguish among the goods, but sellers dont care whom they sell to - this (roughly) captures settings like housing markets.",
                "Our Results.",
                "Our results will identify general forms of some of the principles noted in the examples discussed above - including the question of which buyers end up with the good; the question of how payoffs are differently realized by sellers, traders, and buyers; and the question of what structural properties of the network determine whether the traders will make positive profits.",
                "To make these precise, we introduce the following notation.",
                "Any outcome of the game determines a final allocation of goods to some of the agents; this can be specified by a collection M of triples (ie, te, je), where ie ∈ S, te ∈ T, and je ∈ B; moreover, each seller and each buyer appears in at most one triple.",
                "The meaning is for each e ∈ M, the good initially held by ie moves to je through te. (Sellers appearing in no triple keep their copy of the good.)",
                "We say that the value of the allocation is equal to P e∈M θjeie − θieje .",
                "Let θ∗ denote the maximum value of any allocation M that is feasible given the network.",
                "We show that every instance of our game has an equilibrium, and that in every such equilibrium, the allocation has value θ∗ 145 in other words, it achieves the best value possible.",
                "Thus, equilibria in this model are always efficient, in that the market enables the right set of people to get the good, subject to the network constraints.",
                "We establish the existence and efficiency of equilibria by constructing a linear program to capture the flow of goods through the network; the dual of this linear program contains enough information to extract equilibrium prices.",
                "By the definition of the game, the value of the equilibrium allocation is divided up as payoffs to the agents, and it is interesting to ask how this value is distributed - in particular how much profit a trader is able to make based on its position in the network.",
                "We find that, although all equilibria have the same value, a given traders payoff can vary across different equilibria.",
                "However, we are able to characterize the maximum and minimum amounts that a given trader is able to make, where these maxima and minima are taken over all equilibria, and we give an efficient algorithm to compute this.",
                "In particular, our results here imply a clean combinatorial characterization of when a given trader t can achieve non-zero payoff: this occurs if and only there is some edge e incident to t that is essential, in the sense that deleting e reduces the value of the optimal allocation θ∗ .",
                "We also obtain results for the sum of all trader profits.",
                "Related Work.",
                "The standard baseline approach for analyzing the interaction of buyers and sellers is the Walrasian model in which anonymous buyers and sellers trade a good at a single market clearing price.",
                "This reduced form of trade, built on the idealization of a market price, is a powerful model which has led to many insights.",
                "But it is not a good model to use to examine where prices come from or exactly how buyers and sellers and trade with each other.",
                "The difficulty is that in the Walrasian model there is no agent who sets the price, and agents dont actually trade with each other.",
                "In fact there is no market, in the everyday sense of that word, in the Walrasian model.",
                "That is, there is no physical or virtual place where buyers and sellers interact to trade and set prices.",
                "Thus in this simple model, all buyers and sellers are uniform and trade at the same price, and there is also no role for intermediaries.",
                "There are several literatures in economics and finance which examine how prices are set rather than just determining equilibrium prices.",
                "The literature on imperfect competition is perhaps the oldest of these.",
                "Here a monopolist, or a group of oliogopolists, choose prices in order to maximize their profits (see [14] for the standard textbook treatment of these markets).",
                "A monopolist uses its knowledge of market demand to choose a price, or a collection of prices if it discriminates.",
                "Oliogopolists play a game in which their payoffs depend on market demand and the actions of their competitors.",
                "In this literature there are agents who set prices, but the fiction of a single market is maintained.",
                "In the equilibrium search literature, firms set prices and consumers search over them (see [3]).",
                "Consumers do end up paying different prices, but all consumers have access to all firms and there are no intermediaries.",
                "In the general equilibrium literature there have been various attempts to introduce price determination.",
                "A standard proof technique for the existence of competitive equilibrium involves a price adjustment mechanism in which prices respond to excess demand.",
                "The Walrasian auctioneer is often introduced as a device to explain how this process works, but this is a fundamentally a metaphor for an iterative priceupdating algorithm, not for the internals of an actual market.",
                "More sophisticated processes have been introduced to study the stability of equilibrium prices or the information necessary to compute them.",
                "But again there are no price-setting agents here.",
                "In the finance literature the work on market microstructure does have price-setting agents (specialists), parts of it do determine separate bid and ask prices, and different agents receive different prices for the same asset (see [12] for a treatment of microstructure theory).",
                "Work in information economics has identified similar phenomena (see e.g. [7]).",
                "But there is little research in these literatures examining the effect of restrictions on who can trade with whom.",
                "There have been several approaches to studying how network structure determines prices.",
                "These have posited price determination through definitions based on competitive equilibrium or the core, or through the use of truthful mechanisms.",
                "In briefly reviewing this work, we will note the contrast with our approach, in that we model prices as arising from the strategic behavior of agents in the system.",
                "In recent work, Kakade et al. [8] have studied the distribution of prices at competitive equilibrium in a bipartite graph on buyers and sellers, generated using a probabilistic model capable of producing heavy-tailed degree distributions [11].",
                "Even-Dar et al. [6] build on this to consider the strategic aspects of network formation when prices arise from competitive equilibrium.",
                "Leonard [10], Babaioff et al. [1], and Chu and Shen [4] consider an approach based on mechanism design: buyers and sellers reside at different nodes in a graph, and they incur a given transportation cost to trade with one another.",
                "Leonard studies VCG prices in this setting; Babaioff et al. and Chu and Shen additionally provide a a budget-balanced mechanism.",
                "Since the concern here is with truthful mechanisms that operate on private valuations, there is an inherent trade-off between the efficiency of the allocation and the budget-balance condition.",
                "In contrast, our model has known valuations and prices arising from the strategic behavior of traders.",
                "Thus, the assumptions behind our model are in a sense not directly comparable to those underlying the mechanism design approach: while we assume known valuations, we do not require a centralized authority to impose a mechanism.",
                "Rather, price-setting is part of the strategic outcome, as in the real markets that motivate our work, and our equilibria are simultaneously budget-balanced and efficient - something not possible in the mechanism design frameworks that have been used.",
                "Demange, Gale, and Sotomayor [5], and Kranton and Minehart [9], analyze the prices at which trade occurs in a network, working within the framework of mechanism design.",
                "Kranton and Minehart use a bipartite graph with direct links between buyers and sellers, and then use an ascending auction mechanism, rather than strategic intermediaries, to determine the prices.",
                "Their auction has desirable equilibrium properties but as Kranton and Minehart note it is an abstraction of how goods are allocated and prices are determined that is similar in spirit to the Walrasian auctioneer abstraction.",
                "In fact, we can show how the basic model of Kranton and Minehart can be encoded as an instance of our game, with traders producing prices at equilibrium matching the prices produced by their auction mechanism.1 Finally, the classic results of Shapley and Shubik [13] on the assignment game can be viewed as studying the result of trade on a bipartite graph in terms of the core.",
                "They study the dual of a linear program based on the matching problem, similar to what we use for a reduced version of our model in the next section, but their focus is different as they do not consider agents that seek to set prices. 2.",
                "MARKETS WITH PAIR-TRADERS For understanding the ideas behind the analysis of the general model, it is very useful to first consider a special case with a re1 Kranton and Minehart, however, can also analyze a more general setting in which buyers values are private and thus buyers and sellers play a game of incomplete information.",
                "We deal only with complete information. 146 stricted form of traders that we refer to as pair-traders.",
                "In this case, each trader is connected to just one buyer and one seller. (Thus, it essentially serves as a trade route between the two.)",
                "The techniques we develop to handle this case will form a useful basis for reasoning about the case of traders that may be connected arbitrarily to the sellers and buyers.",
                "We will relate profits in a subgame perfect Nash equilibrium to optimal solutions of a certain linear program, use this relation to show that all equilibria result in efficient allocation of the goods, and show that a pure equilibrium always exists.",
                "First, we consider the simplest model where sellers have indistinguishable items, and each buyer is interested in getting one item.",
                "Then we extend the results to the more general case of a matching market, as discussed in the previous section, where valuations depend on the identity of the seller and buyer.",
                "We then characterize the minimum and maximum profits traders can make.",
                "In the next section, we extend the results to traders that may be connected to any subset of sellers and buyers.",
                "Given that we are working with pair-traders in this section, we can represent the problem using a bipartite graph G whose node set is B ∪ S, and where each trader t, connecting seller i and buyer j, appears as an edge t = (i, j) in G. Note, however, that we allow multiple traders to connect the same pair of agents.",
                "For each buyer and seller i, we will use adj(i) to denote the set of traders who can trade with i. 2.1 Indistinguishable Goods The socially optimal trade for the case of indistinguishable goods is the solution of the transportation problem: sending goods along the edges representing the traders.",
                "The edges along which trade occurs correspond to a matching in this bipartite graph, and the optimal trade is described by the following linear program. max SV (x) = X t∈T :t=(i,j) xt(θj − θi) xt ≥ 0 ∀t ∈ T X t∈adj(i) xt ≤ 1 ∀i ∈ S X t∈adj(j) xt ≤ 1 ∀j ∈ B Next we consider an equilibrium.",
                "Each trader t = (i, j) must offer a bid βt and an ask αt. (We omit the subscript denoting the seller and buyer here since we are dealing with pair-traders.)",
                "Given the bid and ask price, the agents react to these prices, as described earlier.",
                "Instead of focusing on prices, we will focus on profits.",
                "If a seller i sells to a trader t ∈ adj(i) with bid βt then his profit is pi = βt − θi.",
                "Similarly, if a buyer j buys from a trader t ∈ adj(j) with ask αt, then his profit is pj = θj − αt.",
                "Finally, if a trader t trades with ask αt and bid βt then his profit is yt = αt − βt.",
                "All agents not involved in trade make 0 profit.",
                "We will show that the profits at equilibrium are an optimal solution to the following linear program. min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θj − pj) − (θi + pi) ∀t = (i, j) ∈ T LEMMA 2.1.",
                "At equilibrium the profits must satisfy the above inequalities.",
                "Proof.",
                "Clearly all profits are nonnegative, as trading is optional for all agents.",
                "To see why the last set of inequalities holds, consider two cases separately.",
                "For a trader t who conducted trade, we get equality by definition.",
                "For other traders t = (i, j), the value pi +θi is the price that seller i sold for (or θi if seller i decided to keep the good).",
                "Offering a bid βt > pi + θi would get the seller to sell to trader t. Similarly, θj − pj is the price that buyer j bought for (or θj if he didnt buy), and for any ask αt < θj − pj, the buyer will buy from trader t. So unless θj − pj ≤ θi + pi the trader has a profitable deviation.",
                "Now we are ready to prove our first theorem: THEOREM 2.2.",
                "In any equilibrium the trade is efficient.",
                "Proof.",
                "Let x be a flow of goods resulting in an equilibrium, and let variables p and y be the profits.",
                "Consider the linear program describing the socially optimal trade.",
                "We will also add a set of additional constraints xt ≤ 1 for all traders t ∈ T; this can be added to the description, as it is implied by the other constraints.",
                "Now we claim that the two linear programs are duals of each other.",
                "The variables pi for agents B ∪ S correspond to the equations P t∈adj(i) xt ≤ 1.",
                "The additional dual variable yt corresponds to an additional inequality xt ≤ 1.",
                "The optimality of the social value of the trade will follow from the claim that the solution of these two linear programs derived from an equilibrium satisfy the complementary slackness conditions for this pair of linear programs, and hence both x and (p, y) are optimal solutions to the corresponding linear programs.",
                "There are three different complementary slackness conditions we need to consider, corresponding to the three sets of variables x, y and p. Any agent can only make profit if he transacts, so pi > 0 implies P t∈adj(i) xt = 1, and similarly, yt > 0 implies that xt = 1 also.",
                "Finally, consider a trader t with xt > 0 that trades between seller i and buyer j, and recall that we have seen above that the inequality yt ≥ (θj − pj) − (θi + pi) is satisfied with equality for those who trade.",
                "Next we argue that equilibria always exist.",
                "THEOREM 2.3.",
                "For any efficient trade between buyers and sellers there is a pure equilibrium of bid-ask values that supports this trade.",
                "Proof.",
                "Consider an efficient trade; let xt = 1 if t trades and 0 otherwise; and consider an optimal solution (p, y) to the dual linear program.",
                "We would like to claim that all dual solutions correspond to equilibrium prices, but unfortunately this is not exactly true.",
                "Before we can convert a dual solution to equilibrium prices, we may need to modify the solution slightly as follows.",
                "Consider any agent i that is only connected to a single trader t. Because the agent is only connected to a single trader, the variables yt and pi are dual variables corresponding to the same primal inequality xt ≤ 1, and they always appear together as yt + pi in all inequalities, and also in the objective function.",
                "Thus there is an optimal solution in which pi = 0 for all agents i connected only to a single trader.",
                "Assume (p, y) is a dual solution where agents connected only to one trader have pi = 0.",
                "For a seller i, let βt = θi + pi be the bid for all traders t adjacent to i.",
                "Similarly, for each buyer j, let αt = θj − pj be the ask for all traders t adjacent to j.",
                "We claim that this set of bids and asks, together with the trade x, are an equilibrium.",
                "To see why, note that all traders t adjacent to a seller or buyer i offer the same ask or bid, and so trading with any trader is equally good for agent i.",
                "Also, if i is not trading in the solution 147 x then by complementary slackness pi = 0, and hence not trading is also equally good for i.",
                "This shows that sellers and buyers dont have an incentive to deviate.",
                "We need to show that traders have no incentive to deviate either.",
                "When a trader t is trading with seller i and buyer j, then profitable deviations would involve increasing αt or decreasing βt.",
                "But by our construction (and assumption about monopolized agents) all sellers and buyers have multiple identical ask/bid offers, or trade is occurring at valuation.",
                "In either case such a deviation cannot be successful.",
                "Finally, consider a trader t = (i, j) who doesnt trade.",
                "A deviation for t would involve offering a lower ask to seller i and a higher bid to seller j than their current trade.",
                "However, yt = 0 by complementary slackness, and hence pi + θi ≥ θj − pj, so i sells for a price at least as high as the price at which j buys, so trader t cannot create profitable trade.",
                "Note that a seller or buyer i connected to a single trader t cannot have profit at equilibrium, so possible equilibrium profits are in one-to-one correspondence with dual solutions for which pi = 0 whenever i is monopolized by one trader.",
                "A disappointing feature of the equilibrium created by this proof is that some agents t may have to create ask-bid pairs where βt > αt, offering to buy for more than the price at which they are willing to sell.",
                "Agents that make such crossing bid-ask pairs never actually perform a trade, so it does not result in negative profit for the agent, but such pairs are unnatural.",
                "Crossing bid-ask pairs are weakly dominated by the strategy of offering a low bid β = 0 and an extremely high ask to guarantee that neither is accepted.",
                "To formulate a way of avoiding such crossing pairs, we say an equilibrium is cross-free if αt ≥ βt for all traders t. We now show there is always a cross-free equilibrium.",
                "THEOREM 2.4.",
                "For any efficient trade between buyers and sellers there is a pure cross-free equilibrium.",
                "Proof.",
                "Consider an optimal solution to the dual linear program.",
                "To get an equilibrium without crossing bids, we need to do a more general modification than just assuming that pi = 0 for all sellers and buyers connected to only a single trader.",
                "Let the set E be the set of edges t = (i, j) that are tight, in the sense that we have the equality yt = (θj − pj) − (θi + pi).",
                "This set E contain all the edges where trade occurs, and some more edges.",
                "We want to make sure that pi = 0 for all sellers and buyers that have degree at most 1 in E. Consider a seller i that has pi > 0.",
                "We must have i involved in a trade, and the edge t = (i, j) along which the trade occurs must be tight.",
                "Suppose this is the only tight edge adjacent to agent i; then we can decrease pi and increase yt till one of the following happens: either pi = 0 or the constraint of some other agent t ∈ adj(i) becomes tight.",
                "This change only increases the set of tight edges E, keeps the solution feasible, and does not change the objective function value.",
                "So after doing this for all sellers, and analogously changing yt and pj for all buyers, we get an optimal solution where all sellers and buyers i either have pi = 0 or have at least two adjacent tight edges.",
                "Now we can set asks and bids to form a cross-free equilibrium.",
                "For all traders t = (i, j) associated with an edge t ∈ E we set αt and βt as before: we set the bid βt = pi + θi and the ask αt = θj −pj.",
                "For a trader t = (i, j) ∈ E we have that pi +θi > θj −pj and we set αt = βt to be any value in the range [θj − pj, pi + θi].",
                "This guarantees that for each seller or buyer the best sell or buy offer is along the edge where trade occurs in the solution.",
                "The askbid values along the tight edges guarantee that traders who trade cannot increase their spread.",
                "Traders t = (i, j) who do not trade cannot make profit due to the constraint pi + θi ≥ θj − pj 1 1 1 0 0 1 0 1 1 0 0 0 1 (a) No trader profit 1 1 1 0 x x x x 1 x x 0 x (b) Trader profit Figure 2: Left: an equilibrium with crossing bids where traders make no money.",
                "Right: an equilibrium without crossing bids for any value x ∈ [0, 1].",
                "Total trader profit ranges between 1 and 2. 2.2 Distinguishable Goods We now consider the case of distinguishable goods.",
                "As in the previous section, we can write a transshipment linear program for the socially optimal trade, with the only change being in the objective function. max SV (x) = X t∈T :t=(i,j) xt(θji − θij) We can show that the dual of this linear program corresponds to trader profits.",
                "Recall that we needed to add the constraints xt ≤ 1 for all traders.",
                "The dual is then: min sum(p, y) = X i∈B∪S pi + X t∈T yt yt ≥ 0 ∀t ∈ T : pi ≥ 0 ∀i ∈ S ∪ B : yt ≥ (θji − pj) − (θij + pi) ∀t = (i, j) ∈ T It is not hard to extend the proofs of Theorems 2.2 - 2.4 to this case.",
                "Profits in an equilibrium satisfy the dual constraints, and profits and trade satisfy complementary slackness.",
                "This shows that trade is socially optimal.",
                "Taking an optimal dual solution where pi = 0 for all agents that are monopolized, we can convert it to an equilibrium, and with a bit more care, we can also create an equilibrium with no crossing bid-ask pairs.",
                "THEOREM 2.5.",
                "All equilibria for the case of pair-traders with distinguishable goods result in socially optimal trade.",
                "Pure noncrossing equilibria exist. 2.3 Trader Profits We have seen that all equilibria are efficient.",
                "However, it turns out that equilibria may differ in how the value of the allocation is spread between the sellers, buyers and traders.",
                "Figure 2 depicts a simple example of this phenomenon.",
                "Our goal is to understand how a traders profit is affected by its position in the network; we will use the characterization we obtained to work out the range of profits a trader can make.",
                "To maximize the profit of a trader t (or a subset of traders T ) all we need to do is to find an optimal solution to the dual linear program maximizing the value of yt (or the sum P t∈T yt).",
                "Such dual solutions will then correspond to equilibria with non-crossing prices. 148 THEOREM 2.6.",
                "For any trader t or subset of traders T the maximum total profit they can make in any equilibrium can be computed in polynomial time.",
                "This maximum profit can be obtained by a non-crossing equilibrium.",
                "One way to think about the profit of a trader t = (i, j) is as a subtraction from the value of the corresponding edge (i, j).",
                "The value of the edge is the social value θji − θij if the trader makes no profit, and decreases to θji − θij − yt if the trader t insists on making yt profit.",
                "Trader t gets yt profit in equilibrium, if after this decrease in the value of the edge, the edge is still included in the optimal transshipment.",
                "THEOREM 2.7.",
                "A trader t can make profit in an equilibrium if and only if t is essential for the social welfare, that is, if deleting agent t decreases social welfare.",
                "The maximum profit he can make is exactly his value to society, that is, the increase his presence causes in the social welfare.",
                "If we allow crossing equilibria, then we can also find the minimum possible profit.",
                "Recall that in the proof of Theorem 2.3, traders only made money off of sellers or buyers that they have a monopoly over.",
                "Allowing such equilibria with crossing bids we can find the minimum profit a trader or set of traders can make, by minimizing the value yt (or sum P t∈T yt) over all optimal solutions that satisfy pi = 0 whenever i is connected to only a single trader.",
                "THEOREM 2.8.",
                "For any trader t or subset of traders T the minimum total profit they can make in any equilibrium can be computed in polynomial time. 3.",
                "GENERAL TRADERS Next we extend the results to a model where traders may be connected to an arbitrary number of sellers and buyers.",
                "For a trader t ∈ T we will use S(t) and B(t) to denote the set of buyers and sellers connected to trader t. In this section we focus on the general case when goods are distinguishable (i.e. both buyers and sellers have valuations that are sensitive to the identity of the agent they are paired with in the allocation).",
                "In the full version of the paper we also discuss the special case of indistinguishable goods in more detail.",
                "To get the optimal trade, we consider the bipartite graph G = (S ∪ B, E) connecting sellers and buyers where an edge e = (i, j) connects a seller i and a buyer j if there is a trader adjacent to both: E = {(i, j) : adj(i) ∩ adj(j) = ∅}.",
                "On this graph, we then solve the instance of the assignment problem that was also used in Section 2.2, with the value of edge (i, j) equal to θji − θij (since the value of trading between i and j is independent of which trader conducted the trade).",
                "We will also use the dual of this linear program: min val(z) = X i∈B∪S zi zi ≥ 0 ∀i ∈ S ∪ B. zi + zj ≥ θji − θij ∀i ∈ S, j ∈ B : adj(i) ∩ adj(j) = ∅. 3.1 Bids and Asks and Trader Optimization First we need to understand what bidding model we will use.",
                "Even when goods are indistinguishable, a trader may want to pricediscriminate, and offer different bid and ask values to different sellers and buyers.",
                "In the case of distinguishable goods, we have to deal with a further complication: the trader has to name the good she is proposing to sell or buy, and can possibly offer multiple different products.",
                "There are two variants of our model depending whether a trader makes a single bid or ask to a seller or buyer, or she offers a menu of options. (i) A trader t can offer a buyer j a menu of asks αtji, a vector of values for all the products that she is connected to, where αtji is the ask for the product of seller i. Symmetrically, a trader t can offer to each seller i a menu of bids βtij for selling to different buyers j. (ii) Alternatively, we can require that each trader t can make at most one ask to each seller and one bid for each buyer, and an ask has to include the product sold, and a bid has to offer a particular buyer to sell to.",
                "Our results hold in either model.",
                "For notational simplicity we will use the menu option here.",
                "Next we need to understand the optimization problem of a trader t. Suppose we have bid and ask values for all other traders t ∈ T, t = t. What are the best bid and ask offers trader t can make as a best response to the current set of bids and asks?",
                "For each seller i let pi be the maximum profit seller i can make using bids by other traders, and symmetrically assume pj is the maximum profit buyer j can make using asks by other traders (let pi = 0 for any seller or buyer i who cannot make profit).",
                "Now consider a seller-buyer pair (i, j) that trader t can connect.",
                "Trader t will have to make a bid of at least βtij = θij +pi to seller i and an ask of at most αtji = θji −pj to buyer j to get this trade, so the maximum profit she can make on this trade is vtij = αtji − βtij = θji − pj − (θij + pi).",
                "The optimal trade for trader t is obtained by solving a matching problem to find the matching between the sellers S(t) and buyers B(t) that maximizes the total value vtij for trader t. We will need the dual of the linear program of finding the trade of maximum profit for the trader t. We will use qti as the dual variable associated with the constraint of seller or buyer i.",
                "The dual is then the following problem. min val(qt) = X i∈B(t)∪S(t) qti qti ≥ 0 ∀i ∈ S(t) ∪ B(t). qti + qtj ≥ vtij ∀i ∈ S(t), j ∈ B(t).",
                "We view qti as the profit made by t from trading with seller or buyer i. Theorem 3.1 summarizes the above discussion.",
                "THEOREM 3.1.",
                "For a trader t, given the lowest bids βtij and highest asks αtji that can be accepted for sellers i ∈ S(t) and buyers j ∈ B(t), the best trade t can make is the maximum value matching between S(t) and B(t) with value vtij = αtji − βtij for the edge (i, j).",
                "This maximum value is equal to the minimum of the dual linear program above. 3.2 Efficient Trade and Equilibrium Now we can prove trade at equilibrium is always efficient.",
                "THEOREM 3.2.",
                "Every equilibrium results in an efficient allocation of the goods.",
                "Proof.",
                "Consider an equilibrium, with xe = 1 if and only if trade occurs along edge e = (i, j).",
                "Trade is a solution to the transshipment linear program used in Section 2.2.",
                "Let pi denote the profit of seller or buyer i.",
                "Each trader t currently has the best solution to his own optimization problem.",
                "A trader t finds his optimal trade (given bids and asks by all other 149 traders) by solving a matching problem.",
                "Let qti for i ∈ B(t)∪S(t) denote the optimal dual solution to this matching problem as described by Theorem 3.1.",
                "When setting up the optimization problem for a trader t above, we used pi to denote the maximum profit i can make without the offer of trader t. Note that this pi is exactly the same pi we use here, the profit of agent i.",
                "This is clearly true for all traders t that are not trading with i in the equilibrium.",
                "To see why it is true for the trader t that i is trading with we use that the current set of bid-ask values is an equilibrium.",
                "If for any agent i the bid or ask of trader t were the unique best option, then t could extract more profit by offering a bit larger ask or a bit smaller bid, a contradiction.",
                "We show the trade x is optimal by considering the dual solution zi = pi + P t qti for all agents i ∈ B ∪ S. We claim z is a dual solution, and it satisfies complementary slackness with trade x.",
                "To see this we need to show a few facts.",
                "We need that zi > 0 implies that i trades.",
                "If zi > 0 then either pi > 0 or qti > 0 for some trader t. Agent i can only make profit pi > 0 if he is involved in a trade.",
                "If qti > 0 for some t, then trader t must trade with i, as his solution is optimal, and by complementary slackness for the dual solution, qti > 0 implies that t trades with i.",
                "For an edge (i, j) associated with a trader t we need to show the dual solution is feasible, that is zi + zj ≥ θji − θij .",
                "Recall vtij = θji −pj −(θij +pi), and the dual constraint of the traders optimization problem requires qti + qtj ≥ vtij.",
                "Putting these together, we have zi + zj ≥ pi + qti + pj + qtj ≥ vtij + pi + pj = θji − θij .",
                "Finally, we need to show that the trade variables x also satisfy the complementary slackness constraint: when xe > 0 for an edge e = (i, j) then the corresponding dual constraint is tight.",
                "Let t be the trader involved in the trade.",
                "By complementary slackness of ts optimization problem we have qti + qtj = vtij.",
                "To see that z satisfies complementary slackness we need to argue that for all other traders t = t we have both qt i = 0 and qt j = 0.",
                "This is true as qt i > 0 implies by complementary slackness of t s optimization problem that t must trade with i at optimum, and t = t is trading.",
                "Next we want to show that a non-crossing equilibrium always exists.",
                "We call an equilibrium non-crossing if the bid-ask offers a trader t makes for a seller-buyer pair (i, j) never cross, that is βtij ≤ αtji for all t, i, j. THEOREM 3.3.",
                "There exists a non-crossing equilibrium supporting any socially optimal trade.",
                "Proof.",
                "Consider an optimal trade x and a dual solution z as before.",
                "To find a non-crossing equilibrium we need to divide the profit zi between i and the trader t trading with i.",
                "We will use qti as the trader ts profit associated with agent i for any i ∈ S(t) ∪ B(t).",
                "We will need to guarantee the following properties: Trader t trades with agent i whenever qti > 0.",
                "This is one of the complementary slackness conditions to make sure the current trade is optimal for trader t. For all seller-buyer pairs (i, j) that a trader t can trade with, we have pi + qti + pj + qtj ≥ θji − θij , (1) which will make sure that qt is a feasible dual solution for the optimization problem faced by trader t. We need to have equality in (1) when trader t is trading between i and j.",
                "This is one of the complementary slackness conditions for trader t, and will ensure that the trade of t is optimal for the trader.",
                "Finally, we want to arrange that each agent i with pi > 0 has multiple offers for making profit pi, and the trade occurs at one of his best offers.",
                "To guarantee this in the corresponding bids and asks we need to make sure that whenever pi > 0 there are multiple t ∈ adj(i) that have equation in the above constraint (1).",
                "We start by setting pi = zi for all i ∈ S ∪ B and qti = 0 for all i ∈ S ∪ B and traders t ∈ adj(i).",
                "This guarantees all invariants except the last property about multiple t ∈ adj(t) having equality in (1).",
                "We will modify p and q to gradually enforce the last condition, while maintaining the others.",
                "Consider a seller with pi > 0.",
                "By optimality of the trade and dual solution z, seller i must trade with some trader t, and that trader will have equality in (1) for the buyer j that he matches with i.",
                "If this is the only trader t that has a tight constraint in (1) involving seller i then we increase qti and decrease pi till either pi = 0 or another trader t = t will be achieve equality in (1) for some buyer edge adjacent to i (possibly a different buyer j ).",
                "This change maintains all invariants, and increases the set of sellers that also satisfy the last constraint.",
                "We can do a similar change for a buyer j that has pj > 0 and has only one trader t with a tight constraint (1) adjacent to j.",
                "After possibly repeating this for all sellers and buyers, we get profits satisfying all constraints.",
                "Now we get equilibrium bid and ask values as follows.",
                "For a trader t that has equality for the seller-buyer pair (i, j) in (1) we offer αtji = θji − pj and βtij = θij + pi.",
                "For all other traders t and seller-buyer pairs (i, j) we have the invariant (1), and using this we know we can pick a value γ in the range θij +pi+qti ≥ γ ≥ θji − (pj + qtj ).",
                "We offer bid and ask values βtij = αtji = γ.",
                "Neither the bid nor the ask will be the unique best offer for the buyer, and hence the trade x remains an equilibrium. 3.3 Trader Profits Finally we turn to the goal of understanding, in the case of general traders, how a traders profit is affected by its position in the network.",
                "First, we show how to maximize the total profit of a set of traders.",
                "The profit of trader t in an equilibrium is P i qti.",
                "To find the maximum possible profit for a trader t or a set of traders T , we need to do the following: Find profits pi ≥ 0 and qti > 0 so that zi = pi + P t∈adj(i) qti is an optimal dual solution, and also satisfies the constraints (1) for any seller i and buyer j connected through a trader t ∈ T. Now, subject to all these conditions, we maximize the sum P t∈T P i∈S(t)∪B(t) qti.",
                "Note that this maximization is a secondary objective function to the primary objective that z is an optimal dual solution.",
                "Then we use the proof of Theorem 3.3 shows how to turn this into an equilibrium.",
                "THEOREM 3.4.",
                "The maximum value for P t∈T P i qti above is the maximum profit the set T of traders can make.",
                "Proof.",
                "By the proof of Theorem 3.2 the profits of trader t can be written in this form, so the set of traders T cannot make more profit than claimed in this theorem.",
                "To see that T can indeed make this much profit, we use the proof of Theorem 3.3.",
                "We modify that proof to start with profit vectors p and qt for t ∈ T , and set qt = 0 for all traders t ∈ T .",
                "We verify that this starting solution satisfies the first three of the four required properties, and then we can follow the proof to make the fourth property true.",
                "We omit the details of this in the present version.",
                "In Section 2.3 we showed that in the case of pair traders, a trader t can make money if he is essential for efficient trade.",
                "This is not 150 1 1 Figure 3: The top trader is essential for social welfare.",
                "Yet the only equilibrium is to have bid and ask values equal to 0, and the trader makes no profit. true for the type of more general traders we consider here, as shown by the example in Figure 3.",
                "However, we still get a characterization for when a trader t can make a positive profit.",
                "THEOREM 3.5.",
                "A trader t can make profit in an equilibrium if and only if there is a seller or buyer i adjacent to t such that the connection of trader t to agent i is essential for social welfarethat is, if deleting agent t from adj(i) decreases the value of the optimal allocation.",
                "Proof.",
                "First we show the direction that if a trader t can make money there must be an agent i so that ts connection to i is essential to social welfare.",
                "Let p, q be the profits in an equilibrium where t makes money, as described by Theorem 3.2 with P i∈S(t)∪B(t) qti > 0.",
                "So we have some agent i with qti > 0.",
                "We claim that the connection between agent i and trader t must be essential, in particular, we claim that social welfare must decrease by at least qti if we delete t from adj(t).",
                "To see why note that decreasing the value of all edges of the form (i, j) associated with trader t by qti keeps the same trade optimum, as we get a matching dual solution by simply resetting qti to zero.",
                "To see the opposite, assume deleting t from adj(t) decreases social welfare by some value γ.",
                "Assume i is a seller (the case of buyers is symmetric), and decrease by γ the social value of each edge (i, j) for any buyer j such that t is the only agent connecting i and j.",
                "By assumption the trade is still optimal, and we let z be the dual solution for this matching.",
                "Now we use the same process as in the proof of Theorem 3.3 to create a non-crossing equilibrium starting with pi = zi for all i ∈ S ∪B, and qti = γ, and all other q values 0.",
                "This creates an equilibrium with non-crossing bids where t makes at least γ profit (due to trade with seller i).",
                "Finally, if we allow crossing equilibria, then we can find the minimum possible profit by simply finding a dual solution minimizing the dual variables associated with agents monopolized by some trader.",
                "THEOREM 3.6.",
                "For any trader t or subset of traders T , the minimum total profit they can make in any equilibrium can be computed in polynomial time. 4.",
                "REFERENCES [1] M. Babaioff, N. Nisan, E. Pavlov.",
                "Mechanisms for a Spatially Distributed Market.",
                "ACM EC Conference, 2005. [2] C. Barrett, E. Mutambatsere.",
                "Agricultural markets in developing countries.",
                "The New Palgrave Dictionary of Economics, 2nd edition, forthcoming. [3] Kenneth Burdett and Kenneth Judd.",
                "Equilibrium Price Disperison.",
                "Econometrica, 51/4, July 1983, 955-969. [4] L. Chu, Z.-J.",
                "Shen.",
                "Agent Competition Double Auction Mechanism.",
                "Management Science, 52/8, 2006. [5] G. Demange, D. Gale, M. Sotomayor.",
                "Multi-item auctions.",
                "J.",
                "Political Econ. 94(1986). [6] E. Even-Dar, M. Kearns, S. Suri.",
                "A Network Formation Game for Bipartite Exchange Economies.",
                "ACM-SIAM Symp. on Discrete Algorithms (SODA), 2007. [7] J. Kephart, J. Hanson, A. Greenwald.",
                "Dynamic Pricing by Software Agents.",
                "Computer Networks, 2000. [8] S. Kakade, M. Kearns, L. Ortiz, R. Pemantle, S. Suri.",
                "Economic Properties of Social Networks.",
                "NIPS 2004. [9] R. Kranton, D. Minehart.",
                "A Theory of Buyer-Seller Networks.",
                "American Economic Review 91(3), June 2001. [10] H. Leonard.",
                "Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "J. Pol.",
                "Econ, 1983. [11] M. E. J. Newman.",
                "The structure and function of complex networks.",
                "SIAM Review, 45:167-256, 2003. [12] M. OHara.",
                "Market Microstructure Theory.",
                "Blackwell Publishers, Cambridge, MA, 1995. [13] L. Shapley M. Shubik, The Assignment Game I: The Core.",
                "Intl.",
                "J.",
                "Game Theory 1/2 111-130, 1972. [14] Jean Tirole.",
                "The Theory of Industrial Organization.",
                "The MIT Press, Cambridge, MA, 1988. 151"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        }
    }
}