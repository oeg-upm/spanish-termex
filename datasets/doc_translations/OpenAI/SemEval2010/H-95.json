{
    "id": "H-95",
    "original_text": "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval. We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology. Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents. Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches. Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1. INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]). One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction. Nowadays, GIR is getting increasing attention. Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7]. Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others. Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms. Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5]. Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13]. However, this body of research has been focused on processing Web pages and full-text documents. Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents. Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms. How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem. Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical). Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references. For example the query Denzel Washington contains the place name Washington, but the query is not geographical. Queries can also be geographic without containing any explicit reference to locations at the dictionary. In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information. This paper proposes simple and yet effective techniques for handling place references over queries. Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where. When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents. Disambiguating place references is one of the most important aspects. We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred). Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology. When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results. By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query. Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results. The rest of this paper is organized as follows. We first formalize the problem and describe related work to our research. Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set. Section 4 presents evaluation results. Finally, we give some conclusions and directions for future research. 2. CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16]. Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14]. A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations. The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7]. Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER). For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3]. NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9]. When handling named entities with a high level of detail, ambiguity problems arise more frequently. Ambiguity in geographical references is bi-directional [15]. The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity). The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity). Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11]. Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks. Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13]. This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query. The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries. In our case, queries are usually short and often do not constitute proper sentences. Text mining techniques that make use of context information are difficult to apply for high accuracy. Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10]. However, most of these works did not consider place references or geographical categories. Again, these previously proposed methods are difficult to apply to the geographic domain. Gravano et. al. studied the classification of Web queries into two types, namely local and global [5]. They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale. A number of classification algorithms have been evaluated using search engine queries. However, their experimental results showed that only a rather low precision and recall could be achieved. The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest. Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17]. The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results. In comparison, we propose simpler techniques based on matching names from a geographic ontology. Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts. In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results. There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications. Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data. Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location. Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts. However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service. Most of such existing services are commercial in nature, and there are no technical publications describing them. A number of commercial search services have also started to support location-based searches. Google Local, for instance, initially required the user to specify a location qualifier separately from the search query. More recently, it added location look-up capabilities that extract locations from query strings. For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA. However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries. Moreover, Google Local does not take spatial relations into account. In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed. In this paper, we explain the proposed solutions for the identified problems. 3. HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where. While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary. In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology. Different systems can use alternative schemes to take input queries from the users. Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1. Input to the system is a textual query string. This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2. Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where. The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices. Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3. Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices). No disambiguation is required, and therefore the techniques described in this paper do not have to be applied. The first two schemes depend on place name disambiguation. Figure 1 illustrates how we propose to handle geographic queries in these first two schemes. A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology. We propose to do this according to the pseudo-code listed at Algorithm 1. The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g. Paris, France). It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path. One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive). The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France). We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York). For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation. The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city). Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept. However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location). The output is therefore a list with the possible concepts being referred to by the user. In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher. The sorting procedure reflects the likelihood of each concept being indeed the one referred to. We propose to rank concepts according to the following heuristics: 1. The geographical type expression associated with the ontology concept. For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2. Number of ancestors at the ontology. Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3. Population count. Highly populated places are better known, and therefore more likely to be referenced in queries. 4. Population counts from direct ancestors at the ontology. Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5. Occurrence frequency over Web documents (e.g. Google counts) for the geographical names. Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6. Number of descendants at the ontology. Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7. String size for the geographical names. Short names are more likely to be mentioned in search engine queries. Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms. However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts. This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple. It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts. The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics. We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17]. In the future, we plan on testing if this different tokenization scheme can improve results. Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens. The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system. Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations. Algorithm 1 is used to check whether a where term constitutes a geographical reference or not. We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages. This ensures that a query like Denzel Washington is appropriately handled. If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned. Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty. If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references). The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2. A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled. Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned. However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned. For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle. Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle. In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query. We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results. In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13]. This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system. Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17]. However, a GIR system already requires the offline stage. For the top N documents given at the results, we check the geographic scopes that were assigned to them. If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept. This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4. EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2]. TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail. Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities. The reader should refer to [2, 6] for a complete description of these resources. Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns. Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4]. ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them. Our experiments also considered this dataset. For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple. The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe. Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics. Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results. The tables show that the proposed technique adequately handles most of these queries. A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated. Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe. It should also be noted that some of the considered topics are very hard for an automated system to handle. Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes). Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs). In a second experiment, we used a sample of around 100,000 real search engine queries. The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case. The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt. Table 3 summarizes the obtained results. Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]). A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple. The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician). The addition of more names to the exception list can provide a workaround for most of these cases. Value Num. Queries 110,916 Num. Queries without Geographical References 107,159 (96.6%) Num. Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs. We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs. For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto). For future work, we plan on using a larger collection of queries to evaluate this aspect. Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation. Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint. The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference. Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg. Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg. Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services. The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g. Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode. We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly. Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders. Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds). Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results. Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5. CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries. This is a hard text mining problem, as queries are often ambiguous or underspecify information needs. However, our initial experiments indicate that for many queries, the referenced places can be determined effectively. Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts. The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006. In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents. In the future, we plan on doing a careful evaluation of this last approach. Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts. The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines. After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts. A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations. In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query. The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6. REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer. Web-a-Where: Geotagging Web content. In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins. A Geographic Knowledge Base for Semantic Web Applications. In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor. Overview of MUC-7/MET-2. In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough. GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track. In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein. Categorizing Web queries according to geographical locality. In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring. Proper words in proper places: The thesaurus of geographic names. MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel. Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project. In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler. Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors. Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai. KDD CUP-2005 report: Facing a great challenge. SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham. Experiments with geographic knowledge for information extraction. In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva. Spelling correction for search engine queries. In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva. A graph-ranking algorithm for geo-referencing documents. In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender. The role of gazetteers in geographic knowledge discovery on the web. In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder. Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition. In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer. Classifying search engine queries using the Web as background knowledge. SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y. Ma, and Y. Li. Detecting dominant locations from search queries. In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005.",
    "original_translation": "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la recuperación de información geográfica. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica). Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10]. Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas. Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico. Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5]. Definieron una consulta como local si sus mejores coincidencias en un motor de búsqueda web probablemente sean páginas locales, como casas en venta. Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda. Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja. El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés. Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17]. El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda. En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una ontología geográfica. Nuestro enfoque busca relaciones espaciales en la cadena de consulta, y también asocia las referencias de lugar a conceptos de ontología. En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales. Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones. La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas. Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada. En lugar de calcular coordenadas para una referencia de lugar dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes. Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación. La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan. Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación. Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la consulta de búsqueda. Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta. Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA. Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja consultas implícitas de ubicación. Además, Google Local no tiene en cuenta las relaciones espaciales. En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado. En este documento, explicamos las soluciones propuestas para los problemas identificados. 3. MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde. Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado. En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología. Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios. Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de Recuperación de Información Geográfica. 1. La entrada al sistema es una cadena de consulta textual. Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\". El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles. Aunque no es necesario separar la cadena de consulta en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3. La entrada al sistema se proporciona a través de una cadena de consulta junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles). No se requiere desambiguación, por lo tanto, las técnicas descritas en este documento no tienen que ser aplicadas. Los dos primeros esquemas dependen de la desambiguación de nombres de lugares. La Figura 1 ilustra cómo proponemos manejar consultas geográficas en estos dos esquemas iniciales. Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la ontología geográfica. Proponemos hacer esto de acuerdo al pseudo-código listado en el Algoritmo 1. El algoritmo considera los casos en los que se proporciona una segunda (o incluso más de una) ubicación para calificar a una primera (por ejemplo, París, Francia. Realiza llamadas recursivas para hacer coincidir cada ubicación, y se basa en relaciones jerárquicas de partes para detectar si dos ubicaciones comparten una ruta jerárquica común. Una de las ubicaciones proporcionadas debe ser más general y la otra más específica, en el sentido de que debe existir una relación de parte entre los conceptos asociados en la ontología (ya sea directa o transitiva). La ubicación más específica es una subregión de la más general, y el algoritmo devuelve la más específica (es decir, para París, Francia, el algoritmo devuelve el concepto de ontología asociado con París, la capital de Francia). También consideramos los casos en los que se utiliza una expresión de tipo geográfico para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York). Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una ontología geográfica, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una ontología geográfica. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación. Los calificadores de tipo considerados también deben ser descritos en las ontologías (por ejemplo, cada concepto geográfico debe estar asociado a un tipo que también esté definido en la ontología, como país, distrito o ciudad). Idealmente, la referencia geográfica proporcionada por el usuario debería ser desambiguada en un único concepto de ontología. Sin embargo, esto no siempre es posible, ya que el usuario puede no proporcionar toda la información requerida (es decir, una expresión de tipo o una segunda ubicación de calificación). Por lo tanto, la salida es una lista con los posibles conceptos a los que se refiere el usuario. En un paso final, proponemos ordenar esta lista, de modo que si se requiere un solo concepto como resultado, podamos utilizar el que esté clasificado más alto. El procedimiento de clasificación refleja la probabilidad de que cada concepto sea realmente el mencionado. Proponemos clasificar conceptos de acuerdo con las siguientes heurísticas: 1. La expresión de tipo geográfico asociada con el concepto de ontología. Para el mismo nombre, es más probable que se haga referencia a un país que a una ciudad, y a su vez, es más probable que se haga referencia a una ciudad que a una calle. Número de ancestros en la ontología. Los lugares principales en la ontología tienden a ser más generales, y por lo tanto es más probable que sean referenciados en consultas de motores de búsqueda. 3. Recuento de población. Los lugares altamente poblados son más conocidos, y por lo tanto es más probable que sean referenciados en consultas. Recuentos de población de ancestros directos en la ontología. Las subregiones de lugares altamente poblados son más conocidas y también es más probable que sean referenciadas en consultas de motores de búsqueda. Frecuencia de ocurrencia en documentos web (por ejemplo, Google cuenta) para los nombres geográficos. Los nombres de lugares que ocurren con más frecuencia en documentos web también son más propensos a ser referenciados en consultas de motores de búsqueda. 6. Número de descendientes en la ontología. Los lugares que tienen más subregiones tienden a ser más generales, y por lo tanto es más probable que sean mencionados en las consultas de los motores de búsqueda. 7. Tamaño de cadena para los nombres geográficos. Los nombres cortos son más propensos a ser mencionados en las consultas de motores de búsqueda. El Algoritmo 1, junto con el procedimiento de clasificación, ya puede manejar consultas GIR donde el término \"where\" se proporciona por separado de los términos \"what\" y \"relation\". Sin embargo, si la consulta se proporciona en una sola cadena, requerimos la identificación del triple asociado < qué, relación, dónde > antes de desambiguar el término de ubicación en los conceptos de la ontología correspondiente. Esto se describe en la siguiente Sección. 3.2 Manejo de Cadenas de Consulta Única. El Algoritmo 2 proporciona el mecanismo para separar una cadena de consulta en un triple < qué, relación, dónde >. Utiliza el Algoritmo 1 para encontrar dónde se encuentra el término, desambiguándolo en un conjunto de conceptos de ontología. El algoritmo comienza tokenizando la cadena de consulta en palabras individuales, también encargándose de eliminar mayúsculas y diacríticos. Tenemos un tokenizador simple que utiliza el espacio como delimitador de palabras, pero también podríamos tener un enfoque de tokenización similar a la propuesta de Wang et al., que se basa en estadísticas de ocurrencia en la web para evitar romper colocaciones [17]. En el futuro, planeamos probar si este esquema de tokenización diferente puede mejorar los resultados. A continuación, el algoritmo prueba diferentes divisiones posibles de la consulta, construyendo los términos de qué, relación y dónde a través de concatenaciones de los tokens individuales. El término de relación se compara con una lista de valores posibles (por ejemplo, cerca, en, alrededor o al sur de), que corresponden a los operadores admitidos por el sistema GIR. Cabe destacar que también es responsabilidad del sistema GIR subyacente interpretar el significado real de las diferentes relaciones espaciales. El algoritmo 1 se utiliza para verificar si un término \"where\" constituye una referencia geográfica o no. También verificamos si la última palabra en el término pertenece a una lista de excepciones, que incluye, por ejemplo, nombres propios de personas en diferentes idiomas. Esto garantiza que una consulta como Denzel Washington sea manejada adecuadamente. Si el algoritmo tiene éxito en encontrar una relación válida y los términos correspondientes, entonces se devuelve el triple correspondiente. De lo contrario, devolvemos un triple con el término \"qué\" igual al string de consulta, y los términos de relación y ubicación establecidos como vacíos. Si toda la cadena de consulta constituye una referencia geográfica, devolvemos un triple con el término \"what\" establecido como vacío, el término \"where\" igual a la cadena de consulta, y el término de relación establecido como DEFINICIÓN (es decir, estas consultas deben ser respondidas con información sobre los lugares mencionados). El algoritmo también maneja cadenas de consulta donde se proporcionan más de una referencia geográfica, utilizando \"and\" o una preposición equivalente, junto con una llamada recursiva al Algoritmo 2. Una consulta como el comercio de diamantes en Angola y Sudáfrica es el Algoritmo 2 Obtener < qué, relación, dónde > de una cadena de consulta. Requiere: O = Una ontología geográfica. Requiere: Q = Una cadena no vacía con la consulta. 1: Q = La cadena Q después de eliminar mayúsculas y diacríticos. 2: TOKENS[0..N] = Un array de cadenas con las palabras individuales de Q. 3: N = El tamaño del array TOKENS. 4: para INDEX = 0 a N hacer 5: si INDEX = 0 entonces 6: QUÉ = Concatenación de TOKENS[0..INDEX −1] 7: ÚLTIMOQUÉ = TOKENS[INDEX −1] 8: sino 9: QUÉ = Una cadena vacía 10: ÚLTIMOQUÉ = Una cadena vacía 11: fin si 12: DÓNDE = Concatenación de TOKENS[INDEX..N] 13: RELACIÓN = Una cadena vacía 14: para INDEX2 = INDEX a N −1 hacer 15: RELACIÓN2 = Concatenación de TOKENS[INDEX..INDEX2] 16: si RELACIÓN2 es una relación geográfica válida entonces 17: DÓNDE = Concatenación de S[INDEX2 +1..N] 18: RELACIÓN = RELACIÓN2 19: fin si 20: fin para 21: si RELACIÓN = vacío Y ÚLTIMOQUÉ es una excepción entonces 22: TESTGEO = FALSO 23: sino 24: TESTGEO = VERDADERO 25: fin si 26: si TESTGEO Y Algoritmo1(DÓNDE) <> VACÍO entonces 27: si DÓNDE termina con Y ALREDEDORES entonces 28: RELACIÓN = La cadena CERCA 29: DÓNDE = La subcadena de DÓNDE con Y ALREDEDORES eliminado 30: fin si 31: si QUÉ termina con Y o similar entonces 32: < QUÉ, RELACIÓN, DÓNDE2 > = Algoritmo2(QUÉ) 33: DÓNDE = Concatenación de DÓNDE con DÓNDE2 34: fin si 35: si RELACIÓN = Una cadena vacía entonces 36: si QUÉ = Una cadena vacía entonces 37: RELACIÓN = La cadena DEFINICIÓN 38: sino 39: RELACIÓN = La cadena CONTENIDO-EN 40: fin si 41: fin si 42: sino 43: QUÉ = La cadena Q 44: DÓNDE = Una cadena vacía 45: RELACIÓN = Una cadena vacía 46: fin si 47: fin para 48: retornar < QUÉ, RELACIÓN, DÓNDE > por lo tanto manejado adecuadamente. Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una referencia de lugar. Sin embargo, el hecho de que una consulta pueda estar asociada con un contexto geográfico puede que no sea directamente observable en la consulta en sí, sino más bien a partir de los resultados devueltos. Por ejemplo, consultas como hoteles recomendados para SIGIR 2006 o alojamiento para SeaFair 2006 pueden referirse a la ciudad de Seattle. Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle. En los casos en los que una consulta no contiene referencias de lugar, comenzamos asumiendo que los resultados principales de un motor de búsqueda representan el contexto y uso más popular y correcto para la consulta. Propongo utilizar las características de distribución de los ámbitos geográficos previamente asignados a los documentos correspondientes a estos principales resultados. En un trabajo previo, presentamos un enfoque de minería de texto para asignar documentos con alcances geográficos correspondientes, definidos en una ontología, que funcionaba como una etapa de preprocesamiento sin conexión en un sistema GIR [13]. Este paso de preprocesamiento es una etapa fundamental de GIR, y es razonable asumir que este tipo de información estaría disponible en cualquier sistema. De manera similar a Wang et al., también podríamos intentar procesar los resultados en línea, con el fin de detectar referencias de lugares en los documentos [17]. Sin embargo, un sistema GIR ya requiere la etapa fuera de línea. Para los N documentos principales dados en los resultados, verificamos los alcances geográficos que les fueron asignados. Si una parte significativa de los resultados se asigna al mismo ámbito, entonces la consulta puede considerarse relacionada con el concepto geográfico correspondiente. Esta suposición incluso podría ser relajada, por ejemplo, verificando si los documentos pertenecen a ámbitos que están jerárquicamente relacionados. 4. EXPERIMENTOS DE EVALUACIÓN Utilizamos tres ontologías diferentes en experimentos de evaluación, a saber, el tesauro de nombres geográficos de Getty (TGN) [6] y dos recursos específicos desarrollados en nuestro grupo, aquí referidos como las ontologías PT y ML [2]. TGN y ML incluyen información geográfica global en varios idiomas (aunque TGN es considerablemente más grande), mientras que la ontología PT se centra en el territorio portugués con un alto nivel de detalle. Los tipos de lugares también son diferentes entre ontologías, por ejemplo, PT incluye nombres de calles y direcciones postales, mientras que ML solo llega al nivel de ciudades. El lector debe consultar [2, 6] para obtener una descripción completa de estos recursos. Nuestros experimentos iniciales utilizaron temas en portugués e inglés de las campañas de evaluación GeoCLEF 2005 y 2006. Los temas en GeoCLEF corresponden a cadenas de consulta que pueden ser utilizadas como entrada a un sistema GIR [4]. ImageCLEF 2006 también incluyó temas que especificaban referencias de lugar, y se alentó a los participantes a ejecutar sus sistemas GIR en ellos. Nuestros experimentos también consideraron este conjunto de datos. Para cada tema, medimos si el Algoritmo 2 fue capaz de encontrar el triple correspondiente < qué, relación, dónde >. Las ontologías utilizadas en este experimento fueron TGN y ML, ya que los temas se presentaron en varios idiomas y abarcaron todo el mundo. Número de conjunto de datos de triples correctos Tiempo por consulta Consultas ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Tabla 2: Resumen de resultados sobre temas de CLEF. La Tabla 1 ilustra algunos de los temas, y la Tabla 2 resume los resultados obtenidos. Las tablas muestran que la técnica propuesta maneja adecuadamente la mayoría de estas consultas. Una inspección manual de los conceptos de la ontología que se devolvieron para cada caso también reveló que el término \"where\" estaba siendo correctamente desambiguado. Ten en cuenta que la ontología TGN de hecho añadió cierta ambigüedad, ya que por ejemplo nombres como Madrid pueden corresponder a muchos lugares diferentes alrededor del mundo. También hay que tener en cuenta que algunos de los temas considerados son muy difíciles de manejar para un sistema automatizado. Algunos de ellos eran ambiguos (por ejemplo, en las importaciones de arroz japonés, la consulta puede referirse tanto a las importaciones de arroz en Japón como a las importaciones de arroz japonés), y otros no contenían referencias geográficas directas (por ejemplo, ciudades cerca de volcanes activos). Además de estos casos muy difíciles, también nos faltaron algunos temas debido a su uso de adjetivos de lugar y regiones específicas que no están definidas en las ontologías (por ejemplo, preocupaciones ambientales en torno a los Trossachs escoceses). En un segundo experimento, utilizamos una muestra de alrededor de 100,000 consultas reales en motores de búsqueda. El objetivo era ver si un número significativo de estas consultas eran de naturaleza geográfica, también comprobando si el algoritmo no cometía muchos errores al clasificar una consulta como geográfica cuando no era el caso. La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un motor de búsqueda web portugués disponible en www.tumba.pt. La Tabla 3 resume los resultados obtenidos. Muchas consultas eran de hecho geográficas (alrededor del 3.4%, aunque estudios previos reportaron valores superiores al 14% [8]). Una inspección manual mostró que el algoritmo no produjo muchos falsos positivos, y las consultas geográficas fueron divididas correctamente en triples < qué, relación, dónde > correctos. Los pocos errores que encontramos estaban relacionados con nombres de lugares que se utilizaban con más frecuencia en otros contextos (por ejemplo, en Teófilo Braga tenemos el problema de que Braga es un distrito portugués, y Teófilo Braga fue un conocido escritor y político portugués). La adición de más nombres a la lista de excepciones puede proporcionar una solución alternativa para la mayoría de estos casos. Valor Num. Consultas 110,916 Num. Consultas sin Referencias Geográficas 107,159 (96.6%) Núm. Consultas con Referencias Geográficas 3,757 (3.4%) Tabla 3: Resultados de un experimento con registros de motores de búsqueda. También probamos el procedimiento para detectar consultas que son implícitamente geográficas con una pequeña muestra de consultas de los registros. Por ejemplo, para la consulta Estádio do Dragão (por ejemplo, estadio local de un equipo de fútbol de Oporto), el contexto geográfico correcto se puede descubrir a partir del análisis de los resultados (más del 75% de los 20 resultados principales están asignados al ámbito de Oporto). Para trabajos futuros, planeamos utilizar una colección más grande de consultas para evaluar este aspecto. Además de las consultas de los registros del motor de búsqueda, también planeamos utilizar los nombres de edificios, monumentos y otros lugares emblemáticos conocidos, ya que tienen una fuerte connotación geográfica. Finalmente, también realizamos un experimento comparativo con 2 geocodificadores populares, Maporama y Microsoft's Mappoint. El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una referencia de lugar. Parroquias civiles del mapa de Lisboa de Maporama Mappoint Nuestros códigos de referencia (de 53) 9 (16,9%) 30 (56,6%) 15 (28,3%) Prom. Tiempo por referencia (mseg) 506.23 1235.87 143.43 Parroquias civiles del mapa de Porto Maporama Mappoint Nuestros refs. codificados (de 15) 0 (0%) 2 (13,3%) 5 (33,3%) Prom. Tiempo por referencia (mseg) 514.45 991.88 132.14 Tabla 4: Resultados de una comparación con servicios de geocodificación. La ontología portuguesa fue utilizada en este experimento, tomando como entrada los nombres de las parroquias civiles de los municipios portugueses de Lisboa y Oporto, y comprobando si los sistemas fueron capaces de desambiguar el nombre completo (por ejemplo, Campo Grande, Lisboa o Foz do Douro, Oporto) en el geocódigo correcto. Específicamente medimos si nuestro enfoque era mejor para devolver de manera inequívoca geocódigos dados los lugares de referencia (es decir, devolver el único código correcto) y proporcionar resultados rápidamente. La Tabla 4 muestra los resultados obtenidos, y la precisión de nuestro método parece comparable a la de los geocodificadores comerciales. Ten en cuenta que para Maporama y Mappoint, los tiempos indicados en la Tabla 4 incluyen la obtención de resultados de la Web, pero no tenemos una forma directa de acceder a los algoritmos de geocodificación (en ambos casos, la obtención de contenido estático de los servidores web toma alrededor de 125 milisegundos). Aunque nuestro enfoque no puede devolver de manera inequívoca el geocódigo correcto en la mayoría de los casos (solo 20 de un total de 68 casos), no obstante devuelve resultados que un usuario humano puede desambiguar (por ejemplo, para Madalena, Lisboa devolvemos tanto una calle como una freguesía), a diferencia de otros sistemas que a menudo no producían resultados. Además, si consideramos el geocódigo superior según el procedimiento de clasificación descrito en la Sección 3.1, o si utilizamos un calificador de tipo en el nombre (por ejemplo, freguesía de Campo Grande, Lisboa), nuestro algoritmo siempre devuelve el geocódigo correcto. 5. CONCLUSIONES Este artículo presentó enfoques simples para manejar referencias de lugares en consultas de motores de búsqueda. Este es un problema difícil de minería de texto, ya que las consultas suelen ser ambiguas o no especifican adecuadamente las necesidades de información. Sin embargo, nuestros experimentos iniciales indican que para muchas consultas, los lugares referenciados pueden ser determinados de manera efectiva. A diferencia de las técnicas propuestas por Wang et al. [17], nos enfocamos principalmente en reconocer relaciones espaciales y asociar nombres de lugares a conceptos de ontología. Las técnicas propuestas fueron empleadas en el sistema prototipo que utilizamos para participar en GeoCLEF 2006. En consultas donde no se menciona explícitamente una referencia geográfica, proponemos utilizar los resultados de la consulta, aprovechando los ámbitos geográficos asignados previamente a estos documentos. En el futuro, planeamos realizar una evaluación cuidadosa de este último enfoque. Otra idea que nos gustaría probar implica la integración de un mecanismo de corrección ortográfica [12] en el Algoritmo 1, de modo que las referencias de lugares con errores ortográficos puedan ser relacionadas con conceptos de la ontología. Las técnicas propuestas para manejar consultas geográficas pueden tener muchas aplicaciones en la mejora de los sistemas de recuperación de información geográfica o incluso en los motores de búsqueda de propósito general. Después de que las referencias de lugar se hayan desambiguado adecuadamente en conceptos de ontología, un sistema GIR puede utilizarlas para recuperar resultados relevantes, a través del uso de estructuras de índices apropiadas (por ejemplo, indexando las coordenadas espaciales asociadas con los conceptos de ontología) y siempre que los documentos también estén asignados a ámbitos correspondientes a los conceptos de ontología. Una estrategia GIR diferente puede implicar la expansión de consultas, tomando los términos de ubicación de la consulta y utilizando la ontología para agregar nombres de ubicaciones vecinas. En un motor de búsqueda de propósito general, si se detecta una consulta local, podemos redirigir a los usuarios a un sistema GIR, que debería ser más adecuado para manejar correctamente la consulta. La interfaz de búsqueda regular de Google ya hace esto, presentando un enlace a Google Local cuando detecta una consulta geográfica. REFERENCIAS [1] E. Amitay, N. HarEl, R. Sivan y A. Soffer. Web-a-Where: Geolocalización de contenido web. En Actas de SIGIR-04, la 27ª Conferencia sobre investigación y desarrollo en recuperación de información, 2004. [2] M. Chaves, M. J. Silva y B. Martins. Una Base de Conocimiento Geográfico para Aplicaciones de la Web Semántica. En las Actas de SBBD-05, el 20º Simposio Brasileño de Bases de Datos, 2005. [3] N. A. Chinchor. Resumen de MUC-7/MET-2. En las Actas de MUC-7, la 7ª Conferencia de Comprensión de Mensajes, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho y P. Clough. GeoCLEF: la pista de recuperación de información geográfica en varios idiomas de CLEF 2005. En Notas de Trabajo para el Taller CLEF 2005, 2005. [5] L. Gravano, V. Hatzivassiloglou y R. Lichtenstein. Clasificación de consultas web según la localidad geográfica. En las Actas de CIKM-03, la 12ª Conferencia sobre Gestión de la Información y el Conocimiento, 2003. [6] P. Harpring. Palabras adecuadas en lugares adecuados: El tesauro de nombres geográficos. MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, y R. Weibel. Recuperación de información espacial y ontologías geográficas: Una visión general del proyecto SPIRIT. En Actas de SIGIR-02, la 25ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2002. [8] J. Kohler. Analizando las consultas de motores de búsqueda para el uso de términos geográficos, 2003. (Tesis de maestría). [9] A. Kornai y B. Sundheim, editores. Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [10] Y. Li, Z. Zheng y H. Dai. Informe de la KDD CUP-2005: Enfrentando un gran desafío. SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard y H. Cunningham. Experimentos con conocimiento geográfico para extracción de información. En Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [12] B. Martins y M. J. Silva. Corrección ortográfica para consultas en motores de búsqueda. En Actas de EsTAL-04, España para el Procesamiento del Lenguaje Natural, 2004. [13] B. Martins y M. J. Silva. Un algoritmo de clasificación de gráficos para georreferenciar documentos. En las Actas de ICDM-05, la 5ta Conferencia Internacional de Minería de Datos de IEEE, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni y A. Laender. El papel de los gaceteros en el descubrimiento del conocimiento geográfico en la web. En las Actas de LA-Web-05, el 3er Congreso Web Latinoamericano, 2005. [15] E. Tjong, K. Sang y F. D. Meulder. Introducción a la tarea compartida CoNLL-2003: Reconocimiento de Entidades Nombradas Independiente del Idioma. En las Actas de CoNLL-2003, la 7ª Conferencia sobre Aprendizaje de Lenguaje Natural, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges y T. Scheffer. Clasificando consultas de motores de búsqueda utilizando la Web como conocimiento de fondo. Boletín de Exploraciones SIGKDD, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y. Ma, y Y. Li. Detectando ubicaciones dominantes a partir de consultas de búsqueda. En las Actas de SIGIR-05, la 28ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2005.",
    "original_sentences": [
        "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
        "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
        "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
        "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
        "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
        "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
        "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
        "Nowadays, GIR is getting increasing attention.",
        "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
        "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
        "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
        "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
        "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
        "However, this body of research has been focused on processing Web pages and full-text documents.",
        "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
        "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
        "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
        "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
        "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
        "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
        "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
        "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
        "This paper proposes simple and yet effective techniques for handling place references over queries.",
        "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
        "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
        "Disambiguating place references is one of the most important aspects.",
        "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
        "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
        "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
        "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
        "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
        "The rest of this paper is organized as follows.",
        "We first formalize the problem and describe related work to our research.",
        "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
        "Section 4 presents evaluation results.",
        "Finally, we give some conclusions and directions for future research. 2.",
        "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
        "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
        "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
        "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
        "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
        "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
        "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
        "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
        "Ambiguity in geographical references is bi-directional [15].",
        "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
        "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
        "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
        "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
        "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
        "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
        "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
        "In our case, queries are usually short and often do not constitute proper sentences.",
        "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
        "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
        "However, most of these works did not consider place references or geographical categories.",
        "Again, these previously proposed methods are difficult to apply to the geographic domain.",
        "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
        "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
        "A number of classification algorithms have been evaluated using search engine queries.",
        "However, their experimental results showed that only a rather low precision and recall could be achieved.",
        "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
        "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
        "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
        "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
        "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
        "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
        "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
        "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
        "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
        "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
        "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
        "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
        "A number of commercial search services have also started to support location-based searches.",
        "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
        "More recently, it added location look-up capabilities that extract locations from query strings.",
        "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
        "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
        "Moreover, Google Local does not take spatial relations into account.",
        "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
        "In this paper, we explain the proposed solutions for the identified problems. 3.",
        "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
        "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
        "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
        "Different systems can use alternative schemes to take input queries from the users.",
        "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
        "Input to the system is a textual query string.",
        "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
        "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
        "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
        "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
        "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
        "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
        "The first two schemes depend on place name disambiguation.",
        "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
        "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
        "We propose to do this according to the pseudo-code listed at Algorithm 1.",
        "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
        "Paris, France).",
        "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
        "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
        "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
        "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
        "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
        "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
        "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
        "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
        "The output is therefore a list with the possible concepts being referred to by the user.",
        "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
        "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
        "We propose to rank concepts according to the following heuristics: 1.",
        "The geographical type expression associated with the ontology concept.",
        "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
        "Number of ancestors at the ontology.",
        "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
        "Population count.",
        "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
        "Population counts from direct ancestors at the ontology.",
        "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
        "Occurrence frequency over Web documents (e.g.",
        "Google counts) for the geographical names.",
        "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
        "Number of descendants at the ontology.",
        "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
        "String size for the geographical names.",
        "Short names are more likely to be mentioned in search engine queries.",
        "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
        "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
        "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
        "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
        "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
        "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
        "In the future, we plan on testing if this different tokenization scheme can improve results.",
        "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
        "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
        "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
        "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
        "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
        "This ensures that a query like Denzel Washington is appropriately handled.",
        "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
        "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
        "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
        "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
        "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
        "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
        "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
        "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
        "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
        "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
        "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
        "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
        "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
        "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
        "However, a GIR system already requires the offline stage.",
        "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
        "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
        "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
        "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
        "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
        "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
        "The reader should refer to [2, 6] for a complete description of these resources.",
        "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
        "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
        "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
        "Our experiments also considered this dataset.",
        "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
        "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
        "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
        "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
        "The tables show that the proposed technique adequately handles most of these queries.",
        "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
        "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
        "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
        "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
        "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
        "In a second experiment, we used a sample of around 100,000 real search engine queries.",
        "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
        "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
        "Table 3 summarizes the obtained results.",
        "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
        "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
        "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
        "The addition of more names to the exception list can provide a workaround for most of these cases.",
        "Value Num.",
        "Queries 110,916 Num.",
        "Queries without Geographical References 107,159 (96.6%) Num.",
        "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
        "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
        "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
        "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
        "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
        "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
        "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
        "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
        "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
        "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
        "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
        "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
        "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
        "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
        "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
        "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
        "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
        "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
        "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
        "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
        "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
        "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
        "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
        "In the future, we plan on doing a careful evaluation of this last approach.",
        "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
        "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
        "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
        "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
        "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
        "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
        "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
        "Web-a-Where: Geotagging Web content.",
        "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
        "A Geographic Knowledge Base for Semantic Web Applications.",
        "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
        "Overview of MUC-7/MET-2.",
        "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
        "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
        "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
        "Categorizing Web queries according to geographical locality.",
        "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
        "Proper words in proper places: The thesaurus of geographic names.",
        "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
        "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
        "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
        "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
        "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
        "KDD CUP-2005 report: Facing a great challenge.",
        "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
        "Experiments with geographic knowledge for information extraction.",
        "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
        "Spelling correction for search engine queries.",
        "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
        "A graph-ranking algorithm for geo-referencing documents.",
        "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
        "The role of gazetteers in geographic knowledge discovery on the web.",
        "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
        "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
        "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
        "Classifying search engine queries using the Web as background knowledge.",
        "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
        "Ma, and Y. Li.",
        "Detecting dominant locations from search queries.",
        "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
    ],
    "translated_text_sentences": [
        "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la recuperación de información geográfica.",
        "Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología.",
        "Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos.",
        "Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos.",
        "Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1.",
        "Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local).",
        "Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario.",
        "Hoy en día, GIR está recibiendo cada vez más atención.",
        "Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7].",
        "Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás.",
        "Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación.",
        "Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5].",
        "Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos.",
        "Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo.",
        "Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario.",
        "Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos.",
        "Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto.",
        "Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica).",
        "Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar.",
        "Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica.",
        "Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario.",
        "En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información.",
        "Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas.",
        "Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde.",
        "Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos.",
        "La desambiguación de referencias de lugar es uno de los aspectos más importantes.",
        "Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes).",
        "La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología.",
        "Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales.",
        "Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta.",
        "Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda.",
        "El resto de este documento está organizado de la siguiente manera.",
        "Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación.",
        "A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados.",
        "La sección 4 presenta los resultados de la evaluación.",
        "Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones.",
        "El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16].",
        "Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14].",
        "Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas.",
        "La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7].",
        "La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER).",
        "Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3].",
        "La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9].",
        "Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia.",
        "La ambigüedad en las referencias geográficas es bidireccional [15].",
        "El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia).",
        "El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente).",
        "Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11].",
        "El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas.",
        "Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13].",
        "Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta.",
        "La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas.",
        "En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas.",
        "Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión.",
        "Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10].",
        "Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas.",
        "Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico.",
        "Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5].",
        "Definieron una consulta como local si sus mejores coincidencias en un motor de búsqueda web probablemente sean páginas locales, como casas en venta.",
        "Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda.",
        "Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja.",
        "El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés.",
        "Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17].",
        "El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda.",
        "En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una ontología geográfica.",
        "Nuestro enfoque busca relaciones espaciales en la cadena de consulta, y también asocia las referencias de lugar a conceptos de ontología.",
        "En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales.",
        "Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones.",
        "La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas.",
        "Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada.",
        "En lugar de calcular coordenadas para una referencia de lugar dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes.",
        "Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación.",
        "La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan.",
        "Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación.",
        "Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la consulta de búsqueda.",
        "Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta.",
        "Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA.",
        "Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja consultas implícitas de ubicación.",
        "Además, Google Local no tiene en cuenta las relaciones espaciales.",
        "En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado.",
        "En este documento, explicamos las soluciones propuestas para los problemas identificados. 3.",
        "MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde.",
        "Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado.",
        "En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología.",
        "Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios.",
        "Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de Recuperación de Información Geográfica. 1.",
        "La entrada al sistema es una cadena de consulta textual.",
        "Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos.",
        "La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\".",
        "El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles.",
        "Aunque no es necesario separar la cadena de consulta en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3.",
        "La entrada al sistema se proporciona a través de una cadena de consulta junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles).",
        "No se requiere desambiguación, por lo tanto, las técnicas descritas en este documento no tienen que ser aplicadas.",
        "Los dos primeros esquemas dependen de la desambiguación de nombres de lugares.",
        "La Figura 1 ilustra cómo proponemos manejar consultas geográficas en estos dos esquemas iniciales.",
        "Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la ontología geográfica.",
        "Proponemos hacer esto de acuerdo al pseudo-código listado en el Algoritmo 1.",
        "El algoritmo considera los casos en los que se proporciona una segunda (o incluso más de una) ubicación para calificar a una primera (por ejemplo,",
        "París, Francia.",
        "Realiza llamadas recursivas para hacer coincidir cada ubicación, y se basa en relaciones jerárquicas de partes para detectar si dos ubicaciones comparten una ruta jerárquica común.",
        "Una de las ubicaciones proporcionadas debe ser más general y la otra más específica, en el sentido de que debe existir una relación de parte entre los conceptos asociados en la ontología (ya sea directa o transitiva).",
        "La ubicación más específica es una subregión de la más general, y el algoritmo devuelve la más específica (es decir, para París, Francia, el algoritmo devuelve el concepto de ontología asociado con París, la capital de Francia).",
        "También consideramos los casos en los que se utiliza una expresión de tipo geográfico para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York).",
        "Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una ontología geográfica, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una ontología geográfica. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación.",
        "Los calificadores de tipo considerados también deben ser descritos en las ontologías (por ejemplo, cada concepto geográfico debe estar asociado a un tipo que también esté definido en la ontología, como país, distrito o ciudad).",
        "Idealmente, la referencia geográfica proporcionada por el usuario debería ser desambiguada en un único concepto de ontología.",
        "Sin embargo, esto no siempre es posible, ya que el usuario puede no proporcionar toda la información requerida (es decir, una expresión de tipo o una segunda ubicación de calificación).",
        "Por lo tanto, la salida es una lista con los posibles conceptos a los que se refiere el usuario.",
        "En un paso final, proponemos ordenar esta lista, de modo que si se requiere un solo concepto como resultado, podamos utilizar el que esté clasificado más alto.",
        "El procedimiento de clasificación refleja la probabilidad de que cada concepto sea realmente el mencionado.",
        "Proponemos clasificar conceptos de acuerdo con las siguientes heurísticas: 1.",
        "La expresión de tipo geográfico asociada con el concepto de ontología.",
        "Para el mismo nombre, es más probable que se haga referencia a un país que a una ciudad, y a su vez, es más probable que se haga referencia a una ciudad que a una calle.",
        "Número de ancestros en la ontología.",
        "Los lugares principales en la ontología tienden a ser más generales, y por lo tanto es más probable que sean referenciados en consultas de motores de búsqueda. 3.",
        "Recuento de población.",
        "Los lugares altamente poblados son más conocidos, y por lo tanto es más probable que sean referenciados en consultas.",
        "Recuentos de población de ancestros directos en la ontología.",
        "Las subregiones de lugares altamente poblados son más conocidas y también es más probable que sean referenciadas en consultas de motores de búsqueda.",
        "Frecuencia de ocurrencia en documentos web (por ejemplo,",
        "Google cuenta) para los nombres geográficos.",
        "Los nombres de lugares que ocurren con más frecuencia en documentos web también son más propensos a ser referenciados en consultas de motores de búsqueda. 6.",
        "Número de descendientes en la ontología.",
        "Los lugares que tienen más subregiones tienden a ser más generales, y por lo tanto es más probable que sean mencionados en las consultas de los motores de búsqueda. 7.",
        "Tamaño de cadena para los nombres geográficos.",
        "Los nombres cortos son más propensos a ser mencionados en las consultas de motores de búsqueda.",
        "El Algoritmo 1, junto con el procedimiento de clasificación, ya puede manejar consultas GIR donde el término \"where\" se proporciona por separado de los términos \"what\" y \"relation\".",
        "Sin embargo, si la consulta se proporciona en una sola cadena, requerimos la identificación del triple asociado < qué, relación, dónde > antes de desambiguar el término de ubicación en los conceptos de la ontología correspondiente.",
        "Esto se describe en la siguiente Sección. 3.2 Manejo de Cadenas de Consulta Única. El Algoritmo 2 proporciona el mecanismo para separar una cadena de consulta en un triple < qué, relación, dónde >.",
        "Utiliza el Algoritmo 1 para encontrar dónde se encuentra el término, desambiguándolo en un conjunto de conceptos de ontología.",
        "El algoritmo comienza tokenizando la cadena de consulta en palabras individuales, también encargándose de eliminar mayúsculas y diacríticos.",
        "Tenemos un tokenizador simple que utiliza el espacio como delimitador de palabras, pero también podríamos tener un enfoque de tokenización similar a la propuesta de Wang et al., que se basa en estadísticas de ocurrencia en la web para evitar romper colocaciones [17].",
        "En el futuro, planeamos probar si este esquema de tokenización diferente puede mejorar los resultados.",
        "A continuación, el algoritmo prueba diferentes divisiones posibles de la consulta, construyendo los términos de qué, relación y dónde a través de concatenaciones de los tokens individuales.",
        "El término de relación se compara con una lista de valores posibles (por ejemplo, cerca, en, alrededor o al sur de), que corresponden a los operadores admitidos por el sistema GIR.",
        "Cabe destacar que también es responsabilidad del sistema GIR subyacente interpretar el significado real de las diferentes relaciones espaciales.",
        "El algoritmo 1 se utiliza para verificar si un término \"where\" constituye una referencia geográfica o no.",
        "También verificamos si la última palabra en el término pertenece a una lista de excepciones, que incluye, por ejemplo, nombres propios de personas en diferentes idiomas.",
        "Esto garantiza que una consulta como Denzel Washington sea manejada adecuadamente.",
        "Si el algoritmo tiene éxito en encontrar una relación válida y los términos correspondientes, entonces se devuelve el triple correspondiente.",
        "De lo contrario, devolvemos un triple con el término \"qué\" igual al string de consulta, y los términos de relación y ubicación establecidos como vacíos.",
        "Si toda la cadena de consulta constituye una referencia geográfica, devolvemos un triple con el término \"what\" establecido como vacío, el término \"where\" igual a la cadena de consulta, y el término de relación establecido como DEFINICIÓN (es decir, estas consultas deben ser respondidas con información sobre los lugares mencionados).",
        "El algoritmo también maneja cadenas de consulta donde se proporcionan más de una referencia geográfica, utilizando \"and\" o una preposición equivalente, junto con una llamada recursiva al Algoritmo 2.",
        "Una consulta como el comercio de diamantes en Angola y Sudáfrica es el Algoritmo 2 Obtener < qué, relación, dónde > de una cadena de consulta. Requiere: O = Una ontología geográfica. Requiere: Q = Una cadena no vacía con la consulta. 1: Q = La cadena Q después de eliminar mayúsculas y diacríticos. 2: TOKENS[0..N] = Un array de cadenas con las palabras individuales de Q. 3: N = El tamaño del array TOKENS. 4: para INDEX = 0 a N hacer 5: si INDEX = 0 entonces 6: QUÉ = Concatenación de TOKENS[0..INDEX −1] 7: ÚLTIMOQUÉ = TOKENS[INDEX −1] 8: sino 9: QUÉ = Una cadena vacía 10: ÚLTIMOQUÉ = Una cadena vacía 11: fin si 12: DÓNDE = Concatenación de TOKENS[INDEX..N] 13: RELACIÓN = Una cadena vacía 14: para INDEX2 = INDEX a N −1 hacer 15: RELACIÓN2 = Concatenación de TOKENS[INDEX..INDEX2] 16: si RELACIÓN2 es una relación geográfica válida entonces 17: DÓNDE = Concatenación de S[INDEX2 +1..N] 18: RELACIÓN = RELACIÓN2 19: fin si 20: fin para 21: si RELACIÓN = vacío Y ÚLTIMOQUÉ es una excepción entonces 22: TESTGEO = FALSO 23: sino 24: TESTGEO = VERDADERO 25: fin si 26: si TESTGEO Y Algoritmo1(DÓNDE) <> VACÍO entonces 27: si DÓNDE termina con Y ALREDEDORES entonces 28: RELACIÓN = La cadena CERCA 29: DÓNDE = La subcadena de DÓNDE con Y ALREDEDORES eliminado 30: fin si 31: si QUÉ termina con Y o similar entonces 32: < QUÉ, RELACIÓN, DÓNDE2 > = Algoritmo2(QUÉ) 33: DÓNDE = Concatenación de DÓNDE con DÓNDE2 34: fin si 35: si RELACIÓN = Una cadena vacía entonces 36: si QUÉ = Una cadena vacía entonces 37: RELACIÓN = La cadena DEFINICIÓN 38: sino 39: RELACIÓN = La cadena CONTENIDO-EN 40: fin si 41: fin si 42: sino 43: QUÉ = La cadena Q 44: DÓNDE = Una cadena vacía 45: RELACIÓN = Una cadena vacía 46: fin si 47: fin para 48: retornar < QUÉ, RELACIÓN, DÓNDE > por lo tanto manejado adecuadamente.",
        "Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una referencia de lugar.",
        "Sin embargo, el hecho de que una consulta pueda estar asociada con un contexto geográfico puede que no sea directamente observable en la consulta en sí, sino más bien a partir de los resultados devueltos.",
        "Por ejemplo, consultas como hoteles recomendados para SIGIR 2006 o alojamiento para SeaFair 2006 pueden referirse a la ciudad de Seattle.",
        "Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle.",
        "En los casos en los que una consulta no contiene referencias de lugar, comenzamos asumiendo que los resultados principales de un motor de búsqueda representan el contexto y uso más popular y correcto para la consulta.",
        "Propongo utilizar las características de distribución de los ámbitos geográficos previamente asignados a los documentos correspondientes a estos principales resultados.",
        "En un trabajo previo, presentamos un enfoque de minería de texto para asignar documentos con alcances geográficos correspondientes, definidos en una ontología, que funcionaba como una etapa de preprocesamiento sin conexión en un sistema GIR [13].",
        "Este paso de preprocesamiento es una etapa fundamental de GIR, y es razonable asumir que este tipo de información estaría disponible en cualquier sistema.",
        "De manera similar a Wang et al., también podríamos intentar procesar los resultados en línea, con el fin de detectar referencias de lugares en los documentos [17].",
        "Sin embargo, un sistema GIR ya requiere la etapa fuera de línea.",
        "Para los N documentos principales dados en los resultados, verificamos los alcances geográficos que les fueron asignados.",
        "Si una parte significativa de los resultados se asigna al mismo ámbito, entonces la consulta puede considerarse relacionada con el concepto geográfico correspondiente.",
        "Esta suposición incluso podría ser relajada, por ejemplo, verificando si los documentos pertenecen a ámbitos que están jerárquicamente relacionados. 4.",
        "EXPERIMENTOS DE EVALUACIÓN Utilizamos tres ontologías diferentes en experimentos de evaluación, a saber, el tesauro de nombres geográficos de Getty (TGN) [6] y dos recursos específicos desarrollados en nuestro grupo, aquí referidos como las ontologías PT y ML [2].",
        "TGN y ML incluyen información geográfica global en varios idiomas (aunque TGN es considerablemente más grande), mientras que la ontología PT se centra en el territorio portugués con un alto nivel de detalle.",
        "Los tipos de lugares también son diferentes entre ontologías, por ejemplo, PT incluye nombres de calles y direcciones postales, mientras que ML solo llega al nivel de ciudades.",
        "El lector debe consultar [2, 6] para obtener una descripción completa de estos recursos.",
        "Nuestros experimentos iniciales utilizaron temas en portugués e inglés de las campañas de evaluación GeoCLEF 2005 y 2006.",
        "Los temas en GeoCLEF corresponden a cadenas de consulta que pueden ser utilizadas como entrada a un sistema GIR [4].",
        "ImageCLEF 2006 también incluyó temas que especificaban referencias de lugar, y se alentó a los participantes a ejecutar sus sistemas GIR en ellos.",
        "Nuestros experimentos también consideraron este conjunto de datos.",
        "Para cada tema, medimos si el Algoritmo 2 fue capaz de encontrar el triple correspondiente < qué, relación, dónde >.",
        "Las ontologías utilizadas en este experimento fueron TGN y ML, ya que los temas se presentaron en varios idiomas y abarcaron todo el mundo.",
        "Número de conjunto de datos de triples correctos Tiempo por consulta Consultas ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Tabla 2: Resumen de resultados sobre temas de CLEF.",
        "La Tabla 1 ilustra algunos de los temas, y la Tabla 2 resume los resultados obtenidos.",
        "Las tablas muestran que la técnica propuesta maneja adecuadamente la mayoría de estas consultas.",
        "Una inspección manual de los conceptos de la ontología que se devolvieron para cada caso también reveló que el término \"where\" estaba siendo correctamente desambiguado.",
        "Ten en cuenta que la ontología TGN de hecho añadió cierta ambigüedad, ya que por ejemplo nombres como Madrid pueden corresponder a muchos lugares diferentes alrededor del mundo.",
        "También hay que tener en cuenta que algunos de los temas considerados son muy difíciles de manejar para un sistema automatizado.",
        "Algunos de ellos eran ambiguos (por ejemplo, en las importaciones de arroz japonés, la consulta puede referirse tanto a las importaciones de arroz en Japón como a las importaciones de arroz japonés), y otros no contenían referencias geográficas directas (por ejemplo, ciudades cerca de volcanes activos).",
        "Además de estos casos muy difíciles, también nos faltaron algunos temas debido a su uso de adjetivos de lugar y regiones específicas que no están definidas en las ontologías (por ejemplo, preocupaciones ambientales en torno a los Trossachs escoceses).",
        "En un segundo experimento, utilizamos una muestra de alrededor de 100,000 consultas reales en motores de búsqueda.",
        "El objetivo era ver si un número significativo de estas consultas eran de naturaleza geográfica, también comprobando si el algoritmo no cometía muchos errores al clasificar una consulta como geográfica cuando no era el caso.",
        "La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un motor de búsqueda web portugués disponible en www.tumba.pt.",
        "La Tabla 3 resume los resultados obtenidos.",
        "Muchas consultas eran de hecho geográficas (alrededor del 3.4%, aunque estudios previos reportaron valores superiores al 14% [8]).",
        "Una inspección manual mostró que el algoritmo no produjo muchos falsos positivos, y las consultas geográficas fueron divididas correctamente en triples < qué, relación, dónde > correctos.",
        "Los pocos errores que encontramos estaban relacionados con nombres de lugares que se utilizaban con más frecuencia en otros contextos (por ejemplo, en Teófilo Braga tenemos el problema de que Braga es un distrito portugués, y Teófilo Braga fue un conocido escritor y político portugués).",
        "La adición de más nombres a la lista de excepciones puede proporcionar una solución alternativa para la mayoría de estos casos.",
        "Valor Num.",
        "Consultas 110,916 Num.",
        "Consultas sin Referencias Geográficas 107,159 (96.6%) Núm.",
        "Consultas con Referencias Geográficas 3,757 (3.4%) Tabla 3: Resultados de un experimento con registros de motores de búsqueda.",
        "También probamos el procedimiento para detectar consultas que son implícitamente geográficas con una pequeña muestra de consultas de los registros.",
        "Por ejemplo, para la consulta Estádio do Dragão (por ejemplo, estadio local de un equipo de fútbol de Oporto), el contexto geográfico correcto se puede descubrir a partir del análisis de los resultados (más del 75% de los 20 resultados principales están asignados al ámbito de Oporto).",
        "Para trabajos futuros, planeamos utilizar una colección más grande de consultas para evaluar este aspecto.",
        "Además de las consultas de los registros del motor de búsqueda, también planeamos utilizar los nombres de edificios, monumentos y otros lugares emblemáticos conocidos, ya que tienen una fuerte connotación geográfica.",
        "Finalmente, también realizamos un experimento comparativo con 2 geocodificadores populares, Maporama y Microsoft's Mappoint.",
        "El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una referencia de lugar.",
        "Parroquias civiles del mapa de Lisboa de Maporama Mappoint Nuestros códigos de referencia (de 53) 9 (16,9%) 30 (56,6%) 15 (28,3%) Prom.",
        "Tiempo por referencia (mseg) 506.23 1235.87 143.43 Parroquias civiles del mapa de Porto Maporama Mappoint Nuestros refs. codificados (de 15) 0 (0%) 2 (13,3%) 5 (33,3%) Prom.",
        "Tiempo por referencia (mseg) 514.45 991.88 132.14 Tabla 4: Resultados de una comparación con servicios de geocodificación.",
        "La ontología portuguesa fue utilizada en este experimento, tomando como entrada los nombres de las parroquias civiles de los municipios portugueses de Lisboa y Oporto, y comprobando si los sistemas fueron capaces de desambiguar el nombre completo (por ejemplo,",
        "Campo Grande, Lisboa o Foz do Douro, Oporto) en el geocódigo correcto.",
        "Específicamente medimos si nuestro enfoque era mejor para devolver de manera inequívoca geocódigos dados los lugares de referencia (es decir, devolver el único código correcto) y proporcionar resultados rápidamente.",
        "La Tabla 4 muestra los resultados obtenidos, y la precisión de nuestro método parece comparable a la de los geocodificadores comerciales.",
        "Ten en cuenta que para Maporama y Mappoint, los tiempos indicados en la Tabla 4 incluyen la obtención de resultados de la Web, pero no tenemos una forma directa de acceder a los algoritmos de geocodificación (en ambos casos, la obtención de contenido estático de los servidores web toma alrededor de 125 milisegundos).",
        "Aunque nuestro enfoque no puede devolver de manera inequívoca el geocódigo correcto en la mayoría de los casos (solo 20 de un total de 68 casos), no obstante devuelve resultados que un usuario humano puede desambiguar (por ejemplo, para Madalena, Lisboa devolvemos tanto una calle como una freguesía), a diferencia de otros sistemas que a menudo no producían resultados.",
        "Además, si consideramos el geocódigo superior según el procedimiento de clasificación descrito en la Sección 3.1, o si utilizamos un calificador de tipo en el nombre (por ejemplo, freguesía de Campo Grande, Lisboa), nuestro algoritmo siempre devuelve el geocódigo correcto. 5.",
        "CONCLUSIONES Este artículo presentó enfoques simples para manejar referencias de lugares en consultas de motores de búsqueda.",
        "Este es un problema difícil de minería de texto, ya que las consultas suelen ser ambiguas o no especifican adecuadamente las necesidades de información.",
        "Sin embargo, nuestros experimentos iniciales indican que para muchas consultas, los lugares referenciados pueden ser determinados de manera efectiva.",
        "A diferencia de las técnicas propuestas por Wang et al. [17], nos enfocamos principalmente en reconocer relaciones espaciales y asociar nombres de lugares a conceptos de ontología.",
        "Las técnicas propuestas fueron empleadas en el sistema prototipo que utilizamos para participar en GeoCLEF 2006.",
        "En consultas donde no se menciona explícitamente una referencia geográfica, proponemos utilizar los resultados de la consulta, aprovechando los ámbitos geográficos asignados previamente a estos documentos.",
        "En el futuro, planeamos realizar una evaluación cuidadosa de este último enfoque.",
        "Otra idea que nos gustaría probar implica la integración de un mecanismo de corrección ortográfica [12] en el Algoritmo 1, de modo que las referencias de lugares con errores ortográficos puedan ser relacionadas con conceptos de la ontología.",
        "Las técnicas propuestas para manejar consultas geográficas pueden tener muchas aplicaciones en la mejora de los sistemas de recuperación de información geográfica o incluso en los motores de búsqueda de propósito general.",
        "Después de que las referencias de lugar se hayan desambiguado adecuadamente en conceptos de ontología, un sistema GIR puede utilizarlas para recuperar resultados relevantes, a través del uso de estructuras de índices apropiadas (por ejemplo, indexando las coordenadas espaciales asociadas con los conceptos de ontología) y siempre que los documentos también estén asignados a ámbitos correspondientes a los conceptos de ontología.",
        "Una estrategia GIR diferente puede implicar la expansión de consultas, tomando los términos de ubicación de la consulta y utilizando la ontología para agregar nombres de ubicaciones vecinas.",
        "En un motor de búsqueda de propósito general, si se detecta una consulta local, podemos redirigir a los usuarios a un sistema GIR, que debería ser más adecuado para manejar correctamente la consulta.",
        "La interfaz de búsqueda regular de Google ya hace esto, presentando un enlace a Google Local cuando detecta una consulta geográfica.",
        "REFERENCIAS [1] E. Amitay, N. HarEl, R. Sivan y A. Soffer.",
        "Web-a-Where: Geolocalización de contenido web.",
        "En Actas de SIGIR-04, la 27ª Conferencia sobre investigación y desarrollo en recuperación de información, 2004. [2] M. Chaves, M. J. Silva y B. Martins.",
        "Una Base de Conocimiento Geográfico para Aplicaciones de la Web Semántica.",
        "En las Actas de SBBD-05, el 20º Simposio Brasileño de Bases de Datos, 2005. [3] N. A. Chinchor.",
        "Resumen de MUC-7/MET-2.",
        "En las Actas de MUC-7, la 7ª Conferencia de Comprensión de Mensajes, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho y P. Clough.",
        "GeoCLEF: la pista de recuperación de información geográfica en varios idiomas de CLEF 2005.",
        "En Notas de Trabajo para el Taller CLEF 2005, 2005. [5] L. Gravano, V. Hatzivassiloglou y R. Lichtenstein.",
        "Clasificación de consultas web según la localidad geográfica.",
        "En las Actas de CIKM-03, la 12ª Conferencia sobre Gestión de la Información y el Conocimiento, 2003. [6] P. Harpring.",
        "Palabras adecuadas en lugares adecuados: El tesauro de nombres geográficos.",
        "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, y R. Weibel.",
        "Recuperación de información espacial y ontologías geográficas: Una visión general del proyecto SPIRIT.",
        "En Actas de SIGIR-02, la 25ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2002. [8] J. Kohler.",
        "Analizando las consultas de motores de búsqueda para el uso de términos geográficos, 2003. (Tesis de maestría). [9] A. Kornai y B. Sundheim, editores.",
        "Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [10] Y. Li, Z. Zheng y H. Dai.",
        "Informe de la KDD CUP-2005: Enfrentando un gran desafío.",
        "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard y H. Cunningham.",
        "Experimentos con conocimiento geográfico para extracción de información.",
        "En Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [12] B. Martins y M. J. Silva.",
        "Corrección ortográfica para consultas en motores de búsqueda.",
        "En Actas de EsTAL-04, España para el Procesamiento del Lenguaje Natural, 2004. [13] B. Martins y M. J. Silva.",
        "Un algoritmo de clasificación de gráficos para georreferenciar documentos.",
        "En las Actas de ICDM-05, la 5ta Conferencia Internacional de Minería de Datos de IEEE, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni y A. Laender.",
        "El papel de los gaceteros en el descubrimiento del conocimiento geográfico en la web.",
        "En las Actas de LA-Web-05, el 3er Congreso Web Latinoamericano, 2005. [15] E. Tjong, K. Sang y F. D. Meulder.",
        "Introducción a la tarea compartida CoNLL-2003: Reconocimiento de Entidades Nombradas Independiente del Idioma.",
        "En las Actas de CoNLL-2003, la 7ª Conferencia sobre Aprendizaje de Lenguaje Natural, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges y T. Scheffer.",
        "Clasificando consultas de motores de búsqueda utilizando la Web como conocimiento de fondo.",
        "Boletín de Exploraciones SIGKDD, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
        "Ma, y Y. Li.",
        "Detectando ubicaciones dominantes a partir de consultas de búsqueda.",
        "En las Actas de SIGIR-05, la 28ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2005."
    ],
    "error_count": 7,
    "keys": {
        "geographical information retrieval": {
            "translated_key": "recuperación de información geográfica",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of <br>geographical information retrieval</br>.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of <br>geographical information retrieval</br> (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these <br>geographical information retrieval</br> (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in <br>geographical information retrieval</br> systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of <br>geographical information retrieval</br>.",
                "One of the concerns of <br>geographical information retrieval</br> (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these <br>geographical information retrieval</br> (GIR) systems [4, 7].",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in <br>geographical information retrieval</br> systems. 1."
            ],
            "translated_annotated_samples": [
                "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la <br>recuperación de información geográfica</br>.",
                "Una de las preocupaciones de la <br>recuperación de información geográfica</br> (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario.",
                "La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de <br>recuperación de información geográfica</br> (GIR) [4, 7].",
                "Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de <br>Recuperación de Información Geográfica</br>. 1."
            ],
            "translated_text": "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la <br>recuperación de información geográfica</br>. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la <br>recuperación de información geográfica</br> (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica). Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de <br>recuperación de información geográfica</br> (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10]. Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas. Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico. Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5]. Definieron una consulta como local si sus mejores coincidencias en un motor de búsqueda web probablemente sean páginas locales, como casas en venta. Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda. Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja. El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés. Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17]. El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda. En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una ontología geográfica. Nuestro enfoque busca relaciones espaciales en la cadena de consulta, y también asocia las referencias de lugar a conceptos de ontología. En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales. Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones. La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas. Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada. En lugar de calcular coordenadas para una referencia de lugar dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes. Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación. La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan. Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación. Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la consulta de búsqueda. Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta. Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA. Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja consultas implícitas de ubicación. Además, Google Local no tiene en cuenta las relaciones espaciales. En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado. En este documento, explicamos las soluciones propuestas para los problemas identificados. 3. MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde. Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado. En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología. Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios. Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de <br>Recuperación de Información Geográfica</br>. 1. La entrada al sistema es una cadena de consulta textual. Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\". El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles. Aunque no es necesario separar la cadena de consulta en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3. La entrada al sistema se proporciona a través de una cadena de consulta junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles). No se requiere desambiguación, por lo tanto, las técnicas descritas en este documento no tienen que ser aplicadas. Los dos primeros esquemas dependen de la desambiguación de nombres de lugares. La Figura 1 ilustra cómo proponemos manejar consultas geográficas en estos dos esquemas iniciales. Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la ontología geográfica. Proponemos hacer esto de acuerdo al pseudo-código listado en el Algoritmo 1. El algoritmo considera los casos en los que se proporciona una segunda (o incluso más de una) ubicación para calificar a una primera (por ejemplo, París, Francia. Realiza llamadas recursivas para hacer coincidir cada ubicación, y se basa en relaciones jerárquicas de partes para detectar si dos ubicaciones comparten una ruta jerárquica común. Una de las ubicaciones proporcionadas debe ser más general y la otra más específica, en el sentido de que debe existir una relación de parte entre los conceptos asociados en la ontología (ya sea directa o transitiva). La ubicación más específica es una subregión de la más general, y el algoritmo devuelve la más específica (es decir, para París, Francia, el algoritmo devuelve el concepto de ontología asociado con París, la capital de Francia). También consideramos los casos en los que se utiliza una expresión de tipo geográfico para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York). Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una ontología geográfica, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una ontología geográfica. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación. Los calificadores de tipo considerados también deben ser descritos en las ontologías (por ejemplo, cada concepto geográfico debe estar asociado a un tipo que también esté definido en la ontología, como país, distrito o ciudad). Idealmente, la referencia geográfica proporcionada por el usuario debería ser desambiguada en un único concepto de ontología. Sin embargo, esto no siempre es posible, ya que el usuario puede no proporcionar toda la información requerida (es decir, una expresión de tipo o una segunda ubicación de calificación). Por lo tanto, la salida es una lista con los posibles conceptos a los que se refiere el usuario. En un paso final, proponemos ordenar esta lista, de modo que si se requiere un solo concepto como resultado, podamos utilizar el que esté clasificado más alto. El procedimiento de clasificación refleja la probabilidad de que cada concepto sea realmente el mencionado. Proponemos clasificar conceptos de acuerdo con las siguientes heurísticas: 1. La expresión de tipo geográfico asociada con el concepto de ontología. Para el mismo nombre, es más probable que se haga referencia a un país que a una ciudad, y a su vez, es más probable que se haga referencia a una ciudad que a una calle. Número de ancestros en la ontología. Los lugares principales en la ontología tienden a ser más generales, y por lo tanto es más probable que sean referenciados en consultas de motores de búsqueda. 3. Recuento de población. Los lugares altamente poblados son más conocidos, y por lo tanto es más probable que sean referenciados en consultas. Recuentos de población de ancestros directos en la ontología. Las subregiones de lugares altamente poblados son más conocidas y también es más probable que sean referenciadas en consultas de motores de búsqueda. Frecuencia de ocurrencia en documentos web (por ejemplo, Google cuenta) para los nombres geográficos. Los nombres de lugares que ocurren con más frecuencia en documentos web también son más propensos a ser referenciados en consultas de motores de búsqueda. 6. Número de descendientes en la ontología. Los lugares que tienen más subregiones tienden a ser más generales, y por lo tanto es más probable que sean mencionados en las consultas de los motores de búsqueda. 7. Tamaño de cadena para los nombres geográficos. Los nombres cortos son más propensos a ser mencionados en las consultas de motores de búsqueda. El Algoritmo 1, junto con el procedimiento de clasificación, ya puede manejar consultas GIR donde el término \"where\" se proporciona por separado de los términos \"what\" y \"relation\". Sin embargo, si la consulta se proporciona en una sola cadena, requerimos la identificación del triple asociado < qué, relación, dónde > antes de desambiguar el término de ubicación en los conceptos de la ontología correspondiente. Esto se describe en la siguiente Sección. 3.2 Manejo de Cadenas de Consulta Única. El Algoritmo 2 proporciona el mecanismo para separar una cadena de consulta en un triple < qué, relación, dónde >. Utiliza el Algoritmo 1 para encontrar dónde se encuentra el término, desambiguándolo en un conjunto de conceptos de ontología. El algoritmo comienza tokenizando la cadena de consulta en palabras individuales, también encargándose de eliminar mayúsculas y diacríticos. Tenemos un tokenizador simple que utiliza el espacio como delimitador de palabras, pero también podríamos tener un enfoque de tokenización similar a la propuesta de Wang et al., que se basa en estadísticas de ocurrencia en la web para evitar romper colocaciones [17]. En el futuro, planeamos probar si este esquema de tokenización diferente puede mejorar los resultados. A continuación, el algoritmo prueba diferentes divisiones posibles de la consulta, construyendo los términos de qué, relación y dónde a través de concatenaciones de los tokens individuales. El término de relación se compara con una lista de valores posibles (por ejemplo, cerca, en, alrededor o al sur de), que corresponden a los operadores admitidos por el sistema GIR. Cabe destacar que también es responsabilidad del sistema GIR subyacente interpretar el significado real de las diferentes relaciones espaciales. El algoritmo 1 se utiliza para verificar si un término \"where\" constituye una referencia geográfica o no. También verificamos si la última palabra en el término pertenece a una lista de excepciones, que incluye, por ejemplo, nombres propios de personas en diferentes idiomas. Esto garantiza que una consulta como Denzel Washington sea manejada adecuadamente. Si el algoritmo tiene éxito en encontrar una relación válida y los términos correspondientes, entonces se devuelve el triple correspondiente. De lo contrario, devolvemos un triple con el término \"qué\" igual al string de consulta, y los términos de relación y ubicación establecidos como vacíos. Si toda la cadena de consulta constituye una referencia geográfica, devolvemos un triple con el término \"what\" establecido como vacío, el término \"where\" igual a la cadena de consulta, y el término de relación establecido como DEFINICIÓN (es decir, estas consultas deben ser respondidas con información sobre los lugares mencionados). El algoritmo también maneja cadenas de consulta donde se proporcionan más de una referencia geográfica, utilizando \"and\" o una preposición equivalente, junto con una llamada recursiva al Algoritmo 2. Una consulta como el comercio de diamantes en Angola y Sudáfrica es el Algoritmo 2 Obtener < qué, relación, dónde > de una cadena de consulta. Requiere: O = Una ontología geográfica. Requiere: Q = Una cadena no vacía con la consulta. 1: Q = La cadena Q después de eliminar mayúsculas y diacríticos. 2: TOKENS[0..N] = Un array de cadenas con las palabras individuales de Q. 3: N = El tamaño del array TOKENS. 4: para INDEX = 0 a N hacer 5: si INDEX = 0 entonces 6: QUÉ = Concatenación de TOKENS[0..INDEX −1] 7: ÚLTIMOQUÉ = TOKENS[INDEX −1] 8: sino 9: QUÉ = Una cadena vacía 10: ÚLTIMOQUÉ = Una cadena vacía 11: fin si 12: DÓNDE = Concatenación de TOKENS[INDEX..N] 13: RELACIÓN = Una cadena vacía 14: para INDEX2 = INDEX a N −1 hacer 15: RELACIÓN2 = Concatenación de TOKENS[INDEX..INDEX2] 16: si RELACIÓN2 es una relación geográfica válida entonces 17: DÓNDE = Concatenación de S[INDEX2 +1..N] 18: RELACIÓN = RELACIÓN2 19: fin si 20: fin para 21: si RELACIÓN = vacío Y ÚLTIMOQUÉ es una excepción entonces 22: TESTGEO = FALSO 23: sino 24: TESTGEO = VERDADERO 25: fin si 26: si TESTGEO Y Algoritmo1(DÓNDE) <> VACÍO entonces 27: si DÓNDE termina con Y ALREDEDORES entonces 28: RELACIÓN = La cadena CERCA 29: DÓNDE = La subcadena de DÓNDE con Y ALREDEDORES eliminado 30: fin si 31: si QUÉ termina con Y o similar entonces 32: < QUÉ, RELACIÓN, DÓNDE2 > = Algoritmo2(QUÉ) 33: DÓNDE = Concatenación de DÓNDE con DÓNDE2 34: fin si 35: si RELACIÓN = Una cadena vacía entonces 36: si QUÉ = Una cadena vacía entonces 37: RELACIÓN = La cadena DEFINICIÓN 38: sino 39: RELACIÓN = La cadena CONTENIDO-EN 40: fin si 41: fin si 42: sino 43: QUÉ = La cadena Q 44: DÓNDE = Una cadena vacía 45: RELACIÓN = Una cadena vacía 46: fin si 47: fin para 48: retornar < QUÉ, RELACIÓN, DÓNDE > por lo tanto manejado adecuadamente. Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una referencia de lugar. Sin embargo, el hecho de que una consulta pueda estar asociada con un contexto geográfico puede que no sea directamente observable en la consulta en sí, sino más bien a partir de los resultados devueltos. Por ejemplo, consultas como hoteles recomendados para SIGIR 2006 o alojamiento para SeaFair 2006 pueden referirse a la ciudad de Seattle. Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle. En los casos en los que una consulta no contiene referencias de lugar, comenzamos asumiendo que los resultados principales de un motor de búsqueda representan el contexto y uso más popular y correcto para la consulta. Propongo utilizar las características de distribución de los ámbitos geográficos previamente asignados a los documentos correspondientes a estos principales resultados. En un trabajo previo, presentamos un enfoque de minería de texto para asignar documentos con alcances geográficos correspondientes, definidos en una ontología, que funcionaba como una etapa de preprocesamiento sin conexión en un sistema GIR [13]. Este paso de preprocesamiento es una etapa fundamental de GIR, y es razonable asumir que este tipo de información estaría disponible en cualquier sistema. De manera similar a Wang et al., también podríamos intentar procesar los resultados en línea, con el fin de detectar referencias de lugares en los documentos [17]. Sin embargo, un sistema GIR ya requiere la etapa fuera de línea. Para los N documentos principales dados en los resultados, verificamos los alcances geográficos que les fueron asignados. Si una parte significativa de los resultados se asigna al mismo ámbito, entonces la consulta puede considerarse relacionada con el concepto geográfico correspondiente. Esta suposición incluso podría ser relajada, por ejemplo, verificando si los documentos pertenecen a ámbitos que están jerárquicamente relacionados. 4. EXPERIMENTOS DE EVALUACIÓN Utilizamos tres ontologías diferentes en experimentos de evaluación, a saber, el tesauro de nombres geográficos de Getty (TGN) [6] y dos recursos específicos desarrollados en nuestro grupo, aquí referidos como las ontologías PT y ML [2]. TGN y ML incluyen información geográfica global en varios idiomas (aunque TGN es considerablemente más grande), mientras que la ontología PT se centra en el territorio portugués con un alto nivel de detalle. Los tipos de lugares también son diferentes entre ontologías, por ejemplo, PT incluye nombres de calles y direcciones postales, mientras que ML solo llega al nivel de ciudades. El lector debe consultar [2, 6] para obtener una descripción completa de estos recursos. Nuestros experimentos iniciales utilizaron temas en portugués e inglés de las campañas de evaluación GeoCLEF 2005 y 2006. Los temas en GeoCLEF corresponden a cadenas de consulta que pueden ser utilizadas como entrada a un sistema GIR [4]. ImageCLEF 2006 también incluyó temas que especificaban referencias de lugar, y se alentó a los participantes a ejecutar sus sistemas GIR en ellos. Nuestros experimentos también consideraron este conjunto de datos. Para cada tema, medimos si el Algoritmo 2 fue capaz de encontrar el triple correspondiente < qué, relación, dónde >. Las ontologías utilizadas en este experimento fueron TGN y ML, ya que los temas se presentaron en varios idiomas y abarcaron todo el mundo. Número de conjunto de datos de triples correctos Tiempo por consulta Consultas ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Tabla 2: Resumen de resultados sobre temas de CLEF. La Tabla 1 ilustra algunos de los temas, y la Tabla 2 resume los resultados obtenidos. Las tablas muestran que la técnica propuesta maneja adecuadamente la mayoría de estas consultas. Una inspección manual de los conceptos de la ontología que se devolvieron para cada caso también reveló que el término \"where\" estaba siendo correctamente desambiguado. Ten en cuenta que la ontología TGN de hecho añadió cierta ambigüedad, ya que por ejemplo nombres como Madrid pueden corresponder a muchos lugares diferentes alrededor del mundo. También hay que tener en cuenta que algunos de los temas considerados son muy difíciles de manejar para un sistema automatizado. Algunos de ellos eran ambiguos (por ejemplo, en las importaciones de arroz japonés, la consulta puede referirse tanto a las importaciones de arroz en Japón como a las importaciones de arroz japonés), y otros no contenían referencias geográficas directas (por ejemplo, ciudades cerca de volcanes activos). Además de estos casos muy difíciles, también nos faltaron algunos temas debido a su uso de adjetivos de lugar y regiones específicas que no están definidas en las ontologías (por ejemplo, preocupaciones ambientales en torno a los Trossachs escoceses). En un segundo experimento, utilizamos una muestra de alrededor de 100,000 consultas reales en motores de búsqueda. El objetivo era ver si un número significativo de estas consultas eran de naturaleza geográfica, también comprobando si el algoritmo no cometía muchos errores al clasificar una consulta como geográfica cuando no era el caso. La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un motor de búsqueda web portugués disponible en www.tumba.pt. La Tabla 3 resume los resultados obtenidos. Muchas consultas eran de hecho geográficas (alrededor del 3.4%, aunque estudios previos reportaron valores superiores al 14% [8]). Una inspección manual mostró que el algoritmo no produjo muchos falsos positivos, y las consultas geográficas fueron divididas correctamente en triples < qué, relación, dónde > correctos. Los pocos errores que encontramos estaban relacionados con nombres de lugares que se utilizaban con más frecuencia en otros contextos (por ejemplo, en Teófilo Braga tenemos el problema de que Braga es un distrito portugués, y Teófilo Braga fue un conocido escritor y político portugués). La adición de más nombres a la lista de excepciones puede proporcionar una solución alternativa para la mayoría de estos casos. Valor Num. Consultas 110,916 Num. Consultas sin Referencias Geográficas 107,159 (96.6%) Núm. Consultas con Referencias Geográficas 3,757 (3.4%) Tabla 3: Resultados de un experimento con registros de motores de búsqueda. También probamos el procedimiento para detectar consultas que son implícitamente geográficas con una pequeña muestra de consultas de los registros. Por ejemplo, para la consulta Estádio do Dragão (por ejemplo, estadio local de un equipo de fútbol de Oporto), el contexto geográfico correcto se puede descubrir a partir del análisis de los resultados (más del 75% de los 20 resultados principales están asignados al ámbito de Oporto). Para trabajos futuros, planeamos utilizar una colección más grande de consultas para evaluar este aspecto. Además de las consultas de los registros del motor de búsqueda, también planeamos utilizar los nombres de edificios, monumentos y otros lugares emblemáticos conocidos, ya que tienen una fuerte connotación geográfica. Finalmente, también realizamos un experimento comparativo con 2 geocodificadores populares, Maporama y Microsoft's Mappoint. El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una referencia de lugar. Parroquias civiles del mapa de Lisboa de Maporama Mappoint Nuestros códigos de referencia (de 53) 9 (16,9%) 30 (56,6%) 15 (28,3%) Prom. Tiempo por referencia (mseg) 506.23 1235.87 143.43 Parroquias civiles del mapa de Porto Maporama Mappoint Nuestros refs. codificados (de 15) 0 (0%) 2 (13,3%) 5 (33,3%) Prom. Tiempo por referencia (mseg) 514.45 991.88 132.14 Tabla 4: Resultados de una comparación con servicios de geocodificación. La ontología portuguesa fue utilizada en este experimento, tomando como entrada los nombres de las parroquias civiles de los municipios portugueses de Lisboa y Oporto, y comprobando si los sistemas fueron capaces de desambiguar el nombre completo (por ejemplo, Campo Grande, Lisboa o Foz do Douro, Oporto) en el geocódigo correcto. Específicamente medimos si nuestro enfoque era mejor para devolver de manera inequívoca geocódigos dados los lugares de referencia (es decir, devolver el único código correcto) y proporcionar resultados rápidamente. La Tabla 4 muestra los resultados obtenidos, y la precisión de nuestro método parece comparable a la de los geocodificadores comerciales. Ten en cuenta que para Maporama y Mappoint, los tiempos indicados en la Tabla 4 incluyen la obtención de resultados de la Web, pero no tenemos una forma directa de acceder a los algoritmos de geocodificación (en ambos casos, la obtención de contenido estático de los servidores web toma alrededor de 125 milisegundos). Aunque nuestro enfoque no puede devolver de manera inequívoca el geocódigo correcto en la mayoría de los casos (solo 20 de un total de 68 casos), no obstante devuelve resultados que un usuario humano puede desambiguar (por ejemplo, para Madalena, Lisboa devolvemos tanto una calle como una freguesía), a diferencia de otros sistemas que a menudo no producían resultados. Además, si consideramos el geocódigo superior según el procedimiento de clasificación descrito en la Sección 3.1, o si utilizamos un calificador de tipo en el nombre (por ejemplo, freguesía de Campo Grande, Lisboa), nuestro algoritmo siempre devuelve el geocódigo correcto. 5. CONCLUSIONES Este artículo presentó enfoques simples para manejar referencias de lugares en consultas de motores de búsqueda. Este es un problema difícil de minería de texto, ya que las consultas suelen ser ambiguas o no especifican adecuadamente las necesidades de información. Sin embargo, nuestros experimentos iniciales indican que para muchas consultas, los lugares referenciados pueden ser determinados de manera efectiva. A diferencia de las técnicas propuestas por Wang et al. [17], nos enfocamos principalmente en reconocer relaciones espaciales y asociar nombres de lugares a conceptos de ontología. Las técnicas propuestas fueron empleadas en el sistema prototipo que utilizamos para participar en GeoCLEF 2006. En consultas donde no se menciona explícitamente una referencia geográfica, proponemos utilizar los resultados de la consulta, aprovechando los ámbitos geográficos asignados previamente a estos documentos. En el futuro, planeamos realizar una evaluación cuidadosa de este último enfoque. Otra idea que nos gustaría probar implica la integración de un mecanismo de corrección ortográfica [12] en el Algoritmo 1, de modo que las referencias de lugares con errores ortográficos puedan ser relacionadas con conceptos de la ontología. Las técnicas propuestas para manejar consultas geográficas pueden tener muchas aplicaciones en la mejora de los sistemas de recuperación de información geográfica o incluso en los motores de búsqueda de propósito general. Después de que las referencias de lugar se hayan desambiguado adecuadamente en conceptos de ontología, un sistema GIR puede utilizarlas para recuperar resultados relevantes, a través del uso de estructuras de índices apropiadas (por ejemplo, indexando las coordenadas espaciales asociadas con los conceptos de ontología) y siempre que los documentos también estén asignados a ámbitos correspondientes a los conceptos de ontología. Una estrategia GIR diferente puede implicar la expansión de consultas, tomando los términos de ubicación de la consulta y utilizando la ontología para agregar nombres de ubicaciones vecinas. En un motor de búsqueda de propósito general, si se detecta una consulta local, podemos redirigir a los usuarios a un sistema GIR, que debería ser más adecuado para manejar correctamente la consulta. La interfaz de búsqueda regular de Google ya hace esto, presentando un enlace a Google Local cuando detecta una consulta geográfica. REFERENCIAS [1] E. Amitay, N. HarEl, R. Sivan y A. Soffer. Web-a-Where: Geolocalización de contenido web. En Actas de SIGIR-04, la 27ª Conferencia sobre investigación y desarrollo en recuperación de información, 2004. [2] M. Chaves, M. J. Silva y B. Martins. Una Base de Conocimiento Geográfico para Aplicaciones de la Web Semántica. En las Actas de SBBD-05, el 20º Simposio Brasileño de Bases de Datos, 2005. [3] N. A. Chinchor. Resumen de MUC-7/MET-2. En las Actas de MUC-7, la 7ª Conferencia de Comprensión de Mensajes, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho y P. Clough. GeoCLEF: la pista de recuperación de información geográfica en varios idiomas de CLEF 2005. En Notas de Trabajo para el Taller CLEF 2005, 2005. [5] L. Gravano, V. Hatzivassiloglou y R. Lichtenstein. Clasificación de consultas web según la localidad geográfica. En las Actas de CIKM-03, la 12ª Conferencia sobre Gestión de la Información y el Conocimiento, 2003. [6] P. Harpring. Palabras adecuadas en lugares adecuados: El tesauro de nombres geográficos. MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, y R. Weibel. Recuperación de información espacial y ontologías geográficas: Una visión general del proyecto SPIRIT. En Actas de SIGIR-02, la 25ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2002. [8] J. Kohler. Analizando las consultas de motores de búsqueda para el uso de términos geográficos, 2003. (Tesis de maestría). [9] A. Kornai y B. Sundheim, editores. Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [10] Y. Li, Z. Zheng y H. Dai. Informe de la KDD CUP-2005: Enfrentando un gran desafío. SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard y H. Cunningham. Experimentos con conocimiento geográfico para extracción de información. En Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [12] B. Martins y M. J. Silva. Corrección ortográfica para consultas en motores de búsqueda. En Actas de EsTAL-04, España para el Procesamiento del Lenguaje Natural, 2004. [13] B. Martins y M. J. Silva. Un algoritmo de clasificación de gráficos para georreferenciar documentos. En las Actas de ICDM-05, la 5ta Conferencia Internacional de Minería de Datos de IEEE, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni y A. Laender. El papel de los gaceteros en el descubrimiento del conocimiento geográfico en la web. En las Actas de LA-Web-05, el 3er Congreso Web Latinoamericano, 2005. [15] E. Tjong, K. Sang y F. D. Meulder. Introducción a la tarea compartida CoNLL-2003: Reconocimiento de Entidades Nombradas Independiente del Idioma. En las Actas de CoNLL-2003, la 7ª Conferencia sobre Aprendizaje de Lenguaje Natural, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges y T. Scheffer. Clasificando consultas de motores de búsqueda utilizando la Web como conocimiento de fondo. Boletín de Exploraciones SIGKDD, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y. Ma, y Y. Li. Detectando ubicaciones dominantes a partir de consultas de búsqueda. En las Actas de SIGIR-05, la 28ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2005. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "search engine queries": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in <br>search engine queries</br>, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real <br>search engine queries</br>, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in <br>search engine queries</br> is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over <br>search engine queries</br> include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over <br>search engine queries</br> [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using <br>search engine queries</br>.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in <br>search engine queries</br>. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in <br>search engine queries</br>. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in <br>search engine queries</br>. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in <br>search engine queries</br>. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in <br>search engine queries</br>.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real <br>search engine queries</br>.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in <br>search engine queries</br>.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing <br>search engine queries</br> for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for <br>search engine queries</br>.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying <br>search engine queries</br> using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in <br>search engine queries</br>, an important aspect of geographical information retrieval.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real <br>search engine queries</br>, show the effectiveness of the proposed approaches.",
                "Accurately and effectively detecting location references in <br>search engine queries</br> is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Key challenges in handling locations over <br>search engine queries</br> include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Previous studies have also addressed the use of text mining and automated classification techniques over <br>search engine queries</br> [16, 10]."
            ],
            "translated_annotated_samples": [
                "Manejo de ubicaciones en <br>consultas de motores de búsqueda</br> Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en <br>consultas de motores de búsqueda</br>, un aspecto importante de la recuperación de información geográfica.",
                "Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos.",
                "Detectar con precisión y eficacia las referencias de ubicación en las <br>consultas de los motores de búsqueda</br> es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás.",
                "Los principales desafíos en el manejo de ubicaciones en <br>consultas de motores de búsqueda</br> incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica).",
                "Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre <br>consultas en motores de búsqueda</br> [16, 10]."
            ],
            "translated_text": "Manejo de ubicaciones en <br>consultas de motores de búsqueda</br> Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en <br>consultas de motores de búsqueda</br>, un aspecto importante de la recuperación de información geográfica. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las <br>consultas de los motores de búsqueda</br> es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en <br>consultas de motores de búsqueda</br> incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica). Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre <br>consultas en motores de búsqueda</br> [16, 10]. ",
            "candidates": [],
            "error": [
                [
                    "consultas de motores de búsqueda",
                    "consultas de motores de búsqueda",
                    "consultas de los motores de búsqueda",
                    "consultas de motores de búsqueda",
                    "consultas en motores de búsqueda"
                ]
            ]
        },
        "geographic context": {
            "translated_key": "contexto geográfico",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of <br>geographic context</br> are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [
                "Systems that access resources on the basis of <br>geographic context</br> are starting to appear, both in the academic and commercial domains [4, 7]."
            ],
            "translated_annotated_samples": [
                "Los sistemas que acceden a recursos en función del <br>contexto geográfico</br> están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]."
            ],
            "translated_text": "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la recuperación de información geográfica. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del <br>contexto geográfico</br> están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica). Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10]. Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas. Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico. Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5]. Definieron una consulta como local si sus mejores coincidencias en un motor de búsqueda web probablemente sean páginas locales, como casas en venta. Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda. Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja. El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés. Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17]. El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda. En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una ontología geográfica. Nuestro enfoque busca relaciones espaciales en la cadena de consulta, y también asocia las referencias de lugar a conceptos de ontología. En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales. Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones. La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas. Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada. En lugar de calcular coordenadas para una referencia de lugar dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes. Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación. La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan. Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación. Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la consulta de búsqueda. Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta. Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA. Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja consultas implícitas de ubicación. Además, Google Local no tiene en cuenta las relaciones espaciales. En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado. En este documento, explicamos las soluciones propuestas para los problemas identificados. 3. MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde. Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado. En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología. Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios. Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de Recuperación de Información Geográfica. 1. La entrada al sistema es una cadena de consulta textual. Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\". El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles. Aunque no es necesario separar la cadena de consulta en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3. La entrada al sistema se proporciona a través de una cadena de consulta junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles). No se requiere desambiguación, por lo tanto, las técnicas descritas en este documento no tienen que ser aplicadas. Los dos primeros esquemas dependen de la desambiguación de nombres de lugares. La Figura 1 ilustra cómo proponemos manejar consultas geográficas en estos dos esquemas iniciales. Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la ontología geográfica. Proponemos hacer esto de acuerdo al pseudo-código listado en el Algoritmo 1. El algoritmo considera los casos en los que se proporciona una segunda (o incluso más de una) ubicación para calificar a una primera (por ejemplo, París, Francia. Realiza llamadas recursivas para hacer coincidir cada ubicación, y se basa en relaciones jerárquicas de partes para detectar si dos ubicaciones comparten una ruta jerárquica común. Una de las ubicaciones proporcionadas debe ser más general y la otra más específica, en el sentido de que debe existir una relación de parte entre los conceptos asociados en la ontología (ya sea directa o transitiva). La ubicación más específica es una subregión de la más general, y el algoritmo devuelve la más específica (es decir, para París, Francia, el algoritmo devuelve el concepto de ontología asociado con París, la capital de Francia). También consideramos los casos en los que se utiliza una expresión de tipo geográfico para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York). Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una ontología geográfica, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una ontología geográfica. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación. Los calificadores de tipo considerados también deben ser descritos en las ontologías (por ejemplo, cada concepto geográfico debe estar asociado a un tipo que también esté definido en la ontología, como país, distrito o ciudad). Idealmente, la referencia geográfica proporcionada por el usuario debería ser desambiguada en un único concepto de ontología. Sin embargo, esto no siempre es posible, ya que el usuario puede no proporcionar toda la información requerida (es decir, una expresión de tipo o una segunda ubicación de calificación). Por lo tanto, la salida es una lista con los posibles conceptos a los que se refiere el usuario. En un paso final, proponemos ordenar esta lista, de modo que si se requiere un solo concepto como resultado, podamos utilizar el que esté clasificado más alto. El procedimiento de clasificación refleja la probabilidad de que cada concepto sea realmente el mencionado. Proponemos clasificar conceptos de acuerdo con las siguientes heurísticas: 1. La expresión de tipo geográfico asociada con el concepto de ontología. Para el mismo nombre, es más probable que se haga referencia a un país que a una ciudad, y a su vez, es más probable que se haga referencia a una ciudad que a una calle. Número de ancestros en la ontología. Los lugares principales en la ontología tienden a ser más generales, y por lo tanto es más probable que sean referenciados en consultas de motores de búsqueda. 3. Recuento de población. Los lugares altamente poblados son más conocidos, y por lo tanto es más probable que sean referenciados en consultas. Recuentos de población de ancestros directos en la ontología. Las subregiones de lugares altamente poblados son más conocidas y también es más probable que sean referenciadas en consultas de motores de búsqueda. Frecuencia de ocurrencia en documentos web (por ejemplo, Google cuenta) para los nombres geográficos. Los nombres de lugares que ocurren con más frecuencia en documentos web también son más propensos a ser referenciados en consultas de motores de búsqueda. 6. Número de descendientes en la ontología. Los lugares que tienen más subregiones tienden a ser más generales, y por lo tanto es más probable que sean mencionados en las consultas de los motores de búsqueda. 7. Tamaño de cadena para los nombres geográficos. Los nombres cortos son más propensos a ser mencionados en las consultas de motores de búsqueda. El Algoritmo 1, junto con el procedimiento de clasificación, ya puede manejar consultas GIR donde el término \"where\" se proporciona por separado de los términos \"what\" y \"relation\". Sin embargo, si la consulta se proporciona en una sola cadena, requerimos la identificación del triple asociado < qué, relación, dónde > antes de desambiguar el término de ubicación en los conceptos de la ontología correspondiente. Esto se describe en la siguiente Sección. 3.2 Manejo de Cadenas de Consulta Única. El Algoritmo 2 proporciona el mecanismo para separar una cadena de consulta en un triple < qué, relación, dónde >. Utiliza el Algoritmo 1 para encontrar dónde se encuentra el término, desambiguándolo en un conjunto de conceptos de ontología. El algoritmo comienza tokenizando la cadena de consulta en palabras individuales, también encargándose de eliminar mayúsculas y diacríticos. Tenemos un tokenizador simple que utiliza el espacio como delimitador de palabras, pero también podríamos tener un enfoque de tokenización similar a la propuesta de Wang et al., que se basa en estadísticas de ocurrencia en la web para evitar romper colocaciones [17]. En el futuro, planeamos probar si este esquema de tokenización diferente puede mejorar los resultados. A continuación, el algoritmo prueba diferentes divisiones posibles de la consulta, construyendo los términos de qué, relación y dónde a través de concatenaciones de los tokens individuales. El término de relación se compara con una lista de valores posibles (por ejemplo, cerca, en, alrededor o al sur de), que corresponden a los operadores admitidos por el sistema GIR. Cabe destacar que también es responsabilidad del sistema GIR subyacente interpretar el significado real de las diferentes relaciones espaciales. El algoritmo 1 se utiliza para verificar si un término \"where\" constituye una referencia geográfica o no. También verificamos si la última palabra en el término pertenece a una lista de excepciones, que incluye, por ejemplo, nombres propios de personas en diferentes idiomas. Esto garantiza que una consulta como Denzel Washington sea manejada adecuadamente. Si el algoritmo tiene éxito en encontrar una relación válida y los términos correspondientes, entonces se devuelve el triple correspondiente. De lo contrario, devolvemos un triple con el término \"qué\" igual al string de consulta, y los términos de relación y ubicación establecidos como vacíos. Si toda la cadena de consulta constituye una referencia geográfica, devolvemos un triple con el término \"what\" establecido como vacío, el término \"where\" igual a la cadena de consulta, y el término de relación establecido como DEFINICIÓN (es decir, estas consultas deben ser respondidas con información sobre los lugares mencionados). El algoritmo también maneja cadenas de consulta donde se proporcionan más de una referencia geográfica, utilizando \"and\" o una preposición equivalente, junto con una llamada recursiva al Algoritmo 2. Una consulta como el comercio de diamantes en Angola y Sudáfrica es el Algoritmo 2 Obtener < qué, relación, dónde > de una cadena de consulta. Requiere: O = Una ontología geográfica. Requiere: Q = Una cadena no vacía con la consulta. 1: Q = La cadena Q después de eliminar mayúsculas y diacríticos. 2: TOKENS[0..N] = Un array de cadenas con las palabras individuales de Q. 3: N = El tamaño del array TOKENS. 4: para INDEX = 0 a N hacer 5: si INDEX = 0 entonces 6: QUÉ = Concatenación de TOKENS[0..INDEX −1] 7: ÚLTIMOQUÉ = TOKENS[INDEX −1] 8: sino 9: QUÉ = Una cadena vacía 10: ÚLTIMOQUÉ = Una cadena vacía 11: fin si 12: DÓNDE = Concatenación de TOKENS[INDEX..N] 13: RELACIÓN = Una cadena vacía 14: para INDEX2 = INDEX a N −1 hacer 15: RELACIÓN2 = Concatenación de TOKENS[INDEX..INDEX2] 16: si RELACIÓN2 es una relación geográfica válida entonces 17: DÓNDE = Concatenación de S[INDEX2 +1..N] 18: RELACIÓN = RELACIÓN2 19: fin si 20: fin para 21: si RELACIÓN = vacío Y ÚLTIMOQUÉ es una excepción entonces 22: TESTGEO = FALSO 23: sino 24: TESTGEO = VERDADERO 25: fin si 26: si TESTGEO Y Algoritmo1(DÓNDE) <> VACÍO entonces 27: si DÓNDE termina con Y ALREDEDORES entonces 28: RELACIÓN = La cadena CERCA 29: DÓNDE = La subcadena de DÓNDE con Y ALREDEDORES eliminado 30: fin si 31: si QUÉ termina con Y o similar entonces 32: < QUÉ, RELACIÓN, DÓNDE2 > = Algoritmo2(QUÉ) 33: DÓNDE = Concatenación de DÓNDE con DÓNDE2 34: fin si 35: si RELACIÓN = Una cadena vacía entonces 36: si QUÉ = Una cadena vacía entonces 37: RELACIÓN = La cadena DEFINICIÓN 38: sino 39: RELACIÓN = La cadena CONTENIDO-EN 40: fin si 41: fin si 42: sino 43: QUÉ = La cadena Q 44: DÓNDE = Una cadena vacía 45: RELACIÓN = Una cadena vacía 46: fin si 47: fin para 48: retornar < QUÉ, RELACIÓN, DÓNDE > por lo tanto manejado adecuadamente. Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una referencia de lugar. Sin embargo, el hecho de que una consulta pueda estar asociada con un contexto geográfico puede que no sea directamente observable en la consulta en sí, sino más bien a partir de los resultados devueltos. Por ejemplo, consultas como hoteles recomendados para SIGIR 2006 o alojamiento para SeaFair 2006 pueden referirse a la ciudad de Seattle. Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle. En los casos en los que una consulta no contiene referencias de lugar, comenzamos asumiendo que los resultados principales de un motor de búsqueda representan el contexto y uso más popular y correcto para la consulta. Propongo utilizar las características de distribución de los ámbitos geográficos previamente asignados a los documentos correspondientes a estos principales resultados. En un trabajo previo, presentamos un enfoque de minería de texto para asignar documentos con alcances geográficos correspondientes, definidos en una ontología, que funcionaba como una etapa de preprocesamiento sin conexión en un sistema GIR [13]. Este paso de preprocesamiento es una etapa fundamental de GIR, y es razonable asumir que este tipo de información estaría disponible en cualquier sistema. De manera similar a Wang et al., también podríamos intentar procesar los resultados en línea, con el fin de detectar referencias de lugares en los documentos [17]. Sin embargo, un sistema GIR ya requiere la etapa fuera de línea. Para los N documentos principales dados en los resultados, verificamos los alcances geográficos que les fueron asignados. Si una parte significativa de los resultados se asigna al mismo ámbito, entonces la consulta puede considerarse relacionada con el concepto geográfico correspondiente. Esta suposición incluso podría ser relajada, por ejemplo, verificando si los documentos pertenecen a ámbitos que están jerárquicamente relacionados. 4. EXPERIMENTOS DE EVALUACIÓN Utilizamos tres ontologías diferentes en experimentos de evaluación, a saber, el tesauro de nombres geográficos de Getty (TGN) [6] y dos recursos específicos desarrollados en nuestro grupo, aquí referidos como las ontologías PT y ML [2]. TGN y ML incluyen información geográfica global en varios idiomas (aunque TGN es considerablemente más grande), mientras que la ontología PT se centra en el territorio portugués con un alto nivel de detalle. Los tipos de lugares también son diferentes entre ontologías, por ejemplo, PT incluye nombres de calles y direcciones postales, mientras que ML solo llega al nivel de ciudades. El lector debe consultar [2, 6] para obtener una descripción completa de estos recursos. Nuestros experimentos iniciales utilizaron temas en portugués e inglés de las campañas de evaluación GeoCLEF 2005 y 2006. Los temas en GeoCLEF corresponden a cadenas de consulta que pueden ser utilizadas como entrada a un sistema GIR [4]. ImageCLEF 2006 también incluyó temas que especificaban referencias de lugar, y se alentó a los participantes a ejecutar sus sistemas GIR en ellos. Nuestros experimentos también consideraron este conjunto de datos. Para cada tema, medimos si el Algoritmo 2 fue capaz de encontrar el triple correspondiente < qué, relación, dónde >. Las ontologías utilizadas en este experimento fueron TGN y ML, ya que los temas se presentaron en varios idiomas y abarcaron todo el mundo. Número de conjunto de datos de triples correctos Tiempo por consulta Consultas ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Tabla 2: Resumen de resultados sobre temas de CLEF. La Tabla 1 ilustra algunos de los temas, y la Tabla 2 resume los resultados obtenidos. Las tablas muestran que la técnica propuesta maneja adecuadamente la mayoría de estas consultas. Una inspección manual de los conceptos de la ontología que se devolvieron para cada caso también reveló que el término \"where\" estaba siendo correctamente desambiguado. Ten en cuenta que la ontología TGN de hecho añadió cierta ambigüedad, ya que por ejemplo nombres como Madrid pueden corresponder a muchos lugares diferentes alrededor del mundo. También hay que tener en cuenta que algunos de los temas considerados son muy difíciles de manejar para un sistema automatizado. Algunos de ellos eran ambiguos (por ejemplo, en las importaciones de arroz japonés, la consulta puede referirse tanto a las importaciones de arroz en Japón como a las importaciones de arroz japonés), y otros no contenían referencias geográficas directas (por ejemplo, ciudades cerca de volcanes activos). Además de estos casos muy difíciles, también nos faltaron algunos temas debido a su uso de adjetivos de lugar y regiones específicas que no están definidas en las ontologías (por ejemplo, preocupaciones ambientales en torno a los Trossachs escoceses). En un segundo experimento, utilizamos una muestra de alrededor de 100,000 consultas reales en motores de búsqueda. El objetivo era ver si un número significativo de estas consultas eran de naturaleza geográfica, también comprobando si el algoritmo no cometía muchos errores al clasificar una consulta como geográfica cuando no era el caso. La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un motor de búsqueda web portugués disponible en www.tumba.pt. La Tabla 3 resume los resultados obtenidos. Muchas consultas eran de hecho geográficas (alrededor del 3.4%, aunque estudios previos reportaron valores superiores al 14% [8]). Una inspección manual mostró que el algoritmo no produjo muchos falsos positivos, y las consultas geográficas fueron divididas correctamente en triples < qué, relación, dónde > correctos. Los pocos errores que encontramos estaban relacionados con nombres de lugares que se utilizaban con más frecuencia en otros contextos (por ejemplo, en Teófilo Braga tenemos el problema de que Braga es un distrito portugués, y Teófilo Braga fue un conocido escritor y político portugués). La adición de más nombres a la lista de excepciones puede proporcionar una solución alternativa para la mayoría de estos casos. Valor Num. Consultas 110,916 Num. Consultas sin Referencias Geográficas 107,159 (96.6%) Núm. Consultas con Referencias Geográficas 3,757 (3.4%) Tabla 3: Resultados de un experimento con registros de motores de búsqueda. También probamos el procedimiento para detectar consultas que son implícitamente geográficas con una pequeña muestra de consultas de los registros. Por ejemplo, para la consulta Estádio do Dragão (por ejemplo, estadio local de un equipo de fútbol de Oporto), el contexto geográfico correcto se puede descubrir a partir del análisis de los resultados (más del 75% de los 20 resultados principales están asignados al ámbito de Oporto). Para trabajos futuros, planeamos utilizar una colección más grande de consultas para evaluar este aspecto. Además de las consultas de los registros del motor de búsqueda, también planeamos utilizar los nombres de edificios, monumentos y otros lugares emblemáticos conocidos, ya que tienen una fuerte connotación geográfica. Finalmente, también realizamos un experimento comparativo con 2 geocodificadores populares, Maporama y Microsoft's Mappoint. El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una referencia de lugar. Parroquias civiles del mapa de Lisboa de Maporama Mappoint Nuestros códigos de referencia (de 53) 9 (16,9%) 30 (56,6%) 15 (28,3%) Prom. Tiempo por referencia (mseg) 506.23 1235.87 143.43 Parroquias civiles del mapa de Porto Maporama Mappoint Nuestros refs. codificados (de 15) 0 (0%) 2 (13,3%) 5 (33,3%) Prom. Tiempo por referencia (mseg) 514.45 991.88 132.14 Tabla 4: Resultados de una comparación con servicios de geocodificación. La ontología portuguesa fue utilizada en este experimento, tomando como entrada los nombres de las parroquias civiles de los municipios portugueses de Lisboa y Oporto, y comprobando si los sistemas fueron capaces de desambiguar el nombre completo (por ejemplo, Campo Grande, Lisboa o Foz do Douro, Oporto) en el geocódigo correcto. Específicamente medimos si nuestro enfoque era mejor para devolver de manera inequívoca geocódigos dados los lugares de referencia (es decir, devolver el único código correcto) y proporcionar resultados rápidamente. La Tabla 4 muestra los resultados obtenidos, y la precisión de nuestro método parece comparable a la de los geocodificadores comerciales. Ten en cuenta que para Maporama y Mappoint, los tiempos indicados en la Tabla 4 incluyen la obtención de resultados de la Web, pero no tenemos una forma directa de acceder a los algoritmos de geocodificación (en ambos casos, la obtención de contenido estático de los servidores web toma alrededor de 125 milisegundos). Aunque nuestro enfoque no puede devolver de manera inequívoca el geocódigo correcto en la mayoría de los casos (solo 20 de un total de 68 casos), no obstante devuelve resultados que un usuario humano puede desambiguar (por ejemplo, para Madalena, Lisboa devolvemos tanto una calle como una freguesía), a diferencia de otros sistemas que a menudo no producían resultados. Además, si consideramos el geocódigo superior según el procedimiento de clasificación descrito en la Sección 3.1, o si utilizamos un calificador de tipo en el nombre (por ejemplo, freguesía de Campo Grande, Lisboa), nuestro algoritmo siempre devuelve el geocódigo correcto. 5. CONCLUSIONES Este artículo presentó enfoques simples para manejar referencias de lugares en consultas de motores de búsqueda. Este es un problema difícil de minería de texto, ya que las consultas suelen ser ambiguas o no especifican adecuadamente las necesidades de información. Sin embargo, nuestros experimentos iniciales indican que para muchas consultas, los lugares referenciados pueden ser determinados de manera efectiva. A diferencia de las técnicas propuestas por Wang et al. [17], nos enfocamos principalmente en reconocer relaciones espaciales y asociar nombres de lugares a conceptos de ontología. Las técnicas propuestas fueron empleadas en el sistema prototipo que utilizamos para participar en GeoCLEF 2006. En consultas donde no se menciona explícitamente una referencia geográfica, proponemos utilizar los resultados de la consulta, aprovechando los ámbitos geográficos asignados previamente a estos documentos. En el futuro, planeamos realizar una evaluación cuidadosa de este último enfoque. Otra idea que nos gustaría probar implica la integración de un mecanismo de corrección ortográfica [12] en el Algoritmo 1, de modo que las referencias de lugares con errores ortográficos puedan ser relacionadas con conceptos de la ontología. Las técnicas propuestas para manejar consultas geográficas pueden tener muchas aplicaciones en la mejora de los sistemas de recuperación de información geográfica o incluso en los motores de búsqueda de propósito general. Después de que las referencias de lugar se hayan desambiguado adecuadamente en conceptos de ontología, un sistema GIR puede utilizarlas para recuperar resultados relevantes, a través del uso de estructuras de índices apropiadas (por ejemplo, indexando las coordenadas espaciales asociadas con los conceptos de ontología) y siempre que los documentos también estén asignados a ámbitos correspondientes a los conceptos de ontología. Una estrategia GIR diferente puede implicar la expansión de consultas, tomando los términos de ubicación de la consulta y utilizando la ontología para agregar nombres de ubicaciones vecinas. En un motor de búsqueda de propósito general, si se detecta una consulta local, podemos redirigir a los usuarios a un sistema GIR, que debería ser más adecuado para manejar correctamente la consulta. La interfaz de búsqueda regular de Google ya hace esto, presentando un enlace a Google Local cuando detecta una consulta geográfica. REFERENCIAS [1] E. Amitay, N. HarEl, R. Sivan y A. Soffer. Web-a-Where: Geolocalización de contenido web. En Actas de SIGIR-04, la 27ª Conferencia sobre investigación y desarrollo en recuperación de información, 2004. [2] M. Chaves, M. J. Silva y B. Martins. Una Base de Conocimiento Geográfico para Aplicaciones de la Web Semántica. En las Actas de SBBD-05, el 20º Simposio Brasileño de Bases de Datos, 2005. [3] N. A. Chinchor. Resumen de MUC-7/MET-2. En las Actas de MUC-7, la 7ª Conferencia de Comprensión de Mensajes, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho y P. Clough. GeoCLEF: la pista de recuperación de información geográfica en varios idiomas de CLEF 2005. En Notas de Trabajo para el Taller CLEF 2005, 2005. [5] L. Gravano, V. Hatzivassiloglou y R. Lichtenstein. Clasificación de consultas web según la localidad geográfica. En las Actas de CIKM-03, la 12ª Conferencia sobre Gestión de la Información y el Conocimiento, 2003. [6] P. Harpring. Palabras adecuadas en lugares adecuados: El tesauro de nombres geográficos. MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, y R. Weibel. Recuperación de información espacial y ontologías geográficas: Una visión general del proyecto SPIRIT. En Actas de SIGIR-02, la 25ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2002. [8] J. Kohler. Analizando las consultas de motores de búsqueda para el uso de términos geográficos, 2003. (Tesis de maestría). [9] A. Kornai y B. Sundheim, editores. Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [10] Y. Li, Z. Zheng y H. Dai. Informe de la KDD CUP-2005: Enfrentando un gran desafío. SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard y H. Cunningham. Experimentos con conocimiento geográfico para extracción de información. En Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [12] B. Martins y M. J. Silva. Corrección ortográfica para consultas en motores de búsqueda. En Actas de EsTAL-04, España para el Procesamiento del Lenguaje Natural, 2004. [13] B. Martins y M. J. Silva. Un algoritmo de clasificación de gráficos para georreferenciar documentos. En las Actas de ICDM-05, la 5ta Conferencia Internacional de Minería de Datos de IEEE, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni y A. Laender. El papel de los gaceteros en el descubrimiento del conocimiento geográfico en la web. En las Actas de LA-Web-05, el 3er Congreso Web Latinoamericano, 2005. [15] E. Tjong, K. Sang y F. D. Meulder. Introducción a la tarea compartida CoNLL-2003: Reconocimiento de Entidades Nombradas Independiente del Idioma. En las Actas de CoNLL-2003, la 7ª Conferencia sobre Aprendizaje de Lenguaje Natural, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges y T. Scheffer. Clasificando consultas de motores de búsqueda utilizando la Web como conocimiento de fondo. Boletín de Exploraciones SIGKDD, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y. Ma, y Y. Li. Detectando ubicaciones dominantes a partir de consultas de búsqueda. En las Actas de SIGIR-05, la 28ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2005. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "named entity recognition algorithm": {
            "translated_key": "algoritmo de reconocimiento de entidades nombradas",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        },
        "ner": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (<br>ner</br>) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (<br>ner</br>).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "<br>ner</br> has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [
                "Simple named entity recognition (<br>ner</br>) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (<br>ner</br>).",
                "<br>ner</br> has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9]."
            ],
            "translated_annotated_samples": [
                "Los algoritmos simples de <br>reconocimiento de entidades nombradas (NER)</br>, basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar.",
                "La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse <br>Reconocimiento de Entidades Nombradas</br> (NER).",
                "La extracción de <br>entidades nombradas</br> (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]."
            ],
            "translated_text": "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la recuperación de información geográfica. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica). Los algoritmos simples de <br>reconocimiento de entidades nombradas (NER)</br>, basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse <br>Reconocimiento de Entidades Nombradas</br> (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de <br>entidades nombradas</br> (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10]. Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas. Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico. Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5]. Definieron una consulta como local si sus mejores coincidencias en un motor de búsqueda web probablemente sean páginas locales, como casas en venta. Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda. Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja. El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés. Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17]. El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda. En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una ontología geográfica. Nuestro enfoque busca relaciones espaciales en la cadena de consulta, y también asocia las referencias de lugar a conceptos de ontología. En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales. Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones. La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas. Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada. En lugar de calcular coordenadas para una referencia de lugar dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes. Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación. La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan. Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación. Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la consulta de búsqueda. Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta. Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA. Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja consultas implícitas de ubicación. Además, Google Local no tiene en cuenta las relaciones espaciales. En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado. En este documento, explicamos las soluciones propuestas para los problemas identificados. 3. MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde. Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado. En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología. Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios. Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de Recuperación de Información Geográfica. 1. La entrada al sistema es una cadena de consulta textual. Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\". El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles. Aunque no es necesario separar la cadena de consulta en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3. La entrada al sistema se proporciona a través de una cadena de consulta junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles). No se requiere desambiguación, por lo tanto, las técnicas descritas en este documento no tienen que ser aplicadas. Los dos primeros esquemas dependen de la desambiguación de nombres de lugares. La Figura 1 ilustra cómo proponemos manejar consultas geográficas en estos dos esquemas iniciales. Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la ontología geográfica. Proponemos hacer esto de acuerdo al pseudo-código listado en el Algoritmo 1. El algoritmo considera los casos en los que se proporciona una segunda (o incluso más de una) ubicación para calificar a una primera (por ejemplo, París, Francia. Realiza llamadas recursivas para hacer coincidir cada ubicación, y se basa en relaciones jerárquicas de partes para detectar si dos ubicaciones comparten una ruta jerárquica común. Una de las ubicaciones proporcionadas debe ser más general y la otra más específica, en el sentido de que debe existir una relación de parte entre los conceptos asociados en la ontología (ya sea directa o transitiva). La ubicación más específica es una subregión de la más general, y el algoritmo devuelve la más específica (es decir, para París, Francia, el algoritmo devuelve el concepto de ontología asociado con París, la capital de Francia). También consideramos los casos en los que se utiliza una expresión de tipo geográfico para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York). Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una ontología geográfica, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una ontología geográfica. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación. Los calificadores de tipo considerados también deben ser descritos en las ontologías (por ejemplo, cada concepto geográfico debe estar asociado a un tipo que también esté definido en la ontología, como país, distrito o ciudad). Idealmente, la referencia geográfica proporcionada por el usuario debería ser desambiguada en un único concepto de ontología. Sin embargo, esto no siempre es posible, ya que el usuario puede no proporcionar toda la información requerida (es decir, una expresión de tipo o una segunda ubicación de calificación). Por lo tanto, la salida es una lista con los posibles conceptos a los que se refiere el usuario. En un paso final, proponemos ordenar esta lista, de modo que si se requiere un solo concepto como resultado, podamos utilizar el que esté clasificado más alto. El procedimiento de clasificación refleja la probabilidad de que cada concepto sea realmente el mencionado. Proponemos clasificar conceptos de acuerdo con las siguientes heurísticas: 1. La expresión de tipo geográfico asociada con el concepto de ontología. Para el mismo nombre, es más probable que se haga referencia a un país que a una ciudad, y a su vez, es más probable que se haga referencia a una ciudad que a una calle. Número de ancestros en la ontología. Los lugares principales en la ontología tienden a ser más generales, y por lo tanto es más probable que sean referenciados en consultas de motores de búsqueda. 3. Recuento de población. Los lugares altamente poblados son más conocidos, y por lo tanto es más probable que sean referenciados en consultas. Recuentos de población de ancestros directos en la ontología. Las subregiones de lugares altamente poblados son más conocidas y también es más probable que sean referenciadas en consultas de motores de búsqueda. Frecuencia de ocurrencia en documentos web (por ejemplo, Google cuenta) para los nombres geográficos. Los nombres de lugares que ocurren con más frecuencia en documentos web también son más propensos a ser referenciados en consultas de motores de búsqueda. 6. Número de descendientes en la ontología. Los lugares que tienen más subregiones tienden a ser más generales, y por lo tanto es más probable que sean mencionados en las consultas de los motores de búsqueda. 7. Tamaño de cadena para los nombres geográficos. Los nombres cortos son más propensos a ser mencionados en las consultas de motores de búsqueda. El Algoritmo 1, junto con el procedimiento de clasificación, ya puede manejar consultas GIR donde el término \"where\" se proporciona por separado de los términos \"what\" y \"relation\". Sin embargo, si la consulta se proporciona en una sola cadena, requerimos la identificación del triple asociado < qué, relación, dónde > antes de desambiguar el término de ubicación en los conceptos de la ontología correspondiente. Esto se describe en la siguiente Sección. 3.2 Manejo de Cadenas de Consulta Única. El Algoritmo 2 proporciona el mecanismo para separar una cadena de consulta en un triple < qué, relación, dónde >. Utiliza el Algoritmo 1 para encontrar dónde se encuentra el término, desambiguándolo en un conjunto de conceptos de ontología. El algoritmo comienza tokenizando la cadena de consulta en palabras individuales, también encargándose de eliminar mayúsculas y diacríticos. Tenemos un tokenizador simple que utiliza el espacio como delimitador de palabras, pero también podríamos tener un enfoque de tokenización similar a la propuesta de Wang et al., que se basa en estadísticas de ocurrencia en la web para evitar romper colocaciones [17]. En el futuro, planeamos probar si este esquema de tokenización diferente puede mejorar los resultados. A continuación, el algoritmo prueba diferentes divisiones posibles de la consulta, construyendo los términos de qué, relación y dónde a través de concatenaciones de los tokens individuales. El término de relación se compara con una lista de valores posibles (por ejemplo, cerca, en, alrededor o al sur de), que corresponden a los operadores admitidos por el sistema GIR. Cabe destacar que también es responsabilidad del sistema GIR subyacente interpretar el significado real de las diferentes relaciones espaciales. El algoritmo 1 se utiliza para verificar si un término \"where\" constituye una referencia geográfica o no. También verificamos si la última palabra en el término pertenece a una lista de excepciones, que incluye, por ejemplo, nombres propios de personas en diferentes idiomas. Esto garantiza que una consulta como Denzel Washington sea manejada adecuadamente. Si el algoritmo tiene éxito en encontrar una relación válida y los términos correspondientes, entonces se devuelve el triple correspondiente. De lo contrario, devolvemos un triple con el término \"qué\" igual al string de consulta, y los términos de relación y ubicación establecidos como vacíos. Si toda la cadena de consulta constituye una referencia geográfica, devolvemos un triple con el término \"what\" establecido como vacío, el término \"where\" igual a la cadena de consulta, y el término de relación establecido como DEFINICIÓN (es decir, estas consultas deben ser respondidas con información sobre los lugares mencionados). El algoritmo también maneja cadenas de consulta donde se proporcionan más de una referencia geográfica, utilizando \"and\" o una preposición equivalente, junto con una llamada recursiva al Algoritmo 2. Una consulta como el comercio de diamantes en Angola y Sudáfrica es el Algoritmo 2 Obtener < qué, relación, dónde > de una cadena de consulta. Requiere: O = Una ontología geográfica. Requiere: Q = Una cadena no vacía con la consulta. 1: Q = La cadena Q después de eliminar mayúsculas y diacríticos. 2: TOKENS[0..N] = Un array de cadenas con las palabras individuales de Q. 3: N = El tamaño del array TOKENS. 4: para INDEX = 0 a N hacer 5: si INDEX = 0 entonces 6: QUÉ = Concatenación de TOKENS[0..INDEX −1] 7: ÚLTIMOQUÉ = TOKENS[INDEX −1] 8: sino 9: QUÉ = Una cadena vacía 10: ÚLTIMOQUÉ = Una cadena vacía 11: fin si 12: DÓNDE = Concatenación de TOKENS[INDEX..N] 13: RELACIÓN = Una cadena vacía 14: para INDEX2 = INDEX a N −1 hacer 15: RELACIÓN2 = Concatenación de TOKENS[INDEX..INDEX2] 16: si RELACIÓN2 es una relación geográfica válida entonces 17: DÓNDE = Concatenación de S[INDEX2 +1..N] 18: RELACIÓN = RELACIÓN2 19: fin si 20: fin para 21: si RELACIÓN = vacío Y ÚLTIMOQUÉ es una excepción entonces 22: TESTGEO = FALSO 23: sino 24: TESTGEO = VERDADERO 25: fin si 26: si TESTGEO Y Algoritmo1(DÓNDE) <> VACÍO entonces 27: si DÓNDE termina con Y ALREDEDORES entonces 28: RELACIÓN = La cadena CERCA 29: DÓNDE = La subcadena de DÓNDE con Y ALREDEDORES eliminado 30: fin si 31: si QUÉ termina con Y o similar entonces 32: < QUÉ, RELACIÓN, DÓNDE2 > = Algoritmo2(QUÉ) 33: DÓNDE = Concatenación de DÓNDE con DÓNDE2 34: fin si 35: si RELACIÓN = Una cadena vacía entonces 36: si QUÉ = Una cadena vacía entonces 37: RELACIÓN = La cadena DEFINICIÓN 38: sino 39: RELACIÓN = La cadena CONTENIDO-EN 40: fin si 41: fin si 42: sino 43: QUÉ = La cadena Q 44: DÓNDE = Una cadena vacía 45: RELACIÓN = Una cadena vacía 46: fin si 47: fin para 48: retornar < QUÉ, RELACIÓN, DÓNDE > por lo tanto manejado adecuadamente. Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una referencia de lugar. Sin embargo, el hecho de que una consulta pueda estar asociada con un contexto geográfico puede que no sea directamente observable en la consulta en sí, sino más bien a partir de los resultados devueltos. Por ejemplo, consultas como hoteles recomendados para SIGIR 2006 o alojamiento para SeaFair 2006 pueden referirse a la ciudad de Seattle. Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle. En los casos en los que una consulta no contiene referencias de lugar, comenzamos asumiendo que los resultados principales de un motor de búsqueda representan el contexto y uso más popular y correcto para la consulta. Propongo utilizar las características de distribución de los ámbitos geográficos previamente asignados a los documentos correspondientes a estos principales resultados. En un trabajo previo, presentamos un enfoque de minería de texto para asignar documentos con alcances geográficos correspondientes, definidos en una ontología, que funcionaba como una etapa de preprocesamiento sin conexión en un sistema GIR [13]. Este paso de preprocesamiento es una etapa fundamental de GIR, y es razonable asumir que este tipo de información estaría disponible en cualquier sistema. De manera similar a Wang et al., también podríamos intentar procesar los resultados en línea, con el fin de detectar referencias de lugares en los documentos [17]. Sin embargo, un sistema GIR ya requiere la etapa fuera de línea. Para los N documentos principales dados en los resultados, verificamos los alcances geográficos que les fueron asignados. Si una parte significativa de los resultados se asigna al mismo ámbito, entonces la consulta puede considerarse relacionada con el concepto geográfico correspondiente. Esta suposición incluso podría ser relajada, por ejemplo, verificando si los documentos pertenecen a ámbitos que están jerárquicamente relacionados. 4. EXPERIMENTOS DE EVALUACIÓN Utilizamos tres ontologías diferentes en experimentos de evaluación, a saber, el tesauro de nombres geográficos de Getty (TGN) [6] y dos recursos específicos desarrollados en nuestro grupo, aquí referidos como las ontologías PT y ML [2]. TGN y ML incluyen información geográfica global en varios idiomas (aunque TGN es considerablemente más grande), mientras que la ontología PT se centra en el territorio portugués con un alto nivel de detalle. Los tipos de lugares también son diferentes entre ontologías, por ejemplo, PT incluye nombres de calles y direcciones postales, mientras que ML solo llega al nivel de ciudades. El lector debe consultar [2, 6] para obtener una descripción completa de estos recursos. Nuestros experimentos iniciales utilizaron temas en portugués e inglés de las campañas de evaluación GeoCLEF 2005 y 2006. Los temas en GeoCLEF corresponden a cadenas de consulta que pueden ser utilizadas como entrada a un sistema GIR [4]. ImageCLEF 2006 también incluyó temas que especificaban referencias de lugar, y se alentó a los participantes a ejecutar sus sistemas GIR en ellos. Nuestros experimentos también consideraron este conjunto de datos. Para cada tema, medimos si el Algoritmo 2 fue capaz de encontrar el triple correspondiente < qué, relación, dónde >. Las ontologías utilizadas en este experimento fueron TGN y ML, ya que los temas se presentaron en varios idiomas y abarcaron todo el mundo. Número de conjunto de datos de triples correctos Tiempo por consulta Consultas ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Tabla 2: Resumen de resultados sobre temas de CLEF. La Tabla 1 ilustra algunos de los temas, y la Tabla 2 resume los resultados obtenidos. Las tablas muestran que la técnica propuesta maneja adecuadamente la mayoría de estas consultas. Una inspección manual de los conceptos de la ontología que se devolvieron para cada caso también reveló que el término \"where\" estaba siendo correctamente desambiguado. Ten en cuenta que la ontología TGN de hecho añadió cierta ambigüedad, ya que por ejemplo nombres como Madrid pueden corresponder a muchos lugares diferentes alrededor del mundo. También hay que tener en cuenta que algunos de los temas considerados son muy difíciles de manejar para un sistema automatizado. Algunos de ellos eran ambiguos (por ejemplo, en las importaciones de arroz japonés, la consulta puede referirse tanto a las importaciones de arroz en Japón como a las importaciones de arroz japonés), y otros no contenían referencias geográficas directas (por ejemplo, ciudades cerca de volcanes activos). Además de estos casos muy difíciles, también nos faltaron algunos temas debido a su uso de adjetivos de lugar y regiones específicas que no están definidas en las ontologías (por ejemplo, preocupaciones ambientales en torno a los Trossachs escoceses). En un segundo experimento, utilizamos una muestra de alrededor de 100,000 consultas reales en motores de búsqueda. El objetivo era ver si un número significativo de estas consultas eran de naturaleza geográfica, también comprobando si el algoritmo no cometía muchos errores al clasificar una consulta como geográfica cuando no era el caso. La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un motor de búsqueda web portugués disponible en www.tumba.pt. La Tabla 3 resume los resultados obtenidos. Muchas consultas eran de hecho geográficas (alrededor del 3.4%, aunque estudios previos reportaron valores superiores al 14% [8]). Una inspección manual mostró que el algoritmo no produjo muchos falsos positivos, y las consultas geográficas fueron divididas correctamente en triples < qué, relación, dónde > correctos. Los pocos errores que encontramos estaban relacionados con nombres de lugares que se utilizaban con más frecuencia en otros contextos (por ejemplo, en Teófilo Braga tenemos el problema de que Braga es un distrito portugués, y Teófilo Braga fue un conocido escritor y político portugués). La adición de más nombres a la lista de excepciones puede proporcionar una solución alternativa para la mayoría de estos casos. Valor Num. Consultas 110,916 Num. Consultas sin Referencias Geográficas 107,159 (96.6%) Núm. Consultas con Referencias Geográficas 3,757 (3.4%) Tabla 3: Resultados de un experimento con registros de motores de búsqueda. También probamos el procedimiento para detectar consultas que son implícitamente geográficas con una pequeña muestra de consultas de los registros. Por ejemplo, para la consulta Estádio do Dragão (por ejemplo, estadio local de un equipo de fútbol de Oporto), el contexto geográfico correcto se puede descubrir a partir del análisis de los resultados (más del 75% de los 20 resultados principales están asignados al ámbito de Oporto). Para trabajos futuros, planeamos utilizar una colección más grande de consultas para evaluar este aspecto. Además de las consultas de los registros del motor de búsqueda, también planeamos utilizar los nombres de edificios, monumentos y otros lugares emblemáticos conocidos, ya que tienen una fuerte connotación geográfica. Finalmente, también realizamos un experimento comparativo con 2 geocodificadores populares, Maporama y Microsoft's Mappoint. El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una referencia de lugar. Parroquias civiles del mapa de Lisboa de Maporama Mappoint Nuestros códigos de referencia (de 53) 9 (16,9%) 30 (56,6%) 15 (28,3%) Prom. Tiempo por referencia (mseg) 506.23 1235.87 143.43 Parroquias civiles del mapa de Porto Maporama Mappoint Nuestros refs. codificados (de 15) 0 (0%) 2 (13,3%) 5 (33,3%) Prom. Tiempo por referencia (mseg) 514.45 991.88 132.14 Tabla 4: Resultados de una comparación con servicios de geocodificación. La ontología portuguesa fue utilizada en este experimento, tomando como entrada los nombres de las parroquias civiles de los municipios portugueses de Lisboa y Oporto, y comprobando si los sistemas fueron capaces de desambiguar el nombre completo (por ejemplo, Campo Grande, Lisboa o Foz do Douro, Oporto) en el geocódigo correcto. Específicamente medimos si nuestro enfoque era mejor para devolver de manera inequívoca geocódigos dados los lugares de referencia (es decir, devolver el único código correcto) y proporcionar resultados rápidamente. La Tabla 4 muestra los resultados obtenidos, y la precisión de nuestro método parece comparable a la de los geocodificadores comerciales. Ten en cuenta que para Maporama y Mappoint, los tiempos indicados en la Tabla 4 incluyen la obtención de resultados de la Web, pero no tenemos una forma directa de acceder a los algoritmos de geocodificación (en ambos casos, la obtención de contenido estático de los servidores web toma alrededor de 125 milisegundos). Aunque nuestro enfoque no puede devolver de manera inequívoca el geocódigo correcto en la mayoría de los casos (solo 20 de un total de 68 casos), no obstante devuelve resultados que un usuario humano puede desambiguar (por ejemplo, para Madalena, Lisboa devolvemos tanto una calle como una freguesía), a diferencia de otros sistemas que a menudo no producían resultados. Además, si consideramos el geocódigo superior según el procedimiento de clasificación descrito en la Sección 3.1, o si utilizamos un calificador de tipo en el nombre (por ejemplo, freguesía de Campo Grande, Lisboa), nuestro algoritmo siempre devuelve el geocódigo correcto. 5. CONCLUSIONES Este artículo presentó enfoques simples para manejar referencias de lugares en consultas de motores de búsqueda. Este es un problema difícil de minería de texto, ya que las consultas suelen ser ambiguas o no especifican adecuadamente las necesidades de información. Sin embargo, nuestros experimentos iniciales indican que para muchas consultas, los lugares referenciados pueden ser determinados de manera efectiva. A diferencia de las técnicas propuestas por Wang et al. [17], nos enfocamos principalmente en reconocer relaciones espaciales y asociar nombres de lugares a conceptos de ontología. Las técnicas propuestas fueron empleadas en el sistema prototipo que utilizamos para participar en GeoCLEF 2006. En consultas donde no se menciona explícitamente una referencia geográfica, proponemos utilizar los resultados de la consulta, aprovechando los ámbitos geográficos asignados previamente a estos documentos. En el futuro, planeamos realizar una evaluación cuidadosa de este último enfoque. Otra idea que nos gustaría probar implica la integración de un mecanismo de corrección ortográfica [12] en el Algoritmo 1, de modo que las referencias de lugares con errores ortográficos puedan ser relacionadas con conceptos de la ontología. Las técnicas propuestas para manejar consultas geográficas pueden tener muchas aplicaciones en la mejora de los sistemas de recuperación de información geográfica o incluso en los motores de búsqueda de propósito general. Después de que las referencias de lugar se hayan desambiguado adecuadamente en conceptos de ontología, un sistema GIR puede utilizarlas para recuperar resultados relevantes, a través del uso de estructuras de índices apropiadas (por ejemplo, indexando las coordenadas espaciales asociadas con los conceptos de ontología) y siempre que los documentos también estén asignados a ámbitos correspondientes a los conceptos de ontología. Una estrategia GIR diferente puede implicar la expansión de consultas, tomando los términos de ubicación de la consulta y utilizando la ontología para agregar nombres de ubicaciones vecinas. En un motor de búsqueda de propósito general, si se detecta una consulta local, podemos redirigir a los usuarios a un sistema GIR, que debería ser más adecuado para manejar correctamente la consulta. La interfaz de búsqueda regular de Google ya hace esto, presentando un enlace a Google Local cuando detecta una consulta geográfica. REFERENCIAS [1] E. Amitay, N. HarEl, R. Sivan y A. Soffer. Web-a-Where: Geolocalización de contenido web. En Actas de SIGIR-04, la 27ª Conferencia sobre investigación y desarrollo en recuperación de información, 2004. [2] M. Chaves, M. J. Silva y B. Martins. Una Base de Conocimiento Geográfico para Aplicaciones de la Web Semántica. En las Actas de SBBD-05, el 20º Simposio Brasileño de Bases de Datos, 2005. [3] N. A. Chinchor. Resumen de MUC-7/MET-2. En las Actas de MUC-7, la 7ª Conferencia de Comprensión de Mensajes, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho y P. Clough. GeoCLEF: la pista de recuperación de información geográfica en varios idiomas de CLEF 2005. En Notas de Trabajo para el Taller CLEF 2005, 2005. [5] L. Gravano, V. Hatzivassiloglou y R. Lichtenstein. Clasificación de consultas web según la localidad geográfica. En las Actas de CIKM-03, la 12ª Conferencia sobre Gestión de la Información y el Conocimiento, 2003. [6] P. Harpring. Palabras adecuadas en lugares adecuados: El tesauro de nombres geográficos. MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, y R. Weibel. Recuperación de información espacial y ontologías geográficas: Una visión general del proyecto SPIRIT. En Actas de SIGIR-02, la 25ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2002. [8] J. Kohler. Analizando las consultas de motores de búsqueda para el uso de términos geográficos, 2003. (Tesis de maestría). [9] A. Kornai y B. Sundheim, editores. Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [10] Y. Li, Z. Zheng y H. Dai. Informe de la KDD CUP-2005: Enfrentando un gran desafío. SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard y H. Cunningham. Experimentos con conocimiento geográfico para extracción de información. En Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [12] B. Martins y M. J. Silva. Corrección ortográfica para consultas en motores de búsqueda. En Actas de EsTAL-04, España para el Procesamiento del Lenguaje Natural, 2004. [13] B. Martins y M. J. Silva. Un algoritmo de clasificación de gráficos para georreferenciar documentos. En las Actas de ICDM-05, la 5ta Conferencia Internacional de Minería de Datos de IEEE, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni y A. Laender. El papel de los gaceteros en el descubrimiento del conocimiento geográfico en la web. En las Actas de LA-Web-05, el 3er Congreso Web Latinoamericano, 2005. [15] E. Tjong, K. Sang y F. D. Meulder. Introducción a la tarea compartida CoNLL-2003: Reconocimiento de Entidades Nombradas Independiente del Idioma. En las Actas de CoNLL-2003, la 7ª Conferencia sobre Aprendizaje de Lenguaje Natural, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges y T. Scheffer. Clasificando consultas de motores de búsqueda utilizando la Web como conocimiento de fondo. Boletín de Exploraciones SIGKDD, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y. Ma, y Y. Li. Detectando ubicaciones dominantes a partir de consultas de búsqueda. En las Actas de SIGIR-05, la 28ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2005. ",
            "candidates": [],
            "error": [
                [
                    "reconocimiento de entidades nombradas (NER)",
                    "Reconocimiento de Entidades Nombradas",
                    "entidades nombradas"
                ]
            ]
        },
        "disambiguation result": {
            "translated_key": "resultado de desambiguación",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        },
        "place reference": {
            "translated_key": "referencia de lugar",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a <br>place reference</br> but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given <br>place reference</br>, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a <br>place reference</br> is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit <br>place reference</br>, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a <br>place reference</br>.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the <br>place reference</br> (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a <br>place reference</br> but it is nonetheless geographical).",
                "Instead of computing coordinates for a given <br>place reference</br>, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a <br>place reference</br> is explicitly mentioned.",
                "Although they do not contain an explicit <br>place reference</br>, we expect results to be about hotels in Seattle.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a <br>place reference</br>."
            ],
            "translated_annotated_samples": [
                "Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una <br>referencia de lugar</br> pero sigue siendo geográfica).",
                "En lugar de calcular coordenadas para una <br>referencia de lugar</br> dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes.",
                "Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una <br>referencia de lugar</br>.",
                "Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle.",
                "El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una <br>referencia de lugar</br>."
            ],
            "translated_text": "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la recuperación de información geográfica. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una <br>referencia de lugar</br> pero sigue siendo geográfica). Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10]. Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas. Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico. Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5]. Definieron una consulta como local si sus mejores coincidencias en un motor de búsqueda web probablemente sean páginas locales, como casas en venta. Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda. Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja. El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés. Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17]. El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda. En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una ontología geográfica. Nuestro enfoque busca relaciones espaciales en la cadena de consulta, y también asocia las referencias de lugar a conceptos de ontología. En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales. Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones. La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas. Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada. En lugar de calcular coordenadas para una <br>referencia de lugar</br> dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes. Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación. La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan. Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación. Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la consulta de búsqueda. Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta. Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA. Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja consultas implícitas de ubicación. Además, Google Local no tiene en cuenta las relaciones espaciales. En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado. En este documento, explicamos las soluciones propuestas para los problemas identificados. 3. MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde. Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado. En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología. Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios. Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de Recuperación de Información Geográfica. 1. La entrada al sistema es una cadena de consulta textual. Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\". El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles. Aunque no es necesario separar la cadena de consulta en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3. La entrada al sistema se proporciona a través de una cadena de consulta junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles). No se requiere desambiguación, por lo tanto, las técnicas descritas en este documento no tienen que ser aplicadas. Los dos primeros esquemas dependen de la desambiguación de nombres de lugares. La Figura 1 ilustra cómo proponemos manejar consultas geográficas en estos dos esquemas iniciales. Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la ontología geográfica. Proponemos hacer esto de acuerdo al pseudo-código listado en el Algoritmo 1. El algoritmo considera los casos en los que se proporciona una segunda (o incluso más de una) ubicación para calificar a una primera (por ejemplo, París, Francia. Realiza llamadas recursivas para hacer coincidir cada ubicación, y se basa en relaciones jerárquicas de partes para detectar si dos ubicaciones comparten una ruta jerárquica común. Una de las ubicaciones proporcionadas debe ser más general y la otra más específica, en el sentido de que debe existir una relación de parte entre los conceptos asociados en la ontología (ya sea directa o transitiva). La ubicación más específica es una subregión de la más general, y el algoritmo devuelve la más específica (es decir, para París, Francia, el algoritmo devuelve el concepto de ontología asociado con París, la capital de Francia). También consideramos los casos en los que se utiliza una expresión de tipo geográfico para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York). Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una ontología geográfica, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una ontología geográfica. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación. Los calificadores de tipo considerados también deben ser descritos en las ontologías (por ejemplo, cada concepto geográfico debe estar asociado a un tipo que también esté definido en la ontología, como país, distrito o ciudad). Idealmente, la referencia geográfica proporcionada por el usuario debería ser desambiguada en un único concepto de ontología. Sin embargo, esto no siempre es posible, ya que el usuario puede no proporcionar toda la información requerida (es decir, una expresión de tipo o una segunda ubicación de calificación). Por lo tanto, la salida es una lista con los posibles conceptos a los que se refiere el usuario. En un paso final, proponemos ordenar esta lista, de modo que si se requiere un solo concepto como resultado, podamos utilizar el que esté clasificado más alto. El procedimiento de clasificación refleja la probabilidad de que cada concepto sea realmente el mencionado. Proponemos clasificar conceptos de acuerdo con las siguientes heurísticas: 1. La expresión de tipo geográfico asociada con el concepto de ontología. Para el mismo nombre, es más probable que se haga referencia a un país que a una ciudad, y a su vez, es más probable que se haga referencia a una ciudad que a una calle. Número de ancestros en la ontología. Los lugares principales en la ontología tienden a ser más generales, y por lo tanto es más probable que sean referenciados en consultas de motores de búsqueda. 3. Recuento de población. Los lugares altamente poblados son más conocidos, y por lo tanto es más probable que sean referenciados en consultas. Recuentos de población de ancestros directos en la ontología. Las subregiones de lugares altamente poblados son más conocidas y también es más probable que sean referenciadas en consultas de motores de búsqueda. Frecuencia de ocurrencia en documentos web (por ejemplo, Google cuenta) para los nombres geográficos. Los nombres de lugares que ocurren con más frecuencia en documentos web también son más propensos a ser referenciados en consultas de motores de búsqueda. 6. Número de descendientes en la ontología. Los lugares que tienen más subregiones tienden a ser más generales, y por lo tanto es más probable que sean mencionados en las consultas de los motores de búsqueda. 7. Tamaño de cadena para los nombres geográficos. Los nombres cortos son más propensos a ser mencionados en las consultas de motores de búsqueda. El Algoritmo 1, junto con el procedimiento de clasificación, ya puede manejar consultas GIR donde el término \"where\" se proporciona por separado de los términos \"what\" y \"relation\". Sin embargo, si la consulta se proporciona en una sola cadena, requerimos la identificación del triple asociado < qué, relación, dónde > antes de desambiguar el término de ubicación en los conceptos de la ontología correspondiente. Esto se describe en la siguiente Sección. 3.2 Manejo de Cadenas de Consulta Única. El Algoritmo 2 proporciona el mecanismo para separar una cadena de consulta en un triple < qué, relación, dónde >. Utiliza el Algoritmo 1 para encontrar dónde se encuentra el término, desambiguándolo en un conjunto de conceptos de ontología. El algoritmo comienza tokenizando la cadena de consulta en palabras individuales, también encargándose de eliminar mayúsculas y diacríticos. Tenemos un tokenizador simple que utiliza el espacio como delimitador de palabras, pero también podríamos tener un enfoque de tokenización similar a la propuesta de Wang et al., que se basa en estadísticas de ocurrencia en la web para evitar romper colocaciones [17]. En el futuro, planeamos probar si este esquema de tokenización diferente puede mejorar los resultados. A continuación, el algoritmo prueba diferentes divisiones posibles de la consulta, construyendo los términos de qué, relación y dónde a través de concatenaciones de los tokens individuales. El término de relación se compara con una lista de valores posibles (por ejemplo, cerca, en, alrededor o al sur de), que corresponden a los operadores admitidos por el sistema GIR. Cabe destacar que también es responsabilidad del sistema GIR subyacente interpretar el significado real de las diferentes relaciones espaciales. El algoritmo 1 se utiliza para verificar si un término \"where\" constituye una referencia geográfica o no. También verificamos si la última palabra en el término pertenece a una lista de excepciones, que incluye, por ejemplo, nombres propios de personas en diferentes idiomas. Esto garantiza que una consulta como Denzel Washington sea manejada adecuadamente. Si el algoritmo tiene éxito en encontrar una relación válida y los términos correspondientes, entonces se devuelve el triple correspondiente. De lo contrario, devolvemos un triple con el término \"qué\" igual al string de consulta, y los términos de relación y ubicación establecidos como vacíos. Si toda la cadena de consulta constituye una referencia geográfica, devolvemos un triple con el término \"what\" establecido como vacío, el término \"where\" igual a la cadena de consulta, y el término de relación establecido como DEFINICIÓN (es decir, estas consultas deben ser respondidas con información sobre los lugares mencionados). El algoritmo también maneja cadenas de consulta donde se proporcionan más de una referencia geográfica, utilizando \"and\" o una preposición equivalente, junto con una llamada recursiva al Algoritmo 2. Una consulta como el comercio de diamantes en Angola y Sudáfrica es el Algoritmo 2 Obtener < qué, relación, dónde > de una cadena de consulta. Requiere: O = Una ontología geográfica. Requiere: Q = Una cadena no vacía con la consulta. 1: Q = La cadena Q después de eliminar mayúsculas y diacríticos. 2: TOKENS[0..N] = Un array de cadenas con las palabras individuales de Q. 3: N = El tamaño del array TOKENS. 4: para INDEX = 0 a N hacer 5: si INDEX = 0 entonces 6: QUÉ = Concatenación de TOKENS[0..INDEX −1] 7: ÚLTIMOQUÉ = TOKENS[INDEX −1] 8: sino 9: QUÉ = Una cadena vacía 10: ÚLTIMOQUÉ = Una cadena vacía 11: fin si 12: DÓNDE = Concatenación de TOKENS[INDEX..N] 13: RELACIÓN = Una cadena vacía 14: para INDEX2 = INDEX a N −1 hacer 15: RELACIÓN2 = Concatenación de TOKENS[INDEX..INDEX2] 16: si RELACIÓN2 es una relación geográfica válida entonces 17: DÓNDE = Concatenación de S[INDEX2 +1..N] 18: RELACIÓN = RELACIÓN2 19: fin si 20: fin para 21: si RELACIÓN = vacío Y ÚLTIMOQUÉ es una excepción entonces 22: TESTGEO = FALSO 23: sino 24: TESTGEO = VERDADERO 25: fin si 26: si TESTGEO Y Algoritmo1(DÓNDE) <> VACÍO entonces 27: si DÓNDE termina con Y ALREDEDORES entonces 28: RELACIÓN = La cadena CERCA 29: DÓNDE = La subcadena de DÓNDE con Y ALREDEDORES eliminado 30: fin si 31: si QUÉ termina con Y o similar entonces 32: < QUÉ, RELACIÓN, DÓNDE2 > = Algoritmo2(QUÉ) 33: DÓNDE = Concatenación de DÓNDE con DÓNDE2 34: fin si 35: si RELACIÓN = Una cadena vacía entonces 36: si QUÉ = Una cadena vacía entonces 37: RELACIÓN = La cadena DEFINICIÓN 38: sino 39: RELACIÓN = La cadena CONTENIDO-EN 40: fin si 41: fin si 42: sino 43: QUÉ = La cadena Q 44: DÓNDE = Una cadena vacía 45: RELACIÓN = Una cadena vacía 46: fin si 47: fin para 48: retornar < QUÉ, RELACIÓN, DÓNDE > por lo tanto manejado adecuadamente. Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una <br>referencia de lugar</br>. Sin embargo, el hecho de que una consulta pueda estar asociada con un contexto geográfico puede que no sea directamente observable en la consulta en sí, sino más bien a partir de los resultados devueltos. Por ejemplo, consultas como hoteles recomendados para SIGIR 2006 o alojamiento para SeaFair 2006 pueden referirse a la ciudad de Seattle. Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle. En los casos en los que una consulta no contiene referencias de lugar, comenzamos asumiendo que los resultados principales de un motor de búsqueda representan el contexto y uso más popular y correcto para la consulta. Propongo utilizar las características de distribución de los ámbitos geográficos previamente asignados a los documentos correspondientes a estos principales resultados. En un trabajo previo, presentamos un enfoque de minería de texto para asignar documentos con alcances geográficos correspondientes, definidos en una ontología, que funcionaba como una etapa de preprocesamiento sin conexión en un sistema GIR [13]. Este paso de preprocesamiento es una etapa fundamental de GIR, y es razonable asumir que este tipo de información estaría disponible en cualquier sistema. De manera similar a Wang et al., también podríamos intentar procesar los resultados en línea, con el fin de detectar referencias de lugares en los documentos [17]. Sin embargo, un sistema GIR ya requiere la etapa fuera de línea. Para los N documentos principales dados en los resultados, verificamos los alcances geográficos que les fueron asignados. Si una parte significativa de los resultados se asigna al mismo ámbito, entonces la consulta puede considerarse relacionada con el concepto geográfico correspondiente. Esta suposición incluso podría ser relajada, por ejemplo, verificando si los documentos pertenecen a ámbitos que están jerárquicamente relacionados. 4. EXPERIMENTOS DE EVALUACIÓN Utilizamos tres ontologías diferentes en experimentos de evaluación, a saber, el tesauro de nombres geográficos de Getty (TGN) [6] y dos recursos específicos desarrollados en nuestro grupo, aquí referidos como las ontologías PT y ML [2]. TGN y ML incluyen información geográfica global en varios idiomas (aunque TGN es considerablemente más grande), mientras que la ontología PT se centra en el territorio portugués con un alto nivel de detalle. Los tipos de lugares también son diferentes entre ontologías, por ejemplo, PT incluye nombres de calles y direcciones postales, mientras que ML solo llega al nivel de ciudades. El lector debe consultar [2, 6] para obtener una descripción completa de estos recursos. Nuestros experimentos iniciales utilizaron temas en portugués e inglés de las campañas de evaluación GeoCLEF 2005 y 2006. Los temas en GeoCLEF corresponden a cadenas de consulta que pueden ser utilizadas como entrada a un sistema GIR [4]. ImageCLEF 2006 también incluyó temas que especificaban referencias de lugar, y se alentó a los participantes a ejecutar sus sistemas GIR en ellos. Nuestros experimentos también consideraron este conjunto de datos. Para cada tema, medimos si el Algoritmo 2 fue capaz de encontrar el triple correspondiente < qué, relación, dónde >. Las ontologías utilizadas en este experimento fueron TGN y ML, ya que los temas se presentaron en varios idiomas y abarcaron todo el mundo. Número de conjunto de datos de triples correctos Tiempo por consulta Consultas ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Tabla 2: Resumen de resultados sobre temas de CLEF. La Tabla 1 ilustra algunos de los temas, y la Tabla 2 resume los resultados obtenidos. Las tablas muestran que la técnica propuesta maneja adecuadamente la mayoría de estas consultas. Una inspección manual de los conceptos de la ontología que se devolvieron para cada caso también reveló que el término \"where\" estaba siendo correctamente desambiguado. Ten en cuenta que la ontología TGN de hecho añadió cierta ambigüedad, ya que por ejemplo nombres como Madrid pueden corresponder a muchos lugares diferentes alrededor del mundo. También hay que tener en cuenta que algunos de los temas considerados son muy difíciles de manejar para un sistema automatizado. Algunos de ellos eran ambiguos (por ejemplo, en las importaciones de arroz japonés, la consulta puede referirse tanto a las importaciones de arroz en Japón como a las importaciones de arroz japonés), y otros no contenían referencias geográficas directas (por ejemplo, ciudades cerca de volcanes activos). Además de estos casos muy difíciles, también nos faltaron algunos temas debido a su uso de adjetivos de lugar y regiones específicas que no están definidas en las ontologías (por ejemplo, preocupaciones ambientales en torno a los Trossachs escoceses). En un segundo experimento, utilizamos una muestra de alrededor de 100,000 consultas reales en motores de búsqueda. El objetivo era ver si un número significativo de estas consultas eran de naturaleza geográfica, también comprobando si el algoritmo no cometía muchos errores al clasificar una consulta como geográfica cuando no era el caso. La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un motor de búsqueda web portugués disponible en www.tumba.pt. La Tabla 3 resume los resultados obtenidos. Muchas consultas eran de hecho geográficas (alrededor del 3.4%, aunque estudios previos reportaron valores superiores al 14% [8]). Una inspección manual mostró que el algoritmo no produjo muchos falsos positivos, y las consultas geográficas fueron divididas correctamente en triples < qué, relación, dónde > correctos. Los pocos errores que encontramos estaban relacionados con nombres de lugares que se utilizaban con más frecuencia en otros contextos (por ejemplo, en Teófilo Braga tenemos el problema de que Braga es un distrito portugués, y Teófilo Braga fue un conocido escritor y político portugués). La adición de más nombres a la lista de excepciones puede proporcionar una solución alternativa para la mayoría de estos casos. Valor Num. Consultas 110,916 Num. Consultas sin Referencias Geográficas 107,159 (96.6%) Núm. Consultas con Referencias Geográficas 3,757 (3.4%) Tabla 3: Resultados de un experimento con registros de motores de búsqueda. También probamos el procedimiento para detectar consultas que son implícitamente geográficas con una pequeña muestra de consultas de los registros. Por ejemplo, para la consulta Estádio do Dragão (por ejemplo, estadio local de un equipo de fútbol de Oporto), el contexto geográfico correcto se puede descubrir a partir del análisis de los resultados (más del 75% de los 20 resultados principales están asignados al ámbito de Oporto). Para trabajos futuros, planeamos utilizar una colección más grande de consultas para evaluar este aspecto. Además de las consultas de los registros del motor de búsqueda, también planeamos utilizar los nombres de edificios, monumentos y otros lugares emblemáticos conocidos, ya que tienen una fuerte connotación geográfica. Finalmente, también realizamos un experimento comparativo con 2 geocodificadores populares, Maporama y Microsoft's Mappoint. El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una <br>referencia de lugar</br>. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "textual string": {
            "translated_key": "cadenas de texto",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over <br>textual string</br>s, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over <br>textual string</br>s, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set."
            ],
            "translated_annotated_samples": [
                "A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre <br>cadenas de texto</br>, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados."
            ],
            "translated_text": "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la recuperación de información geográfica. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica). Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre <br>cadenas de texto</br>, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10]. Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas. Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico. Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5]. Definieron una consulta como local si sus mejores coincidencias en un motor de búsqueda web probablemente sean páginas locales, como casas en venta. Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda. Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja. El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés. Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17]. El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda. En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una ontología geográfica. Nuestro enfoque busca relaciones espaciales en la cadena de consulta, y también asocia las referencias de lugar a conceptos de ontología. En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales. Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones. La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas. Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada. En lugar de calcular coordenadas para una referencia de lugar dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes. Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación. La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan. Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación. Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la consulta de búsqueda. Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta. Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA. Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja consultas implícitas de ubicación. Además, Google Local no tiene en cuenta las relaciones espaciales. En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado. En este documento, explicamos las soluciones propuestas para los problemas identificados. 3. MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde. Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado. En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología. Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios. Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de Recuperación de Información Geográfica. 1. La entrada al sistema es una cadena de consulta textual. Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\". El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles. Aunque no es necesario separar la cadena de consulta en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3. La entrada al sistema se proporciona a través de una cadena de consulta junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles). No se requiere desambiguación, por lo tanto, las técnicas descritas en este documento no tienen que ser aplicadas. Los dos primeros esquemas dependen de la desambiguación de nombres de lugares. La Figura 1 ilustra cómo proponemos manejar consultas geográficas en estos dos esquemas iniciales. Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la ontología geográfica. Proponemos hacer esto de acuerdo al pseudo-código listado en el Algoritmo 1. El algoritmo considera los casos en los que se proporciona una segunda (o incluso más de una) ubicación para calificar a una primera (por ejemplo, París, Francia. Realiza llamadas recursivas para hacer coincidir cada ubicación, y se basa en relaciones jerárquicas de partes para detectar si dos ubicaciones comparten una ruta jerárquica común. Una de las ubicaciones proporcionadas debe ser más general y la otra más específica, en el sentido de que debe existir una relación de parte entre los conceptos asociados en la ontología (ya sea directa o transitiva). La ubicación más específica es una subregión de la más general, y el algoritmo devuelve la más específica (es decir, para París, Francia, el algoritmo devuelve el concepto de ontología asociado con París, la capital de Francia). También consideramos los casos en los que se utiliza una expresión de tipo geográfico para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York). Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una ontología geográfica, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una ontología geográfica. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación. Los calificadores de tipo considerados también deben ser descritos en las ontologías (por ejemplo, cada concepto geográfico debe estar asociado a un tipo que también esté definido en la ontología, como país, distrito o ciudad). Idealmente, la referencia geográfica proporcionada por el usuario debería ser desambiguada en un único concepto de ontología. Sin embargo, esto no siempre es posible, ya que el usuario puede no proporcionar toda la información requerida (es decir, una expresión de tipo o una segunda ubicación de calificación). Por lo tanto, la salida es una lista con los posibles conceptos a los que se refiere el usuario. En un paso final, proponemos ordenar esta lista, de modo que si se requiere un solo concepto como resultado, podamos utilizar el que esté clasificado más alto. El procedimiento de clasificación refleja la probabilidad de que cada concepto sea realmente el mencionado. Proponemos clasificar conceptos de acuerdo con las siguientes heurísticas: 1. La expresión de tipo geográfico asociada con el concepto de ontología. Para el mismo nombre, es más probable que se haga referencia a un país que a una ciudad, y a su vez, es más probable que se haga referencia a una ciudad que a una calle. Número de ancestros en la ontología. Los lugares principales en la ontología tienden a ser más generales, y por lo tanto es más probable que sean referenciados en consultas de motores de búsqueda. 3. Recuento de población. Los lugares altamente poblados son más conocidos, y por lo tanto es más probable que sean referenciados en consultas. Recuentos de población de ancestros directos en la ontología. Las subregiones de lugares altamente poblados son más conocidas y también es más probable que sean referenciadas en consultas de motores de búsqueda. Frecuencia de ocurrencia en documentos web (por ejemplo, Google cuenta) para los nombres geográficos. Los nombres de lugares que ocurren con más frecuencia en documentos web también son más propensos a ser referenciados en consultas de motores de búsqueda. 6. Número de descendientes en la ontología. Los lugares que tienen más subregiones tienden a ser más generales, y por lo tanto es más probable que sean mencionados en las consultas de los motores de búsqueda. 7. Tamaño de cadena para los nombres geográficos. Los nombres cortos son más propensos a ser mencionados en las consultas de motores de búsqueda. El Algoritmo 1, junto con el procedimiento de clasificación, ya puede manejar consultas GIR donde el término \"where\" se proporciona por separado de los términos \"what\" y \"relation\". Sin embargo, si la consulta se proporciona en una sola cadena, requerimos la identificación del triple asociado < qué, relación, dónde > antes de desambiguar el término de ubicación en los conceptos de la ontología correspondiente. Esto se describe en la siguiente Sección. 3.2 Manejo de Cadenas de Consulta Única. El Algoritmo 2 proporciona el mecanismo para separar una cadena de consulta en un triple < qué, relación, dónde >. Utiliza el Algoritmo 1 para encontrar dónde se encuentra el término, desambiguándolo en un conjunto de conceptos de ontología. El algoritmo comienza tokenizando la cadena de consulta en palabras individuales, también encargándose de eliminar mayúsculas y diacríticos. Tenemos un tokenizador simple que utiliza el espacio como delimitador de palabras, pero también podríamos tener un enfoque de tokenización similar a la propuesta de Wang et al., que se basa en estadísticas de ocurrencia en la web para evitar romper colocaciones [17]. En el futuro, planeamos probar si este esquema de tokenización diferente puede mejorar los resultados. A continuación, el algoritmo prueba diferentes divisiones posibles de la consulta, construyendo los términos de qué, relación y dónde a través de concatenaciones de los tokens individuales. El término de relación se compara con una lista de valores posibles (por ejemplo, cerca, en, alrededor o al sur de), que corresponden a los operadores admitidos por el sistema GIR. Cabe destacar que también es responsabilidad del sistema GIR subyacente interpretar el significado real de las diferentes relaciones espaciales. El algoritmo 1 se utiliza para verificar si un término \"where\" constituye una referencia geográfica o no. También verificamos si la última palabra en el término pertenece a una lista de excepciones, que incluye, por ejemplo, nombres propios de personas en diferentes idiomas. Esto garantiza que una consulta como Denzel Washington sea manejada adecuadamente. Si el algoritmo tiene éxito en encontrar una relación válida y los términos correspondientes, entonces se devuelve el triple correspondiente. De lo contrario, devolvemos un triple con el término \"qué\" igual al string de consulta, y los términos de relación y ubicación establecidos como vacíos. Si toda la cadena de consulta constituye una referencia geográfica, devolvemos un triple con el término \"what\" establecido como vacío, el término \"where\" igual a la cadena de consulta, y el término de relación establecido como DEFINICIÓN (es decir, estas consultas deben ser respondidas con información sobre los lugares mencionados). El algoritmo también maneja cadenas de consulta donde se proporcionan más de una referencia geográfica, utilizando \"and\" o una preposición equivalente, junto con una llamada recursiva al Algoritmo 2. Una consulta como el comercio de diamantes en Angola y Sudáfrica es el Algoritmo 2 Obtener < qué, relación, dónde > de una cadena de consulta. Requiere: O = Una ontología geográfica. Requiere: Q = Una cadena no vacía con la consulta. 1: Q = La cadena Q después de eliminar mayúsculas y diacríticos. 2: TOKENS[0..N] = Un array de cadenas con las palabras individuales de Q. 3: N = El tamaño del array TOKENS. 4: para INDEX = 0 a N hacer 5: si INDEX = 0 entonces 6: QUÉ = Concatenación de TOKENS[0..INDEX −1] 7: ÚLTIMOQUÉ = TOKENS[INDEX −1] 8: sino 9: QUÉ = Una cadena vacía 10: ÚLTIMOQUÉ = Una cadena vacía 11: fin si 12: DÓNDE = Concatenación de TOKENS[INDEX..N] 13: RELACIÓN = Una cadena vacía 14: para INDEX2 = INDEX a N −1 hacer 15: RELACIÓN2 = Concatenación de TOKENS[INDEX..INDEX2] 16: si RELACIÓN2 es una relación geográfica válida entonces 17: DÓNDE = Concatenación de S[INDEX2 +1..N] 18: RELACIÓN = RELACIÓN2 19: fin si 20: fin para 21: si RELACIÓN = vacío Y ÚLTIMOQUÉ es una excepción entonces 22: TESTGEO = FALSO 23: sino 24: TESTGEO = VERDADERO 25: fin si 26: si TESTGEO Y Algoritmo1(DÓNDE) <> VACÍO entonces 27: si DÓNDE termina con Y ALREDEDORES entonces 28: RELACIÓN = La cadena CERCA 29: DÓNDE = La subcadena de DÓNDE con Y ALREDEDORES eliminado 30: fin si 31: si QUÉ termina con Y o similar entonces 32: < QUÉ, RELACIÓN, DÓNDE2 > = Algoritmo2(QUÉ) 33: DÓNDE = Concatenación de DÓNDE con DÓNDE2 34: fin si 35: si RELACIÓN = Una cadena vacía entonces 36: si QUÉ = Una cadena vacía entonces 37: RELACIÓN = La cadena DEFINICIÓN 38: sino 39: RELACIÓN = La cadena CONTENIDO-EN 40: fin si 41: fin si 42: sino 43: QUÉ = La cadena Q 44: DÓNDE = Una cadena vacía 45: RELACIÓN = Una cadena vacía 46: fin si 47: fin para 48: retornar < QUÉ, RELACIÓN, DÓNDE > por lo tanto manejado adecuadamente. Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una referencia de lugar. Sin embargo, el hecho de que una consulta pueda estar asociada con un contexto geográfico puede que no sea directamente observable en la consulta en sí, sino más bien a partir de los resultados devueltos. Por ejemplo, consultas como hoteles recomendados para SIGIR 2006 o alojamiento para SeaFair 2006 pueden referirse a la ciudad de Seattle. Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle. En los casos en los que una consulta no contiene referencias de lugar, comenzamos asumiendo que los resultados principales de un motor de búsqueda representan el contexto y uso más popular y correcto para la consulta. Propongo utilizar las características de distribución de los ámbitos geográficos previamente asignados a los documentos correspondientes a estos principales resultados. En un trabajo previo, presentamos un enfoque de minería de texto para asignar documentos con alcances geográficos correspondientes, definidos en una ontología, que funcionaba como una etapa de preprocesamiento sin conexión en un sistema GIR [13]. Este paso de preprocesamiento es una etapa fundamental de GIR, y es razonable asumir que este tipo de información estaría disponible en cualquier sistema. De manera similar a Wang et al., también podríamos intentar procesar los resultados en línea, con el fin de detectar referencias de lugares en los documentos [17]. Sin embargo, un sistema GIR ya requiere la etapa fuera de línea. Para los N documentos principales dados en los resultados, verificamos los alcances geográficos que les fueron asignados. Si una parte significativa de los resultados se asigna al mismo ámbito, entonces la consulta puede considerarse relacionada con el concepto geográfico correspondiente. Esta suposición incluso podría ser relajada, por ejemplo, verificando si los documentos pertenecen a ámbitos que están jerárquicamente relacionados. 4. EXPERIMENTOS DE EVALUACIÓN Utilizamos tres ontologías diferentes en experimentos de evaluación, a saber, el tesauro de nombres geográficos de Getty (TGN) [6] y dos recursos específicos desarrollados en nuestro grupo, aquí referidos como las ontologías PT y ML [2]. TGN y ML incluyen información geográfica global en varios idiomas (aunque TGN es considerablemente más grande), mientras que la ontología PT se centra en el territorio portugués con un alto nivel de detalle. Los tipos de lugares también son diferentes entre ontologías, por ejemplo, PT incluye nombres de calles y direcciones postales, mientras que ML solo llega al nivel de ciudades. El lector debe consultar [2, 6] para obtener una descripción completa de estos recursos. Nuestros experimentos iniciales utilizaron temas en portugués e inglés de las campañas de evaluación GeoCLEF 2005 y 2006. Los temas en GeoCLEF corresponden a cadenas de consulta que pueden ser utilizadas como entrada a un sistema GIR [4]. ImageCLEF 2006 también incluyó temas que especificaban referencias de lugar, y se alentó a los participantes a ejecutar sus sistemas GIR en ellos. Nuestros experimentos también consideraron este conjunto de datos. Para cada tema, medimos si el Algoritmo 2 fue capaz de encontrar el triple correspondiente < qué, relación, dónde >. Las ontologías utilizadas en este experimento fueron TGN y ML, ya que los temas se presentaron en varios idiomas y abarcaron todo el mundo. Número de conjunto de datos de triples correctos Tiempo por consulta Consultas ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Tabla 2: Resumen de resultados sobre temas de CLEF. La Tabla 1 ilustra algunos de los temas, y la Tabla 2 resume los resultados obtenidos. Las tablas muestran que la técnica propuesta maneja adecuadamente la mayoría de estas consultas. Una inspección manual de los conceptos de la ontología que se devolvieron para cada caso también reveló que el término \"where\" estaba siendo correctamente desambiguado. Ten en cuenta que la ontología TGN de hecho añadió cierta ambigüedad, ya que por ejemplo nombres como Madrid pueden corresponder a muchos lugares diferentes alrededor del mundo. También hay que tener en cuenta que algunos de los temas considerados son muy difíciles de manejar para un sistema automatizado. Algunos de ellos eran ambiguos (por ejemplo, en las importaciones de arroz japonés, la consulta puede referirse tanto a las importaciones de arroz en Japón como a las importaciones de arroz japonés), y otros no contenían referencias geográficas directas (por ejemplo, ciudades cerca de volcanes activos). Además de estos casos muy difíciles, también nos faltaron algunos temas debido a su uso de adjetivos de lugar y regiones específicas que no están definidas en las ontologías (por ejemplo, preocupaciones ambientales en torno a los Trossachs escoceses). En un segundo experimento, utilizamos una muestra de alrededor de 100,000 consultas reales en motores de búsqueda. El objetivo era ver si un número significativo de estas consultas eran de naturaleza geográfica, también comprobando si el algoritmo no cometía muchos errores al clasificar una consulta como geográfica cuando no era el caso. La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un motor de búsqueda web portugués disponible en www.tumba.pt. La Tabla 3 resume los resultados obtenidos. Muchas consultas eran de hecho geográficas (alrededor del 3.4%, aunque estudios previos reportaron valores superiores al 14% [8]). Una inspección manual mostró que el algoritmo no produjo muchos falsos positivos, y las consultas geográficas fueron divididas correctamente en triples < qué, relación, dónde > correctos. Los pocos errores que encontramos estaban relacionados con nombres de lugares que se utilizaban con más frecuencia en otros contextos (por ejemplo, en Teófilo Braga tenemos el problema de que Braga es un distrito portugués, y Teófilo Braga fue un conocido escritor y político portugués). La adición de más nombres a la lista de excepciones puede proporcionar una solución alternativa para la mayoría de estos casos. Valor Num. Consultas 110,916 Num. Consultas sin Referencias Geográficas 107,159 (96.6%) Núm. Consultas con Referencias Geográficas 3,757 (3.4%) Tabla 3: Resultados de un experimento con registros de motores de búsqueda. También probamos el procedimiento para detectar consultas que son implícitamente geográficas con una pequeña muestra de consultas de los registros. Por ejemplo, para la consulta Estádio do Dragão (por ejemplo, estadio local de un equipo de fútbol de Oporto), el contexto geográfico correcto se puede descubrir a partir del análisis de los resultados (más del 75% de los 20 resultados principales están asignados al ámbito de Oporto). Para trabajos futuros, planeamos utilizar una colección más grande de consultas para evaluar este aspecto. Además de las consultas de los registros del motor de búsqueda, también planeamos utilizar los nombres de edificios, monumentos y otros lugares emblemáticos conocidos, ya que tienen una fuerte connotación geográfica. Finalmente, también realizamos un experimento comparativo con 2 geocodificadores populares, Maporama y Microsoft's Mappoint. El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una referencia de lugar. Parroquias civiles del mapa de Lisboa de Maporama Mappoint Nuestros códigos de referencia (de 53) 9 (16,9%) 30 (56,6%) 15 (28,3%) Prom. Tiempo por referencia (mseg) 506.23 1235.87 143.43 Parroquias civiles del mapa de Porto Maporama Mappoint Nuestros refs. codificados (de 15) 0 (0%) 2 (13,3%) 5 (33,3%) Prom. Tiempo por referencia (mseg) 514.45 991.88 132.14 Tabla 4: Resultados de una comparación con servicios de geocodificación. La ontología portuguesa fue utilizada en este experimento, tomando como entrada los nombres de las parroquias civiles de los municipios portugueses de Lisboa y Oporto, y comprobando si los sistemas fueron capaces de desambiguar el nombre completo (por ejemplo, Campo Grande, Lisboa o Foz do Douro, Oporto) en el geocódigo correcto. Específicamente medimos si nuestro enfoque era mejor para devolver de manera inequívoca geocódigos dados los lugares de referencia (es decir, devolver el único código correcto) y proporcionar resultados rápidamente. La Tabla 4 muestra los resultados obtenidos, y la precisión de nuestro método parece comparable a la de los geocodificadores comerciales. Ten en cuenta que para Maporama y Mappoint, los tiempos indicados en la Tabla 4 incluyen la obtención de resultados de la Web, pero no tenemos una forma directa de acceder a los algoritmos de geocodificación (en ambos casos, la obtención de contenido estático de los servidores web toma alrededor de 125 milisegundos). Aunque nuestro enfoque no puede devolver de manera inequívoca el geocódigo correcto en la mayoría de los casos (solo 20 de un total de 68 casos), no obstante devuelve resultados que un usuario humano puede desambiguar (por ejemplo, para Madalena, Lisboa devolvemos tanto una calle como una freguesía), a diferencia de otros sistemas que a menudo no producían resultados. Además, si consideramos el geocódigo superior según el procedimiento de clasificación descrito en la Sección 3.1, o si utilizamos un calificador de tipo en el nombre (por ejemplo, freguesía de Campo Grande, Lisboa), nuestro algoritmo siempre devuelve el geocódigo correcto. 5. CONCLUSIONES Este artículo presentó enfoques simples para manejar referencias de lugares en consultas de motores de búsqueda. Este es un problema difícil de minería de texto, ya que las consultas suelen ser ambiguas o no especifican adecuadamente las necesidades de información. Sin embargo, nuestros experimentos iniciales indican que para muchas consultas, los lugares referenciados pueden ser determinados de manera efectiva. A diferencia de las técnicas propuestas por Wang et al. [17], nos enfocamos principalmente en reconocer relaciones espaciales y asociar nombres de lugares a conceptos de ontología. Las técnicas propuestas fueron empleadas en el sistema prototipo que utilizamos para participar en GeoCLEF 2006. En consultas donde no se menciona explícitamente una referencia geográfica, proponemos utilizar los resultados de la consulta, aprovechando los ámbitos geográficos asignados previamente a estos documentos. En el futuro, planeamos realizar una evaluación cuidadosa de este último enfoque. Otra idea que nos gustaría probar implica la integración de un mecanismo de corrección ortográfica [12] en el Algoritmo 1, de modo que las referencias de lugares con errores ortográficos puedan ser relacionadas con conceptos de la ontología. Las técnicas propuestas para manejar consultas geográficas pueden tener muchas aplicaciones en la mejora de los sistemas de recuperación de información geográfica o incluso en los motores de búsqueda de propósito general. Después de que las referencias de lugar se hayan desambiguado adecuadamente en conceptos de ontología, un sistema GIR puede utilizarlas para recuperar resultados relevantes, a través del uso de estructuras de índices apropiadas (por ejemplo, indexando las coordenadas espaciales asociadas con los conceptos de ontología) y siempre que los documentos también estén asignados a ámbitos correspondientes a los conceptos de ontología. Una estrategia GIR diferente puede implicar la expansión de consultas, tomando los términos de ubicación de la consulta y utilizando la ontología para agregar nombres de ubicaciones vecinas. En un motor de búsqueda de propósito general, si se detecta una consulta local, podemos redirigir a los usuarios a un sistema GIR, que debería ser más adecuado para manejar correctamente la consulta. La interfaz de búsqueda regular de Google ya hace esto, presentando un enlace a Google Local cuando detecta una consulta geográfica. REFERENCIAS [1] E. Amitay, N. HarEl, R. Sivan y A. Soffer. Web-a-Where: Geolocalización de contenido web. En Actas de SIGIR-04, la 27ª Conferencia sobre investigación y desarrollo en recuperación de información, 2004. [2] M. Chaves, M. J. Silva y B. Martins. Una Base de Conocimiento Geográfico para Aplicaciones de la Web Semántica. En las Actas de SBBD-05, el 20º Simposio Brasileño de Bases de Datos, 2005. [3] N. A. Chinchor. Resumen de MUC-7/MET-2. En las Actas de MUC-7, la 7ª Conferencia de Comprensión de Mensajes, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho y P. Clough. GeoCLEF: la pista de recuperación de información geográfica en varios idiomas de CLEF 2005. En Notas de Trabajo para el Taller CLEF 2005, 2005. [5] L. Gravano, V. Hatzivassiloglou y R. Lichtenstein. Clasificación de consultas web según la localidad geográfica. En las Actas de CIKM-03, la 12ª Conferencia sobre Gestión de la Información y el Conocimiento, 2003. [6] P. Harpring. Palabras adecuadas en lugares adecuados: El tesauro de nombres geográficos. MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, y R. Weibel. Recuperación de información espacial y ontologías geográficas: Una visión general del proyecto SPIRIT. En Actas de SIGIR-02, la 25ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2002. [8] J. Kohler. Analizando las consultas de motores de búsqueda para el uso de términos geográficos, 2003. (Tesis de maestría). [9] A. Kornai y B. Sundheim, editores. Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [10] Y. Li, Z. Zheng y H. Dai. Informe de la KDD CUP-2005: Enfrentando un gran desafío. SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard y H. Cunningham. Experimentos con conocimiento geográfico para extracción de información. En Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [12] B. Martins y M. J. Silva. Corrección ortográfica para consultas en motores de búsqueda. En Actas de EsTAL-04, España para el Procesamiento del Lenguaje Natural, 2004. [13] B. Martins y M. J. Silva. Un algoritmo de clasificación de gráficos para georreferenciar documentos. En las Actas de ICDM-05, la 5ta Conferencia Internacional de Minería de Datos de IEEE, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni y A. Laender. El papel de los gaceteros en el descubrimiento del conocimiento geográfico en la web. En las Actas de LA-Web-05, el 3er Congreso Web Latinoamericano, 2005. [15] E. Tjong, K. Sang y F. D. Meulder. Introducción a la tarea compartida CoNLL-2003: Reconocimiento de Entidades Nombradas Independiente del Idioma. En las Actas de CoNLL-2003, la 7ª Conferencia sobre Aprendizaje de Lenguaje Natural, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges y T. Scheffer. Clasificando consultas de motores de búsqueda utilizando la Web como conocimiento de fondo. Boletín de Exploraciones SIGKDD, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y. Ma, y Y. Li. Detectando ubicaciones dominantes a partir de consultas de búsqueda. En las Actas de SIGIR-05, la 28ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2005. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "web search engine": {
            "translated_key": "motor de búsqueda web",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a <br>web search engine</br> show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a <br>web search engine</br> are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese <br>web search engine</br> available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [
                "Experiments with CLEF topics [4] and sample queries from a <br>web search engine</br> show that the proposed methods are accurate, and may have applications in improving search results.",
                "They defined a query as local if its best matches on a <br>web search engine</br> are likely to be local pages, such as houses for sale.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese <br>web search engine</br> available at www.tumba.pt."
            ],
            "translated_annotated_samples": [
                "Los experimentos con temas de CLEF [4] y consultas de muestra de un <br>motor de búsqueda web</br> muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda.",
                "Definieron una consulta como local si sus mejores coincidencias en un <br>motor de búsqueda web</br> probablemente sean páginas locales, como casas en venta.",
                "La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un <br>motor de búsqueda web</br> portugués disponible en www.tumba.pt."
            ],
            "translated_text": "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la recuperación de información geográfica. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica). Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un <br>motor de búsqueda web</br> muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10]. Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas. Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico. Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5]. Definieron una consulta como local si sus mejores coincidencias en un <br>motor de búsqueda web</br> probablemente sean páginas locales, como casas en venta. Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda. Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja. El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés. Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17]. El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda. En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una ontología geográfica. Nuestro enfoque busca relaciones espaciales en la cadena de consulta, y también asocia las referencias de lugar a conceptos de ontología. En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales. Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones. La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas. Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada. En lugar de calcular coordenadas para una referencia de lugar dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes. Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación. La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan. Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación. Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la consulta de búsqueda. Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta. Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA. Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja consultas implícitas de ubicación. Además, Google Local no tiene en cuenta las relaciones espaciales. En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado. En este documento, explicamos las soluciones propuestas para los problemas identificados. 3. MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde. Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado. En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología. Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios. Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de Recuperación de Información Geográfica. 1. La entrada al sistema es una cadena de consulta textual. Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\". El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles. Aunque no es necesario separar la cadena de consulta en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3. La entrada al sistema se proporciona a través de una cadena de consulta junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles). No se requiere desambiguación, por lo tanto, las técnicas descritas en este documento no tienen que ser aplicadas. Los dos primeros esquemas dependen de la desambiguación de nombres de lugares. La Figura 1 ilustra cómo proponemos manejar consultas geográficas en estos dos esquemas iniciales. Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la ontología geográfica. Proponemos hacer esto de acuerdo al pseudo-código listado en el Algoritmo 1. El algoritmo considera los casos en los que se proporciona una segunda (o incluso más de una) ubicación para calificar a una primera (por ejemplo, París, Francia. Realiza llamadas recursivas para hacer coincidir cada ubicación, y se basa en relaciones jerárquicas de partes para detectar si dos ubicaciones comparten una ruta jerárquica común. Una de las ubicaciones proporcionadas debe ser más general y la otra más específica, en el sentido de que debe existir una relación de parte entre los conceptos asociados en la ontología (ya sea directa o transitiva). La ubicación más específica es una subregión de la más general, y el algoritmo devuelve la más específica (es decir, para París, Francia, el algoritmo devuelve el concepto de ontología asociado con París, la capital de Francia). También consideramos los casos en los que se utiliza una expresión de tipo geográfico para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York). Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una ontología geográfica, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una ontología geográfica. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación. Los calificadores de tipo considerados también deben ser descritos en las ontologías (por ejemplo, cada concepto geográfico debe estar asociado a un tipo que también esté definido en la ontología, como país, distrito o ciudad). Idealmente, la referencia geográfica proporcionada por el usuario debería ser desambiguada en un único concepto de ontología. Sin embargo, esto no siempre es posible, ya que el usuario puede no proporcionar toda la información requerida (es decir, una expresión de tipo o una segunda ubicación de calificación). Por lo tanto, la salida es una lista con los posibles conceptos a los que se refiere el usuario. En un paso final, proponemos ordenar esta lista, de modo que si se requiere un solo concepto como resultado, podamos utilizar el que esté clasificado más alto. El procedimiento de clasificación refleja la probabilidad de que cada concepto sea realmente el mencionado. Proponemos clasificar conceptos de acuerdo con las siguientes heurísticas: 1. La expresión de tipo geográfico asociada con el concepto de ontología. Para el mismo nombre, es más probable que se haga referencia a un país que a una ciudad, y a su vez, es más probable que se haga referencia a una ciudad que a una calle. Número de ancestros en la ontología. Los lugares principales en la ontología tienden a ser más generales, y por lo tanto es más probable que sean referenciados en consultas de motores de búsqueda. 3. Recuento de población. Los lugares altamente poblados son más conocidos, y por lo tanto es más probable que sean referenciados en consultas. Recuentos de población de ancestros directos en la ontología. Las subregiones de lugares altamente poblados son más conocidas y también es más probable que sean referenciadas en consultas de motores de búsqueda. Frecuencia de ocurrencia en documentos web (por ejemplo, Google cuenta) para los nombres geográficos. Los nombres de lugares que ocurren con más frecuencia en documentos web también son más propensos a ser referenciados en consultas de motores de búsqueda. 6. Número de descendientes en la ontología. Los lugares que tienen más subregiones tienden a ser más generales, y por lo tanto es más probable que sean mencionados en las consultas de los motores de búsqueda. 7. Tamaño de cadena para los nombres geográficos. Los nombres cortos son más propensos a ser mencionados en las consultas de motores de búsqueda. El Algoritmo 1, junto con el procedimiento de clasificación, ya puede manejar consultas GIR donde el término \"where\" se proporciona por separado de los términos \"what\" y \"relation\". Sin embargo, si la consulta se proporciona en una sola cadena, requerimos la identificación del triple asociado < qué, relación, dónde > antes de desambiguar el término de ubicación en los conceptos de la ontología correspondiente. Esto se describe en la siguiente Sección. 3.2 Manejo de Cadenas de Consulta Única. El Algoritmo 2 proporciona el mecanismo para separar una cadena de consulta en un triple < qué, relación, dónde >. Utiliza el Algoritmo 1 para encontrar dónde se encuentra el término, desambiguándolo en un conjunto de conceptos de ontología. El algoritmo comienza tokenizando la cadena de consulta en palabras individuales, también encargándose de eliminar mayúsculas y diacríticos. Tenemos un tokenizador simple que utiliza el espacio como delimitador de palabras, pero también podríamos tener un enfoque de tokenización similar a la propuesta de Wang et al., que se basa en estadísticas de ocurrencia en la web para evitar romper colocaciones [17]. En el futuro, planeamos probar si este esquema de tokenización diferente puede mejorar los resultados. A continuación, el algoritmo prueba diferentes divisiones posibles de la consulta, construyendo los términos de qué, relación y dónde a través de concatenaciones de los tokens individuales. El término de relación se compara con una lista de valores posibles (por ejemplo, cerca, en, alrededor o al sur de), que corresponden a los operadores admitidos por el sistema GIR. Cabe destacar que también es responsabilidad del sistema GIR subyacente interpretar el significado real de las diferentes relaciones espaciales. El algoritmo 1 se utiliza para verificar si un término \"where\" constituye una referencia geográfica o no. También verificamos si la última palabra en el término pertenece a una lista de excepciones, que incluye, por ejemplo, nombres propios de personas en diferentes idiomas. Esto garantiza que una consulta como Denzel Washington sea manejada adecuadamente. Si el algoritmo tiene éxito en encontrar una relación válida y los términos correspondientes, entonces se devuelve el triple correspondiente. De lo contrario, devolvemos un triple con el término \"qué\" igual al string de consulta, y los términos de relación y ubicación establecidos como vacíos. Si toda la cadena de consulta constituye una referencia geográfica, devolvemos un triple con el término \"what\" establecido como vacío, el término \"where\" igual a la cadena de consulta, y el término de relación establecido como DEFINICIÓN (es decir, estas consultas deben ser respondidas con información sobre los lugares mencionados). El algoritmo también maneja cadenas de consulta donde se proporcionan más de una referencia geográfica, utilizando \"and\" o una preposición equivalente, junto con una llamada recursiva al Algoritmo 2. Una consulta como el comercio de diamantes en Angola y Sudáfrica es el Algoritmo 2 Obtener < qué, relación, dónde > de una cadena de consulta. Requiere: O = Una ontología geográfica. Requiere: Q = Una cadena no vacía con la consulta. 1: Q = La cadena Q después de eliminar mayúsculas y diacríticos. 2: TOKENS[0..N] = Un array de cadenas con las palabras individuales de Q. 3: N = El tamaño del array TOKENS. 4: para INDEX = 0 a N hacer 5: si INDEX = 0 entonces 6: QUÉ = Concatenación de TOKENS[0..INDEX −1] 7: ÚLTIMOQUÉ = TOKENS[INDEX −1] 8: sino 9: QUÉ = Una cadena vacía 10: ÚLTIMOQUÉ = Una cadena vacía 11: fin si 12: DÓNDE = Concatenación de TOKENS[INDEX..N] 13: RELACIÓN = Una cadena vacía 14: para INDEX2 = INDEX a N −1 hacer 15: RELACIÓN2 = Concatenación de TOKENS[INDEX..INDEX2] 16: si RELACIÓN2 es una relación geográfica válida entonces 17: DÓNDE = Concatenación de S[INDEX2 +1..N] 18: RELACIÓN = RELACIÓN2 19: fin si 20: fin para 21: si RELACIÓN = vacío Y ÚLTIMOQUÉ es una excepción entonces 22: TESTGEO = FALSO 23: sino 24: TESTGEO = VERDADERO 25: fin si 26: si TESTGEO Y Algoritmo1(DÓNDE) <> VACÍO entonces 27: si DÓNDE termina con Y ALREDEDORES entonces 28: RELACIÓN = La cadena CERCA 29: DÓNDE = La subcadena de DÓNDE con Y ALREDEDORES eliminado 30: fin si 31: si QUÉ termina con Y o similar entonces 32: < QUÉ, RELACIÓN, DÓNDE2 > = Algoritmo2(QUÉ) 33: DÓNDE = Concatenación de DÓNDE con DÓNDE2 34: fin si 35: si RELACIÓN = Una cadena vacía entonces 36: si QUÉ = Una cadena vacía entonces 37: RELACIÓN = La cadena DEFINICIÓN 38: sino 39: RELACIÓN = La cadena CONTENIDO-EN 40: fin si 41: fin si 42: sino 43: QUÉ = La cadena Q 44: DÓNDE = Una cadena vacía 45: RELACIÓN = Una cadena vacía 46: fin si 47: fin para 48: retornar < QUÉ, RELACIÓN, DÓNDE > por lo tanto manejado adecuadamente. Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una referencia de lugar. Sin embargo, el hecho de que una consulta pueda estar asociada con un contexto geográfico puede que no sea directamente observable en la consulta en sí, sino más bien a partir de los resultados devueltos. Por ejemplo, consultas como hoteles recomendados para SIGIR 2006 o alojamiento para SeaFair 2006 pueden referirse a la ciudad de Seattle. Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle. En los casos en los que una consulta no contiene referencias de lugar, comenzamos asumiendo que los resultados principales de un motor de búsqueda representan el contexto y uso más popular y correcto para la consulta. Propongo utilizar las características de distribución de los ámbitos geográficos previamente asignados a los documentos correspondientes a estos principales resultados. En un trabajo previo, presentamos un enfoque de minería de texto para asignar documentos con alcances geográficos correspondientes, definidos en una ontología, que funcionaba como una etapa de preprocesamiento sin conexión en un sistema GIR [13]. Este paso de preprocesamiento es una etapa fundamental de GIR, y es razonable asumir que este tipo de información estaría disponible en cualquier sistema. De manera similar a Wang et al., también podríamos intentar procesar los resultados en línea, con el fin de detectar referencias de lugares en los documentos [17]. Sin embargo, un sistema GIR ya requiere la etapa fuera de línea. Para los N documentos principales dados en los resultados, verificamos los alcances geográficos que les fueron asignados. Si una parte significativa de los resultados se asigna al mismo ámbito, entonces la consulta puede considerarse relacionada con el concepto geográfico correspondiente. Esta suposición incluso podría ser relajada, por ejemplo, verificando si los documentos pertenecen a ámbitos que están jerárquicamente relacionados. 4. EXPERIMENTOS DE EVALUACIÓN Utilizamos tres ontologías diferentes en experimentos de evaluación, a saber, el tesauro de nombres geográficos de Getty (TGN) [6] y dos recursos específicos desarrollados en nuestro grupo, aquí referidos como las ontologías PT y ML [2]. TGN y ML incluyen información geográfica global en varios idiomas (aunque TGN es considerablemente más grande), mientras que la ontología PT se centra en el territorio portugués con un alto nivel de detalle. Los tipos de lugares también son diferentes entre ontologías, por ejemplo, PT incluye nombres de calles y direcciones postales, mientras que ML solo llega al nivel de ciudades. El lector debe consultar [2, 6] para obtener una descripción completa de estos recursos. Nuestros experimentos iniciales utilizaron temas en portugués e inglés de las campañas de evaluación GeoCLEF 2005 y 2006. Los temas en GeoCLEF corresponden a cadenas de consulta que pueden ser utilizadas como entrada a un sistema GIR [4]. ImageCLEF 2006 también incluyó temas que especificaban referencias de lugar, y se alentó a los participantes a ejecutar sus sistemas GIR en ellos. Nuestros experimentos también consideraron este conjunto de datos. Para cada tema, medimos si el Algoritmo 2 fue capaz de encontrar el triple correspondiente < qué, relación, dónde >. Las ontologías utilizadas en este experimento fueron TGN y ML, ya que los temas se presentaron en varios idiomas y abarcaron todo el mundo. Número de conjunto de datos de triples correctos Tiempo por consulta Consultas ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Tabla 2: Resumen de resultados sobre temas de CLEF. La Tabla 1 ilustra algunos de los temas, y la Tabla 2 resume los resultados obtenidos. Las tablas muestran que la técnica propuesta maneja adecuadamente la mayoría de estas consultas. Una inspección manual de los conceptos de la ontología que se devolvieron para cada caso también reveló que el término \"where\" estaba siendo correctamente desambiguado. Ten en cuenta que la ontología TGN de hecho añadió cierta ambigüedad, ya que por ejemplo nombres como Madrid pueden corresponder a muchos lugares diferentes alrededor del mundo. También hay que tener en cuenta que algunos de los temas considerados son muy difíciles de manejar para un sistema automatizado. Algunos de ellos eran ambiguos (por ejemplo, en las importaciones de arroz japonés, la consulta puede referirse tanto a las importaciones de arroz en Japón como a las importaciones de arroz japonés), y otros no contenían referencias geográficas directas (por ejemplo, ciudades cerca de volcanes activos). Además de estos casos muy difíciles, también nos faltaron algunos temas debido a su uso de adjetivos de lugar y regiones específicas que no están definidas en las ontologías (por ejemplo, preocupaciones ambientales en torno a los Trossachs escoceses). En un segundo experimento, utilizamos una muestra de alrededor de 100,000 consultas reales en motores de búsqueda. El objetivo era ver si un número significativo de estas consultas eran de naturaleza geográfica, también comprobando si el algoritmo no cometía muchos errores al clasificar una consulta como geográfica cuando no era el caso. La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un <br>motor de búsqueda web</br> portugués disponible en www.tumba.pt. La Tabla 3 resume los resultados obtenidos. Muchas consultas eran de hecho geográficas (alrededor del 3.4%, aunque estudios previos reportaron valores superiores al 14% [8]). Una inspección manual mostró que el algoritmo no produjo muchos falsos positivos, y las consultas geográficas fueron divididas correctamente en triples < qué, relación, dónde > correctos. Los pocos errores que encontramos estaban relacionados con nombres de lugares que se utilizaban con más frecuencia en otros contextos (por ejemplo, en Teófilo Braga tenemos el problema de que Braga es un distrito portugués, y Teófilo Braga fue un conocido escritor y político portugués). La adición de más nombres a la lista de excepciones puede proporcionar una solución alternativa para la mayoría de estos casos. Valor Num. Consultas 110,916 Num. Consultas sin Referencias Geográficas 107,159 (96.6%) Núm. Consultas con Referencias Geográficas 3,757 (3.4%) Tabla 3: Resultados de un experimento con registros de motores de búsqueda. También probamos el procedimiento para detectar consultas que son implícitamente geográficas con una pequeña muestra de consultas de los registros. Por ejemplo, para la consulta Estádio do Dragão (por ejemplo, estadio local de un equipo de fútbol de Oporto), el contexto geográfico correcto se puede descubrir a partir del análisis de los resultados (más del 75% de los 20 resultados principales están asignados al ámbito de Oporto). Para trabajos futuros, planeamos utilizar una colección más grande de consultas para evaluar este aspecto. Además de las consultas de los registros del motor de búsqueda, también planeamos utilizar los nombres de edificios, monumentos y otros lugares emblemáticos conocidos, ya que tienen una fuerte connotación geográfica. Finalmente, también realizamos un experimento comparativo con 2 geocodificadores populares, Maporama y Microsoft's Mappoint. El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una referencia de lugar. Parroquias civiles del mapa de Lisboa de Maporama Mappoint Nuestros códigos de referencia (de 53) 9 (16,9%) 30 (56,6%) 15 (28,3%) Prom. Tiempo por referencia (mseg) 506.23 1235.87 143.43 Parroquias civiles del mapa de Porto Maporama Mappoint Nuestros refs. codificados (de 15) 0 (0%) 2 (13,3%) 5 (33,3%) Prom. Tiempo por referencia (mseg) 514.45 991.88 132.14 Tabla 4: Resultados de una comparación con servicios de geocodificación. La ontología portuguesa fue utilizada en este experimento, tomando como entrada los nombres de las parroquias civiles de los municipios portugueses de Lisboa y Oporto, y comprobando si los sistemas fueron capaces de desambiguar el nombre completo (por ejemplo, Campo Grande, Lisboa o Foz do Douro, Oporto) en el geocódigo correcto. Específicamente medimos si nuestro enfoque era mejor para devolver de manera inequívoca geocódigos dados los lugares de referencia (es decir, devolver el único código correcto) y proporcionar resultados rápidamente. La Tabla 4 muestra los resultados obtenidos, y la precisión de nuestro método parece comparable a la de los geocodificadores comerciales. Ten en cuenta que para Maporama y Mappoint, los tiempos indicados en la Tabla 4 incluyen la obtención de resultados de la Web, pero no tenemos una forma directa de acceder a los algoritmos de geocodificación (en ambos casos, la obtención de contenido estático de los servidores web toma alrededor de 125 milisegundos). Aunque nuestro enfoque no puede devolver de manera inequívoca el geocódigo correcto en la mayoría de los casos (solo 20 de un total de 68 casos), no obstante devuelve resultados que un usuario humano puede desambiguar (por ejemplo, para Madalena, Lisboa devolvemos tanto una calle como una freguesía), a diferencia de otros sistemas que a menudo no producían resultados. Además, si consideramos el geocódigo superior según el procedimiento de clasificación descrito en la Sección 3.1, o si utilizamos un calificador de tipo en el nombre (por ejemplo, freguesía de Campo Grande, Lisboa), nuestro algoritmo siempre devuelve el geocódigo correcto. 5. CONCLUSIONES Este artículo presentó enfoques simples para manejar referencias de lugares en consultas de motores de búsqueda. Este es un problema difícil de minería de texto, ya que las consultas suelen ser ambiguas o no especifican adecuadamente las necesidades de información. Sin embargo, nuestros experimentos iniciales indican que para muchas consultas, los lugares referenciados pueden ser determinados de manera efectiva. A diferencia de las técnicas propuestas por Wang et al. [17], nos enfocamos principalmente en reconocer relaciones espaciales y asociar nombres de lugares a conceptos de ontología. Las técnicas propuestas fueron empleadas en el sistema prototipo que utilizamos para participar en GeoCLEF 2006. En consultas donde no se menciona explícitamente una referencia geográfica, proponemos utilizar los resultados de la consulta, aprovechando los ámbitos geográficos asignados previamente a estos documentos. En el futuro, planeamos realizar una evaluación cuidadosa de este último enfoque. Otra idea que nos gustaría probar implica la integración de un mecanismo de corrección ortográfica [12] en el Algoritmo 1, de modo que las referencias de lugares con errores ortográficos puedan ser relacionadas con conceptos de la ontología. Las técnicas propuestas para manejar consultas geográficas pueden tener muchas aplicaciones en la mejora de los sistemas de recuperación de información geográfica o incluso en los motores de búsqueda de propósito general. Después de que las referencias de lugar se hayan desambiguado adecuadamente en conceptos de ontología, un sistema GIR puede utilizarlas para recuperar resultados relevantes, a través del uso de estructuras de índices apropiadas (por ejemplo, indexando las coordenadas espaciales asociadas con los conceptos de ontología) y siempre que los documentos también estén asignados a ámbitos correspondientes a los conceptos de ontología. Una estrategia GIR diferente puede implicar la expansión de consultas, tomando los términos de ubicación de la consulta y utilizando la ontología para agregar nombres de ubicaciones vecinas. En un motor de búsqueda de propósito general, si se detecta una consulta local, podemos redirigir a los usuarios a un sistema GIR, que debería ser más adecuado para manejar correctamente la consulta. La interfaz de búsqueda regular de Google ya hace esto, presentando un enlace a Google Local cuando detecta una consulta geográfica. REFERENCIAS [1] E. Amitay, N. HarEl, R. Sivan y A. Soffer. Web-a-Where: Geolocalización de contenido web. En Actas de SIGIR-04, la 27ª Conferencia sobre investigación y desarrollo en recuperación de información, 2004. [2] M. Chaves, M. J. Silva y B. Martins. Una Base de Conocimiento Geográfico para Aplicaciones de la Web Semántica. En las Actas de SBBD-05, el 20º Simposio Brasileño de Bases de Datos, 2005. [3] N. A. Chinchor. Resumen de MUC-7/MET-2. En las Actas de MUC-7, la 7ª Conferencia de Comprensión de Mensajes, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho y P. Clough. GeoCLEF: la pista de recuperación de información geográfica en varios idiomas de CLEF 2005. En Notas de Trabajo para el Taller CLEF 2005, 2005. [5] L. Gravano, V. Hatzivassiloglou y R. Lichtenstein. Clasificación de consultas web según la localidad geográfica. En las Actas de CIKM-03, la 12ª Conferencia sobre Gestión de la Información y el Conocimiento, 2003. [6] P. Harpring. Palabras adecuadas en lugares adecuados: El tesauro de nombres geográficos. MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, y R. Weibel. Recuperación de información espacial y ontologías geográficas: Una visión general del proyecto SPIRIT. En Actas de SIGIR-02, la 25ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2002. [8] J. Kohler. Analizando las consultas de motores de búsqueda para el uso de términos geográficos, 2003. (Tesis de maestría). [9] A. Kornai y B. Sundheim, editores. Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [10] Y. Li, Z. Zheng y H. Dai. Informe de la KDD CUP-2005: Enfrentando un gran desafío. SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard y H. Cunningham. Experimentos con conocimiento geográfico para extracción de información. En Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [12] B. Martins y M. J. Silva. Corrección ortográfica para consultas en motores de búsqueda. En Actas de EsTAL-04, España para el Procesamiento del Lenguaje Natural, 2004. [13] B. Martins y M. J. Silva. Un algoritmo de clasificación de gráficos para georreferenciar documentos. En las Actas de ICDM-05, la 5ta Conferencia Internacional de Minería de Datos de IEEE, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni y A. Laender. El papel de los gaceteros en el descubrimiento del conocimiento geográfico en la web. En las Actas de LA-Web-05, el 3er Congreso Web Latinoamericano, 2005. [15] E. Tjong, K. Sang y F. D. Meulder. Introducción a la tarea compartida CoNLL-2003: Reconocimiento de Entidades Nombradas Independiente del Idioma. En las Actas de CoNLL-2003, la 7ª Conferencia sobre Aprendizaje de Lenguaje Natural, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges y T. Scheffer. Clasificando consultas de motores de búsqueda utilizando la Web como conocimiento de fondo. Boletín de Exploraciones SIGKDD, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y. Ma, y Y. Li. Detectando ubicaciones dominantes a partir de consultas de búsqueda. En las Actas de SIGIR-05, la 28ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2005. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "query string": {
            "translated_key": "cadena de consulta",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the <br>query string</br>, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the <br>query string</br>, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual <br>query string</br>.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating <br>query string</br> into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a <br>query string</br> together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a <br>query string</br> into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the <br>query string</br> into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the <br>query string</br>, and the relation and where terms set as empty.",
                "If the entire <br>query string</br> constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the <br>query string</br>, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a <br>query string</br> Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the <br>query string</br>, but the query clearly has a local intent [17]).",
                "Our approach looks for spatial relationships at the <br>query string</br>, and it also associates the place references to ontology concepts.",
                "Input to the system is a textual <br>query string</br>.",
                "Although there is no need for separating <br>query string</br> into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a <br>query string</br> together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices)."
            ],
            "translated_annotated_samples": [
                "Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la <br>cadena de consulta</br>, pero la consulta claramente tiene una intención local).",
                "Nuestro enfoque busca relaciones espaciales en la <br>cadena de consulta</br>, y también asocia las referencias de lugar a conceptos de ontología.",
                "La entrada al sistema es una <br>cadena de consulta</br> textual.",
                "Aunque no es necesario separar la <br>cadena de consulta</br> en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3.",
                "La entrada al sistema se proporciona a través de una <br>cadena de consulta</br> junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles)."
            ],
            "translated_text": "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la recuperación de información geográfica. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la <br>cadena de consulta</br>, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica). Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10]. Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas. Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico. Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5]. Definieron una consulta como local si sus mejores coincidencias en un motor de búsqueda web probablemente sean páginas locales, como casas en venta. Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda. Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja. El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés. Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17]. El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda. En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una ontología geográfica. Nuestro enfoque busca relaciones espaciales en la <br>cadena de consulta</br>, y también asocia las referencias de lugar a conceptos de ontología. En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales. Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones. La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas. Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada. En lugar de calcular coordenadas para una referencia de lugar dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes. Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación. La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan. Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación. Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la consulta de búsqueda. Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta. Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA. Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja consultas implícitas de ubicación. Además, Google Local no tiene en cuenta las relaciones espaciales. En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado. En este documento, explicamos las soluciones propuestas para los problemas identificados. 3. MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde. Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado. En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología. Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios. Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de Recuperación de Información Geográfica. 1. La entrada al sistema es una <br>cadena de consulta</br> textual. Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\". El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles. Aunque no es necesario separar la <br>cadena de consulta</br> en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3. La entrada al sistema se proporciona a través de una <br>cadena de consulta</br> junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles). ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "search query": {
            "translated_key": "consulta de búsqueda",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a <br>search query</br>, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the <br>search query</br>.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [
                "How to automatically understand what the user intended, given a <br>search query</br>, without putting the burden in the user himself, remains an open text mining problem.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the <br>search query</br>."
            ],
            "translated_annotated_samples": [
                "Cómo entender automáticamente lo que el usuario pretendía, dado una <br>consulta de búsqueda</br>, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto.",
                "Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la <br>consulta de búsqueda</br>."
            ],
            "translated_text": "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la recuperación de información geográfica. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una <br>consulta de búsqueda</br>, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica). Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10]. Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas. Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico. Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5]. Definieron una consulta como local si sus mejores coincidencias en un motor de búsqueda web probablemente sean páginas locales, como casas en venta. Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda. Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja. El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés. Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17]. El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda. En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una ontología geográfica. Nuestro enfoque busca relaciones espaciales en la cadena de consulta, y también asocia las referencias de lugar a conceptos de ontología. En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales. Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones. La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas. Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada. En lugar de calcular coordenadas para una referencia de lugar dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes. Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación. La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan. Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación. Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la <br>consulta de búsqueda</br>. Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta. Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA. Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja consultas implícitas de ubicación. Además, Google Local no tiene en cuenta las relaciones espaciales. En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado. En este documento, explicamos las soluciones propuestas para los problemas identificados. 3. MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde. Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado. En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología. Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios. Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de Recuperación de Información Geográfica. 1. La entrada al sistema es una cadena de consulta textual. Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\". El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles. Aunque no es necesario separar la cadena de consulta en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3. La entrada al sistema se proporciona a través de una cadena de consulta junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles). No se requiere desambiguación, por lo tanto, las técnicas descritas en este documento no tienen que ser aplicadas. Los dos primeros esquemas dependen de la desambiguación de nombres de lugares. La Figura 1 ilustra cómo proponemos manejar consultas geográficas en estos dos esquemas iniciales. Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la ontología geográfica. Proponemos hacer esto de acuerdo al pseudo-código listado en el Algoritmo 1. El algoritmo considera los casos en los que se proporciona una segunda (o incluso más de una) ubicación para calificar a una primera (por ejemplo, París, Francia. Realiza llamadas recursivas para hacer coincidir cada ubicación, y se basa en relaciones jerárquicas de partes para detectar si dos ubicaciones comparten una ruta jerárquica común. Una de las ubicaciones proporcionadas debe ser más general y la otra más específica, en el sentido de que debe existir una relación de parte entre los conceptos asociados en la ontología (ya sea directa o transitiva). La ubicación más específica es una subregión de la más general, y el algoritmo devuelve la más específica (es decir, para París, Francia, el algoritmo devuelve el concepto de ontología asociado con París, la capital de Francia). También consideramos los casos en los que se utiliza una expresión de tipo geográfico para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York). Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una ontología geográfica, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una ontología geográfica. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación. Los calificadores de tipo considerados también deben ser descritos en las ontologías (por ejemplo, cada concepto geográfico debe estar asociado a un tipo que también esté definido en la ontología, como país, distrito o ciudad). Idealmente, la referencia geográfica proporcionada por el usuario debería ser desambiguada en un único concepto de ontología. Sin embargo, esto no siempre es posible, ya que el usuario puede no proporcionar toda la información requerida (es decir, una expresión de tipo o una segunda ubicación de calificación). Por lo tanto, la salida es una lista con los posibles conceptos a los que se refiere el usuario. En un paso final, proponemos ordenar esta lista, de modo que si se requiere un solo concepto como resultado, podamos utilizar el que esté clasificado más alto. El procedimiento de clasificación refleja la probabilidad de que cada concepto sea realmente el mencionado. Proponemos clasificar conceptos de acuerdo con las siguientes heurísticas: 1. La expresión de tipo geográfico asociada con el concepto de ontología. Para el mismo nombre, es más probable que se haga referencia a un país que a una ciudad, y a su vez, es más probable que se haga referencia a una ciudad que a una calle. Número de ancestros en la ontología. Los lugares principales en la ontología tienden a ser más generales, y por lo tanto es más probable que sean referenciados en consultas de motores de búsqueda. 3. Recuento de población. Los lugares altamente poblados son más conocidos, y por lo tanto es más probable que sean referenciados en consultas. Recuentos de población de ancestros directos en la ontología. Las subregiones de lugares altamente poblados son más conocidas y también es más probable que sean referenciadas en consultas de motores de búsqueda. Frecuencia de ocurrencia en documentos web (por ejemplo, Google cuenta) para los nombres geográficos. Los nombres de lugares que ocurren con más frecuencia en documentos web también son más propensos a ser referenciados en consultas de motores de búsqueda. 6. Número de descendientes en la ontología. Los lugares que tienen más subregiones tienden a ser más generales, y por lo tanto es más probable que sean mencionados en las consultas de los motores de búsqueda. 7. Tamaño de cadena para los nombres geográficos. Los nombres cortos son más propensos a ser mencionados en las consultas de motores de búsqueda. El Algoritmo 1, junto con el procedimiento de clasificación, ya puede manejar consultas GIR donde el término \"where\" se proporciona por separado de los términos \"what\" y \"relation\". Sin embargo, si la consulta se proporciona en una sola cadena, requerimos la identificación del triple asociado < qué, relación, dónde > antes de desambiguar el término de ubicación en los conceptos de la ontología correspondiente. Esto se describe en la siguiente Sección. 3.2 Manejo de Cadenas de Consulta Única. El Algoritmo 2 proporciona el mecanismo para separar una cadena de consulta en un triple < qué, relación, dónde >. Utiliza el Algoritmo 1 para encontrar dónde se encuentra el término, desambiguándolo en un conjunto de conceptos de ontología. El algoritmo comienza tokenizando la cadena de consulta en palabras individuales, también encargándose de eliminar mayúsculas y diacríticos. Tenemos un tokenizador simple que utiliza el espacio como delimitador de palabras, pero también podríamos tener un enfoque de tokenización similar a la propuesta de Wang et al., que se basa en estadísticas de ocurrencia en la web para evitar romper colocaciones [17]. En el futuro, planeamos probar si este esquema de tokenización diferente puede mejorar los resultados. A continuación, el algoritmo prueba diferentes divisiones posibles de la consulta, construyendo los términos de qué, relación y dónde a través de concatenaciones de los tokens individuales. El término de relación se compara con una lista de valores posibles (por ejemplo, cerca, en, alrededor o al sur de), que corresponden a los operadores admitidos por el sistema GIR. Cabe destacar que también es responsabilidad del sistema GIR subyacente interpretar el significado real de las diferentes relaciones espaciales. El algoritmo 1 se utiliza para verificar si un término \"where\" constituye una referencia geográfica o no. También verificamos si la última palabra en el término pertenece a una lista de excepciones, que incluye, por ejemplo, nombres propios de personas en diferentes idiomas. Esto garantiza que una consulta como Denzel Washington sea manejada adecuadamente. Si el algoritmo tiene éxito en encontrar una relación válida y los términos correspondientes, entonces se devuelve el triple correspondiente. De lo contrario, devolvemos un triple con el término \"qué\" igual al string de consulta, y los términos de relación y ubicación establecidos como vacíos. Si toda la cadena de consulta constituye una referencia geográfica, devolvemos un triple con el término \"what\" establecido como vacío, el término \"where\" igual a la cadena de consulta, y el término de relación establecido como DEFINICIÓN (es decir, estas consultas deben ser respondidas con información sobre los lugares mencionados). El algoritmo también maneja cadenas de consulta donde se proporcionan más de una referencia geográfica, utilizando \"and\" o una preposición equivalente, junto con una llamada recursiva al Algoritmo 2. Una consulta como el comercio de diamantes en Angola y Sudáfrica es el Algoritmo 2 Obtener < qué, relación, dónde > de una cadena de consulta. Requiere: O = Una ontología geográfica. Requiere: Q = Una cadena no vacía con la consulta. 1: Q = La cadena Q después de eliminar mayúsculas y diacríticos. 2: TOKENS[0..N] = Un array de cadenas con las palabras individuales de Q. 3: N = El tamaño del array TOKENS. 4: para INDEX = 0 a N hacer 5: si INDEX = 0 entonces 6: QUÉ = Concatenación de TOKENS[0..INDEX −1] 7: ÚLTIMOQUÉ = TOKENS[INDEX −1] 8: sino 9: QUÉ = Una cadena vacía 10: ÚLTIMOQUÉ = Una cadena vacía 11: fin si 12: DÓNDE = Concatenación de TOKENS[INDEX..N] 13: RELACIÓN = Una cadena vacía 14: para INDEX2 = INDEX a N −1 hacer 15: RELACIÓN2 = Concatenación de TOKENS[INDEX..INDEX2] 16: si RELACIÓN2 es una relación geográfica válida entonces 17: DÓNDE = Concatenación de S[INDEX2 +1..N] 18: RELACIÓN = RELACIÓN2 19: fin si 20: fin para 21: si RELACIÓN = vacío Y ÚLTIMOQUÉ es una excepción entonces 22: TESTGEO = FALSO 23: sino 24: TESTGEO = VERDADERO 25: fin si 26: si TESTGEO Y Algoritmo1(DÓNDE) <> VACÍO entonces 27: si DÓNDE termina con Y ALREDEDORES entonces 28: RELACIÓN = La cadena CERCA 29: DÓNDE = La subcadena de DÓNDE con Y ALREDEDORES eliminado 30: fin si 31: si QUÉ termina con Y o similar entonces 32: < QUÉ, RELACIÓN, DÓNDE2 > = Algoritmo2(QUÉ) 33: DÓNDE = Concatenación de DÓNDE con DÓNDE2 34: fin si 35: si RELACIÓN = Una cadena vacía entonces 36: si QUÉ = Una cadena vacía entonces 37: RELACIÓN = La cadena DEFINICIÓN 38: sino 39: RELACIÓN = La cadena CONTENIDO-EN 40: fin si 41: fin si 42: sino 43: QUÉ = La cadena Q 44: DÓNDE = Una cadena vacía 45: RELACIÓN = Una cadena vacía 46: fin si 47: fin para 48: retornar < QUÉ, RELACIÓN, DÓNDE > por lo tanto manejado adecuadamente. Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una referencia de lugar. Sin embargo, el hecho de que una consulta pueda estar asociada con un contexto geográfico puede que no sea directamente observable en la consulta en sí, sino más bien a partir de los resultados devueltos. Por ejemplo, consultas como hoteles recomendados para SIGIR 2006 o alojamiento para SeaFair 2006 pueden referirse a la ciudad de Seattle. Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle. En los casos en los que una consulta no contiene referencias de lugar, comenzamos asumiendo que los resultados principales de un motor de búsqueda representan el contexto y uso más popular y correcto para la consulta. Propongo utilizar las características de distribución de los ámbitos geográficos previamente asignados a los documentos correspondientes a estos principales resultados. En un trabajo previo, presentamos un enfoque de minería de texto para asignar documentos con alcances geográficos correspondientes, definidos en una ontología, que funcionaba como una etapa de preprocesamiento sin conexión en un sistema GIR [13]. Este paso de preprocesamiento es una etapa fundamental de GIR, y es razonable asumir que este tipo de información estaría disponible en cualquier sistema. De manera similar a Wang et al., también podríamos intentar procesar los resultados en línea, con el fin de detectar referencias de lugares en los documentos [17]. Sin embargo, un sistema GIR ya requiere la etapa fuera de línea. Para los N documentos principales dados en los resultados, verificamos los alcances geográficos que les fueron asignados. Si una parte significativa de los resultados se asigna al mismo ámbito, entonces la consulta puede considerarse relacionada con el concepto geográfico correspondiente. Esta suposición incluso podría ser relajada, por ejemplo, verificando si los documentos pertenecen a ámbitos que están jerárquicamente relacionados. 4. EXPERIMENTOS DE EVALUACIÓN Utilizamos tres ontologías diferentes en experimentos de evaluación, a saber, el tesauro de nombres geográficos de Getty (TGN) [6] y dos recursos específicos desarrollados en nuestro grupo, aquí referidos como las ontologías PT y ML [2]. TGN y ML incluyen información geográfica global en varios idiomas (aunque TGN es considerablemente más grande), mientras que la ontología PT se centra en el territorio portugués con un alto nivel de detalle. Los tipos de lugares también son diferentes entre ontologías, por ejemplo, PT incluye nombres de calles y direcciones postales, mientras que ML solo llega al nivel de ciudades. El lector debe consultar [2, 6] para obtener una descripción completa de estos recursos. Nuestros experimentos iniciales utilizaron temas en portugués e inglés de las campañas de evaluación GeoCLEF 2005 y 2006. Los temas en GeoCLEF corresponden a cadenas de consulta que pueden ser utilizadas como entrada a un sistema GIR [4]. ImageCLEF 2006 también incluyó temas que especificaban referencias de lugar, y se alentó a los participantes a ejecutar sus sistemas GIR en ellos. Nuestros experimentos también consideraron este conjunto de datos. Para cada tema, medimos si el Algoritmo 2 fue capaz de encontrar el triple correspondiente < qué, relación, dónde >. Las ontologías utilizadas en este experimento fueron TGN y ML, ya que los temas se presentaron en varios idiomas y abarcaron todo el mundo. Número de conjunto de datos de triples correctos Tiempo por consulta Consultas ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Tabla 2: Resumen de resultados sobre temas de CLEF. La Tabla 1 ilustra algunos de los temas, y la Tabla 2 resume los resultados obtenidos. Las tablas muestran que la técnica propuesta maneja adecuadamente la mayoría de estas consultas. Una inspección manual de los conceptos de la ontología que se devolvieron para cada caso también reveló que el término \"where\" estaba siendo correctamente desambiguado. Ten en cuenta que la ontología TGN de hecho añadió cierta ambigüedad, ya que por ejemplo nombres como Madrid pueden corresponder a muchos lugares diferentes alrededor del mundo. También hay que tener en cuenta que algunos de los temas considerados son muy difíciles de manejar para un sistema automatizado. Algunos de ellos eran ambiguos (por ejemplo, en las importaciones de arroz japonés, la consulta puede referirse tanto a las importaciones de arroz en Japón como a las importaciones de arroz japonés), y otros no contenían referencias geográficas directas (por ejemplo, ciudades cerca de volcanes activos). Además de estos casos muy difíciles, también nos faltaron algunos temas debido a su uso de adjetivos de lugar y regiones específicas que no están definidas en las ontologías (por ejemplo, preocupaciones ambientales en torno a los Trossachs escoceses). En un segundo experimento, utilizamos una muestra de alrededor de 100,000 consultas reales en motores de búsqueda. El objetivo era ver si un número significativo de estas consultas eran de naturaleza geográfica, también comprobando si el algoritmo no cometía muchos errores al clasificar una consulta como geográfica cuando no era el caso. La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un motor de búsqueda web portugués disponible en www.tumba.pt. La Tabla 3 resume los resultados obtenidos. Muchas consultas eran de hecho geográficas (alrededor del 3.4%, aunque estudios previos reportaron valores superiores al 14% [8]). Una inspección manual mostró que el algoritmo no produjo muchos falsos positivos, y las consultas geográficas fueron divididas correctamente en triples < qué, relación, dónde > correctos. Los pocos errores que encontramos estaban relacionados con nombres de lugares que se utilizaban con más frecuencia en otros contextos (por ejemplo, en Teófilo Braga tenemos el problema de que Braga es un distrito portugués, y Teófilo Braga fue un conocido escritor y político portugués). La adición de más nombres a la lista de excepciones puede proporcionar una solución alternativa para la mayoría de estos casos. Valor Num. Consultas 110,916 Num. Consultas sin Referencias Geográficas 107,159 (96.6%) Núm. Consultas con Referencias Geográficas 3,757 (3.4%) Tabla 3: Resultados de un experimento con registros de motores de búsqueda. También probamos el procedimiento para detectar consultas que son implícitamente geográficas con una pequeña muestra de consultas de los registros. Por ejemplo, para la consulta Estádio do Dragão (por ejemplo, estadio local de un equipo de fútbol de Oporto), el contexto geográfico correcto se puede descubrir a partir del análisis de los resultados (más del 75% de los 20 resultados principales están asignados al ámbito de Oporto). Para trabajos futuros, planeamos utilizar una colección más grande de consultas para evaluar este aspecto. Además de las consultas de los registros del motor de búsqueda, también planeamos utilizar los nombres de edificios, monumentos y otros lugares emblemáticos conocidos, ya que tienen una fuerte connotación geográfica. Finalmente, también realizamos un experimento comparativo con 2 geocodificadores populares, Maporama y Microsoft's Mappoint. El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una referencia de lugar. Parroquias civiles del mapa de Lisboa de Maporama Mappoint Nuestros códigos de referencia (de 53) 9 (16,9%) 30 (56,6%) 15 (28,3%) Prom. Tiempo por referencia (mseg) 506.23 1235.87 143.43 Parroquias civiles del mapa de Porto Maporama Mappoint Nuestros refs. codificados (de 15) 0 (0%) 2 (13,3%) 5 (33,3%) Prom. Tiempo por referencia (mseg) 514.45 991.88 132.14 Tabla 4: Resultados de una comparación con servicios de geocodificación. La ontología portuguesa fue utilizada en este experimento, tomando como entrada los nombres de las parroquias civiles de los municipios portugueses de Lisboa y Oporto, y comprobando si los sistemas fueron capaces de desambiguar el nombre completo (por ejemplo, Campo Grande, Lisboa o Foz do Douro, Oporto) en el geocódigo correcto. Específicamente medimos si nuestro enfoque era mejor para devolver de manera inequívoca geocódigos dados los lugares de referencia (es decir, devolver el único código correcto) y proporcionar resultados rápidamente. La Tabla 4 muestra los resultados obtenidos, y la precisión de nuestro método parece comparable a la de los geocodificadores comerciales. Ten en cuenta que para Maporama y Mappoint, los tiempos indicados en la Tabla 4 incluyen la obtención de resultados de la Web, pero no tenemos una forma directa de acceder a los algoritmos de geocodificación (en ambos casos, la obtención de contenido estático de los servidores web toma alrededor de 125 milisegundos). Aunque nuestro enfoque no puede devolver de manera inequívoca el geocódigo correcto en la mayoría de los casos (solo 20 de un total de 68 casos), no obstante devuelve resultados que un usuario humano puede desambiguar (por ejemplo, para Madalena, Lisboa devolvemos tanto una calle como una freguesía), a diferencia de otros sistemas que a menudo no producían resultados. Además, si consideramos el geocódigo superior según el procedimiento de clasificación descrito en la Sección 3.1, o si utilizamos un calificador de tipo en el nombre (por ejemplo, freguesía de Campo Grande, Lisboa), nuestro algoritmo siempre devuelve el geocódigo correcto. 5. CONCLUSIONES Este artículo presentó enfoques simples para manejar referencias de lugares en consultas de motores de búsqueda. Este es un problema difícil de minería de texto, ya que las consultas suelen ser ambiguas o no especifican adecuadamente las necesidades de información. Sin embargo, nuestros experimentos iniciales indican que para muchas consultas, los lugares referenciados pueden ser determinados de manera efectiva. A diferencia de las técnicas propuestas por Wang et al. [17], nos enfocamos principalmente en reconocer relaciones espaciales y asociar nombres de lugares a conceptos de ontología. Las técnicas propuestas fueron empleadas en el sistema prototipo que utilizamos para participar en GeoCLEF 2006. En consultas donde no se menciona explícitamente una referencia geográfica, proponemos utilizar los resultados de la consulta, aprovechando los ámbitos geográficos asignados previamente a estos documentos. En el futuro, planeamos realizar una evaluación cuidadosa de este último enfoque. Otra idea que nos gustaría probar implica la integración de un mecanismo de corrección ortográfica [12] en el Algoritmo 1, de modo que las referencias de lugares con errores ortográficos puedan ser relacionadas con conceptos de la ontología. Las técnicas propuestas para manejar consultas geográficas pueden tener muchas aplicaciones en la mejora de los sistemas de recuperación de información geográfica o incluso en los motores de búsqueda de propósito general. Después de que las referencias de lugar se hayan desambiguado adecuadamente en conceptos de ontología, un sistema GIR puede utilizarlas para recuperar resultados relevantes, a través del uso de estructuras de índices apropiadas (por ejemplo, indexando las coordenadas espaciales asociadas con los conceptos de ontología) y siempre que los documentos también estén asignados a ámbitos correspondientes a los conceptos de ontología. Una estrategia GIR diferente puede implicar la expansión de consultas, tomando los términos de ubicación de la consulta y utilizando la ontología para agregar nombres de ubicaciones vecinas. En un motor de búsqueda de propósito general, si se detecta una consulta local, podemos redirigir a los usuarios a un sistema GIR, que debería ser más adecuado para manejar correctamente la consulta. La interfaz de búsqueda regular de Google ya hace esto, presentando un enlace a Google Local cuando detecta una consulta geográfica. REFERENCIAS [1] E. Amitay, N. HarEl, R. Sivan y A. Soffer. Web-a-Where: Geolocalización de contenido web. En Actas de SIGIR-04, la 27ª Conferencia sobre investigación y desarrollo en recuperación de información, 2004. [2] M. Chaves, M. J. Silva y B. Martins. Una Base de Conocimiento Geográfico para Aplicaciones de la Web Semántica. En las Actas de SBBD-05, el 20º Simposio Brasileño de Bases de Datos, 2005. [3] N. A. Chinchor. Resumen de MUC-7/MET-2. En las Actas de MUC-7, la 7ª Conferencia de Comprensión de Mensajes, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho y P. Clough. GeoCLEF: la pista de recuperación de información geográfica en varios idiomas de CLEF 2005. En Notas de Trabajo para el Taller CLEF 2005, 2005. [5] L. Gravano, V. Hatzivassiloglou y R. Lichtenstein. Clasificación de consultas web según la localidad geográfica. En las Actas de CIKM-03, la 12ª Conferencia sobre Gestión de la Información y el Conocimiento, 2003. [6] P. Harpring. Palabras adecuadas en lugares adecuados: El tesauro de nombres geográficos. MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, y R. Weibel. Recuperación de información espacial y ontologías geográficas: Una visión general del proyecto SPIRIT. En Actas de SIGIR-02, la 25ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2002. [8] J. Kohler. Analizando las consultas de motores de búsqueda para el uso de términos geográficos, 2003. (Tesis de maestría). [9] A. Kornai y B. Sundheim, editores. Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [10] Y. Li, Z. Zheng y H. Dai. Informe de la KDD CUP-2005: Enfrentando un gran desafío. SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard y H. Cunningham. Experimentos con conocimiento geográfico para extracción de información. En Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [12] B. Martins y M. J. Silva. Corrección ortográfica para consultas en motores de búsqueda. En Actas de EsTAL-04, España para el Procesamiento del Lenguaje Natural, 2004. [13] B. Martins y M. J. Silva. Un algoritmo de clasificación de gráficos para georreferenciar documentos. En las Actas de ICDM-05, la 5ta Conferencia Internacional de Minería de Datos de IEEE, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni y A. Laender. El papel de los gaceteros en el descubrimiento del conocimiento geográfico en la web. En las Actas de LA-Web-05, el 3er Congreso Web Latinoamericano, 2005. [15] E. Tjong, K. Sang y F. D. Meulder. Introducción a la tarea compartida CoNLL-2003: Reconocimiento de Entidades Nombradas Independiente del Idioma. En las Actas de CoNLL-2003, la 7ª Conferencia sobre Aprendizaje de Lenguaje Natural, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges y T. Scheffer. Clasificando consultas de motores de búsqueda utilizando la Web como conocimiento de fondo. Boletín de Exploraciones SIGKDD, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y. Ma, y Y. Li. Detectando ubicaciones dominantes a partir de consultas de búsqueda. En las Actas de SIGIR-05, la 28ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2005. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "locationimplicit queries": {
            "translated_key": "consultas implícitas de ubicación",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle <br>locationimplicit queries</br>.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [
                "However, the intrinsics of their solution are not published, and their approach also does not handle <br>locationimplicit queries</br>."
            ],
            "translated_annotated_samples": [
                "Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja <br>consultas implícitas de ubicación</br>."
            ],
            "translated_text": "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la recuperación de información geográfica. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica). Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10]. Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas. Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico. Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5]. Definieron una consulta como local si sus mejores coincidencias en un motor de búsqueda web probablemente sean páginas locales, como casas en venta. Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda. Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja. El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés. Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17]. El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda. En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una ontología geográfica. Nuestro enfoque busca relaciones espaciales en la cadena de consulta, y también asocia las referencias de lugar a conceptos de ontología. En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales. Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones. La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas. Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada. En lugar de calcular coordenadas para una referencia de lugar dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes. Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación. La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan. Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación. Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la consulta de búsqueda. Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta. Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA. Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja <br>consultas implícitas de ubicación</br>. Además, Google Local no tiene en cuenta las relaciones espaciales. En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado. En este documento, explicamos las soluciones propuestas para los problemas identificados. 3. MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde. Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado. En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología. Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios. Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de Recuperación de Información Geográfica. 1. La entrada al sistema es una cadena de consulta textual. Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\". El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles. Aunque no es necesario separar la cadena de consulta en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3. La entrada al sistema se proporciona a través de una cadena de consulta junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles). No se requiere desambiguación, por lo tanto, las técnicas descritas en este documento no tienen que ser aplicadas. Los dos primeros esquemas dependen de la desambiguación de nombres de lugares. La Figura 1 ilustra cómo proponemos manejar consultas geográficas en estos dos esquemas iniciales. Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la ontología geográfica. Proponemos hacer esto de acuerdo al pseudo-código listado en el Algoritmo 1. El algoritmo considera los casos en los que se proporciona una segunda (o incluso más de una) ubicación para calificar a una primera (por ejemplo, París, Francia. Realiza llamadas recursivas para hacer coincidir cada ubicación, y se basa en relaciones jerárquicas de partes para detectar si dos ubicaciones comparten una ruta jerárquica común. Una de las ubicaciones proporcionadas debe ser más general y la otra más específica, en el sentido de que debe existir una relación de parte entre los conceptos asociados en la ontología (ya sea directa o transitiva). La ubicación más específica es una subregión de la más general, y el algoritmo devuelve la más específica (es decir, para París, Francia, el algoritmo devuelve el concepto de ontología asociado con París, la capital de Francia). También consideramos los casos en los que se utiliza una expresión de tipo geográfico para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York). Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una ontología geográfica, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una ontología geográfica. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación. Los calificadores de tipo considerados también deben ser descritos en las ontologías (por ejemplo, cada concepto geográfico debe estar asociado a un tipo que también esté definido en la ontología, como país, distrito o ciudad). Idealmente, la referencia geográfica proporcionada por el usuario debería ser desambiguada en un único concepto de ontología. Sin embargo, esto no siempre es posible, ya que el usuario puede no proporcionar toda la información requerida (es decir, una expresión de tipo o una segunda ubicación de calificación). Por lo tanto, la salida es una lista con los posibles conceptos a los que se refiere el usuario. En un paso final, proponemos ordenar esta lista, de modo que si se requiere un solo concepto como resultado, podamos utilizar el que esté clasificado más alto. El procedimiento de clasificación refleja la probabilidad de que cada concepto sea realmente el mencionado. Proponemos clasificar conceptos de acuerdo con las siguientes heurísticas: 1. La expresión de tipo geográfico asociada con el concepto de ontología. Para el mismo nombre, es más probable que se haga referencia a un país que a una ciudad, y a su vez, es más probable que se haga referencia a una ciudad que a una calle. Número de ancestros en la ontología. Los lugares principales en la ontología tienden a ser más generales, y por lo tanto es más probable que sean referenciados en consultas de motores de búsqueda. 3. Recuento de población. Los lugares altamente poblados son más conocidos, y por lo tanto es más probable que sean referenciados en consultas. Recuentos de población de ancestros directos en la ontología. Las subregiones de lugares altamente poblados son más conocidas y también es más probable que sean referenciadas en consultas de motores de búsqueda. Frecuencia de ocurrencia en documentos web (por ejemplo, Google cuenta) para los nombres geográficos. Los nombres de lugares que ocurren con más frecuencia en documentos web también son más propensos a ser referenciados en consultas de motores de búsqueda. 6. Número de descendientes en la ontología. Los lugares que tienen más subregiones tienden a ser más generales, y por lo tanto es más probable que sean mencionados en las consultas de los motores de búsqueda. 7. Tamaño de cadena para los nombres geográficos. Los nombres cortos son más propensos a ser mencionados en las consultas de motores de búsqueda. El Algoritmo 1, junto con el procedimiento de clasificación, ya puede manejar consultas GIR donde el término \"where\" se proporciona por separado de los términos \"what\" y \"relation\". Sin embargo, si la consulta se proporciona en una sola cadena, requerimos la identificación del triple asociado < qué, relación, dónde > antes de desambiguar el término de ubicación en los conceptos de la ontología correspondiente. Esto se describe en la siguiente Sección. 3.2 Manejo de Cadenas de Consulta Única. El Algoritmo 2 proporciona el mecanismo para separar una cadena de consulta en un triple < qué, relación, dónde >. Utiliza el Algoritmo 1 para encontrar dónde se encuentra el término, desambiguándolo en un conjunto de conceptos de ontología. El algoritmo comienza tokenizando la cadena de consulta en palabras individuales, también encargándose de eliminar mayúsculas y diacríticos. Tenemos un tokenizador simple que utiliza el espacio como delimitador de palabras, pero también podríamos tener un enfoque de tokenización similar a la propuesta de Wang et al., que se basa en estadísticas de ocurrencia en la web para evitar romper colocaciones [17]. En el futuro, planeamos probar si este esquema de tokenización diferente puede mejorar los resultados. A continuación, el algoritmo prueba diferentes divisiones posibles de la consulta, construyendo los términos de qué, relación y dónde a través de concatenaciones de los tokens individuales. El término de relación se compara con una lista de valores posibles (por ejemplo, cerca, en, alrededor o al sur de), que corresponden a los operadores admitidos por el sistema GIR. Cabe destacar que también es responsabilidad del sistema GIR subyacente interpretar el significado real de las diferentes relaciones espaciales. El algoritmo 1 se utiliza para verificar si un término \"where\" constituye una referencia geográfica o no. También verificamos si la última palabra en el término pertenece a una lista de excepciones, que incluye, por ejemplo, nombres propios de personas en diferentes idiomas. Esto garantiza que una consulta como Denzel Washington sea manejada adecuadamente. Si el algoritmo tiene éxito en encontrar una relación válida y los términos correspondientes, entonces se devuelve el triple correspondiente. De lo contrario, devolvemos un triple con el término \"qué\" igual al string de consulta, y los términos de relación y ubicación establecidos como vacíos. Si toda la cadena de consulta constituye una referencia geográfica, devolvemos un triple con el término \"what\" establecido como vacío, el término \"where\" igual a la cadena de consulta, y el término de relación establecido como DEFINICIÓN (es decir, estas consultas deben ser respondidas con información sobre los lugares mencionados). El algoritmo también maneja cadenas de consulta donde se proporcionan más de una referencia geográfica, utilizando \"and\" o una preposición equivalente, junto con una llamada recursiva al Algoritmo 2. Una consulta como el comercio de diamantes en Angola y Sudáfrica es el Algoritmo 2 Obtener < qué, relación, dónde > de una cadena de consulta. Requiere: O = Una ontología geográfica. Requiere: Q = Una cadena no vacía con la consulta. 1: Q = La cadena Q después de eliminar mayúsculas y diacríticos. 2: TOKENS[0..N] = Un array de cadenas con las palabras individuales de Q. 3: N = El tamaño del array TOKENS. 4: para INDEX = 0 a N hacer 5: si INDEX = 0 entonces 6: QUÉ = Concatenación de TOKENS[0..INDEX −1] 7: ÚLTIMOQUÉ = TOKENS[INDEX −1] 8: sino 9: QUÉ = Una cadena vacía 10: ÚLTIMOQUÉ = Una cadena vacía 11: fin si 12: DÓNDE = Concatenación de TOKENS[INDEX..N] 13: RELACIÓN = Una cadena vacía 14: para INDEX2 = INDEX a N −1 hacer 15: RELACIÓN2 = Concatenación de TOKENS[INDEX..INDEX2] 16: si RELACIÓN2 es una relación geográfica válida entonces 17: DÓNDE = Concatenación de S[INDEX2 +1..N] 18: RELACIÓN = RELACIÓN2 19: fin si 20: fin para 21: si RELACIÓN = vacío Y ÚLTIMOQUÉ es una excepción entonces 22: TESTGEO = FALSO 23: sino 24: TESTGEO = VERDADERO 25: fin si 26: si TESTGEO Y Algoritmo1(DÓNDE) <> VACÍO entonces 27: si DÓNDE termina con Y ALREDEDORES entonces 28: RELACIÓN = La cadena CERCA 29: DÓNDE = La subcadena de DÓNDE con Y ALREDEDORES eliminado 30: fin si 31: si QUÉ termina con Y o similar entonces 32: < QUÉ, RELACIÓN, DÓNDE2 > = Algoritmo2(QUÉ) 33: DÓNDE = Concatenación de DÓNDE con DÓNDE2 34: fin si 35: si RELACIÓN = Una cadena vacía entonces 36: si QUÉ = Una cadena vacía entonces 37: RELACIÓN = La cadena DEFINICIÓN 38: sino 39: RELACIÓN = La cadena CONTENIDO-EN 40: fin si 41: fin si 42: sino 43: QUÉ = La cadena Q 44: DÓNDE = Una cadena vacía 45: RELACIÓN = Una cadena vacía 46: fin si 47: fin para 48: retornar < QUÉ, RELACIÓN, DÓNDE > por lo tanto manejado adecuadamente. Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una referencia de lugar. Sin embargo, el hecho de que una consulta pueda estar asociada con un contexto geográfico puede que no sea directamente observable en la consulta en sí, sino más bien a partir de los resultados devueltos. Por ejemplo, consultas como hoteles recomendados para SIGIR 2006 o alojamiento para SeaFair 2006 pueden referirse a la ciudad de Seattle. Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle. En los casos en los que una consulta no contiene referencias de lugar, comenzamos asumiendo que los resultados principales de un motor de búsqueda representan el contexto y uso más popular y correcto para la consulta. Propongo utilizar las características de distribución de los ámbitos geográficos previamente asignados a los documentos correspondientes a estos principales resultados. En un trabajo previo, presentamos un enfoque de minería de texto para asignar documentos con alcances geográficos correspondientes, definidos en una ontología, que funcionaba como una etapa de preprocesamiento sin conexión en un sistema GIR [13]. Este paso de preprocesamiento es una etapa fundamental de GIR, y es razonable asumir que este tipo de información estaría disponible en cualquier sistema. De manera similar a Wang et al., también podríamos intentar procesar los resultados en línea, con el fin de detectar referencias de lugares en los documentos [17]. Sin embargo, un sistema GIR ya requiere la etapa fuera de línea. Para los N documentos principales dados en los resultados, verificamos los alcances geográficos que les fueron asignados. Si una parte significativa de los resultados se asigna al mismo ámbito, entonces la consulta puede considerarse relacionada con el concepto geográfico correspondiente. Esta suposición incluso podría ser relajada, por ejemplo, verificando si los documentos pertenecen a ámbitos que están jerárquicamente relacionados. 4. EXPERIMENTOS DE EVALUACIÓN Utilizamos tres ontologías diferentes en experimentos de evaluación, a saber, el tesauro de nombres geográficos de Getty (TGN) [6] y dos recursos específicos desarrollados en nuestro grupo, aquí referidos como las ontologías PT y ML [2]. TGN y ML incluyen información geográfica global en varios idiomas (aunque TGN es considerablemente más grande), mientras que la ontología PT se centra en el territorio portugués con un alto nivel de detalle. Los tipos de lugares también son diferentes entre ontologías, por ejemplo, PT incluye nombres de calles y direcciones postales, mientras que ML solo llega al nivel de ciudades. El lector debe consultar [2, 6] para obtener una descripción completa de estos recursos. Nuestros experimentos iniciales utilizaron temas en portugués e inglés de las campañas de evaluación GeoCLEF 2005 y 2006. Los temas en GeoCLEF corresponden a cadenas de consulta que pueden ser utilizadas como entrada a un sistema GIR [4]. ImageCLEF 2006 también incluyó temas que especificaban referencias de lugar, y se alentó a los participantes a ejecutar sus sistemas GIR en ellos. Nuestros experimentos también consideraron este conjunto de datos. Para cada tema, medimos si el Algoritmo 2 fue capaz de encontrar el triple correspondiente < qué, relación, dónde >. Las ontologías utilizadas en este experimento fueron TGN y ML, ya que los temas se presentaron en varios idiomas y abarcaron todo el mundo. Número de conjunto de datos de triples correctos Tiempo por consulta Consultas ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Tabla 2: Resumen de resultados sobre temas de CLEF. La Tabla 1 ilustra algunos de los temas, y la Tabla 2 resume los resultados obtenidos. Las tablas muestran que la técnica propuesta maneja adecuadamente la mayoría de estas consultas. Una inspección manual de los conceptos de la ontología que se devolvieron para cada caso también reveló que el término \"where\" estaba siendo correctamente desambiguado. Ten en cuenta que la ontología TGN de hecho añadió cierta ambigüedad, ya que por ejemplo nombres como Madrid pueden corresponder a muchos lugares diferentes alrededor del mundo. También hay que tener en cuenta que algunos de los temas considerados son muy difíciles de manejar para un sistema automatizado. Algunos de ellos eran ambiguos (por ejemplo, en las importaciones de arroz japonés, la consulta puede referirse tanto a las importaciones de arroz en Japón como a las importaciones de arroz japonés), y otros no contenían referencias geográficas directas (por ejemplo, ciudades cerca de volcanes activos). Además de estos casos muy difíciles, también nos faltaron algunos temas debido a su uso de adjetivos de lugar y regiones específicas que no están definidas en las ontologías (por ejemplo, preocupaciones ambientales en torno a los Trossachs escoceses). En un segundo experimento, utilizamos una muestra de alrededor de 100,000 consultas reales en motores de búsqueda. El objetivo era ver si un número significativo de estas consultas eran de naturaleza geográfica, también comprobando si el algoritmo no cometía muchos errores al clasificar una consulta como geográfica cuando no era el caso. La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un motor de búsqueda web portugués disponible en www.tumba.pt. La Tabla 3 resume los resultados obtenidos. Muchas consultas eran de hecho geográficas (alrededor del 3.4%, aunque estudios previos reportaron valores superiores al 14% [8]). Una inspección manual mostró que el algoritmo no produjo muchos falsos positivos, y las consultas geográficas fueron divididas correctamente en triples < qué, relación, dónde > correctos. Los pocos errores que encontramos estaban relacionados con nombres de lugares que se utilizaban con más frecuencia en otros contextos (por ejemplo, en Teófilo Braga tenemos el problema de que Braga es un distrito portugués, y Teófilo Braga fue un conocido escritor y político portugués). La adición de más nombres a la lista de excepciones puede proporcionar una solución alternativa para la mayoría de estos casos. Valor Num. Consultas 110,916 Num. Consultas sin Referencias Geográficas 107,159 (96.6%) Núm. Consultas con Referencias Geográficas 3,757 (3.4%) Tabla 3: Resultados de un experimento con registros de motores de búsqueda. También probamos el procedimiento para detectar consultas que son implícitamente geográficas con una pequeña muestra de consultas de los registros. Por ejemplo, para la consulta Estádio do Dragão (por ejemplo, estadio local de un equipo de fútbol de Oporto), el contexto geográfico correcto se puede descubrir a partir del análisis de los resultados (más del 75% de los 20 resultados principales están asignados al ámbito de Oporto). Para trabajos futuros, planeamos utilizar una colección más grande de consultas para evaluar este aspecto. Además de las consultas de los registros del motor de búsqueda, también planeamos utilizar los nombres de edificios, monumentos y otros lugares emblemáticos conocidos, ya que tienen una fuerte connotación geográfica. Finalmente, también realizamos un experimento comparativo con 2 geocodificadores populares, Maporama y Microsoft's Mappoint. El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una referencia de lugar. Parroquias civiles del mapa de Lisboa de Maporama Mappoint Nuestros códigos de referencia (de 53) 9 (16,9%) 30 (56,6%) 15 (28,3%) Prom. Tiempo por referencia (mseg) 506.23 1235.87 143.43 Parroquias civiles del mapa de Porto Maporama Mappoint Nuestros refs. codificados (de 15) 0 (0%) 2 (13,3%) 5 (33,3%) Prom. Tiempo por referencia (mseg) 514.45 991.88 132.14 Tabla 4: Resultados de una comparación con servicios de geocodificación. La ontología portuguesa fue utilizada en este experimento, tomando como entrada los nombres de las parroquias civiles de los municipios portugueses de Lisboa y Oporto, y comprobando si los sistemas fueron capaces de desambiguar el nombre completo (por ejemplo, Campo Grande, Lisboa o Foz do Douro, Oporto) en el geocódigo correcto. Específicamente medimos si nuestro enfoque era mejor para devolver de manera inequívoca geocódigos dados los lugares de referencia (es decir, devolver el único código correcto) y proporcionar resultados rápidamente. La Tabla 4 muestra los resultados obtenidos, y la precisión de nuestro método parece comparable a la de los geocodificadores comerciales. Ten en cuenta que para Maporama y Mappoint, los tiempos indicados en la Tabla 4 incluyen la obtención de resultados de la Web, pero no tenemos una forma directa de acceder a los algoritmos de geocodificación (en ambos casos, la obtención de contenido estático de los servidores web toma alrededor de 125 milisegundos). Aunque nuestro enfoque no puede devolver de manera inequívoca el geocódigo correcto en la mayoría de los casos (solo 20 de un total de 68 casos), no obstante devuelve resultados que un usuario humano puede desambiguar (por ejemplo, para Madalena, Lisboa devolvemos tanto una calle como una freguesía), a diferencia de otros sistemas que a menudo no producían resultados. Además, si consideramos el geocódigo superior según el procedimiento de clasificación descrito en la Sección 3.1, o si utilizamos un calificador de tipo en el nombre (por ejemplo, freguesía de Campo Grande, Lisboa), nuestro algoritmo siempre devuelve el geocódigo correcto. 5. CONCLUSIONES Este artículo presentó enfoques simples para manejar referencias de lugares en consultas de motores de búsqueda. Este es un problema difícil de minería de texto, ya que las consultas suelen ser ambiguas o no especifican adecuadamente las necesidades de información. Sin embargo, nuestros experimentos iniciales indican que para muchas consultas, los lugares referenciados pueden ser determinados de manera efectiva. A diferencia de las técnicas propuestas por Wang et al. [17], nos enfocamos principalmente en reconocer relaciones espaciales y asociar nombres de lugares a conceptos de ontología. Las técnicas propuestas fueron empleadas en el sistema prototipo que utilizamos para participar en GeoCLEF 2006. En consultas donde no se menciona explícitamente una referencia geográfica, proponemos utilizar los resultados de la consulta, aprovechando los ámbitos geográficos asignados previamente a estos documentos. En el futuro, planeamos realizar una evaluación cuidadosa de este último enfoque. Otra idea que nos gustaría probar implica la integración de un mecanismo de corrección ortográfica [12] en el Algoritmo 1, de modo que las referencias de lugares con errores ortográficos puedan ser relacionadas con conceptos de la ontología. Las técnicas propuestas para manejar consultas geográficas pueden tener muchas aplicaciones en la mejora de los sistemas de recuperación de información geográfica o incluso en los motores de búsqueda de propósito general. Después de que las referencias de lugar se hayan desambiguado adecuadamente en conceptos de ontología, un sistema GIR puede utilizarlas para recuperar resultados relevantes, a través del uso de estructuras de índices apropiadas (por ejemplo, indexando las coordenadas espaciales asociadas con los conceptos de ontología) y siempre que los documentos también estén asignados a ámbitos correspondientes a los conceptos de ontología. Una estrategia GIR diferente puede implicar la expansión de consultas, tomando los términos de ubicación de la consulta y utilizando la ontología para agregar nombres de ubicaciones vecinas. En un motor de búsqueda de propósito general, si se detecta una consulta local, podemos redirigir a los usuarios a un sistema GIR, que debería ser más adecuado para manejar correctamente la consulta. La interfaz de búsqueda regular de Google ya hace esto, presentando un enlace a Google Local cuando detecta una consulta geográfica. REFERENCIAS [1] E. Amitay, N. HarEl, R. Sivan y A. Soffer. Web-a-Where: Geolocalización de contenido web. En Actas de SIGIR-04, la 27ª Conferencia sobre investigación y desarrollo en recuperación de información, 2004. [2] M. Chaves, M. J. Silva y B. Martins. Una Base de Conocimiento Geográfico para Aplicaciones de la Web Semántica. En las Actas de SBBD-05, el 20º Simposio Brasileño de Bases de Datos, 2005. [3] N. A. Chinchor. Resumen de MUC-7/MET-2. En las Actas de MUC-7, la 7ª Conferencia de Comprensión de Mensajes, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho y P. Clough. GeoCLEF: la pista de recuperación de información geográfica en varios idiomas de CLEF 2005. En Notas de Trabajo para el Taller CLEF 2005, 2005. [5] L. Gravano, V. Hatzivassiloglou y R. Lichtenstein. Clasificación de consultas web según la localidad geográfica. En las Actas de CIKM-03, la 12ª Conferencia sobre Gestión de la Información y el Conocimiento, 2003. [6] P. Harpring. Palabras adecuadas en lugares adecuados: El tesauro de nombres geográficos. MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, y R. Weibel. Recuperación de información espacial y ontologías geográficas: Una visión general del proyecto SPIRIT. En Actas de SIGIR-02, la 25ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2002. [8] J. Kohler. Analizando las consultas de motores de búsqueda para el uso de términos geográficos, 2003. (Tesis de maestría). [9] A. Kornai y B. Sundheim, editores. Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [10] Y. Li, Z. Zheng y H. Dai. Informe de la KDD CUP-2005: Enfrentando un gran desafío. SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard y H. Cunningham. Experimentos con conocimiento geográfico para extracción de información. En Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [12] B. Martins y M. J. Silva. Corrección ortográfica para consultas en motores de búsqueda. En Actas de EsTAL-04, España para el Procesamiento del Lenguaje Natural, 2004. [13] B. Martins y M. J. Silva. Un algoritmo de clasificación de gráficos para georreferenciar documentos. En las Actas de ICDM-05, la 5ta Conferencia Internacional de Minería de Datos de IEEE, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni y A. Laender. El papel de los gaceteros en el descubrimiento del conocimiento geográfico en la web. En las Actas de LA-Web-05, el 3er Congreso Web Latinoamericano, 2005. [15] E. Tjong, K. Sang y F. D. Meulder. Introducción a la tarea compartida CoNLL-2003: Reconocimiento de Entidades Nombradas Independiente del Idioma. En las Actas de CoNLL-2003, la 7ª Conferencia sobre Aprendizaje de Lenguaje Natural, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges y T. Scheffer. Clasificando consultas de motores de búsqueda utilizando la Web como conocimiento de fondo. Boletín de Exploraciones SIGKDD, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y. Ma, y Y. Li. Detectando ubicaciones dominantes a partir de consultas de búsqueda. En las Actas de SIGIR-05, la 28ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2005. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "geographic ontology": {
            "translated_key": "ontología geográfica",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a <br>geographic ontology</br>.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the <br>geographic ontology</br>.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A <br>geographic ontology</br> Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [
                "In comparison, we propose simpler techniques based on matching names from a <br>geographic ontology</br>.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the <br>geographic ontology</br>.",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A <br>geographic ontology</br> Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation."
            ],
            "translated_annotated_samples": [
                "En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una <br>ontología geográfica</br>.",
                "Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la <br>ontología geográfica</br>.",
                "Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una <br>ontología geográfica</br>, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una <br>ontología geográfica</br>. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación."
            ],
            "translated_text": "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la recuperación de información geográfica. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica). Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10]. Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas. Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico. Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5]. Definieron una consulta como local si sus mejores coincidencias en un motor de búsqueda web probablemente sean páginas locales, como casas en venta. Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda. Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja. El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés. Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17]. El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda. En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una <br>ontología geográfica</br>. Nuestro enfoque busca relaciones espaciales en la cadena de consulta, y también asocia las referencias de lugar a conceptos de ontología. En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales. Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones. La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas. Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada. En lugar de calcular coordenadas para una referencia de lugar dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes. Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación. La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan. Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación. Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la consulta de búsqueda. Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta. Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA. Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja consultas implícitas de ubicación. Además, Google Local no tiene en cuenta las relaciones espaciales. En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado. En este documento, explicamos las soluciones propuestas para los problemas identificados. 3. MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde. Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado. En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología. Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios. Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de Recuperación de Información Geográfica. 1. La entrada al sistema es una cadena de consulta textual. Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\". El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles. Aunque no es necesario separar la cadena de consulta en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3. La entrada al sistema se proporciona a través de una cadena de consulta junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles). No se requiere desambiguación, por lo tanto, las técnicas descritas en este documento no tienen que ser aplicadas. Los dos primeros esquemas dependen de la desambiguación de nombres de lugares. La Figura 1 ilustra cómo proponemos manejar consultas geográficas en estos dos esquemas iniciales. Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la <br>ontología geográfica</br>. Proponemos hacer esto de acuerdo al pseudo-código listado en el Algoritmo 1. El algoritmo considera los casos en los que se proporciona una segunda (o incluso más de una) ubicación para calificar a una primera (por ejemplo, París, Francia. Realiza llamadas recursivas para hacer coincidir cada ubicación, y se basa en relaciones jerárquicas de partes para detectar si dos ubicaciones comparten una ruta jerárquica común. Una de las ubicaciones proporcionadas debe ser más general y la otra más específica, en el sentido de que debe existir una relación de parte entre los conceptos asociados en la ontología (ya sea directa o transitiva). La ubicación más específica es una subregión de la más general, y el algoritmo devuelve la más específica (es decir, para París, Francia, el algoritmo devuelve el concepto de ontología asociado con París, la capital de Francia). También consideramos los casos en los que se utiliza una expresión de tipo geográfico para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York). Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una <br>ontología geográfica</br>, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una <br>ontología geográfica</br>. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación. Los calificadores de tipo considerados también deben ser descritos en las ontologías (por ejemplo, cada concepto geográfico debe estar asociado a un tipo que también esté definido en la ontología, como país, distrito o ciudad). Idealmente, la referencia geográfica proporcionada por el usuario debería ser desambiguada en un único concepto de ontología. Sin embargo, esto no siempre es posible, ya que el usuario puede no proporcionar toda la información requerida (es decir, una expresión de tipo o una segunda ubicación de calificación). Por lo tanto, la salida es una lista con los posibles conceptos a los que se refiere el usuario. En un paso final, proponemos ordenar esta lista, de modo que si se requiere un solo concepto como resultado, podamos utilizar el que esté clasificado más alto. El procedimiento de clasificación refleja la probabilidad de que cada concepto sea realmente el mencionado. Proponemos clasificar conceptos de acuerdo con las siguientes heurísticas: 1. La expresión de tipo geográfico asociada con el concepto de ontología. Para el mismo nombre, es más probable que se haga referencia a un país que a una ciudad, y a su vez, es más probable que se haga referencia a una ciudad que a una calle. Número de ancestros en la ontología. Los lugares principales en la ontología tienden a ser más generales, y por lo tanto es más probable que sean referenciados en consultas de motores de búsqueda. 3. Recuento de población. Los lugares altamente poblados son más conocidos, y por lo tanto es más probable que sean referenciados en consultas. Recuentos de población de ancestros directos en la ontología. Las subregiones de lugares altamente poblados son más conocidas y también es más probable que sean referenciadas en consultas de motores de búsqueda. Frecuencia de ocurrencia en documentos web (por ejemplo, Google cuenta) para los nombres geográficos. Los nombres de lugares que ocurren con más frecuencia en documentos web también son más propensos a ser referenciados en consultas de motores de búsqueda. 6. Número de descendientes en la ontología. Los lugares que tienen más subregiones tienden a ser más generales, y por lo tanto es más probable que sean mencionados en las consultas de los motores de búsqueda. 7. Tamaño de cadena para los nombres geográficos. Los nombres cortos son más propensos a ser mencionados en las consultas de motores de búsqueda. El Algoritmo 1, junto con el procedimiento de clasificación, ya puede manejar consultas GIR donde el término \"where\" se proporciona por separado de los términos \"what\" y \"relation\". Sin embargo, si la consulta se proporciona en una sola cadena, requerimos la identificación del triple asociado < qué, relación, dónde > antes de desambiguar el término de ubicación en los conceptos de la ontología correspondiente. Esto se describe en la siguiente Sección. 3.2 Manejo de Cadenas de Consulta Única. El Algoritmo 2 proporciona el mecanismo para separar una cadena de consulta en un triple < qué, relación, dónde >. Utiliza el Algoritmo 1 para encontrar dónde se encuentra el término, desambiguándolo en un conjunto de conceptos de ontología. El algoritmo comienza tokenizando la cadena de consulta en palabras individuales, también encargándose de eliminar mayúsculas y diacríticos. Tenemos un tokenizador simple que utiliza el espacio como delimitador de palabras, pero también podríamos tener un enfoque de tokenización similar a la propuesta de Wang et al., que se basa en estadísticas de ocurrencia en la web para evitar romper colocaciones [17]. En el futuro, planeamos probar si este esquema de tokenización diferente puede mejorar los resultados. A continuación, el algoritmo prueba diferentes divisiones posibles de la consulta, construyendo los términos de qué, relación y dónde a través de concatenaciones de los tokens individuales. El término de relación se compara con una lista de valores posibles (por ejemplo, cerca, en, alrededor o al sur de), que corresponden a los operadores admitidos por el sistema GIR. Cabe destacar que también es responsabilidad del sistema GIR subyacente interpretar el significado real de las diferentes relaciones espaciales. El algoritmo 1 se utiliza para verificar si un término \"where\" constituye una referencia geográfica o no. También verificamos si la última palabra en el término pertenece a una lista de excepciones, que incluye, por ejemplo, nombres propios de personas en diferentes idiomas. Esto garantiza que una consulta como Denzel Washington sea manejada adecuadamente. Si el algoritmo tiene éxito en encontrar una relación válida y los términos correspondientes, entonces se devuelve el triple correspondiente. De lo contrario, devolvemos un triple con el término \"qué\" igual al string de consulta, y los términos de relación y ubicación establecidos como vacíos. Si toda la cadena de consulta constituye una referencia geográfica, devolvemos un triple con el término \"what\" establecido como vacío, el término \"where\" igual a la cadena de consulta, y el término de relación establecido como DEFINICIÓN (es decir, estas consultas deben ser respondidas con información sobre los lugares mencionados). El algoritmo también maneja cadenas de consulta donde se proporcionan más de una referencia geográfica, utilizando \"and\" o una preposición equivalente, junto con una llamada recursiva al Algoritmo 2. Una consulta como el comercio de diamantes en Angola y Sudáfrica es el Algoritmo 2 Obtener < qué, relación, dónde > de una cadena de consulta. Requiere: O = Una ontología geográfica. Requiere: Q = Una cadena no vacía con la consulta. 1: Q = La cadena Q después de eliminar mayúsculas y diacríticos. 2: TOKENS[0..N] = Un array de cadenas con las palabras individuales de Q. 3: N = El tamaño del array TOKENS. 4: para INDEX = 0 a N hacer 5: si INDEX = 0 entonces 6: QUÉ = Concatenación de TOKENS[0..INDEX −1] 7: ÚLTIMOQUÉ = TOKENS[INDEX −1] 8: sino 9: QUÉ = Una cadena vacía 10: ÚLTIMOQUÉ = Una cadena vacía 11: fin si 12: DÓNDE = Concatenación de TOKENS[INDEX..N] 13: RELACIÓN = Una cadena vacía 14: para INDEX2 = INDEX a N −1 hacer 15: RELACIÓN2 = Concatenación de TOKENS[INDEX..INDEX2] 16: si RELACIÓN2 es una relación geográfica válida entonces 17: DÓNDE = Concatenación de S[INDEX2 +1..N] 18: RELACIÓN = RELACIÓN2 19: fin si 20: fin para 21: si RELACIÓN = vacío Y ÚLTIMOQUÉ es una excepción entonces 22: TESTGEO = FALSO 23: sino 24: TESTGEO = VERDADERO 25: fin si 26: si TESTGEO Y Algoritmo1(DÓNDE) <> VACÍO entonces 27: si DÓNDE termina con Y ALREDEDORES entonces 28: RELACIÓN = La cadena CERCA 29: DÓNDE = La subcadena de DÓNDE con Y ALREDEDORES eliminado 30: fin si 31: si QUÉ termina con Y o similar entonces 32: < QUÉ, RELACIÓN, DÓNDE2 > = Algoritmo2(QUÉ) 33: DÓNDE = Concatenación de DÓNDE con DÓNDE2 34: fin si 35: si RELACIÓN = Una cadena vacía entonces 36: si QUÉ = Una cadena vacía entonces 37: RELACIÓN = La cadena DEFINICIÓN 38: sino 39: RELACIÓN = La cadena CONTENIDO-EN 40: fin si 41: fin si 42: sino 43: QUÉ = La cadena Q 44: DÓNDE = Una cadena vacía 45: RELACIÓN = Una cadena vacía 46: fin si 47: fin para 48: retornar < QUÉ, RELACIÓN, DÓNDE > por lo tanto manejado adecuadamente. Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una referencia de lugar. Sin embargo, el hecho de que una consulta pueda estar asociada con un contexto geográfico puede que no sea directamente observable en la consulta en sí, sino más bien a partir de los resultados devueltos. Por ejemplo, consultas como hoteles recomendados para SIGIR 2006 o alojamiento para SeaFair 2006 pueden referirse a la ciudad de Seattle. Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle. En los casos en los que una consulta no contiene referencias de lugar, comenzamos asumiendo que los resultados principales de un motor de búsqueda representan el contexto y uso más popular y correcto para la consulta. Propongo utilizar las características de distribución de los ámbitos geográficos previamente asignados a los documentos correspondientes a estos principales resultados. En un trabajo previo, presentamos un enfoque de minería de texto para asignar documentos con alcances geográficos correspondientes, definidos en una ontología, que funcionaba como una etapa de preprocesamiento sin conexión en un sistema GIR [13]. Este paso de preprocesamiento es una etapa fundamental de GIR, y es razonable asumir que este tipo de información estaría disponible en cualquier sistema. De manera similar a Wang et al., también podríamos intentar procesar los resultados en línea, con el fin de detectar referencias de lugares en los documentos [17]. Sin embargo, un sistema GIR ya requiere la etapa fuera de línea. Para los N documentos principales dados en los resultados, verificamos los alcances geográficos que les fueron asignados. Si una parte significativa de los resultados se asigna al mismo ámbito, entonces la consulta puede considerarse relacionada con el concepto geográfico correspondiente. Esta suposición incluso podría ser relajada, por ejemplo, verificando si los documentos pertenecen a ámbitos que están jerárquicamente relacionados. 4. EXPERIMENTOS DE EVALUACIÓN Utilizamos tres ontologías diferentes en experimentos de evaluación, a saber, el tesauro de nombres geográficos de Getty (TGN) [6] y dos recursos específicos desarrollados en nuestro grupo, aquí referidos como las ontologías PT y ML [2]. TGN y ML incluyen información geográfica global en varios idiomas (aunque TGN es considerablemente más grande), mientras que la ontología PT se centra en el territorio portugués con un alto nivel de detalle. Los tipos de lugares también son diferentes entre ontologías, por ejemplo, PT incluye nombres de calles y direcciones postales, mientras que ML solo llega al nivel de ciudades. El lector debe consultar [2, 6] para obtener una descripción completa de estos recursos. Nuestros experimentos iniciales utilizaron temas en portugués e inglés de las campañas de evaluación GeoCLEF 2005 y 2006. Los temas en GeoCLEF corresponden a cadenas de consulta que pueden ser utilizadas como entrada a un sistema GIR [4]. ImageCLEF 2006 también incluyó temas que especificaban referencias de lugar, y se alentó a los participantes a ejecutar sus sistemas GIR en ellos. Nuestros experimentos también consideraron este conjunto de datos. Para cada tema, medimos si el Algoritmo 2 fue capaz de encontrar el triple correspondiente < qué, relación, dónde >. Las ontologías utilizadas en este experimento fueron TGN y ML, ya que los temas se presentaron en varios idiomas y abarcaron todo el mundo. Número de conjunto de datos de triples correctos Tiempo por consulta Consultas ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Tabla 2: Resumen de resultados sobre temas de CLEF. La Tabla 1 ilustra algunos de los temas, y la Tabla 2 resume los resultados obtenidos. Las tablas muestran que la técnica propuesta maneja adecuadamente la mayoría de estas consultas. Una inspección manual de los conceptos de la ontología que se devolvieron para cada caso también reveló que el término \"where\" estaba siendo correctamente desambiguado. Ten en cuenta que la ontología TGN de hecho añadió cierta ambigüedad, ya que por ejemplo nombres como Madrid pueden corresponder a muchos lugares diferentes alrededor del mundo. También hay que tener en cuenta que algunos de los temas considerados son muy difíciles de manejar para un sistema automatizado. Algunos de ellos eran ambiguos (por ejemplo, en las importaciones de arroz japonés, la consulta puede referirse tanto a las importaciones de arroz en Japón como a las importaciones de arroz japonés), y otros no contenían referencias geográficas directas (por ejemplo, ciudades cerca de volcanes activos). Además de estos casos muy difíciles, también nos faltaron algunos temas debido a su uso de adjetivos de lugar y regiones específicas que no están definidas en las ontologías (por ejemplo, preocupaciones ambientales en torno a los Trossachs escoceses). En un segundo experimento, utilizamos una muestra de alrededor de 100,000 consultas reales en motores de búsqueda. El objetivo era ver si un número significativo de estas consultas eran de naturaleza geográfica, también comprobando si el algoritmo no cometía muchos errores al clasificar una consulta como geográfica cuando no era el caso. La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un motor de búsqueda web portugués disponible en www.tumba.pt. La Tabla 3 resume los resultados obtenidos. Muchas consultas eran de hecho geográficas (alrededor del 3.4%, aunque estudios previos reportaron valores superiores al 14% [8]). Una inspección manual mostró que el algoritmo no produjo muchos falsos positivos, y las consultas geográficas fueron divididas correctamente en triples < qué, relación, dónde > correctos. Los pocos errores que encontramos estaban relacionados con nombres de lugares que se utilizaban con más frecuencia en otros contextos (por ejemplo, en Teófilo Braga tenemos el problema de que Braga es un distrito portugués, y Teófilo Braga fue un conocido escritor y político portugués). La adición de más nombres a la lista de excepciones puede proporcionar una solución alternativa para la mayoría de estos casos. Valor Num. Consultas 110,916 Num. Consultas sin Referencias Geográficas 107,159 (96.6%) Núm. Consultas con Referencias Geográficas 3,757 (3.4%) Tabla 3: Resultados de un experimento con registros de motores de búsqueda. También probamos el procedimiento para detectar consultas que son implícitamente geográficas con una pequeña muestra de consultas de los registros. Por ejemplo, para la consulta Estádio do Dragão (por ejemplo, estadio local de un equipo de fútbol de Oporto), el contexto geográfico correcto se puede descubrir a partir del análisis de los resultados (más del 75% de los 20 resultados principales están asignados al ámbito de Oporto). Para trabajos futuros, planeamos utilizar una colección más grande de consultas para evaluar este aspecto. Además de las consultas de los registros del motor de búsqueda, también planeamos utilizar los nombres de edificios, monumentos y otros lugares emblemáticos conocidos, ya que tienen una fuerte connotación geográfica. Finalmente, también realizamos un experimento comparativo con 2 geocodificadores populares, Maporama y Microsoft's Mappoint. El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una referencia de lugar. Parroquias civiles del mapa de Lisboa de Maporama Mappoint Nuestros códigos de referencia (de 53) 9 (16,9%) 30 (56,6%) 15 (28,3%) Prom. Tiempo por referencia (mseg) 506.23 1235.87 143.43 Parroquias civiles del mapa de Porto Maporama Mappoint Nuestros refs. codificados (de 15) 0 (0%) 2 (13,3%) 5 (33,3%) Prom. Tiempo por referencia (mseg) 514.45 991.88 132.14 Tabla 4: Resultados de una comparación con servicios de geocodificación. La ontología portuguesa fue utilizada en este experimento, tomando como entrada los nombres de las parroquias civiles de los municipios portugueses de Lisboa y Oporto, y comprobando si los sistemas fueron capaces de desambiguar el nombre completo (por ejemplo, Campo Grande, Lisboa o Foz do Douro, Oporto) en el geocódigo correcto. Específicamente medimos si nuestro enfoque era mejor para devolver de manera inequívoca geocódigos dados los lugares de referencia (es decir, devolver el único código correcto) y proporcionar resultados rápidamente. La Tabla 4 muestra los resultados obtenidos, y la precisión de nuestro método parece comparable a la de los geocodificadores comerciales. Ten en cuenta que para Maporama y Mappoint, los tiempos indicados en la Tabla 4 incluyen la obtención de resultados de la Web, pero no tenemos una forma directa de acceder a los algoritmos de geocodificación (en ambos casos, la obtención de contenido estático de los servidores web toma alrededor de 125 milisegundos). Aunque nuestro enfoque no puede devolver de manera inequívoca el geocódigo correcto en la mayoría de los casos (solo 20 de un total de 68 casos), no obstante devuelve resultados que un usuario humano puede desambiguar (por ejemplo, para Madalena, Lisboa devolvemos tanto una calle como una freguesía), a diferencia de otros sistemas que a menudo no producían resultados. Además, si consideramos el geocódigo superior según el procedimiento de clasificación descrito en la Sección 3.1, o si utilizamos un calificador de tipo en el nombre (por ejemplo, freguesía de Campo Grande, Lisboa), nuestro algoritmo siempre devuelve el geocódigo correcto. 5. CONCLUSIONES Este artículo presentó enfoques simples para manejar referencias de lugares en consultas de motores de búsqueda. Este es un problema difícil de minería de texto, ya que las consultas suelen ser ambiguas o no especifican adecuadamente las necesidades de información. Sin embargo, nuestros experimentos iniciales indican que para muchas consultas, los lugares referenciados pueden ser determinados de manera efectiva. A diferencia de las técnicas propuestas por Wang et al. [17], nos enfocamos principalmente en reconocer relaciones espaciales y asociar nombres de lugares a conceptos de ontología. Las técnicas propuestas fueron empleadas en el sistema prototipo que utilizamos para participar en GeoCLEF 2006. En consultas donde no se menciona explícitamente una referencia geográfica, proponemos utilizar los resultados de la consulta, aprovechando los ámbitos geográficos asignados previamente a estos documentos. En el futuro, planeamos realizar una evaluación cuidadosa de este último enfoque. Otra idea que nos gustaría probar implica la integración de un mecanismo de corrección ortográfica [12] en el Algoritmo 1, de modo que las referencias de lugares con errores ortográficos puedan ser relacionadas con conceptos de la ontología. Las técnicas propuestas para manejar consultas geográficas pueden tener muchas aplicaciones en la mejora de los sistemas de recuperación de información geográfica o incluso en los motores de búsqueda de propósito general. Después de que las referencias de lugar se hayan desambiguado adecuadamente en conceptos de ontología, un sistema GIR puede utilizarlas para recuperar resultados relevantes, a través del uso de estructuras de índices apropiadas (por ejemplo, indexando las coordenadas espaciales asociadas con los conceptos de ontología) y siempre que los documentos también estén asignados a ámbitos correspondientes a los conceptos de ontología. Una estrategia GIR diferente puede implicar la expansión de consultas, tomando los términos de ubicación de la consulta y utilizando la ontología para agregar nombres de ubicaciones vecinas. En un motor de búsqueda de propósito general, si se detecta una consulta local, podemos redirigir a los usuarios a un sistema GIR, que debería ser más adecuado para manejar correctamente la consulta. La interfaz de búsqueda regular de Google ya hace esto, presentando un enlace a Google Local cuando detecta una consulta geográfica. REFERENCIAS [1] E. Amitay, N. HarEl, R. Sivan y A. Soffer. Web-a-Where: Geolocalización de contenido web. En Actas de SIGIR-04, la 27ª Conferencia sobre investigación y desarrollo en recuperación de información, 2004. [2] M. Chaves, M. J. Silva y B. Martins. Una Base de Conocimiento Geográfico para Aplicaciones de la Web Semántica. En las Actas de SBBD-05, el 20º Simposio Brasileño de Bases de Datos, 2005. [3] N. A. Chinchor. Resumen de MUC-7/MET-2. En las Actas de MUC-7, la 7ª Conferencia de Comprensión de Mensajes, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho y P. Clough. GeoCLEF: la pista de recuperación de información geográfica en varios idiomas de CLEF 2005. En Notas de Trabajo para el Taller CLEF 2005, 2005. [5] L. Gravano, V. Hatzivassiloglou y R. Lichtenstein. Clasificación de consultas web según la localidad geográfica. En las Actas de CIKM-03, la 12ª Conferencia sobre Gestión de la Información y el Conocimiento, 2003. [6] P. Harpring. Palabras adecuadas en lugares adecuados: El tesauro de nombres geográficos. MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, y R. Weibel. Recuperación de información espacial y ontologías geográficas: Una visión general del proyecto SPIRIT. En Actas de SIGIR-02, la 25ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2002. [8] J. Kohler. Analizando las consultas de motores de búsqueda para el uso de términos geográficos, 2003. (Tesis de maestría). [9] A. Kornai y B. Sundheim, editores. Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [10] Y. Li, Z. Zheng y H. Dai. Informe de la KDD CUP-2005: Enfrentando un gran desafío. SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard y H. Cunningham. Experimentos con conocimiento geográfico para extracción de información. En Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [12] B. Martins y M. J. Silva. Corrección ortográfica para consultas en motores de búsqueda. En Actas de EsTAL-04, España para el Procesamiento del Lenguaje Natural, 2004. [13] B. Martins y M. J. Silva. Un algoritmo de clasificación de gráficos para georreferenciar documentos. En las Actas de ICDM-05, la 5ta Conferencia Internacional de Minería de Datos de IEEE, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni y A. Laender. El papel de los gaceteros en el descubrimiento del conocimiento geográfico en la web. En las Actas de LA-Web-05, el 3er Congreso Web Latinoamericano, 2005. [15] E. Tjong, K. Sang y F. D. Meulder. Introducción a la tarea compartida CoNLL-2003: Reconocimiento de Entidades Nombradas Independiente del Idioma. En las Actas de CoNLL-2003, la 7ª Conferencia sobre Aprendizaje de Lenguaje Natural, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges y T. Scheffer. Clasificando consultas de motores de búsqueda utilizando la Web como conocimiento de fondo. Boletín de Exploraciones SIGKDD, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y. Ma, y Y. Li. Detectando ubicaciones dominantes a partir de consultas de búsqueda. En las Actas de SIGIR-05, la 28ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2005. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "geographical type expression": {
            "translated_key": "tipo geográfico",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a <br>geographical type expression</br> is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The <br>geographical type expression</br> associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [
                "We also consider the cases where a <br>geographical type expression</br> is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "The <br>geographical type expression</br> associated with the ontology concept."
            ],
            "translated_annotated_samples": [
                "También consideramos los casos en los que se utiliza una expresión de <br>tipo geográfico</br> para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York).",
                "La expresión de <br>tipo geográfico</br> asociada con el concepto de ontología."
            ],
            "translated_text": "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la recuperación de información geográfica. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica). Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10]. Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas. Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico. Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5]. Definieron una consulta como local si sus mejores coincidencias en un motor de búsqueda web probablemente sean páginas locales, como casas en venta. Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda. Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja. El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés. Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17]. El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda. En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una ontología geográfica. Nuestro enfoque busca relaciones espaciales en la cadena de consulta, y también asocia las referencias de lugar a conceptos de ontología. En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales. Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones. La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas. Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada. En lugar de calcular coordenadas para una referencia de lugar dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes. Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación. La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan. Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación. Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la consulta de búsqueda. Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta. Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA. Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja consultas implícitas de ubicación. Además, Google Local no tiene en cuenta las relaciones espaciales. En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado. En este documento, explicamos las soluciones propuestas para los problemas identificados. 3. MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde. Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado. En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología. Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios. Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de Recuperación de Información Geográfica. 1. La entrada al sistema es una cadena de consulta textual. Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\". El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles. Aunque no es necesario separar la cadena de consulta en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3. La entrada al sistema se proporciona a través de una cadena de consulta junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles). No se requiere desambiguación, por lo tanto, las técnicas descritas en este documento no tienen que ser aplicadas. Los dos primeros esquemas dependen de la desambiguación de nombres de lugares. La Figura 1 ilustra cómo proponemos manejar consultas geográficas en estos dos esquemas iniciales. Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la ontología geográfica. Proponemos hacer esto de acuerdo al pseudo-código listado en el Algoritmo 1. El algoritmo considera los casos en los que se proporciona una segunda (o incluso más de una) ubicación para calificar a una primera (por ejemplo, París, Francia. Realiza llamadas recursivas para hacer coincidir cada ubicación, y se basa en relaciones jerárquicas de partes para detectar si dos ubicaciones comparten una ruta jerárquica común. Una de las ubicaciones proporcionadas debe ser más general y la otra más específica, en el sentido de que debe existir una relación de parte entre los conceptos asociados en la ontología (ya sea directa o transitiva). La ubicación más específica es una subregión de la más general, y el algoritmo devuelve la más específica (es decir, para París, Francia, el algoritmo devuelve el concepto de ontología asociado con París, la capital de Francia). También consideramos los casos en los que se utiliza una expresión de <br>tipo geográfico</br> para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York). Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una ontología geográfica, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una ontología geográfica. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación. Los calificadores de tipo considerados también deben ser descritos en las ontologías (por ejemplo, cada concepto geográfico debe estar asociado a un tipo que también esté definido en la ontología, como país, distrito o ciudad). Idealmente, la referencia geográfica proporcionada por el usuario debería ser desambiguada en un único concepto de ontología. Sin embargo, esto no siempre es posible, ya que el usuario puede no proporcionar toda la información requerida (es decir, una expresión de tipo o una segunda ubicación de calificación). Por lo tanto, la salida es una lista con los posibles conceptos a los que se refiere el usuario. En un paso final, proponemos ordenar esta lista, de modo que si se requiere un solo concepto como resultado, podamos utilizar el que esté clasificado más alto. El procedimiento de clasificación refleja la probabilidad de que cada concepto sea realmente el mencionado. Proponemos clasificar conceptos de acuerdo con las siguientes heurísticas: 1. La expresión de <br>tipo geográfico</br> asociada con el concepto de ontología. Para el mismo nombre, es más probable que se haga referencia a un país que a una ciudad, y a su vez, es más probable que se haga referencia a una ciudad que a una calle. Número de ancestros en la ontología. Los lugares principales en la ontología tienden a ser más generales, y por lo tanto es más probable que sean referenciados en consultas de motores de búsqueda. 3. Recuento de población. Los lugares altamente poblados son más conocidos, y por lo tanto es más probable que sean referenciados en consultas. Recuentos de población de ancestros directos en la ontología. Las subregiones de lugares altamente poblados son más conocidas y también es más probable que sean referenciadas en consultas de motores de búsqueda. Frecuencia de ocurrencia en documentos web (por ejemplo, Google cuenta) para los nombres geográficos. Los nombres de lugares que ocurren con más frecuencia en documentos web también son más propensos a ser referenciados en consultas de motores de búsqueda. 6. Número de descendientes en la ontología. Los lugares que tienen más subregiones tienden a ser más generales, y por lo tanto es más probable que sean mencionados en las consultas de los motores de búsqueda. 7. Tamaño de cadena para los nombres geográficos. Los nombres cortos son más propensos a ser mencionados en las consultas de motores de búsqueda. El Algoritmo 1, junto con el procedimiento de clasificación, ya puede manejar consultas GIR donde el término \"where\" se proporciona por separado de los términos \"what\" y \"relation\". Sin embargo, si la consulta se proporciona en una sola cadena, requerimos la identificación del triple asociado < qué, relación, dónde > antes de desambiguar el término de ubicación en los conceptos de la ontología correspondiente. Esto se describe en la siguiente Sección. 3.2 Manejo de Cadenas de Consulta Única. El Algoritmo 2 proporciona el mecanismo para separar una cadena de consulta en un triple < qué, relación, dónde >. Utiliza el Algoritmo 1 para encontrar dónde se encuentra el término, desambiguándolo en un conjunto de conceptos de ontología. El algoritmo comienza tokenizando la cadena de consulta en palabras individuales, también encargándose de eliminar mayúsculas y diacríticos. Tenemos un tokenizador simple que utiliza el espacio como delimitador de palabras, pero también podríamos tener un enfoque de tokenización similar a la propuesta de Wang et al., que se basa en estadísticas de ocurrencia en la web para evitar romper colocaciones [17]. En el futuro, planeamos probar si este esquema de tokenización diferente puede mejorar los resultados. A continuación, el algoritmo prueba diferentes divisiones posibles de la consulta, construyendo los términos de qué, relación y dónde a través de concatenaciones de los tokens individuales. El término de relación se compara con una lista de valores posibles (por ejemplo, cerca, en, alrededor o al sur de), que corresponden a los operadores admitidos por el sistema GIR. Cabe destacar que también es responsabilidad del sistema GIR subyacente interpretar el significado real de las diferentes relaciones espaciales. El algoritmo 1 se utiliza para verificar si un término \"where\" constituye una referencia geográfica o no. También verificamos si la última palabra en el término pertenece a una lista de excepciones, que incluye, por ejemplo, nombres propios de personas en diferentes idiomas. Esto garantiza que una consulta como Denzel Washington sea manejada adecuadamente. Si el algoritmo tiene éxito en encontrar una relación válida y los términos correspondientes, entonces se devuelve el triple correspondiente. De lo contrario, devolvemos un triple con el término \"qué\" igual al string de consulta, y los términos de relación y ubicación establecidos como vacíos. Si toda la cadena de consulta constituye una referencia geográfica, devolvemos un triple con el término \"what\" establecido como vacío, el término \"where\" igual a la cadena de consulta, y el término de relación establecido como DEFINICIÓN (es decir, estas consultas deben ser respondidas con información sobre los lugares mencionados). El algoritmo también maneja cadenas de consulta donde se proporcionan más de una referencia geográfica, utilizando \"and\" o una preposición equivalente, junto con una llamada recursiva al Algoritmo 2. Una consulta como el comercio de diamantes en Angola y Sudáfrica es el Algoritmo 2 Obtener < qué, relación, dónde > de una cadena de consulta. Requiere: O = Una ontología geográfica. Requiere: Q = Una cadena no vacía con la consulta. 1: Q = La cadena Q después de eliminar mayúsculas y diacríticos. 2: TOKENS[0..N] = Un array de cadenas con las palabras individuales de Q. 3: N = El tamaño del array TOKENS. 4: para INDEX = 0 a N hacer 5: si INDEX = 0 entonces 6: QUÉ = Concatenación de TOKENS[0..INDEX −1] 7: ÚLTIMOQUÉ = TOKENS[INDEX −1] 8: sino 9: QUÉ = Una cadena vacía 10: ÚLTIMOQUÉ = Una cadena vacía 11: fin si 12: DÓNDE = Concatenación de TOKENS[INDEX..N] 13: RELACIÓN = Una cadena vacía 14: para INDEX2 = INDEX a N −1 hacer 15: RELACIÓN2 = Concatenación de TOKENS[INDEX..INDEX2] 16: si RELACIÓN2 es una relación geográfica válida entonces 17: DÓNDE = Concatenación de S[INDEX2 +1..N] 18: RELACIÓN = RELACIÓN2 19: fin si 20: fin para 21: si RELACIÓN = vacío Y ÚLTIMOQUÉ es una excepción entonces 22: TESTGEO = FALSO 23: sino 24: TESTGEO = VERDADERO 25: fin si 26: si TESTGEO Y Algoritmo1(DÓNDE) <> VACÍO entonces 27: si DÓNDE termina con Y ALREDEDORES entonces 28: RELACIÓN = La cadena CERCA 29: DÓNDE = La subcadena de DÓNDE con Y ALREDEDORES eliminado 30: fin si 31: si QUÉ termina con Y o similar entonces 32: < QUÉ, RELACIÓN, DÓNDE2 > = Algoritmo2(QUÉ) 33: DÓNDE = Concatenación de DÓNDE con DÓNDE2 34: fin si 35: si RELACIÓN = Una cadena vacía entonces 36: si QUÉ = Una cadena vacía entonces 37: RELACIÓN = La cadena DEFINICIÓN 38: sino 39: RELACIÓN = La cadena CONTENIDO-EN 40: fin si 41: fin si 42: sino 43: QUÉ = La cadena Q 44: DÓNDE = Una cadena vacía 45: RELACIÓN = Una cadena vacía 46: fin si 47: fin para 48: retornar < QUÉ, RELACIÓN, DÓNDE > por lo tanto manejado adecuadamente. Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una referencia de lugar. Sin embargo, el hecho de que una consulta pueda estar asociada con un contexto geográfico puede que no sea directamente observable en la consulta en sí, sino más bien a partir de los resultados devueltos. Por ejemplo, consultas como hoteles recomendados para SIGIR 2006 o alojamiento para SeaFair 2006 pueden referirse a la ciudad de Seattle. Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle. En los casos en los que una consulta no contiene referencias de lugar, comenzamos asumiendo que los resultados principales de un motor de búsqueda representan el contexto y uso más popular y correcto para la consulta. Propongo utilizar las características de distribución de los ámbitos geográficos previamente asignados a los documentos correspondientes a estos principales resultados. En un trabajo previo, presentamos un enfoque de minería de texto para asignar documentos con alcances geográficos correspondientes, definidos en una ontología, que funcionaba como una etapa de preprocesamiento sin conexión en un sistema GIR [13]. Este paso de preprocesamiento es una etapa fundamental de GIR, y es razonable asumir que este tipo de información estaría disponible en cualquier sistema. De manera similar a Wang et al., también podríamos intentar procesar los resultados en línea, con el fin de detectar referencias de lugares en los documentos [17]. Sin embargo, un sistema GIR ya requiere la etapa fuera de línea. Para los N documentos principales dados en los resultados, verificamos los alcances geográficos que les fueron asignados. Si una parte significativa de los resultados se asigna al mismo ámbito, entonces la consulta puede considerarse relacionada con el concepto geográfico correspondiente. Esta suposición incluso podría ser relajada, por ejemplo, verificando si los documentos pertenecen a ámbitos que están jerárquicamente relacionados. 4. EXPERIMENTOS DE EVALUACIÓN Utilizamos tres ontologías diferentes en experimentos de evaluación, a saber, el tesauro de nombres geográficos de Getty (TGN) [6] y dos recursos específicos desarrollados en nuestro grupo, aquí referidos como las ontologías PT y ML [2]. TGN y ML incluyen información geográfica global en varios idiomas (aunque TGN es considerablemente más grande), mientras que la ontología PT se centra en el territorio portugués con un alto nivel de detalle. Los tipos de lugares también son diferentes entre ontologías, por ejemplo, PT incluye nombres de calles y direcciones postales, mientras que ML solo llega al nivel de ciudades. El lector debe consultar [2, 6] para obtener una descripción completa de estos recursos. Nuestros experimentos iniciales utilizaron temas en portugués e inglés de las campañas de evaluación GeoCLEF 2005 y 2006. Los temas en GeoCLEF corresponden a cadenas de consulta que pueden ser utilizadas como entrada a un sistema GIR [4]. ImageCLEF 2006 también incluyó temas que especificaban referencias de lugar, y se alentó a los participantes a ejecutar sus sistemas GIR en ellos. Nuestros experimentos también consideraron este conjunto de datos. Para cada tema, medimos si el Algoritmo 2 fue capaz de encontrar el triple correspondiente < qué, relación, dónde >. Las ontologías utilizadas en este experimento fueron TGN y ML, ya que los temas se presentaron en varios idiomas y abarcaron todo el mundo. Número de conjunto de datos de triples correctos Tiempo por consulta Consultas ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Tabla 2: Resumen de resultados sobre temas de CLEF. La Tabla 1 ilustra algunos de los temas, y la Tabla 2 resume los resultados obtenidos. Las tablas muestran que la técnica propuesta maneja adecuadamente la mayoría de estas consultas. Una inspección manual de los conceptos de la ontología que se devolvieron para cada caso también reveló que el término \"where\" estaba siendo correctamente desambiguado. Ten en cuenta que la ontología TGN de hecho añadió cierta ambigüedad, ya que por ejemplo nombres como Madrid pueden corresponder a muchos lugares diferentes alrededor del mundo. También hay que tener en cuenta que algunos de los temas considerados son muy difíciles de manejar para un sistema automatizado. Algunos de ellos eran ambiguos (por ejemplo, en las importaciones de arroz japonés, la consulta puede referirse tanto a las importaciones de arroz en Japón como a las importaciones de arroz japonés), y otros no contenían referencias geográficas directas (por ejemplo, ciudades cerca de volcanes activos). Además de estos casos muy difíciles, también nos faltaron algunos temas debido a su uso de adjetivos de lugar y regiones específicas que no están definidas en las ontologías (por ejemplo, preocupaciones ambientales en torno a los Trossachs escoceses). En un segundo experimento, utilizamos una muestra de alrededor de 100,000 consultas reales en motores de búsqueda. El objetivo era ver si un número significativo de estas consultas eran de naturaleza geográfica, también comprobando si el algoritmo no cometía muchos errores al clasificar una consulta como geográfica cuando no era el caso. La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un motor de búsqueda web portugués disponible en www.tumba.pt. La Tabla 3 resume los resultados obtenidos. Muchas consultas eran de hecho geográficas (alrededor del 3.4%, aunque estudios previos reportaron valores superiores al 14% [8]). Una inspección manual mostró que el algoritmo no produjo muchos falsos positivos, y las consultas geográficas fueron divididas correctamente en triples < qué, relación, dónde > correctos. Los pocos errores que encontramos estaban relacionados con nombres de lugares que se utilizaban con más frecuencia en otros contextos (por ejemplo, en Teófilo Braga tenemos el problema de que Braga es un distrito portugués, y Teófilo Braga fue un conocido escritor y político portugués). La adición de más nombres a la lista de excepciones puede proporcionar una solución alternativa para la mayoría de estos casos. Valor Num. Consultas 110,916 Num. Consultas sin Referencias Geográficas 107,159 (96.6%) Núm. Consultas con Referencias Geográficas 3,757 (3.4%) Tabla 3: Resultados de un experimento con registros de motores de búsqueda. También probamos el procedimiento para detectar consultas que son implícitamente geográficas con una pequeña muestra de consultas de los registros. Por ejemplo, para la consulta Estádio do Dragão (por ejemplo, estadio local de un equipo de fútbol de Oporto), el contexto geográfico correcto se puede descubrir a partir del análisis de los resultados (más del 75% de los 20 resultados principales están asignados al ámbito de Oporto). Para trabajos futuros, planeamos utilizar una colección más grande de consultas para evaluar este aspecto. Además de las consultas de los registros del motor de búsqueda, también planeamos utilizar los nombres de edificios, monumentos y otros lugares emblemáticos conocidos, ya que tienen una fuerte connotación geográfica. Finalmente, también realizamos un experimento comparativo con 2 geocodificadores populares, Maporama y Microsoft's Mappoint. El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una referencia de lugar. Parroquias civiles del mapa de Lisboa de Maporama Mappoint Nuestros códigos de referencia (de 53) 9 (16,9%) 30 (56,6%) 15 (28,3%) Prom. Tiempo por referencia (mseg) 506.23 1235.87 143.43 Parroquias civiles del mapa de Porto Maporama Mappoint Nuestros refs. codificados (de 15) 0 (0%) 2 (13,3%) 5 (33,3%) Prom. Tiempo por referencia (mseg) 514.45 991.88 132.14 Tabla 4: Resultados de una comparación con servicios de geocodificación. La ontología portuguesa fue utilizada en este experimento, tomando como entrada los nombres de las parroquias civiles de los municipios portugueses de Lisboa y Oporto, y comprobando si los sistemas fueron capaces de desambiguar el nombre completo (por ejemplo, Campo Grande, Lisboa o Foz do Douro, Oporto) en el geocódigo correcto. Específicamente medimos si nuestro enfoque era mejor para devolver de manera inequívoca geocódigos dados los lugares de referencia (es decir, devolver el único código correcto) y proporcionar resultados rápidamente. La Tabla 4 muestra los resultados obtenidos, y la precisión de nuestro método parece comparable a la de los geocodificadores comerciales. Ten en cuenta que para Maporama y Mappoint, los tiempos indicados en la Tabla 4 incluyen la obtención de resultados de la Web, pero no tenemos una forma directa de acceder a los algoritmos de geocodificación (en ambos casos, la obtención de contenido estático de los servidores web toma alrededor de 125 milisegundos). Aunque nuestro enfoque no puede devolver de manera inequívoca el geocódigo correcto en la mayoría de los casos (solo 20 de un total de 68 casos), no obstante devuelve resultados que un usuario humano puede desambiguar (por ejemplo, para Madalena, Lisboa devolvemos tanto una calle como una freguesía), a diferencia de otros sistemas que a menudo no producían resultados. Además, si consideramos el geocódigo superior según el procedimiento de clasificación descrito en la Sección 3.1, o si utilizamos un calificador de tipo en el nombre (por ejemplo, freguesía de Campo Grande, Lisboa), nuestro algoritmo siempre devuelve el geocódigo correcto. 5. CONCLUSIONES Este artículo presentó enfoques simples para manejar referencias de lugares en consultas de motores de búsqueda. Este es un problema difícil de minería de texto, ya que las consultas suelen ser ambiguas o no especifican adecuadamente las necesidades de información. Sin embargo, nuestros experimentos iniciales indican que para muchas consultas, los lugares referenciados pueden ser determinados de manera efectiva. A diferencia de las técnicas propuestas por Wang et al. [17], nos enfocamos principalmente en reconocer relaciones espaciales y asociar nombres de lugares a conceptos de ontología. Las técnicas propuestas fueron empleadas en el sistema prototipo que utilizamos para participar en GeoCLEF 2006. En consultas donde no se menciona explícitamente una referencia geográfica, proponemos utilizar los resultados de la consulta, aprovechando los ámbitos geográficos asignados previamente a estos documentos. En el futuro, planeamos realizar una evaluación cuidadosa de este último enfoque. Otra idea que nos gustaría probar implica la integración de un mecanismo de corrección ortográfica [12] en el Algoritmo 1, de modo que las referencias de lugares con errores ortográficos puedan ser relacionadas con conceptos de la ontología. Las técnicas propuestas para manejar consultas geográficas pueden tener muchas aplicaciones en la mejora de los sistemas de recuperación de información geográfica o incluso en los motores de búsqueda de propósito general. Después de que las referencias de lugar se hayan desambiguado adecuadamente en conceptos de ontología, un sistema GIR puede utilizarlas para recuperar resultados relevantes, a través del uso de estructuras de índices apropiadas (por ejemplo, indexando las coordenadas espaciales asociadas con los conceptos de ontología) y siempre que los documentos también estén asignados a ámbitos correspondientes a los conceptos de ontología. Una estrategia GIR diferente puede implicar la expansión de consultas, tomando los términos de ubicación de la consulta y utilizando la ontología para agregar nombres de ubicaciones vecinas. En un motor de búsqueda de propósito general, si se detecta una consulta local, podemos redirigir a los usuarios a un sistema GIR, que debería ser más adecuado para manejar correctamente la consulta. La interfaz de búsqueda regular de Google ya hace esto, presentando un enlace a Google Local cuando detecta una consulta geográfica. REFERENCIAS [1] E. Amitay, N. HarEl, R. Sivan y A. Soffer. Web-a-Where: Geolocalización de contenido web. En Actas de SIGIR-04, la 27ª Conferencia sobre investigación y desarrollo en recuperación de información, 2004. [2] M. Chaves, M. J. Silva y B. Martins. Una Base de Conocimiento Geográfico para Aplicaciones de la Web Semántica. En las Actas de SBBD-05, el 20º Simposio Brasileño de Bases de Datos, 2005. [3] N. A. Chinchor. Resumen de MUC-7/MET-2. En las Actas de MUC-7, la 7ª Conferencia de Comprensión de Mensajes, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho y P. Clough. GeoCLEF: la pista de recuperación de información geográfica en varios idiomas de CLEF 2005. En Notas de Trabajo para el Taller CLEF 2005, 2005. [5] L. Gravano, V. Hatzivassiloglou y R. Lichtenstein. Clasificación de consultas web según la localidad geográfica. En las Actas de CIKM-03, la 12ª Conferencia sobre Gestión de la Información y el Conocimiento, 2003. [6] P. Harpring. Palabras adecuadas en lugares adecuados: El tesauro de nombres geográficos. MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, y R. Weibel. Recuperación de información espacial y ontologías geográficas: Una visión general del proyecto SPIRIT. En Actas de SIGIR-02, la 25ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2002. [8] J. Kohler. Analizando las consultas de motores de búsqueda para el uso de términos geográficos, 2003. (Tesis de maestría). [9] A. Kornai y B. Sundheim, editores. Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [10] Y. Li, Z. Zheng y H. Dai. Informe de la KDD CUP-2005: Enfrentando un gran desafío. SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard y H. Cunningham. Experimentos con conocimiento geográfico para extracción de información. En Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [12] B. Martins y M. J. Silva. Corrección ortográfica para consultas en motores de búsqueda. En Actas de EsTAL-04, España para el Procesamiento del Lenguaje Natural, 2004. [13] B. Martins y M. J. Silva. Un algoritmo de clasificación de gráficos para georreferenciar documentos. En las Actas de ICDM-05, la 5ta Conferencia Internacional de Minería de Datos de IEEE, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni y A. Laender. El papel de los gaceteros en el descubrimiento del conocimiento geográfico en la web. En las Actas de LA-Web-05, el 3er Congreso Web Latinoamericano, 2005. [15] E. Tjong, K. Sang y F. D. Meulder. Introducción a la tarea compartida CoNLL-2003: Reconocimiento de Entidades Nombradas Independiente del Idioma. En las Actas de CoNLL-2003, la 7ª Conferencia sobre Aprendizaje de Lenguaje Natural, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges y T. Scheffer. Clasificando consultas de motores de búsqueda utilizando la Web como conocimiento de fondo. Boletín de Exploraciones SIGKDD, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y. Ma, y Y. Li. Detectando ubicaciones dominantes a partir de consultas de búsqueda. En las Actas de SIGIR-05, la 28ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2005. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "tokenization scheme": {
            "translated_key": "esquema de tokenización",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different <br>tokenization scheme</br> can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [
                "In the future, we plan on testing if this different <br>tokenization scheme</br> can improve results."
            ],
            "translated_annotated_samples": [
                "En el futuro, planeamos probar si este <br>esquema de tokenización</br> diferente puede mejorar los resultados."
            ],
            "translated_text": "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la recuperación de información geográfica. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica). Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10]. Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas. Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico. Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5]. Definieron una consulta como local si sus mejores coincidencias en un motor de búsqueda web probablemente sean páginas locales, como casas en venta. Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda. Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja. El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés. Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17]. El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda. En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una ontología geográfica. Nuestro enfoque busca relaciones espaciales en la cadena de consulta, y también asocia las referencias de lugar a conceptos de ontología. En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales. Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones. La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas. Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada. En lugar de calcular coordenadas para una referencia de lugar dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes. Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación. La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan. Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación. Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la consulta de búsqueda. Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta. Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA. Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja consultas implícitas de ubicación. Además, Google Local no tiene en cuenta las relaciones espaciales. En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado. En este documento, explicamos las soluciones propuestas para los problemas identificados. 3. MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde. Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado. En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología. Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios. Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de Recuperación de Información Geográfica. 1. La entrada al sistema es una cadena de consulta textual. Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\". El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles. Aunque no es necesario separar la cadena de consulta en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3. La entrada al sistema se proporciona a través de una cadena de consulta junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles). No se requiere desambiguación, por lo tanto, las técnicas descritas en este documento no tienen que ser aplicadas. Los dos primeros esquemas dependen de la desambiguación de nombres de lugares. La Figura 1 ilustra cómo proponemos manejar consultas geográficas en estos dos esquemas iniciales. Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la ontología geográfica. Proponemos hacer esto de acuerdo al pseudo-código listado en el Algoritmo 1. El algoritmo considera los casos en los que se proporciona una segunda (o incluso más de una) ubicación para calificar a una primera (por ejemplo, París, Francia. Realiza llamadas recursivas para hacer coincidir cada ubicación, y se basa en relaciones jerárquicas de partes para detectar si dos ubicaciones comparten una ruta jerárquica común. Una de las ubicaciones proporcionadas debe ser más general y la otra más específica, en el sentido de que debe existir una relación de parte entre los conceptos asociados en la ontología (ya sea directa o transitiva). La ubicación más específica es una subregión de la más general, y el algoritmo devuelve la más específica (es decir, para París, Francia, el algoritmo devuelve el concepto de ontología asociado con París, la capital de Francia). También consideramos los casos en los que se utiliza una expresión de tipo geográfico para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York). Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una ontología geográfica, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una ontología geográfica. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación. Los calificadores de tipo considerados también deben ser descritos en las ontologías (por ejemplo, cada concepto geográfico debe estar asociado a un tipo que también esté definido en la ontología, como país, distrito o ciudad). Idealmente, la referencia geográfica proporcionada por el usuario debería ser desambiguada en un único concepto de ontología. Sin embargo, esto no siempre es posible, ya que el usuario puede no proporcionar toda la información requerida (es decir, una expresión de tipo o una segunda ubicación de calificación). Por lo tanto, la salida es una lista con los posibles conceptos a los que se refiere el usuario. En un paso final, proponemos ordenar esta lista, de modo que si se requiere un solo concepto como resultado, podamos utilizar el que esté clasificado más alto. El procedimiento de clasificación refleja la probabilidad de que cada concepto sea realmente el mencionado. Proponemos clasificar conceptos de acuerdo con las siguientes heurísticas: 1. La expresión de tipo geográfico asociada con el concepto de ontología. Para el mismo nombre, es más probable que se haga referencia a un país que a una ciudad, y a su vez, es más probable que se haga referencia a una ciudad que a una calle. Número de ancestros en la ontología. Los lugares principales en la ontología tienden a ser más generales, y por lo tanto es más probable que sean referenciados en consultas de motores de búsqueda. 3. Recuento de población. Los lugares altamente poblados son más conocidos, y por lo tanto es más probable que sean referenciados en consultas. Recuentos de población de ancestros directos en la ontología. Las subregiones de lugares altamente poblados son más conocidas y también es más probable que sean referenciadas en consultas de motores de búsqueda. Frecuencia de ocurrencia en documentos web (por ejemplo, Google cuenta) para los nombres geográficos. Los nombres de lugares que ocurren con más frecuencia en documentos web también son más propensos a ser referenciados en consultas de motores de búsqueda. 6. Número de descendientes en la ontología. Los lugares que tienen más subregiones tienden a ser más generales, y por lo tanto es más probable que sean mencionados en las consultas de los motores de búsqueda. 7. Tamaño de cadena para los nombres geográficos. Los nombres cortos son más propensos a ser mencionados en las consultas de motores de búsqueda. El Algoritmo 1, junto con el procedimiento de clasificación, ya puede manejar consultas GIR donde el término \"where\" se proporciona por separado de los términos \"what\" y \"relation\". Sin embargo, si la consulta se proporciona en una sola cadena, requerimos la identificación del triple asociado < qué, relación, dónde > antes de desambiguar el término de ubicación en los conceptos de la ontología correspondiente. Esto se describe en la siguiente Sección. 3.2 Manejo de Cadenas de Consulta Única. El Algoritmo 2 proporciona el mecanismo para separar una cadena de consulta en un triple < qué, relación, dónde >. Utiliza el Algoritmo 1 para encontrar dónde se encuentra el término, desambiguándolo en un conjunto de conceptos de ontología. El algoritmo comienza tokenizando la cadena de consulta en palabras individuales, también encargándose de eliminar mayúsculas y diacríticos. Tenemos un tokenizador simple que utiliza el espacio como delimitador de palabras, pero también podríamos tener un enfoque de tokenización similar a la propuesta de Wang et al., que se basa en estadísticas de ocurrencia en la web para evitar romper colocaciones [17]. En el futuro, planeamos probar si este <br>esquema de tokenización</br> diferente puede mejorar los resultados. A continuación, el algoritmo prueba diferentes divisiones posibles de la consulta, construyendo los términos de qué, relación y dónde a través de concatenaciones de los tokens individuales. El término de relación se compara con una lista de valores posibles (por ejemplo, cerca, en, alrededor o al sur de), que corresponden a los operadores admitidos por el sistema GIR. Cabe destacar que también es responsabilidad del sistema GIR subyacente interpretar el significado real de las diferentes relaciones espaciales. El algoritmo 1 se utiliza para verificar si un término \"where\" constituye una referencia geográfica o no. También verificamos si la última palabra en el término pertenece a una lista de excepciones, que incluye, por ejemplo, nombres propios de personas en diferentes idiomas. Esto garantiza que una consulta como Denzel Washington sea manejada adecuadamente. Si el algoritmo tiene éxito en encontrar una relación válida y los términos correspondientes, entonces se devuelve el triple correspondiente. De lo contrario, devolvemos un triple con el término \"qué\" igual al string de consulta, y los términos de relación y ubicación establecidos como vacíos. Si toda la cadena de consulta constituye una referencia geográfica, devolvemos un triple con el término \"what\" establecido como vacío, el término \"where\" igual a la cadena de consulta, y el término de relación establecido como DEFINICIÓN (es decir, estas consultas deben ser respondidas con información sobre los lugares mencionados). El algoritmo también maneja cadenas de consulta donde se proporcionan más de una referencia geográfica, utilizando \"and\" o una preposición equivalente, junto con una llamada recursiva al Algoritmo 2. Una consulta como el comercio de diamantes en Angola y Sudáfrica es el Algoritmo 2 Obtener < qué, relación, dónde > de una cadena de consulta. Requiere: O = Una ontología geográfica. Requiere: Q = Una cadena no vacía con la consulta. 1: Q = La cadena Q después de eliminar mayúsculas y diacríticos. 2: TOKENS[0..N] = Un array de cadenas con las palabras individuales de Q. 3: N = El tamaño del array TOKENS. 4: para INDEX = 0 a N hacer 5: si INDEX = 0 entonces 6: QUÉ = Concatenación de TOKENS[0..INDEX −1] 7: ÚLTIMOQUÉ = TOKENS[INDEX −1] 8: sino 9: QUÉ = Una cadena vacía 10: ÚLTIMOQUÉ = Una cadena vacía 11: fin si 12: DÓNDE = Concatenación de TOKENS[INDEX..N] 13: RELACIÓN = Una cadena vacía 14: para INDEX2 = INDEX a N −1 hacer 15: RELACIÓN2 = Concatenación de TOKENS[INDEX..INDEX2] 16: si RELACIÓN2 es una relación geográfica válida entonces 17: DÓNDE = Concatenación de S[INDEX2 +1..N] 18: RELACIÓN = RELACIÓN2 19: fin si 20: fin para 21: si RELACIÓN = vacío Y ÚLTIMOQUÉ es una excepción entonces 22: TESTGEO = FALSO 23: sino 24: TESTGEO = VERDADERO 25: fin si 26: si TESTGEO Y Algoritmo1(DÓNDE) <> VACÍO entonces 27: si DÓNDE termina con Y ALREDEDORES entonces 28: RELACIÓN = La cadena CERCA 29: DÓNDE = La subcadena de DÓNDE con Y ALREDEDORES eliminado 30: fin si 31: si QUÉ termina con Y o similar entonces 32: < QUÉ, RELACIÓN, DÓNDE2 > = Algoritmo2(QUÉ) 33: DÓNDE = Concatenación de DÓNDE con DÓNDE2 34: fin si 35: si RELACIÓN = Una cadena vacía entonces 36: si QUÉ = Una cadena vacía entonces 37: RELACIÓN = La cadena DEFINICIÓN 38: sino 39: RELACIÓN = La cadena CONTENIDO-EN 40: fin si 41: fin si 42: sino 43: QUÉ = La cadena Q 44: DÓNDE = Una cadena vacía 45: RELACIÓN = Una cadena vacía 46: fin si 47: fin para 48: retornar < QUÉ, RELACIÓN, DÓNDE > por lo tanto manejado adecuadamente. Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una referencia de lugar. Sin embargo, el hecho de que una consulta pueda estar asociada con un contexto geográfico puede que no sea directamente observable en la consulta en sí, sino más bien a partir de los resultados devueltos. Por ejemplo, consultas como hoteles recomendados para SIGIR 2006 o alojamiento para SeaFair 2006 pueden referirse a la ciudad de Seattle. Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle. En los casos en los que una consulta no contiene referencias de lugar, comenzamos asumiendo que los resultados principales de un motor de búsqueda representan el contexto y uso más popular y correcto para la consulta. Propongo utilizar las características de distribución de los ámbitos geográficos previamente asignados a los documentos correspondientes a estos principales resultados. En un trabajo previo, presentamos un enfoque de minería de texto para asignar documentos con alcances geográficos correspondientes, definidos en una ontología, que funcionaba como una etapa de preprocesamiento sin conexión en un sistema GIR [13]. Este paso de preprocesamiento es una etapa fundamental de GIR, y es razonable asumir que este tipo de información estaría disponible en cualquier sistema. De manera similar a Wang et al., también podríamos intentar procesar los resultados en línea, con el fin de detectar referencias de lugares en los documentos [17]. Sin embargo, un sistema GIR ya requiere la etapa fuera de línea. Para los N documentos principales dados en los resultados, verificamos los alcances geográficos que les fueron asignados. Si una parte significativa de los resultados se asigna al mismo ámbito, entonces la consulta puede considerarse relacionada con el concepto geográfico correspondiente. Esta suposición incluso podría ser relajada, por ejemplo, verificando si los documentos pertenecen a ámbitos que están jerárquicamente relacionados. 4. EXPERIMENTOS DE EVALUACIÓN Utilizamos tres ontologías diferentes en experimentos de evaluación, a saber, el tesauro de nombres geográficos de Getty (TGN) [6] y dos recursos específicos desarrollados en nuestro grupo, aquí referidos como las ontologías PT y ML [2]. TGN y ML incluyen información geográfica global en varios idiomas (aunque TGN es considerablemente más grande), mientras que la ontología PT se centra en el territorio portugués con un alto nivel de detalle. Los tipos de lugares también son diferentes entre ontologías, por ejemplo, PT incluye nombres de calles y direcciones postales, mientras que ML solo llega al nivel de ciudades. El lector debe consultar [2, 6] para obtener una descripción completa de estos recursos. Nuestros experimentos iniciales utilizaron temas en portugués e inglés de las campañas de evaluación GeoCLEF 2005 y 2006. Los temas en GeoCLEF corresponden a cadenas de consulta que pueden ser utilizadas como entrada a un sistema GIR [4]. ImageCLEF 2006 también incluyó temas que especificaban referencias de lugar, y se alentó a los participantes a ejecutar sus sistemas GIR en ellos. Nuestros experimentos también consideraron este conjunto de datos. Para cada tema, medimos si el Algoritmo 2 fue capaz de encontrar el triple correspondiente < qué, relación, dónde >. Las ontologías utilizadas en este experimento fueron TGN y ML, ya que los temas se presentaron en varios idiomas y abarcaron todo el mundo. Número de conjunto de datos de triples correctos Tiempo por consulta Consultas ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Tabla 2: Resumen de resultados sobre temas de CLEF. La Tabla 1 ilustra algunos de los temas, y la Tabla 2 resume los resultados obtenidos. Las tablas muestran que la técnica propuesta maneja adecuadamente la mayoría de estas consultas. Una inspección manual de los conceptos de la ontología que se devolvieron para cada caso también reveló que el término \"where\" estaba siendo correctamente desambiguado. Ten en cuenta que la ontología TGN de hecho añadió cierta ambigüedad, ya que por ejemplo nombres como Madrid pueden corresponder a muchos lugares diferentes alrededor del mundo. También hay que tener en cuenta que algunos de los temas considerados son muy difíciles de manejar para un sistema automatizado. Algunos de ellos eran ambiguos (por ejemplo, en las importaciones de arroz japonés, la consulta puede referirse tanto a las importaciones de arroz en Japón como a las importaciones de arroz japonés), y otros no contenían referencias geográficas directas (por ejemplo, ciudades cerca de volcanes activos). Además de estos casos muy difíciles, también nos faltaron algunos temas debido a su uso de adjetivos de lugar y regiones específicas que no están definidas en las ontologías (por ejemplo, preocupaciones ambientales en torno a los Trossachs escoceses). En un segundo experimento, utilizamos una muestra de alrededor de 100,000 consultas reales en motores de búsqueda. El objetivo era ver si un número significativo de estas consultas eran de naturaleza geográfica, también comprobando si el algoritmo no cometía muchos errores al clasificar una consulta como geográfica cuando no era el caso. La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un motor de búsqueda web portugués disponible en www.tumba.pt. La Tabla 3 resume los resultados obtenidos. Muchas consultas eran de hecho geográficas (alrededor del 3.4%, aunque estudios previos reportaron valores superiores al 14% [8]). Una inspección manual mostró que el algoritmo no produjo muchos falsos positivos, y las consultas geográficas fueron divididas correctamente en triples < qué, relación, dónde > correctos. Los pocos errores que encontramos estaban relacionados con nombres de lugares que se utilizaban con más frecuencia en otros contextos (por ejemplo, en Teófilo Braga tenemos el problema de que Braga es un distrito portugués, y Teófilo Braga fue un conocido escritor y político portugués). La adición de más nombres a la lista de excepciones puede proporcionar una solución alternativa para la mayoría de estos casos. Valor Num. Consultas 110,916 Num. Consultas sin Referencias Geográficas 107,159 (96.6%) Núm. Consultas con Referencias Geográficas 3,757 (3.4%) Tabla 3: Resultados de un experimento con registros de motores de búsqueda. También probamos el procedimiento para detectar consultas que son implícitamente geográficas con una pequeña muestra de consultas de los registros. Por ejemplo, para la consulta Estádio do Dragão (por ejemplo, estadio local de un equipo de fútbol de Oporto), el contexto geográfico correcto se puede descubrir a partir del análisis de los resultados (más del 75% de los 20 resultados principales están asignados al ámbito de Oporto). Para trabajos futuros, planeamos utilizar una colección más grande de consultas para evaluar este aspecto. Además de las consultas de los registros del motor de búsqueda, también planeamos utilizar los nombres de edificios, monumentos y otros lugares emblemáticos conocidos, ya que tienen una fuerte connotación geográfica. Finalmente, también realizamos un experimento comparativo con 2 geocodificadores populares, Maporama y Microsoft's Mappoint. El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una referencia de lugar. Parroquias civiles del mapa de Lisboa de Maporama Mappoint Nuestros códigos de referencia (de 53) 9 (16,9%) 30 (56,6%) 15 (28,3%) Prom. Tiempo por referencia (mseg) 506.23 1235.87 143.43 Parroquias civiles del mapa de Porto Maporama Mappoint Nuestros refs. codificados (de 15) 0 (0%) 2 (13,3%) 5 (33,3%) Prom. Tiempo por referencia (mseg) 514.45 991.88 132.14 Tabla 4: Resultados de una comparación con servicios de geocodificación. La ontología portuguesa fue utilizada en este experimento, tomando como entrada los nombres de las parroquias civiles de los municipios portugueses de Lisboa y Oporto, y comprobando si los sistemas fueron capaces de desambiguar el nombre completo (por ejemplo, Campo Grande, Lisboa o Foz do Douro, Oporto) en el geocódigo correcto. Específicamente medimos si nuestro enfoque era mejor para devolver de manera inequívoca geocódigos dados los lugares de referencia (es decir, devolver el único código correcto) y proporcionar resultados rápidamente. La Tabla 4 muestra los resultados obtenidos, y la precisión de nuestro método parece comparable a la de los geocodificadores comerciales. Ten en cuenta que para Maporama y Mappoint, los tiempos indicados en la Tabla 4 incluyen la obtención de resultados de la Web, pero no tenemos una forma directa de acceder a los algoritmos de geocodificación (en ambos casos, la obtención de contenido estático de los servidores web toma alrededor de 125 milisegundos). Aunque nuestro enfoque no puede devolver de manera inequívoca el geocódigo correcto en la mayoría de los casos (solo 20 de un total de 68 casos), no obstante devuelve resultados que un usuario humano puede desambiguar (por ejemplo, para Madalena, Lisboa devolvemos tanto una calle como una freguesía), a diferencia de otros sistemas que a menudo no producían resultados. Además, si consideramos el geocódigo superior según el procedimiento de clasificación descrito en la Sección 3.1, o si utilizamos un calificador de tipo en el nombre (por ejemplo, freguesía de Campo Grande, Lisboa), nuestro algoritmo siempre devuelve el geocódigo correcto. 5. CONCLUSIONES Este artículo presentó enfoques simples para manejar referencias de lugares en consultas de motores de búsqueda. Este es un problema difícil de minería de texto, ya que las consultas suelen ser ambiguas o no especifican adecuadamente las necesidades de información. Sin embargo, nuestros experimentos iniciales indican que para muchas consultas, los lugares referenciados pueden ser determinados de manera efectiva. A diferencia de las técnicas propuestas por Wang et al. [17], nos enfocamos principalmente en reconocer relaciones espaciales y asociar nombres de lugares a conceptos de ontología. Las técnicas propuestas fueron empleadas en el sistema prototipo que utilizamos para participar en GeoCLEF 2006. En consultas donde no se menciona explícitamente una referencia geográfica, proponemos utilizar los resultados de la consulta, aprovechando los ámbitos geográficos asignados previamente a estos documentos. En el futuro, planeamos realizar una evaluación cuidadosa de este último enfoque. Otra idea que nos gustaría probar implica la integración de un mecanismo de corrección ortográfica [12] en el Algoritmo 1, de modo que las referencias de lugares con errores ortográficos puedan ser relacionadas con conceptos de la ontología. Las técnicas propuestas para manejar consultas geográficas pueden tener muchas aplicaciones en la mejora de los sistemas de recuperación de información geográfica o incluso en los motores de búsqueda de propósito general. Después de que las referencias de lugar se hayan desambiguado adecuadamente en conceptos de ontología, un sistema GIR puede utilizarlas para recuperar resultados relevantes, a través del uso de estructuras de índices apropiadas (por ejemplo, indexando las coordenadas espaciales asociadas con los conceptos de ontología) y siempre que los documentos también estén asignados a ámbitos correspondientes a los conceptos de ontología. Una estrategia GIR diferente puede implicar la expansión de consultas, tomando los términos de ubicación de la consulta y utilizando la ontología para agregar nombres de ubicaciones vecinas. En un motor de búsqueda de propósito general, si se detecta una consulta local, podemos redirigir a los usuarios a un sistema GIR, que debería ser más adecuado para manejar correctamente la consulta. La interfaz de búsqueda regular de Google ya hace esto, presentando un enlace a Google Local cuando detecta una consulta geográfica. REFERENCIAS [1] E. Amitay, N. HarEl, R. Sivan y A. Soffer. Web-a-Where: Geolocalización de contenido web. En Actas de SIGIR-04, la 27ª Conferencia sobre investigación y desarrollo en recuperación de información, 2004. [2] M. Chaves, M. J. Silva y B. Martins. Una Base de Conocimiento Geográfico para Aplicaciones de la Web Semántica. En las Actas de SBBD-05, el 20º Simposio Brasileño de Bases de Datos, 2005. [3] N. A. Chinchor. Resumen de MUC-7/MET-2. En las Actas de MUC-7, la 7ª Conferencia de Comprensión de Mensajes, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho y P. Clough. GeoCLEF: la pista de recuperación de información geográfica en varios idiomas de CLEF 2005. En Notas de Trabajo para el Taller CLEF 2005, 2005. [5] L. Gravano, V. Hatzivassiloglou y R. Lichtenstein. Clasificación de consultas web según la localidad geográfica. En las Actas de CIKM-03, la 12ª Conferencia sobre Gestión de la Información y el Conocimiento, 2003. [6] P. Harpring. Palabras adecuadas en lugares adecuados: El tesauro de nombres geográficos. MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, y R. Weibel. Recuperación de información espacial y ontologías geográficas: Una visión general del proyecto SPIRIT. En Actas de SIGIR-02, la 25ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2002. [8] J. Kohler. Analizando las consultas de motores de búsqueda para el uso de términos geográficos, 2003. (Tesis de maestría). [9] A. Kornai y B. Sundheim, editores. Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [10] Y. Li, Z. Zheng y H. Dai. Informe de la KDD CUP-2005: Enfrentando un gran desafío. SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard y H. Cunningham. Experimentos con conocimiento geográfico para extracción de información. En Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [12] B. Martins y M. J. Silva. Corrección ortográfica para consultas en motores de búsqueda. En Actas de EsTAL-04, España para el Procesamiento del Lenguaje Natural, 2004. [13] B. Martins y M. J. Silva. Un algoritmo de clasificación de gráficos para georreferenciar documentos. En las Actas de ICDM-05, la 5ta Conferencia Internacional de Minería de Datos de IEEE, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni y A. Laender. El papel de los gaceteros en el descubrimiento del conocimiento geográfico en la web. En las Actas de LA-Web-05, el 3er Congreso Web Latinoamericano, 2005. [15] E. Tjong, K. Sang y F. D. Meulder. Introducción a la tarea compartida CoNLL-2003: Reconocimiento de Entidades Nombradas Independiente del Idioma. En las Actas de CoNLL-2003, la 7ª Conferencia sobre Aprendizaje de Lenguaje Natural, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges y T. Scheffer. Clasificando consultas de motores de búsqueda utilizando la Web como conocimiento de fondo. Boletín de Exploraciones SIGKDD, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y. Ma, y Y. Li. Detectando ubicaciones dominantes a partir de consultas de búsqueda. En las Actas de SIGIR-05, la 28ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2005. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "spelling correction mechanism": {
            "translated_key": "mecanismo de corrección ortográfica",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a <br>spelling correction mechanism</br> [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [
                "Another idea that we would like to test involves the integration of a <br>spelling correction mechanism</br> [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts."
            ],
            "translated_annotated_samples": [
                "Otra idea que nos gustaría probar implica la integración de un <br>mecanismo de corrección ortográfica</br> [12] en el Algoritmo 1, de modo que las referencias de lugares con errores ortográficos puedan ser relacionadas con conceptos de la ontología."
            ],
            "translated_text": "Manejo de ubicaciones en consultas de motores de búsqueda Bruno Martins, Mário J. Silva, Sérgio Freitas y Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt RESUMEN Este artículo propone técnicas simples para manejar referencias de lugares en consultas de motores de búsqueda, un aspecto importante de la recuperación de información geográfica. Abordamos no solo la detección, sino también la desambiguación de referencias de lugar, al emparejarlas explícitamente con conceptos en una ontología. Además, cuando una consulta no hace referencia a ninguna ubicación, proponemos utilizar la información de los documentos que coinciden con la consulta, aprovechando los alcances geográficos asignados previamente a estos documentos. Los experimentos de evaluación, utilizando temas de las campañas de CLEF y registros de consultas reales en motores de búsqueda, muestran la efectividad de los enfoques propuestos. Categorías y Descriptores de Asignaturas H.3.3 [Almacenamiento y Recuperación de Información]: Búsqueda y Recuperación de Información 1. Las consultas en los motores de búsqueda suelen estar asociadas con ubicaciones geográficas, ya sea de forma explícita (es decir, se proporciona una referencia de ubicación como parte de la consulta) o implícita (es decir, la referencia de ubicación no está presente en la cadena de consulta, pero la consulta claramente tiene una intención local). Una de las preocupaciones de la recuperación de información geográfica (GIR) radica en manejar adecuadamente dichas consultas, ofreciendo resultados de búsqueda más específicos y mejorando la satisfacción del usuario. Hoy en día, GIR está recibiendo cada vez más atención. Los sistemas que acceden a recursos en función del contexto geográfico están empezando a aparecer, tanto en el ámbito académico como en el comercial [4, 7]. Detectar con precisión y eficacia las referencias de ubicación en las consultas de los motores de búsqueda es un aspecto crucial de estos sistemas, ya que generalmente se basan en interpretar los términos geográficos de manera diferente a los demás. Detectar ubicaciones en las consultas también es importante para los motores de búsqueda de propósito general, ya que esta información se puede utilizar para mejorar los algoritmos de clasificación. Las consultas con una intención local se responden mejor con páginas localizadas, mientras que las consultas sin referencias geográficas se responden mejor con páginas amplias [5]. Los métodos de minería de texto han sido utilizados con éxito en GIR para detectar y desambiguar referencias geográficas en texto, e incluso para inferir alcances geográficos para documentos. Sin embargo, este cuerpo de investigación se ha centrado en el procesamiento de páginas web y documentos de texto completo. Las consultas en los motores de búsqueda son más difíciles de manejar, en el sentido de que son muy cortas y con intenciones implícitas y subjetivas por parte del usuario. Además, los datos también son más ruidosos y versátiles en su forma, y tenemos que lidiar con errores ortográficos, multilingüismo y acrónimos. Cómo entender automáticamente lo que el usuario pretendía, dado una consulta de búsqueda, sin poner la carga en el usuario mismo, sigue siendo un problema abierto de minería de texto. Los principales desafíos en el manejo de ubicaciones en consultas de motores de búsqueda incluyen su detección y desambiguación, la clasificación de posibles candidatos, la detección de falsos positivos (es decir, no todos los nombres de ubicaciones contenidos se refieren a ubicaciones geográficas) y la detección de ubicaciones implícitas por el contexto de la consulta (es decir, cuando la consulta no contiene explícitamente una referencia de lugar pero sigue siendo geográfica). Los algoritmos simples de reconocimiento de entidades nombradas (NER), basados en búsquedas de diccionario para nombres geográficos, pueden introducir altos falsos positivos para consultas cuyos nombres de ubicación no constituyen referencias de lugar. Por ejemplo, la consulta Denzel Washington contiene el nombre del lugar Washington, pero la consulta no es geográfica. Las consultas también pueden ser geográficas sin contener ninguna referencia explícita a ubicaciones en el diccionario. En estos casos, la extracción y desambiguación de nombres de lugares no arroja resultados, por lo que necesitamos acceder a otras fuentes de información. Este artículo propone técnicas simples y a la vez efectivas para manejar referencias de lugares en consultas. Cada consulta se divide en un triple < qué, relación, dónde >, donde qué especifica el aspecto no geográfico de la necesidad de información, dónde especifica las áreas geográficas de interés, y relación especifica una relación espacial que conecta qué y dónde. Cuando esto no es posible, es decir, cuando la consulta no contiene referencias a lugares, intentamos utilizar la información de los documentos que coinciden con la consulta, explotando los ámbitos geográficos previamente asignados a estos documentos. La desambiguación de referencias de lugar es uno de los aspectos más importantes. Utilizamos un procedimiento de búsqueda que combina patrones textuales con nombres geográficos definidos en una ontología, y utilizamos heurísticas para desambiguar las referencias descubiertas (por ejemplo, se prefieren los lugares más importantes). La desambiguación resulta en tener el término \"where\", del triple anterior, asociado con los conceptos correspondientes más probables de la ontología. Cuando no podemos detectar ninguna ubicación, intentamos utilizar los alcances geográficos previamente inferidos para los documentos en los resultados de búsqueda principales. Al hacer esto, asumimos que el ámbito geográfico más frecuente en los resultados debería corresponder al contexto geográfico implícito en la consulta. Los experimentos con temas de CLEF [4] y consultas de muestra de un motor de búsqueda web muestran que los métodos propuestos son precisos y pueden tener aplicaciones en la mejora de los resultados de búsqueda. El resto de este documento está organizado de la siguiente manera. Primero formalizamos el problema y describimos trabajos relacionados con nuestra investigación. A continuación, describimos nuestro enfoque para manejar los nombres de lugares en las consultas, comenzando con el enfoque general para desambiguar referencias de lugares sobre cadenas de texto, luego presentando el método para dividir una consulta en un triple < qué, relación, dónde >, y finalmente discutiendo la técnica para explotar los alcances geográficos previamente asignados a los documentos en el conjunto de resultados. La sección 4 presenta los resultados de la evaluación. Finalmente, presentamos algunas conclusiones y direcciones para futuras investigaciones. El rendimiento de un motor de búsqueda depende de su capacidad para capturar el significado más probable de una consulta tal como fue pensada por el usuario [16]. Estudios previos mostraron que una parte significativa de las consultas enviadas a los motores de búsqueda son geográficas [8, 14]. Una mejora reciente en la tecnología de motores de búsqueda es la incorporación del razonamiento geográfico, combinando sistemas de información geográfica y recuperación de información para construir motores de búsqueda que encuentren información asociada con ubicaciones específicas. La capacidad de reconocer y razonar sobre la terminología geográfica, proporcionada en los documentos de texto y las consultas de los usuarios, es un aspecto crucial de estos sistemas de recuperación de información geográfica (GIR) [4, 7]. La extracción y distinción de diferentes tipos de entidades en un texto suele denominarse Reconocimiento de Entidades Nombradas (NER). Durante al menos una década, esta ha sido una tarea importante de minería de texto y una característica clave de las Conferencias de Comprensión de Mensajes (MUC) [3]. La extracción de entidades nombradas (NER) se ha automatizado con éxito con un rendimiento casi humano, pero el problema específico de reconocer referencias geográficas presenta desafíos adicionales [9]. Al manejar entidades nombradas con un alto nivel de detalle, los problemas de ambigüedad surgen con más frecuencia. La ambigüedad en las referencias geográficas es bidireccional [15]. El mismo nombre puede ser utilizado para más de un lugar (ambigüedad referencial), y el mismo lugar puede tener más de un nombre (ambigüedad de referencia). El primero tiene otro giro, ya que el mismo nombre puede ser utilizado para ubicaciones, así como para otras clases de entidades, como nombres de personas o empresas (ambigüedad de clase referente). Además del reconocimiento de expresiones geográficas, GIR también requiere que las expresiones reconocidas sean clasificadas y vinculadas a identificadores únicos [11]. El enraizamiento de las expresiones reconocidas (por ejemplo, asociándolas a coordenadas o conceptos en una ontología) asegura que puedan ser utilizadas en tareas de GIR más avanzadas. Trabajos anteriores han abordado el etiquetado y la localización de lugares en páginas web, así como la asignación de alcances geográficos a estos documentos [1, 7, 13]. Este es un aspecto complementario a las técnicas descritas en este documento, ya que si tenemos las páginas web etiquetadas con información de ubicación, un motor de búsqueda puede devolver convenientemente páginas con un alcance geográfico relacionado con el alcance de la consulta. La tarea de manejar referencias geográficas en documentos es considerablemente diferente de la de manejar referencias geográficas en consultas. En nuestro caso, las consultas suelen ser cortas y a menudo no constituyen frases completas. Las técnicas de minería de texto que hacen uso de información de contexto son difíciles de aplicar para lograr una alta precisión. Estudios previos también han abordado el uso de la minería de texto y técnicas de clasificación automatizadas sobre consultas en motores de búsqueda [16, 10]. Sin embargo, la mayoría de estos trabajos no consideraron referencias de lugar o categorías geográficas. Nuevamente, estos métodos previamente propuestos son difíciles de aplicar al dominio geográfico. Gravano et al. estudiaron la clasificación de las consultas web en dos tipos, a saber, local y global [5]. Definieron una consulta como local si sus mejores coincidencias en un motor de búsqueda web probablemente sean páginas locales, como casas en venta. Se han evaluado varios algoritmos de clasificación utilizando consultas en motores de búsqueda. Sin embargo, sus resultados experimentales mostraron que solo se podía lograr una precisión y recuperación bastante baja. El problema abordado en este artículo también es ligeramente diferente, ya que estamos tratando no solo de detectar consultas locales, sino también de desambiguar el lugar de interés. Wang et al. propusieron ir más allá de detectar consultas locales, también desambiguando el local implícito de interés [17]. El enfoque propuesto funciona tanto para consultas que contienen referencias de lugar como para consultas que no las contienen, buscando referencias geográficas dominantes en los registros de consultas y en el texto de los resultados de búsqueda. En comparación, proponemos técnicas más simples basadas en la coincidencia de nombres de una ontología geográfica. Nuestro enfoque busca relaciones espaciales en la cadena de consulta, y también asocia las referencias de lugar a conceptos de ontología. En el caso de consultas que no contienen referencias explícitas de lugares, utilizamos los ámbitos geográficos asignados previamente a los documentos, mientras que Wang et al. propusieron extraer ubicaciones del texto de los resultados de búsqueda principales. Hoy en día existen muchos servicios de geocodificación, inversión de geocodificación y mapas en la web que pueden integrarse fácilmente con otras aplicaciones. La geocodificación es el proceso de localizar puntos en la superficie de la Tierra a partir de datos de direcciones alfanuméricas. Tomando una cadena con una dirección, un geocodificador consulta un sistema de información geográfica y devuelve valores de coordenadas interpoladas para la ubicación dada. En lugar de calcular coordenadas para una referencia de lugar dada, la técnica descrita en este documento tiene como objetivo asignar referencias a los conceptos de ontología correspondientes. Sin embargo, si cada concepto en la ontología contiene información de coordenadas asociadas, el enfoque descrito aquí también podría ser utilizado para construir un servicio de geocodificación. La mayoría de estos servicios existentes son de naturaleza comercial y no hay publicaciones técnicas que los describan. Un número de servicios de búsqueda comerciales también han comenzado a ofrecer soporte para búsquedas basadas en la ubicación. Google Local, por ejemplo, inicialmente requería que el usuario especificara un calificador de ubicación por separado de la consulta de búsqueda. Más recientemente, se agregaron capacidades de búsqueda de ubicación que extraen ubicaciones de cadenas de consulta. Por ejemplo, en una búsqueda de Pizza Seattle, Google Local devuelve resultados locales de pizzerías cerca de Seattle, WA. Sin embargo, los detalles intrínsecos de su solución no están publicados, y su enfoque tampoco maneja consultas implícitas de ubicación. Además, Google Local no tiene en cuenta las relaciones espaciales. En resumen, ya existen algunos estudios sobre etiquetado de referencias geográficas, pero las consultas web plantean desafíos adicionales que no se han abordado. En este documento, explicamos las soluciones propuestas para los problemas identificados. 3. MANEJO DE CONSULTAS EN SISTEMAS GIR La mayoría de las consultas GIR pueden ser analizadas en un triple < qué, relación, dónde >, donde el término \"qué\" se utiliza para especificar el aspecto general no geográfico de la necesidad de información, el término \"dónde\" se utiliza para especificar las áreas geográficas de interés, y el término \"relación\" se utiliza para especificar una relación espacial que conecta el qué y el dónde. Si bien el término qué puede asumir cualquier forma, con el fin de reflejar cualquier necesidad de información, los términos de relación y de ubicación deben formar parte de un vocabulario controlado. En particular, el término de relación debería hacer referencia a una relación geográfica bien conocida que el sistema GIR subyacente pueda interpretar (por ejemplo, cerca o contenido en), y el término de ubicación debería ser desambiguado en un conjunto de identificadores únicos, correspondientes a conceptos en la ontología. Los diferentes sistemas pueden utilizar esquemas alternativos para recibir consultas de entrada de los usuarios. Se pueden identificar tres estrategias generales, y los sistemas GIR a menudo admiten más de uno de los siguientes esquemas: Figura 1: Estrategias para procesar consultas en sistemas de Recuperación de Información Geográfica. 1. La entrada al sistema es una cadena de consulta textual. Este es el caso más difícil, ya que necesitamos separar la consulta en tres componentes diferentes, y luego necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. La entrada al sistema se proporciona en dos cadenas separadas, una referente al término \"qué\" y la otra referente al término \"dónde\". El término de relación puede ser fijo (por ejemplo, siempre asumir la relación cercana), especificado junto con la cadena de ubicación, o proporcionado por separado por los usuarios a partir de un conjunto de opciones posibles. Aunque no es necesario separar la cadena de consulta en diferentes componentes, todavía necesitamos desambiguar el término \"where\" en un conjunto de identificadores únicos. 3. La entrada al sistema se proporciona a través de una cadena de consulta junto con una descripción inequívoca del área geográfica de interés (por ejemplo, un esquema en un mapa, coordenadas espaciales o una selección de un conjunto de opciones posibles). No se requiere desambiguación, por lo tanto, las técnicas descritas en este documento no tienen que ser aplicadas. Los dos primeros esquemas dependen de la desambiguación de nombres de lugares. La Figura 1 ilustra cómo proponemos manejar consultas geográficas en estos dos esquemas iniciales. Un componente común es el algoritmo para desambiguar referencias de lugares en conceptos de ontología correspondientes, que se describe a continuación. 3.1 De Nombres de Lugares a Conceptos de Ontología Una tarea requerida en el manejo de consultas GIR consiste en asociar una cadena que contiene una referencia geográfica con el conjunto de conceptos correspondientes en la ontología geográfica. Proponemos hacer esto de acuerdo al pseudo-código listado en el Algoritmo 1. El algoritmo considera los casos en los que se proporciona una segunda (o incluso más de una) ubicación para calificar a una primera (por ejemplo, París, Francia. Realiza llamadas recursivas para hacer coincidir cada ubicación, y se basa en relaciones jerárquicas de partes para detectar si dos ubicaciones comparten una ruta jerárquica común. Una de las ubicaciones proporcionadas debe ser más general y la otra más específica, en el sentido de que debe existir una relación de parte entre los conceptos asociados en la ontología (ya sea directa o transitiva). La ubicación más específica es una subregión de la más general, y el algoritmo devuelve la más específica (es decir, para París, Francia, el algoritmo devuelve el concepto de ontología asociado con París, la capital de Francia). También consideramos los casos en los que se utiliza una expresión de tipo geográfico para calificar un nombre dado (por ejemplo, ciudad de Lisboa o estado de Nueva York). Por ejemplo, el nombre Lisboa puede corresponder a muchos conceptos diferentes en una ontología geográfica, y el tipo Algoritmo 1 Coincidencia de un nombre de lugar con conceptos de ontología. Requiere: O = Una ontología geográfica. Requiere: GN = Una cadena con el nombre geográfico a ser emparejado. 1: L = Una lista vacía. 2: INDEX = La posición en GN de la primera ocurrencia de una coma, punto y coma o carácter de corchete. 3: si INDEX está definido entonces 4: GN1 = La subcadena de GN desde la posición 0 hasta INDEX. 5: GN2 = La subcadena de GN desde INDEX +1 hasta la longitud de GN. 6: L1 = Algoritmo1(O, GN1). 7: L2 = Algoritmo1(O, GN2). 8: para cada C1 en L1 hacer 9: para cada C2 en L2 hacer 10: si C1 es un ancestro de C2 en O entonces 11: L = La lista L después de agregar el elemento C2. 12: else si C1 es un descendiente de C2 en O entonces 13: L = La lista L después de agregar el elemento C1. 14: fin si 15: fin para 16: fin para 17: sino 18: GN = La cadena GN después de eliminar mayúsculas y diacríticos. 19: si GN contiene un calificador de tipo geográfico entonces 20: T = La subcadena de GN que contiene el calificador de tipo. 21: GN = La subcadena de GN con el calificador de tipo eliminado. 22: L = La lista de conceptos de O con nombre GN y tipo T. 23: sino 24: L = La lista de conceptos de O con nombre GN. 25: fin si 26: fin si 27: retornar La lista L los calificadores pueden proporcionar información útil para la desambiguación. Los calificadores de tipo considerados también deben ser descritos en las ontologías (por ejemplo, cada concepto geográfico debe estar asociado a un tipo que también esté definido en la ontología, como país, distrito o ciudad). Idealmente, la referencia geográfica proporcionada por el usuario debería ser desambiguada en un único concepto de ontología. Sin embargo, esto no siempre es posible, ya que el usuario puede no proporcionar toda la información requerida (es decir, una expresión de tipo o una segunda ubicación de calificación). Por lo tanto, la salida es una lista con los posibles conceptos a los que se refiere el usuario. En un paso final, proponemos ordenar esta lista, de modo que si se requiere un solo concepto como resultado, podamos utilizar el que esté clasificado más alto. El procedimiento de clasificación refleja la probabilidad de que cada concepto sea realmente el mencionado. Proponemos clasificar conceptos de acuerdo con las siguientes heurísticas: 1. La expresión de tipo geográfico asociada con el concepto de ontología. Para el mismo nombre, es más probable que se haga referencia a un país que a una ciudad, y a su vez, es más probable que se haga referencia a una ciudad que a una calle. Número de ancestros en la ontología. Los lugares principales en la ontología tienden a ser más generales, y por lo tanto es más probable que sean referenciados en consultas de motores de búsqueda. 3. Recuento de población. Los lugares altamente poblados son más conocidos, y por lo tanto es más probable que sean referenciados en consultas. Recuentos de población de ancestros directos en la ontología. Las subregiones de lugares altamente poblados son más conocidas y también es más probable que sean referenciadas en consultas de motores de búsqueda. Frecuencia de ocurrencia en documentos web (por ejemplo, Google cuenta) para los nombres geográficos. Los nombres de lugares que ocurren con más frecuencia en documentos web también son más propensos a ser referenciados en consultas de motores de búsqueda. 6. Número de descendientes en la ontología. Los lugares que tienen más subregiones tienden a ser más generales, y por lo tanto es más probable que sean mencionados en las consultas de los motores de búsqueda. 7. Tamaño de cadena para los nombres geográficos. Los nombres cortos son más propensos a ser mencionados en las consultas de motores de búsqueda. El Algoritmo 1, junto con el procedimiento de clasificación, ya puede manejar consultas GIR donde el término \"where\" se proporciona por separado de los términos \"what\" y \"relation\". Sin embargo, si la consulta se proporciona en una sola cadena, requerimos la identificación del triple asociado < qué, relación, dónde > antes de desambiguar el término de ubicación en los conceptos de la ontología correspondiente. Esto se describe en la siguiente Sección. 3.2 Manejo de Cadenas de Consulta Única. El Algoritmo 2 proporciona el mecanismo para separar una cadena de consulta en un triple < qué, relación, dónde >. Utiliza el Algoritmo 1 para encontrar dónde se encuentra el término, desambiguándolo en un conjunto de conceptos de ontología. El algoritmo comienza tokenizando la cadena de consulta en palabras individuales, también encargándose de eliminar mayúsculas y diacríticos. Tenemos un tokenizador simple que utiliza el espacio como delimitador de palabras, pero también podríamos tener un enfoque de tokenización similar a la propuesta de Wang et al., que se basa en estadísticas de ocurrencia en la web para evitar romper colocaciones [17]. En el futuro, planeamos probar si este esquema de tokenización diferente puede mejorar los resultados. A continuación, el algoritmo prueba diferentes divisiones posibles de la consulta, construyendo los términos de qué, relación y dónde a través de concatenaciones de los tokens individuales. El término de relación se compara con una lista de valores posibles (por ejemplo, cerca, en, alrededor o al sur de), que corresponden a los operadores admitidos por el sistema GIR. Cabe destacar que también es responsabilidad del sistema GIR subyacente interpretar el significado real de las diferentes relaciones espaciales. El algoritmo 1 se utiliza para verificar si un término \"where\" constituye una referencia geográfica o no. También verificamos si la última palabra en el término pertenece a una lista de excepciones, que incluye, por ejemplo, nombres propios de personas en diferentes idiomas. Esto garantiza que una consulta como Denzel Washington sea manejada adecuadamente. Si el algoritmo tiene éxito en encontrar una relación válida y los términos correspondientes, entonces se devuelve el triple correspondiente. De lo contrario, devolvemos un triple con el término \"qué\" igual al string de consulta, y los términos de relación y ubicación establecidos como vacíos. Si toda la cadena de consulta constituye una referencia geográfica, devolvemos un triple con el término \"what\" establecido como vacío, el término \"where\" igual a la cadena de consulta, y el término de relación establecido como DEFINICIÓN (es decir, estas consultas deben ser respondidas con información sobre los lugares mencionados). El algoritmo también maneja cadenas de consulta donde se proporcionan más de una referencia geográfica, utilizando \"and\" o una preposición equivalente, junto con una llamada recursiva al Algoritmo 2. Una consulta como el comercio de diamantes en Angola y Sudáfrica es el Algoritmo 2 Obtener < qué, relación, dónde > de una cadena de consulta. Requiere: O = Una ontología geográfica. Requiere: Q = Una cadena no vacía con la consulta. 1: Q = La cadena Q después de eliminar mayúsculas y diacríticos. 2: TOKENS[0..N] = Un array de cadenas con las palabras individuales de Q. 3: N = El tamaño del array TOKENS. 4: para INDEX = 0 a N hacer 5: si INDEX = 0 entonces 6: QUÉ = Concatenación de TOKENS[0..INDEX −1] 7: ÚLTIMOQUÉ = TOKENS[INDEX −1] 8: sino 9: QUÉ = Una cadena vacía 10: ÚLTIMOQUÉ = Una cadena vacía 11: fin si 12: DÓNDE = Concatenación de TOKENS[INDEX..N] 13: RELACIÓN = Una cadena vacía 14: para INDEX2 = INDEX a N −1 hacer 15: RELACIÓN2 = Concatenación de TOKENS[INDEX..INDEX2] 16: si RELACIÓN2 es una relación geográfica válida entonces 17: DÓNDE = Concatenación de S[INDEX2 +1..N] 18: RELACIÓN = RELACIÓN2 19: fin si 20: fin para 21: si RELACIÓN = vacío Y ÚLTIMOQUÉ es una excepción entonces 22: TESTGEO = FALSO 23: sino 24: TESTGEO = VERDADERO 25: fin si 26: si TESTGEO Y Algoritmo1(DÓNDE) <> VACÍO entonces 27: si DÓNDE termina con Y ALREDEDORES entonces 28: RELACIÓN = La cadena CERCA 29: DÓNDE = La subcadena de DÓNDE con Y ALREDEDORES eliminado 30: fin si 31: si QUÉ termina con Y o similar entonces 32: < QUÉ, RELACIÓN, DÓNDE2 > = Algoritmo2(QUÉ) 33: DÓNDE = Concatenación de DÓNDE con DÓNDE2 34: fin si 35: si RELACIÓN = Una cadena vacía entonces 36: si QUÉ = Una cadena vacía entonces 37: RELACIÓN = La cadena DEFINICIÓN 38: sino 39: RELACIÓN = La cadena CONTENIDO-EN 40: fin si 41: fin si 42: sino 43: QUÉ = La cadena Q 44: DÓNDE = Una cadena vacía 45: RELACIÓN = Una cadena vacía 46: fin si 47: fin para 48: retornar < QUÉ, RELACIÓN, DÓNDE > por lo tanto manejado adecuadamente. Finalmente, si la referencia geográfica en la consulta se complementa con una expresión similar a \"y sus alrededores\", la relación espacial (que se asume como CONTENIDO-EN si no se proporciona ninguna) se cambia a CERCA. 3.3 De los Resultados de Búsqueda a la Localidad de la Consulta. Los procedimientos dados hasta ahora son apropiados para manejar consultas donde se menciona explícitamente una referencia de lugar. Sin embargo, el hecho de que una consulta pueda estar asociada con un contexto geográfico puede que no sea directamente observable en la consulta en sí, sino más bien a partir de los resultados devueltos. Por ejemplo, consultas como hoteles recomendados para SIGIR 2006 o alojamiento para SeaFair 2006 pueden referirse a la ciudad de Seattle. Aunque no contienen una referencia explícita al lugar, esperamos que los resultados sean sobre hoteles en Seattle. En los casos en los que una consulta no contiene referencias de lugar, comenzamos asumiendo que los resultados principales de un motor de búsqueda representan el contexto y uso más popular y correcto para la consulta. Propongo utilizar las características de distribución de los ámbitos geográficos previamente asignados a los documentos correspondientes a estos principales resultados. En un trabajo previo, presentamos un enfoque de minería de texto para asignar documentos con alcances geográficos correspondientes, definidos en una ontología, que funcionaba como una etapa de preprocesamiento sin conexión en un sistema GIR [13]. Este paso de preprocesamiento es una etapa fundamental de GIR, y es razonable asumir que este tipo de información estaría disponible en cualquier sistema. De manera similar a Wang et al., también podríamos intentar procesar los resultados en línea, con el fin de detectar referencias de lugares en los documentos [17]. Sin embargo, un sistema GIR ya requiere la etapa fuera de línea. Para los N documentos principales dados en los resultados, verificamos los alcances geográficos que les fueron asignados. Si una parte significativa de los resultados se asigna al mismo ámbito, entonces la consulta puede considerarse relacionada con el concepto geográfico correspondiente. Esta suposición incluso podría ser relajada, por ejemplo, verificando si los documentos pertenecen a ámbitos que están jerárquicamente relacionados. 4. EXPERIMENTOS DE EVALUACIÓN Utilizamos tres ontologías diferentes en experimentos de evaluación, a saber, el tesauro de nombres geográficos de Getty (TGN) [6] y dos recursos específicos desarrollados en nuestro grupo, aquí referidos como las ontologías PT y ML [2]. TGN y ML incluyen información geográfica global en varios idiomas (aunque TGN es considerablemente más grande), mientras que la ontología PT se centra en el territorio portugués con un alto nivel de detalle. Los tipos de lugares también son diferentes entre ontologías, por ejemplo, PT incluye nombres de calles y direcciones postales, mientras que ML solo llega al nivel de ciudades. El lector debe consultar [2, 6] para obtener una descripción completa de estos recursos. Nuestros experimentos iniciales utilizaron temas en portugués e inglés de las campañas de evaluación GeoCLEF 2005 y 2006. Los temas en GeoCLEF corresponden a cadenas de consulta que pueden ser utilizadas como entrada a un sistema GIR [4]. ImageCLEF 2006 también incluyó temas que especificaban referencias de lugar, y se alentó a los participantes a ejecutar sus sistemas GIR en ellos. Nuestros experimentos también consideraron este conjunto de datos. Para cada tema, medimos si el Algoritmo 2 fue capaz de encontrar el triple correspondiente < qué, relación, dónde >. Las ontologías utilizadas en este experimento fueron TGN y ML, ya que los temas se presentaron en varios idiomas y abarcaron todo el mundo. Número de conjunto de datos de triples correctos Tiempo por consulta Consultas ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Tabla 2: Resumen de resultados sobre temas de CLEF. La Tabla 1 ilustra algunos de los temas, y la Tabla 2 resume los resultados obtenidos. Las tablas muestran que la técnica propuesta maneja adecuadamente la mayoría de estas consultas. Una inspección manual de los conceptos de la ontología que se devolvieron para cada caso también reveló que el término \"where\" estaba siendo correctamente desambiguado. Ten en cuenta que la ontología TGN de hecho añadió cierta ambigüedad, ya que por ejemplo nombres como Madrid pueden corresponder a muchos lugares diferentes alrededor del mundo. También hay que tener en cuenta que algunos de los temas considerados son muy difíciles de manejar para un sistema automatizado. Algunos de ellos eran ambiguos (por ejemplo, en las importaciones de arroz japonés, la consulta puede referirse tanto a las importaciones de arroz en Japón como a las importaciones de arroz japonés), y otros no contenían referencias geográficas directas (por ejemplo, ciudades cerca de volcanes activos). Además de estos casos muy difíciles, también nos faltaron algunos temas debido a su uso de adjetivos de lugar y regiones específicas que no están definidas en las ontologías (por ejemplo, preocupaciones ambientales en torno a los Trossachs escoceses). En un segundo experimento, utilizamos una muestra de alrededor de 100,000 consultas reales en motores de búsqueda. El objetivo era ver si un número significativo de estas consultas eran de naturaleza geográfica, también comprobando si el algoritmo no cometía muchos errores al clasificar una consulta como geográfica cuando no era el caso. La ontología portuguesa fue utilizada en este experimento, y las consultas fueron tomadas de los registros de un motor de búsqueda web portugués disponible en www.tumba.pt. La Tabla 3 resume los resultados obtenidos. Muchas consultas eran de hecho geográficas (alrededor del 3.4%, aunque estudios previos reportaron valores superiores al 14% [8]). Una inspección manual mostró que el algoritmo no produjo muchos falsos positivos, y las consultas geográficas fueron divididas correctamente en triples < qué, relación, dónde > correctos. Los pocos errores que encontramos estaban relacionados con nombres de lugares que se utilizaban con más frecuencia en otros contextos (por ejemplo, en Teófilo Braga tenemos el problema de que Braga es un distrito portugués, y Teófilo Braga fue un conocido escritor y político portugués). La adición de más nombres a la lista de excepciones puede proporcionar una solución alternativa para la mayoría de estos casos. Valor Num. Consultas 110,916 Num. Consultas sin Referencias Geográficas 107,159 (96.6%) Núm. Consultas con Referencias Geográficas 3,757 (3.4%) Tabla 3: Resultados de un experimento con registros de motores de búsqueda. También probamos el procedimiento para detectar consultas que son implícitamente geográficas con una pequeña muestra de consultas de los registros. Por ejemplo, para la consulta Estádio do Dragão (por ejemplo, estadio local de un equipo de fútbol de Oporto), el contexto geográfico correcto se puede descubrir a partir del análisis de los resultados (más del 75% de los 20 resultados principales están asignados al ámbito de Oporto). Para trabajos futuros, planeamos utilizar una colección más grande de consultas para evaluar este aspecto. Además de las consultas de los registros del motor de búsqueda, también planeamos utilizar los nombres de edificios, monumentos y otros lugares emblemáticos conocidos, ya que tienen una fuerte connotación geográfica. Finalmente, también realizamos un experimento comparativo con 2 geocodificadores populares, Maporama y Microsoft's Mappoint. El objetivo era comparar el Algoritmo 1 con otros enfoques, en términos de poder desambiguar correctamente una cadena con una referencia de lugar. Parroquias civiles del mapa de Lisboa de Maporama Mappoint Nuestros códigos de referencia (de 53) 9 (16,9%) 30 (56,6%) 15 (28,3%) Prom. Tiempo por referencia (mseg) 506.23 1235.87 143.43 Parroquias civiles del mapa de Porto Maporama Mappoint Nuestros refs. codificados (de 15) 0 (0%) 2 (13,3%) 5 (33,3%) Prom. Tiempo por referencia (mseg) 514.45 991.88 132.14 Tabla 4: Resultados de una comparación con servicios de geocodificación. La ontología portuguesa fue utilizada en este experimento, tomando como entrada los nombres de las parroquias civiles de los municipios portugueses de Lisboa y Oporto, y comprobando si los sistemas fueron capaces de desambiguar el nombre completo (por ejemplo, Campo Grande, Lisboa o Foz do Douro, Oporto) en el geocódigo correcto. Específicamente medimos si nuestro enfoque era mejor para devolver de manera inequívoca geocódigos dados los lugares de referencia (es decir, devolver el único código correcto) y proporcionar resultados rápidamente. La Tabla 4 muestra los resultados obtenidos, y la precisión de nuestro método parece comparable a la de los geocodificadores comerciales. Ten en cuenta que para Maporama y Mappoint, los tiempos indicados en la Tabla 4 incluyen la obtención de resultados de la Web, pero no tenemos una forma directa de acceder a los algoritmos de geocodificación (en ambos casos, la obtención de contenido estático de los servidores web toma alrededor de 125 milisegundos). Aunque nuestro enfoque no puede devolver de manera inequívoca el geocódigo correcto en la mayoría de los casos (solo 20 de un total de 68 casos), no obstante devuelve resultados que un usuario humano puede desambiguar (por ejemplo, para Madalena, Lisboa devolvemos tanto una calle como una freguesía), a diferencia de otros sistemas que a menudo no producían resultados. Además, si consideramos el geocódigo superior según el procedimiento de clasificación descrito en la Sección 3.1, o si utilizamos un calificador de tipo en el nombre (por ejemplo, freguesía de Campo Grande, Lisboa), nuestro algoritmo siempre devuelve el geocódigo correcto. 5. CONCLUSIONES Este artículo presentó enfoques simples para manejar referencias de lugares en consultas de motores de búsqueda. Este es un problema difícil de minería de texto, ya que las consultas suelen ser ambiguas o no especifican adecuadamente las necesidades de información. Sin embargo, nuestros experimentos iniciales indican que para muchas consultas, los lugares referenciados pueden ser determinados de manera efectiva. A diferencia de las técnicas propuestas por Wang et al. [17], nos enfocamos principalmente en reconocer relaciones espaciales y asociar nombres de lugares a conceptos de ontología. Las técnicas propuestas fueron empleadas en el sistema prototipo que utilizamos para participar en GeoCLEF 2006. En consultas donde no se menciona explícitamente una referencia geográfica, proponemos utilizar los resultados de la consulta, aprovechando los ámbitos geográficos asignados previamente a estos documentos. En el futuro, planeamos realizar una evaluación cuidadosa de este último enfoque. Otra idea que nos gustaría probar implica la integración de un <br>mecanismo de corrección ortográfica</br> [12] en el Algoritmo 1, de modo que las referencias de lugares con errores ortográficos puedan ser relacionadas con conceptos de la ontología. Las técnicas propuestas para manejar consultas geográficas pueden tener muchas aplicaciones en la mejora de los sistemas de recuperación de información geográfica o incluso en los motores de búsqueda de propósito general. Después de que las referencias de lugar se hayan desambiguado adecuadamente en conceptos de ontología, un sistema GIR puede utilizarlas para recuperar resultados relevantes, a través del uso de estructuras de índices apropiadas (por ejemplo, indexando las coordenadas espaciales asociadas con los conceptos de ontología) y siempre que los documentos también estén asignados a ámbitos correspondientes a los conceptos de ontología. Una estrategia GIR diferente puede implicar la expansión de consultas, tomando los términos de ubicación de la consulta y utilizando la ontología para agregar nombres de ubicaciones vecinas. En un motor de búsqueda de propósito general, si se detecta una consulta local, podemos redirigir a los usuarios a un sistema GIR, que debería ser más adecuado para manejar correctamente la consulta. La interfaz de búsqueda regular de Google ya hace esto, presentando un enlace a Google Local cuando detecta una consulta geográfica. REFERENCIAS [1] E. Amitay, N. HarEl, R. Sivan y A. Soffer. Web-a-Where: Geolocalización de contenido web. En Actas de SIGIR-04, la 27ª Conferencia sobre investigación y desarrollo en recuperación de información, 2004. [2] M. Chaves, M. J. Silva y B. Martins. Una Base de Conocimiento Geográfico para Aplicaciones de la Web Semántica. En las Actas de SBBD-05, el 20º Simposio Brasileño de Bases de Datos, 2005. [3] N. A. Chinchor. Resumen de MUC-7/MET-2. En las Actas de MUC-7, la 7ª Conferencia de Comprensión de Mensajes, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho y P. Clough. GeoCLEF: la pista de recuperación de información geográfica en varios idiomas de CLEF 2005. En Notas de Trabajo para el Taller CLEF 2005, 2005. [5] L. Gravano, V. Hatzivassiloglou y R. Lichtenstein. Clasificación de consultas web según la localidad geográfica. En las Actas de CIKM-03, la 12ª Conferencia sobre Gestión de la Información y el Conocimiento, 2003. [6] P. Harpring. Palabras adecuadas en lugares adecuados: El tesauro de nombres geográficos. MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, y R. Weibel. Recuperación de información espacial y ontologías geográficas: Una visión general del proyecto SPIRIT. En Actas de SIGIR-02, la 25ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2002. [8] J. Kohler. Analizando las consultas de motores de búsqueda para el uso de términos geográficos, 2003. (Tesis de maestría). [9] A. Kornai y B. Sundheim, editores. Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [10] Y. Li, Z. Zheng y H. Dai. Informe de la KDD CUP-2005: Enfrentando un gran desafío. SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard y H. Cunningham. Experimentos con conocimiento geográfico para extracción de información. En Actas del Taller NAACL-HLT sobre el Análisis de Referencias Geográficas, 2003. [12] B. Martins y M. J. Silva. Corrección ortográfica para consultas en motores de búsqueda. En Actas de EsTAL-04, España para el Procesamiento del Lenguaje Natural, 2004. [13] B. Martins y M. J. Silva. Un algoritmo de clasificación de gráficos para georreferenciar documentos. En las Actas de ICDM-05, la 5ta Conferencia Internacional de Minería de Datos de IEEE, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni y A. Laender. El papel de los gaceteros en el descubrimiento del conocimiento geográfico en la web. En las Actas de LA-Web-05, el 3er Congreso Web Latinoamericano, 2005. [15] E. Tjong, K. Sang y F. D. Meulder. Introducción a la tarea compartida CoNLL-2003: Reconocimiento de Entidades Nombradas Independiente del Idioma. En las Actas de CoNLL-2003, la 7ª Conferencia sobre Aprendizaje de Lenguaje Natural, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges y T. Scheffer. Clasificando consultas de motores de búsqueda utilizando la Web como conocimiento de fondo. Boletín de Exploraciones SIGKDD, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y. Ma, y Y. Li. Detectando ubicaciones dominantes a partir de consultas de búsqueda. En las Actas de SIGIR-05, la 28ª Conferencia sobre Investigación y Desarrollo en Recuperación de Información, 2005. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "geographic ir": {
            "translated_key": "ir geográfico",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        },
        "text mine": {
            "translated_key": "extraer texto",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        },
        "query process": {
            "translated_key": "proceso de consulta",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Handling Locations in Search Engine Queries Bruno Martins, Mário J. Silva, Sérgio Freitas and Ana Paula Afonso Faculdade de Ciências da Universidade de Lisboa 1749-016 Lisboa, Portugal {bmartins,mjs,sfreitas,apa}@xldb.di.fc.ul.pt ABSTRACT This paper proposes simple techniques for handling place references in search engine queries, an important aspect of geographical information retrieval.",
                "We address not only the detection, but also the disambiguation of place references, by matching them explicitly with concepts at an ontology.",
                "Moreover, when a query does not reference any locations, we propose to use information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Evaluation experiments, using topics from CLEF campaigns and logs from real search engine queries, show the effectiveness of the proposed approaches.",
                "Categories and Subject Descriptors H.3.3 [Information Storage and Retrieval]: Information Search and Retrieval 1.",
                "INTRODUCTION Search engine queries are often associated with geographical locations, either explicitly (i.e. a location reference is given as part of the query) or implicitly (i.e. the location reference is not present in the query string, but the query clearly has a local intent [17]).",
                "One of the concerns of geographical information retrieval (GIR) lies in appropriately handling such queries, bringing better targeted search results and improving user satisfaction.",
                "Nowadays, GIR is getting increasing attention.",
                "Systems that access resources on the basis of geographic context are starting to appear, both in the academic and commercial domains [4, 7].",
                "Accurately and effectively detecting location references in search engine queries is a crucial aspect of these systems, as they are generally based on interpreting geographical terms differently from the others.",
                "Detecting locations in queries is also important for generalpropose search engines, as this information can be used to improve ranking algorithms.",
                "Queries with a local intent are best answered with localized pages, while queries without any geographical references are best answered with broad pages [5].",
                "Text mining methods have been successfully used in GIR to detect and disambiguate geographical references in text [9], or even to infer geographic scopes for documents [1, 13].",
                "However, this body of research has been focused on processing Web pages and full-text documents.",
                "Search engine queries are more difficult to handle, in the sense that they are very short and with implicit and subjective user intents.",
                "Moreover, the data is also noisier and more versatile in form, and we have to deal with misspellings, multilingualism and acronyms.",
                "How to automatically understand what the user intended, given a search query, without putting the burden in the user himself, remains an open text mining problem.",
                "Key challenges in handling locations over search engine queries include their detection and disambiguation, the ranking of possible candidates, the detection of false positives (i.e not all contained location names refer to geographical locations), and the detection of implied locations by the context of the query (i.e. when the query does not explicitly contain a place reference but it is nonetheless geographical).",
                "Simple named entity recognition (NER) algorithms, based on dictionary look-ups for geographical names, may introduce high false positives for queries whose location names do not constitute place references.",
                "For example the query Denzel Washington contains the place name Washington, but the query is not geographical.",
                "Queries can also be geographic without containing any explicit reference to locations at the dictionary.",
                "In these cases, place name extraction and disambiguation does not give any results, and we need to access other sources of information.",
                "This paper proposes simple and yet effective techniques for handling place references over queries.",
                "Each query is split into a triple < what,relation,where >, where what specifies the non-geographic aspect of the information need, where specifies the geographic areas of interest, and relation specifies a spatial relationship connecting what and where.",
                "When this is not possible, i.e. the query does not contain any place references, we try using information from documents matching the query, exploiting geographic scopes previously assigned to these documents.",
                "Disambiguating place references is one of the most important aspects.",
                "We use a search procedure that combines textual patterns with geographical names defined at an ontology, and we use heuristics to disambiguate the discovered references (e.g. more important places are preferred).",
                "Disambiguation results in having the where term, from the triple above, associated with the most likely corresponding concepts from the ontology.",
                "When we cannot detect any locations, we attempt to use geographical scopes previously inferred for the documents at the top search results.",
                "By doing this, we assume that the most frequent geographical scope in the results should correspond to the geographical context implicit in the query.",
                "Experiments with CLEF topics [4] and sample queries from a Web search engine show that the proposed methods are accurate, and may have applications in improving search results.",
                "The rest of this paper is organized as follows.",
                "We first formalize the problem and describe related work to our research.",
                "Next, we describe our approach for handling place names in queries, starting with the general approach for disambiguating place references over textual strings, then presenting the method for splitting a query into a < what,relation,where > triple, and finally discussing the technique for exploiting geographic scopes previously assigned to documents in the result set.",
                "Section 4 presents evaluation results.",
                "Finally, we give some conclusions and directions for future research. 2.",
                "CONCEPTS AND RELATED WORK Search engine performance depends on the ability to capture the most likely meaning of a query as intended by the user [16].",
                "Previous studies showed that a significant portion of the queries submitted to search engines are geographic [8, 14].",
                "A recent enhancement to search engine technology is the addition of geographic reasoning, combining geographic information systems and information retrieval in order to build search engines that find information associated with given locations.",
                "The ability to recognize and reason about the geographical terminology, given in the text documents and user queries, is a crucial aspect of these geographical information retrieval (GIR) systems [4, 7].",
                "Extracting and distinguishing different types of entities in text is usually referred to as Named Entity Recognition (NER).",
                "For at least a decade, this has been an important text mining task, and a key feature of the Message Understanding Conferences (MUC) [3].",
                "NER has been successfully automated with near-human performance, but the specific problem of recognizing geographical references presents additional challenges [9].",
                "When handling named entities with a high level of detail, ambiguity problems arise more frequently.",
                "Ambiguity in geographical references is bi-directional [15].",
                "The same name can be used for more than one location (referent ambiguity), and the same location can have more than one name (reference ambiguity).",
                "The former has another twist, since the same name can be used for locations as well as for other class of entities, such as persons or company names (referent class ambiguity).",
                "Besides the recognition of geographical expressions, GIR also requires that the recognized expressions be classified and grounded to unique identifiers [11].",
                "Grounding the recognized expressions (e.g. associating them to coordinates or concepts at an ontology) assures that they can be used in more advanced GIR tasks.",
                "Previous works have addressed the tagging and grounding of locations in Web pages, as well as the assignment of geographic scopes to these documents [1, 7, 13].",
                "This is a complementary aspect to the techniques described in this paper, since if we have the Web pages tagged with location information, a search engine can conveniently return pages with a geographical scope related to the scope of the query.",
                "The task of handling geographical references over documents is however considerably different from that of handling geographical references over queries.",
                "In our case, queries are usually short and often do not constitute proper sentences.",
                "Text mining techniques that make use of context information are difficult to apply for high accuracy.",
                "Previous studies have also addressed the use of text mining and automated classification techniques over search engine queries [16, 10].",
                "However, most of these works did not consider place references or geographical categories.",
                "Again, these previously proposed methods are difficult to apply to the geographic domain.",
                "Gravano et. al. studied the classification of Web queries into two types, namely local and global [5].",
                "They defined a query as local if its best matches on a Web search engine are likely to be local pages, such as houses for sale.",
                "A number of classification algorithms have been evaluated using search engine queries.",
                "However, their experimental results showed that only a rather low precision and recall could be achieved.",
                "The problem addressed in this paper is also slightly different, since we are trying not only to detect local queries but also to disambiguate the local of interest.",
                "Wang et. al. proposed to go further than detecting local queries, by also disambiguating the implicit local of interest [17].",
                "The proposed approach works for both queries containing place references and queries not containing them, by looking for dominant geographic references over query logs and text from search results.",
                "In comparison, we propose simpler techniques based on matching names from a geographic ontology.",
                "Our approach looks for spatial relationships at the query string, and it also associates the place references to ontology concepts.",
                "In the case of queries not containing explicit place references, we use geographical scopes previously assigned to the documents, whereas Wang et. al. proposed to extract locations from the text of the top search results.",
                "There are nowadays many geocoding, reverse-geocoding, and mapping services on the Web that can be easily integrated with other applications.",
                "Geocoding is the process of locating points on the surface of the Earth from alphanumeric addressing data.",
                "Taking a string with an address, a geocoder queries a geographical information system and returns interpolated coordinate values for the given location.",
                "Instead of computing coordinates for a given place reference, the technique described in this paper aims at assigning references to the corresponding ontology concepts.",
                "However, if each concept at the ontology contains associated coordinate information, the approach described here could also be used to build a geocoding service.",
                "Most of such existing services are commercial in nature, and there are no technical publications describing them.",
                "A number of commercial search services have also started to support location-based searches.",
                "Google Local, for instance, initially required the user to specify a location qualifier separately from the search query.",
                "More recently, it added location look-up capabilities that extract locations from query strings.",
                "For example, in a search for Pizza Seattle, Google Local returns local results for pizza near Seattle, WA.",
                "However, the intrinsics of their solution are not published, and their approach also does not handle locationimplicit queries.",
                "Moreover, Google Local does not take spatial relations into account.",
                "In sum, there are already some studies on tagging geographical references, but Web queries pose additional challenges which have not been addressed.",
                "In this paper, we explain the proposed solutions for the identified problems. 3.",
                "HANDLINGQUERIESIN GIR SYSTEMS Most GIR queries can be parsed to < what,relation,where > triple, where the what term is used to specify the general nongeographical aspect of the information need, the where term is used to specify the geographical areas of interest, and the relation term is used to specify a spatial relationship connecting what and where.",
                "While the what term can assume any form, in order to reflect any information need, the relation and where terms should be part of a controlled vocabulary.",
                "In particular, the relation term should refer to a well-known geographical relation that the underlying GIR system can interpret (e.g. near or contained at), and the where term should be disambiguated into a set of unique identifiers, corresponding to concepts at the ontology.",
                "Different systems can use alternative schemes to take input queries from the users.",
                "Three general strategies can be identified, and GIR systems often support more than one of the following schemes: Figure 1: Strategies for processing queries in Geographical Information Retrieval systems. 1.",
                "Input to the system is a textual query string.",
                "This is the hardest case, since we need to separate the query into the three different components, and then we need to disambiguate the where term into a set of unique identifiers. 2.",
                "Input to the system is provided in two separate strings, one concerning the what term, and the other concerning the where.",
                "The relation term can be either fixed (e.g. always assume the near relation), specified together with the where string, or provided separately from the users from a set of possible choices.",
                "Although there is no need for separating query string into the different components, we still need to disambiguate the where term into a set of unique identifiers. 3.",
                "Input to the system is provided through a query string together with an unambiguous description of the geographical area of interest (e.g. a sketch in a map, spatial coordinates or a selection from a set of possible choices).",
                "No disambiguation is required, and therefore the techniques described in this paper do not have to be applied.",
                "The first two schemes depend on place name disambiguation.",
                "Figure 1 illustrates how we propose to handle geographic queries in these first two schemes.",
                "A common component is the algorithm for disambiguating place references into corresponding ontology concepts, which is described next. 3.1 From Place Names to Ontology Concepts A required task in handling GIR queries consists of associating a string containing a geographical reference with the set of corresponding concepts at the geographic ontology.",
                "We propose to do this according to the pseudo-code listed at Algorithm 1.",
                "The algorithm considers the cases where a second (or even more than one) location is given to qualify a first (e.g.",
                "Paris, France).",
                "It makes recursive calls to match each location, and relies on hierarchical part-of relations to detect if two locations share a common hierarchy path.",
                "One of the provided locations should be more general and the other more specific, in the sense that there must exist a part-of relationship among the associated concepts at the ontology (either direct or transitive).",
                "The most specific location is a sub-region of the most general, and the algorithm returns the most specific one (i.e. for Paris, France the algorithm returns the ontology concept associated with Paris, the capital city of France).",
                "We also consider the cases where a geographical type expression is used to qualify a given name (e.g. city of Lisbon or state of New York).",
                "For instance the name Lisbon can correspond to many different concepts at a geographical ontology, and type Algorithm 1 Matching a place name with ontology concepts Require: O = A geographic ontology Require: GN = A string with the geographic name to be matched 1: L = An empty list 2: INDEX = The position in GN for the first occurrence of a comma, semi-colon or bracket character 3: if INDEX is defined then 4: GN1 = The substring of GN from position 0 to INDEX 5: GN2 = The substring of GN from INDEX +1 to length(GN) 6: L1 = Algorithm1(O,GN1) 7: L2 = Algorithm1(O,GN2) 8: for each C1 in L1 do 9: for each C2 in L2 do 10: if C1 is an ancestor of C2 at O then 11: L = The list L after adding element C2 12: else if C1 is a descendant of C2 at O then 13: L = The list L after adding element C1 14: end if 15: end for 16: end for 17: else 18: GN = The string GN after removing case and diacritics 19: if GN contains a geographic type qualifier then 20: T = The substring of GN containing the type qualifier 21: GN = The substring of GN with the type qualifier removed 22: L = The list of concepts from O with name GN and type T 23: else 24: L = The list of concepts from O with name GN 25: end if 26: end if 27: return The list L qualifiers can provide useful information for disambiguation.",
                "The considered type qualifiers should also described at the ontologies (e.g. each geographic concept should be associated to a type that is also defined at the ontology, such as country, district or city).",
                "Ideally, the geographical reference provided by the user should be disambiguated into a single ontology concept.",
                "However, this is not always possible, since the user may not provide all the required information (i.e. a type expression or a second qualifying location).",
                "The output is therefore a list with the possible concepts being referred to by the user.",
                "In a final step, we propose to sort this list, so that if a single concept is required as output, we can use the one that is ranked higher.",
                "The sorting procedure reflects the likelihood of each concept being indeed the one referred to.",
                "We propose to rank concepts according to the following heuristics: 1.",
                "The geographical type expression associated with the ontology concept.",
                "For the same name, a country is more likely to be referenced than a city, and in turn a city more likely to be referenced than a street. 2.",
                "Number of ancestors at the ontology.",
                "Top places at the ontology tend to be more general, and are therefore more likely to be referenced in search engine queries. 3.",
                "Population count.",
                "Highly populated places are better known, and therefore more likely to be referenced in queries. 4.",
                "Population counts from direct ancestors at the ontology.",
                "Subregions of highly populated places are better known, and also more likely to be referenced in search engine queries. 5.",
                "Occurrence frequency over Web documents (e.g.",
                "Google counts) for the geographical names.",
                "Places names that occur more frequently over Web documents are also more likely to be referenced in search engine queries. 6.",
                "Number of descendants at the ontology.",
                "Places that have more sub-regions tend to be more general, and are therefore more likely to be mentioned in search engine queries. 7.",
                "String size for the geographical names.",
                "Short names are more likely to be mentioned in search engine queries.",
                "Algorithm 1, plus the ranking procedure, can already handle GIR queries where the where term is given separately from the what and relation terms.",
                "However, if the query is given in a single string, we require the identification of the associated < what,relation,where > triple, before disambiguating the where term into the corresponding ontology concepts.",
                "This is described in the following Section. 3.2 Handling Single Query Strings Algorithm 2 provides the mechanism for separating a query string into a < what,relation,where > triple.",
                "It uses Algorithm 1 to find the where term, disambiguating it into a set of ontology concepts.",
                "The algorithm starts by tokenizing the query string into individual words, also taking care of removing case and diacritics.",
                "We have a simple tokenizer that uses the space character as a word delimiter, but we could also have a tokenization approach similar to the proposal of Wang et. al. which relies on Web occurrence statistics to avoid breaking collocations [17].",
                "In the future, we plan on testing if this different tokenization scheme can improve results.",
                "Next, the algorithm tests different possible splits of the query, building the what, relation and where terms through concatenations of the individual tokens.",
                "The relation term is matched against a list of possible values (e.g. near, at, around, or south of), corresponding to the operators that are supported by the GIR system.",
                "Note that is also the responsibility of the underlying GIR system to interpret the actual meaning of the different spatial relations.",
                "Algorithm 1 is used to check whether a where term constitutes a geographical reference or not.",
                "We also check if the last word in the what term belongs to a list of exceptions, containing for instance first names of people in different languages.",
                "This ensures that a query like Denzel Washington is appropriately handled.",
                "If the algorithm succeeds in finding valid relation and where terms, then the corresponding triple is returned.",
                "Otherwise, we return a triple with the what term equaling the query string, and the relation and where terms set as empty.",
                "If the entire query string constitutes a geographical reference, we return a triple with the what term set to empty, the where term equaling the query string, and the relation term set the DEFINITION (i.e. these queries should be answered with information about the given place references).",
                "The algorithm also handles query strings where more than one geographical reference is provided, using and or an equivalent preposition, together with a recursive call to Algorithm 2.",
                "A query like Diamond trade in Angola and South Africa is Algorithm 2 Get < what,relation,where > from a query string Require: O = A geographical ontology Require: Q = A non-empty string with the query 1: Q = The string Q after removing case and diacritics 2: TOKENS[0..N] = An array of strings with the individual words of Q 3: N = The size of the TOKENS array 4: for INDEX = 0 to N do 5: if INDEX = 0 then 6: WHAT = Concatenation of TOKENS[0..INDEX −1] 7: LASTWHAT = TOKENS[INDEX −1] 8: else 9: WHAT = An empty string 10: LASTWHAT = An empty string 11: end if 12: WHERE = Concatenation of TOKENS[INDEX..N] 13: RELATION = An empty string 14: for INDEX2 = INDEX to N −1 do 15: RELATION2 = Concatenation of TOKENS[INDEX..INDEX2] 16: if RELATION2 is a valid geographical relation then 17: WHERE = Concatenation of S[INDEX2 +1..N] 18: RELATION = RELATION2; 19: end if 20: end for 21: if RELATION = empty AND LASTWHAT in an exception then 22: TESTGEO = FALSE 23: else 24: TESTGEO = TRUE 25: end if 26: if TESTGEO AND Algorithm1(WHERE) <> EMPTY then 27: if WHERE ends with AND SURROUNDINGS then 28: RELATION = The string NEAR; 29: WHERE = The substring of WHERE with AND SURROUNDINGS removed 30: end if 31: if WHAT ends with AND or similar) then 32: < WHAT,RELATION,WHERE2 >= Algorithm2(WHAT) 33: WHERE = Concatenation of WHERE with WHERE2 34: end if 35: if RELATION = An empty string then 36: if WHAT = An empty string then 37: RELATION = The string DEFINITION 38: else 39: RELATION = The string CONTAINED-AT 40: end if 41: end if 42: else 43: WHAT = The string Q 44: WHERE = An empty string 45: RELATION = An empty string 46: end if 47: end for 48: return < WHAT,RELATION,WHERE > therefore appropriately handled.",
                "Finally, if the geographical reference in the query is complemented with an expression similar to and its surroundings, the spatial relation (which is assumed to be CONTAINED-AT if none is provided) is changed to NEAR. 3.3 From Search Results to Query Locality The procedures given so far are appropriate for handling queries where a place reference is explicitly mentioned.",
                "However, the fact that a query can be associated with a geographical context may not be directly observable in the query itself, but rather from the results returned.",
                "For instance, queries like recommended hotels for SIGIR 2006 or SeaFair 2006 lodging can be seen to refer to the city of Seattle.",
                "Although they do not contain an explicit place reference, we expect results to be about hotels in Seattle.",
                "In the cases where a query does not contain place references, we start by assuming that the top results from a search engine represent the most popular and correct context and usage for the query.",
                "We Topic What Relation Where TGN concepts ML concepts Vegetable Exporters of Europe Vegetable Exporters CONTAINED-AT Europe 1 1 Trade Unions in Europe Trade Unions CONTAINED-AT Europe 1 1 Roman cities in the UK and Germany Roman cities CONTAINED-AT UK and Germany 6 2 Cathedrals in Europe Cathedrals CONTAINED-AT Europe 1 1 Car bombings near Madrid Car bombings NEAR Madrid 14 2 Volcanos around Quito Volcanos NEAR Quito 4 1 Cities within 100km of Frankfurt Cities NEAR Frankfurt 3 1 Russian troops in south(ern) Caucasus Russian troops in south(ern) CONTAINED-AT Caucasus 2 1 Cities near active volcanoes (This topic could not be appropriately handled - the relation and where terms are returned empty) Japanese rice imports (This topic could not be appropriately handled - the relation and where terms are returned empty) Table 1: Example topics from the GeoCLEF evaluation campaigns and the corresponding < what,relation,where > triples. then propose to use the distributional characteristics of geographical scopes previously assigned to the documents corresponding to these top results.",
                "In a previous work, we presented a text mining approach for assigning documents with corresponding geographical scopes, defined at an ontology, that worked as an offline preprocessing stage in a GIR system [13].",
                "This pre-processing step is a fundamental stage of GIR, and it is reasonable to assume that this kind of information would be available on any system.",
                "Similarly to Wang et. al., we could also attempt to process the results on-line, in order to detect place references in the documents [17].",
                "However, a GIR system already requires the offline stage.",
                "For the top N documents given at the results, we check the geographic scopes that were assigned to them.",
                "If a significant portion of the results are assigned to the same scope, than the query can be seen to be related to the corresponding geographic concept.",
                "This assumption could even be relaxed, for instance by checking if the documents belong to scopes that are hierarchically related. 4.",
                "EVALUATION EXPERIMENTS We used three different ontologies in evaluation experiments, namely the Getty thesaurus of geographic names (TGN) [6] and two specific resources developed at our group, here referred to as the PT and ML ontologies [2].",
                "TGN and ML include global geographical information in multiple languages (although TGN is considerably larger), while the PT ontology focuses on the Portuguese territory with a high detail.",
                "Place types are also different across ontologies, as for instance PT includes street names and postal addresses, whereas ML only goes to the level of cities.",
                "The reader should refer to [2, 6] for a complete description of these resources.",
                "Our initial experiments used Portuguese and English topics from the GeoCLEF 2005 and 2006 evaluation campaigns.",
                "Topics in GeoCLEF correspond to query strings that can be used as input to a GIR system [4].",
                "ImageCLEF 2006 also included topics specifying place references, and participants were encouraged to run their GIR systems on them.",
                "Our experiments also considered this dataset.",
                "For each topic, we measured if Algorithm 2 was able to find the corresponding < what,relation,where > triple.",
                "The ontologies used in this experiment were the TGN and ML, as topics were given in multiple languages and covered the whole globe.",
                "Dataset Number of Correct Triples Time per Query Queries ML TGN ML TGN GeoCLEF05 EN 25 19 20 GeoCLEF05 PT 25 20 18 288.1 334.5 GeoCLEF06 EN 32 28 19 msec msec GeoCLEF06 PT 25 23 11 ImgCLEF06 EN 24 16 18 Table 2: Summary of results over CLEF topics.",
                "Table 1 illustrates some of the topics, and Table 2 summarizes the obtained results.",
                "The tables show that the proposed technique adequately handles most of these queries.",
                "A manual inspection of the ontology concepts that were returned for each case also revealed that the where term was being correctly disambiguated.",
                "Note that the TGN ontology indeed added some ambiguity, as for instance names like Madrid can correspond to many different places around the globe.",
                "It should also be noted that some of the considered topics are very hard for an automated system to handle.",
                "Some of them were ambiguous (e.g. in Japanese rice imports, the query can be said to refer either rice imports in Japan or imports of Japanese rice), and others contained no direct geographical references (e.g. cities near active volcanoes).",
                "Besides these very hard cases, we also missed some topics due to their usage of place adjectives and specific regions that are not defined at the ontologies (e.g. environmental concerns around the Scottish Trossachs).",
                "In a second experiment, we used a sample of around 100,000 real search engine queries.",
                "The objective was to see if a significant number of these queries were geographical in nature, also checking if the algorithm did not produce many mistakes by classifying a query as geographical when that was not the case.",
                "The Portuguese ontology was used in this experiment, and queries were taken from the logs of a Portuguese Web search engine available at www.tumba.pt.",
                "Table 3 summarizes the obtained results.",
                "Many queries were indeed geographical (around 3.4%, although previous studies reported values above 14% [8]).",
                "A manual inspection showed that the algorithm did not produce many false positives, and the geographical queries were indeed correctly split into correct < what,relation,where > triple.",
                "The few mistakes we encountered were related to place names that were more frequently used in other contexts (e.g. in Teófilo Braga we have the problem that Braga is a Portuguese district, and Teófilo Braga was a well known Portuguese writer and politician).",
                "The addition of more names to the exception list can provide a workaround for most of these cases.",
                "Value Num.",
                "Queries 110,916 Num.",
                "Queries without Geographical References 107,159 (96.6%) Num.",
                "Queries with Geographical References 3,757 (3.4%) Table 3: Results from an experiment with search engine logs.",
                "We also tested the procedure for detecting queries that are implicitly geographical with a small sample of queries from the logs.",
                "For instance, for the query Estádio do Dragão (e.g. home stadium for a soccer team from Porto), the correct geographical context can be discovered from the analysis of the results (more than 75% of the top 20 results are assigned with the scope Porto).",
                "For future work, we plan on using a larger collection of queries to evaluate this aspect.",
                "Besides queries from the search engine logs, we also plan on using the names of well-known buildings, monuments and other landmarks, as they have a strong geographical connotation.",
                "Finally, we also made a comparative experiment with 2 popular geocoders, Maporama and Microsofts Mappoint.",
                "The objective was to compare Algorithm 1 with other approaches, in terms of being able to correctly disambiguate a string with a place reference.",
                "Civil Parishes from Lisbon Maporama Mappoint Ours Coded refs. (out of 53) 9 (16.9%) 30 (56,6%) 15 (28.3%) Avg.",
                "Time per ref. (msec) 506.23 1235.87 143.43 Civil Parishes from Porto Maporama Mappoint Ours Coded refs. (out of 15) 0 (0%) 2 (13,3%) 5 (33.3%) Avg.",
                "Time per ref. (msec) 514.45 991.88 132.14 Table 4: Results from a comparison with geocoding services.",
                "The Portuguese ontology was used in this experiment, taking as input the names of civil parishes from the Portuguese municipalities of Lisbon and Porto, and checking if the systems were able to disambiguate the full name (e.g.",
                "Campo Grande, Lisboa or Foz do Douro, Porto) into the correct geocode.",
                "We specifically measured whether our approach was better at unambiguously returning geocodes given the place reference (i.e. return the single correct code), and providing results rapidly.",
                "Table 4 shows the obtained results, and the accuracy of our method seems comparable to the commercial geocoders.",
                "Note that for Maporama and Mappoint, the times given at Table 4 include fetching results from the Web, but we have no direct way of accessing the geocoding algorithms (in both cases, fetching static content from the Web servers takes around 125 milliseconds).",
                "Although our approach cannot unambiguously return the correct geocode in most cases (only 20 out of a total of 68 cases), it nonetheless returns results that a human user can disambiguate (e.g. for Madalena, Lisboa we return both a street and a civil parish), as opposed to the other systems that often did not produce results.",
                "Moreover, if we consider the top geocode according to the ranking procedure described in Section 3.1, or if we use a type qualifier in the name (e.g. civil parish of Campo Grande, Lisboa), our algorithm always returns the correct geocode. 5.",
                "CONCLUSIONS This paper presented simple approaches for handling place references in search engine queries.",
                "This is a hard text mining problem, as queries are often ambiguous or underspecify information needs.",
                "However, our initial experiments indicate that for many queries, the referenced places can be determined effectively.",
                "Unlike the techniques proposed by Wang et. al. [17], we mainly focused on recognizing spatial relations and associating place names to ontology concepts.",
                "The proposed techniques were employed in the prototype system that we used for participating in GeoCLEF 2006.",
                "In queries where a geographical reference is not explicitly mentioned, we propose to use the results for the query, exploiting geographic scopes previously assigned to these documents.",
                "In the future, we plan on doing a careful evaluation of this last approach.",
                "Another idea that we would like to test involves the integration of a spelling correction mechanism [12] into Algorithm 1, so that incorrectly spelled place references can be matched to ontology concepts.",
                "The proposed techniques for handling geographic queries can have many applications in improving GIR systems or even general purpose search engines.",
                "After place references are appropriately disambiguated into ontology concepts, a GIR system can use them to retrieve relevant results, through the use of appropriate index structures (e.g. indexing the spatial coordinates associated with ontology concepts) and provided that the documents are also assigned to scopes corresponding to ontology concepts.",
                "A different GIR strategy can involve query expansion, by taking the where terms from the query and using the ontology to add names from neighboring locations.",
                "In a general purpose search engine, and if a local query is detected, we can forward users to a GIR system, which should be better suited for properly handling the query.",
                "The regular Google search interface already does this, by presenting a link to Google Local when it detects a geographical query. 6.",
                "REFERENCES [1] E. Amitay, N. HarEl, R. Sivan, and A. Soffer.",
                "Web-a-Where: Geotagging Web content.",
                "In Proceedings of SIGIR-04, the 27th Conference on research and development in information retrieval, 2004. [2] M. Chaves, M. J. Silva, and B. Martins.",
                "A Geographic Knowledge Base for Semantic Web Applications.",
                "In Proceedings of SBBD-05, the 20th Brazilian Symposium on Databases, 2005. [3] N. A. Chinchor.",
                "Overview of MUC-7/MET-2.",
                "In Proceedings of MUC-7, the 7th Message Understanding Conference, 1998. [4] F. Gey, R. Larson, M. Sanderson, H. Joho, and P. Clough.",
                "GeoCLEF: the CLEF 2005 cross-language geographic information retrieval track.",
                "In Working Notes for the CLEF 2005 Workshop, 2005. [5] L. Gravano, V. Hatzivassiloglou, and R. Lichtenstein.",
                "Categorizing Web queries according to geographical locality.",
                "In Proceedings of CIKM-03, the 12th Conference on Information and knowledge management, 2003. [6] P. Harpring.",
                "Proper words in proper places: The thesaurus of geographic names.",
                "MDA Information, 3, 1997. [7] C. Jones, R. Purves, A. Ruas, M. Sanderson, M. Sester, M. van Kreveld, and R. Weibel.",
                "Spatial information retrieval and geographical ontologies: An overview of the SPIRIT project.",
                "In Proceedings of SIGIR-02, the 25th Conference on Research and Development in Information Retrieval, 2002. [8] J. Kohler.",
                "Analyzing search engine queries for the use of geographic terms, 2003. (MSc Thesis). [9] A. Kornai and B. Sundheim, editors.",
                "Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [10] Y. Li, Z. Zheng, and H. Dai.",
                "KDD CUP-2005 report: Facing a great challenge.",
                "SIGKDD Explorations, 7, 2006. [11] D. Manov, A. Kiryakov, B. Popov, K. Bontcheva, D. Maynard, and H. Cunningham.",
                "Experiments with geographic knowledge for information extraction.",
                "In Proceedings of the NAACL-HLT Workshop on the Analysis of Geographic References, 2003. [12] B. Martins and M. J. Silva.",
                "Spelling correction for search engine queries.",
                "In Proceedings of EsTAL-04, España for Natural Language Processing, 2004. [13] B. Martins and M. J. Silva.",
                "A graph-ranking algorithm for geo-referencing documents.",
                "In Proceedings of ICDM-05, the 5th IEEE International Conference on Data Mining, 2005. [14] L. Souza, C. J. Davis, K. Borges, T. Delboni, and A. Laender.",
                "The role of gazetteers in geographic knowledge discovery on the web.",
                "In Proceedings of LA-Web-05, the 3rd Latin American Web Congress, 2005. [15] E. Tjong, K. Sang, and F. D. Meulder.",
                "Introduction to the CoNLL-2003 shared task: Language-Independent Named Entity Recognition.",
                "In Proceedings of CoNLL-2003, the 7th Conference on Natural Language Learning, 2003. [16] D. Vogel, S. Bickel, P. Haider, R. Schimpfky, P. Siemen, S. Bridges, and T. Scheffer.",
                "Classifying search engine queries using the Web as background knowledge.",
                "SIGKDD Explorations Newsletter, 7(2):117-122, 2005. [17] L. Wang, C. Wang, X. Xie, J. Forman, Y. Lu, W.-Y.",
                "Ma, and Y. Li.",
                "Detecting dominant locations from search queries.",
                "In Proceedings of SIGIR-05, the 28th Conference on Research and development in information retrieval, 2005."
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        }
    }
}