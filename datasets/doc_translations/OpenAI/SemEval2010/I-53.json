{
    "id": "I-53",
    "original_text": "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games. Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time. In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case. However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable. For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value. The time complexity of this method is linear in the number of players. We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%. Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1. INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13]. Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins. Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable). However, in many cases there may be more than one solution (i.e., a stable coalition). In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions). In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14]. Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff. Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs. The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness. Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper. Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18]. Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19]. A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects. The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness). However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time. For instance, finding this value for the weighted voting game is, in general, #P-complete [6]. A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442]. Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general. In other words, it is practically infeasible to try to compute the exact Shapley value. However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents. Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game. Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time. By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not. For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value. The computational complexity of such games has typically been tackled using two main approaches. The first is to use generating functions [3]. This method trades time complexity for storage space. The second uses an approximation technique based on Monte Carlo simulation [12, 7]. However the method we propose is more general than either of these (see Section 6 for details). Moreover, no work has previously analysed the approximation error. The approximation error relates to how close the approximate is to the true Shapley value. Specifically, it is the difference between the true and the approximate Shapley value. It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error. Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value. This analysis is carried out empirically. Our experiments show that the error is always less than 20%, and in most cases it is under 5%. Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space). Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents. The rest of the paper is organised as follows. Section 2 defines the Shapley value and describes the weighted voting game. In Section 3 we describe voting games whose Shapley value can be found in polynomial time. In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5. Section 6 discusses related literature. Finally, Section 7 concludes. 2. BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game. A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members. Hence the game is a competition between coalitions of players, rather than between individual players. Depending on how the players measure utility, coalition game theory is split into two parts. If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility. More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S). For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S). Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way. For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount. The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs. Thus, in either case, the players will only join a coalition if they expect to gain from it. Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff. The problem then is how to split the total payoff between or among the players. In this context, Shapley [19] constructed a solution using an axiomatic approach. Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1. Symmetry. This axiom requires that the names of players play no role in determining the value. 2. Carrier. This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C). A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3. Additivity. This axiom specifies how the values of different games must be related to one another. It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms. Shapley viewed this value as an index for measuring the power of players in a game. Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities. Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game. We first introduce some notation and then define the Shapley value. Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|!(n − |S| − 1)! n! The random variable fi is interpreted as the random choice of a coalition that player i joins. Then, a players Shapley value is defined in terms of its marginal contribution. Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it. DEFINITION 1. The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows. Suppose that all the players are arranged in some order, all orderings being equally likely. Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him. The method for finding a players Shapley value depends on the definition of the value function (v). This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl. Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6]. Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament. The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota). Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one. This is because the value of any coalition is either zero or one. A coalition with value zero is called a losing coalition and with value one a winning coalition. If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero. The main advantage of the Shapley value is that it gives a solution that is both unique and fair. The property of uniqueness is desirable because it leaves no ambiguity. The property of fairness relates to how the gains from cooperation are split between the members of a coalition. In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value. Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3. VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time. This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them). We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties. Each party has j votes. If q ≤ j, then there would be no need for the players to form a coalition. On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible. The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1). For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero. Let ϕ denote the Shapley value for a player. Consider any one player. This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member. In all other cases, its marginal contribution is zero. Thus, the Shapley value for each player ϕ = 1/m. Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws). There is one large player and m small ones. The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws . The total number of players is (m + 1). The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero. Let ϕl denote the Shapley value for the large player and ϕs that for each small player. We first consider ws = 1 and then ws > 1. The smallest possible value for q is wl + 1. This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition. Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1. Also, the lower and upper limits for wl are 2 and (q − 1) respectively. The lower limit is 2 because the weight of the large party has to be greater than each small one. Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition. Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one. Consider the large party. This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1). However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q. In all the remaining cases, its marginal contribution is zero. Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases. Hence, the Shapley value of the large party is: ϕl = wl/(m + 1). In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player. We know that the sum of the Shapley values of all the m+1 players is one. Also, since the small parties have equal weights, their Shapley values are the same. Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time. This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division). In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties. The set of parties consists of ml large parties and ms small parties. The weight of each large party is wl and that of each small one is ws, where ws < wl. We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player. In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one. It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl. In other words, there are (q −1)/wl +1 such cases and we now consider each of them. The Sixth Intl. Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player. Such a coalition gives the large player unit marginal contribution. Let C2 l (i, q) denote the number of all such coalitions. To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items. For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl). In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws). Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3. The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3). For this voting game, consider a player of type 1. It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1. In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them. Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it. The remaining players join after the type 1 player. Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3). Thus, we have identified games for which the exact Shapley value can be easily determined. However, the computational complexity of the above direct enumeration method increases with the number of player types. For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more. To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4. FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value. Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems. A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2]. The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution. Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation. The approximation error refers to the difference between the exact solution and its approximation. Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error. We first describe the general voting game and then present our randomized algorithm. In its general form, a voting game has more than two types of players. Let wi denote the weight of player i. Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm . The weights are specified in terms of a probability distribution function. For such a game, we want to find the approximate Shapley value. We let P denote a population of players. The players weights in this population are defined by a probability distribution function. Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights. From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl. Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1. Ti ← 0; a ← q − wi; b ← q − 2. For X from 1 to m repeatedly do the following 2.1. Select a random sample SX of size X from the population P 2.2. Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3. Ti ← Ti + ΔX i 3. Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i. We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly. We use this rule to determine the Shapley value as follows. For player i with weight wi, let ϕi denote the Shapley value. Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution. The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity). Otherwise, its marginal contribution is zero. Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b]. This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ). Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1. In more detail, Step 1 does the initialization. In Step 2, we vary X between 1 and m and repeatedly do the following. In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2. The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1. The time complexity of the proposed randomized method is linear in the number of players. PROOF. As per Equation 3, ΔX i must be computed m times. This is done in the for loop of Step 2 in Table 1. Hence, the time complexity of computing a players Shapley value is O(m). The following section analyses the approximation error for the proposed method. 5. PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings. However, before doing so, we introduce the idea of error. The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4]. Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value. Thus, error has to do with uncertainty in measurements that nothing can be done about. If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others. However, although it is not possible to do anything about such error, it can be characterized. As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players. Now, there are statistical errors associated with sampling which are unavoidable and must be lived with. Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone. An indication of how accurate the result is must be included also. Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value. For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x). For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22]. Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2. The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements. To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2). This error is obtained by propagating the error in Equation 4 to Equation 2. In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl. Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X. Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively. Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1). More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE. Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game. In particular, we conduct experiments in the following setting. For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1. The number of parties (m). 2. The mean weight (μ). 3. The variance in the players weights (ν). 4. The quota for the voting game (q). 5. The given players weight (w). We fix μ = 10 and ν = 1. This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5). We then vary m, q, and w as follows. We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl. Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players). The results of these experiments are shown in Figures 2, 3, and 4. As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%. We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ). The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ). Thus, the interval is the same for both integrations and it is independent of wi. Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2. Only the limits of the integration are different. Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1). The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )). As per Equation 5, it is the maximum of these two areas. Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged. However, the area of the unshaded region B increases. Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q. For a given q, the Shapley value for player i is as given in Equation 3. We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X. Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1. However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2. Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q. As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases. Consequently, the error in a players marginal contribution (see Equation 5) also decreases. This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X. Hence, for small m, e(σ1 ) has a significant effect on PE. But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6. RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature. One approach is to use generating functions [3]. This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays. It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas. The other method uses an approximation technique based on Monte Carlo simulation. In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players. The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables. In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this. Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game. Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights. Thus, as stated in Section 1, our method is more general than [3, 12, 7]. Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value. A method for finding the Shapley value was also proposed in [5]. This method gives the exact Shapley value, but its time complexity is exponential. Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise. Finally, [9, 10] present a polynomial time method for finding the Shapley value. This method can be used if the coalition game is represented as a marginal contribution net. Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game. In contrast, our method is independent The Sixth Intl. Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7. CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems. An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition. In this context, cooperative game theory offers a solution concept called the Shapley value. The main advantage of the Shapley value is that it provides a solution that is both unique and fair. However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time. In particular, the problem of finding this value for the voting game is #P-complete. Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games. By doing so, we have shown when it is computationally feasible to find the exact Shapley value. For other complex voting games, we presented a new randomized method for determining the approximate Shapley value. The time complexity of the proposed method is linear in the number of players. We analysed the performance of this method in terms of the percentage error in the approximate Shapley value. Our experiments show that the percentage error in the Shapley value is at most 20. Furthermore, in most cases, the error is less than 5%. Finally, we analyse the effect of the different parameters of the voting game on this error. Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases. Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents. In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8. REFERENCES [1] R. Aumann. Acceptable points in general cooperative n-person games. In Contributions to theTheory of Games volume IV. Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi. Complexity and approximation: Combinatorial optimization problems and their approximability properties. Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez. Generating functions for computing power indices efficiently. Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler. Data Analysis Techniques in High Energy Physics Experiments. Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm. Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains. In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou. On the complexity of cooperative solution concepts. Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings. An analysis of the shapley value and its uncertainty for the voting game. In Proc. 7th Int. Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis. Advanced Level Statistics. Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham. Marginal contribution nets: A compact representation scheme for coalitional games. In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham. Multi-attribute coalition games. In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport. Theories of Coalition Formation. Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley. Values for large games iv: Evaluating the electoral college exactly. Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green. Microeconomic Theory. Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein. A Course in Game Theory. The MIT Press, 1994. [15] C. H. Papadimitriou. Computational Complexity. Addison Wesley Longman, 1994. [16] A. Rapoport. N-person Game Theory : Concepts and Applications. Dover Publications, Mineola, NY, 2001. [17] A. E. Roth. Introduction to the shapley value. In A. E. Roth, editor, The Shapley value, pages 1-27. University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser. Coalitions among computationally bounded agents. Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley. A value for n person games. In A. E. Roth, editor, The Shapley value, pages 31-40. University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus. A kernel-oriented model for coalition-formation in general environments: Implemetation and results. In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus. Methods for task allocation via agent coalition formation. Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor. An introduction to error analysis: The study of uncertainties in physical measurements. University Science Books, 1982. 966 The Sixth Intl. Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)",
    "original_translation": "Un Método Aleatorio para el Valor de Shapley para el Juego de Votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido. El valor de Shapley es uno de los conceptos clave de solución para juegos de coalición. Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, se sabe que el problema de encontrar este valor para el juego de votación es #P-completo en el caso general. Sin embargo, en este artículo, demostramos que hay algunos juegos de votación específicos para los cuales el problema es computacionalmente manejable. Para otros juegos de votación generales, superamos el problema de la complejidad computacional presentando un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal de este método es lineal en el número de jugadores. También demostramos, a través de estudios empíricos, que el porcentaje de error para el método propuesto siempre es inferior al 20% y, en la mayoría de los casos, inferior al 5%. Categorías y Descriptores de Asignaturas I.2.11 [Inteligencia Artificial Distribuida]: Sistemas Multiagente Términos Generales Algoritmos, Diseño, Teoría 1. FORMACIÓN DE COALICIONES, una forma clave de interacción en sistemas multiagente, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13]. A menudo, en tales situaciones, hay más de una coalición posible y la recompensa de un jugador depende de cuál se una. Dado esto, un problema clave es asegurar que ninguna de las partes en una coalición tenga algún incentivo para separarse de ella y unirse a otra coalición (es decir, las coaliciones deben ser estables). Sin embargo, en muchos casos puede haber más de una solución (es decir, una coalición estable). En tales casos, se vuelve difícil seleccionar una única solución entre las posibles, especialmente si las partes están interesadas en sí mismas (es decir, tienen preferencias diferentes sobre coaliciones estables). En este contexto, la teoría de juegos cooperativos aborda el problema de la formación de coaliciones y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14]. La teoría de juegos cooperativos difiere de su contraparte no cooperativa en que, para la primera, a los jugadores se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor ganancia total. Además, a diferencia de la teoría de juegos no cooperativos, la teoría de juegos cooperativos no especifica un juego a través de una descripción del entorno estratégico (incluyendo el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los resultados de pagos, sino que, en cambio, reduce esta colección de datos a la forma coalicional donde cada coalición está representada por un único número real: no hay acciones, movimientos o pagos individuales. La principal ventaja de este enfoque, al menos en entornos de múltiples jugadores, es su utilidad práctica. Por lo tanto, muchas más situaciones de la vida real encajan más fácilmente en un juego de forma coalicional, cuya estructura es más manejable que la de un juego no cooperativo, ya sea en forma normal o extensiva, y es por esta razón que nos enfocamos en tales formas en este artículo. Dadas estas observaciones, varios investigadores de sistemas multiagentes han utilizado y ampliado soluciones cooperativas de teoría de juegos para facilitar la formación automatizada de coaliciones [20, 21, 18]. Además, en este trabajo, uno de los conceptos de solución más estudiados en profundidad es el valor de Shapley [19]. El valor de Shapley de un jugador da una indicación de sus perspectivas de jugar el juego: cuanto mayor sea el valor de Shapley, mejores serán sus perspectivas. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa (ver Sección 2.1 para una discusión de la propiedad de equidad). Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene una desventaja importante: para muchos juegos de coalición, no se puede determinar en tiempo polinómico. Por ejemplo, encontrar este valor para el juego de votación ponderada es, en general, #P-completo [6]. Un problema es #P-difícil si resolverlo es tan difícil como contar asignaciones satisfactorias de fórmulas de lógica proposicional [15, p442]. Dado que la #P-completitud subsume la NP-completitud, esto implica que calcular el valor de Shapley para el juego de votación ponderada será intratable en general. En otras palabras, es prácticamente inviable intentar calcular el valor de Shapley exacto. Sin embargo, el juego de votación tiene relevancia práctica para los sistemas multiagente, ya que es un medio importante para llegar a un consenso entre múltiples agentes. Por lo tanto, nuestro objetivo es superar la complejidad computacional de encontrar el valor de Shapley para este juego. Específicamente, primero demostramos que hay algunos juegos de votación específicos para los cuales el valor exacto se puede calcular en tiempo polinómico. Al identificar dichos juegos, mostramos, por primera vez, cuándo es factible encontrar el valor exacto y cuándo no lo es. Para los juegos de votación computacionalmente complejos, presentamos un nuevo método aleatorizado, siguiendo la línea de la simulación de Monte Carlo, para calcular el valor de Shapley aproximado. La complejidad computacional de este tipo de juegos suele abordarse mediante dos enfoques principales. El primero es usar funciones generadoras [3]. Este método intercambia complejidad temporal por espacio de almacenamiento. El segundo utiliza una técnica de aproximación basada en la simulación de Monte Carlo [12, 7]. Sin embargo, el método que proponemos es más general que cualquiera de estos (ver Sección 6 para más detalles). Además, ningún trabajo ha analizado previamente el error de aproximación. El error de aproximación se refiere a qué tan cerca está la aproximación del valor de Shapley real. Específicamente, es la diferencia entre el valor de Shapley real y el aproximado. Es importante determinar este error porque el rendimiento de un método de aproximación se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. Por lo tanto, nuestra contribución radica también en proporcionar, por primera vez, un análisis del error porcentual en el valor aproximado de Shapley. Este análisis se realiza de manera empírica. Nuestros experimentos muestran que el error siempre es menor al 20%, y en la mayoría de los casos es inferior al 5%. Finalmente, nuestro método tiene complejidad temporal lineal en el número de jugadores y no requiere ningún arreglo (es decir, es económico en términos tanto de tiempo de computación como de espacio de almacenamiento). Dado esto, y el hecho de que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. El resto del documento está organizado de la siguiente manera. La sección 2 define el valor de Shapley y describe el juego de votación ponderada. En la Sección 3 describimos juegos de votación cuyo valor de Shapley se puede encontrar en tiempo polinómico. En la Sección 4, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y analizamos su rendimiento en la Sección 5. La sección 6 discute la literatura relacionada. Finalmente, la Sección 7 concluye. 2. FONDO Comenzamos presentando los juegos de coalición y el valor de Shapley, y luego definimos el juego de votación ponderada. Un juego de coalición es un juego en el que grupos de jugadores (coaliciones) pueden promover un comportamiento cooperativo entre sus miembros. Por lo tanto, el juego es una competencia entre coaliciones de jugadores, en lugar de entre jugadores individuales. Dependiendo de cómo los jugadores midan la utilidad, la teoría de juegos de coalición se divide en dos partes. Si los jugadores miden la utilidad o la ganancia en las mismas unidades y hay un medio de intercambio de utilidad como pagos laterales, decimos que el juego tiene utilidad transferible; de lo contrario, tiene utilidad no transferible. Más formalmente, un juego de coalición con utilidad transferible, N, v, consiste en: 1. un conjunto finito (N = {1, 2, . . . , n}) de jugadores y 2. una función (v) que asocia a cada subconjunto no vacío S de N (es decir, una coalición) un número real v(S) (el valor de S). Para cada coalición S, el número v(S) es la ganancia total disponible para ser dividida entre los miembros de S (es decir, el conjunto de acciones conjuntas que la coalición S puede tomar consiste en todas las posibles divisiones de v(S) entre los miembros de S). Los juegos de coalición con pagos no transferibles difieren de los que tienen pagos transferibles de la siguiente manera. Para lo primero, cada coalición está asociada con un conjunto de vectores de pago que no necesariamente es el conjunto de todas las posibles divisiones de una cantidad fija. El enfoque de este documento se centra en el juego de votación ponderada (descrito en la Sección 2.1), que es un juego con pagos transferibles. Por lo tanto, en ambos casos, los jugadores solo se unirán a una coalición si esperan beneficiarse de ella. Aquí, a los jugadores se les permite formar acuerdos vinculantes, por lo que hay un fuerte incentivo para trabajar juntos y recibir la mayor ganancia total. El problema entonces es cómo dividir el pago total entre o entre los jugadores. En este contexto, Shapley [19] construyó una solución utilizando un enfoque axiomático. Shapley definió un valor para los juegos como una función que asigna a un juego (N, v), un número ϕi(N, v) para cada i en N. Esta función satisface tres axiomas [17]: 1. Simetría. Este axioma requiere que los nombres de los jugadores no jueguen ningún papel en la determinación del valor. 2. Portador. Este axioma requiere que la suma de ϕi(N, v) para todos los jugadores i en cualquier portador C sea igual a v(C). Un portador C es un subconjunto de N tal que v(S) = v(S ∩ C) para cualquier subconjunto de jugadores S ⊂ N. Aditividad. Este axioma especifica cómo deben relacionarse los valores de diferentes juegos entre sí. Se requiere que para cualquier juego ϕi(N, v) y ϕi(N, v), ϕi(N, v) + ϕi(N, v) = ϕi(N, v + v) para todo i en N. Shapley demostró que hay una función única que satisface estos tres axiomas. Shapley consideraba este valor como un índice para medir el poder de los jugadores en un juego. Al igual que un índice de precios u otros índices de mercado, el valor utiliza promedios (o promedios ponderados en algunas de sus generalizaciones) para agregar el poder de los jugadores en sus diversas oportunidades de cooperación. Alternativamente, se puede pensar en el valor de Shapley como una medida de la utilidad de jugadores neutrales al riesgo en un juego. Primero introducimos algunas notaciones y luego definimos el valor de Shapley. Sea S el conjunto N − {i} y fi : S → 2N−{i} una variable aleatoria que toma sus valores en el conjunto de todos los subconjuntos de N − {i}, y tiene la función de distribución de probabilidad (g) definida como: g(fi(S) = S) = |S|! (n − |S| − 1)! n! La variable aleatoria fi se interpreta como la elección aleatoria de una coalición a la que se une el jugador i. Entonces, el valor de Shapley de un jugador se define en términos de su contribución marginal. Por lo tanto, la contribución marginal del jugador i a la coalición S con i /∈ S es una función Δiv que se define de la siguiente manera: Δiv(S) = v(S ∪ {i}) − v(S). Así, la contribución marginal de un jugador a una coalición S es el aumento en el valor de S como resultado de que i se una a ella. DEFINICIÓN 1. El valor de Shapley (ϕi) del juego N, v para el jugador i es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar: ϕi(N, v) = E[Δiv ◦ fi] (1). El valor de Shapley se interpreta de la siguiente manera. Supongamos que todos los jugadores están dispuestos en algún orden, siendo todas las disposiciones igualmente probables. Entonces ϕi(N, v) es la contribución marginal esperada, sobre todas las ordenaciones, del jugador i al conjunto de jugadores que le preceden. El método para encontrar el valor de Shapley de un jugador depende de la definición de la función de valor (v). Esta función es diferente para diferentes juegos, pero aquí nos enfocamos específicamente en el juego de votación ponderada por las razones descritas en la Sección 1.960 de la Sexta Conferencia Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 2.1 El juego de votación ponderada Adoptamos la definición del juego de votación dada en [6]. Por lo tanto, hay un conjunto de n jugadores que pueden, por ejemplo, representar accionistas en una empresa o miembros en un parlamento. El juego de votación ponderada es entonces un juego G = N, v en el que: v(S) = j 1 si w(S) ≥ q 0 en caso contrario para algún q ∈ IR+ y wi ∈ IRN + , donde: w(S) = X i∈S wi para cualquier coalición S. Así, wi es el número de votos que tiene el jugador i y q es el número de votos necesarios para ganar el juego (es decir, la cuota). Ten en cuenta que para este juego (denotado q; w1, . . . , wn), la contribución marginal de un jugador es cero o uno. Esto se debe a que el valor de cualquier coalición es cero o uno. Una coalición con valor cero se llama una coalición perdedora y con valor uno una coalición ganadora. Si la entrada de un jugador a una coalición cambia de perder a ganar, entonces la contribución marginal del jugador para esa coalición es uno; de lo contrario, es cero. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. La propiedad de la unicidad es deseable porque no deja lugar a ambigüedades. La propiedad de equidad se relaciona con cómo se dividen las ganancias de la cooperación entre los miembros de una coalición. En este caso, el valor de Shapley de un jugador es proporcional a la contribución que realiza como miembro de una coalición; cuanto mayor sea su contribución, mayor será su valor. Por lo tanto, desde la perspectiva de un jugador, tanto la singularidad como la equidad son propiedades deseables. 3. JUEGOS DE VOTACIÓN CON SOLUCIONES EN TIEMPO POLINOMIAL Aquí describimos aquellos juegos de votación para los cuales el valor de Shapley puede ser determinado en tiempo polinomial. Esto se logra utilizando el enfoque de enumeración directa (es decir, enumerando todas las posibles coaliciones y encontrando la contribución marginal de un jugador a cada una de ellas). Caracterizamos dichos juegos en términos del número de jugadores y sus pesos. 3.1 Todos los jugadores tienen el mismo peso. Consideremos el juego q; j, . . . , j con m participantes. Cada partido tiene j votos. Si q ≤ j, entonces no habría necesidad de que los jugadores formen una coalición. Por otro lado, si q = mj (m = |N| es el número de jugadores), solo la gran coalición es posible. Los juegos interesantes son aquellos para los cuales la cuota (q) satisface la restricción: (j + 1) ≤ q ≤ j(m − 1). Para estos juegos, el valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕ denote el valor de Shapley para un jugador. Considera a cualquier jugador. Este jugador puede unirse a una coalición como el miembro i-ésimo donde 1 ≤ i ≤ m. Sin embargo, la contribución marginal del jugador es de 1 solo si se une a una coalición como el miembro q/j-ésimo. En todos los demás casos, su contribución marginal es cero. Por lo tanto, el valor de Shapley para cada jugador ϕ = 1/m. Dado que ϕ requiere una operación de división, se puede encontrar en tiempo constante (es decir, O(1)). 3.2 Una sola gran fiesta Considera un juego en el que hay dos tipos de jugadores: grandes (con peso wl > ws) y pequeños (con peso ws). Hay un jugador grande y m pequeños. La cuota para este juego es q; es decir, tenemos un juego de la forma q; wl, ws, ws, . . . , ws. El número total de jugadores es (m + 1). El valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕl denote el valor de Shapley para el jugador grande y ϕs para cada jugador pequeño. Primero consideramos ws = 1 y luego ws > 1. El valor más pequeño posible para q es wl + 1. Esto se debe a que, si q ≤ wl, entonces el partido grande puede ganar las elecciones por sí solo sin necesidad de formar una coalición. Por lo tanto, la cuota para el juego satisface la restricción wl + 1 ≤ q ≤ m + wl − 1. Además, los límites inferior y superior para wl son 2 y (q − 1) respectivamente. El límite inferior es 2 porque el peso de la gran fiesta tiene que ser mayor que cada uno de los pequeños. Además, el peso del gran partido no puede ser mayor que q, ya que en ese caso, no habría necesidad de que el gran partido forme una coalición. Recuerda que para nuestro juego de votación, la contribución marginal de un jugador a una coalición solo puede ser cero o uno. Considera la gran fiesta. Este partido puede unirse a una coalición como el i-ésimo miembro donde 1 ≤ i ≤ (m + 1). Sin embargo, la contribución marginal del partido grande es uno si se une a una coalición como el miembro i-ésimo donde (q − wl) ≤ i < q. En todos los casos restantes, su contribución marginal es cero. Por lo tanto, de los casos totales posibles (m + 1), su contribución marginal es de uno en wl casos. Por lo tanto, el valor de Shapley del partido grande es: ϕl = wl/(m + 1). De la misma manera, obtenemos el valor de Shapley del gran partido para el caso general donde ws > 1 como: ϕl = wl/ws /(m + 1). Ahora consideremos a un jugador pequeño. Sabemos que la suma de los valores de Shapley de todos los m+1 jugadores es uno. Además, dado que los partidos pequeños tienen el mismo peso, sus valores de Shapley son iguales. Por lo tanto, obtenemos: ϕs = 1 − ϕl m. Por lo tanto, tanto ϕl como ϕs se pueden calcular en tiempo constante. Esto se debe a que ambos requieren un número constante de operaciones básicas (suma, resta, multiplicación y división). De la misma manera, el valor de Shapley para un juego de votación con un único partido grande y múltiples partidos pequeños puede determinarse en tiempo constante. 3.3 Múltiples partidos grandes y pequeños Ahora consideramos un juego de votación que tiene dos tipos de jugadores: grandes y pequeños (como en la Sección 3.2), pero ahora hay múltiples partidos grandes y múltiples partidos pequeños. El conjunto de partidos consiste en ml partidos grandes y ms partidos pequeños. El peso de cada fiesta grande es wl y el de cada fiesta pequeña es ws, donde ws < wl. Mostramos la factibilidad computacional de este juego considerando los siguientes cuatro posibles escenarios: S1 q ≤ mlwl y q ≤ msws S2 q ≤ mlwl y q ≥ msws S3 q ≥ mlwl y q ≥ msws S4 q ≥ mlwl y q ≤ msws Para el primer escenario, considera un jugador grande. Para determinar el valor de Shapley para este jugador, necesitamos considerar el número de todas las posibles coaliciones que le otorgan una contribución marginal de uno. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores grandes está entre cero y (q −1)/wl. En otras palabras, hay (q −1)/wl +1 casos de este tipo y ahora consideramos cada uno de ellos. El Sexto Internacional. Considera una coalición tal que cuando el jugador grande se une, hay i jugadores grandes y (q − iwl − 1)/ws jugadores pequeños ya en ella, y los jugadores restantes se unen después del jugador grande. Una coalición de este tipo otorga una contribución marginal a la unidad de jugador grande. Que C2 l (i, q) denote el número de todas esas coaliciones. Para empezar, considera el caso i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « donde C(y, x) denota el número de posibles combinaciones de x elementos de un conjunto de y elementos. Para i = 1, obtenemos: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « En general, para i > 1, obtenemos: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Por lo tanto, el valor de Shapley de los jugadores grandes es: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) Para un i dado, el tiempo para encontrar C2 l (i, q) es O(T) donde T = (mlms(q − iwl − 1)(ml + ms))/ws Por lo tanto, el tiempo para encontrar el valor de Shapley es O(T q/wl). De la misma manera, el valor de Shapley de un jugador pequeño es: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) y puede encontrarse en tiempo O(T q/ws). Asimismo, se puede demostrar que los tres escenarios restantes (S2 a S4) tienen la misma complejidad temporal. 3.4 Tres tipos de jugadores Ahora consideramos un juego de votación que tiene tres tipos de jugadores: 1, 2 y 3. El conjunto de fiestas consiste en m1 jugadores de tipo 1 (cada uno con peso w1), m2 jugadores de tipo 2 (cada uno con peso w2) y m3 jugadores de tipo 3 (cada uno con peso w3). Para este juego de votación, considera a un jugador de tipo 1. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores de tipo 1 está entre cero y (q − 1)/w1. En otras palabras, hay (q − 1)/w1 + 1 casos de este tipo y ahora consideramos cada uno de ellos. Considera una coalición tal que cuando el jugador de tipo 1 se une, ya hay i jugadores de tipo 1 en ella. Los jugadores restantes se unen después del jugador de tipo 1. Que C3 l (i, q) denote el número de todas las coaliciones que dan una contribución marginal de uno al jugador de tipo 1 donde: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Por lo tanto, el valor de Shapley del jugador de tipo 1 es: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) La complejidad temporal de encontrar este valor es O(T q2 /w1w2) donde: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Del mismo modo, para los otros dos tipos de jugadores (2 y 3). Por lo tanto, hemos identificado juegos para los cuales el valor de Shapley exacto puede determinarse fácilmente. Sin embargo, la complejidad computacional del método de enumeración directa anterior aumenta con el número de tipos de jugadores. Para un juego de votación con más de tres tipos de jugadores, la complejidad temporal del método anterior es un polinomio de grado cuatro o superior. Para hacer frente a tales situaciones, por lo tanto, la siguiente sección presenta un método aleatorio más rápido para encontrar el valor de Shapley aproximado. 4. ENCONTRANDO EL VALOR DE SHAPLEY APROXIMADO Primero damos una breve introducción a los algoritmos aleatorizados y luego presentamos nuestro método aleatorizado para encontrar el valor de Shapley aproximado. Los algoritmos aleatorizados son el enfoque más comúnmente utilizado para encontrar soluciones aproximadas a problemas computacionalmente difíciles. Un algoritmo aleatorizado es un algoritmo que, durante algunas de sus etapas, realiza elecciones al azar [2]. Los pasos aleatorios realizados por el algoritmo implican que al ejecutar el algoritmo varias veces con la misma entrada no estamos garantizados de encontrar la misma solución. Ahora, dado que dichos algoritmos generan soluciones aproximadas, su rendimiento se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. El error de aproximación se refiere a la diferencia entre la solución exacta y su aproximación. En este contexto, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y evaluamos empíricamente su error. Primero describimos el juego de votación general y luego presentamos nuestro algoritmo aleatorio. En su forma general, un juego de votación tiene más de dos tipos de jugadores. Que w_i denote el peso del jugador i. Por lo tanto, para m jugadores y para la cuota q, el juego es de la forma q; w1, w2, . . . , wm. Los pesos están especificados en términos de una función de distribución de probabilidad. Para un juego como este, queremos encontrar el valor aproximado de Shapley. Dejamos que P denote una población de jugadores. Los pesos de los jugadores en esta población están definidos por una función de distribución de probabilidad. Independientemente de la función de distribución de probabilidad real, sea μ la media del peso para la población de jugadores y ν la varianza en los pesos de los jugadores. De esta población de jugadores extraemos muestras al azar y encontramos la suma de los pesos de los jugadores en la muestra utilizando la siguiente regla de la Teoría del Muestreo (ver [8] p425): Si w1, w2, . . . , wn es una muestra aleatoria de tamaño n extraída de cualquier distribución con media μ y varianza ν, entonces la suma de la muestra tiene una distribución Normal aproximada con media nμ y varianza ν n (cuanto mayor sea n, mejor será la aproximación). 962 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Población de jugadores μ: Peso medio de la población P ν: Varianza en los pesos para la población P q: Cuota para el juego de votación wi: Peso del jugador 1. Ti ← 0; a ← q − wi; b ← q − 2. \n\nTi ← 0; a ← q - wi; b ← q - 2. Para X de 1 a m, repetir lo siguiente 2.1. Selecciona una muestra aleatoria SX de tamaño X de la población P 2.2. Evaluar la contribución marginal esperada (ΔX i ) del jugador i a SX como: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3. Ti ← Ti + ΔX i 3. \n\nTi ← Ti + ΔX i 3. Evaluar el valor de Shapley del jugador i como: ϕi ← Ti/m Tabla 1: Algoritmo aleatorizado para encontrar el valor de Shapley para el jugador i. Sabemos, a partir de la Definición 1, que el valor de Shapley para un jugador es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar. Utilizamos esta regla para determinar el valor de Shapley de la siguiente manera. Para el jugador i con peso wi, dejemos que ϕi denote el valor de Shapley. Que X denote el tamaño de una muestra aleatoria extraída de una población en la que los pesos de los jugadores individuales tienen cualquier distribución. La contribución marginal del jugador i a esta muestra aleatoria es uno si el peso total de los jugadores X en la muestra es mayor o igual a a = q - wi pero menor que b = q - (donde es una cantidad infinitesimalmente pequeña). De lo contrario, su contribución marginal es cero. Por lo tanto, la contribución marginal esperada del jugador i (denotada como ΔX i ) a la coalición de muestra es el área bajo la curva definida por N(Xμ, ν X ) en el intervalo [a, b]. Esta área se muestra como la región B en la Figura 1 (la línea punteada en la figura es Xμ). Por lo tanto, obtenemos: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) y el valor de Shapley es: ϕi = 1 m mX X=1 ΔX i (3). Los pasos anteriores se describen en la Tabla 1. Con más detalle, el Paso 1 realiza la inicialización. En el Paso 2, variamos X entre 1 y m y repetidamente hacemos lo siguiente. En el Paso 2.1, seleccionamos aleatoriamente una muestra SX de tamaño X de la población P. La contribución marginal del jugador a la coalición aleatoria SX se encuentra en el Paso 2.2. El promedio de la contribución marginal se encuentra en el Paso 3, y este es el valor de Shapley para el jugador i. TEOREMA 1. La complejidad temporal del método aleatorio propuesto es lineal en el número de jugadores. PRUEBA. Según la Ecuación 3, ΔX i debe ser calculado m veces. Esto se hace en el bucle for del Paso 2 en la Tabla 1. Por lo tanto, la complejidad temporal de calcular el valor de Shapley de un jugador es O(m). La siguiente sección analiza el error de aproximación para el método propuesto. 5. RENDIMIENTO DEL MÉTODO ALEATORIO Primero derivamos la fórmula para medir el error en el valor de Shapley aproximado y luego realizamos experimentos para evaluar este error en una amplia gama de configuraciones. Sin embargo, antes de hacerlo, introducimos la idea del error. El concepto de error se relaciona con una medición realizada de una cantidad que tiene un valor aceptado [22, 4]. Obviamente, no se puede determinar exactamente cuán lejos está una medición del valor aceptado; si esto fuera posible, sería factible simplemente proporcionar un valor corregido más preciso. Por lo tanto, el error tiene que ver con la incertidumbre en las mediciones sobre la que no se puede hacer nada. Si se repite una medición, los valores obtenidos serán diferentes y ninguno de los resultados puede ser preferido sobre los demás. Sin embargo, aunque no sea posible hacer nada al respecto de tal error, sí se puede caracterizar. Como se describe en la Sección 4, realizamos mediciones en muestras que se extraen al azar de una población dada (P) de jugadores. Ahora, existen errores estadísticos asociados con el muestreo que son inevitables y deben ser aceptados. Por lo tanto, si el resultado de una medición va a tener significado, no puede consistir únicamente en el valor medido. También se debe incluir una indicación de cuán precisa es el resultado. Por lo tanto, el resultado de cualquier medición física tiene dos componentes esenciales: 1. un valor numérico que proporciona la mejor estimación posible de la cantidad medida, y 2. el grado de incertidumbre asociado con este valor estimado. Por ejemplo, si la estimación de una cantidad es x y la incertidumbre es e(x), la cantidad estaría en x ± e(x). Para experimentos de muestreo, el error estándar es, con mucho, la forma más común de caracterizar la incertidumbre [22]. Dado esto, la siguiente sección define este error y lo utiliza para evaluar el rendimiento del método aleatorio propuesto. 5.1 Error de aproximación La precisión del método aleatorio anterior depende de su error de muestreo, el cual se define de la siguiente manera [22, 4]: DEFINICIÓN 2. El error de muestreo (o error estándar) se define como la desviación estándar de un conjunto de mediciones dividida por la raíz cuadrada del número de mediciones. Con este fin, sea e(σX) el error de muestreo en la suma de los pesos para una muestra de tamaño X extraída de la distribución N(Xμ, νX) donde: e(σX) = p(ν/X) / p(X) = p(ν) / X (4). Sea e(ΔXi) el error en la contribución marginal para el jugador i (dado en la Ecuación 2). Este error se obtiene propagando el error en la Ecuación 4 a la Ecuación 2. En la Ecuación 2, a y b son los límites inferior y superior para la suma de los pesos de los jugadores para The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Suma de pesos Z1 Z2 Figura 1: Una distribución normal para la suma de los pesos de los jugadores en una coalición de tamaño X. 40 60 80 100 0 50 100 0 5 10 15 20 25 Peso de cuota Porcentaje de error en el valor de Shapley Figura 2: Rendimiento del método aleatorio para m = 10 jugadores en una coalición de tamaño X. Dado que el error en esta suma es e(σX), los valores reales de a y b se encuentran en el intervalo a ± e(σX) y b ± e(σX) respectivamente. Por lo tanto, el error en la Ecuación 2 es la probabilidad de que la suma se encuentre entre los límites a - e(σX) y a (es decir, el área bajo la curva definida por N(Xμ, ν X) entre a - e(σX) y a, que es la región sombreada A en la Figura 1) o la probabilidad de que la suma de los pesos se encuentre entre los límites b y b+e(σX) (es decir, el área bajo la curva definida por N(Xμ, ν X) entre b y b + e(σX), que es la región sombreada C en la Figura 1). Más específicamente, el error es el máximo de estas dos probabilidades: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « Con base en el error anterior, encontramos el error en el valor de Shapley utilizando las siguientes reglas estándar de propagación de errores [22]: R1 Si x e y son dos variables aleatorias con errores e(x) y e(y) respectivamente, entonces el error en la variable aleatoria z = x + y se da por: e(z) = e(x) + e(y) R2 Si x es una variable aleatoria con error e(x) y z = kx donde 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 CuotaPeso Porcentajeerror en el valor de Shapley Figura 3: Rendimiento del método aleatorizado para m = 50 jugadores. la constante k no tiene error, entonces el error en z es: e(z) = |k|e(x) Utilizando las reglas anteriores, el error en el valor de Shapley (dado en la Ecuación 3) se obtiene propagando el error en la Ecuación 4 a todas las coaliciones entre los tamaños X = 1 y X = m. Sea e(ϕi) este error donde: e(ϕi) = 1 m mX X=1 e(ΔX i ) Analizamos el rendimiento de nuestro método en términos del porcentaje de error PE en el valor de Shapley aproximado, que se define de la siguiente manera: PE = 100 × e(ϕi)/ϕi (5) 5.2 Resultados Experimentales Ahora calculamos el porcentaje de error en el valor de Shapley utilizando la ecuación anterior para PE. Dado que este error depende de los parámetros del juego de votación, lo evaluamos en una variedad de configuraciones al variar sistemáticamente los parámetros del juego de votación. En particular, realizamos experimentos en el siguiente entorno. Para un jugador con peso w, el error porcentual en el valor de Shapley de un jugador depende de los siguientes cinco parámetros (ver Ecuación 3): 1. El número de fiestas (m). 2. El peso medio (μ). 3. La varianza en los pesos de los jugadores (ν). 4. La cuota para el juego de votación (q) es de 5. El peso de los jugadores dados (w). Fijamos μ = 10 y ν = 1. Esto se debe a que, para la distribución normal, μ = 10 asegura que para casi todos los jugadores el peso es positivo, y ν = 1 se utiliza con mayor frecuencia en experimentos estadísticos (ν puede ser mayor o menor pero PE aumenta en ν, ver Ecuaciones 4 y 5). Luego variamos m, q y w de la siguiente manera. Variamos m entre 5 y 100 (ya que más allá de 100 encontramos que el error es cercano a cero), para cada m variamos q entre 4μ y mμ (imponemos estos límites porque aseguran que el tamaño del 964 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 Peso de la cuota Porcentaje de error en el valor de Shapley Figura 4: Rendimiento del método aleatorio para m = 100 jugadores. La coalición ganadora es más de uno y menos que m - ver la Sección 3 para más detalles), y para cada q, variamos w entre 1 y q−1 (porque una coalición ganadora debe contener al menos dos jugadores). Los resultados de estos experimentos se muestran en las Figuras 2, 3 y 4. Como se observa en las figuras, la PE máxima es alrededor del 20% y en la mayoría de los casos es inferior al 5%. Ahora analizamos el efecto de los tres parámetros: w, q y m en el error porcentual con más detalle. - Efecto de w. El EP depende de e(σX) porque, en la Ecuación 5, los límites de integración dependen de e(σX). El intervalo sobre el cual se realiza la primera integración en la Ecuación 5 es a − a + e(σX) = e(σX), y el intervalo sobre el cual se realiza la segunda es b + e(σX) − b = e(σX). Por lo tanto, el intervalo es el mismo para ambas integraciones y es independiente de wi. Ten en cuenta que cada una de las dos funciones que se integran en la Ecuación 5 son iguales a la función que se integra en la Ecuación 2. Solo los límites de la integración son diferentes. Además, el intervalo sobre el cual se realiza la integración para la contribución marginal de la Ecuación 2 es b − a = wi − (ver Figura 1). El error en la contribución marginal es el área de la región sombreada A (entre a − e(σX ) y a) en la Figura 1, o el área sombreada C (entre b y b + e(σX )). Según la Ecuación 5, es el máximo de estas dos áreas. Dado que e(σX) es independiente de wi, a medida que wi aumenta, e(σX) permanece invariable. Sin embargo, el área de la región no sombreada B aumenta. Por lo tanto, a medida que wi aumenta, el error en la contribución marginal disminuye y PE también disminuye. - Efecto de q. Para un q dado, el valor de Shapley para el jugador i es el que se indica en la Ecuación 3. Sabemos que, para una muestra de tamaño X, la suma de los pesos de los jugadores se distribuye normalmente con media Xμ y varianza ν/X. Dado que el 99% de una distribución normal se encuentra dentro de dos desviaciones estándar de su media [8], la contribución marginal de un jugador a una muestra de tamaño X es casi cero si: a < Xμ + 2 p ν/X o b > Xμ − 2 p ν/X. Esto se debe a que las tres regiones A, B y C (en la Figura 1) se encuentran ya sea a la derecha de Z2 o a la izquierda de Z1. Sin embargo, la contribución marginal del jugador es mayor que cero para aquellos X para los cuales se satisface la siguiente restricción: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X. Para esta restricción, las tres regiones A, B y C se encuentran en algún lugar entre Z1 y Z2. Dado que a = q −wi y b = q −, la Ecuación 6 también se puede escribir como: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X. El valor más pequeño de X que satisface la restricción en la Ecuación 6 aumenta estrictamente con q. A medida que X aumenta, el error en la suma de pesos en una muestra (es decir, e(σX) = p(ν)/X) disminuye. Por consiguiente, el error en la contribución marginal de un jugador (ver Ecuación 5) también disminuye. Esto implica que a medida que q aumenta, el error en la contribución marginal (y consecuentemente el error en el valor de Shapley) disminuye. - Efecto de m. Es claro a partir de la Ecuación 4 que el error e(σX) es mayor para X = 1 y disminuye con X. Por lo tanto, para valores pequeños de m, e(σ1) tiene un efecto significativo en PE. Pero a medida que m aumenta, el efecto de e(σ1) en PE disminuye y, como resultado, PE disminuye. TRABAJO RELACIONADO Para superar la complejidad computacional de encontrar el valor de Shapley, se han propuesto dos enfoques principales en la literatura. Un enfoque es utilizar funciones generadoras [3]. Este método es un procedimiento exacto que supera el problema de la complejidad temporal, pero sus requisitos de almacenamiento son sustanciales, ya que requiere matrices enormes. También tiene la limitación (no compartida por otros enfoques) de que solo se puede aplicar a juegos con pesos y cuotas enteras. El otro método utiliza una técnica de aproximación basada en la simulación de Monte Carlo. En [12], por ejemplo, el valor de Shapley se calcula considerando una muestra aleatoria de una gran población de jugadores. El método que proponemos difiere de esto en que ellos definen el valor de Shapley tratando el número de turnos de un jugador (si un jugador puede cambiar una coalición perdedora a una ganadora, entonces, para el jugador, la coalición se cuenta como un turno) como una variable aleatoria, mientras que nosotros tratamos los pesos de los jugadores como variables aleatorias. En [12], sin embargo, la pregunta sigue siendo cómo obtener el número de rondas a partir de la definición de un juego de votación y cuál es la complejidad temporal de hacer esto. Dado que el juego de votación se define en función de los pesos de los jugadores y el número de votos se obtiene a partir de estos pesos, nuestro método se corresponde más estrechamente con la definición del juego de votación. Nuestro método también difiere de [7] en que mientras [7] presenta un método para el caso en el que todos los pesos de los jugadores están distribuidos normalmente, nuestro método se aplica a cualquier tipo de distribución para estos pesos. Por lo tanto, como se indica en la Sección 1, nuestro método es más general que [3, 12, 7]. Además, a diferencia de todo el trabajo mencionado anteriormente, proporcionamos un análisis del rendimiento de nuestro método en términos del error porcentual en el valor de Shapley aproximado. Un método para encontrar el valor de Shapley también fue propuesto en [5]. Este método proporciona el valor de Shapley exacto, pero su complejidad temporal es exponencial. Además, el método solo se puede utilizar si el juego está representado en una forma específica (es decir, la representación de múltiples problemas), de lo contrario no. Finalmente, [9, 10] presentan un método de tiempo polinómico para encontrar el valor de Shapley. Este método se puede utilizar si el juego de coalición se representa como una red de contribución marginal. Además, asumen que el valor de Shapley de un componente de un juego de coalición dado es proporcionado por un oráculo, y en base a esta suposición agregan estos valores para encontrar el valor del juego en general. Por el contrario, nuestro método es independiente de The Sixth Intl. La Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 965 de la representación y proporciona un valor de Shapley aproximado en tiempo lineal, sin necesidad de un oráculo. 7. CONCLUSIONES Y TRABAJO FUTURO La formación de coaliciones es una forma importante de interacción en sistemas multiagentes. Un tema importante en este tipo de trabajo es que los agentes decidan cómo dividir las ganancias de la cooperación entre los miembros de una coalición. En este contexto, la teoría de juegos cooperativos ofrece un concepto de solución llamado el valor de Shapley. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. Sin embargo, su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, el problema de encontrar este valor para el juego de votación es #P-completo. Aunque este problema es, en general, #P-completo, demostramos que hay algunos juegos de votación específicos para los cuales el valor de Shapley puede determinarse en tiempo polinómico y caracterizamos dichos juegos. Al hacerlo, hemos demostrado cuándo es computacionalmente factible encontrar el valor de Shapley exacto. Para otros juegos de votación complejos, presentamos un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal del método propuesto es lineal en el número de jugadores. Analizamos el rendimiento de este método en términos del error porcentual en el valor de Shapley aproximado. Nuestros experimentos muestran que el error porcentual en el valor de Shapley es como máximo del 20%. Además, en la mayoría de los casos, el error es menor al 5%. Finalmente, analizamos el efecto de los diferentes parámetros del juego de votación en este error. Nuestro estudio muestra que el error disminuye a medida que aumenta 1. el peso de los jugadores, 2. la cuota aumenta y 3. el número de jugadores aumenta. Dado que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. En el futuro, exploraremos el problema de determinar el valor de Shapley para otros juegos de coalición comúnmente presentes, como la economía de producción y la economía de mercado. 8. REFERENCIAS [1] R. Aumann. Puntos aceptables en juegos cooperativos n-persona en general. En Contribuciones a la Teoría de Juegos volumen IV. Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, y M. Protasi. Complejidad y aproximación: Problemas de optimización combinatoria y sus propiedades de aproximabilidad. Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada y J. J. Lopez. Funciones generadoras para calcular índices de poder de manera eficiente. Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz y M. Regler. Técnicas de Análisis de Datos en Experimentos de Física de Altas Energías. Cambridge University Press, 1993. [5] V. Conitzer y T. Sandholm. Calculando los valores de Shapley, manipulando esquemas de división de valor y verificando la pertenencia al núcleo en dominios de múltiples problemas. En Actas de la Conferencia Nacional de Inteligencia Artificial, páginas 219-225, San José, California, 2004. [6] X. Deng y C. H. Papadimitriou. Sobre la complejidad de los conceptos de solución cooperativa. Matemáticas de la Investigación de Operaciones, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge y N. R. Jennings. Un análisis del valor de Shapley y su incertidumbre para el juego de votación. En Proc. 7th Int. Taller sobre Comercio Electrónico Mediado por Agentes, páginas 39-52, 2005. [8] A. Francis. Estadísticas de Nivel Avanzado. Stanley Thornes Publishers, 1979. [9] S. Ieong y Y. Shoham. Contribución marginal neta: Un esquema de representación compacto para juegos coalicionales. En Actas de la Sexta Conferencia de la ACM sobre Comercio Electrónico, páginas 193-202, Vancouver, Canadá, 2005. [10] S. Ieong y Y. Shoham. Juegos de coalición de múltiples atributos. En Actas de la Séptima Conferencia de la ACM sobre Comercio Electrónico, páginas 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan y A. Rapoport. Teorías de formación de coaliciones. Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann y L. S. Shapley. Valores para juegos grandes iv: Evaluando el colegio electoral exactamente. Informe técnico, The RAND Corporation, Santa Mónica, 1962. [13] A. Mas-Colell, M. Whinston y J. R. Green. Teoría microeconómica. Oxford University Press, 1995. [14] M. J. Osborne y A. Rubinstein. Un curso de teoría de juegos. El MIT Press, 1994. [15] C. H. Papadimitriou. Complejidad computacional. Addison Wesley Longman, 1994. [16] A. Rapoport. \n\nAddison Wesley Longman, 1994. [16] A. Rapoport. Teoría de juegos N-personas: Conceptos y aplicaciones. Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.\nDover Publications, Mineola, NY, 2001. [17] A. E. Roth. Introducción al valor de Shapley. En A. E. Roth, editor, El valor de Shapley, páginas 1-27. Editorial de la Universidad de Cambridge, Cambridge, 1988. [18] T. Sandholm y V. Lesser. Coaliciones entre agentes limitados computacionalmente. Revista de Inteligencia Artificial, 94(1):99-137, 1997. [19] L. S. Shapley. Un valor para juegos de n personas. En A. E. Roth, editor, El valor de Shapley, páginas 31-40. Universidad de Cambridge Press, Cambridge, 1988. [20] O. Shehory y S. Kraus. Un modelo orientado al núcleo para la formación de coaliciones en entornos generales: Implementación y resultados. En Actas de la Conferencia Nacional de Inteligencia Artificial (AAAI-96), páginas 131-140, 1996. [21] O. Shehory y S. Kraus. Métodos para la asignación de tareas a través de la formación de coaliciones de agentes. Revista de Inteligencia Artificial, 101(2):165-200, 1998. [22] J. R. Taylor. Una introducción al análisis de errores: El estudio de las incertidumbres en las mediciones físicas. University Science Books, 1982. 966 La Sexta Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07)",
    "original_sentences": [
        "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
        "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
        "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
        "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
        "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
        "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
        "The time complexity of this method is linear in the number of players.",
        "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
        "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
        "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
        "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
        "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
        "However, in many cases there may be more than one solution (i.e., a stable coalition).",
        "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
        "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
        "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
        "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
        "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
        "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
        "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
        "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
        "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
        "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
        "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
        "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
        "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
        "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
        "In other words, it is practically infeasible to try to compute the exact Shapley value.",
        "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
        "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
        "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
        "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
        "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
        "The computational complexity of such games has typically been tackled using two main approaches.",
        "The first is to use generating functions [3].",
        "This method trades time complexity for storage space.",
        "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
        "However the method we propose is more general than either of these (see Section 6 for details).",
        "Moreover, no work has previously analysed the approximation error.",
        "The approximation error relates to how close the approximate is to the true Shapley value.",
        "Specifically, it is the difference between the true and the approximate Shapley value.",
        "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
        "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
        "This analysis is carried out empirically.",
        "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
        "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
        "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
        "The rest of the paper is organised as follows.",
        "Section 2 defines the Shapley value and describes the weighted voting game.",
        "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
        "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
        "Section 6 discusses related literature.",
        "Finally, Section 7 concludes. 2.",
        "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
        "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
        "Hence the game is a competition between coalitions of players, rather than between individual players.",
        "Depending on how the players measure utility, coalition game theory is split into two parts.",
        "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
        "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
        "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
        "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
        "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
        "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
        "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
        "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
        "The problem then is how to split the total payoff between or among the players.",
        "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
        "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
        "Symmetry.",
        "This axiom requires that the names of players play no role in determining the value. 2.",
        "Carrier.",
        "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
        "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
        "Additivity.",
        "This axiom specifies how the values of different games must be related to one another.",
        "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
        "Shapley viewed this value as an index for measuring the power of players in a game.",
        "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
        "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
        "We first introduce some notation and then define the Shapley value.",
        "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
        "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
        "Then, a players Shapley value is defined in terms of its marginal contribution.",
        "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
        "DEFINITION 1.",
        "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
        "Suppose that all the players are arranged in some order, all orderings being equally likely.",
        "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
        "The method for finding a players Shapley value depends on the definition of the value function (v).",
        "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
        "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
        "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
        "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
        "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
        "This is because the value of any coalition is either zero or one.",
        "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
        "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
        "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
        "The property of uniqueness is desirable because it leaves no ambiguity.",
        "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
        "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
        "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
        "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
        "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
        "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
        "Each party has j votes.",
        "If q ≤ j, then there would be no need for the players to form a coalition.",
        "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
        "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
        "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
        "Let ϕ denote the Shapley value for a player.",
        "Consider any one player.",
        "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
        "In all other cases, its marginal contribution is zero.",
        "Thus, the Shapley value for each player ϕ = 1/m.",
        "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
        "There is one large player and m small ones.",
        "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
        "The total number of players is (m + 1).",
        "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
        "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
        "We first consider ws = 1 and then ws > 1.",
        "The smallest possible value for q is wl + 1.",
        "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
        "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
        "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
        "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
        "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
        "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
        "Consider the large party.",
        "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
        "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
        "In all the remaining cases, its marginal contribution is zero.",
        "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
        "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
        "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
        "We know that the sum of the Shapley values of all the m+1 players is one.",
        "Also, since the small parties have equal weights, their Shapley values are the same.",
        "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
        "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
        "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
        "The set of parties consists of ml large parties and ms small parties.",
        "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
        "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
        "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
        "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
        "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
        "The Sixth Intl.",
        "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
        "Such a coalition gives the large player unit marginal contribution.",
        "Let C2 l (i, q) denote the number of all such coalitions.",
        "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
        "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
        "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
        "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
        "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
        "For this voting game, consider a player of type 1.",
        "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
        "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
        "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
        "The remaining players join after the type 1 player.",
        "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
        "Thus, we have identified games for which the exact Shapley value can be easily determined.",
        "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
        "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
        "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
        "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
        "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
        "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
        "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
        "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
        "The approximation error refers to the difference between the exact solution and its approximation.",
        "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
        "We first describe the general voting game and then present our randomized algorithm.",
        "In its general form, a voting game has more than two types of players.",
        "Let wi denote the weight of player i.",
        "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
        "The weights are specified in terms of a probability distribution function.",
        "For such a game, we want to find the approximate Shapley value.",
        "We let P denote a population of players.",
        "The players weights in this population are defined by a probability distribution function.",
        "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
        "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
        "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
        "Ti ← 0; a ← q − wi; b ← q − 2.",
        "For X from 1 to m repeatedly do the following 2.1.",
        "Select a random sample SX of size X from the population P 2.2.",
        "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
        "Ti ← Ti + ΔX i 3.",
        "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
        "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
        "We use this rule to determine the Shapley value as follows.",
        "For player i with weight wi, let ϕi denote the Shapley value.",
        "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
        "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
        "Otherwise, its marginal contribution is zero.",
        "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
        "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
        "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
        "In more detail, Step 1 does the initialization.",
        "In Step 2, we vary X between 1 and m and repeatedly do the following.",
        "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
        "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
        "The time complexity of the proposed randomized method is linear in the number of players.",
        "PROOF.",
        "As per Equation 3, ΔX i must be computed m times.",
        "This is done in the for loop of Step 2 in Table 1.",
        "Hence, the time complexity of computing a players Shapley value is O(m).",
        "The following section analyses the approximation error for the proposed method. 5.",
        "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
        "However, before doing so, we introduce the idea of error.",
        "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
        "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
        "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
        "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
        "However, although it is not possible to do anything about such error, it can be characterized.",
        "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
        "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
        "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
        "An indication of how accurate the result is must be included also.",
        "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
        "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
        "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
        "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
        "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
        "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
        "This error is obtained by propagating the error in Equation 4 to Equation 2.",
        "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
        "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
        "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
        "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
        "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
        "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
        "In particular, we conduct experiments in the following setting.",
        "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
        "The number of parties (m). 2.",
        "The mean weight (μ). 3.",
        "The variance in the players weights (ν). 4.",
        "The quota for the voting game (q). 5.",
        "The given players weight (w).",
        "We fix μ = 10 and ν = 1.",
        "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
        "We then vary m, q, and w as follows.",
        "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
        "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
        "The results of these experiments are shown in Figures 2, 3, and 4.",
        "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
        "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
        "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
        "Thus, the interval is the same for both integrations and it is independent of wi.",
        "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
        "Only the limits of the integration are different.",
        "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
        "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
        "As per Equation 5, it is the maximum of these two areas.",
        "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
        "However, the area of the unshaded region B increases.",
        "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
        "For a given q, the Shapley value for player i is as given in Equation 3.",
        "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
        "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
        "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
        "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
        "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
        "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
        "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
        "Hence, for small m, e(σ1 ) has a significant effect on PE.",
        "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
        "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
        "One approach is to use generating functions [3].",
        "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
        "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
        "The other method uses an approximation technique based on Monte Carlo simulation.",
        "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
        "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
        "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
        "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
        "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
        "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
        "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
        "A method for finding the Shapley value was also proposed in [5].",
        "This method gives the exact Shapley value, but its time complexity is exponential.",
        "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
        "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
        "This method can be used if the coalition game is represented as a marginal contribution net.",
        "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
        "In contrast, our method is independent The Sixth Intl.",
        "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
        "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
        "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
        "In this context, cooperative game theory offers a solution concept called the Shapley value.",
        "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
        "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
        "In particular, the problem of finding this value for the voting game is #P-complete.",
        "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
        "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
        "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
        "The time complexity of the proposed method is linear in the number of players.",
        "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
        "Our experiments show that the percentage error in the Shapley value is at most 20.",
        "Furthermore, in most cases, the error is less than 5%.",
        "Finally, we analyse the effect of the different parameters of the voting game on this error.",
        "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
        "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
        "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
        "REFERENCES [1] R. Aumann.",
        "Acceptable points in general cooperative n-person games.",
        "In Contributions to theTheory of Games volume IV.",
        "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
        "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
        "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
        "Generating functions for computing power indices efficiently.",
        "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
        "Data Analysis Techniques in High Energy Physics Experiments.",
        "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
        "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
        "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
        "On the complexity of cooperative solution concepts.",
        "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
        "An analysis of the shapley value and its uncertainty for the voting game.",
        "In Proc. 7th Int.",
        "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
        "Advanced Level Statistics.",
        "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
        "Marginal contribution nets: A compact representation scheme for coalitional games.",
        "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
        "Multi-attribute coalition games.",
        "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
        "Theories of Coalition Formation.",
        "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
        "Values for large games iv: Evaluating the electoral college exactly.",
        "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
        "Microeconomic Theory.",
        "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
        "A Course in Game Theory.",
        "The MIT Press, 1994. [15] C. H. Papadimitriou.",
        "Computational Complexity.",
        "Addison Wesley Longman, 1994. [16] A. Rapoport.",
        "N-person Game Theory : Concepts and Applications.",
        "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
        "Introduction to the shapley value.",
        "In A. E. Roth, editor, The Shapley value, pages 1-27.",
        "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
        "Coalitions among computationally bounded agents.",
        "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
        "A value for n person games.",
        "In A. E. Roth, editor, The Shapley value, pages 31-40.",
        "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
        "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
        "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
        "Methods for task allocation via agent coalition formation.",
        "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
        "An introduction to error analysis: The study of uncertainties in physical measurements.",
        "University Science Books, 1982. 966 The Sixth Intl.",
        "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
    ],
    "translated_text_sentences": [
        "Un Método Aleatorio para el Valor de Shapley para el Juego de Votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido.",
        "El valor de Shapley es uno de los conceptos clave de solución para juegos de coalición.",
        "Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico.",
        "En particular, se sabe que el problema de encontrar este valor para el juego de votación es #P-completo en el caso general.",
        "Sin embargo, en este artículo, demostramos que hay algunos juegos de votación específicos para los cuales el problema es computacionalmente manejable.",
        "Para otros juegos de votación generales, superamos el problema de la complejidad computacional presentando un nuevo método aleatorio para determinar el valor de Shapley aproximado.",
        "La complejidad temporal de este método es lineal en el número de jugadores.",
        "También demostramos, a través de estudios empíricos, que el porcentaje de error para el método propuesto siempre es inferior al 20% y, en la mayoría de los casos, inferior al 5%.",
        "Categorías y Descriptores de Asignaturas I.2.11 [Inteligencia Artificial Distribuida]: Sistemas Multiagente Términos Generales Algoritmos, Diseño, Teoría 1.",
        "FORMACIÓN DE COALICIONES, una forma clave de interacción en sistemas multiagente, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13].",
        "A menudo, en tales situaciones, hay más de una coalición posible y la recompensa de un jugador depende de cuál se una.",
        "Dado esto, un problema clave es asegurar que ninguna de las partes en una coalición tenga algún incentivo para separarse de ella y unirse a otra coalición (es decir, las coaliciones deben ser estables).",
        "Sin embargo, en muchos casos puede haber más de una solución (es decir, una coalición estable).",
        "En tales casos, se vuelve difícil seleccionar una única solución entre las posibles, especialmente si las partes están interesadas en sí mismas (es decir, tienen preferencias diferentes sobre coaliciones estables).",
        "En este contexto, la teoría de juegos cooperativos aborda el problema de la formación de coaliciones y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14].",
        "La teoría de juegos cooperativos difiere de su contraparte no cooperativa en que, para la primera, a los jugadores se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor ganancia total.",
        "Además, a diferencia de la teoría de juegos no cooperativos, la teoría de juegos cooperativos no especifica un juego a través de una descripción del entorno estratégico (incluyendo el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los resultados de pagos, sino que, en cambio, reduce esta colección de datos a la forma coalicional donde cada coalición está representada por un único número real: no hay acciones, movimientos o pagos individuales.",
        "La principal ventaja de este enfoque, al menos en entornos de múltiples jugadores, es su utilidad práctica.",
        "Por lo tanto, muchas más situaciones de la vida real encajan más fácilmente en un juego de forma coalicional, cuya estructura es más manejable que la de un juego no cooperativo, ya sea en forma normal o extensiva, y es por esta razón que nos enfocamos en tales formas en este artículo.",
        "Dadas estas observaciones, varios investigadores de sistemas multiagentes han utilizado y ampliado soluciones cooperativas de teoría de juegos para facilitar la formación automatizada de coaliciones [20, 21, 18].",
        "Además, en este trabajo, uno de los conceptos de solución más estudiados en profundidad es el valor de Shapley [19].",
        "El valor de Shapley de un jugador da una indicación de sus perspectivas de jugar el juego: cuanto mayor sea el valor de Shapley, mejores serán sus perspectivas.",
        "La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa (ver Sección 2.1 para una discusión de la propiedad de equidad).",
        "Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene una desventaja importante: para muchos juegos de coalición, no se puede determinar en tiempo polinómico.",
        "Por ejemplo, encontrar este valor para el juego de votación ponderada es, en general, #P-completo [6].",
        "Un problema es #P-difícil si resolverlo es tan difícil como contar asignaciones satisfactorias de fórmulas de lógica proposicional [15, p442].",
        "Dado que la #P-completitud subsume la NP-completitud, esto implica que calcular el valor de Shapley para el juego de votación ponderada será intratable en general.",
        "En otras palabras, es prácticamente inviable intentar calcular el valor de Shapley exacto.",
        "Sin embargo, el juego de votación tiene relevancia práctica para los sistemas multiagente, ya que es un medio importante para llegar a un consenso entre múltiples agentes.",
        "Por lo tanto, nuestro objetivo es superar la complejidad computacional de encontrar el valor de Shapley para este juego.",
        "Específicamente, primero demostramos que hay algunos juegos de votación específicos para los cuales el valor exacto se puede calcular en tiempo polinómico.",
        "Al identificar dichos juegos, mostramos, por primera vez, cuándo es factible encontrar el valor exacto y cuándo no lo es.",
        "Para los juegos de votación computacionalmente complejos, presentamos un nuevo método aleatorizado, siguiendo la línea de la simulación de Monte Carlo, para calcular el valor de Shapley aproximado.",
        "La complejidad computacional de este tipo de juegos suele abordarse mediante dos enfoques principales.",
        "El primero es usar funciones generadoras [3].",
        "Este método intercambia complejidad temporal por espacio de almacenamiento.",
        "El segundo utiliza una técnica de aproximación basada en la simulación de Monte Carlo [12, 7].",
        "Sin embargo, el método que proponemos es más general que cualquiera de estos (ver Sección 6 para más detalles).",
        "Además, ningún trabajo ha analizado previamente el error de aproximación.",
        "El error de aproximación se refiere a qué tan cerca está la aproximación del valor de Shapley real.",
        "Específicamente, es la diferencia entre el valor de Shapley real y el aproximado.",
        "Es importante determinar este error porque el rendimiento de un método de aproximación se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación.",
        "Por lo tanto, nuestra contribución radica también en proporcionar, por primera vez, un análisis del error porcentual en el valor aproximado de Shapley.",
        "Este análisis se realiza de manera empírica.",
        "Nuestros experimentos muestran que el error siempre es menor al 20%, y en la mayoría de los casos es inferior al 5%.",
        "Finalmente, nuestro método tiene complejidad temporal lineal en el número de jugadores y no requiere ningún arreglo (es decir, es económico en términos tanto de tiempo de computación como de espacio de almacenamiento).",
        "Dado esto, y el hecho de que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados.",
        "El resto del documento está organizado de la siguiente manera.",
        "La sección 2 define el valor de Shapley y describe el juego de votación ponderada.",
        "En la Sección 3 describimos juegos de votación cuyo valor de Shapley se puede encontrar en tiempo polinómico.",
        "En la Sección 4, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y analizamos su rendimiento en la Sección 5.",
        "La sección 6 discute la literatura relacionada.",
        "Finalmente, la Sección 7 concluye. 2.",
        "FONDO Comenzamos presentando los juegos de coalición y el valor de Shapley, y luego definimos el juego de votación ponderada.",
        "Un juego de coalición es un juego en el que grupos de jugadores (coaliciones) pueden promover un comportamiento cooperativo entre sus miembros.",
        "Por lo tanto, el juego es una competencia entre coaliciones de jugadores, en lugar de entre jugadores individuales.",
        "Dependiendo de cómo los jugadores midan la utilidad, la teoría de juegos de coalición se divide en dos partes.",
        "Si los jugadores miden la utilidad o la ganancia en las mismas unidades y hay un medio de intercambio de utilidad como pagos laterales, decimos que el juego tiene utilidad transferible; de lo contrario, tiene utilidad no transferible.",
        "Más formalmente, un juego de coalición con utilidad transferible, N, v, consiste en: 1. un conjunto finito (N = {1, 2, . . . , n}) de jugadores y 2. una función (v) que asocia a cada subconjunto no vacío S de N (es decir, una coalición) un número real v(S) (el valor de S).",
        "Para cada coalición S, el número v(S) es la ganancia total disponible para ser dividida entre los miembros de S (es decir, el conjunto de acciones conjuntas que la coalición S puede tomar consiste en todas las posibles divisiones de v(S) entre los miembros de S).",
        "Los juegos de coalición con pagos no transferibles difieren de los que tienen pagos transferibles de la siguiente manera.",
        "Para lo primero, cada coalición está asociada con un conjunto de vectores de pago que no necesariamente es el conjunto de todas las posibles divisiones de una cantidad fija.",
        "El enfoque de este documento se centra en el juego de votación ponderada (descrito en la Sección 2.1), que es un juego con pagos transferibles.",
        "Por lo tanto, en ambos casos, los jugadores solo se unirán a una coalición si esperan beneficiarse de ella.",
        "Aquí, a los jugadores se les permite formar acuerdos vinculantes, por lo que hay un fuerte incentivo para trabajar juntos y recibir la mayor ganancia total.",
        "El problema entonces es cómo dividir el pago total entre o entre los jugadores.",
        "En este contexto, Shapley [19] construyó una solución utilizando un enfoque axiomático.",
        "Shapley definió un valor para los juegos como una función que asigna a un juego (N, v), un número ϕi(N, v) para cada i en N. Esta función satisface tres axiomas [17]: 1.",
        "Simetría.",
        "Este axioma requiere que los nombres de los jugadores no jueguen ningún papel en la determinación del valor. 2.",
        "Portador.",
        "Este axioma requiere que la suma de ϕi(N, v) para todos los jugadores i en cualquier portador C sea igual a v(C).",
        "Un portador C es un subconjunto de N tal que v(S) = v(S ∩ C) para cualquier subconjunto de jugadores S ⊂ N.",
        "Aditividad.",
        "Este axioma especifica cómo deben relacionarse los valores de diferentes juegos entre sí.",
        "Se requiere que para cualquier juego ϕi(N, v) y ϕi(N, v), ϕi(N, v) + ϕi(N, v) = ϕi(N, v + v) para todo i en N. Shapley demostró que hay una función única que satisface estos tres axiomas.",
        "Shapley consideraba este valor como un índice para medir el poder de los jugadores en un juego.",
        "Al igual que un índice de precios u otros índices de mercado, el valor utiliza promedios (o promedios ponderados en algunas de sus generalizaciones) para agregar el poder de los jugadores en sus diversas oportunidades de cooperación.",
        "Alternativamente, se puede pensar en el valor de Shapley como una medida de la utilidad de jugadores neutrales al riesgo en un juego.",
        "Primero introducimos algunas notaciones y luego definimos el valor de Shapley.",
        "Sea S el conjunto N − {i} y fi : S → 2N−{i} una variable aleatoria que toma sus valores en el conjunto de todos los subconjuntos de N − {i}, y tiene la función de distribución de probabilidad (g) definida como: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
        "La variable aleatoria fi se interpreta como la elección aleatoria de una coalición a la que se une el jugador i.",
        "Entonces, el valor de Shapley de un jugador se define en términos de su contribución marginal.",
        "Por lo tanto, la contribución marginal del jugador i a la coalición S con i /∈ S es una función Δiv que se define de la siguiente manera: Δiv(S) = v(S ∪ {i}) − v(S). Así, la contribución marginal de un jugador a una coalición S es el aumento en el valor de S como resultado de que i se una a ella.",
        "DEFINICIÓN 1.",
        "El valor de Shapley (ϕi) del juego N, v para el jugador i es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar: ϕi(N, v) = E[Δiv ◦ fi] (1). El valor de Shapley se interpreta de la siguiente manera.",
        "Supongamos que todos los jugadores están dispuestos en algún orden, siendo todas las disposiciones igualmente probables.",
        "Entonces ϕi(N, v) es la contribución marginal esperada, sobre todas las ordenaciones, del jugador i al conjunto de jugadores que le preceden.",
        "El método para encontrar el valor de Shapley de un jugador depende de la definición de la función de valor (v).",
        "Esta función es diferente para diferentes juegos, pero aquí nos enfocamos específicamente en el juego de votación ponderada por las razones descritas en la Sección 1.960 de la Sexta Conferencia Internacional.",
        "Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 2.1 El juego de votación ponderada Adoptamos la definición del juego de votación dada en [6].",
        "Por lo tanto, hay un conjunto de n jugadores que pueden, por ejemplo, representar accionistas en una empresa o miembros en un parlamento.",
        "El juego de votación ponderada es entonces un juego G = N, v en el que: v(S) = j 1 si w(S) ≥ q 0 en caso contrario para algún q ∈ IR+ y wi ∈ IRN + , donde: w(S) = X i∈S wi para cualquier coalición S. Así, wi es el número de votos que tiene el jugador i y q es el número de votos necesarios para ganar el juego (es decir, la cuota).",
        "Ten en cuenta que para este juego (denotado q; w1, . . . , wn), la contribución marginal de un jugador es cero o uno.",
        "Esto se debe a que el valor de cualquier coalición es cero o uno.",
        "Una coalición con valor cero se llama una coalición perdedora y con valor uno una coalición ganadora.",
        "Si la entrada de un jugador a una coalición cambia de perder a ganar, entonces la contribución marginal del jugador para esa coalición es uno; de lo contrario, es cero.",
        "La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa.",
        "La propiedad de la unicidad es deseable porque no deja lugar a ambigüedades.",
        "La propiedad de equidad se relaciona con cómo se dividen las ganancias de la cooperación entre los miembros de una coalición.",
        "En este caso, el valor de Shapley de un jugador es proporcional a la contribución que realiza como miembro de una coalición; cuanto mayor sea su contribución, mayor será su valor.",
        "Por lo tanto, desde la perspectiva de un jugador, tanto la singularidad como la equidad son propiedades deseables. 3.",
        "JUEGOS DE VOTACIÓN CON SOLUCIONES EN TIEMPO POLINOMIAL Aquí describimos aquellos juegos de votación para los cuales el valor de Shapley puede ser determinado en tiempo polinomial.",
        "Esto se logra utilizando el enfoque de enumeración directa (es decir, enumerando todas las posibles coaliciones y encontrando la contribución marginal de un jugador a cada una de ellas).",
        "Caracterizamos dichos juegos en términos del número de jugadores y sus pesos. 3.1 Todos los jugadores tienen el mismo peso. Consideremos el juego q; j, . . . , j con m participantes.",
        "Cada partido tiene j votos.",
        "Si q ≤ j, entonces no habría necesidad de que los jugadores formen una coalición.",
        "Por otro lado, si q = mj (m = |N| es el número de jugadores), solo la gran coalición es posible.",
        "Los juegos interesantes son aquellos para los cuales la cuota (q) satisface la restricción: (j + 1) ≤ q ≤ j(m − 1).",
        "Para estos juegos, el valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero.",
        "Que ϕ denote el valor de Shapley para un jugador.",
        "Considera a cualquier jugador.",
        "Este jugador puede unirse a una coalición como el miembro i-ésimo donde 1 ≤ i ≤ m. Sin embargo, la contribución marginal del jugador es de 1 solo si se une a una coalición como el miembro q/j-ésimo.",
        "En todos los demás casos, su contribución marginal es cero.",
        "Por lo tanto, el valor de Shapley para cada jugador ϕ = 1/m.",
        "Dado que ϕ requiere una operación de división, se puede encontrar en tiempo constante (es decir, O(1)). 3.2 Una sola gran fiesta Considera un juego en el que hay dos tipos de jugadores: grandes (con peso wl > ws) y pequeños (con peso ws).",
        "Hay un jugador grande y m pequeños.",
        "La cuota para este juego es q; es decir, tenemos un juego de la forma q; wl, ws, ws, . . . , ws.",
        "El número total de jugadores es (m + 1).",
        "El valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero.",
        "Que ϕl denote el valor de Shapley para el jugador grande y ϕs para cada jugador pequeño.",
        "Primero consideramos ws = 1 y luego ws > 1.",
        "El valor más pequeño posible para q es wl + 1.",
        "Esto se debe a que, si q ≤ wl, entonces el partido grande puede ganar las elecciones por sí solo sin necesidad de formar una coalición.",
        "Por lo tanto, la cuota para el juego satisface la restricción wl + 1 ≤ q ≤ m + wl − 1.",
        "Además, los límites inferior y superior para wl son 2 y (q − 1) respectivamente.",
        "El límite inferior es 2 porque el peso de la gran fiesta tiene que ser mayor que cada uno de los pequeños.",
        "Además, el peso del gran partido no puede ser mayor que q, ya que en ese caso, no habría necesidad de que el gran partido forme una coalición.",
        "Recuerda que para nuestro juego de votación, la contribución marginal de un jugador a una coalición solo puede ser cero o uno.",
        "Considera la gran fiesta.",
        "Este partido puede unirse a una coalición como el i-ésimo miembro donde 1 ≤ i ≤ (m + 1).",
        "Sin embargo, la contribución marginal del partido grande es uno si se une a una coalición como el miembro i-ésimo donde (q − wl) ≤ i < q.",
        "En todos los casos restantes, su contribución marginal es cero.",
        "Por lo tanto, de los casos totales posibles (m + 1), su contribución marginal es de uno en wl casos.",
        "Por lo tanto, el valor de Shapley del partido grande es: ϕl = wl/(m + 1).",
        "De la misma manera, obtenemos el valor de Shapley del gran partido para el caso general donde ws > 1 como: ϕl = wl/ws /(m + 1). Ahora consideremos a un jugador pequeño.",
        "Sabemos que la suma de los valores de Shapley de todos los m+1 jugadores es uno.",
        "Además, dado que los partidos pequeños tienen el mismo peso, sus valores de Shapley son iguales.",
        "Por lo tanto, obtenemos: ϕs = 1 − ϕl m. Por lo tanto, tanto ϕl como ϕs se pueden calcular en tiempo constante.",
        "Esto se debe a que ambos requieren un número constante de operaciones básicas (suma, resta, multiplicación y división).",
        "De la misma manera, el valor de Shapley para un juego de votación con un único partido grande y múltiples partidos pequeños puede determinarse en tiempo constante. 3.3 Múltiples partidos grandes y pequeños Ahora consideramos un juego de votación que tiene dos tipos de jugadores: grandes y pequeños (como en la Sección 3.2), pero ahora hay múltiples partidos grandes y múltiples partidos pequeños.",
        "El conjunto de partidos consiste en ml partidos grandes y ms partidos pequeños.",
        "El peso de cada fiesta grande es wl y el de cada fiesta pequeña es ws, donde ws < wl.",
        "Mostramos la factibilidad computacional de este juego considerando los siguientes cuatro posibles escenarios: S1 q ≤ mlwl y q ≤ msws S2 q ≤ mlwl y q ≥ msws S3 q ≥ mlwl y q ≥ msws S4 q ≥ mlwl y q ≤ msws Para el primer escenario, considera un jugador grande.",
        "Para determinar el valor de Shapley para este jugador, necesitamos considerar el número de todas las posibles coaliciones que le otorgan una contribución marginal de uno.",
        "Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores grandes está entre cero y (q −1)/wl.",
        "En otras palabras, hay (q −1)/wl +1 casos de este tipo y ahora consideramos cada uno de ellos.",
        "El Sexto Internacional.",
        "Considera una coalición tal que cuando el jugador grande se une, hay i jugadores grandes y (q − iwl − 1)/ws jugadores pequeños ya en ella, y los jugadores restantes se unen después del jugador grande.",
        "Una coalición de este tipo otorga una contribución marginal a la unidad de jugador grande.",
        "Que C2 l (i, q) denote el número de todas esas coaliciones.",
        "Para empezar, considera el caso i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « donde C(y, x) denota el número de posibles combinaciones de x elementos de un conjunto de y elementos.",
        "Para i = 1, obtenemos: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « En general, para i > 1, obtenemos: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Por lo tanto, el valor de Shapley de los jugadores grandes es: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) Para un i dado, el tiempo para encontrar C2 l (i, q) es O(T) donde T = (mlms(q − iwl − 1)(ml + ms))/ws Por lo tanto, el tiempo para encontrar el valor de Shapley es O(T q/wl).",
        "De la misma manera, el valor de Shapley de un jugador pequeño es: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) y puede encontrarse en tiempo O(T q/ws).",
        "Asimismo, se puede demostrar que los tres escenarios restantes (S2 a S4) tienen la misma complejidad temporal. 3.4 Tres tipos de jugadores Ahora consideramos un juego de votación que tiene tres tipos de jugadores: 1, 2 y 3.",
        "El conjunto de fiestas consiste en m1 jugadores de tipo 1 (cada uno con peso w1), m2 jugadores de tipo 2 (cada uno con peso w2) y m3 jugadores de tipo 3 (cada uno con peso w3).",
        "Para este juego de votación, considera a un jugador de tipo 1.",
        "Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores de tipo 1 está entre cero y (q − 1)/w1.",
        "En otras palabras, hay (q − 1)/w1 + 1 casos de este tipo y ahora consideramos cada uno de ellos.",
        "Considera una coalición tal que cuando el jugador de tipo 1 se une, ya hay i jugadores de tipo 1 en ella.",
        "Los jugadores restantes se unen después del jugador de tipo 1.",
        "Que C3 l (i, q) denote el número de todas las coaliciones que dan una contribución marginal de uno al jugador de tipo 1 donde: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Por lo tanto, el valor de Shapley del jugador de tipo 1 es: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) La complejidad temporal de encontrar este valor es O(T q2 /w1w2) donde: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Del mismo modo, para los otros dos tipos de jugadores (2 y 3).",
        "Por lo tanto, hemos identificado juegos para los cuales el valor de Shapley exacto puede determinarse fácilmente.",
        "Sin embargo, la complejidad computacional del método de enumeración directa anterior aumenta con el número de tipos de jugadores.",
        "Para un juego de votación con más de tres tipos de jugadores, la complejidad temporal del método anterior es un polinomio de grado cuatro o superior.",
        "Para hacer frente a tales situaciones, por lo tanto, la siguiente sección presenta un método aleatorio más rápido para encontrar el valor de Shapley aproximado. 4.",
        "ENCONTRANDO EL VALOR DE SHAPLEY APROXIMADO Primero damos una breve introducción a los algoritmos aleatorizados y luego presentamos nuestro método aleatorizado para encontrar el valor de Shapley aproximado.",
        "Los algoritmos aleatorizados son el enfoque más comúnmente utilizado para encontrar soluciones aproximadas a problemas computacionalmente difíciles.",
        "Un algoritmo aleatorizado es un algoritmo que, durante algunas de sus etapas, realiza elecciones al azar [2].",
        "Los pasos aleatorios realizados por el algoritmo implican que al ejecutar el algoritmo varias veces con la misma entrada no estamos garantizados de encontrar la misma solución.",
        "Ahora, dado que dichos algoritmos generan soluciones aproximadas, su rendimiento se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación.",
        "El error de aproximación se refiere a la diferencia entre la solución exacta y su aproximación.",
        "En este contexto, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y evaluamos empíricamente su error.",
        "Primero describimos el juego de votación general y luego presentamos nuestro algoritmo aleatorio.",
        "En su forma general, un juego de votación tiene más de dos tipos de jugadores.",
        "Que w_i denote el peso del jugador i.",
        "Por lo tanto, para m jugadores y para la cuota q, el juego es de la forma q; w1, w2, . . . , wm.",
        "Los pesos están especificados en términos de una función de distribución de probabilidad.",
        "Para un juego como este, queremos encontrar el valor aproximado de Shapley.",
        "Dejamos que P denote una población de jugadores.",
        "Los pesos de los jugadores en esta población están definidos por una función de distribución de probabilidad.",
        "Independientemente de la función de distribución de probabilidad real, sea μ la media del peso para la población de jugadores y ν la varianza en los pesos de los jugadores.",
        "De esta población de jugadores extraemos muestras al azar y encontramos la suma de los pesos de los jugadores en la muestra utilizando la siguiente regla de la Teoría del Muestreo (ver [8] p425): Si w1, w2, . . . , wn es una muestra aleatoria de tamaño n extraída de cualquier distribución con media μ y varianza ν, entonces la suma de la muestra tiene una distribución Normal aproximada con media nμ y varianza ν n (cuanto mayor sea n, mejor será la aproximación). 962 The Sixth Intl.",
        "Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Población de jugadores μ: Peso medio de la población P ν: Varianza en los pesos para la población P q: Cuota para el juego de votación wi: Peso del jugador 1.",
        "Ti ← 0; a ← q − wi; b ← q − 2. \n\nTi ← 0; a ← q - wi; b ← q - 2.",
        "Para X de 1 a m, repetir lo siguiente 2.1.",
        "Selecciona una muestra aleatoria SX de tamaño X de la población P 2.2.",
        "Evaluar la contribución marginal esperada (ΔX i ) del jugador i a SX como: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
        "Ti ← Ti + ΔX i 3. \n\nTi ← Ti + ΔX i 3.",
        "Evaluar el valor de Shapley del jugador i como: ϕi ← Ti/m Tabla 1: Algoritmo aleatorizado para encontrar el valor de Shapley para el jugador i.",
        "Sabemos, a partir de la Definición 1, que el valor de Shapley para un jugador es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar.",
        "Utilizamos esta regla para determinar el valor de Shapley de la siguiente manera.",
        "Para el jugador i con peso wi, dejemos que ϕi denote el valor de Shapley.",
        "Que X denote el tamaño de una muestra aleatoria extraída de una población en la que los pesos de los jugadores individuales tienen cualquier distribución.",
        "La contribución marginal del jugador i a esta muestra aleatoria es uno si el peso total de los jugadores X en la muestra es mayor o igual a a = q - wi pero menor que b = q - (donde es una cantidad infinitesimalmente pequeña).",
        "De lo contrario, su contribución marginal es cero.",
        "Por lo tanto, la contribución marginal esperada del jugador i (denotada como ΔX i ) a la coalición de muestra es el área bajo la curva definida por N(Xμ, ν X ) en el intervalo [a, b].",
        "Esta área se muestra como la región B en la Figura 1 (la línea punteada en la figura es Xμ).",
        "Por lo tanto, obtenemos: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) y el valor de Shapley es: ϕi = 1 m mX X=1 ΔX i (3). Los pasos anteriores se describen en la Tabla 1.",
        "Con más detalle, el Paso 1 realiza la inicialización.",
        "En el Paso 2, variamos X entre 1 y m y repetidamente hacemos lo siguiente.",
        "En el Paso 2.1, seleccionamos aleatoriamente una muestra SX de tamaño X de la población P. La contribución marginal del jugador a la coalición aleatoria SX se encuentra en el Paso 2.2.",
        "El promedio de la contribución marginal se encuentra en el Paso 3, y este es el valor de Shapley para el jugador i. TEOREMA 1.",
        "La complejidad temporal del método aleatorio propuesto es lineal en el número de jugadores.",
        "PRUEBA.",
        "Según la Ecuación 3, ΔX i debe ser calculado m veces.",
        "Esto se hace en el bucle for del Paso 2 en la Tabla 1.",
        "Por lo tanto, la complejidad temporal de calcular el valor de Shapley de un jugador es O(m).",
        "La siguiente sección analiza el error de aproximación para el método propuesto. 5.",
        "RENDIMIENTO DEL MÉTODO ALEATORIO Primero derivamos la fórmula para medir el error en el valor de Shapley aproximado y luego realizamos experimentos para evaluar este error en una amplia gama de configuraciones.",
        "Sin embargo, antes de hacerlo, introducimos la idea del error.",
        "El concepto de error se relaciona con una medición realizada de una cantidad que tiene un valor aceptado [22, 4].",
        "Obviamente, no se puede determinar exactamente cuán lejos está una medición del valor aceptado; si esto fuera posible, sería factible simplemente proporcionar un valor corregido más preciso.",
        "Por lo tanto, el error tiene que ver con la incertidumbre en las mediciones sobre la que no se puede hacer nada.",
        "Si se repite una medición, los valores obtenidos serán diferentes y ninguno de los resultados puede ser preferido sobre los demás.",
        "Sin embargo, aunque no sea posible hacer nada al respecto de tal error, sí se puede caracterizar.",
        "Como se describe en la Sección 4, realizamos mediciones en muestras que se extraen al azar de una población dada (P) de jugadores.",
        "Ahora, existen errores estadísticos asociados con el muestreo que son inevitables y deben ser aceptados.",
        "Por lo tanto, si el resultado de una medición va a tener significado, no puede consistir únicamente en el valor medido.",
        "También se debe incluir una indicación de cuán precisa es el resultado.",
        "Por lo tanto, el resultado de cualquier medición física tiene dos componentes esenciales: 1. un valor numérico que proporciona la mejor estimación posible de la cantidad medida, y 2. el grado de incertidumbre asociado con este valor estimado.",
        "Por ejemplo, si la estimación de una cantidad es x y la incertidumbre es e(x), la cantidad estaría en x ± e(x).",
        "Para experimentos de muestreo, el error estándar es, con mucho, la forma más común de caracterizar la incertidumbre [22].",
        "Dado esto, la siguiente sección define este error y lo utiliza para evaluar el rendimiento del método aleatorio propuesto. 5.1 Error de aproximación La precisión del método aleatorio anterior depende de su error de muestreo, el cual se define de la siguiente manera [22, 4]: DEFINICIÓN 2.",
        "El error de muestreo (o error estándar) se define como la desviación estándar de un conjunto de mediciones dividida por la raíz cuadrada del número de mediciones.",
        "Con este fin, sea e(σX) el error de muestreo en la suma de los pesos para una muestra de tamaño X extraída de la distribución N(Xμ, νX) donde: e(σX) = p(ν/X) / p(X) = p(ν) / X (4). Sea e(ΔXi) el error en la contribución marginal para el jugador i (dado en la Ecuación 2).",
        "Este error se obtiene propagando el error en la Ecuación 4 a la Ecuación 2.",
        "En la Ecuación 2, a y b son los límites inferior y superior para la suma de los pesos de los jugadores para The Sixth Intl.",
        "Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Suma de pesos Z1 Z2 Figura 1: Una distribución normal para la suma de los pesos de los jugadores en una coalición de tamaño X. 40 60 80 100 0 50 100 0 5 10 15 20 25 Peso de cuota Porcentaje de error en el valor de Shapley Figura 2: Rendimiento del método aleatorio para m = 10 jugadores en una coalición de tamaño X.",
        "Dado que el error en esta suma es e(σX), los valores reales de a y b se encuentran en el intervalo a ± e(σX) y b ± e(σX) respectivamente.",
        "Por lo tanto, el error en la Ecuación 2 es la probabilidad de que la suma se encuentre entre los límites a - e(σX) y a (es decir, el área bajo la curva definida por N(Xμ, ν X) entre a - e(σX) y a, que es la región sombreada A en la Figura 1) o la probabilidad de que la suma de los pesos se encuentre entre los límites b y b+e(σX) (es decir, el área bajo la curva definida por N(Xμ, ν X) entre b y b + e(σX), que es la región sombreada C en la Figura 1).",
        "Más específicamente, el error es el máximo de estas dos probabilidades: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « Con base en el error anterior, encontramos el error en el valor de Shapley utilizando las siguientes reglas estándar de propagación de errores [22]: R1 Si x e y son dos variables aleatorias con errores e(x) y e(y) respectivamente, entonces el error en la variable aleatoria z = x + y se da por: e(z) = e(x) + e(y) R2 Si x es una variable aleatoria con error e(x) y z = kx donde 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 CuotaPeso Porcentajeerror en el valor de Shapley Figura 3: Rendimiento del método aleatorizado para m = 50 jugadores. la constante k no tiene error, entonces el error en z es: e(z) = |k|e(x) Utilizando las reglas anteriores, el error en el valor de Shapley (dado en la Ecuación 3) se obtiene propagando el error en la Ecuación 4 a todas las coaliciones entre los tamaños X = 1 y X = m. Sea e(ϕi) este error donde: e(ϕi) = 1 m mX X=1 e(ΔX i ) Analizamos el rendimiento de nuestro método en términos del porcentaje de error PE en el valor de Shapley aproximado, que se define de la siguiente manera: PE = 100 × e(ϕi)/ϕi (5) 5.2 Resultados Experimentales Ahora calculamos el porcentaje de error en el valor de Shapley utilizando la ecuación anterior para PE.",
        "Dado que este error depende de los parámetros del juego de votación, lo evaluamos en una variedad de configuraciones al variar sistemáticamente los parámetros del juego de votación.",
        "En particular, realizamos experimentos en el siguiente entorno.",
        "Para un jugador con peso w, el error porcentual en el valor de Shapley de un jugador depende de los siguientes cinco parámetros (ver Ecuación 3): 1.",
        "El número de fiestas (m). 2.",
        "El peso medio (μ). 3.",
        "La varianza en los pesos de los jugadores (ν). 4.",
        "La cuota para el juego de votación (q) es de 5.",
        "El peso de los jugadores dados (w).",
        "Fijamos μ = 10 y ν = 1.",
        "Esto se debe a que, para la distribución normal, μ = 10 asegura que para casi todos los jugadores el peso es positivo, y ν = 1 se utiliza con mayor frecuencia en experimentos estadísticos (ν puede ser mayor o menor pero PE aumenta en ν, ver Ecuaciones 4 y 5).",
        "Luego variamos m, q y w de la siguiente manera.",
        "Variamos m entre 5 y 100 (ya que más allá de 100 encontramos que el error es cercano a cero), para cada m variamos q entre 4μ y mμ (imponemos estos límites porque aseguran que el tamaño del 964 The Sixth Intl.",
        "Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 Peso de la cuota Porcentaje de error en el valor de Shapley Figura 4: Rendimiento del método aleatorio para m = 100 jugadores. La coalición ganadora es más de uno y menos que m - ver la Sección 3 para más detalles), y para cada q, variamos w entre 1 y q−1 (porque una coalición ganadora debe contener al menos dos jugadores).",
        "Los resultados de estos experimentos se muestran en las Figuras 2, 3 y 4.",
        "Como se observa en las figuras, la PE máxima es alrededor del 20% y en la mayoría de los casos es inferior al 5%.",
        "Ahora analizamos el efecto de los tres parámetros: w, q y m en el error porcentual con más detalle. - Efecto de w. El EP depende de e(σX) porque, en la Ecuación 5, los límites de integración dependen de e(σX).",
        "El intervalo sobre el cual se realiza la primera integración en la Ecuación 5 es a − a + e(σX) = e(σX), y el intervalo sobre el cual se realiza la segunda es b + e(σX) − b = e(σX).",
        "Por lo tanto, el intervalo es el mismo para ambas integraciones y es independiente de wi.",
        "Ten en cuenta que cada una de las dos funciones que se integran en la Ecuación 5 son iguales a la función que se integra en la Ecuación 2.",
        "Solo los límites de la integración son diferentes.",
        "Además, el intervalo sobre el cual se realiza la integración para la contribución marginal de la Ecuación 2 es b − a = wi − (ver Figura 1).",
        "El error en la contribución marginal es el área de la región sombreada A (entre a − e(σX ) y a) en la Figura 1, o el área sombreada C (entre b y b + e(σX )).",
        "Según la Ecuación 5, es el máximo de estas dos áreas.",
        "Dado que e(σX) es independiente de wi, a medida que wi aumenta, e(σX) permanece invariable.",
        "Sin embargo, el área de la región no sombreada B aumenta.",
        "Por lo tanto, a medida que wi aumenta, el error en la contribución marginal disminuye y PE también disminuye. - Efecto de q.",
        "Para un q dado, el valor de Shapley para el jugador i es el que se indica en la Ecuación 3.",
        "Sabemos que, para una muestra de tamaño X, la suma de los pesos de los jugadores se distribuye normalmente con media Xμ y varianza ν/X.",
        "Dado que el 99% de una distribución normal se encuentra dentro de dos desviaciones estándar de su media [8], la contribución marginal de un jugador a una muestra de tamaño X es casi cero si: a < Xμ + 2 p ν/X o b > Xμ − 2 p ν/X. Esto se debe a que las tres regiones A, B y C (en la Figura 1) se encuentran ya sea a la derecha de Z2 o a la izquierda de Z1.",
        "Sin embargo, la contribución marginal del jugador es mayor que cero para aquellos X para los cuales se satisface la siguiente restricción: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X. Para esta restricción, las tres regiones A, B y C se encuentran en algún lugar entre Z1 y Z2.",
        "Dado que a = q −wi y b = q −, la Ecuación 6 también se puede escribir como: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X. El valor más pequeño de X que satisface la restricción en la Ecuación 6 aumenta estrictamente con q.",
        "A medida que X aumenta, el error en la suma de pesos en una muestra (es decir, e(σX) = p(ν)/X) disminuye.",
        "Por consiguiente, el error en la contribución marginal de un jugador (ver Ecuación 5) también disminuye.",
        "Esto implica que a medida que q aumenta, el error en la contribución marginal (y consecuentemente el error en el valor de Shapley) disminuye. - Efecto de m. Es claro a partir de la Ecuación 4 que el error e(σX) es mayor para X = 1 y disminuye con X.",
        "Por lo tanto, para valores pequeños de m, e(σ1) tiene un efecto significativo en PE.",
        "Pero a medida que m aumenta, el efecto de e(σ1) en PE disminuye y, como resultado, PE disminuye.",
        "TRABAJO RELACIONADO Para superar la complejidad computacional de encontrar el valor de Shapley, se han propuesto dos enfoques principales en la literatura.",
        "Un enfoque es utilizar funciones generadoras [3].",
        "Este método es un procedimiento exacto que supera el problema de la complejidad temporal, pero sus requisitos de almacenamiento son sustanciales, ya que requiere matrices enormes.",
        "También tiene la limitación (no compartida por otros enfoques) de que solo se puede aplicar a juegos con pesos y cuotas enteras.",
        "El otro método utiliza una técnica de aproximación basada en la simulación de Monte Carlo.",
        "En [12], por ejemplo, el valor de Shapley se calcula considerando una muestra aleatoria de una gran población de jugadores.",
        "El método que proponemos difiere de esto en que ellos definen el valor de Shapley tratando el número de turnos de un jugador (si un jugador puede cambiar una coalición perdedora a una ganadora, entonces, para el jugador, la coalición se cuenta como un turno) como una variable aleatoria, mientras que nosotros tratamos los pesos de los jugadores como variables aleatorias.",
        "En [12], sin embargo, la pregunta sigue siendo cómo obtener el número de rondas a partir de la definición de un juego de votación y cuál es la complejidad temporal de hacer esto.",
        "Dado que el juego de votación se define en función de los pesos de los jugadores y el número de votos se obtiene a partir de estos pesos, nuestro método se corresponde más estrechamente con la definición del juego de votación.",
        "Nuestro método también difiere de [7] en que mientras [7] presenta un método para el caso en el que todos los pesos de los jugadores están distribuidos normalmente, nuestro método se aplica a cualquier tipo de distribución para estos pesos.",
        "Por lo tanto, como se indica en la Sección 1, nuestro método es más general que [3, 12, 7].",
        "Además, a diferencia de todo el trabajo mencionado anteriormente, proporcionamos un análisis del rendimiento de nuestro método en términos del error porcentual en el valor de Shapley aproximado.",
        "Un método para encontrar el valor de Shapley también fue propuesto en [5].",
        "Este método proporciona el valor de Shapley exacto, pero su complejidad temporal es exponencial.",
        "Además, el método solo se puede utilizar si el juego está representado en una forma específica (es decir, la representación de múltiples problemas), de lo contrario no.",
        "Finalmente, [9, 10] presentan un método de tiempo polinómico para encontrar el valor de Shapley.",
        "Este método se puede utilizar si el juego de coalición se representa como una red de contribución marginal.",
        "Además, asumen que el valor de Shapley de un componente de un juego de coalición dado es proporcionado por un oráculo, y en base a esta suposición agregan estos valores para encontrar el valor del juego en general.",
        "Por el contrario, nuestro método es independiente de The Sixth Intl.",
        "La Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 965 de la representación y proporciona un valor de Shapley aproximado en tiempo lineal, sin necesidad de un oráculo. 7.",
        "CONCLUSIONES Y TRABAJO FUTURO La formación de coaliciones es una forma importante de interacción en sistemas multiagentes.",
        "Un tema importante en este tipo de trabajo es que los agentes decidan cómo dividir las ganancias de la cooperación entre los miembros de una coalición.",
        "En este contexto, la teoría de juegos cooperativos ofrece un concepto de solución llamado el valor de Shapley.",
        "La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa.",
        "Sin embargo, su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico.",
        "En particular, el problema de encontrar este valor para el juego de votación es #P-completo.",
        "Aunque este problema es, en general, #P-completo, demostramos que hay algunos juegos de votación específicos para los cuales el valor de Shapley puede determinarse en tiempo polinómico y caracterizamos dichos juegos.",
        "Al hacerlo, hemos demostrado cuándo es computacionalmente factible encontrar el valor de Shapley exacto.",
        "Para otros juegos de votación complejos, presentamos un nuevo método aleatorio para determinar el valor de Shapley aproximado.",
        "La complejidad temporal del método propuesto es lineal en el número de jugadores.",
        "Analizamos el rendimiento de este método en términos del error porcentual en el valor de Shapley aproximado.",
        "Nuestros experimentos muestran que el error porcentual en el valor de Shapley es como máximo del 20%.",
        "Además, en la mayoría de los casos, el error es menor al 5%.",
        "Finalmente, analizamos el efecto de los diferentes parámetros del juego de votación en este error.",
        "Nuestro estudio muestra que el error disminuye a medida que aumenta 1. el peso de los jugadores, 2. la cuota aumenta y 3. el número de jugadores aumenta.",
        "Dado que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados.",
        "En el futuro, exploraremos el problema de determinar el valor de Shapley para otros juegos de coalición comúnmente presentes, como la economía de producción y la economía de mercado. 8.",
        "REFERENCIAS [1] R. Aumann.",
        "Puntos aceptables en juegos cooperativos n-persona en general.",
        "En Contribuciones a la Teoría de Juegos volumen IV.",
        "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, y M. Protasi.",
        "Complejidad y aproximación: Problemas de optimización combinatoria y sus propiedades de aproximabilidad.",
        "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada y J. J. Lopez.",
        "Funciones generadoras para calcular índices de poder de manera eficiente.",
        "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz y M. Regler.",
        "Técnicas de Análisis de Datos en Experimentos de Física de Altas Energías.",
        "Cambridge University Press, 1993. [5] V. Conitzer y T. Sandholm.",
        "Calculando los valores de Shapley, manipulando esquemas de división de valor y verificando la pertenencia al núcleo en dominios de múltiples problemas.",
        "En Actas de la Conferencia Nacional de Inteligencia Artificial, páginas 219-225, San José, California, 2004. [6] X. Deng y C. H. Papadimitriou.",
        "Sobre la complejidad de los conceptos de solución cooperativa.",
        "Matemáticas de la Investigación de Operaciones, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge y N. R. Jennings.",
        "Un análisis del valor de Shapley y su incertidumbre para el juego de votación.",
        "En Proc. 7th Int.",
        "Taller sobre Comercio Electrónico Mediado por Agentes, páginas 39-52, 2005. [8] A. Francis.",
        "Estadísticas de Nivel Avanzado.",
        "Stanley Thornes Publishers, 1979. [9] S. Ieong y Y. Shoham.",
        "Contribución marginal neta: Un esquema de representación compacto para juegos coalicionales.",
        "En Actas de la Sexta Conferencia de la ACM sobre Comercio Electrónico, páginas 193-202, Vancouver, Canadá, 2005. [10] S. Ieong y Y. Shoham.",
        "Juegos de coalición de múltiples atributos.",
        "En Actas de la Séptima Conferencia de la ACM sobre Comercio Electrónico, páginas 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan y A. Rapoport.",
        "Teorías de formación de coaliciones.",
        "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann y L. S. Shapley.",
        "Valores para juegos grandes iv: Evaluando el colegio electoral exactamente.",
        "Informe técnico, The RAND Corporation, Santa Mónica, 1962. [13] A. Mas-Colell, M. Whinston y J. R. Green.",
        "Teoría microeconómica.",
        "Oxford University Press, 1995. [14] M. J. Osborne y A. Rubinstein.",
        "Un curso de teoría de juegos.",
        "El MIT Press, 1994. [15] C. H. Papadimitriou.",
        "Complejidad computacional.",
        "Addison Wesley Longman, 1994. [16] A. Rapoport. \n\nAddison Wesley Longman, 1994. [16] A. Rapoport.",
        "Teoría de juegos N-personas: Conceptos y aplicaciones.",
        "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.\nDover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
        "Introducción al valor de Shapley.",
        "En A. E. Roth, editor, El valor de Shapley, páginas 1-27.",
        "Editorial de la Universidad de Cambridge, Cambridge, 1988. [18] T. Sandholm y V. Lesser.",
        "Coaliciones entre agentes limitados computacionalmente.",
        "Revista de Inteligencia Artificial, 94(1):99-137, 1997. [19] L. S. Shapley.",
        "Un valor para juegos de n personas.",
        "En A. E. Roth, editor, El valor de Shapley, páginas 31-40.",
        "Universidad de Cambridge Press, Cambridge, 1988. [20] O. Shehory y S. Kraus.",
        "Un modelo orientado al núcleo para la formación de coaliciones en entornos generales: Implementación y resultados.",
        "En Actas de la Conferencia Nacional de Inteligencia Artificial (AAAI-96), páginas 131-140, 1996. [21] O. Shehory y S. Kraus.",
        "Métodos para la asignación de tareas a través de la formación de coaliciones de agentes.",
        "Revista de Inteligencia Artificial, 101(2):165-200, 1998. [22] J. R. Taylor.",
        "Una introducción al análisis de errores: El estudio de las incertidumbres en las mediciones físicas.",
        "University Science Books, 1982. 966 La Sexta Internacional.",
        "Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07)"
    ],
    "error_count": 6,
    "keys": {
        "coalition formation": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION <br>coalition formation</br>, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of <br>coalition formation</br> and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated <br>coalition formation</br> [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK <br>coalition formation</br> is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of <br>coalition formation</br>.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent <br>coalition formation</br>.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [
                "INTRODUCTION <br>coalition formation</br>, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "In this context, cooperative game theory deals with the problem of <br>coalition formation</br> and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated <br>coalition formation</br> [20, 21, 18].",
                "CONCLUSIONS AND FUTURE WORK <br>coalition formation</br> is an important form of interaction in multiagent systems.",
                "Theories of <br>coalition formation</br>."
            ],
            "translated_annotated_samples": [
                "FORMACIÓN DE COALICIONES, una forma clave de interacción en sistemas multiagente, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13].",
                "En este contexto, la teoría de juegos cooperativos aborda el problema de la <br>formación de coaliciones</br> y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14].",
                "Dadas estas observaciones, varios investigadores de sistemas multiagentes han utilizado y ampliado soluciones cooperativas de teoría de juegos para facilitar la <br>formación automatizada de coaliciones</br> [20, 21, 18].",
                "CONCLUSIONES Y TRABAJO FUTURO La <br>formación de coaliciones</br> es una forma importante de interacción en sistemas multiagentes.",
                "Teorías de <br>formación de coaliciones</br>."
            ],
            "translated_text": "Un Método Aleatorio para el Valor de Shapley para el Juego de Votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido. El valor de Shapley es uno de los conceptos clave de solución para juegos de coalición. Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, se sabe que el problema de encontrar este valor para el juego de votación es #P-completo en el caso general. Sin embargo, en este artículo, demostramos que hay algunos juegos de votación específicos para los cuales el problema es computacionalmente manejable. Para otros juegos de votación generales, superamos el problema de la complejidad computacional presentando un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal de este método es lineal en el número de jugadores. También demostramos, a través de estudios empíricos, que el porcentaje de error para el método propuesto siempre es inferior al 20% y, en la mayoría de los casos, inferior al 5%. Categorías y Descriptores de Asignaturas I.2.11 [Inteligencia Artificial Distribuida]: Sistemas Multiagente Términos Generales Algoritmos, Diseño, Teoría 1. FORMACIÓN DE COALICIONES, una forma clave de interacción en sistemas multiagente, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13]. A menudo, en tales situaciones, hay más de una coalición posible y la recompensa de un jugador depende de cuál se una. Dado esto, un problema clave es asegurar que ninguna de las partes en una coalición tenga algún incentivo para separarse de ella y unirse a otra coalición (es decir, las coaliciones deben ser estables). Sin embargo, en muchos casos puede haber más de una solución (es decir, una coalición estable). En tales casos, se vuelve difícil seleccionar una única solución entre las posibles, especialmente si las partes están interesadas en sí mismas (es decir, tienen preferencias diferentes sobre coaliciones estables). En este contexto, la teoría de juegos cooperativos aborda el problema de la <br>formación de coaliciones</br> y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14]. La teoría de juegos cooperativos difiere de su contraparte no cooperativa en que, para la primera, a los jugadores se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor ganancia total. Además, a diferencia de la teoría de juegos no cooperativos, la teoría de juegos cooperativos no especifica un juego a través de una descripción del entorno estratégico (incluyendo el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los resultados de pagos, sino que, en cambio, reduce esta colección de datos a la forma coalicional donde cada coalición está representada por un único número real: no hay acciones, movimientos o pagos individuales. La principal ventaja de este enfoque, al menos en entornos de múltiples jugadores, es su utilidad práctica. Por lo tanto, muchas más situaciones de la vida real encajan más fácilmente en un juego de forma coalicional, cuya estructura es más manejable que la de un juego no cooperativo, ya sea en forma normal o extensiva, y es por esta razón que nos enfocamos en tales formas en este artículo. Dadas estas observaciones, varios investigadores de sistemas multiagentes han utilizado y ampliado soluciones cooperativas de teoría de juegos para facilitar la <br>formación automatizada de coaliciones</br> [20, 21, 18]. Además, en este trabajo, uno de los conceptos de solución más estudiados en profundidad es el valor de Shapley [19]. El valor de Shapley de un jugador da una indicación de sus perspectivas de jugar el juego: cuanto mayor sea el valor de Shapley, mejores serán sus perspectivas. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa (ver Sección 2.1 para una discusión de la propiedad de equidad). Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene una desventaja importante: para muchos juegos de coalición, no se puede determinar en tiempo polinómico. Por ejemplo, encontrar este valor para el juego de votación ponderada es, en general, #P-completo [6]. Un problema es #P-difícil si resolverlo es tan difícil como contar asignaciones satisfactorias de fórmulas de lógica proposicional [15, p442]. Dado que la #P-completitud subsume la NP-completitud, esto implica que calcular el valor de Shapley para el juego de votación ponderada será intratable en general. En otras palabras, es prácticamente inviable intentar calcular el valor de Shapley exacto. Sin embargo, el juego de votación tiene relevancia práctica para los sistemas multiagente, ya que es un medio importante para llegar a un consenso entre múltiples agentes. Por lo tanto, nuestro objetivo es superar la complejidad computacional de encontrar el valor de Shapley para este juego. Específicamente, primero demostramos que hay algunos juegos de votación específicos para los cuales el valor exacto se puede calcular en tiempo polinómico. Al identificar dichos juegos, mostramos, por primera vez, cuándo es factible encontrar el valor exacto y cuándo no lo es. Para los juegos de votación computacionalmente complejos, presentamos un nuevo método aleatorizado, siguiendo la línea de la simulación de Monte Carlo, para calcular el valor de Shapley aproximado. La complejidad computacional de este tipo de juegos suele abordarse mediante dos enfoques principales. El primero es usar funciones generadoras [3]. Este método intercambia complejidad temporal por espacio de almacenamiento. El segundo utiliza una técnica de aproximación basada en la simulación de Monte Carlo [12, 7]. Sin embargo, el método que proponemos es más general que cualquiera de estos (ver Sección 6 para más detalles). Además, ningún trabajo ha analizado previamente el error de aproximación. El error de aproximación se refiere a qué tan cerca está la aproximación del valor de Shapley real. Específicamente, es la diferencia entre el valor de Shapley real y el aproximado. Es importante determinar este error porque el rendimiento de un método de aproximación se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. Por lo tanto, nuestra contribución radica también en proporcionar, por primera vez, un análisis del error porcentual en el valor aproximado de Shapley. Este análisis se realiza de manera empírica. Nuestros experimentos muestran que el error siempre es menor al 20%, y en la mayoría de los casos es inferior al 5%. Finalmente, nuestro método tiene complejidad temporal lineal en el número de jugadores y no requiere ningún arreglo (es decir, es económico en términos tanto de tiempo de computación como de espacio de almacenamiento). Dado esto, y el hecho de que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. El resto del documento está organizado de la siguiente manera. La sección 2 define el valor de Shapley y describe el juego de votación ponderada. En la Sección 3 describimos juegos de votación cuyo valor de Shapley se puede encontrar en tiempo polinómico. En la Sección 4, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y analizamos su rendimiento en la Sección 5. La sección 6 discute la literatura relacionada. Finalmente, la Sección 7 concluye. 2. FONDO Comenzamos presentando los juegos de coalición y el valor de Shapley, y luego definimos el juego de votación ponderada. Un juego de coalición es un juego en el que grupos de jugadores (coaliciones) pueden promover un comportamiento cooperativo entre sus miembros. Por lo tanto, el juego es una competencia entre coaliciones de jugadores, en lugar de entre jugadores individuales. Dependiendo de cómo los jugadores midan la utilidad, la teoría de juegos de coalición se divide en dos partes. Si los jugadores miden la utilidad o la ganancia en las mismas unidades y hay un medio de intercambio de utilidad como pagos laterales, decimos que el juego tiene utilidad transferible; de lo contrario, tiene utilidad no transferible. Más formalmente, un juego de coalición con utilidad transferible, N, v, consiste en: 1. un conjunto finito (N = {1, 2, . . . , n}) de jugadores y 2. una función (v) que asocia a cada subconjunto no vacío S de N (es decir, una coalición) un número real v(S) (el valor de S). Para cada coalición S, el número v(S) es la ganancia total disponible para ser dividida entre los miembros de S (es decir, el conjunto de acciones conjuntas que la coalición S puede tomar consiste en todas las posibles divisiones de v(S) entre los miembros de S). Los juegos de coalición con pagos no transferibles difieren de los que tienen pagos transferibles de la siguiente manera. Para lo primero, cada coalición está asociada con un conjunto de vectores de pago que no necesariamente es el conjunto de todas las posibles divisiones de una cantidad fija. El enfoque de este documento se centra en el juego de votación ponderada (descrito en la Sección 2.1), que es un juego con pagos transferibles. Por lo tanto, en ambos casos, los jugadores solo se unirán a una coalición si esperan beneficiarse de ella. Aquí, a los jugadores se les permite formar acuerdos vinculantes, por lo que hay un fuerte incentivo para trabajar juntos y recibir la mayor ganancia total. El problema entonces es cómo dividir el pago total entre o entre los jugadores. En este contexto, Shapley [19] construyó una solución utilizando un enfoque axiomático. Shapley definió un valor para los juegos como una función que asigna a un juego (N, v), un número ϕi(N, v) para cada i en N. Esta función satisface tres axiomas [17]: 1. Simetría. Este axioma requiere que los nombres de los jugadores no jueguen ningún papel en la determinación del valor. 2. Portador. Este axioma requiere que la suma de ϕi(N, v) para todos los jugadores i en cualquier portador C sea igual a v(C). Un portador C es un subconjunto de N tal que v(S) = v(S ∩ C) para cualquier subconjunto de jugadores S ⊂ N. Aditividad. Este axioma especifica cómo deben relacionarse los valores de diferentes juegos entre sí. Se requiere que para cualquier juego ϕi(N, v) y ϕi(N, v), ϕi(N, v) + ϕi(N, v) = ϕi(N, v + v) para todo i en N. Shapley demostró que hay una función única que satisface estos tres axiomas. Shapley consideraba este valor como un índice para medir el poder de los jugadores en un juego. Al igual que un índice de precios u otros índices de mercado, el valor utiliza promedios (o promedios ponderados en algunas de sus generalizaciones) para agregar el poder de los jugadores en sus diversas oportunidades de cooperación. Alternativamente, se puede pensar en el valor de Shapley como una medida de la utilidad de jugadores neutrales al riesgo en un juego. Primero introducimos algunas notaciones y luego definimos el valor de Shapley. Sea S el conjunto N − {i} y fi : S → 2N−{i} una variable aleatoria que toma sus valores en el conjunto de todos los subconjuntos de N − {i}, y tiene la función de distribución de probabilidad (g) definida como: g(fi(S) = S) = |S|! (n − |S| − 1)! n! La variable aleatoria fi se interpreta como la elección aleatoria de una coalición a la que se une el jugador i. Entonces, el valor de Shapley de un jugador se define en términos de su contribución marginal. Por lo tanto, la contribución marginal del jugador i a la coalición S con i /∈ S es una función Δiv que se define de la siguiente manera: Δiv(S) = v(S ∪ {i}) − v(S). Así, la contribución marginal de un jugador a una coalición S es el aumento en el valor de S como resultado de que i se una a ella. DEFINICIÓN 1. El valor de Shapley (ϕi) del juego N, v para el jugador i es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar: ϕi(N, v) = E[Δiv ◦ fi] (1). El valor de Shapley se interpreta de la siguiente manera. Supongamos que todos los jugadores están dispuestos en algún orden, siendo todas las disposiciones igualmente probables. Entonces ϕi(N, v) es la contribución marginal esperada, sobre todas las ordenaciones, del jugador i al conjunto de jugadores que le preceden. El método para encontrar el valor de Shapley de un jugador depende de la definición de la función de valor (v). Esta función es diferente para diferentes juegos, pero aquí nos enfocamos específicamente en el juego de votación ponderada por las razones descritas en la Sección 1.960 de la Sexta Conferencia Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 2.1 El juego de votación ponderada Adoptamos la definición del juego de votación dada en [6]. Por lo tanto, hay un conjunto de n jugadores que pueden, por ejemplo, representar accionistas en una empresa o miembros en un parlamento. El juego de votación ponderada es entonces un juego G = N, v en el que: v(S) = j 1 si w(S) ≥ q 0 en caso contrario para algún q ∈ IR+ y wi ∈ IRN + , donde: w(S) = X i∈S wi para cualquier coalición S. Así, wi es el número de votos que tiene el jugador i y q es el número de votos necesarios para ganar el juego (es decir, la cuota). Ten en cuenta que para este juego (denotado q; w1, . . . , wn), la contribución marginal de un jugador es cero o uno. Esto se debe a que el valor de cualquier coalición es cero o uno. Una coalición con valor cero se llama una coalición perdedora y con valor uno una coalición ganadora. Si la entrada de un jugador a una coalición cambia de perder a ganar, entonces la contribución marginal del jugador para esa coalición es uno; de lo contrario, es cero. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. La propiedad de la unicidad es deseable porque no deja lugar a ambigüedades. La propiedad de equidad se relaciona con cómo se dividen las ganancias de la cooperación entre los miembros de una coalición. En este caso, el valor de Shapley de un jugador es proporcional a la contribución que realiza como miembro de una coalición; cuanto mayor sea su contribución, mayor será su valor. Por lo tanto, desde la perspectiva de un jugador, tanto la singularidad como la equidad son propiedades deseables. 3. JUEGOS DE VOTACIÓN CON SOLUCIONES EN TIEMPO POLINOMIAL Aquí describimos aquellos juegos de votación para los cuales el valor de Shapley puede ser determinado en tiempo polinomial. Esto se logra utilizando el enfoque de enumeración directa (es decir, enumerando todas las posibles coaliciones y encontrando la contribución marginal de un jugador a cada una de ellas). Caracterizamos dichos juegos en términos del número de jugadores y sus pesos. 3.1 Todos los jugadores tienen el mismo peso. Consideremos el juego q; j, . . . , j con m participantes. Cada partido tiene j votos. Si q ≤ j, entonces no habría necesidad de que los jugadores formen una coalición. Por otro lado, si q = mj (m = |N| es el número de jugadores), solo la gran coalición es posible. Los juegos interesantes son aquellos para los cuales la cuota (q) satisface la restricción: (j + 1) ≤ q ≤ j(m − 1). Para estos juegos, el valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕ denote el valor de Shapley para un jugador. Considera a cualquier jugador. Este jugador puede unirse a una coalición como el miembro i-ésimo donde 1 ≤ i ≤ m. Sin embargo, la contribución marginal del jugador es de 1 solo si se une a una coalición como el miembro q/j-ésimo. En todos los demás casos, su contribución marginal es cero. Por lo tanto, el valor de Shapley para cada jugador ϕ = 1/m. Dado que ϕ requiere una operación de división, se puede encontrar en tiempo constante (es decir, O(1)). 3.2 Una sola gran fiesta Considera un juego en el que hay dos tipos de jugadores: grandes (con peso wl > ws) y pequeños (con peso ws). Hay un jugador grande y m pequeños. La cuota para este juego es q; es decir, tenemos un juego de la forma q; wl, ws, ws, . . . , ws. El número total de jugadores es (m + 1). El valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕl denote el valor de Shapley para el jugador grande y ϕs para cada jugador pequeño. Primero consideramos ws = 1 y luego ws > 1. El valor más pequeño posible para q es wl + 1. Esto se debe a que, si q ≤ wl, entonces el partido grande puede ganar las elecciones por sí solo sin necesidad de formar una coalición. Por lo tanto, la cuota para el juego satisface la restricción wl + 1 ≤ q ≤ m + wl − 1. Además, los límites inferior y superior para wl son 2 y (q − 1) respectivamente. El límite inferior es 2 porque el peso de la gran fiesta tiene que ser mayor que cada uno de los pequeños. Además, el peso del gran partido no puede ser mayor que q, ya que en ese caso, no habría necesidad de que el gran partido forme una coalición. Recuerda que para nuestro juego de votación, la contribución marginal de un jugador a una coalición solo puede ser cero o uno. Considera la gran fiesta. Este partido puede unirse a una coalición como el i-ésimo miembro donde 1 ≤ i ≤ (m + 1). Sin embargo, la contribución marginal del partido grande es uno si se une a una coalición como el miembro i-ésimo donde (q − wl) ≤ i < q. En todos los casos restantes, su contribución marginal es cero. Por lo tanto, de los casos totales posibles (m + 1), su contribución marginal es de uno en wl casos. Por lo tanto, el valor de Shapley del partido grande es: ϕl = wl/(m + 1). De la misma manera, obtenemos el valor de Shapley del gran partido para el caso general donde ws > 1 como: ϕl = wl/ws /(m + 1). Ahora consideremos a un jugador pequeño. Sabemos que la suma de los valores de Shapley de todos los m+1 jugadores es uno. Además, dado que los partidos pequeños tienen el mismo peso, sus valores de Shapley son iguales. Por lo tanto, obtenemos: ϕs = 1 − ϕl m. Por lo tanto, tanto ϕl como ϕs se pueden calcular en tiempo constante. Esto se debe a que ambos requieren un número constante de operaciones básicas (suma, resta, multiplicación y división). De la misma manera, el valor de Shapley para un juego de votación con un único partido grande y múltiples partidos pequeños puede determinarse en tiempo constante. 3.3 Múltiples partidos grandes y pequeños Ahora consideramos un juego de votación que tiene dos tipos de jugadores: grandes y pequeños (como en la Sección 3.2), pero ahora hay múltiples partidos grandes y múltiples partidos pequeños. El conjunto de partidos consiste en ml partidos grandes y ms partidos pequeños. El peso de cada fiesta grande es wl y el de cada fiesta pequeña es ws, donde ws < wl. Mostramos la factibilidad computacional de este juego considerando los siguientes cuatro posibles escenarios: S1 q ≤ mlwl y q ≤ msws S2 q ≤ mlwl y q ≥ msws S3 q ≥ mlwl y q ≥ msws S4 q ≥ mlwl y q ≤ msws Para el primer escenario, considera un jugador grande. Para determinar el valor de Shapley para este jugador, necesitamos considerar el número de todas las posibles coaliciones que le otorgan una contribución marginal de uno. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores grandes está entre cero y (q −1)/wl. En otras palabras, hay (q −1)/wl +1 casos de este tipo y ahora consideramos cada uno de ellos. El Sexto Internacional. Considera una coalición tal que cuando el jugador grande se une, hay i jugadores grandes y (q − iwl − 1)/ws jugadores pequeños ya en ella, y los jugadores restantes se unen después del jugador grande. Una coalición de este tipo otorga una contribución marginal a la unidad de jugador grande. Que C2 l (i, q) denote el número de todas esas coaliciones. Para empezar, considera el caso i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « donde C(y, x) denota el número de posibles combinaciones de x elementos de un conjunto de y elementos. Para i = 1, obtenemos: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « En general, para i > 1, obtenemos: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Por lo tanto, el valor de Shapley de los jugadores grandes es: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) Para un i dado, el tiempo para encontrar C2 l (i, q) es O(T) donde T = (mlms(q − iwl − 1)(ml + ms))/ws Por lo tanto, el tiempo para encontrar el valor de Shapley es O(T q/wl). De la misma manera, el valor de Shapley de un jugador pequeño es: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) y puede encontrarse en tiempo O(T q/ws). Asimismo, se puede demostrar que los tres escenarios restantes (S2 a S4) tienen la misma complejidad temporal. 3.4 Tres tipos de jugadores Ahora consideramos un juego de votación que tiene tres tipos de jugadores: 1, 2 y 3. El conjunto de fiestas consiste en m1 jugadores de tipo 1 (cada uno con peso w1), m2 jugadores de tipo 2 (cada uno con peso w2) y m3 jugadores de tipo 3 (cada uno con peso w3). Para este juego de votación, considera a un jugador de tipo 1. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores de tipo 1 está entre cero y (q − 1)/w1. En otras palabras, hay (q − 1)/w1 + 1 casos de este tipo y ahora consideramos cada uno de ellos. Considera una coalición tal que cuando el jugador de tipo 1 se une, ya hay i jugadores de tipo 1 en ella. Los jugadores restantes se unen después del jugador de tipo 1. Que C3 l (i, q) denote el número de todas las coaliciones que dan una contribución marginal de uno al jugador de tipo 1 donde: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Por lo tanto, el valor de Shapley del jugador de tipo 1 es: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) La complejidad temporal de encontrar este valor es O(T q2 /w1w2) donde: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Del mismo modo, para los otros dos tipos de jugadores (2 y 3). Por lo tanto, hemos identificado juegos para los cuales el valor de Shapley exacto puede determinarse fácilmente. Sin embargo, la complejidad computacional del método de enumeración directa anterior aumenta con el número de tipos de jugadores. Para un juego de votación con más de tres tipos de jugadores, la complejidad temporal del método anterior es un polinomio de grado cuatro o superior. Para hacer frente a tales situaciones, por lo tanto, la siguiente sección presenta un método aleatorio más rápido para encontrar el valor de Shapley aproximado. 4. ENCONTRANDO EL VALOR DE SHAPLEY APROXIMADO Primero damos una breve introducción a los algoritmos aleatorizados y luego presentamos nuestro método aleatorizado para encontrar el valor de Shapley aproximado. Los algoritmos aleatorizados son el enfoque más comúnmente utilizado para encontrar soluciones aproximadas a problemas computacionalmente difíciles. Un algoritmo aleatorizado es un algoritmo que, durante algunas de sus etapas, realiza elecciones al azar [2]. Los pasos aleatorios realizados por el algoritmo implican que al ejecutar el algoritmo varias veces con la misma entrada no estamos garantizados de encontrar la misma solución. Ahora, dado que dichos algoritmos generan soluciones aproximadas, su rendimiento se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. El error de aproximación se refiere a la diferencia entre la solución exacta y su aproximación. En este contexto, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y evaluamos empíricamente su error. Primero describimos el juego de votación general y luego presentamos nuestro algoritmo aleatorio. En su forma general, un juego de votación tiene más de dos tipos de jugadores. Que w_i denote el peso del jugador i. Por lo tanto, para m jugadores y para la cuota q, el juego es de la forma q; w1, w2, . . . , wm. Los pesos están especificados en términos de una función de distribución de probabilidad. Para un juego como este, queremos encontrar el valor aproximado de Shapley. Dejamos que P denote una población de jugadores. Los pesos de los jugadores en esta población están definidos por una función de distribución de probabilidad. Independientemente de la función de distribución de probabilidad real, sea μ la media del peso para la población de jugadores y ν la varianza en los pesos de los jugadores. De esta población de jugadores extraemos muestras al azar y encontramos la suma de los pesos de los jugadores en la muestra utilizando la siguiente regla de la Teoría del Muestreo (ver [8] p425): Si w1, w2, . . . , wn es una muestra aleatoria de tamaño n extraída de cualquier distribución con media μ y varianza ν, entonces la suma de la muestra tiene una distribución Normal aproximada con media nμ y varianza ν n (cuanto mayor sea n, mejor será la aproximación). 962 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Población de jugadores μ: Peso medio de la población P ν: Varianza en los pesos para la población P q: Cuota para el juego de votación wi: Peso del jugador 1. Ti ← 0; a ← q − wi; b ← q − 2. \n\nTi ← 0; a ← q - wi; b ← q - 2. Para X de 1 a m, repetir lo siguiente 2.1. Selecciona una muestra aleatoria SX de tamaño X de la población P 2.2. Evaluar la contribución marginal esperada (ΔX i ) del jugador i a SX como: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3. Ti ← Ti + ΔX i 3. \n\nTi ← Ti + ΔX i 3. Evaluar el valor de Shapley del jugador i como: ϕi ← Ti/m Tabla 1: Algoritmo aleatorizado para encontrar el valor de Shapley para el jugador i. Sabemos, a partir de la Definición 1, que el valor de Shapley para un jugador es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar. Utilizamos esta regla para determinar el valor de Shapley de la siguiente manera. Para el jugador i con peso wi, dejemos que ϕi denote el valor de Shapley. Que X denote el tamaño de una muestra aleatoria extraída de una población en la que los pesos de los jugadores individuales tienen cualquier distribución. La contribución marginal del jugador i a esta muestra aleatoria es uno si el peso total de los jugadores X en la muestra es mayor o igual a a = q - wi pero menor que b = q - (donde es una cantidad infinitesimalmente pequeña). De lo contrario, su contribución marginal es cero. Por lo tanto, la contribución marginal esperada del jugador i (denotada como ΔX i ) a la coalición de muestra es el área bajo la curva definida por N(Xμ, ν X ) en el intervalo [a, b]. Esta área se muestra como la región B en la Figura 1 (la línea punteada en la figura es Xμ). Por lo tanto, obtenemos: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) y el valor de Shapley es: ϕi = 1 m mX X=1 ΔX i (3). Los pasos anteriores se describen en la Tabla 1. Con más detalle, el Paso 1 realiza la inicialización. En el Paso 2, variamos X entre 1 y m y repetidamente hacemos lo siguiente. En el Paso 2.1, seleccionamos aleatoriamente una muestra SX de tamaño X de la población P. La contribución marginal del jugador a la coalición aleatoria SX se encuentra en el Paso 2.2. El promedio de la contribución marginal se encuentra en el Paso 3, y este es el valor de Shapley para el jugador i. TEOREMA 1. La complejidad temporal del método aleatorio propuesto es lineal en el número de jugadores. PRUEBA. Según la Ecuación 3, ΔX i debe ser calculado m veces. Esto se hace en el bucle for del Paso 2 en la Tabla 1. Por lo tanto, la complejidad temporal de calcular el valor de Shapley de un jugador es O(m). La siguiente sección analiza el error de aproximación para el método propuesto. 5. RENDIMIENTO DEL MÉTODO ALEATORIO Primero derivamos la fórmula para medir el error en el valor de Shapley aproximado y luego realizamos experimentos para evaluar este error en una amplia gama de configuraciones. Sin embargo, antes de hacerlo, introducimos la idea del error. El concepto de error se relaciona con una medición realizada de una cantidad que tiene un valor aceptado [22, 4]. Obviamente, no se puede determinar exactamente cuán lejos está una medición del valor aceptado; si esto fuera posible, sería factible simplemente proporcionar un valor corregido más preciso. Por lo tanto, el error tiene que ver con la incertidumbre en las mediciones sobre la que no se puede hacer nada. Si se repite una medición, los valores obtenidos serán diferentes y ninguno de los resultados puede ser preferido sobre los demás. Sin embargo, aunque no sea posible hacer nada al respecto de tal error, sí se puede caracterizar. Como se describe en la Sección 4, realizamos mediciones en muestras que se extraen al azar de una población dada (P) de jugadores. Ahora, existen errores estadísticos asociados con el muestreo que son inevitables y deben ser aceptados. Por lo tanto, si el resultado de una medición va a tener significado, no puede consistir únicamente en el valor medido. También se debe incluir una indicación de cuán precisa es el resultado. Por lo tanto, el resultado de cualquier medición física tiene dos componentes esenciales: 1. un valor numérico que proporciona la mejor estimación posible de la cantidad medida, y 2. el grado de incertidumbre asociado con este valor estimado. Por ejemplo, si la estimación de una cantidad es x y la incertidumbre es e(x), la cantidad estaría en x ± e(x). Para experimentos de muestreo, el error estándar es, con mucho, la forma más común de caracterizar la incertidumbre [22]. Dado esto, la siguiente sección define este error y lo utiliza para evaluar el rendimiento del método aleatorio propuesto. 5.1 Error de aproximación La precisión del método aleatorio anterior depende de su error de muestreo, el cual se define de la siguiente manera [22, 4]: DEFINICIÓN 2. El error de muestreo (o error estándar) se define como la desviación estándar de un conjunto de mediciones dividida por la raíz cuadrada del número de mediciones. Con este fin, sea e(σX) el error de muestreo en la suma de los pesos para una muestra de tamaño X extraída de la distribución N(Xμ, νX) donde: e(σX) = p(ν/X) / p(X) = p(ν) / X (4). Sea e(ΔXi) el error en la contribución marginal para el jugador i (dado en la Ecuación 2). Este error se obtiene propagando el error en la Ecuación 4 a la Ecuación 2. En la Ecuación 2, a y b son los límites inferior y superior para la suma de los pesos de los jugadores para The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Suma de pesos Z1 Z2 Figura 1: Una distribución normal para la suma de los pesos de los jugadores en una coalición de tamaño X. 40 60 80 100 0 50 100 0 5 10 15 20 25 Peso de cuota Porcentaje de error en el valor de Shapley Figura 2: Rendimiento del método aleatorio para m = 10 jugadores en una coalición de tamaño X. Dado que el error en esta suma es e(σX), los valores reales de a y b se encuentran en el intervalo a ± e(σX) y b ± e(σX) respectivamente. Por lo tanto, el error en la Ecuación 2 es la probabilidad de que la suma se encuentre entre los límites a - e(σX) y a (es decir, el área bajo la curva definida por N(Xμ, ν X) entre a - e(σX) y a, que es la región sombreada A en la Figura 1) o la probabilidad de que la suma de los pesos se encuentre entre los límites b y b+e(σX) (es decir, el área bajo la curva definida por N(Xμ, ν X) entre b y b + e(σX), que es la región sombreada C en la Figura 1). Más específicamente, el error es el máximo de estas dos probabilidades: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « Con base en el error anterior, encontramos el error en el valor de Shapley utilizando las siguientes reglas estándar de propagación de errores [22]: R1 Si x e y son dos variables aleatorias con errores e(x) y e(y) respectivamente, entonces el error en la variable aleatoria z = x + y se da por: e(z) = e(x) + e(y) R2 Si x es una variable aleatoria con error e(x) y z = kx donde 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 CuotaPeso Porcentajeerror en el valor de Shapley Figura 3: Rendimiento del método aleatorizado para m = 50 jugadores. la constante k no tiene error, entonces el error en z es: e(z) = |k|e(x) Utilizando las reglas anteriores, el error en el valor de Shapley (dado en la Ecuación 3) se obtiene propagando el error en la Ecuación 4 a todas las coaliciones entre los tamaños X = 1 y X = m. Sea e(ϕi) este error donde: e(ϕi) = 1 m mX X=1 e(ΔX i ) Analizamos el rendimiento de nuestro método en términos del porcentaje de error PE en el valor de Shapley aproximado, que se define de la siguiente manera: PE = 100 × e(ϕi)/ϕi (5) 5.2 Resultados Experimentales Ahora calculamos el porcentaje de error en el valor de Shapley utilizando la ecuación anterior para PE. Dado que este error depende de los parámetros del juego de votación, lo evaluamos en una variedad de configuraciones al variar sistemáticamente los parámetros del juego de votación. En particular, realizamos experimentos en el siguiente entorno. Para un jugador con peso w, el error porcentual en el valor de Shapley de un jugador depende de los siguientes cinco parámetros (ver Ecuación 3): 1. El número de fiestas (m). 2. El peso medio (μ). 3. La varianza en los pesos de los jugadores (ν). 4. La cuota para el juego de votación (q) es de 5. El peso de los jugadores dados (w). Fijamos μ = 10 y ν = 1. Esto se debe a que, para la distribución normal, μ = 10 asegura que para casi todos los jugadores el peso es positivo, y ν = 1 se utiliza con mayor frecuencia en experimentos estadísticos (ν puede ser mayor o menor pero PE aumenta en ν, ver Ecuaciones 4 y 5). Luego variamos m, q y w de la siguiente manera. Variamos m entre 5 y 100 (ya que más allá de 100 encontramos que el error es cercano a cero), para cada m variamos q entre 4μ y mμ (imponemos estos límites porque aseguran que el tamaño del 964 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 Peso de la cuota Porcentaje de error en el valor de Shapley Figura 4: Rendimiento del método aleatorio para m = 100 jugadores. La coalición ganadora es más de uno y menos que m - ver la Sección 3 para más detalles), y para cada q, variamos w entre 1 y q−1 (porque una coalición ganadora debe contener al menos dos jugadores). Los resultados de estos experimentos se muestran en las Figuras 2, 3 y 4. Como se observa en las figuras, la PE máxima es alrededor del 20% y en la mayoría de los casos es inferior al 5%. Ahora analizamos el efecto de los tres parámetros: w, q y m en el error porcentual con más detalle. - Efecto de w. El EP depende de e(σX) porque, en la Ecuación 5, los límites de integración dependen de e(σX). El intervalo sobre el cual se realiza la primera integración en la Ecuación 5 es a − a + e(σX) = e(σX), y el intervalo sobre el cual se realiza la segunda es b + e(σX) − b = e(σX). Por lo tanto, el intervalo es el mismo para ambas integraciones y es independiente de wi. Ten en cuenta que cada una de las dos funciones que se integran en la Ecuación 5 son iguales a la función que se integra en la Ecuación 2. Solo los límites de la integración son diferentes. Además, el intervalo sobre el cual se realiza la integración para la contribución marginal de la Ecuación 2 es b − a = wi − (ver Figura 1). El error en la contribución marginal es el área de la región sombreada A (entre a − e(σX ) y a) en la Figura 1, o el área sombreada C (entre b y b + e(σX )). Según la Ecuación 5, es el máximo de estas dos áreas. Dado que e(σX) es independiente de wi, a medida que wi aumenta, e(σX) permanece invariable. Sin embargo, el área de la región no sombreada B aumenta. Por lo tanto, a medida que wi aumenta, el error en la contribución marginal disminuye y PE también disminuye. - Efecto de q. Para un q dado, el valor de Shapley para el jugador i es el que se indica en la Ecuación 3. Sabemos que, para una muestra de tamaño X, la suma de los pesos de los jugadores se distribuye normalmente con media Xμ y varianza ν/X. Dado que el 99% de una distribución normal se encuentra dentro de dos desviaciones estándar de su media [8], la contribución marginal de un jugador a una muestra de tamaño X es casi cero si: a < Xμ + 2 p ν/X o b > Xμ − 2 p ν/X. Esto se debe a que las tres regiones A, B y C (en la Figura 1) se encuentran ya sea a la derecha de Z2 o a la izquierda de Z1. Sin embargo, la contribución marginal del jugador es mayor que cero para aquellos X para los cuales se satisface la siguiente restricción: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X. Para esta restricción, las tres regiones A, B y C se encuentran en algún lugar entre Z1 y Z2. Dado que a = q −wi y b = q −, la Ecuación 6 también se puede escribir como: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X. El valor más pequeño de X que satisface la restricción en la Ecuación 6 aumenta estrictamente con q. A medida que X aumenta, el error en la suma de pesos en una muestra (es decir, e(σX) = p(ν)/X) disminuye. Por consiguiente, el error en la contribución marginal de un jugador (ver Ecuación 5) también disminuye. Esto implica que a medida que q aumenta, el error en la contribución marginal (y consecuentemente el error en el valor de Shapley) disminuye. - Efecto de m. Es claro a partir de la Ecuación 4 que el error e(σX) es mayor para X = 1 y disminuye con X. Por lo tanto, para valores pequeños de m, e(σ1) tiene un efecto significativo en PE. Pero a medida que m aumenta, el efecto de e(σ1) en PE disminuye y, como resultado, PE disminuye. TRABAJO RELACIONADO Para superar la complejidad computacional de encontrar el valor de Shapley, se han propuesto dos enfoques principales en la literatura. Un enfoque es utilizar funciones generadoras [3]. Este método es un procedimiento exacto que supera el problema de la complejidad temporal, pero sus requisitos de almacenamiento son sustanciales, ya que requiere matrices enormes. También tiene la limitación (no compartida por otros enfoques) de que solo se puede aplicar a juegos con pesos y cuotas enteras. El otro método utiliza una técnica de aproximación basada en la simulación de Monte Carlo. En [12], por ejemplo, el valor de Shapley se calcula considerando una muestra aleatoria de una gran población de jugadores. El método que proponemos difiere de esto en que ellos definen el valor de Shapley tratando el número de turnos de un jugador (si un jugador puede cambiar una coalición perdedora a una ganadora, entonces, para el jugador, la coalición se cuenta como un turno) como una variable aleatoria, mientras que nosotros tratamos los pesos de los jugadores como variables aleatorias. En [12], sin embargo, la pregunta sigue siendo cómo obtener el número de rondas a partir de la definición de un juego de votación y cuál es la complejidad temporal de hacer esto. Dado que el juego de votación se define en función de los pesos de los jugadores y el número de votos se obtiene a partir de estos pesos, nuestro método se corresponde más estrechamente con la definición del juego de votación. Nuestro método también difiere de [7] en que mientras [7] presenta un método para el caso en el que todos los pesos de los jugadores están distribuidos normalmente, nuestro método se aplica a cualquier tipo de distribución para estos pesos. Por lo tanto, como se indica en la Sección 1, nuestro método es más general que [3, 12, 7]. Además, a diferencia de todo el trabajo mencionado anteriormente, proporcionamos un análisis del rendimiento de nuestro método en términos del error porcentual en el valor de Shapley aproximado. Un método para encontrar el valor de Shapley también fue propuesto en [5]. Este método proporciona el valor de Shapley exacto, pero su complejidad temporal es exponencial. Además, el método solo se puede utilizar si el juego está representado en una forma específica (es decir, la representación de múltiples problemas), de lo contrario no. Finalmente, [9, 10] presentan un método de tiempo polinómico para encontrar el valor de Shapley. Este método se puede utilizar si el juego de coalición se representa como una red de contribución marginal. Además, asumen que el valor de Shapley de un componente de un juego de coalición dado es proporcionado por un oráculo, y en base a esta suposición agregan estos valores para encontrar el valor del juego en general. Por el contrario, nuestro método es independiente de The Sixth Intl. La Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 965 de la representación y proporciona un valor de Shapley aproximado en tiempo lineal, sin necesidad de un oráculo. 7. CONCLUSIONES Y TRABAJO FUTURO La <br>formación de coaliciones</br> es una forma importante de interacción en sistemas multiagentes. Un tema importante en este tipo de trabajo es que los agentes decidan cómo dividir las ganancias de la cooperación entre los miembros de una coalición. En este contexto, la teoría de juegos cooperativos ofrece un concepto de solución llamado el valor de Shapley. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. Sin embargo, su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, el problema de encontrar este valor para el juego de votación es #P-completo. Aunque este problema es, en general, #P-completo, demostramos que hay algunos juegos de votación específicos para los cuales el valor de Shapley puede determinarse en tiempo polinómico y caracterizamos dichos juegos. Al hacerlo, hemos demostrado cuándo es computacionalmente factible encontrar el valor de Shapley exacto. Para otros juegos de votación complejos, presentamos un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal del método propuesto es lineal en el número de jugadores. Analizamos el rendimiento de este método en términos del error porcentual en el valor de Shapley aproximado. Nuestros experimentos muestran que el error porcentual en el valor de Shapley es como máximo del 20%. Además, en la mayoría de los casos, el error es menor al 5%. Finalmente, analizamos el efecto de los diferentes parámetros del juego de votación en este error. Nuestro estudio muestra que el error disminuye a medida que aumenta 1. el peso de los jugadores, 2. la cuota aumenta y 3. el número de jugadores aumenta. Dado que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. En el futuro, exploraremos el problema de determinar el valor de Shapley para otros juegos de coalición comúnmente presentes, como la economía de producción y la economía de mercado. 8. REFERENCIAS [1] R. Aumann. Puntos aceptables en juegos cooperativos n-persona en general. En Contribuciones a la Teoría de Juegos volumen IV. Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, y M. Protasi. Complejidad y aproximación: Problemas de optimización combinatoria y sus propiedades de aproximabilidad. Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada y J. J. Lopez. Funciones generadoras para calcular índices de poder de manera eficiente. Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz y M. Regler. Técnicas de Análisis de Datos en Experimentos de Física de Altas Energías. Cambridge University Press, 1993. [5] V. Conitzer y T. Sandholm. Calculando los valores de Shapley, manipulando esquemas de división de valor y verificando la pertenencia al núcleo en dominios de múltiples problemas. En Actas de la Conferencia Nacional de Inteligencia Artificial, páginas 219-225, San José, California, 2004. [6] X. Deng y C. H. Papadimitriou. Sobre la complejidad de los conceptos de solución cooperativa. Matemáticas de la Investigación de Operaciones, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge y N. R. Jennings. Un análisis del valor de Shapley y su incertidumbre para el juego de votación. En Proc. 7th Int. Taller sobre Comercio Electrónico Mediado por Agentes, páginas 39-52, 2005. [8] A. Francis. Estadísticas de Nivel Avanzado. Stanley Thornes Publishers, 1979. [9] S. Ieong y Y. Shoham. Contribución marginal neta: Un esquema de representación compacto para juegos coalicionales. En Actas de la Sexta Conferencia de la ACM sobre Comercio Electrónico, páginas 193-202, Vancouver, Canadá, 2005. [10] S. Ieong y Y. Shoham. Juegos de coalición de múltiples atributos. En Actas de la Séptima Conferencia de la ACM sobre Comercio Electrónico, páginas 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan y A. Rapoport. Teorías de <br>formación de coaliciones</br>. ",
            "candidates": [],
            "error": [
                [
                    "formación de coaliciones",
                    "formación automatizada de coaliciones",
                    "formación de coaliciones",
                    "formación de coaliciones"
                ]
            ]
        },
        "interaction": {
            "translated_key": "interacción",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of <br>interaction</br> in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of <br>interaction</br> in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [
                "INTRODUCTION Coalition formation, a key form of <br>interaction</br> in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of <br>interaction</br> in multiagent systems."
            ],
            "translated_annotated_samples": [
                "FORMACIÓN DE COALICIONES, una forma clave de <br>interacción</br> en sistemas multiagente, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13].",
                "CONCLUSIONES Y TRABAJO FUTURO La formación de coaliciones es una forma importante de <br>interacción</br> en sistemas multiagentes."
            ],
            "translated_text": "Un Método Aleatorio para el Valor de Shapley para el Juego de Votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido. El valor de Shapley es uno de los conceptos clave de solución para juegos de coalición. Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, se sabe que el problema de encontrar este valor para el juego de votación es #P-completo en el caso general. Sin embargo, en este artículo, demostramos que hay algunos juegos de votación específicos para los cuales el problema es computacionalmente manejable. Para otros juegos de votación generales, superamos el problema de la complejidad computacional presentando un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal de este método es lineal en el número de jugadores. También demostramos, a través de estudios empíricos, que el porcentaje de error para el método propuesto siempre es inferior al 20% y, en la mayoría de los casos, inferior al 5%. Categorías y Descriptores de Asignaturas I.2.11 [Inteligencia Artificial Distribuida]: Sistemas Multiagente Términos Generales Algoritmos, Diseño, Teoría 1. FORMACIÓN DE COALICIONES, una forma clave de <br>interacción</br> en sistemas multiagente, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13]. A menudo, en tales situaciones, hay más de una coalición posible y la recompensa de un jugador depende de cuál se una. Dado esto, un problema clave es asegurar que ninguna de las partes en una coalición tenga algún incentivo para separarse de ella y unirse a otra coalición (es decir, las coaliciones deben ser estables). Sin embargo, en muchos casos puede haber más de una solución (es decir, una coalición estable). En tales casos, se vuelve difícil seleccionar una única solución entre las posibles, especialmente si las partes están interesadas en sí mismas (es decir, tienen preferencias diferentes sobre coaliciones estables). En este contexto, la teoría de juegos cooperativos aborda el problema de la formación de coaliciones y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14]. La teoría de juegos cooperativos difiere de su contraparte no cooperativa en que, para la primera, a los jugadores se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor ganancia total. Además, a diferencia de la teoría de juegos no cooperativos, la teoría de juegos cooperativos no especifica un juego a través de una descripción del entorno estratégico (incluyendo el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los resultados de pagos, sino que, en cambio, reduce esta colección de datos a la forma coalicional donde cada coalición está representada por un único número real: no hay acciones, movimientos o pagos individuales. La principal ventaja de este enfoque, al menos en entornos de múltiples jugadores, es su utilidad práctica. Por lo tanto, muchas más situaciones de la vida real encajan más fácilmente en un juego de forma coalicional, cuya estructura es más manejable que la de un juego no cooperativo, ya sea en forma normal o extensiva, y es por esta razón que nos enfocamos en tales formas en este artículo. Dadas estas observaciones, varios investigadores de sistemas multiagentes han utilizado y ampliado soluciones cooperativas de teoría de juegos para facilitar la formación automatizada de coaliciones [20, 21, 18]. Además, en este trabajo, uno de los conceptos de solución más estudiados en profundidad es el valor de Shapley [19]. El valor de Shapley de un jugador da una indicación de sus perspectivas de jugar el juego: cuanto mayor sea el valor de Shapley, mejores serán sus perspectivas. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa (ver Sección 2.1 para una discusión de la propiedad de equidad). Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene una desventaja importante: para muchos juegos de coalición, no se puede determinar en tiempo polinómico. Por ejemplo, encontrar este valor para el juego de votación ponderada es, en general, #P-completo [6]. Un problema es #P-difícil si resolverlo es tan difícil como contar asignaciones satisfactorias de fórmulas de lógica proposicional [15, p442]. Dado que la #P-completitud subsume la NP-completitud, esto implica que calcular el valor de Shapley para el juego de votación ponderada será intratable en general. En otras palabras, es prácticamente inviable intentar calcular el valor de Shapley exacto. Sin embargo, el juego de votación tiene relevancia práctica para los sistemas multiagente, ya que es un medio importante para llegar a un consenso entre múltiples agentes. Por lo tanto, nuestro objetivo es superar la complejidad computacional de encontrar el valor de Shapley para este juego. Específicamente, primero demostramos que hay algunos juegos de votación específicos para los cuales el valor exacto se puede calcular en tiempo polinómico. Al identificar dichos juegos, mostramos, por primera vez, cuándo es factible encontrar el valor exacto y cuándo no lo es. Para los juegos de votación computacionalmente complejos, presentamos un nuevo método aleatorizado, siguiendo la línea de la simulación de Monte Carlo, para calcular el valor de Shapley aproximado. La complejidad computacional de este tipo de juegos suele abordarse mediante dos enfoques principales. El primero es usar funciones generadoras [3]. Este método intercambia complejidad temporal por espacio de almacenamiento. El segundo utiliza una técnica de aproximación basada en la simulación de Monte Carlo [12, 7]. Sin embargo, el método que proponemos es más general que cualquiera de estos (ver Sección 6 para más detalles). Además, ningún trabajo ha analizado previamente el error de aproximación. El error de aproximación se refiere a qué tan cerca está la aproximación del valor de Shapley real. Específicamente, es la diferencia entre el valor de Shapley real y el aproximado. Es importante determinar este error porque el rendimiento de un método de aproximación se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. Por lo tanto, nuestra contribución radica también en proporcionar, por primera vez, un análisis del error porcentual en el valor aproximado de Shapley. Este análisis se realiza de manera empírica. Nuestros experimentos muestran que el error siempre es menor al 20%, y en la mayoría de los casos es inferior al 5%. Finalmente, nuestro método tiene complejidad temporal lineal en el número de jugadores y no requiere ningún arreglo (es decir, es económico en términos tanto de tiempo de computación como de espacio de almacenamiento). Dado esto, y el hecho de que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. El resto del documento está organizado de la siguiente manera. La sección 2 define el valor de Shapley y describe el juego de votación ponderada. En la Sección 3 describimos juegos de votación cuyo valor de Shapley se puede encontrar en tiempo polinómico. En la Sección 4, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y analizamos su rendimiento en la Sección 5. La sección 6 discute la literatura relacionada. Finalmente, la Sección 7 concluye. 2. FONDO Comenzamos presentando los juegos de coalición y el valor de Shapley, y luego definimos el juego de votación ponderada. Un juego de coalición es un juego en el que grupos de jugadores (coaliciones) pueden promover un comportamiento cooperativo entre sus miembros. Por lo tanto, el juego es una competencia entre coaliciones de jugadores, en lugar de entre jugadores individuales. Dependiendo de cómo los jugadores midan la utilidad, la teoría de juegos de coalición se divide en dos partes. Si los jugadores miden la utilidad o la ganancia en las mismas unidades y hay un medio de intercambio de utilidad como pagos laterales, decimos que el juego tiene utilidad transferible; de lo contrario, tiene utilidad no transferible. Más formalmente, un juego de coalición con utilidad transferible, N, v, consiste en: 1. un conjunto finito (N = {1, 2, . . . , n}) de jugadores y 2. una función (v) que asocia a cada subconjunto no vacío S de N (es decir, una coalición) un número real v(S) (el valor de S). Para cada coalición S, el número v(S) es la ganancia total disponible para ser dividida entre los miembros de S (es decir, el conjunto de acciones conjuntas que la coalición S puede tomar consiste en todas las posibles divisiones de v(S) entre los miembros de S). Los juegos de coalición con pagos no transferibles difieren de los que tienen pagos transferibles de la siguiente manera. Para lo primero, cada coalición está asociada con un conjunto de vectores de pago que no necesariamente es el conjunto de todas las posibles divisiones de una cantidad fija. El enfoque de este documento se centra en el juego de votación ponderada (descrito en la Sección 2.1), que es un juego con pagos transferibles. Por lo tanto, en ambos casos, los jugadores solo se unirán a una coalición si esperan beneficiarse de ella. Aquí, a los jugadores se les permite formar acuerdos vinculantes, por lo que hay un fuerte incentivo para trabajar juntos y recibir la mayor ganancia total. El problema entonces es cómo dividir el pago total entre o entre los jugadores. En este contexto, Shapley [19] construyó una solución utilizando un enfoque axiomático. Shapley definió un valor para los juegos como una función que asigna a un juego (N, v), un número ϕi(N, v) para cada i en N. Esta función satisface tres axiomas [17]: 1. Simetría. Este axioma requiere que los nombres de los jugadores no jueguen ningún papel en la determinación del valor. 2. Portador. Este axioma requiere que la suma de ϕi(N, v) para todos los jugadores i en cualquier portador C sea igual a v(C). Un portador C es un subconjunto de N tal que v(S) = v(S ∩ C) para cualquier subconjunto de jugadores S ⊂ N. Aditividad. Este axioma especifica cómo deben relacionarse los valores de diferentes juegos entre sí. Se requiere que para cualquier juego ϕi(N, v) y ϕi(N, v), ϕi(N, v) + ϕi(N, v) = ϕi(N, v + v) para todo i en N. Shapley demostró que hay una función única que satisface estos tres axiomas. Shapley consideraba este valor como un índice para medir el poder de los jugadores en un juego. Al igual que un índice de precios u otros índices de mercado, el valor utiliza promedios (o promedios ponderados en algunas de sus generalizaciones) para agregar el poder de los jugadores en sus diversas oportunidades de cooperación. Alternativamente, se puede pensar en el valor de Shapley como una medida de la utilidad de jugadores neutrales al riesgo en un juego. Primero introducimos algunas notaciones y luego definimos el valor de Shapley. Sea S el conjunto N − {i} y fi : S → 2N−{i} una variable aleatoria que toma sus valores en el conjunto de todos los subconjuntos de N − {i}, y tiene la función de distribución de probabilidad (g) definida como: g(fi(S) = S) = |S|! (n − |S| − 1)! n! La variable aleatoria fi se interpreta como la elección aleatoria de una coalición a la que se une el jugador i. Entonces, el valor de Shapley de un jugador se define en términos de su contribución marginal. Por lo tanto, la contribución marginal del jugador i a la coalición S con i /∈ S es una función Δiv que se define de la siguiente manera: Δiv(S) = v(S ∪ {i}) − v(S). Así, la contribución marginal de un jugador a una coalición S es el aumento en el valor de S como resultado de que i se una a ella. DEFINICIÓN 1. El valor de Shapley (ϕi) del juego N, v para el jugador i es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar: ϕi(N, v) = E[Δiv ◦ fi] (1). El valor de Shapley se interpreta de la siguiente manera. Supongamos que todos los jugadores están dispuestos en algún orden, siendo todas las disposiciones igualmente probables. Entonces ϕi(N, v) es la contribución marginal esperada, sobre todas las ordenaciones, del jugador i al conjunto de jugadores que le preceden. El método para encontrar el valor de Shapley de un jugador depende de la definición de la función de valor (v). Esta función es diferente para diferentes juegos, pero aquí nos enfocamos específicamente en el juego de votación ponderada por las razones descritas en la Sección 1.960 de la Sexta Conferencia Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 2.1 El juego de votación ponderada Adoptamos la definición del juego de votación dada en [6]. Por lo tanto, hay un conjunto de n jugadores que pueden, por ejemplo, representar accionistas en una empresa o miembros en un parlamento. El juego de votación ponderada es entonces un juego G = N, v en el que: v(S) = j 1 si w(S) ≥ q 0 en caso contrario para algún q ∈ IR+ y wi ∈ IRN + , donde: w(S) = X i∈S wi para cualquier coalición S. Así, wi es el número de votos que tiene el jugador i y q es el número de votos necesarios para ganar el juego (es decir, la cuota). Ten en cuenta que para este juego (denotado q; w1, . . . , wn), la contribución marginal de un jugador es cero o uno. Esto se debe a que el valor de cualquier coalición es cero o uno. Una coalición con valor cero se llama una coalición perdedora y con valor uno una coalición ganadora. Si la entrada de un jugador a una coalición cambia de perder a ganar, entonces la contribución marginal del jugador para esa coalición es uno; de lo contrario, es cero. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. La propiedad de la unicidad es deseable porque no deja lugar a ambigüedades. La propiedad de equidad se relaciona con cómo se dividen las ganancias de la cooperación entre los miembros de una coalición. En este caso, el valor de Shapley de un jugador es proporcional a la contribución que realiza como miembro de una coalición; cuanto mayor sea su contribución, mayor será su valor. Por lo tanto, desde la perspectiva de un jugador, tanto la singularidad como la equidad son propiedades deseables. 3. JUEGOS DE VOTACIÓN CON SOLUCIONES EN TIEMPO POLINOMIAL Aquí describimos aquellos juegos de votación para los cuales el valor de Shapley puede ser determinado en tiempo polinomial. Esto se logra utilizando el enfoque de enumeración directa (es decir, enumerando todas las posibles coaliciones y encontrando la contribución marginal de un jugador a cada una de ellas). Caracterizamos dichos juegos en términos del número de jugadores y sus pesos. 3.1 Todos los jugadores tienen el mismo peso. Consideremos el juego q; j, . . . , j con m participantes. Cada partido tiene j votos. Si q ≤ j, entonces no habría necesidad de que los jugadores formen una coalición. Por otro lado, si q = mj (m = |N| es el número de jugadores), solo la gran coalición es posible. Los juegos interesantes son aquellos para los cuales la cuota (q) satisface la restricción: (j + 1) ≤ q ≤ j(m − 1). Para estos juegos, el valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕ denote el valor de Shapley para un jugador. Considera a cualquier jugador. Este jugador puede unirse a una coalición como el miembro i-ésimo donde 1 ≤ i ≤ m. Sin embargo, la contribución marginal del jugador es de 1 solo si se une a una coalición como el miembro q/j-ésimo. En todos los demás casos, su contribución marginal es cero. Por lo tanto, el valor de Shapley para cada jugador ϕ = 1/m. Dado que ϕ requiere una operación de división, se puede encontrar en tiempo constante (es decir, O(1)). 3.2 Una sola gran fiesta Considera un juego en el que hay dos tipos de jugadores: grandes (con peso wl > ws) y pequeños (con peso ws). Hay un jugador grande y m pequeños. La cuota para este juego es q; es decir, tenemos un juego de la forma q; wl, ws, ws, . . . , ws. El número total de jugadores es (m + 1). El valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕl denote el valor de Shapley para el jugador grande y ϕs para cada jugador pequeño. Primero consideramos ws = 1 y luego ws > 1. El valor más pequeño posible para q es wl + 1. Esto se debe a que, si q ≤ wl, entonces el partido grande puede ganar las elecciones por sí solo sin necesidad de formar una coalición. Por lo tanto, la cuota para el juego satisface la restricción wl + 1 ≤ q ≤ m + wl − 1. Además, los límites inferior y superior para wl son 2 y (q − 1) respectivamente. El límite inferior es 2 porque el peso de la gran fiesta tiene que ser mayor que cada uno de los pequeños. Además, el peso del gran partido no puede ser mayor que q, ya que en ese caso, no habría necesidad de que el gran partido forme una coalición. Recuerda que para nuestro juego de votación, la contribución marginal de un jugador a una coalición solo puede ser cero o uno. Considera la gran fiesta. Este partido puede unirse a una coalición como el i-ésimo miembro donde 1 ≤ i ≤ (m + 1). Sin embargo, la contribución marginal del partido grande es uno si se une a una coalición como el miembro i-ésimo donde (q − wl) ≤ i < q. En todos los casos restantes, su contribución marginal es cero. Por lo tanto, de los casos totales posibles (m + 1), su contribución marginal es de uno en wl casos. Por lo tanto, el valor de Shapley del partido grande es: ϕl = wl/(m + 1). De la misma manera, obtenemos el valor de Shapley del gran partido para el caso general donde ws > 1 como: ϕl = wl/ws /(m + 1). Ahora consideremos a un jugador pequeño. Sabemos que la suma de los valores de Shapley de todos los m+1 jugadores es uno. Además, dado que los partidos pequeños tienen el mismo peso, sus valores de Shapley son iguales. Por lo tanto, obtenemos: ϕs = 1 − ϕl m. Por lo tanto, tanto ϕl como ϕs se pueden calcular en tiempo constante. Esto se debe a que ambos requieren un número constante de operaciones básicas (suma, resta, multiplicación y división). De la misma manera, el valor de Shapley para un juego de votación con un único partido grande y múltiples partidos pequeños puede determinarse en tiempo constante. 3.3 Múltiples partidos grandes y pequeños Ahora consideramos un juego de votación que tiene dos tipos de jugadores: grandes y pequeños (como en la Sección 3.2), pero ahora hay múltiples partidos grandes y múltiples partidos pequeños. El conjunto de partidos consiste en ml partidos grandes y ms partidos pequeños. El peso de cada fiesta grande es wl y el de cada fiesta pequeña es ws, donde ws < wl. Mostramos la factibilidad computacional de este juego considerando los siguientes cuatro posibles escenarios: S1 q ≤ mlwl y q ≤ msws S2 q ≤ mlwl y q ≥ msws S3 q ≥ mlwl y q ≥ msws S4 q ≥ mlwl y q ≤ msws Para el primer escenario, considera un jugador grande. Para determinar el valor de Shapley para este jugador, necesitamos considerar el número de todas las posibles coaliciones que le otorgan una contribución marginal de uno. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores grandes está entre cero y (q −1)/wl. En otras palabras, hay (q −1)/wl +1 casos de este tipo y ahora consideramos cada uno de ellos. El Sexto Internacional. Considera una coalición tal que cuando el jugador grande se une, hay i jugadores grandes y (q − iwl − 1)/ws jugadores pequeños ya en ella, y los jugadores restantes se unen después del jugador grande. Una coalición de este tipo otorga una contribución marginal a la unidad de jugador grande. Que C2 l (i, q) denote el número de todas esas coaliciones. Para empezar, considera el caso i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « donde C(y, x) denota el número de posibles combinaciones de x elementos de un conjunto de y elementos. Para i = 1, obtenemos: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « En general, para i > 1, obtenemos: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Por lo tanto, el valor de Shapley de los jugadores grandes es: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) Para un i dado, el tiempo para encontrar C2 l (i, q) es O(T) donde T = (mlms(q − iwl − 1)(ml + ms))/ws Por lo tanto, el tiempo para encontrar el valor de Shapley es O(T q/wl). De la misma manera, el valor de Shapley de un jugador pequeño es: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) y puede encontrarse en tiempo O(T q/ws). Asimismo, se puede demostrar que los tres escenarios restantes (S2 a S4) tienen la misma complejidad temporal. 3.4 Tres tipos de jugadores Ahora consideramos un juego de votación que tiene tres tipos de jugadores: 1, 2 y 3. El conjunto de fiestas consiste en m1 jugadores de tipo 1 (cada uno con peso w1), m2 jugadores de tipo 2 (cada uno con peso w2) y m3 jugadores de tipo 3 (cada uno con peso w3). Para este juego de votación, considera a un jugador de tipo 1. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores de tipo 1 está entre cero y (q − 1)/w1. En otras palabras, hay (q − 1)/w1 + 1 casos de este tipo y ahora consideramos cada uno de ellos. Considera una coalición tal que cuando el jugador de tipo 1 se une, ya hay i jugadores de tipo 1 en ella. Los jugadores restantes se unen después del jugador de tipo 1. Que C3 l (i, q) denote el número de todas las coaliciones que dan una contribución marginal de uno al jugador de tipo 1 donde: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Por lo tanto, el valor de Shapley del jugador de tipo 1 es: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) La complejidad temporal de encontrar este valor es O(T q2 /w1w2) donde: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Del mismo modo, para los otros dos tipos de jugadores (2 y 3). Por lo tanto, hemos identificado juegos para los cuales el valor de Shapley exacto puede determinarse fácilmente. Sin embargo, la complejidad computacional del método de enumeración directa anterior aumenta con el número de tipos de jugadores. Para un juego de votación con más de tres tipos de jugadores, la complejidad temporal del método anterior es un polinomio de grado cuatro o superior. Para hacer frente a tales situaciones, por lo tanto, la siguiente sección presenta un método aleatorio más rápido para encontrar el valor de Shapley aproximado. 4. ENCONTRANDO EL VALOR DE SHAPLEY APROXIMADO Primero damos una breve introducción a los algoritmos aleatorizados y luego presentamos nuestro método aleatorizado para encontrar el valor de Shapley aproximado. Los algoritmos aleatorizados son el enfoque más comúnmente utilizado para encontrar soluciones aproximadas a problemas computacionalmente difíciles. Un algoritmo aleatorizado es un algoritmo que, durante algunas de sus etapas, realiza elecciones al azar [2]. Los pasos aleatorios realizados por el algoritmo implican que al ejecutar el algoritmo varias veces con la misma entrada no estamos garantizados de encontrar la misma solución. Ahora, dado que dichos algoritmos generan soluciones aproximadas, su rendimiento se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. El error de aproximación se refiere a la diferencia entre la solución exacta y su aproximación. En este contexto, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y evaluamos empíricamente su error. Primero describimos el juego de votación general y luego presentamos nuestro algoritmo aleatorio. En su forma general, un juego de votación tiene más de dos tipos de jugadores. Que w_i denote el peso del jugador i. Por lo tanto, para m jugadores y para la cuota q, el juego es de la forma q; w1, w2, . . . , wm. Los pesos están especificados en términos de una función de distribución de probabilidad. Para un juego como este, queremos encontrar el valor aproximado de Shapley. Dejamos que P denote una población de jugadores. Los pesos de los jugadores en esta población están definidos por una función de distribución de probabilidad. Independientemente de la función de distribución de probabilidad real, sea μ la media del peso para la población de jugadores y ν la varianza en los pesos de los jugadores. De esta población de jugadores extraemos muestras al azar y encontramos la suma de los pesos de los jugadores en la muestra utilizando la siguiente regla de la Teoría del Muestreo (ver [8] p425): Si w1, w2, . . . , wn es una muestra aleatoria de tamaño n extraída de cualquier distribución con media μ y varianza ν, entonces la suma de la muestra tiene una distribución Normal aproximada con media nμ y varianza ν n (cuanto mayor sea n, mejor será la aproximación). 962 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Población de jugadores μ: Peso medio de la población P ν: Varianza en los pesos para la población P q: Cuota para el juego de votación wi: Peso del jugador 1. Ti ← 0; a ← q − wi; b ← q − 2. \n\nTi ← 0; a ← q - wi; b ← q - 2. Para X de 1 a m, repetir lo siguiente 2.1. Selecciona una muestra aleatoria SX de tamaño X de la población P 2.2. Evaluar la contribución marginal esperada (ΔX i ) del jugador i a SX como: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3. Ti ← Ti + ΔX i 3. \n\nTi ← Ti + ΔX i 3. Evaluar el valor de Shapley del jugador i como: ϕi ← Ti/m Tabla 1: Algoritmo aleatorizado para encontrar el valor de Shapley para el jugador i. Sabemos, a partir de la Definición 1, que el valor de Shapley para un jugador es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar. Utilizamos esta regla para determinar el valor de Shapley de la siguiente manera. Para el jugador i con peso wi, dejemos que ϕi denote el valor de Shapley. Que X denote el tamaño de una muestra aleatoria extraída de una población en la que los pesos de los jugadores individuales tienen cualquier distribución. La contribución marginal del jugador i a esta muestra aleatoria es uno si el peso total de los jugadores X en la muestra es mayor o igual a a = q - wi pero menor que b = q - (donde es una cantidad infinitesimalmente pequeña). De lo contrario, su contribución marginal es cero. Por lo tanto, la contribución marginal esperada del jugador i (denotada como ΔX i ) a la coalición de muestra es el área bajo la curva definida por N(Xμ, ν X ) en el intervalo [a, b]. Esta área se muestra como la región B en la Figura 1 (la línea punteada en la figura es Xμ). Por lo tanto, obtenemos: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) y el valor de Shapley es: ϕi = 1 m mX X=1 ΔX i (3). Los pasos anteriores se describen en la Tabla 1. Con más detalle, el Paso 1 realiza la inicialización. En el Paso 2, variamos X entre 1 y m y repetidamente hacemos lo siguiente. En el Paso 2.1, seleccionamos aleatoriamente una muestra SX de tamaño X de la población P. La contribución marginal del jugador a la coalición aleatoria SX se encuentra en el Paso 2.2. El promedio de la contribución marginal se encuentra en el Paso 3, y este es el valor de Shapley para el jugador i. TEOREMA 1. La complejidad temporal del método aleatorio propuesto es lineal en el número de jugadores. PRUEBA. Según la Ecuación 3, ΔX i debe ser calculado m veces. Esto se hace en el bucle for del Paso 2 en la Tabla 1. Por lo tanto, la complejidad temporal de calcular el valor de Shapley de un jugador es O(m). La siguiente sección analiza el error de aproximación para el método propuesto. 5. RENDIMIENTO DEL MÉTODO ALEATORIO Primero derivamos la fórmula para medir el error en el valor de Shapley aproximado y luego realizamos experimentos para evaluar este error en una amplia gama de configuraciones. Sin embargo, antes de hacerlo, introducimos la idea del error. El concepto de error se relaciona con una medición realizada de una cantidad que tiene un valor aceptado [22, 4]. Obviamente, no se puede determinar exactamente cuán lejos está una medición del valor aceptado; si esto fuera posible, sería factible simplemente proporcionar un valor corregido más preciso. Por lo tanto, el error tiene que ver con la incertidumbre en las mediciones sobre la que no se puede hacer nada. Si se repite una medición, los valores obtenidos serán diferentes y ninguno de los resultados puede ser preferido sobre los demás. Sin embargo, aunque no sea posible hacer nada al respecto de tal error, sí se puede caracterizar. Como se describe en la Sección 4, realizamos mediciones en muestras que se extraen al azar de una población dada (P) de jugadores. Ahora, existen errores estadísticos asociados con el muestreo que son inevitables y deben ser aceptados. Por lo tanto, si el resultado de una medición va a tener significado, no puede consistir únicamente en el valor medido. También se debe incluir una indicación de cuán precisa es el resultado. Por lo tanto, el resultado de cualquier medición física tiene dos componentes esenciales: 1. un valor numérico que proporciona la mejor estimación posible de la cantidad medida, y 2. el grado de incertidumbre asociado con este valor estimado. Por ejemplo, si la estimación de una cantidad es x y la incertidumbre es e(x), la cantidad estaría en x ± e(x). Para experimentos de muestreo, el error estándar es, con mucho, la forma más común de caracterizar la incertidumbre [22]. Dado esto, la siguiente sección define este error y lo utiliza para evaluar el rendimiento del método aleatorio propuesto. 5.1 Error de aproximación La precisión del método aleatorio anterior depende de su error de muestreo, el cual se define de la siguiente manera [22, 4]: DEFINICIÓN 2. El error de muestreo (o error estándar) se define como la desviación estándar de un conjunto de mediciones dividida por la raíz cuadrada del número de mediciones. Con este fin, sea e(σX) el error de muestreo en la suma de los pesos para una muestra de tamaño X extraída de la distribución N(Xμ, νX) donde: e(σX) = p(ν/X) / p(X) = p(ν) / X (4). Sea e(ΔXi) el error en la contribución marginal para el jugador i (dado en la Ecuación 2). Este error se obtiene propagando el error en la Ecuación 4 a la Ecuación 2. En la Ecuación 2, a y b son los límites inferior y superior para la suma de los pesos de los jugadores para The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Suma de pesos Z1 Z2 Figura 1: Una distribución normal para la suma de los pesos de los jugadores en una coalición de tamaño X. 40 60 80 100 0 50 100 0 5 10 15 20 25 Peso de cuota Porcentaje de error en el valor de Shapley Figura 2: Rendimiento del método aleatorio para m = 10 jugadores en una coalición de tamaño X. Dado que el error en esta suma es e(σX), los valores reales de a y b se encuentran en el intervalo a ± e(σX) y b ± e(σX) respectivamente. Por lo tanto, el error en la Ecuación 2 es la probabilidad de que la suma se encuentre entre los límites a - e(σX) y a (es decir, el área bajo la curva definida por N(Xμ, ν X) entre a - e(σX) y a, que es la región sombreada A en la Figura 1) o la probabilidad de que la suma de los pesos se encuentre entre los límites b y b+e(σX) (es decir, el área bajo la curva definida por N(Xμ, ν X) entre b y b + e(σX), que es la región sombreada C en la Figura 1). Más específicamente, el error es el máximo de estas dos probabilidades: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « Con base en el error anterior, encontramos el error en el valor de Shapley utilizando las siguientes reglas estándar de propagación de errores [22]: R1 Si x e y son dos variables aleatorias con errores e(x) y e(y) respectivamente, entonces el error en la variable aleatoria z = x + y se da por: e(z) = e(x) + e(y) R2 Si x es una variable aleatoria con error e(x) y z = kx donde 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 CuotaPeso Porcentajeerror en el valor de Shapley Figura 3: Rendimiento del método aleatorizado para m = 50 jugadores. la constante k no tiene error, entonces el error en z es: e(z) = |k|e(x) Utilizando las reglas anteriores, el error en el valor de Shapley (dado en la Ecuación 3) se obtiene propagando el error en la Ecuación 4 a todas las coaliciones entre los tamaños X = 1 y X = m. Sea e(ϕi) este error donde: e(ϕi) = 1 m mX X=1 e(ΔX i ) Analizamos el rendimiento de nuestro método en términos del porcentaje de error PE en el valor de Shapley aproximado, que se define de la siguiente manera: PE = 100 × e(ϕi)/ϕi (5) 5.2 Resultados Experimentales Ahora calculamos el porcentaje de error en el valor de Shapley utilizando la ecuación anterior para PE. Dado que este error depende de los parámetros del juego de votación, lo evaluamos en una variedad de configuraciones al variar sistemáticamente los parámetros del juego de votación. En particular, realizamos experimentos en el siguiente entorno. Para un jugador con peso w, el error porcentual en el valor de Shapley de un jugador depende de los siguientes cinco parámetros (ver Ecuación 3): 1. El número de fiestas (m). 2. El peso medio (μ). 3. La varianza en los pesos de los jugadores (ν). 4. La cuota para el juego de votación (q) es de 5. El peso de los jugadores dados (w). Fijamos μ = 10 y ν = 1. Esto se debe a que, para la distribución normal, μ = 10 asegura que para casi todos los jugadores el peso es positivo, y ν = 1 se utiliza con mayor frecuencia en experimentos estadísticos (ν puede ser mayor o menor pero PE aumenta en ν, ver Ecuaciones 4 y 5). Luego variamos m, q y w de la siguiente manera. Variamos m entre 5 y 100 (ya que más allá de 100 encontramos que el error es cercano a cero), para cada m variamos q entre 4μ y mμ (imponemos estos límites porque aseguran que el tamaño del 964 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 Peso de la cuota Porcentaje de error en el valor de Shapley Figura 4: Rendimiento del método aleatorio para m = 100 jugadores. La coalición ganadora es más de uno y menos que m - ver la Sección 3 para más detalles), y para cada q, variamos w entre 1 y q−1 (porque una coalición ganadora debe contener al menos dos jugadores). Los resultados de estos experimentos se muestran en las Figuras 2, 3 y 4. Como se observa en las figuras, la PE máxima es alrededor del 20% y en la mayoría de los casos es inferior al 5%. Ahora analizamos el efecto de los tres parámetros: w, q y m en el error porcentual con más detalle. - Efecto de w. El EP depende de e(σX) porque, en la Ecuación 5, los límites de integración dependen de e(σX). El intervalo sobre el cual se realiza la primera integración en la Ecuación 5 es a − a + e(σX) = e(σX), y el intervalo sobre el cual se realiza la segunda es b + e(σX) − b = e(σX). Por lo tanto, el intervalo es el mismo para ambas integraciones y es independiente de wi. Ten en cuenta que cada una de las dos funciones que se integran en la Ecuación 5 son iguales a la función que se integra en la Ecuación 2. Solo los límites de la integración son diferentes. Además, el intervalo sobre el cual se realiza la integración para la contribución marginal de la Ecuación 2 es b − a = wi − (ver Figura 1). El error en la contribución marginal es el área de la región sombreada A (entre a − e(σX ) y a) en la Figura 1, o el área sombreada C (entre b y b + e(σX )). Según la Ecuación 5, es el máximo de estas dos áreas. Dado que e(σX) es independiente de wi, a medida que wi aumenta, e(σX) permanece invariable. Sin embargo, el área de la región no sombreada B aumenta. Por lo tanto, a medida que wi aumenta, el error en la contribución marginal disminuye y PE también disminuye. - Efecto de q. Para un q dado, el valor de Shapley para el jugador i es el que se indica en la Ecuación 3. Sabemos que, para una muestra de tamaño X, la suma de los pesos de los jugadores se distribuye normalmente con media Xμ y varianza ν/X. Dado que el 99% de una distribución normal se encuentra dentro de dos desviaciones estándar de su media [8], la contribución marginal de un jugador a una muestra de tamaño X es casi cero si: a < Xμ + 2 p ν/X o b > Xμ − 2 p ν/X. Esto se debe a que las tres regiones A, B y C (en la Figura 1) se encuentran ya sea a la derecha de Z2 o a la izquierda de Z1. Sin embargo, la contribución marginal del jugador es mayor que cero para aquellos X para los cuales se satisface la siguiente restricción: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X. Para esta restricción, las tres regiones A, B y C se encuentran en algún lugar entre Z1 y Z2. Dado que a = q −wi y b = q −, la Ecuación 6 también se puede escribir como: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X. El valor más pequeño de X que satisface la restricción en la Ecuación 6 aumenta estrictamente con q. A medida que X aumenta, el error en la suma de pesos en una muestra (es decir, e(σX) = p(ν)/X) disminuye. Por consiguiente, el error en la contribución marginal de un jugador (ver Ecuación 5) también disminuye. Esto implica que a medida que q aumenta, el error en la contribución marginal (y consecuentemente el error en el valor de Shapley) disminuye. - Efecto de m. Es claro a partir de la Ecuación 4 que el error e(σX) es mayor para X = 1 y disminuye con X. Por lo tanto, para valores pequeños de m, e(σ1) tiene un efecto significativo en PE. Pero a medida que m aumenta, el efecto de e(σ1) en PE disminuye y, como resultado, PE disminuye. TRABAJO RELACIONADO Para superar la complejidad computacional de encontrar el valor de Shapley, se han propuesto dos enfoques principales en la literatura. Un enfoque es utilizar funciones generadoras [3]. Este método es un procedimiento exacto que supera el problema de la complejidad temporal, pero sus requisitos de almacenamiento son sustanciales, ya que requiere matrices enormes. También tiene la limitación (no compartida por otros enfoques) de que solo se puede aplicar a juegos con pesos y cuotas enteras. El otro método utiliza una técnica de aproximación basada en la simulación de Monte Carlo. En [12], por ejemplo, el valor de Shapley se calcula considerando una muestra aleatoria de una gran población de jugadores. El método que proponemos difiere de esto en que ellos definen el valor de Shapley tratando el número de turnos de un jugador (si un jugador puede cambiar una coalición perdedora a una ganadora, entonces, para el jugador, la coalición se cuenta como un turno) como una variable aleatoria, mientras que nosotros tratamos los pesos de los jugadores como variables aleatorias. En [12], sin embargo, la pregunta sigue siendo cómo obtener el número de rondas a partir de la definición de un juego de votación y cuál es la complejidad temporal de hacer esto. Dado que el juego de votación se define en función de los pesos de los jugadores y el número de votos se obtiene a partir de estos pesos, nuestro método se corresponde más estrechamente con la definición del juego de votación. Nuestro método también difiere de [7] en que mientras [7] presenta un método para el caso en el que todos los pesos de los jugadores están distribuidos normalmente, nuestro método se aplica a cualquier tipo de distribución para estos pesos. Por lo tanto, como se indica en la Sección 1, nuestro método es más general que [3, 12, 7]. Además, a diferencia de todo el trabajo mencionado anteriormente, proporcionamos un análisis del rendimiento de nuestro método en términos del error porcentual en el valor de Shapley aproximado. Un método para encontrar el valor de Shapley también fue propuesto en [5]. Este método proporciona el valor de Shapley exacto, pero su complejidad temporal es exponencial. Además, el método solo se puede utilizar si el juego está representado en una forma específica (es decir, la representación de múltiples problemas), de lo contrario no. Finalmente, [9, 10] presentan un método de tiempo polinómico para encontrar el valor de Shapley. Este método se puede utilizar si el juego de coalición se representa como una red de contribución marginal. Además, asumen que el valor de Shapley de un componente de un juego de coalición dado es proporcionado por un oráculo, y en base a esta suposición agregan estos valores para encontrar el valor del juego en general. Por el contrario, nuestro método es independiente de The Sixth Intl. La Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 965 de la representación y proporciona un valor de Shapley aproximado en tiempo lineal, sin necesidad de un oráculo. 7. CONCLUSIONES Y TRABAJO FUTURO La formación de coaliciones es una forma importante de <br>interacción</br> en sistemas multiagentes. Un tema importante en este tipo de trabajo es que los agentes decidan cómo dividir las ganancias de la cooperación entre los miembros de una coalición. En este contexto, la teoría de juegos cooperativos ofrece un concepto de solución llamado el valor de Shapley. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. Sin embargo, su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, el problema de encontrar este valor para el juego de votación es #P-completo. Aunque este problema es, en general, #P-completo, demostramos que hay algunos juegos de votación específicos para los cuales el valor de Shapley puede determinarse en tiempo polinómico y caracterizamos dichos juegos. Al hacerlo, hemos demostrado cuándo es computacionalmente factible encontrar el valor de Shapley exacto. Para otros juegos de votación complejos, presentamos un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal del método propuesto es lineal en el número de jugadores. Analizamos el rendimiento de este método en términos del error porcentual en el valor de Shapley aproximado. Nuestros experimentos muestran que el error porcentual en el valor de Shapley es como máximo del 20%. Además, en la mayoría de los casos, el error es menor al 5%. Finalmente, analizamos el efecto de los diferentes parámetros del juego de votación en este error. Nuestro estudio muestra que el error disminuye a medida que aumenta 1. el peso de los jugadores, 2. la cuota aumenta y 3. el número de jugadores aumenta. Dado que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. En el futuro, exploraremos el problema de determinar el valor de Shapley para otros juegos de coalición comúnmente presentes, como la economía de producción y la economía de mercado. 8. REFERENCIAS [1] R. Aumann. Puntos aceptables en juegos cooperativos n-persona en general. En Contribuciones a la Teoría de Juegos volumen IV. Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, y M. Protasi. Complejidad y aproximación: Problemas de optimización combinatoria y sus propiedades de aproximabilidad. Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada y J. J. Lopez. Funciones generadoras para calcular índices de poder de manera eficiente. Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz y M. Regler. Técnicas de Análisis de Datos en Experimentos de Física de Altas Energías. Cambridge University Press, 1993. [5] V. Conitzer y T. Sandholm. Calculando los valores de Shapley, manipulando esquemas de división de valor y verificando la pertenencia al núcleo en dominios de múltiples problemas. En Actas de la Conferencia Nacional de Inteligencia Artificial, páginas 219-225, San José, California, 2004. [6] X. Deng y C. H. Papadimitriou. Sobre la complejidad de los conceptos de solución cooperativa. Matemáticas de la Investigación de Operaciones, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge y N. R. Jennings. Un análisis del valor de Shapley y su incertidumbre para el juego de votación. En Proc. 7th Int. Taller sobre Comercio Electrónico Mediado por Agentes, páginas 39-52, 2005. [8] A. Francis. Estadísticas de Nivel Avanzado. Stanley Thornes Publishers, 1979. [9] S. Ieong y Y. Shoham. Contribución marginal neta: Un esquema de representación compacto para juegos coalicionales. En Actas de la Sexta Conferencia de la ACM sobre Comercio Electrónico, páginas 193-202, Vancouver, Canadá, 2005. [10] S. Ieong y Y. Shoham. Juegos de coalición de múltiples atributos. En Actas de la Séptima Conferencia de la ACM sobre Comercio Electrónico, páginas 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan y A. Rapoport. Teorías de formación de coaliciones. Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann y L. S. Shapley. Valores para juegos grandes iv: Evaluando el colegio electoral exactamente. Informe técnico, The RAND Corporation, Santa Mónica, 1962. [13] A. Mas-Colell, M. Whinston y J. R. Green. Teoría microeconómica. Oxford University Press, 1995. [14] M. J. Osborne y A. Rubinstein. Un curso de teoría de juegos. El MIT Press, 1994. [15] C. H. Papadimitriou. Complejidad computacional. Addison Wesley Longman, 1994. [16] A. Rapoport. \n\nAddison Wesley Longman, 1994. [16] A. Rapoport. Teoría de juegos N-personas: Conceptos y aplicaciones. Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.\nDover Publications, Mineola, NY, 2001. [17] A. E. Roth. Introducción al valor de Shapley. En A. E. Roth, editor, El valor de Shapley, páginas 1-27. Editorial de la Universidad de Cambridge, Cambridge, 1988. [18] T. Sandholm y V. Lesser. Coaliciones entre agentes limitados computacionalmente. Revista de Inteligencia Artificial, 94(1):99-137, 1997. [19] L. S. Shapley. Un valor para juegos de n personas. En A. E. Roth, editor, El valor de Shapley, páginas 31-40. Universidad de Cambridge Press, Cambridge, 1988. [20] O. Shehory y S. Kraus. Un modelo orientado al núcleo para la formación de coaliciones en entornos generales: Implementación y resultados. En Actas de la Conferencia Nacional de Inteligencia Artificial (AAAI-96), páginas 131-140, 1996. [21] O. Shehory y S. Kraus. Métodos para la asignación de tareas a través de la formación de coaliciones de agentes. Revista de Inteligencia Artificial, 101(2):165-200, 1998. [22] J. R. Taylor. Una introducción al análisis de errores: El estudio de las incertidumbres en las mediciones físicas. University Science Books, 1982. 966 La Sexta Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "multi-agent system": {
            "translated_key": "sistemas multiagente",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in <br>multi-agent system</br>s, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to <br>multi-agent system</br>s as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [
                "INTRODUCTION Coalition formation, a key form of interaction in <br>multi-agent system</br>s, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "However, the voting game has practical relevance to <br>multi-agent system</br>s as it is an important means of reaching consensus between multiple agents."
            ],
            "translated_annotated_samples": [
                "FORMACIÓN DE COALICIONES, una forma clave de interacción en <br>sistemas multiagente</br>, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13].",
                "Sin embargo, el juego de votación tiene relevancia práctica para los <br>sistemas multiagente</br>, ya que es un medio importante para llegar a un consenso entre múltiples agentes."
            ],
            "translated_text": "Un Método Aleatorio para el Valor de Shapley para el Juego de Votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido. El valor de Shapley es uno de los conceptos clave de solución para juegos de coalición. Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, se sabe que el problema de encontrar este valor para el juego de votación es #P-completo en el caso general. Sin embargo, en este artículo, demostramos que hay algunos juegos de votación específicos para los cuales el problema es computacionalmente manejable. Para otros juegos de votación generales, superamos el problema de la complejidad computacional presentando un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal de este método es lineal en el número de jugadores. También demostramos, a través de estudios empíricos, que el porcentaje de error para el método propuesto siempre es inferior al 20% y, en la mayoría de los casos, inferior al 5%. Categorías y Descriptores de Asignaturas I.2.11 [Inteligencia Artificial Distribuida]: Sistemas Multiagente Términos Generales Algoritmos, Diseño, Teoría 1. FORMACIÓN DE COALICIONES, una forma clave de interacción en <br>sistemas multiagente</br>, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13]. A menudo, en tales situaciones, hay más de una coalición posible y la recompensa de un jugador depende de cuál se una. Dado esto, un problema clave es asegurar que ninguna de las partes en una coalición tenga algún incentivo para separarse de ella y unirse a otra coalición (es decir, las coaliciones deben ser estables). Sin embargo, en muchos casos puede haber más de una solución (es decir, una coalición estable). En tales casos, se vuelve difícil seleccionar una única solución entre las posibles, especialmente si las partes están interesadas en sí mismas (es decir, tienen preferencias diferentes sobre coaliciones estables). En este contexto, la teoría de juegos cooperativos aborda el problema de la formación de coaliciones y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14]. La teoría de juegos cooperativos difiere de su contraparte no cooperativa en que, para la primera, a los jugadores se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor ganancia total. Además, a diferencia de la teoría de juegos no cooperativos, la teoría de juegos cooperativos no especifica un juego a través de una descripción del entorno estratégico (incluyendo el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los resultados de pagos, sino que, en cambio, reduce esta colección de datos a la forma coalicional donde cada coalición está representada por un único número real: no hay acciones, movimientos o pagos individuales. La principal ventaja de este enfoque, al menos en entornos de múltiples jugadores, es su utilidad práctica. Por lo tanto, muchas más situaciones de la vida real encajan más fácilmente en un juego de forma coalicional, cuya estructura es más manejable que la de un juego no cooperativo, ya sea en forma normal o extensiva, y es por esta razón que nos enfocamos en tales formas en este artículo. Dadas estas observaciones, varios investigadores de sistemas multiagentes han utilizado y ampliado soluciones cooperativas de teoría de juegos para facilitar la formación automatizada de coaliciones [20, 21, 18]. Además, en este trabajo, uno de los conceptos de solución más estudiados en profundidad es el valor de Shapley [19]. El valor de Shapley de un jugador da una indicación de sus perspectivas de jugar el juego: cuanto mayor sea el valor de Shapley, mejores serán sus perspectivas. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa (ver Sección 2.1 para una discusión de la propiedad de equidad). Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene una desventaja importante: para muchos juegos de coalición, no se puede determinar en tiempo polinómico. Por ejemplo, encontrar este valor para el juego de votación ponderada es, en general, #P-completo [6]. Un problema es #P-difícil si resolverlo es tan difícil como contar asignaciones satisfactorias de fórmulas de lógica proposicional [15, p442]. Dado que la #P-completitud subsume la NP-completitud, esto implica que calcular el valor de Shapley para el juego de votación ponderada será intratable en general. En otras palabras, es prácticamente inviable intentar calcular el valor de Shapley exacto. Sin embargo, el juego de votación tiene relevancia práctica para los <br>sistemas multiagente</br>, ya que es un medio importante para llegar a un consenso entre múltiples agentes. Por lo tanto, nuestro objetivo es superar la complejidad computacional de encontrar el valor de Shapley para este juego. Específicamente, primero demostramos que hay algunos juegos de votación específicos para los cuales el valor exacto se puede calcular en tiempo polinómico. Al identificar dichos juegos, mostramos, por primera vez, cuándo es factible encontrar el valor exacto y cuándo no lo es. Para los juegos de votación computacionalmente complejos, presentamos un nuevo método aleatorizado, siguiendo la línea de la simulación de Monte Carlo, para calcular el valor de Shapley aproximado. La complejidad computacional de este tipo de juegos suele abordarse mediante dos enfoques principales. El primero es usar funciones generadoras [3]. Este método intercambia complejidad temporal por espacio de almacenamiento. El segundo utiliza una técnica de aproximación basada en la simulación de Monte Carlo [12, 7]. Sin embargo, el método que proponemos es más general que cualquiera de estos (ver Sección 6 para más detalles). Además, ningún trabajo ha analizado previamente el error de aproximación. El error de aproximación se refiere a qué tan cerca está la aproximación del valor de Shapley real. Específicamente, es la diferencia entre el valor de Shapley real y el aproximado. Es importante determinar este error porque el rendimiento de un método de aproximación se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. Por lo tanto, nuestra contribución radica también en proporcionar, por primera vez, un análisis del error porcentual en el valor aproximado de Shapley. Este análisis se realiza de manera empírica. Nuestros experimentos muestran que el error siempre es menor al 20%, y en la mayoría de los casos es inferior al 5%. Finalmente, nuestro método tiene complejidad temporal lineal en el número de jugadores y no requiere ningún arreglo (es decir, es económico en términos tanto de tiempo de computación como de espacio de almacenamiento). Dado esto, y el hecho de que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. El resto del documento está organizado de la siguiente manera. La sección 2 define el valor de Shapley y describe el juego de votación ponderada. En la Sección 3 describimos juegos de votación cuyo valor de Shapley se puede encontrar en tiempo polinómico. En la Sección 4, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y analizamos su rendimiento en la Sección 5. La sección 6 discute la literatura relacionada. Finalmente, la Sección 7 concluye. 2. FONDO Comenzamos presentando los juegos de coalición y el valor de Shapley, y luego definimos el juego de votación ponderada. Un juego de coalición es un juego en el que grupos de jugadores (coaliciones) pueden promover un comportamiento cooperativo entre sus miembros. Por lo tanto, el juego es una competencia entre coaliciones de jugadores, en lugar de entre jugadores individuales. Dependiendo de cómo los jugadores midan la utilidad, la teoría de juegos de coalición se divide en dos partes. Si los jugadores miden la utilidad o la ganancia en las mismas unidades y hay un medio de intercambio de utilidad como pagos laterales, decimos que el juego tiene utilidad transferible; de lo contrario, tiene utilidad no transferible. Más formalmente, un juego de coalición con utilidad transferible, N, v, consiste en: 1. un conjunto finito (N = {1, 2, . . . , n}) de jugadores y 2. una función (v) que asocia a cada subconjunto no vacío S de N (es decir, una coalición) un número real v(S) (el valor de S). Para cada coalición S, el número v(S) es la ganancia total disponible para ser dividida entre los miembros de S (es decir, el conjunto de acciones conjuntas que la coalición S puede tomar consiste en todas las posibles divisiones de v(S) entre los miembros de S). Los juegos de coalición con pagos no transferibles difieren de los que tienen pagos transferibles de la siguiente manera. Para lo primero, cada coalición está asociada con un conjunto de vectores de pago que no necesariamente es el conjunto de todas las posibles divisiones de una cantidad fija. El enfoque de este documento se centra en el juego de votación ponderada (descrito en la Sección 2.1), que es un juego con pagos transferibles. Por lo tanto, en ambos casos, los jugadores solo se unirán a una coalición si esperan beneficiarse de ella. Aquí, a los jugadores se les permite formar acuerdos vinculantes, por lo que hay un fuerte incentivo para trabajar juntos y recibir la mayor ganancia total. El problema entonces es cómo dividir el pago total entre o entre los jugadores. En este contexto, Shapley [19] construyó una solución utilizando un enfoque axiomático. Shapley definió un valor para los juegos como una función que asigna a un juego (N, v), un número ϕi(N, v) para cada i en N. Esta función satisface tres axiomas [17]: 1. Simetría. Este axioma requiere que los nombres de los jugadores no jueguen ningún papel en la determinación del valor. 2. Portador. Este axioma requiere que la suma de ϕi(N, v) para todos los jugadores i en cualquier portador C sea igual a v(C). Un portador C es un subconjunto de N tal que v(S) = v(S ∩ C) para cualquier subconjunto de jugadores S ⊂ N. Aditividad. Este axioma especifica cómo deben relacionarse los valores de diferentes juegos entre sí. Se requiere que para cualquier juego ϕi(N, v) y ϕi(N, v), ϕi(N, v) + ϕi(N, v) = ϕi(N, v + v) para todo i en N. Shapley demostró que hay una función única que satisface estos tres axiomas. Shapley consideraba este valor como un índice para medir el poder de los jugadores en un juego. Al igual que un índice de precios u otros índices de mercado, el valor utiliza promedios (o promedios ponderados en algunas de sus generalizaciones) para agregar el poder de los jugadores en sus diversas oportunidades de cooperación. Alternativamente, se puede pensar en el valor de Shapley como una medida de la utilidad de jugadores neutrales al riesgo en un juego. Primero introducimos algunas notaciones y luego definimos el valor de Shapley. Sea S el conjunto N − {i} y fi : S → 2N−{i} una variable aleatoria que toma sus valores en el conjunto de todos los subconjuntos de N − {i}, y tiene la función de distribución de probabilidad (g) definida como: g(fi(S) = S) = |S|! (n − |S| − 1)! n! La variable aleatoria fi se interpreta como la elección aleatoria de una coalición a la que se une el jugador i. Entonces, el valor de Shapley de un jugador se define en términos de su contribución marginal. Por lo tanto, la contribución marginal del jugador i a la coalición S con i /∈ S es una función Δiv que se define de la siguiente manera: Δiv(S) = v(S ∪ {i}) − v(S). Así, la contribución marginal de un jugador a una coalición S es el aumento en el valor de S como resultado de que i se una a ella. DEFINICIÓN 1. El valor de Shapley (ϕi) del juego N, v para el jugador i es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar: ϕi(N, v) = E[Δiv ◦ fi] (1). El valor de Shapley se interpreta de la siguiente manera. Supongamos que todos los jugadores están dispuestos en algún orden, siendo todas las disposiciones igualmente probables. Entonces ϕi(N, v) es la contribución marginal esperada, sobre todas las ordenaciones, del jugador i al conjunto de jugadores que le preceden. El método para encontrar el valor de Shapley de un jugador depende de la definición de la función de valor (v). Esta función es diferente para diferentes juegos, pero aquí nos enfocamos específicamente en el juego de votación ponderada por las razones descritas en la Sección 1.960 de la Sexta Conferencia Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 2.1 El juego de votación ponderada Adoptamos la definición del juego de votación dada en [6]. Por lo tanto, hay un conjunto de n jugadores que pueden, por ejemplo, representar accionistas en una empresa o miembros en un parlamento. El juego de votación ponderada es entonces un juego G = N, v en el que: v(S) = j 1 si w(S) ≥ q 0 en caso contrario para algún q ∈ IR+ y wi ∈ IRN + , donde: w(S) = X i∈S wi para cualquier coalición S. Así, wi es el número de votos que tiene el jugador i y q es el número de votos necesarios para ganar el juego (es decir, la cuota). Ten en cuenta que para este juego (denotado q; w1, . . . , wn), la contribución marginal de un jugador es cero o uno. Esto se debe a que el valor de cualquier coalición es cero o uno. Una coalición con valor cero se llama una coalición perdedora y con valor uno una coalición ganadora. Si la entrada de un jugador a una coalición cambia de perder a ganar, entonces la contribución marginal del jugador para esa coalición es uno; de lo contrario, es cero. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. La propiedad de la unicidad es deseable porque no deja lugar a ambigüedades. La propiedad de equidad se relaciona con cómo se dividen las ganancias de la cooperación entre los miembros de una coalición. En este caso, el valor de Shapley de un jugador es proporcional a la contribución que realiza como miembro de una coalición; cuanto mayor sea su contribución, mayor será su valor. Por lo tanto, desde la perspectiva de un jugador, tanto la singularidad como la equidad son propiedades deseables. 3. JUEGOS DE VOTACIÓN CON SOLUCIONES EN TIEMPO POLINOMIAL Aquí describimos aquellos juegos de votación para los cuales el valor de Shapley puede ser determinado en tiempo polinomial. Esto se logra utilizando el enfoque de enumeración directa (es decir, enumerando todas las posibles coaliciones y encontrando la contribución marginal de un jugador a cada una de ellas). Caracterizamos dichos juegos en términos del número de jugadores y sus pesos. 3.1 Todos los jugadores tienen el mismo peso. Consideremos el juego q; j, . . . , j con m participantes. Cada partido tiene j votos. Si q ≤ j, entonces no habría necesidad de que los jugadores formen una coalición. Por otro lado, si q = mj (m = |N| es el número de jugadores), solo la gran coalición es posible. Los juegos interesantes son aquellos para los cuales la cuota (q) satisface la restricción: (j + 1) ≤ q ≤ j(m − 1). Para estos juegos, el valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕ denote el valor de Shapley para un jugador. Considera a cualquier jugador. Este jugador puede unirse a una coalición como el miembro i-ésimo donde 1 ≤ i ≤ m. Sin embargo, la contribución marginal del jugador es de 1 solo si se une a una coalición como el miembro q/j-ésimo. En todos los demás casos, su contribución marginal es cero. Por lo tanto, el valor de Shapley para cada jugador ϕ = 1/m. Dado que ϕ requiere una operación de división, se puede encontrar en tiempo constante (es decir, O(1)). 3.2 Una sola gran fiesta Considera un juego en el que hay dos tipos de jugadores: grandes (con peso wl > ws) y pequeños (con peso ws). Hay un jugador grande y m pequeños. La cuota para este juego es q; es decir, tenemos un juego de la forma q; wl, ws, ws, . . . , ws. El número total de jugadores es (m + 1). El valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕl denote el valor de Shapley para el jugador grande y ϕs para cada jugador pequeño. Primero consideramos ws = 1 y luego ws > 1. El valor más pequeño posible para q es wl + 1. Esto se debe a que, si q ≤ wl, entonces el partido grande puede ganar las elecciones por sí solo sin necesidad de formar una coalición. Por lo tanto, la cuota para el juego satisface la restricción wl + 1 ≤ q ≤ m + wl − 1. Además, los límites inferior y superior para wl son 2 y (q − 1) respectivamente. El límite inferior es 2 porque el peso de la gran fiesta tiene que ser mayor que cada uno de los pequeños. Además, el peso del gran partido no puede ser mayor que q, ya que en ese caso, no habría necesidad de que el gran partido forme una coalición. Recuerda que para nuestro juego de votación, la contribución marginal de un jugador a una coalición solo puede ser cero o uno. Considera la gran fiesta. Este partido puede unirse a una coalición como el i-ésimo miembro donde 1 ≤ i ≤ (m + 1). Sin embargo, la contribución marginal del partido grande es uno si se une a una coalición como el miembro i-ésimo donde (q − wl) ≤ i < q. En todos los casos restantes, su contribución marginal es cero. Por lo tanto, de los casos totales posibles (m + 1), su contribución marginal es de uno en wl casos. Por lo tanto, el valor de Shapley del partido grande es: ϕl = wl/(m + 1). De la misma manera, obtenemos el valor de Shapley del gran partido para el caso general donde ws > 1 como: ϕl = wl/ws /(m + 1). Ahora consideremos a un jugador pequeño. Sabemos que la suma de los valores de Shapley de todos los m+1 jugadores es uno. Además, dado que los partidos pequeños tienen el mismo peso, sus valores de Shapley son iguales. Por lo tanto, obtenemos: ϕs = 1 − ϕl m. Por lo tanto, tanto ϕl como ϕs se pueden calcular en tiempo constante. Esto se debe a que ambos requieren un número constante de operaciones básicas (suma, resta, multiplicación y división). De la misma manera, el valor de Shapley para un juego de votación con un único partido grande y múltiples partidos pequeños puede determinarse en tiempo constante. 3.3 Múltiples partidos grandes y pequeños Ahora consideramos un juego de votación que tiene dos tipos de jugadores: grandes y pequeños (como en la Sección 3.2), pero ahora hay múltiples partidos grandes y múltiples partidos pequeños. El conjunto de partidos consiste en ml partidos grandes y ms partidos pequeños. El peso de cada fiesta grande es wl y el de cada fiesta pequeña es ws, donde ws < wl. Mostramos la factibilidad computacional de este juego considerando los siguientes cuatro posibles escenarios: S1 q ≤ mlwl y q ≤ msws S2 q ≤ mlwl y q ≥ msws S3 q ≥ mlwl y q ≥ msws S4 q ≥ mlwl y q ≤ msws Para el primer escenario, considera un jugador grande. Para determinar el valor de Shapley para este jugador, necesitamos considerar el número de todas las posibles coaliciones que le otorgan una contribución marginal de uno. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores grandes está entre cero y (q −1)/wl. En otras palabras, hay (q −1)/wl +1 casos de este tipo y ahora consideramos cada uno de ellos. El Sexto Internacional. Considera una coalición tal que cuando el jugador grande se une, hay i jugadores grandes y (q − iwl − 1)/ws jugadores pequeños ya en ella, y los jugadores restantes se unen después del jugador grande. Una coalición de este tipo otorga una contribución marginal a la unidad de jugador grande. Que C2 l (i, q) denote el número de todas esas coaliciones. Para empezar, considera el caso i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « donde C(y, x) denota el número de posibles combinaciones de x elementos de un conjunto de y elementos. Para i = 1, obtenemos: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « En general, para i > 1, obtenemos: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Por lo tanto, el valor de Shapley de los jugadores grandes es: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) Para un i dado, el tiempo para encontrar C2 l (i, q) es O(T) donde T = (mlms(q − iwl − 1)(ml + ms))/ws Por lo tanto, el tiempo para encontrar el valor de Shapley es O(T q/wl). De la misma manera, el valor de Shapley de un jugador pequeño es: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) y puede encontrarse en tiempo O(T q/ws). Asimismo, se puede demostrar que los tres escenarios restantes (S2 a S4) tienen la misma complejidad temporal. 3.4 Tres tipos de jugadores Ahora consideramos un juego de votación que tiene tres tipos de jugadores: 1, 2 y 3. El conjunto de fiestas consiste en m1 jugadores de tipo 1 (cada uno con peso w1), m2 jugadores de tipo 2 (cada uno con peso w2) y m3 jugadores de tipo 3 (cada uno con peso w3). Para este juego de votación, considera a un jugador de tipo 1. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores de tipo 1 está entre cero y (q − 1)/w1. En otras palabras, hay (q − 1)/w1 + 1 casos de este tipo y ahora consideramos cada uno de ellos. Considera una coalición tal que cuando el jugador de tipo 1 se une, ya hay i jugadores de tipo 1 en ella. Los jugadores restantes se unen después del jugador de tipo 1. Que C3 l (i, q) denote el número de todas las coaliciones que dan una contribución marginal de uno al jugador de tipo 1 donde: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Por lo tanto, el valor de Shapley del jugador de tipo 1 es: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) La complejidad temporal de encontrar este valor es O(T q2 /w1w2) donde: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Del mismo modo, para los otros dos tipos de jugadores (2 y 3). Por lo tanto, hemos identificado juegos para los cuales el valor de Shapley exacto puede determinarse fácilmente. Sin embargo, la complejidad computacional del método de enumeración directa anterior aumenta con el número de tipos de jugadores. Para un juego de votación con más de tres tipos de jugadores, la complejidad temporal del método anterior es un polinomio de grado cuatro o superior. Para hacer frente a tales situaciones, por lo tanto, la siguiente sección presenta un método aleatorio más rápido para encontrar el valor de Shapley aproximado. 4. ENCONTRANDO EL VALOR DE SHAPLEY APROXIMADO Primero damos una breve introducción a los algoritmos aleatorizados y luego presentamos nuestro método aleatorizado para encontrar el valor de Shapley aproximado. Los algoritmos aleatorizados son el enfoque más comúnmente utilizado para encontrar soluciones aproximadas a problemas computacionalmente difíciles. Un algoritmo aleatorizado es un algoritmo que, durante algunas de sus etapas, realiza elecciones al azar [2]. Los pasos aleatorios realizados por el algoritmo implican que al ejecutar el algoritmo varias veces con la misma entrada no estamos garantizados de encontrar la misma solución. Ahora, dado que dichos algoritmos generan soluciones aproximadas, su rendimiento se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. El error de aproximación se refiere a la diferencia entre la solución exacta y su aproximación. En este contexto, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y evaluamos empíricamente su error. Primero describimos el juego de votación general y luego presentamos nuestro algoritmo aleatorio. En su forma general, un juego de votación tiene más de dos tipos de jugadores. Que w_i denote el peso del jugador i. Por lo tanto, para m jugadores y para la cuota q, el juego es de la forma q; w1, w2, . . . , wm. Los pesos están especificados en términos de una función de distribución de probabilidad. Para un juego como este, queremos encontrar el valor aproximado de Shapley. Dejamos que P denote una población de jugadores. Los pesos de los jugadores en esta población están definidos por una función de distribución de probabilidad. Independientemente de la función de distribución de probabilidad real, sea μ la media del peso para la población de jugadores y ν la varianza en los pesos de los jugadores. De esta población de jugadores extraemos muestras al azar y encontramos la suma de los pesos de los jugadores en la muestra utilizando la siguiente regla de la Teoría del Muestreo (ver [8] p425): Si w1, w2, . . . , wn es una muestra aleatoria de tamaño n extraída de cualquier distribución con media μ y varianza ν, entonces la suma de la muestra tiene una distribución Normal aproximada con media nμ y varianza ν n (cuanto mayor sea n, mejor será la aproximación). 962 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Población de jugadores μ: Peso medio de la población P ν: Varianza en los pesos para la población P q: Cuota para el juego de votación wi: Peso del jugador 1. Ti ← 0; a ← q − wi; b ← q − 2. \n\nTi ← 0; a ← q - wi; b ← q - 2. Para X de 1 a m, repetir lo siguiente 2.1. Selecciona una muestra aleatoria SX de tamaño X de la población P 2.2. Evaluar la contribución marginal esperada (ΔX i ) del jugador i a SX como: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3. Ti ← Ti + ΔX i 3. \n\nTi ← Ti + ΔX i 3. Evaluar el valor de Shapley del jugador i como: ϕi ← Ti/m Tabla 1: Algoritmo aleatorizado para encontrar el valor de Shapley para el jugador i. Sabemos, a partir de la Definición 1, que el valor de Shapley para un jugador es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar. Utilizamos esta regla para determinar el valor de Shapley de la siguiente manera. Para el jugador i con peso wi, dejemos que ϕi denote el valor de Shapley. Que X denote el tamaño de una muestra aleatoria extraída de una población en la que los pesos de los jugadores individuales tienen cualquier distribución. La contribución marginal del jugador i a esta muestra aleatoria es uno si el peso total de los jugadores X en la muestra es mayor o igual a a = q - wi pero menor que b = q - (donde es una cantidad infinitesimalmente pequeña). De lo contrario, su contribución marginal es cero. Por lo tanto, la contribución marginal esperada del jugador i (denotada como ΔX i ) a la coalición de muestra es el área bajo la curva definida por N(Xμ, ν X ) en el intervalo [a, b]. Esta área se muestra como la región B en la Figura 1 (la línea punteada en la figura es Xμ). Por lo tanto, obtenemos: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) y el valor de Shapley es: ϕi = 1 m mX X=1 ΔX i (3). Los pasos anteriores se describen en la Tabla 1. Con más detalle, el Paso 1 realiza la inicialización. En el Paso 2, variamos X entre 1 y m y repetidamente hacemos lo siguiente. En el Paso 2.1, seleccionamos aleatoriamente una muestra SX de tamaño X de la población P. La contribución marginal del jugador a la coalición aleatoria SX se encuentra en el Paso 2.2. El promedio de la contribución marginal se encuentra en el Paso 3, y este es el valor de Shapley para el jugador i. TEOREMA 1. La complejidad temporal del método aleatorio propuesto es lineal en el número de jugadores. PRUEBA. Según la Ecuación 3, ΔX i debe ser calculado m veces. Esto se hace en el bucle for del Paso 2 en la Tabla 1. Por lo tanto, la complejidad temporal de calcular el valor de Shapley de un jugador es O(m). La siguiente sección analiza el error de aproximación para el método propuesto. 5. RENDIMIENTO DEL MÉTODO ALEATORIO Primero derivamos la fórmula para medir el error en el valor de Shapley aproximado y luego realizamos experimentos para evaluar este error en una amplia gama de configuraciones. Sin embargo, antes de hacerlo, introducimos la idea del error. El concepto de error se relaciona con una medición realizada de una cantidad que tiene un valor aceptado [22, 4]. Obviamente, no se puede determinar exactamente cuán lejos está una medición del valor aceptado; si esto fuera posible, sería factible simplemente proporcionar un valor corregido más preciso. Por lo tanto, el error tiene que ver con la incertidumbre en las mediciones sobre la que no se puede hacer nada. Si se repite una medición, los valores obtenidos serán diferentes y ninguno de los resultados puede ser preferido sobre los demás. Sin embargo, aunque no sea posible hacer nada al respecto de tal error, sí se puede caracterizar. Como se describe en la Sección 4, realizamos mediciones en muestras que se extraen al azar de una población dada (P) de jugadores. Ahora, existen errores estadísticos asociados con el muestreo que son inevitables y deben ser aceptados. Por lo tanto, si el resultado de una medición va a tener significado, no puede consistir únicamente en el valor medido. También se debe incluir una indicación de cuán precisa es el resultado. Por lo tanto, el resultado de cualquier medición física tiene dos componentes esenciales: 1. un valor numérico que proporciona la mejor estimación posible de la cantidad medida, y 2. el grado de incertidumbre asociado con este valor estimado. Por ejemplo, si la estimación de una cantidad es x y la incertidumbre es e(x), la cantidad estaría en x ± e(x). Para experimentos de muestreo, el error estándar es, con mucho, la forma más común de caracterizar la incertidumbre [22]. Dado esto, la siguiente sección define este error y lo utiliza para evaluar el rendimiento del método aleatorio propuesto. 5.1 Error de aproximación La precisión del método aleatorio anterior depende de su error de muestreo, el cual se define de la siguiente manera [22, 4]: DEFINICIÓN 2. El error de muestreo (o error estándar) se define como la desviación estándar de un conjunto de mediciones dividida por la raíz cuadrada del número de mediciones. Con este fin, sea e(σX) el error de muestreo en la suma de los pesos para una muestra de tamaño X extraída de la distribución N(Xμ, νX) donde: e(σX) = p(ν/X) / p(X) = p(ν) / X (4). Sea e(ΔXi) el error en la contribución marginal para el jugador i (dado en la Ecuación 2). Este error se obtiene propagando el error en la Ecuación 4 a la Ecuación 2. En la Ecuación 2, a y b son los límites inferior y superior para la suma de los pesos de los jugadores para The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Suma de pesos Z1 Z2 Figura 1: Una distribución normal para la suma de los pesos de los jugadores en una coalición de tamaño X. 40 60 80 100 0 50 100 0 5 10 15 20 25 Peso de cuota Porcentaje de error en el valor de Shapley Figura 2: Rendimiento del método aleatorio para m = 10 jugadores en una coalición de tamaño X. Dado que el error en esta suma es e(σX), los valores reales de a y b se encuentran en el intervalo a ± e(σX) y b ± e(σX) respectivamente. Por lo tanto, el error en la Ecuación 2 es la probabilidad de que la suma se encuentre entre los límites a - e(σX) y a (es decir, el área bajo la curva definida por N(Xμ, ν X) entre a - e(σX) y a, que es la región sombreada A en la Figura 1) o la probabilidad de que la suma de los pesos se encuentre entre los límites b y b+e(σX) (es decir, el área bajo la curva definida por N(Xμ, ν X) entre b y b + e(σX), que es la región sombreada C en la Figura 1). Más específicamente, el error es el máximo de estas dos probabilidades: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « Con base en el error anterior, encontramos el error en el valor de Shapley utilizando las siguientes reglas estándar de propagación de errores [22]: R1 Si x e y son dos variables aleatorias con errores e(x) y e(y) respectivamente, entonces el error en la variable aleatoria z = x + y se da por: e(z) = e(x) + e(y) R2 Si x es una variable aleatoria con error e(x) y z = kx donde 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 CuotaPeso Porcentajeerror en el valor de Shapley Figura 3: Rendimiento del método aleatorizado para m = 50 jugadores. la constante k no tiene error, entonces el error en z es: e(z) = |k|e(x) Utilizando las reglas anteriores, el error en el valor de Shapley (dado en la Ecuación 3) se obtiene propagando el error en la Ecuación 4 a todas las coaliciones entre los tamaños X = 1 y X = m. Sea e(ϕi) este error donde: e(ϕi) = 1 m mX X=1 e(ΔX i ) Analizamos el rendimiento de nuestro método en términos del porcentaje de error PE en el valor de Shapley aproximado, que se define de la siguiente manera: PE = 100 × e(ϕi)/ϕi (5) 5.2 Resultados Experimentales Ahora calculamos el porcentaje de error en el valor de Shapley utilizando la ecuación anterior para PE. Dado que este error depende de los parámetros del juego de votación, lo evaluamos en una variedad de configuraciones al variar sistemáticamente los parámetros del juego de votación. En particular, realizamos experimentos en el siguiente entorno. Para un jugador con peso w, el error porcentual en el valor de Shapley de un jugador depende de los siguientes cinco parámetros (ver Ecuación 3): 1. El número de fiestas (m). 2. El peso medio (μ). 3. La varianza en los pesos de los jugadores (ν). 4. La cuota para el juego de votación (q) es de 5. El peso de los jugadores dados (w). Fijamos μ = 10 y ν = 1. Esto se debe a que, para la distribución normal, μ = 10 asegura que para casi todos los jugadores el peso es positivo, y ν = 1 se utiliza con mayor frecuencia en experimentos estadísticos (ν puede ser mayor o menor pero PE aumenta en ν, ver Ecuaciones 4 y 5). Luego variamos m, q y w de la siguiente manera. Variamos m entre 5 y 100 (ya que más allá de 100 encontramos que el error es cercano a cero), para cada m variamos q entre 4μ y mμ (imponemos estos límites porque aseguran que el tamaño del 964 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 Peso de la cuota Porcentaje de error en el valor de Shapley Figura 4: Rendimiento del método aleatorio para m = 100 jugadores. La coalición ganadora es más de uno y menos que m - ver la Sección 3 para más detalles), y para cada q, variamos w entre 1 y q−1 (porque una coalición ganadora debe contener al menos dos jugadores). Los resultados de estos experimentos se muestran en las Figuras 2, 3 y 4. Como se observa en las figuras, la PE máxima es alrededor del 20% y en la mayoría de los casos es inferior al 5%. Ahora analizamos el efecto de los tres parámetros: w, q y m en el error porcentual con más detalle. - Efecto de w. El EP depende de e(σX) porque, en la Ecuación 5, los límites de integración dependen de e(σX). El intervalo sobre el cual se realiza la primera integración en la Ecuación 5 es a − a + e(σX) = e(σX), y el intervalo sobre el cual se realiza la segunda es b + e(σX) − b = e(σX). Por lo tanto, el intervalo es el mismo para ambas integraciones y es independiente de wi. Ten en cuenta que cada una de las dos funciones que se integran en la Ecuación 5 son iguales a la función que se integra en la Ecuación 2. Solo los límites de la integración son diferentes. Además, el intervalo sobre el cual se realiza la integración para la contribución marginal de la Ecuación 2 es b − a = wi − (ver Figura 1). El error en la contribución marginal es el área de la región sombreada A (entre a − e(σX ) y a) en la Figura 1, o el área sombreada C (entre b y b + e(σX )). Según la Ecuación 5, es el máximo de estas dos áreas. Dado que e(σX) es independiente de wi, a medida que wi aumenta, e(σX) permanece invariable. Sin embargo, el área de la región no sombreada B aumenta. Por lo tanto, a medida que wi aumenta, el error en la contribución marginal disminuye y PE también disminuye. - Efecto de q. Para un q dado, el valor de Shapley para el jugador i es el que se indica en la Ecuación 3. Sabemos que, para una muestra de tamaño X, la suma de los pesos de los jugadores se distribuye normalmente con media Xμ y varianza ν/X. Dado que el 99% de una distribución normal se encuentra dentro de dos desviaciones estándar de su media [8], la contribución marginal de un jugador a una muestra de tamaño X es casi cero si: a < Xμ + 2 p ν/X o b > Xμ − 2 p ν/X. Esto se debe a que las tres regiones A, B y C (en la Figura 1) se encuentran ya sea a la derecha de Z2 o a la izquierda de Z1. Sin embargo, la contribución marginal del jugador es mayor que cero para aquellos X para los cuales se satisface la siguiente restricción: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X. Para esta restricción, las tres regiones A, B y C se encuentran en algún lugar entre Z1 y Z2. Dado que a = q −wi y b = q −, la Ecuación 6 también se puede escribir como: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X. El valor más pequeño de X que satisface la restricción en la Ecuación 6 aumenta estrictamente con q. A medida que X aumenta, el error en la suma de pesos en una muestra (es decir, e(σX) = p(ν)/X) disminuye. Por consiguiente, el error en la contribución marginal de un jugador (ver Ecuación 5) también disminuye. Esto implica que a medida que q aumenta, el error en la contribución marginal (y consecuentemente el error en el valor de Shapley) disminuye. - Efecto de m. Es claro a partir de la Ecuación 4 que el error e(σX) es mayor para X = 1 y disminuye con X. Por lo tanto, para valores pequeños de m, e(σ1) tiene un efecto significativo en PE. Pero a medida que m aumenta, el efecto de e(σ1) en PE disminuye y, como resultado, PE disminuye. TRABAJO RELACIONADO Para superar la complejidad computacional de encontrar el valor de Shapley, se han propuesto dos enfoques principales en la literatura. Un enfoque es utilizar funciones generadoras [3]. Este método es un procedimiento exacto que supera el problema de la complejidad temporal, pero sus requisitos de almacenamiento son sustanciales, ya que requiere matrices enormes. También tiene la limitación (no compartida por otros enfoques) de que solo se puede aplicar a juegos con pesos y cuotas enteras. El otro método utiliza una técnica de aproximación basada en la simulación de Monte Carlo. En [12], por ejemplo, el valor de Shapley se calcula considerando una muestra aleatoria de una gran población de jugadores. El método que proponemos difiere de esto en que ellos definen el valor de Shapley tratando el número de turnos de un jugador (si un jugador puede cambiar una coalición perdedora a una ganadora, entonces, para el jugador, la coalición se cuenta como un turno) como una variable aleatoria, mientras que nosotros tratamos los pesos de los jugadores como variables aleatorias. En [12], sin embargo, la pregunta sigue siendo cómo obtener el número de rondas a partir de la definición de un juego de votación y cuál es la complejidad temporal de hacer esto. Dado que el juego de votación se define en función de los pesos de los jugadores y el número de votos se obtiene a partir de estos pesos, nuestro método se corresponde más estrechamente con la definición del juego de votación. Nuestro método también difiere de [7] en que mientras [7] presenta un método para el caso en el que todos los pesos de los jugadores están distribuidos normalmente, nuestro método se aplica a cualquier tipo de distribución para estos pesos. Por lo tanto, como se indica en la Sección 1, nuestro método es más general que [3, 12, 7]. Además, a diferencia de todo el trabajo mencionado anteriormente, proporcionamos un análisis del rendimiento de nuestro método en términos del error porcentual en el valor de Shapley aproximado. Un método para encontrar el valor de Shapley también fue propuesto en [5]. Este método proporciona el valor de Shapley exacto, pero su complejidad temporal es exponencial. Además, el método solo se puede utilizar si el juego está representado en una forma específica (es decir, la representación de múltiples problemas), de lo contrario no. Finalmente, [9, 10] presentan un método de tiempo polinómico para encontrar el valor de Shapley. Este método se puede utilizar si el juego de coalición se representa como una red de contribución marginal. Además, asumen que el valor de Shapley de un componente de un juego de coalición dado es proporcionado por un oráculo, y en base a esta suposición agregan estos valores para encontrar el valor del juego en general. Por el contrario, nuestro método es independiente de The Sixth Intl. La Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 965 de la representación y proporciona un valor de Shapley aproximado en tiempo lineal, sin necesidad de un oráculo. 7. CONCLUSIONES Y TRABAJO FUTURO La formación de coaliciones es una forma importante de interacción en sistemas multiagentes. Un tema importante en este tipo de trabajo es que los agentes decidan cómo dividir las ganancias de la cooperación entre los miembros de una coalición. En este contexto, la teoría de juegos cooperativos ofrece un concepto de solución llamado el valor de Shapley. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. Sin embargo, su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, el problema de encontrar este valor para el juego de votación es #P-completo. Aunque este problema es, en general, #P-completo, demostramos que hay algunos juegos de votación específicos para los cuales el valor de Shapley puede determinarse en tiempo polinómico y caracterizamos dichos juegos. Al hacerlo, hemos demostrado cuándo es computacionalmente factible encontrar el valor de Shapley exacto. Para otros juegos de votación complejos, presentamos un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal del método propuesto es lineal en el número de jugadores. Analizamos el rendimiento de este método en términos del error porcentual en el valor de Shapley aproximado. Nuestros experimentos muestran que el error porcentual en el valor de Shapley es como máximo del 20%. Además, en la mayoría de los casos, el error es menor al 5%. Finalmente, analizamos el efecto de los diferentes parámetros del juego de votación en este error. Nuestro estudio muestra que el error disminuye a medida que aumenta 1. el peso de los jugadores, 2. la cuota aumenta y 3. el número de jugadores aumenta. Dado que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. En el futuro, exploraremos el problema de determinar el valor de Shapley para otros juegos de coalición comúnmente presentes, como la economía de producción y la economía de mercado. 8. REFERENCIAS [1] R. Aumann. Puntos aceptables en juegos cooperativos n-persona en general. En Contribuciones a la Teoría de Juegos volumen IV. Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, y M. Protasi. Complejidad y aproximación: Problemas de optimización combinatoria y sus propiedades de aproximabilidad. Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada y J. J. Lopez. Funciones generadoras para calcular índices de poder de manera eficiente. Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz y M. Regler. Técnicas de Análisis de Datos en Experimentos de Física de Altas Energías. Cambridge University Press, 1993. [5] V. Conitzer y T. Sandholm. Calculando los valores de Shapley, manipulando esquemas de división de valor y verificando la pertenencia al núcleo en dominios de múltiples problemas. En Actas de la Conferencia Nacional de Inteligencia Artificial, páginas 219-225, San José, California, 2004. [6] X. Deng y C. H. Papadimitriou. Sobre la complejidad de los conceptos de solución cooperativa. Matemáticas de la Investigación de Operaciones, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge y N. R. Jennings. Un análisis del valor de Shapley y su incertidumbre para el juego de votación. En Proc. 7th Int. Taller sobre Comercio Electrónico Mediado por Agentes, páginas 39-52, 2005. [8] A. Francis. Estadísticas de Nivel Avanzado. Stanley Thornes Publishers, 1979. [9] S. Ieong y Y. Shoham. Contribución marginal neta: Un esquema de representación compacto para juegos coalicionales. En Actas de la Sexta Conferencia de la ACM sobre Comercio Electrónico, páginas 193-202, Vancouver, Canadá, 2005. [10] S. Ieong y Y. Shoham. Juegos de coalición de múltiples atributos. En Actas de la Séptima Conferencia de la ACM sobre Comercio Electrónico, páginas 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan y A. Rapoport. Teorías de formación de coaliciones. Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann y L. S. Shapley. Valores para juegos grandes iv: Evaluando el colegio electoral exactamente. Informe técnico, The RAND Corporation, Santa Mónica, 1962. [13] A. Mas-Colell, M. Whinston y J. R. Green. Teoría microeconómica. Oxford University Press, 1995. [14] M. J. Osborne y A. Rubinstein. Un curso de teoría de juegos. El MIT Press, 1994. [15] C. H. Papadimitriou. Complejidad computacional. Addison Wesley Longman, 1994. [16] A. Rapoport. \n\nAddison Wesley Longman, 1994. [16] A. Rapoport. Teoría de juegos N-personas: Conceptos y aplicaciones. Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.\nDover Publications, Mineola, NY, 2001. [17] A. E. Roth. Introducción al valor de Shapley. En A. E. Roth, editor, El valor de Shapley, páginas 1-27. Editorial de la Universidad de Cambridge, Cambridge, 1988. [18] T. Sandholm y V. Lesser. Coaliciones entre agentes limitados computacionalmente. Revista de Inteligencia Artificial, 94(1):99-137, 1997. [19] L. S. Shapley. Un valor para juegos de n personas. En A. E. Roth, editor, El valor de Shapley, páginas 31-40. Universidad de Cambridge Press, Cambridge, 1988. [20] O. Shehory y S. Kraus. Un modelo orientado al núcleo para la formación de coaliciones en entornos generales: Implementación y resultados. En Actas de la Conferencia Nacional de Inteligencia Artificial (AAAI-96), páginas 131-140, 1996. [21] O. Shehory y S. Kraus. Métodos para la asignación de tareas a través de la formación de coaliciones de agentes. Revista de Inteligencia Artificial, 101(2):165-200, 1998. [22] J. R. Taylor. Una introducción al análisis de errores: El estudio de las incertidumbres en las mediciones físicas. University Science Books, 1982. 966 La Sexta Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "cooperative game theory": {
            "translated_key": "teoría de juegos cooperativos",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, <br>cooperative game theory</br> deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "<br>cooperative game theory</br> differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-<br>cooperative game theory</br>, <br>cooperative game theory</br> does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, <br>cooperative game theory</br> offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [
                "In this context, <br>cooperative game theory</br> deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "<br>cooperative game theory</br> differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-<br>cooperative game theory</br>, <br>cooperative game theory</br> does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "In this context, <br>cooperative game theory</br> offers a solution concept called the Shapley value."
            ],
            "translated_annotated_samples": [
                "En este contexto, la <br>teoría de juegos cooperativos</br> aborda el problema de la formación de coaliciones y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14].",
                "La <br>teoría de juegos cooperativos</br> difiere de su contraparte no cooperativa en que, para la primera, a los jugadores se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor ganancia total.",
                "Además, a diferencia de la teoría de juegos no cooperativos, la <br>teoría de juegos cooperativos</br> no especifica un juego a través de una descripción del entorno estratégico (incluyendo el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los resultados de pagos, sino que, en cambio, reduce esta colección de datos a la forma coalicional donde cada coalición está representada por un único número real: no hay acciones, movimientos o pagos individuales.",
                "En este contexto, la <br>teoría de juegos cooperativos</br> ofrece un concepto de solución llamado el valor de Shapley."
            ],
            "translated_text": "Un Método Aleatorio para el Valor de Shapley para el Juego de Votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido. El valor de Shapley es uno de los conceptos clave de solución para juegos de coalición. Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, se sabe que el problema de encontrar este valor para el juego de votación es #P-completo en el caso general. Sin embargo, en este artículo, demostramos que hay algunos juegos de votación específicos para los cuales el problema es computacionalmente manejable. Para otros juegos de votación generales, superamos el problema de la complejidad computacional presentando un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal de este método es lineal en el número de jugadores. También demostramos, a través de estudios empíricos, que el porcentaje de error para el método propuesto siempre es inferior al 20% y, en la mayoría de los casos, inferior al 5%. Categorías y Descriptores de Asignaturas I.2.11 [Inteligencia Artificial Distribuida]: Sistemas Multiagente Términos Generales Algoritmos, Diseño, Teoría 1. FORMACIÓN DE COALICIONES, una forma clave de interacción en sistemas multiagente, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13]. A menudo, en tales situaciones, hay más de una coalición posible y la recompensa de un jugador depende de cuál se una. Dado esto, un problema clave es asegurar que ninguna de las partes en una coalición tenga algún incentivo para separarse de ella y unirse a otra coalición (es decir, las coaliciones deben ser estables). Sin embargo, en muchos casos puede haber más de una solución (es decir, una coalición estable). En tales casos, se vuelve difícil seleccionar una única solución entre las posibles, especialmente si las partes están interesadas en sí mismas (es decir, tienen preferencias diferentes sobre coaliciones estables). En este contexto, la <br>teoría de juegos cooperativos</br> aborda el problema de la formación de coaliciones y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14]. La <br>teoría de juegos cooperativos</br> difiere de su contraparte no cooperativa en que, para la primera, a los jugadores se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor ganancia total. Además, a diferencia de la teoría de juegos no cooperativos, la <br>teoría de juegos cooperativos</br> no especifica un juego a través de una descripción del entorno estratégico (incluyendo el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los resultados de pagos, sino que, en cambio, reduce esta colección de datos a la forma coalicional donde cada coalición está representada por un único número real: no hay acciones, movimientos o pagos individuales. La principal ventaja de este enfoque, al menos en entornos de múltiples jugadores, es su utilidad práctica. Por lo tanto, muchas más situaciones de la vida real encajan más fácilmente en un juego de forma coalicional, cuya estructura es más manejable que la de un juego no cooperativo, ya sea en forma normal o extensiva, y es por esta razón que nos enfocamos en tales formas en este artículo. Dadas estas observaciones, varios investigadores de sistemas multiagentes han utilizado y ampliado soluciones cooperativas de teoría de juegos para facilitar la formación automatizada de coaliciones [20, 21, 18]. Además, en este trabajo, uno de los conceptos de solución más estudiados en profundidad es el valor de Shapley [19]. El valor de Shapley de un jugador da una indicación de sus perspectivas de jugar el juego: cuanto mayor sea el valor de Shapley, mejores serán sus perspectivas. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa (ver Sección 2.1 para una discusión de la propiedad de equidad). Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene una desventaja importante: para muchos juegos de coalición, no se puede determinar en tiempo polinómico. Por ejemplo, encontrar este valor para el juego de votación ponderada es, en general, #P-completo [6]. Un problema es #P-difícil si resolverlo es tan difícil como contar asignaciones satisfactorias de fórmulas de lógica proposicional [15, p442]. Dado que la #P-completitud subsume la NP-completitud, esto implica que calcular el valor de Shapley para el juego de votación ponderada será intratable en general. En otras palabras, es prácticamente inviable intentar calcular el valor de Shapley exacto. Sin embargo, el juego de votación tiene relevancia práctica para los sistemas multiagente, ya que es un medio importante para llegar a un consenso entre múltiples agentes. Por lo tanto, nuestro objetivo es superar la complejidad computacional de encontrar el valor de Shapley para este juego. Específicamente, primero demostramos que hay algunos juegos de votación específicos para los cuales el valor exacto se puede calcular en tiempo polinómico. Al identificar dichos juegos, mostramos, por primera vez, cuándo es factible encontrar el valor exacto y cuándo no lo es. Para los juegos de votación computacionalmente complejos, presentamos un nuevo método aleatorizado, siguiendo la línea de la simulación de Monte Carlo, para calcular el valor de Shapley aproximado. La complejidad computacional de este tipo de juegos suele abordarse mediante dos enfoques principales. El primero es usar funciones generadoras [3]. Este método intercambia complejidad temporal por espacio de almacenamiento. El segundo utiliza una técnica de aproximación basada en la simulación de Monte Carlo [12, 7]. Sin embargo, el método que proponemos es más general que cualquiera de estos (ver Sección 6 para más detalles). Además, ningún trabajo ha analizado previamente el error de aproximación. El error de aproximación se refiere a qué tan cerca está la aproximación del valor de Shapley real. Específicamente, es la diferencia entre el valor de Shapley real y el aproximado. Es importante determinar este error porque el rendimiento de un método de aproximación se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. Por lo tanto, nuestra contribución radica también en proporcionar, por primera vez, un análisis del error porcentual en el valor aproximado de Shapley. Este análisis se realiza de manera empírica. Nuestros experimentos muestran que el error siempre es menor al 20%, y en la mayoría de los casos es inferior al 5%. Finalmente, nuestro método tiene complejidad temporal lineal en el número de jugadores y no requiere ningún arreglo (es decir, es económico en términos tanto de tiempo de computación como de espacio de almacenamiento). Dado esto, y el hecho de que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. El resto del documento está organizado de la siguiente manera. La sección 2 define el valor de Shapley y describe el juego de votación ponderada. En la Sección 3 describimos juegos de votación cuyo valor de Shapley se puede encontrar en tiempo polinómico. En la Sección 4, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y analizamos su rendimiento en la Sección 5. La sección 6 discute la literatura relacionada. Finalmente, la Sección 7 concluye. 2. FONDO Comenzamos presentando los juegos de coalición y el valor de Shapley, y luego definimos el juego de votación ponderada. Un juego de coalición es un juego en el que grupos de jugadores (coaliciones) pueden promover un comportamiento cooperativo entre sus miembros. Por lo tanto, el juego es una competencia entre coaliciones de jugadores, en lugar de entre jugadores individuales. Dependiendo de cómo los jugadores midan la utilidad, la teoría de juegos de coalición se divide en dos partes. Si los jugadores miden la utilidad o la ganancia en las mismas unidades y hay un medio de intercambio de utilidad como pagos laterales, decimos que el juego tiene utilidad transferible; de lo contrario, tiene utilidad no transferible. Más formalmente, un juego de coalición con utilidad transferible, N, v, consiste en: 1. un conjunto finito (N = {1, 2, . . . , n}) de jugadores y 2. una función (v) que asocia a cada subconjunto no vacío S de N (es decir, una coalición) un número real v(S) (el valor de S). Para cada coalición S, el número v(S) es la ganancia total disponible para ser dividida entre los miembros de S (es decir, el conjunto de acciones conjuntas que la coalición S puede tomar consiste en todas las posibles divisiones de v(S) entre los miembros de S). Los juegos de coalición con pagos no transferibles difieren de los que tienen pagos transferibles de la siguiente manera. Para lo primero, cada coalición está asociada con un conjunto de vectores de pago que no necesariamente es el conjunto de todas las posibles divisiones de una cantidad fija. El enfoque de este documento se centra en el juego de votación ponderada (descrito en la Sección 2.1), que es un juego con pagos transferibles. Por lo tanto, en ambos casos, los jugadores solo se unirán a una coalición si esperan beneficiarse de ella. Aquí, a los jugadores se les permite formar acuerdos vinculantes, por lo que hay un fuerte incentivo para trabajar juntos y recibir la mayor ganancia total. El problema entonces es cómo dividir el pago total entre o entre los jugadores. En este contexto, Shapley [19] construyó una solución utilizando un enfoque axiomático. Shapley definió un valor para los juegos como una función que asigna a un juego (N, v), un número ϕi(N, v) para cada i en N. Esta función satisface tres axiomas [17]: 1. Simetría. Este axioma requiere que los nombres de los jugadores no jueguen ningún papel en la determinación del valor. 2. Portador. Este axioma requiere que la suma de ϕi(N, v) para todos los jugadores i en cualquier portador C sea igual a v(C). Un portador C es un subconjunto de N tal que v(S) = v(S ∩ C) para cualquier subconjunto de jugadores S ⊂ N. Aditividad. Este axioma especifica cómo deben relacionarse los valores de diferentes juegos entre sí. Se requiere que para cualquier juego ϕi(N, v) y ϕi(N, v), ϕi(N, v) + ϕi(N, v) = ϕi(N, v + v) para todo i en N. Shapley demostró que hay una función única que satisface estos tres axiomas. Shapley consideraba este valor como un índice para medir el poder de los jugadores en un juego. Al igual que un índice de precios u otros índices de mercado, el valor utiliza promedios (o promedios ponderados en algunas de sus generalizaciones) para agregar el poder de los jugadores en sus diversas oportunidades de cooperación. Alternativamente, se puede pensar en el valor de Shapley como una medida de la utilidad de jugadores neutrales al riesgo en un juego. Primero introducimos algunas notaciones y luego definimos el valor de Shapley. Sea S el conjunto N − {i} y fi : S → 2N−{i} una variable aleatoria que toma sus valores en el conjunto de todos los subconjuntos de N − {i}, y tiene la función de distribución de probabilidad (g) definida como: g(fi(S) = S) = |S|! (n − |S| − 1)! n! La variable aleatoria fi se interpreta como la elección aleatoria de una coalición a la que se une el jugador i. Entonces, el valor de Shapley de un jugador se define en términos de su contribución marginal. Por lo tanto, la contribución marginal del jugador i a la coalición S con i /∈ S es una función Δiv que se define de la siguiente manera: Δiv(S) = v(S ∪ {i}) − v(S). Así, la contribución marginal de un jugador a una coalición S es el aumento en el valor de S como resultado de que i se una a ella. DEFINICIÓN 1. El valor de Shapley (ϕi) del juego N, v para el jugador i es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar: ϕi(N, v) = E[Δiv ◦ fi] (1). El valor de Shapley se interpreta de la siguiente manera. Supongamos que todos los jugadores están dispuestos en algún orden, siendo todas las disposiciones igualmente probables. Entonces ϕi(N, v) es la contribución marginal esperada, sobre todas las ordenaciones, del jugador i al conjunto de jugadores que le preceden. El método para encontrar el valor de Shapley de un jugador depende de la definición de la función de valor (v). Esta función es diferente para diferentes juegos, pero aquí nos enfocamos específicamente en el juego de votación ponderada por las razones descritas en la Sección 1.960 de la Sexta Conferencia Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 2.1 El juego de votación ponderada Adoptamos la definición del juego de votación dada en [6]. Por lo tanto, hay un conjunto de n jugadores que pueden, por ejemplo, representar accionistas en una empresa o miembros en un parlamento. El juego de votación ponderada es entonces un juego G = N, v en el que: v(S) = j 1 si w(S) ≥ q 0 en caso contrario para algún q ∈ IR+ y wi ∈ IRN + , donde: w(S) = X i∈S wi para cualquier coalición S. Así, wi es el número de votos que tiene el jugador i y q es el número de votos necesarios para ganar el juego (es decir, la cuota). Ten en cuenta que para este juego (denotado q; w1, . . . , wn), la contribución marginal de un jugador es cero o uno. Esto se debe a que el valor de cualquier coalición es cero o uno. Una coalición con valor cero se llama una coalición perdedora y con valor uno una coalición ganadora. Si la entrada de un jugador a una coalición cambia de perder a ganar, entonces la contribución marginal del jugador para esa coalición es uno; de lo contrario, es cero. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. La propiedad de la unicidad es deseable porque no deja lugar a ambigüedades. La propiedad de equidad se relaciona con cómo se dividen las ganancias de la cooperación entre los miembros de una coalición. En este caso, el valor de Shapley de un jugador es proporcional a la contribución que realiza como miembro de una coalición; cuanto mayor sea su contribución, mayor será su valor. Por lo tanto, desde la perspectiva de un jugador, tanto la singularidad como la equidad son propiedades deseables. 3. JUEGOS DE VOTACIÓN CON SOLUCIONES EN TIEMPO POLINOMIAL Aquí describimos aquellos juegos de votación para los cuales el valor de Shapley puede ser determinado en tiempo polinomial. Esto se logra utilizando el enfoque de enumeración directa (es decir, enumerando todas las posibles coaliciones y encontrando la contribución marginal de un jugador a cada una de ellas). Caracterizamos dichos juegos en términos del número de jugadores y sus pesos. 3.1 Todos los jugadores tienen el mismo peso. Consideremos el juego q; j, . . . , j con m participantes. Cada partido tiene j votos. Si q ≤ j, entonces no habría necesidad de que los jugadores formen una coalición. Por otro lado, si q = mj (m = |N| es el número de jugadores), solo la gran coalición es posible. Los juegos interesantes son aquellos para los cuales la cuota (q) satisface la restricción: (j + 1) ≤ q ≤ j(m − 1). Para estos juegos, el valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕ denote el valor de Shapley para un jugador. Considera a cualquier jugador. Este jugador puede unirse a una coalición como el miembro i-ésimo donde 1 ≤ i ≤ m. Sin embargo, la contribución marginal del jugador es de 1 solo si se une a una coalición como el miembro q/j-ésimo. En todos los demás casos, su contribución marginal es cero. Por lo tanto, el valor de Shapley para cada jugador ϕ = 1/m. Dado que ϕ requiere una operación de división, se puede encontrar en tiempo constante (es decir, O(1)). 3.2 Una sola gran fiesta Considera un juego en el que hay dos tipos de jugadores: grandes (con peso wl > ws) y pequeños (con peso ws). Hay un jugador grande y m pequeños. La cuota para este juego es q; es decir, tenemos un juego de la forma q; wl, ws, ws, . . . , ws. El número total de jugadores es (m + 1). El valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕl denote el valor de Shapley para el jugador grande y ϕs para cada jugador pequeño. Primero consideramos ws = 1 y luego ws > 1. El valor más pequeño posible para q es wl + 1. Esto se debe a que, si q ≤ wl, entonces el partido grande puede ganar las elecciones por sí solo sin necesidad de formar una coalición. Por lo tanto, la cuota para el juego satisface la restricción wl + 1 ≤ q ≤ m + wl − 1. Además, los límites inferior y superior para wl son 2 y (q − 1) respectivamente. El límite inferior es 2 porque el peso de la gran fiesta tiene que ser mayor que cada uno de los pequeños. Además, el peso del gran partido no puede ser mayor que q, ya que en ese caso, no habría necesidad de que el gran partido forme una coalición. Recuerda que para nuestro juego de votación, la contribución marginal de un jugador a una coalición solo puede ser cero o uno. Considera la gran fiesta. Este partido puede unirse a una coalición como el i-ésimo miembro donde 1 ≤ i ≤ (m + 1). Sin embargo, la contribución marginal del partido grande es uno si se une a una coalición como el miembro i-ésimo donde (q − wl) ≤ i < q. En todos los casos restantes, su contribución marginal es cero. Por lo tanto, de los casos totales posibles (m + 1), su contribución marginal es de uno en wl casos. Por lo tanto, el valor de Shapley del partido grande es: ϕl = wl/(m + 1). De la misma manera, obtenemos el valor de Shapley del gran partido para el caso general donde ws > 1 como: ϕl = wl/ws /(m + 1). Ahora consideremos a un jugador pequeño. Sabemos que la suma de los valores de Shapley de todos los m+1 jugadores es uno. Además, dado que los partidos pequeños tienen el mismo peso, sus valores de Shapley son iguales. Por lo tanto, obtenemos: ϕs = 1 − ϕl m. Por lo tanto, tanto ϕl como ϕs se pueden calcular en tiempo constante. Esto se debe a que ambos requieren un número constante de operaciones básicas (suma, resta, multiplicación y división). De la misma manera, el valor de Shapley para un juego de votación con un único partido grande y múltiples partidos pequeños puede determinarse en tiempo constante. 3.3 Múltiples partidos grandes y pequeños Ahora consideramos un juego de votación que tiene dos tipos de jugadores: grandes y pequeños (como en la Sección 3.2), pero ahora hay múltiples partidos grandes y múltiples partidos pequeños. El conjunto de partidos consiste en ml partidos grandes y ms partidos pequeños. El peso de cada fiesta grande es wl y el de cada fiesta pequeña es ws, donde ws < wl. Mostramos la factibilidad computacional de este juego considerando los siguientes cuatro posibles escenarios: S1 q ≤ mlwl y q ≤ msws S2 q ≤ mlwl y q ≥ msws S3 q ≥ mlwl y q ≥ msws S4 q ≥ mlwl y q ≤ msws Para el primer escenario, considera un jugador grande. Para determinar el valor de Shapley para este jugador, necesitamos considerar el número de todas las posibles coaliciones que le otorgan una contribución marginal de uno. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores grandes está entre cero y (q −1)/wl. En otras palabras, hay (q −1)/wl +1 casos de este tipo y ahora consideramos cada uno de ellos. El Sexto Internacional. Considera una coalición tal que cuando el jugador grande se une, hay i jugadores grandes y (q − iwl − 1)/ws jugadores pequeños ya en ella, y los jugadores restantes se unen después del jugador grande. Una coalición de este tipo otorga una contribución marginal a la unidad de jugador grande. Que C2 l (i, q) denote el número de todas esas coaliciones. Para empezar, considera el caso i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « donde C(y, x) denota el número de posibles combinaciones de x elementos de un conjunto de y elementos. Para i = 1, obtenemos: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « En general, para i > 1, obtenemos: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Por lo tanto, el valor de Shapley de los jugadores grandes es: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) Para un i dado, el tiempo para encontrar C2 l (i, q) es O(T) donde T = (mlms(q − iwl − 1)(ml + ms))/ws Por lo tanto, el tiempo para encontrar el valor de Shapley es O(T q/wl). De la misma manera, el valor de Shapley de un jugador pequeño es: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) y puede encontrarse en tiempo O(T q/ws). Asimismo, se puede demostrar que los tres escenarios restantes (S2 a S4) tienen la misma complejidad temporal. 3.4 Tres tipos de jugadores Ahora consideramos un juego de votación que tiene tres tipos de jugadores: 1, 2 y 3. El conjunto de fiestas consiste en m1 jugadores de tipo 1 (cada uno con peso w1), m2 jugadores de tipo 2 (cada uno con peso w2) y m3 jugadores de tipo 3 (cada uno con peso w3). Para este juego de votación, considera a un jugador de tipo 1. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores de tipo 1 está entre cero y (q − 1)/w1. En otras palabras, hay (q − 1)/w1 + 1 casos de este tipo y ahora consideramos cada uno de ellos. Considera una coalición tal que cuando el jugador de tipo 1 se une, ya hay i jugadores de tipo 1 en ella. Los jugadores restantes se unen después del jugador de tipo 1. Que C3 l (i, q) denote el número de todas las coaliciones que dan una contribución marginal de uno al jugador de tipo 1 donde: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Por lo tanto, el valor de Shapley del jugador de tipo 1 es: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) La complejidad temporal de encontrar este valor es O(T q2 /w1w2) donde: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Del mismo modo, para los otros dos tipos de jugadores (2 y 3). Por lo tanto, hemos identificado juegos para los cuales el valor de Shapley exacto puede determinarse fácilmente. Sin embargo, la complejidad computacional del método de enumeración directa anterior aumenta con el número de tipos de jugadores. Para un juego de votación con más de tres tipos de jugadores, la complejidad temporal del método anterior es un polinomio de grado cuatro o superior. Para hacer frente a tales situaciones, por lo tanto, la siguiente sección presenta un método aleatorio más rápido para encontrar el valor de Shapley aproximado. 4. ENCONTRANDO EL VALOR DE SHAPLEY APROXIMADO Primero damos una breve introducción a los algoritmos aleatorizados y luego presentamos nuestro método aleatorizado para encontrar el valor de Shapley aproximado. Los algoritmos aleatorizados son el enfoque más comúnmente utilizado para encontrar soluciones aproximadas a problemas computacionalmente difíciles. Un algoritmo aleatorizado es un algoritmo que, durante algunas de sus etapas, realiza elecciones al azar [2]. Los pasos aleatorios realizados por el algoritmo implican que al ejecutar el algoritmo varias veces con la misma entrada no estamos garantizados de encontrar la misma solución. Ahora, dado que dichos algoritmos generan soluciones aproximadas, su rendimiento se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. El error de aproximación se refiere a la diferencia entre la solución exacta y su aproximación. En este contexto, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y evaluamos empíricamente su error. Primero describimos el juego de votación general y luego presentamos nuestro algoritmo aleatorio. En su forma general, un juego de votación tiene más de dos tipos de jugadores. Que w_i denote el peso del jugador i. Por lo tanto, para m jugadores y para la cuota q, el juego es de la forma q; w1, w2, . . . , wm. Los pesos están especificados en términos de una función de distribución de probabilidad. Para un juego como este, queremos encontrar el valor aproximado de Shapley. Dejamos que P denote una población de jugadores. Los pesos de los jugadores en esta población están definidos por una función de distribución de probabilidad. Independientemente de la función de distribución de probabilidad real, sea μ la media del peso para la población de jugadores y ν la varianza en los pesos de los jugadores. De esta población de jugadores extraemos muestras al azar y encontramos la suma de los pesos de los jugadores en la muestra utilizando la siguiente regla de la Teoría del Muestreo (ver [8] p425): Si w1, w2, . . . , wn es una muestra aleatoria de tamaño n extraída de cualquier distribución con media μ y varianza ν, entonces la suma de la muestra tiene una distribución Normal aproximada con media nμ y varianza ν n (cuanto mayor sea n, mejor será la aproximación). 962 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Población de jugadores μ: Peso medio de la población P ν: Varianza en los pesos para la población P q: Cuota para el juego de votación wi: Peso del jugador 1. Ti ← 0; a ← q − wi; b ← q − 2. \n\nTi ← 0; a ← q - wi; b ← q - 2. Para X de 1 a m, repetir lo siguiente 2.1. Selecciona una muestra aleatoria SX de tamaño X de la población P 2.2. Evaluar la contribución marginal esperada (ΔX i ) del jugador i a SX como: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3. Ti ← Ti + ΔX i 3. \n\nTi ← Ti + ΔX i 3. Evaluar el valor de Shapley del jugador i como: ϕi ← Ti/m Tabla 1: Algoritmo aleatorizado para encontrar el valor de Shapley para el jugador i. Sabemos, a partir de la Definición 1, que el valor de Shapley para un jugador es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar. Utilizamos esta regla para determinar el valor de Shapley de la siguiente manera. Para el jugador i con peso wi, dejemos que ϕi denote el valor de Shapley. Que X denote el tamaño de una muestra aleatoria extraída de una población en la que los pesos de los jugadores individuales tienen cualquier distribución. La contribución marginal del jugador i a esta muestra aleatoria es uno si el peso total de los jugadores X en la muestra es mayor o igual a a = q - wi pero menor que b = q - (donde es una cantidad infinitesimalmente pequeña). De lo contrario, su contribución marginal es cero. Por lo tanto, la contribución marginal esperada del jugador i (denotada como ΔX i ) a la coalición de muestra es el área bajo la curva definida por N(Xμ, ν X ) en el intervalo [a, b]. Esta área se muestra como la región B en la Figura 1 (la línea punteada en la figura es Xμ). Por lo tanto, obtenemos: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) y el valor de Shapley es: ϕi = 1 m mX X=1 ΔX i (3). Los pasos anteriores se describen en la Tabla 1. Con más detalle, el Paso 1 realiza la inicialización. En el Paso 2, variamos X entre 1 y m y repetidamente hacemos lo siguiente. En el Paso 2.1, seleccionamos aleatoriamente una muestra SX de tamaño X de la población P. La contribución marginal del jugador a la coalición aleatoria SX se encuentra en el Paso 2.2. El promedio de la contribución marginal se encuentra en el Paso 3, y este es el valor de Shapley para el jugador i. TEOREMA 1. La complejidad temporal del método aleatorio propuesto es lineal en el número de jugadores. PRUEBA. Según la Ecuación 3, ΔX i debe ser calculado m veces. Esto se hace en el bucle for del Paso 2 en la Tabla 1. Por lo tanto, la complejidad temporal de calcular el valor de Shapley de un jugador es O(m). La siguiente sección analiza el error de aproximación para el método propuesto. 5. RENDIMIENTO DEL MÉTODO ALEATORIO Primero derivamos la fórmula para medir el error en el valor de Shapley aproximado y luego realizamos experimentos para evaluar este error en una amplia gama de configuraciones. Sin embargo, antes de hacerlo, introducimos la idea del error. El concepto de error se relaciona con una medición realizada de una cantidad que tiene un valor aceptado [22, 4]. Obviamente, no se puede determinar exactamente cuán lejos está una medición del valor aceptado; si esto fuera posible, sería factible simplemente proporcionar un valor corregido más preciso. Por lo tanto, el error tiene que ver con la incertidumbre en las mediciones sobre la que no se puede hacer nada. Si se repite una medición, los valores obtenidos serán diferentes y ninguno de los resultados puede ser preferido sobre los demás. Sin embargo, aunque no sea posible hacer nada al respecto de tal error, sí se puede caracterizar. Como se describe en la Sección 4, realizamos mediciones en muestras que se extraen al azar de una población dada (P) de jugadores. Ahora, existen errores estadísticos asociados con el muestreo que son inevitables y deben ser aceptados. Por lo tanto, si el resultado de una medición va a tener significado, no puede consistir únicamente en el valor medido. También se debe incluir una indicación de cuán precisa es el resultado. Por lo tanto, el resultado de cualquier medición física tiene dos componentes esenciales: 1. un valor numérico que proporciona la mejor estimación posible de la cantidad medida, y 2. el grado de incertidumbre asociado con este valor estimado. Por ejemplo, si la estimación de una cantidad es x y la incertidumbre es e(x), la cantidad estaría en x ± e(x). Para experimentos de muestreo, el error estándar es, con mucho, la forma más común de caracterizar la incertidumbre [22]. Dado esto, la siguiente sección define este error y lo utiliza para evaluar el rendimiento del método aleatorio propuesto. 5.1 Error de aproximación La precisión del método aleatorio anterior depende de su error de muestreo, el cual se define de la siguiente manera [22, 4]: DEFINICIÓN 2. El error de muestreo (o error estándar) se define como la desviación estándar de un conjunto de mediciones dividida por la raíz cuadrada del número de mediciones. Con este fin, sea e(σX) el error de muestreo en la suma de los pesos para una muestra de tamaño X extraída de la distribución N(Xμ, νX) donde: e(σX) = p(ν/X) / p(X) = p(ν) / X (4). Sea e(ΔXi) el error en la contribución marginal para el jugador i (dado en la Ecuación 2). Este error se obtiene propagando el error en la Ecuación 4 a la Ecuación 2. En la Ecuación 2, a y b son los límites inferior y superior para la suma de los pesos de los jugadores para The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Suma de pesos Z1 Z2 Figura 1: Una distribución normal para la suma de los pesos de los jugadores en una coalición de tamaño X. 40 60 80 100 0 50 100 0 5 10 15 20 25 Peso de cuota Porcentaje de error en el valor de Shapley Figura 2: Rendimiento del método aleatorio para m = 10 jugadores en una coalición de tamaño X. Dado que el error en esta suma es e(σX), los valores reales de a y b se encuentran en el intervalo a ± e(σX) y b ± e(σX) respectivamente. Por lo tanto, el error en la Ecuación 2 es la probabilidad de que la suma se encuentre entre los límites a - e(σX) y a (es decir, el área bajo la curva definida por N(Xμ, ν X) entre a - e(σX) y a, que es la región sombreada A en la Figura 1) o la probabilidad de que la suma de los pesos se encuentre entre los límites b y b+e(σX) (es decir, el área bajo la curva definida por N(Xμ, ν X) entre b y b + e(σX), que es la región sombreada C en la Figura 1). Más específicamente, el error es el máximo de estas dos probabilidades: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « Con base en el error anterior, encontramos el error en el valor de Shapley utilizando las siguientes reglas estándar de propagación de errores [22]: R1 Si x e y son dos variables aleatorias con errores e(x) y e(y) respectivamente, entonces el error en la variable aleatoria z = x + y se da por: e(z) = e(x) + e(y) R2 Si x es una variable aleatoria con error e(x) y z = kx donde 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 CuotaPeso Porcentajeerror en el valor de Shapley Figura 3: Rendimiento del método aleatorizado para m = 50 jugadores. la constante k no tiene error, entonces el error en z es: e(z) = |k|e(x) Utilizando las reglas anteriores, el error en el valor de Shapley (dado en la Ecuación 3) se obtiene propagando el error en la Ecuación 4 a todas las coaliciones entre los tamaños X = 1 y X = m. Sea e(ϕi) este error donde: e(ϕi) = 1 m mX X=1 e(ΔX i ) Analizamos el rendimiento de nuestro método en términos del porcentaje de error PE en el valor de Shapley aproximado, que se define de la siguiente manera: PE = 100 × e(ϕi)/ϕi (5) 5.2 Resultados Experimentales Ahora calculamos el porcentaje de error en el valor de Shapley utilizando la ecuación anterior para PE. Dado que este error depende de los parámetros del juego de votación, lo evaluamos en una variedad de configuraciones al variar sistemáticamente los parámetros del juego de votación. En particular, realizamos experimentos en el siguiente entorno. Para un jugador con peso w, el error porcentual en el valor de Shapley de un jugador depende de los siguientes cinco parámetros (ver Ecuación 3): 1. El número de fiestas (m). 2. El peso medio (μ). 3. La varianza en los pesos de los jugadores (ν). 4. La cuota para el juego de votación (q) es de 5. El peso de los jugadores dados (w). Fijamos μ = 10 y ν = 1. Esto se debe a que, para la distribución normal, μ = 10 asegura que para casi todos los jugadores el peso es positivo, y ν = 1 se utiliza con mayor frecuencia en experimentos estadísticos (ν puede ser mayor o menor pero PE aumenta en ν, ver Ecuaciones 4 y 5). Luego variamos m, q y w de la siguiente manera. Variamos m entre 5 y 100 (ya que más allá de 100 encontramos que el error es cercano a cero), para cada m variamos q entre 4μ y mμ (imponemos estos límites porque aseguran que el tamaño del 964 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 Peso de la cuota Porcentaje de error en el valor de Shapley Figura 4: Rendimiento del método aleatorio para m = 100 jugadores. La coalición ganadora es más de uno y menos que m - ver la Sección 3 para más detalles), y para cada q, variamos w entre 1 y q−1 (porque una coalición ganadora debe contener al menos dos jugadores). Los resultados de estos experimentos se muestran en las Figuras 2, 3 y 4. Como se observa en las figuras, la PE máxima es alrededor del 20% y en la mayoría de los casos es inferior al 5%. Ahora analizamos el efecto de los tres parámetros: w, q y m en el error porcentual con más detalle. - Efecto de w. El EP depende de e(σX) porque, en la Ecuación 5, los límites de integración dependen de e(σX). El intervalo sobre el cual se realiza la primera integración en la Ecuación 5 es a − a + e(σX) = e(σX), y el intervalo sobre el cual se realiza la segunda es b + e(σX) − b = e(σX). Por lo tanto, el intervalo es el mismo para ambas integraciones y es independiente de wi. Ten en cuenta que cada una de las dos funciones que se integran en la Ecuación 5 son iguales a la función que se integra en la Ecuación 2. Solo los límites de la integración son diferentes. Además, el intervalo sobre el cual se realiza la integración para la contribución marginal de la Ecuación 2 es b − a = wi − (ver Figura 1). El error en la contribución marginal es el área de la región sombreada A (entre a − e(σX ) y a) en la Figura 1, o el área sombreada C (entre b y b + e(σX )). Según la Ecuación 5, es el máximo de estas dos áreas. Dado que e(σX) es independiente de wi, a medida que wi aumenta, e(σX) permanece invariable. Sin embargo, el área de la región no sombreada B aumenta. Por lo tanto, a medida que wi aumenta, el error en la contribución marginal disminuye y PE también disminuye. - Efecto de q. Para un q dado, el valor de Shapley para el jugador i es el que se indica en la Ecuación 3. Sabemos que, para una muestra de tamaño X, la suma de los pesos de los jugadores se distribuye normalmente con media Xμ y varianza ν/X. Dado que el 99% de una distribución normal se encuentra dentro de dos desviaciones estándar de su media [8], la contribución marginal de un jugador a una muestra de tamaño X es casi cero si: a < Xμ + 2 p ν/X o b > Xμ − 2 p ν/X. Esto se debe a que las tres regiones A, B y C (en la Figura 1) se encuentran ya sea a la derecha de Z2 o a la izquierda de Z1. Sin embargo, la contribución marginal del jugador es mayor que cero para aquellos X para los cuales se satisface la siguiente restricción: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X. Para esta restricción, las tres regiones A, B y C se encuentran en algún lugar entre Z1 y Z2. Dado que a = q −wi y b = q −, la Ecuación 6 también se puede escribir como: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X. El valor más pequeño de X que satisface la restricción en la Ecuación 6 aumenta estrictamente con q. A medida que X aumenta, el error en la suma de pesos en una muestra (es decir, e(σX) = p(ν)/X) disminuye. Por consiguiente, el error en la contribución marginal de un jugador (ver Ecuación 5) también disminuye. Esto implica que a medida que q aumenta, el error en la contribución marginal (y consecuentemente el error en el valor de Shapley) disminuye. - Efecto de m. Es claro a partir de la Ecuación 4 que el error e(σX) es mayor para X = 1 y disminuye con X. Por lo tanto, para valores pequeños de m, e(σ1) tiene un efecto significativo en PE. Pero a medida que m aumenta, el efecto de e(σ1) en PE disminuye y, como resultado, PE disminuye. TRABAJO RELACIONADO Para superar la complejidad computacional de encontrar el valor de Shapley, se han propuesto dos enfoques principales en la literatura. Un enfoque es utilizar funciones generadoras [3]. Este método es un procedimiento exacto que supera el problema de la complejidad temporal, pero sus requisitos de almacenamiento son sustanciales, ya que requiere matrices enormes. También tiene la limitación (no compartida por otros enfoques) de que solo se puede aplicar a juegos con pesos y cuotas enteras. El otro método utiliza una técnica de aproximación basada en la simulación de Monte Carlo. En [12], por ejemplo, el valor de Shapley se calcula considerando una muestra aleatoria de una gran población de jugadores. El método que proponemos difiere de esto en que ellos definen el valor de Shapley tratando el número de turnos de un jugador (si un jugador puede cambiar una coalición perdedora a una ganadora, entonces, para el jugador, la coalición se cuenta como un turno) como una variable aleatoria, mientras que nosotros tratamos los pesos de los jugadores como variables aleatorias. En [12], sin embargo, la pregunta sigue siendo cómo obtener el número de rondas a partir de la definición de un juego de votación y cuál es la complejidad temporal de hacer esto. Dado que el juego de votación se define en función de los pesos de los jugadores y el número de votos se obtiene a partir de estos pesos, nuestro método se corresponde más estrechamente con la definición del juego de votación. Nuestro método también difiere de [7] en que mientras [7] presenta un método para el caso en el que todos los pesos de los jugadores están distribuidos normalmente, nuestro método se aplica a cualquier tipo de distribución para estos pesos. Por lo tanto, como se indica en la Sección 1, nuestro método es más general que [3, 12, 7]. Además, a diferencia de todo el trabajo mencionado anteriormente, proporcionamos un análisis del rendimiento de nuestro método en términos del error porcentual en el valor de Shapley aproximado. Un método para encontrar el valor de Shapley también fue propuesto en [5]. Este método proporciona el valor de Shapley exacto, pero su complejidad temporal es exponencial. Además, el método solo se puede utilizar si el juego está representado en una forma específica (es decir, la representación de múltiples problemas), de lo contrario no. Finalmente, [9, 10] presentan un método de tiempo polinómico para encontrar el valor de Shapley. Este método se puede utilizar si el juego de coalición se representa como una red de contribución marginal. Además, asumen que el valor de Shapley de un componente de un juego de coalición dado es proporcionado por un oráculo, y en base a esta suposición agregan estos valores para encontrar el valor del juego en general. Por el contrario, nuestro método es independiente de The Sixth Intl. La Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 965 de la representación y proporciona un valor de Shapley aproximado en tiempo lineal, sin necesidad de un oráculo. 7. CONCLUSIONES Y TRABAJO FUTURO La formación de coaliciones es una forma importante de interacción en sistemas multiagentes. Un tema importante en este tipo de trabajo es que los agentes decidan cómo dividir las ganancias de la cooperación entre los miembros de una coalición. En este contexto, la <br>teoría de juegos cooperativos</br> ofrece un concepto de solución llamado el valor de Shapley. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. Sin embargo, su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, el problema de encontrar este valor para el juego de votación es #P-completo. Aunque este problema es, en general, #P-completo, demostramos que hay algunos juegos de votación específicos para los cuales el valor de Shapley puede determinarse en tiempo polinómico y caracterizamos dichos juegos. Al hacerlo, hemos demostrado cuándo es computacionalmente factible encontrar el valor de Shapley exacto. Para otros juegos de votación complejos, presentamos un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal del método propuesto es lineal en el número de jugadores. Analizamos el rendimiento de este método en términos del error porcentual en el valor de Shapley aproximado. Nuestros experimentos muestran que el error porcentual en el valor de Shapley es como máximo del 20%. Además, en la mayoría de los casos, el error es menor al 5%. Finalmente, analizamos el efecto de los diferentes parámetros del juego de votación en este error. Nuestro estudio muestra que el error disminuye a medida que aumenta 1. el peso de los jugadores, 2. la cuota aumenta y 3. el número de jugadores aumenta. Dado que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. En el futuro, exploraremos el problema de determinar el valor de Shapley para otros juegos de coalición comúnmente presentes, como la economía de producción y la economía de mercado. 8. REFERENCIAS [1] R. Aumann. Puntos aceptables en juegos cooperativos n-persona en general. En Contribuciones a la Teoría de Juegos volumen IV. Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, y M. Protasi. Complejidad y aproximación: Problemas de optimización combinatoria y sus propiedades de aproximabilidad. Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada y J. J. Lopez. Funciones generadoras para calcular índices de poder de manera eficiente. Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz y M. Regler. Técnicas de Análisis de Datos en Experimentos de Física de Altas Energías. Cambridge University Press, 1993. [5] V. Conitzer y T. Sandholm. Calculando los valores de Shapley, manipulando esquemas de división de valor y verificando la pertenencia al núcleo en dominios de múltiples problemas. En Actas de la Conferencia Nacional de Inteligencia Artificial, páginas 219-225, San José, California, 2004. [6] X. Deng y C. H. Papadimitriou. Sobre la complejidad de los conceptos de solución cooperativa. Matemáticas de la Investigación de Operaciones, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge y N. R. Jennings. Un análisis del valor de Shapley y su incertidumbre para el juego de votación. En Proc. 7th Int. Taller sobre Comercio Electrónico Mediado por Agentes, páginas 39-52, 2005. [8] A. Francis. Estadísticas de Nivel Avanzado. Stanley Thornes Publishers, 1979. [9] S. Ieong y Y. Shoham. Contribución marginal neta: Un esquema de representación compacto para juegos coalicionales. En Actas de la Sexta Conferencia de la ACM sobre Comercio Electrónico, páginas 193-202, Vancouver, Canadá, 2005. [10] S. Ieong y Y. Shoham. Juegos de coalición de múltiples atributos. En Actas de la Séptima Conferencia de la ACM sobre Comercio Electrónico, páginas 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan y A. Rapoport. Teorías de formación de coaliciones. Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann y L. S. Shapley. Valores para juegos grandes iv: Evaluando el colegio electoral exactamente. Informe técnico, The RAND Corporation, Santa Mónica, 1962. [13] A. Mas-Colell, M. Whinston y J. R. Green. Teoría microeconómica. Oxford University Press, 1995. [14] M. J. Osborne y A. Rubinstein. Un curso de teoría de juegos. El MIT Press, 1994. [15] C. H. Papadimitriou. Complejidad computacional. Addison Wesley Longman, 1994. [16] A. Rapoport. \n\nAddison Wesley Longman, 1994. [16] A. Rapoport. Teoría de juegos N-personas: Conceptos y aplicaciones. Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.\nDover Publications, Mineola, NY, 2001. [17] A. E. Roth. Introducción al valor de Shapley. En A. E. Roth, editor, El valor de Shapley, páginas 1-27. Editorial de la Universidad de Cambridge, Cambridge, 1988. [18] T. Sandholm y V. Lesser. Coaliciones entre agentes limitados computacionalmente. Revista de Inteligencia Artificial, 94(1):99-137, 1997. [19] L. S. Shapley. Un valor para juegos de n personas. En A. E. Roth, editor, El valor de Shapley, páginas 31-40. Universidad de Cambridge Press, Cambridge, 1988. [20] O. Shehory y S. Kraus. Un modelo orientado al núcleo para la formación de coaliciones en entornos generales: Implementación y resultados. En Actas de la Conferencia Nacional de Inteligencia Artificial (AAAI-96), páginas 131-140, 1996. [21] O. Shehory y S. Kraus. Métodos para la asignación de tareas a través de la formación de coaliciones de agentes. Revista de Inteligencia Artificial, 101(2):165-200, 1998. [22] J. R. Taylor. Una introducción al análisis de errores: El estudio de las incertidumbres en las mediciones físicas. University Science Books, 1982. 966 La Sexta Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "shapley value": {
            "translated_key": "valor de Shapley",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the <br>shapley value</br> for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The <br>shapley value</br> is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the <br>shapley value</br> cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate <br>shapley value</br>.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the <br>shapley value</br> [19].",
                "A players <br>shapley value</br> gives an indication of its prospects of playing the game - the higher the <br>shapley value</br>, the better its prospects.",
                "The main advantage of the <br>shapley value</br> is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the <br>shapley value</br> has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the <br>shapley value</br> for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact <br>shapley value</br>.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the <br>shapley value</br> for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate <br>shapley value</br>.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true <br>shapley value</br>.",
                "Specifically, it is the difference between the true and the approximate <br>shapley value</br>.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate <br>shapley value</br>.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true <br>shapley value</br>, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the <br>shapley value</br> and describes the weighted voting game.",
                "In Section 3 we describe voting games whose <br>shapley value</br> can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate <br>shapley value</br> and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the <br>shapley value</br> and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the <br>shapley value</br> as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the <br>shapley value</br>.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players <br>shapley value</br> is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The <br>shapley value</br> (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The <br>shapley value</br> is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players <br>shapley value</br> depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the <br>shapley value</br> is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players <br>shapley value</br> is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the <br>shapley value</br> can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the <br>shapley value</br> for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the <br>shapley value</br> for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the <br>shapley value</br> for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the <br>shapley value</br> of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the <br>shapley value</br> of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the <br>shapley value</br> for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the <br>shapley value</br> for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players <br>shapley value</br> is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the <br>shapley value</br> is O(T q/wl).",
                "In the same way, a small players <br>shapley value</br> is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the <br>shapley value</br> of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact <br>shapley value</br> can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate <br>shapley value</br>. 4.",
                "FINDING THE APPROXIMATE <br>shapley value</br> We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate <br>shapley value</br>.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate <br>shapley value</br> and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate <br>shapley value</br>.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate <br>shapley value</br> of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the <br>shapley value</br> for player i.",
                "We know from Definition 1, that the <br>shapley value</br> for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the <br>shapley value</br> as follows.",
                "For player i with weight wi, let ϕi denote the <br>shapley value</br>.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the <br>shapley value</br> is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the <br>shapley value</br> for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players <br>shapley value</br> is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate <br>shapley value</br> and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the <br>shapley value</br> by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the <br>shapley value</br> (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players <br>shapley value</br> depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the <br>shapley value</br> for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the <br>shapley value</br>) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the <br>shapley value</br>, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the <br>shapley value</br> is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the <br>shapley value</br> by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate <br>shapley value</br>.",
                "A method for finding the <br>shapley value</br> was also proposed in [5].",
                "This method gives the exact <br>shapley value</br>, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the <br>shapley value</br>.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the <br>shapley value</br> of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate <br>shapley value</br> in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the <br>shapley value</br>.",
                "The main advantage of the <br>shapley value</br> is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the <br>shapley value</br> cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the <br>shapley value</br> can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact <br>shapley value</br>.",
                "For other complex voting games, we presented a new randomized method for determining the approximate <br>shapley value</br>.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate <br>shapley value</br>.",
                "Our experiments show that the percentage error in the <br>shapley value</br> is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true <br>shapley value</br>, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the <br>shapley value</br> for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the <br>shapley value</br> and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the <br>shapley value</br>.",
                "In A. E. Roth, editor, The <br>shapley value</br>, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The <br>shapley value</br>, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [
                "A Randomized Method for the <br>shapley value</br> for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The <br>shapley value</br> is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the <br>shapley value</br> cannot be determined in polynomial time.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate <br>shapley value</br>.",
                "Moreover, in this work, one of the most extensively studied solution concepts is the <br>shapley value</br> [19]."
            ],
            "translated_annotated_samples": [
                "Un Método Aleatorio para el Valor de Shapley para el Juego de Votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido.",
                "El <br>valor de Shapley</br> es uno de los conceptos clave de solución para juegos de coalición.",
                "Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el <br>valor de Shapley</br> no se puede determinar en tiempo polinómico.",
                "Para otros juegos de votación generales, superamos el problema de la complejidad computacional presentando un nuevo método aleatorio para determinar el <br>valor de Shapley</br> aproximado.",
                "Además, en este trabajo, uno de los conceptos de solución más estudiados en profundidad es el <br>valor de Shapley</br> [19]."
            ],
            "translated_text": "Un Método Aleatorio para el Valor de Shapley para el Juego de Votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido. El <br>valor de Shapley</br> es uno de los conceptos clave de solución para juegos de coalición. Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el <br>valor de Shapley</br> no se puede determinar en tiempo polinómico. En particular, se sabe que el problema de encontrar este valor para el juego de votación es #P-completo en el caso general. Sin embargo, en este artículo, demostramos que hay algunos juegos de votación específicos para los cuales el problema es computacionalmente manejable. Para otros juegos de votación generales, superamos el problema de la complejidad computacional presentando un nuevo método aleatorio para determinar el <br>valor de Shapley</br> aproximado. La complejidad temporal de este método es lineal en el número de jugadores. También demostramos, a través de estudios empíricos, que el porcentaje de error para el método propuesto siempre es inferior al 20% y, en la mayoría de los casos, inferior al 5%. Categorías y Descriptores de Asignaturas I.2.11 [Inteligencia Artificial Distribuida]: Sistemas Multiagente Términos Generales Algoritmos, Diseño, Teoría 1. FORMACIÓN DE COALICIONES, una forma clave de interacción en sistemas multiagente, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13]. A menudo, en tales situaciones, hay más de una coalición posible y la recompensa de un jugador depende de cuál se una. Dado esto, un problema clave es asegurar que ninguna de las partes en una coalición tenga algún incentivo para separarse de ella y unirse a otra coalición (es decir, las coaliciones deben ser estables). Sin embargo, en muchos casos puede haber más de una solución (es decir, una coalición estable). En tales casos, se vuelve difícil seleccionar una única solución entre las posibles, especialmente si las partes están interesadas en sí mismas (es decir, tienen preferencias diferentes sobre coaliciones estables). En este contexto, la teoría de juegos cooperativos aborda el problema de la formación de coaliciones y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14]. La teoría de juegos cooperativos difiere de su contraparte no cooperativa en que, para la primera, a los jugadores se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor ganancia total. Además, a diferencia de la teoría de juegos no cooperativos, la teoría de juegos cooperativos no especifica un juego a través de una descripción del entorno estratégico (incluyendo el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los resultados de pagos, sino que, en cambio, reduce esta colección de datos a la forma coalicional donde cada coalición está representada por un único número real: no hay acciones, movimientos o pagos individuales. La principal ventaja de este enfoque, al menos en entornos de múltiples jugadores, es su utilidad práctica. Por lo tanto, muchas más situaciones de la vida real encajan más fácilmente en un juego de forma coalicional, cuya estructura es más manejable que la de un juego no cooperativo, ya sea en forma normal o extensiva, y es por esta razón que nos enfocamos en tales formas en este artículo. Dadas estas observaciones, varios investigadores de sistemas multiagentes han utilizado y ampliado soluciones cooperativas de teoría de juegos para facilitar la formación automatizada de coaliciones [20, 21, 18]. Además, en este trabajo, uno de los conceptos de solución más estudiados en profundidad es el <br>valor de Shapley</br> [19]. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "unique and fair solution": {
            "translated_key": "valor de Shapley",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a <br>unique and fair solution</br>, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [
                "Its main advantage is that it provides a <br>unique and fair solution</br>, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time."
            ],
            "translated_annotated_samples": [
                "Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el <br>valor de Shapley</br> no se puede determinar en tiempo polinómico."
            ],
            "translated_text": "Un Método Aleatorio para el Valor de Shapley para el Juego de Votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido. El valor de Shapley es uno de los conceptos clave de solución para juegos de coalición. Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el <br>valor de Shapley</br> no se puede determinar en tiempo polinómico. En particular, se sabe que el problema de encontrar este valor para el juego de votación es #P-completo en el caso general. Sin embargo, en este artículo, demostramos que hay algunos juegos de votación específicos para los cuales el problema es computacionalmente manejable. Para otros juegos de votación generales, superamos el problema de la complejidad computacional presentando un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal de este método es lineal en el número de jugadores. También demostramos, a través de estudios empíricos, que el porcentaje de error para el método propuesto siempre es inferior al 20% y, en la mayoría de los casos, inferior al 5%. Categorías y Descriptores de Asignaturas I.2.11 [Inteligencia Artificial Distribuida]: Sistemas Multiagente Términos Generales Algoritmos, Diseño, Teoría 1. FORMACIÓN DE COALICIONES, una forma clave de interacción en sistemas multiagente, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13]. A menudo, en tales situaciones, hay más de una coalición posible y la recompensa de un jugador depende de cuál se una. Dado esto, un problema clave es asegurar que ninguna de las partes en una coalición tenga algún incentivo para separarse de ella y unirse a otra coalición (es decir, las coaliciones deben ser estables). Sin embargo, en muchos casos puede haber más de una solución (es decir, una coalición estable). En tales casos, se vuelve difícil seleccionar una única solución entre las posibles, especialmente si las partes están interesadas en sí mismas (es decir, tienen preferencias diferentes sobre coaliciones estables). En este contexto, la teoría de juegos cooperativos aborda el problema de la formación de coaliciones y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14]. La teoría de juegos cooperativos difiere de su contraparte no cooperativa en que, para la primera, a los jugadores se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor ganancia total. Además, a diferencia de la teoría de juegos no cooperativos, la teoría de juegos cooperativos no especifica un juego a través de una descripción del entorno estratégico (incluyendo el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los resultados de pagos, sino que, en cambio, reduce esta colección de datos a la forma coalicional donde cada coalición está representada por un único número real: no hay acciones, movimientos o pagos individuales. La principal ventaja de este enfoque, al menos en entornos de múltiples jugadores, es su utilidad práctica. Por lo tanto, muchas más situaciones de la vida real encajan más fácilmente en un juego de forma coalicional, cuya estructura es más manejable que la de un juego no cooperativo, ya sea en forma normal o extensiva, y es por esta razón que nos enfocamos en tales formas en este artículo. Dadas estas observaciones, varios investigadores de sistemas multiagentes han utilizado y ampliado soluciones cooperativas de teoría de juegos para facilitar la formación automatizada de coaliciones [20, 21, 18]. Además, en este trabajo, uno de los conceptos de solución más estudiados en profundidad es el valor de Shapley [19]. El valor de Shapley de un jugador da una indicación de sus perspectivas de jugar el juego: cuanto mayor sea el valor de Shapley, mejores serán sus perspectivas. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa (ver Sección 2.1 para una discusión de la propiedad de equidad). Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene una desventaja importante: para muchos juegos de coalición, no se puede determinar en tiempo polinómico. Por ejemplo, encontrar este valor para el juego de votación ponderada es, en general, #P-completo [6]. Un problema es #P-difícil si resolverlo es tan difícil como contar asignaciones satisfactorias de fórmulas de lógica proposicional [15, p442]. Dado que la #P-completitud subsume la NP-completitud, esto implica que calcular el valor de Shapley para el juego de votación ponderada será intratable en general. En otras palabras, es prácticamente inviable intentar calcular el valor de Shapley exacto. Sin embargo, el juego de votación tiene relevancia práctica para los sistemas multiagente, ya que es un medio importante para llegar a un consenso entre múltiples agentes. Por lo tanto, nuestro objetivo es superar la complejidad computacional de encontrar el valor de Shapley para este juego. Específicamente, primero demostramos que hay algunos juegos de votación específicos para los cuales el valor exacto se puede calcular en tiempo polinómico. Al identificar dichos juegos, mostramos, por primera vez, cuándo es factible encontrar el valor exacto y cuándo no lo es. Para los juegos de votación computacionalmente complejos, presentamos un nuevo método aleatorizado, siguiendo la línea de la simulación de Monte Carlo, para calcular el valor de Shapley aproximado. La complejidad computacional de este tipo de juegos suele abordarse mediante dos enfoques principales. El primero es usar funciones generadoras [3]. Este método intercambia complejidad temporal por espacio de almacenamiento. El segundo utiliza una técnica de aproximación basada en la simulación de Monte Carlo [12, 7]. Sin embargo, el método que proponemos es más general que cualquiera de estos (ver Sección 6 para más detalles). Además, ningún trabajo ha analizado previamente el error de aproximación. El error de aproximación se refiere a qué tan cerca está la aproximación del valor de Shapley real. Específicamente, es la diferencia entre el valor de Shapley real y el aproximado. Es importante determinar este error porque el rendimiento de un método de aproximación se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. Por lo tanto, nuestra contribución radica también en proporcionar, por primera vez, un análisis del error porcentual en el valor aproximado de Shapley. Este análisis se realiza de manera empírica. Nuestros experimentos muestran que el error siempre es menor al 20%, y en la mayoría de los casos es inferior al 5%. Finalmente, nuestro método tiene complejidad temporal lineal en el número de jugadores y no requiere ningún arreglo (es decir, es económico en términos tanto de tiempo de computación como de espacio de almacenamiento). Dado esto, y el hecho de que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. El resto del documento está organizado de la siguiente manera. La sección 2 define el valor de Shapley y describe el juego de votación ponderada. En la Sección 3 describimos juegos de votación cuyo valor de Shapley se puede encontrar en tiempo polinómico. En la Sección 4, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y analizamos su rendimiento en la Sección 5. La sección 6 discute la literatura relacionada. Finalmente, la Sección 7 concluye. 2. FONDO Comenzamos presentando los juegos de coalición y el valor de Shapley, y luego definimos el juego de votación ponderada. Un juego de coalición es un juego en el que grupos de jugadores (coaliciones) pueden promover un comportamiento cooperativo entre sus miembros. Por lo tanto, el juego es una competencia entre coaliciones de jugadores, en lugar de entre jugadores individuales. Dependiendo de cómo los jugadores midan la utilidad, la teoría de juegos de coalición se divide en dos partes. Si los jugadores miden la utilidad o la ganancia en las mismas unidades y hay un medio de intercambio de utilidad como pagos laterales, decimos que el juego tiene utilidad transferible; de lo contrario, tiene utilidad no transferible. Más formalmente, un juego de coalición con utilidad transferible, N, v, consiste en: 1. un conjunto finito (N = {1, 2, . . . , n}) de jugadores y 2. una función (v) que asocia a cada subconjunto no vacío S de N (es decir, una coalición) un número real v(S) (el valor de S). Para cada coalición S, el número v(S) es la ganancia total disponible para ser dividida entre los miembros de S (es decir, el conjunto de acciones conjuntas que la coalición S puede tomar consiste en todas las posibles divisiones de v(S) entre los miembros de S). Los juegos de coalición con pagos no transferibles difieren de los que tienen pagos transferibles de la siguiente manera. Para lo primero, cada coalición está asociada con un conjunto de vectores de pago que no necesariamente es el conjunto de todas las posibles divisiones de una cantidad fija. El enfoque de este documento se centra en el juego de votación ponderada (descrito en la Sección 2.1), que es un juego con pagos transferibles. Por lo tanto, en ambos casos, los jugadores solo se unirán a una coalición si esperan beneficiarse de ella. Aquí, a los jugadores se les permite formar acuerdos vinculantes, por lo que hay un fuerte incentivo para trabajar juntos y recibir la mayor ganancia total. El problema entonces es cómo dividir el pago total entre o entre los jugadores. En este contexto, Shapley [19] construyó una solución utilizando un enfoque axiomático. Shapley definió un valor para los juegos como una función que asigna a un juego (N, v), un número ϕi(N, v) para cada i en N. Esta función satisface tres axiomas [17]: 1. Simetría. Este axioma requiere que los nombres de los jugadores no jueguen ningún papel en la determinación del valor. 2. Portador. Este axioma requiere que la suma de ϕi(N, v) para todos los jugadores i en cualquier portador C sea igual a v(C). Un portador C es un subconjunto de N tal que v(S) = v(S ∩ C) para cualquier subconjunto de jugadores S ⊂ N. Aditividad. Este axioma especifica cómo deben relacionarse los valores de diferentes juegos entre sí. Se requiere que para cualquier juego ϕi(N, v) y ϕi(N, v), ϕi(N, v) + ϕi(N, v) = ϕi(N, v + v) para todo i en N. Shapley demostró que hay una función única que satisface estos tres axiomas. Shapley consideraba este valor como un índice para medir el poder de los jugadores en un juego. Al igual que un índice de precios u otros índices de mercado, el valor utiliza promedios (o promedios ponderados en algunas de sus generalizaciones) para agregar el poder de los jugadores en sus diversas oportunidades de cooperación. Alternativamente, se puede pensar en el valor de Shapley como una medida de la utilidad de jugadores neutrales al riesgo en un juego. Primero introducimos algunas notaciones y luego definimos el valor de Shapley. Sea S el conjunto N − {i} y fi : S → 2N−{i} una variable aleatoria que toma sus valores en el conjunto de todos los subconjuntos de N − {i}, y tiene la función de distribución de probabilidad (g) definida como: g(fi(S) = S) = |S|! (n − |S| − 1)! n! La variable aleatoria fi se interpreta como la elección aleatoria de una coalición a la que se une el jugador i. Entonces, el valor de Shapley de un jugador se define en términos de su contribución marginal. Por lo tanto, la contribución marginal del jugador i a la coalición S con i /∈ S es una función Δiv que se define de la siguiente manera: Δiv(S) = v(S ∪ {i}) − v(S). Así, la contribución marginal de un jugador a una coalición S es el aumento en el valor de S como resultado de que i se una a ella. DEFINICIÓN 1. El valor de Shapley (ϕi) del juego N, v para el jugador i es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar: ϕi(N, v) = E[Δiv ◦ fi] (1). El valor de Shapley se interpreta de la siguiente manera. Supongamos que todos los jugadores están dispuestos en algún orden, siendo todas las disposiciones igualmente probables. Entonces ϕi(N, v) es la contribución marginal esperada, sobre todas las ordenaciones, del jugador i al conjunto de jugadores que le preceden. El método para encontrar el valor de Shapley de un jugador depende de la definición de la función de valor (v). Esta función es diferente para diferentes juegos, pero aquí nos enfocamos específicamente en el juego de votación ponderada por las razones descritas en la Sección 1.960 de la Sexta Conferencia Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 2.1 El juego de votación ponderada Adoptamos la definición del juego de votación dada en [6]. Por lo tanto, hay un conjunto de n jugadores que pueden, por ejemplo, representar accionistas en una empresa o miembros en un parlamento. El juego de votación ponderada es entonces un juego G = N, v en el que: v(S) = j 1 si w(S) ≥ q 0 en caso contrario para algún q ∈ IR+ y wi ∈ IRN + , donde: w(S) = X i∈S wi para cualquier coalición S. Así, wi es el número de votos que tiene el jugador i y q es el número de votos necesarios para ganar el juego (es decir, la cuota). Ten en cuenta que para este juego (denotado q; w1, . . . , wn), la contribución marginal de un jugador es cero o uno. Esto se debe a que el valor de cualquier coalición es cero o uno. Una coalición con valor cero se llama una coalición perdedora y con valor uno una coalición ganadora. Si la entrada de un jugador a una coalición cambia de perder a ganar, entonces la contribución marginal del jugador para esa coalición es uno; de lo contrario, es cero. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. La propiedad de la unicidad es deseable porque no deja lugar a ambigüedades. La propiedad de equidad se relaciona con cómo se dividen las ganancias de la cooperación entre los miembros de una coalición. En este caso, el valor de Shapley de un jugador es proporcional a la contribución que realiza como miembro de una coalición; cuanto mayor sea su contribución, mayor será su valor. Por lo tanto, desde la perspectiva de un jugador, tanto la singularidad como la equidad son propiedades deseables. 3. JUEGOS DE VOTACIÓN CON SOLUCIONES EN TIEMPO POLINOMIAL Aquí describimos aquellos juegos de votación para los cuales el valor de Shapley puede ser determinado en tiempo polinomial. Esto se logra utilizando el enfoque de enumeración directa (es decir, enumerando todas las posibles coaliciones y encontrando la contribución marginal de un jugador a cada una de ellas). Caracterizamos dichos juegos en términos del número de jugadores y sus pesos. 3.1 Todos los jugadores tienen el mismo peso. Consideremos el juego q; j, . . . , j con m participantes. Cada partido tiene j votos. Si q ≤ j, entonces no habría necesidad de que los jugadores formen una coalición. Por otro lado, si q = mj (m = |N| es el número de jugadores), solo la gran coalición es posible. Los juegos interesantes son aquellos para los cuales la cuota (q) satisface la restricción: (j + 1) ≤ q ≤ j(m − 1). Para estos juegos, el valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕ denote el valor de Shapley para un jugador. Considera a cualquier jugador. Este jugador puede unirse a una coalición como el miembro i-ésimo donde 1 ≤ i ≤ m. Sin embargo, la contribución marginal del jugador es de 1 solo si se une a una coalición como el miembro q/j-ésimo. En todos los demás casos, su contribución marginal es cero. Por lo tanto, el valor de Shapley para cada jugador ϕ = 1/m. Dado que ϕ requiere una operación de división, se puede encontrar en tiempo constante (es decir, O(1)). 3.2 Una sola gran fiesta Considera un juego en el que hay dos tipos de jugadores: grandes (con peso wl > ws) y pequeños (con peso ws). Hay un jugador grande y m pequeños. La cuota para este juego es q; es decir, tenemos un juego de la forma q; wl, ws, ws, . . . , ws. El número total de jugadores es (m + 1). El valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕl denote el valor de Shapley para el jugador grande y ϕs para cada jugador pequeño. Primero consideramos ws = 1 y luego ws > 1. El valor más pequeño posible para q es wl + 1. Esto se debe a que, si q ≤ wl, entonces el partido grande puede ganar las elecciones por sí solo sin necesidad de formar una coalición. Por lo tanto, la cuota para el juego satisface la restricción wl + 1 ≤ q ≤ m + wl − 1. Además, los límites inferior y superior para wl son 2 y (q − 1) respectivamente. El límite inferior es 2 porque el peso de la gran fiesta tiene que ser mayor que cada uno de los pequeños. Además, el peso del gran partido no puede ser mayor que q, ya que en ese caso, no habría necesidad de que el gran partido forme una coalición. Recuerda que para nuestro juego de votación, la contribución marginal de un jugador a una coalición solo puede ser cero o uno. Considera la gran fiesta. Este partido puede unirse a una coalición como el i-ésimo miembro donde 1 ≤ i ≤ (m + 1). Sin embargo, la contribución marginal del partido grande es uno si se une a una coalición como el miembro i-ésimo donde (q − wl) ≤ i < q. En todos los casos restantes, su contribución marginal es cero. Por lo tanto, de los casos totales posibles (m + 1), su contribución marginal es de uno en wl casos. Por lo tanto, el valor de Shapley del partido grande es: ϕl = wl/(m + 1). De la misma manera, obtenemos el valor de Shapley del gran partido para el caso general donde ws > 1 como: ϕl = wl/ws /(m + 1). Ahora consideremos a un jugador pequeño. Sabemos que la suma de los valores de Shapley de todos los m+1 jugadores es uno. Además, dado que los partidos pequeños tienen el mismo peso, sus valores de Shapley son iguales. Por lo tanto, obtenemos: ϕs = 1 − ϕl m. Por lo tanto, tanto ϕl como ϕs se pueden calcular en tiempo constante. Esto se debe a que ambos requieren un número constante de operaciones básicas (suma, resta, multiplicación y división). De la misma manera, el valor de Shapley para un juego de votación con un único partido grande y múltiples partidos pequeños puede determinarse en tiempo constante. 3.3 Múltiples partidos grandes y pequeños Ahora consideramos un juego de votación que tiene dos tipos de jugadores: grandes y pequeños (como en la Sección 3.2), pero ahora hay múltiples partidos grandes y múltiples partidos pequeños. El conjunto de partidos consiste en ml partidos grandes y ms partidos pequeños. El peso de cada fiesta grande es wl y el de cada fiesta pequeña es ws, donde ws < wl. Mostramos la factibilidad computacional de este juego considerando los siguientes cuatro posibles escenarios: S1 q ≤ mlwl y q ≤ msws S2 q ≤ mlwl y q ≥ msws S3 q ≥ mlwl y q ≥ msws S4 q ≥ mlwl y q ≤ msws Para el primer escenario, considera un jugador grande. Para determinar el valor de Shapley para este jugador, necesitamos considerar el número de todas las posibles coaliciones que le otorgan una contribución marginal de uno. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores grandes está entre cero y (q −1)/wl. En otras palabras, hay (q −1)/wl +1 casos de este tipo y ahora consideramos cada uno de ellos. El Sexto Internacional. Considera una coalición tal que cuando el jugador grande se une, hay i jugadores grandes y (q − iwl − 1)/ws jugadores pequeños ya en ella, y los jugadores restantes se unen después del jugador grande. Una coalición de este tipo otorga una contribución marginal a la unidad de jugador grande. Que C2 l (i, q) denote el número de todas esas coaliciones. Para empezar, considera el caso i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « donde C(y, x) denota el número de posibles combinaciones de x elementos de un conjunto de y elementos. Para i = 1, obtenemos: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « En general, para i > 1, obtenemos: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Por lo tanto, el valor de Shapley de los jugadores grandes es: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) Para un i dado, el tiempo para encontrar C2 l (i, q) es O(T) donde T = (mlms(q − iwl − 1)(ml + ms))/ws Por lo tanto, el tiempo para encontrar el valor de Shapley es O(T q/wl). De la misma manera, el valor de Shapley de un jugador pequeño es: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) y puede encontrarse en tiempo O(T q/ws). Asimismo, se puede demostrar que los tres escenarios restantes (S2 a S4) tienen la misma complejidad temporal. 3.4 Tres tipos de jugadores Ahora consideramos un juego de votación que tiene tres tipos de jugadores: 1, 2 y 3. El conjunto de fiestas consiste en m1 jugadores de tipo 1 (cada uno con peso w1), m2 jugadores de tipo 2 (cada uno con peso w2) y m3 jugadores de tipo 3 (cada uno con peso w3). Para este juego de votación, considera a un jugador de tipo 1. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores de tipo 1 está entre cero y (q − 1)/w1. En otras palabras, hay (q − 1)/w1 + 1 casos de este tipo y ahora consideramos cada uno de ellos. Considera una coalición tal que cuando el jugador de tipo 1 se une, ya hay i jugadores de tipo 1 en ella. Los jugadores restantes se unen después del jugador de tipo 1. Que C3 l (i, q) denote el número de todas las coaliciones que dan una contribución marginal de uno al jugador de tipo 1 donde: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Por lo tanto, el valor de Shapley del jugador de tipo 1 es: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) La complejidad temporal de encontrar este valor es O(T q2 /w1w2) donde: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Del mismo modo, para los otros dos tipos de jugadores (2 y 3). Por lo tanto, hemos identificado juegos para los cuales el valor de Shapley exacto puede determinarse fácilmente. Sin embargo, la complejidad computacional del método de enumeración directa anterior aumenta con el número de tipos de jugadores. Para un juego de votación con más de tres tipos de jugadores, la complejidad temporal del método anterior es un polinomio de grado cuatro o superior. Para hacer frente a tales situaciones, por lo tanto, la siguiente sección presenta un método aleatorio más rápido para encontrar el valor de Shapley aproximado. 4. ENCONTRANDO EL VALOR DE SHAPLEY APROXIMADO Primero damos una breve introducción a los algoritmos aleatorizados y luego presentamos nuestro método aleatorizado para encontrar el valor de Shapley aproximado. Los algoritmos aleatorizados son el enfoque más comúnmente utilizado para encontrar soluciones aproximadas a problemas computacionalmente difíciles. Un algoritmo aleatorizado es un algoritmo que, durante algunas de sus etapas, realiza elecciones al azar [2]. Los pasos aleatorios realizados por el algoritmo implican que al ejecutar el algoritmo varias veces con la misma entrada no estamos garantizados de encontrar la misma solución. Ahora, dado que dichos algoritmos generan soluciones aproximadas, su rendimiento se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. El error de aproximación se refiere a la diferencia entre la solución exacta y su aproximación. En este contexto, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y evaluamos empíricamente su error. Primero describimos el juego de votación general y luego presentamos nuestro algoritmo aleatorio. En su forma general, un juego de votación tiene más de dos tipos de jugadores. Que w_i denote el peso del jugador i. Por lo tanto, para m jugadores y para la cuota q, el juego es de la forma q; w1, w2, . . . , wm. Los pesos están especificados en términos de una función de distribución de probabilidad. Para un juego como este, queremos encontrar el valor aproximado de Shapley. Dejamos que P denote una población de jugadores. Los pesos de los jugadores en esta población están definidos por una función de distribución de probabilidad. Independientemente de la función de distribución de probabilidad real, sea μ la media del peso para la población de jugadores y ν la varianza en los pesos de los jugadores. De esta población de jugadores extraemos muestras al azar y encontramos la suma de los pesos de los jugadores en la muestra utilizando la siguiente regla de la Teoría del Muestreo (ver [8] p425): Si w1, w2, . . . , wn es una muestra aleatoria de tamaño n extraída de cualquier distribución con media μ y varianza ν, entonces la suma de la muestra tiene una distribución Normal aproximada con media nμ y varianza ν n (cuanto mayor sea n, mejor será la aproximación). 962 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Población de jugadores μ: Peso medio de la población P ν: Varianza en los pesos para la población P q: Cuota para el juego de votación wi: Peso del jugador 1. Ti ← 0; a ← q − wi; b ← q − 2. \n\nTi ← 0; a ← q - wi; b ← q - 2. Para X de 1 a m, repetir lo siguiente 2.1. Selecciona una muestra aleatoria SX de tamaño X de la población P 2.2. Evaluar la contribución marginal esperada (ΔX i ) del jugador i a SX como: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3. Ti ← Ti + ΔX i 3. \n\nTi ← Ti + ΔX i 3. Evaluar el valor de Shapley del jugador i como: ϕi ← Ti/m Tabla 1: Algoritmo aleatorizado para encontrar el valor de Shapley para el jugador i. Sabemos, a partir de la Definición 1, que el valor de Shapley para un jugador es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar. Utilizamos esta regla para determinar el valor de Shapley de la siguiente manera. Para el jugador i con peso wi, dejemos que ϕi denote el valor de Shapley. Que X denote el tamaño de una muestra aleatoria extraída de una población en la que los pesos de los jugadores individuales tienen cualquier distribución. La contribución marginal del jugador i a esta muestra aleatoria es uno si el peso total de los jugadores X en la muestra es mayor o igual a a = q - wi pero menor que b = q - (donde es una cantidad infinitesimalmente pequeña). De lo contrario, su contribución marginal es cero. Por lo tanto, la contribución marginal esperada del jugador i (denotada como ΔX i ) a la coalición de muestra es el área bajo la curva definida por N(Xμ, ν X ) en el intervalo [a, b]. Esta área se muestra como la región B en la Figura 1 (la línea punteada en la figura es Xμ). Por lo tanto, obtenemos: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) y el valor de Shapley es: ϕi = 1 m mX X=1 ΔX i (3). Los pasos anteriores se describen en la Tabla 1. Con más detalle, el Paso 1 realiza la inicialización. En el Paso 2, variamos X entre 1 y m y repetidamente hacemos lo siguiente. En el Paso 2.1, seleccionamos aleatoriamente una muestra SX de tamaño X de la población P. La contribución marginal del jugador a la coalición aleatoria SX se encuentra en el Paso 2.2. El promedio de la contribución marginal se encuentra en el Paso 3, y este es el valor de Shapley para el jugador i. TEOREMA 1. La complejidad temporal del método aleatorio propuesto es lineal en el número de jugadores. PRUEBA. Según la Ecuación 3, ΔX i debe ser calculado m veces. Esto se hace en el bucle for del Paso 2 en la Tabla 1. Por lo tanto, la complejidad temporal de calcular el valor de Shapley de un jugador es O(m). La siguiente sección analiza el error de aproximación para el método propuesto. 5. RENDIMIENTO DEL MÉTODO ALEATORIO Primero derivamos la fórmula para medir el error en el valor de Shapley aproximado y luego realizamos experimentos para evaluar este error en una amplia gama de configuraciones. Sin embargo, antes de hacerlo, introducimos la idea del error. El concepto de error se relaciona con una medición realizada de una cantidad que tiene un valor aceptado [22, 4]. Obviamente, no se puede determinar exactamente cuán lejos está una medición del valor aceptado; si esto fuera posible, sería factible simplemente proporcionar un valor corregido más preciso. Por lo tanto, el error tiene que ver con la incertidumbre en las mediciones sobre la que no se puede hacer nada. Si se repite una medición, los valores obtenidos serán diferentes y ninguno de los resultados puede ser preferido sobre los demás. Sin embargo, aunque no sea posible hacer nada al respecto de tal error, sí se puede caracterizar. Como se describe en la Sección 4, realizamos mediciones en muestras que se extraen al azar de una población dada (P) de jugadores. Ahora, existen errores estadísticos asociados con el muestreo que son inevitables y deben ser aceptados. Por lo tanto, si el resultado de una medición va a tener significado, no puede consistir únicamente en el valor medido. También se debe incluir una indicación de cuán precisa es el resultado. Por lo tanto, el resultado de cualquier medición física tiene dos componentes esenciales: 1. un valor numérico que proporciona la mejor estimación posible de la cantidad medida, y 2. el grado de incertidumbre asociado con este valor estimado. Por ejemplo, si la estimación de una cantidad es x y la incertidumbre es e(x), la cantidad estaría en x ± e(x). Para experimentos de muestreo, el error estándar es, con mucho, la forma más común de caracterizar la incertidumbre [22]. Dado esto, la siguiente sección define este error y lo utiliza para evaluar el rendimiento del método aleatorio propuesto. 5.1 Error de aproximación La precisión del método aleatorio anterior depende de su error de muestreo, el cual se define de la siguiente manera [22, 4]: DEFINICIÓN 2. El error de muestreo (o error estándar) se define como la desviación estándar de un conjunto de mediciones dividida por la raíz cuadrada del número de mediciones. Con este fin, sea e(σX) el error de muestreo en la suma de los pesos para una muestra de tamaño X extraída de la distribución N(Xμ, νX) donde: e(σX) = p(ν/X) / p(X) = p(ν) / X (4). Sea e(ΔXi) el error en la contribución marginal para el jugador i (dado en la Ecuación 2). Este error se obtiene propagando el error en la Ecuación 4 a la Ecuación 2. En la Ecuación 2, a y b son los límites inferior y superior para la suma de los pesos de los jugadores para The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Suma de pesos Z1 Z2 Figura 1: Una distribución normal para la suma de los pesos de los jugadores en una coalición de tamaño X. 40 60 80 100 0 50 100 0 5 10 15 20 25 Peso de cuota Porcentaje de error en el valor de Shapley Figura 2: Rendimiento del método aleatorio para m = 10 jugadores en una coalición de tamaño X. Dado que el error en esta suma es e(σX), los valores reales de a y b se encuentran en el intervalo a ± e(σX) y b ± e(σX) respectivamente. Por lo tanto, el error en la Ecuación 2 es la probabilidad de que la suma se encuentre entre los límites a - e(σX) y a (es decir, el área bajo la curva definida por N(Xμ, ν X) entre a - e(σX) y a, que es la región sombreada A en la Figura 1) o la probabilidad de que la suma de los pesos se encuentre entre los límites b y b+e(σX) (es decir, el área bajo la curva definida por N(Xμ, ν X) entre b y b + e(σX), que es la región sombreada C en la Figura 1). Más específicamente, el error es el máximo de estas dos probabilidades: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « Con base en el error anterior, encontramos el error en el valor de Shapley utilizando las siguientes reglas estándar de propagación de errores [22]: R1 Si x e y son dos variables aleatorias con errores e(x) y e(y) respectivamente, entonces el error en la variable aleatoria z = x + y se da por: e(z) = e(x) + e(y) R2 Si x es una variable aleatoria con error e(x) y z = kx donde 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 CuotaPeso Porcentajeerror en el valor de Shapley Figura 3: Rendimiento del método aleatorizado para m = 50 jugadores. la constante k no tiene error, entonces el error en z es: e(z) = |k|e(x) Utilizando las reglas anteriores, el error en el valor de Shapley (dado en la Ecuación 3) se obtiene propagando el error en la Ecuación 4 a todas las coaliciones entre los tamaños X = 1 y X = m. Sea e(ϕi) este error donde: e(ϕi) = 1 m mX X=1 e(ΔX i ) Analizamos el rendimiento de nuestro método en términos del porcentaje de error PE en el valor de Shapley aproximado, que se define de la siguiente manera: PE = 100 × e(ϕi)/ϕi (5) 5.2 Resultados Experimentales Ahora calculamos el porcentaje de error en el valor de Shapley utilizando la ecuación anterior para PE. Dado que este error depende de los parámetros del juego de votación, lo evaluamos en una variedad de configuraciones al variar sistemáticamente los parámetros del juego de votación. En particular, realizamos experimentos en el siguiente entorno. Para un jugador con peso w, el error porcentual en el valor de Shapley de un jugador depende de los siguientes cinco parámetros (ver Ecuación 3): 1. El número de fiestas (m). 2. El peso medio (μ). 3. La varianza en los pesos de los jugadores (ν). 4. La cuota para el juego de votación (q) es de 5. El peso de los jugadores dados (w). Fijamos μ = 10 y ν = 1. Esto se debe a que, para la distribución normal, μ = 10 asegura que para casi todos los jugadores el peso es positivo, y ν = 1 se utiliza con mayor frecuencia en experimentos estadísticos (ν puede ser mayor o menor pero PE aumenta en ν, ver Ecuaciones 4 y 5). Luego variamos m, q y w de la siguiente manera. Variamos m entre 5 y 100 (ya que más allá de 100 encontramos que el error es cercano a cero), para cada m variamos q entre 4μ y mμ (imponemos estos límites porque aseguran que el tamaño del 964 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 Peso de la cuota Porcentaje de error en el valor de Shapley Figura 4: Rendimiento del método aleatorio para m = 100 jugadores. La coalición ganadora es más de uno y menos que m - ver la Sección 3 para más detalles), y para cada q, variamos w entre 1 y q−1 (porque una coalición ganadora debe contener al menos dos jugadores). Los resultados de estos experimentos se muestran en las Figuras 2, 3 y 4. Como se observa en las figuras, la PE máxima es alrededor del 20% y en la mayoría de los casos es inferior al 5%. Ahora analizamos el efecto de los tres parámetros: w, q y m en el error porcentual con más detalle. - Efecto de w. El EP depende de e(σX) porque, en la Ecuación 5, los límites de integración dependen de e(σX). El intervalo sobre el cual se realiza la primera integración en la Ecuación 5 es a − a + e(σX) = e(σX), y el intervalo sobre el cual se realiza la segunda es b + e(σX) − b = e(σX). Por lo tanto, el intervalo es el mismo para ambas integraciones y es independiente de wi. Ten en cuenta que cada una de las dos funciones que se integran en la Ecuación 5 son iguales a la función que se integra en la Ecuación 2. Solo los límites de la integración son diferentes. Además, el intervalo sobre el cual se realiza la integración para la contribución marginal de la Ecuación 2 es b − a = wi − (ver Figura 1). El error en la contribución marginal es el área de la región sombreada A (entre a − e(σX ) y a) en la Figura 1, o el área sombreada C (entre b y b + e(σX )). Según la Ecuación 5, es el máximo de estas dos áreas. Dado que e(σX) es independiente de wi, a medida que wi aumenta, e(σX) permanece invariable. Sin embargo, el área de la región no sombreada B aumenta. Por lo tanto, a medida que wi aumenta, el error en la contribución marginal disminuye y PE también disminuye. - Efecto de q. Para un q dado, el valor de Shapley para el jugador i es el que se indica en la Ecuación 3. Sabemos que, para una muestra de tamaño X, la suma de los pesos de los jugadores se distribuye normalmente con media Xμ y varianza ν/X. Dado que el 99% de una distribución normal se encuentra dentro de dos desviaciones estándar de su media [8], la contribución marginal de un jugador a una muestra de tamaño X es casi cero si: a < Xμ + 2 p ν/X o b > Xμ − 2 p ν/X. Esto se debe a que las tres regiones A, B y C (en la Figura 1) se encuentran ya sea a la derecha de Z2 o a la izquierda de Z1. Sin embargo, la contribución marginal del jugador es mayor que cero para aquellos X para los cuales se satisface la siguiente restricción: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X. Para esta restricción, las tres regiones A, B y C se encuentran en algún lugar entre Z1 y Z2. Dado que a = q −wi y b = q −, la Ecuación 6 también se puede escribir como: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X. El valor más pequeño de X que satisface la restricción en la Ecuación 6 aumenta estrictamente con q. A medida que X aumenta, el error en la suma de pesos en una muestra (es decir, e(σX) = p(ν)/X) disminuye. Por consiguiente, el error en la contribución marginal de un jugador (ver Ecuación 5) también disminuye. Esto implica que a medida que q aumenta, el error en la contribución marginal (y consecuentemente el error en el valor de Shapley) disminuye. - Efecto de m. Es claro a partir de la Ecuación 4 que el error e(σX) es mayor para X = 1 y disminuye con X. Por lo tanto, para valores pequeños de m, e(σ1) tiene un efecto significativo en PE. Pero a medida que m aumenta, el efecto de e(σ1) en PE disminuye y, como resultado, PE disminuye. TRABAJO RELACIONADO Para superar la complejidad computacional de encontrar el valor de Shapley, se han propuesto dos enfoques principales en la literatura. Un enfoque es utilizar funciones generadoras [3]. Este método es un procedimiento exacto que supera el problema de la complejidad temporal, pero sus requisitos de almacenamiento son sustanciales, ya que requiere matrices enormes. También tiene la limitación (no compartida por otros enfoques) de que solo se puede aplicar a juegos con pesos y cuotas enteras. El otro método utiliza una técnica de aproximación basada en la simulación de Monte Carlo. En [12], por ejemplo, el valor de Shapley se calcula considerando una muestra aleatoria de una gran población de jugadores. El método que proponemos difiere de esto en que ellos definen el valor de Shapley tratando el número de turnos de un jugador (si un jugador puede cambiar una coalición perdedora a una ganadora, entonces, para el jugador, la coalición se cuenta como un turno) como una variable aleatoria, mientras que nosotros tratamos los pesos de los jugadores como variables aleatorias. En [12], sin embargo, la pregunta sigue siendo cómo obtener el número de rondas a partir de la definición de un juego de votación y cuál es la complejidad temporal de hacer esto. Dado que el juego de votación se define en función de los pesos de los jugadores y el número de votos se obtiene a partir de estos pesos, nuestro método se corresponde más estrechamente con la definición del juego de votación. Nuestro método también difiere de [7] en que mientras [7] presenta un método para el caso en el que todos los pesos de los jugadores están distribuidos normalmente, nuestro método se aplica a cualquier tipo de distribución para estos pesos. Por lo tanto, como se indica en la Sección 1, nuestro método es más general que [3, 12, 7]. Además, a diferencia de todo el trabajo mencionado anteriormente, proporcionamos un análisis del rendimiento de nuestro método en términos del error porcentual en el valor de Shapley aproximado. Un método para encontrar el valor de Shapley también fue propuesto en [5]. Este método proporciona el valor de Shapley exacto, pero su complejidad temporal es exponencial. Además, el método solo se puede utilizar si el juego está representado en una forma específica (es decir, la representación de múltiples problemas), de lo contrario no. Finalmente, [9, 10] presentan un método de tiempo polinómico para encontrar el valor de Shapley. Este método se puede utilizar si el juego de coalición se representa como una red de contribución marginal. Además, asumen que el valor de Shapley de un componente de un juego de coalición dado es proporcionado por un oráculo, y en base a esta suposición agregan estos valores para encontrar el valor del juego en general. Por el contrario, nuestro método es independiente de The Sixth Intl. La Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 965 de la representación y proporciona un valor de Shapley aproximado en tiempo lineal, sin necesidad de un oráculo. 7. CONCLUSIONES Y TRABAJO FUTURO La formación de coaliciones es una forma importante de interacción en sistemas multiagentes. Un tema importante en este tipo de trabajo es que los agentes decidan cómo dividir las ganancias de la cooperación entre los miembros de una coalición. En este contexto, la teoría de juegos cooperativos ofrece un concepto de solución llamado el valor de Shapley. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. Sin embargo, su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, el problema de encontrar este valor para el juego de votación es #P-completo. Aunque este problema es, en general, #P-completo, demostramos que hay algunos juegos de votación específicos para los cuales el valor de Shapley puede determinarse en tiempo polinómico y caracterizamos dichos juegos. Al hacerlo, hemos demostrado cuándo es computacionalmente factible encontrar el valor de Shapley exacto. Para otros juegos de votación complejos, presentamos un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal del método propuesto es lineal en el número de jugadores. Analizamos el rendimiento de este método en términos del error porcentual en el valor de Shapley aproximado. Nuestros experimentos muestran que el error porcentual en el valor de Shapley es como máximo del 20%. Además, en la mayoría de los casos, el error es menor al 5%. Finalmente, analizamos el efecto de los diferentes parámetros del juego de votación en este error. Nuestro estudio muestra que el error disminuye a medida que aumenta 1. el peso de los jugadores, 2. la cuota aumenta y 3. el número de jugadores aumenta. Dado que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. En el futuro, exploraremos el problema de determinar el valor de Shapley para otros juegos de coalición comúnmente presentes, como la economía de producción y la economía de mercado. 8. REFERENCIAS [1] R. Aumann. Puntos aceptables en juegos cooperativos n-persona en general. En Contribuciones a la Teoría de Juegos volumen IV. Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, y M. Protasi. Complejidad y aproximación: Problemas de optimización combinatoria y sus propiedades de aproximabilidad. Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada y J. J. Lopez. Funciones generadoras para calcular índices de poder de manera eficiente. Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz y M. Regler. Técnicas de Análisis de Datos en Experimentos de Física de Altas Energías. Cambridge University Press, 1993. [5] V. Conitzer y T. Sandholm. Calculando los valores de Shapley, manipulando esquemas de división de valor y verificando la pertenencia al núcleo en dominios de múltiples problemas. En Actas de la Conferencia Nacional de Inteligencia Artificial, páginas 219-225, San José, California, 2004. [6] X. Deng y C. H. Papadimitriou. Sobre la complejidad de los conceptos de solución cooperativa. Matemáticas de la Investigación de Operaciones, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge y N. R. Jennings. Un análisis del valor de Shapley y su incertidumbre para el juego de votación. En Proc. 7th Int. Taller sobre Comercio Electrónico Mediado por Agentes, páginas 39-52, 2005. [8] A. Francis. Estadísticas de Nivel Avanzado. Stanley Thornes Publishers, 1979. [9] S. Ieong y Y. Shoham. Contribución marginal neta: Un esquema de representación compacto para juegos coalicionales. En Actas de la Sexta Conferencia de la ACM sobre Comercio Electrónico, páginas 193-202, Vancouver, Canadá, 2005. [10] S. Ieong y Y. Shoham. Juegos de coalición de múltiples atributos. En Actas de la Séptima Conferencia de la ACM sobre Comercio Electrónico, páginas 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan y A. Rapoport. Teorías de formación de coaliciones. Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann y L. S. Shapley. Valores para juegos grandes iv: Evaluando el colegio electoral exactamente. Informe técnico, The RAND Corporation, Santa Mónica, 1962. [13] A. Mas-Colell, M. Whinston y J. R. Green. Teoría microeconómica. Oxford University Press, 1995. [14] M. J. Osborne y A. Rubinstein. Un curso de teoría de juegos. El MIT Press, 1994. [15] C. H. Papadimitriou. Complejidad computacional. Addison Wesley Longman, 1994. [16] A. Rapoport. \n\nAddison Wesley Longman, 1994. [16] A. Rapoport. Teoría de juegos N-personas: Conceptos y aplicaciones. Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.\nDover Publications, Mineola, NY, 2001. [17] A. E. Roth. Introducción al valor de Shapley. En A. E. Roth, editor, El valor de Shapley, páginas 1-27. Editorial de la Universidad de Cambridge, Cambridge, 1988. [18] T. Sandholm y V. Lesser. Coaliciones entre agentes limitados computacionalmente. Revista de Inteligencia Artificial, 94(1):99-137, 1997. [19] L. S. Shapley. Un valor para juegos de n personas. En A. E. Roth, editor, El valor de Shapley, páginas 31-40. Universidad de Cambridge Press, Cambridge, 1988. [20] O. Shehory y S. Kraus. Un modelo orientado al núcleo para la formación de coaliciones en entornos generales: Implementación y resultados. En Actas de la Conferencia Nacional de Inteligencia Artificial (AAAI-96), páginas 131-140, 1996. [21] O. Shehory y S. Kraus. Métodos para la asignación de tareas a través de la formación de coaliciones de agentes. Revista de Inteligencia Artificial, 101(2):165-200, 1998. [22] J. R. Taylor. Una introducción al análisis de errores: El estudio de las incertidumbres en las mediciones físicas. University Science Books, 1982. 966 La Sexta Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "polynomial time": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in <br>polynomial time</br>.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in <br>polynomial time</br>.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in <br>polynomial time</br>.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in <br>polynomial time</br>.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH <br>polynomial time</br> SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in <br>polynomial time</br>.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a <br>polynomial time</br> method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in <br>polynomial time</br>.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in <br>polynomial time</br> and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in <br>polynomial time</br>.",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in <br>polynomial time</br>.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in <br>polynomial time</br>.",
                "In Section 3 we describe voting games whose Shapley value can be found in <br>polynomial time</br>.",
                "VOTING GAMES WITH <br>polynomial time</br> SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in <br>polynomial time</br>."
            ],
            "translated_annotated_samples": [
                "Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en <br>tiempo polinómico</br>.",
                "Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene una desventaja importante: para muchos juegos de coalición, no se puede determinar en <br>tiempo polinómico</br>.",
                "Específicamente, primero demostramos que hay algunos juegos de votación específicos para los cuales el valor exacto se puede calcular en <br>tiempo polinómico</br>.",
                "En la Sección 3 describimos juegos de votación cuyo valor de Shapley se puede encontrar en <br>tiempo polinómico</br>.",
                "JUEGOS DE VOTACIÓN CON SOLUCIONES EN TIEMPO POLINOMIAL Aquí describimos aquellos juegos de votación para los cuales el valor de Shapley puede ser determinado en <br>tiempo polinomial</br>."
            ],
            "translated_text": "Un Método Aleatorio para el Valor de Shapley para el Juego de Votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido. El valor de Shapley es uno de los conceptos clave de solución para juegos de coalición. Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en <br>tiempo polinómico</br>. En particular, se sabe que el problema de encontrar este valor para el juego de votación es #P-completo en el caso general. Sin embargo, en este artículo, demostramos que hay algunos juegos de votación específicos para los cuales el problema es computacionalmente manejable. Para otros juegos de votación generales, superamos el problema de la complejidad computacional presentando un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal de este método es lineal en el número de jugadores. También demostramos, a través de estudios empíricos, que el porcentaje de error para el método propuesto siempre es inferior al 20% y, en la mayoría de los casos, inferior al 5%. Categorías y Descriptores de Asignaturas I.2.11 [Inteligencia Artificial Distribuida]: Sistemas Multiagente Términos Generales Algoritmos, Diseño, Teoría 1. FORMACIÓN DE COALICIONES, una forma clave de interacción en sistemas multiagente, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13]. A menudo, en tales situaciones, hay más de una coalición posible y la recompensa de un jugador depende de cuál se una. Dado esto, un problema clave es asegurar que ninguna de las partes en una coalición tenga algún incentivo para separarse de ella y unirse a otra coalición (es decir, las coaliciones deben ser estables). Sin embargo, en muchos casos puede haber más de una solución (es decir, una coalición estable). En tales casos, se vuelve difícil seleccionar una única solución entre las posibles, especialmente si las partes están interesadas en sí mismas (es decir, tienen preferencias diferentes sobre coaliciones estables). En este contexto, la teoría de juegos cooperativos aborda el problema de la formación de coaliciones y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14]. La teoría de juegos cooperativos difiere de su contraparte no cooperativa en que, para la primera, a los jugadores se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor ganancia total. Además, a diferencia de la teoría de juegos no cooperativos, la teoría de juegos cooperativos no especifica un juego a través de una descripción del entorno estratégico (incluyendo el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los resultados de pagos, sino que, en cambio, reduce esta colección de datos a la forma coalicional donde cada coalición está representada por un único número real: no hay acciones, movimientos o pagos individuales. La principal ventaja de este enfoque, al menos en entornos de múltiples jugadores, es su utilidad práctica. Por lo tanto, muchas más situaciones de la vida real encajan más fácilmente en un juego de forma coalicional, cuya estructura es más manejable que la de un juego no cooperativo, ya sea en forma normal o extensiva, y es por esta razón que nos enfocamos en tales formas en este artículo. Dadas estas observaciones, varios investigadores de sistemas multiagentes han utilizado y ampliado soluciones cooperativas de teoría de juegos para facilitar la formación automatizada de coaliciones [20, 21, 18]. Además, en este trabajo, uno de los conceptos de solución más estudiados en profundidad es el valor de Shapley [19]. El valor de Shapley de un jugador da una indicación de sus perspectivas de jugar el juego: cuanto mayor sea el valor de Shapley, mejores serán sus perspectivas. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa (ver Sección 2.1 para una discusión de la propiedad de equidad). Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene una desventaja importante: para muchos juegos de coalición, no se puede determinar en <br>tiempo polinómico</br>. Por ejemplo, encontrar este valor para el juego de votación ponderada es, en general, #P-completo [6]. Un problema es #P-difícil si resolverlo es tan difícil como contar asignaciones satisfactorias de fórmulas de lógica proposicional [15, p442]. Dado que la #P-completitud subsume la NP-completitud, esto implica que calcular el valor de Shapley para el juego de votación ponderada será intratable en general. En otras palabras, es prácticamente inviable intentar calcular el valor de Shapley exacto. Sin embargo, el juego de votación tiene relevancia práctica para los sistemas multiagente, ya que es un medio importante para llegar a un consenso entre múltiples agentes. Por lo tanto, nuestro objetivo es superar la complejidad computacional de encontrar el valor de Shapley para este juego. Específicamente, primero demostramos que hay algunos juegos de votación específicos para los cuales el valor exacto se puede calcular en <br>tiempo polinómico</br>. Al identificar dichos juegos, mostramos, por primera vez, cuándo es factible encontrar el valor exacto y cuándo no lo es. Para los juegos de votación computacionalmente complejos, presentamos un nuevo método aleatorizado, siguiendo la línea de la simulación de Monte Carlo, para calcular el valor de Shapley aproximado. La complejidad computacional de este tipo de juegos suele abordarse mediante dos enfoques principales. El primero es usar funciones generadoras [3]. Este método intercambia complejidad temporal por espacio de almacenamiento. El segundo utiliza una técnica de aproximación basada en la simulación de Monte Carlo [12, 7]. Sin embargo, el método que proponemos es más general que cualquiera de estos (ver Sección 6 para más detalles). Además, ningún trabajo ha analizado previamente el error de aproximación. El error de aproximación se refiere a qué tan cerca está la aproximación del valor de Shapley real. Específicamente, es la diferencia entre el valor de Shapley real y el aproximado. Es importante determinar este error porque el rendimiento de un método de aproximación se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. Por lo tanto, nuestra contribución radica también en proporcionar, por primera vez, un análisis del error porcentual en el valor aproximado de Shapley. Este análisis se realiza de manera empírica. Nuestros experimentos muestran que el error siempre es menor al 20%, y en la mayoría de los casos es inferior al 5%. Finalmente, nuestro método tiene complejidad temporal lineal en el número de jugadores y no requiere ningún arreglo (es decir, es económico en términos tanto de tiempo de computación como de espacio de almacenamiento). Dado esto, y el hecho de que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. El resto del documento está organizado de la siguiente manera. La sección 2 define el valor de Shapley y describe el juego de votación ponderada. En la Sección 3 describimos juegos de votación cuyo valor de Shapley se puede encontrar en <br>tiempo polinómico</br>. En la Sección 4, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y analizamos su rendimiento en la Sección 5. La sección 6 discute la literatura relacionada. Finalmente, la Sección 7 concluye. 2. FONDO Comenzamos presentando los juegos de coalición y el valor de Shapley, y luego definimos el juego de votación ponderada. Un juego de coalición es un juego en el que grupos de jugadores (coaliciones) pueden promover un comportamiento cooperativo entre sus miembros. Por lo tanto, el juego es una competencia entre coaliciones de jugadores, en lugar de entre jugadores individuales. Dependiendo de cómo los jugadores midan la utilidad, la teoría de juegos de coalición se divide en dos partes. Si los jugadores miden la utilidad o la ganancia en las mismas unidades y hay un medio de intercambio de utilidad como pagos laterales, decimos que el juego tiene utilidad transferible; de lo contrario, tiene utilidad no transferible. Más formalmente, un juego de coalición con utilidad transferible, N, v, consiste en: 1. un conjunto finito (N = {1, 2, . . . , n}) de jugadores y 2. una función (v) que asocia a cada subconjunto no vacío S de N (es decir, una coalición) un número real v(S) (el valor de S). Para cada coalición S, el número v(S) es la ganancia total disponible para ser dividida entre los miembros de S (es decir, el conjunto de acciones conjuntas que la coalición S puede tomar consiste en todas las posibles divisiones de v(S) entre los miembros de S). Los juegos de coalición con pagos no transferibles difieren de los que tienen pagos transferibles de la siguiente manera. Para lo primero, cada coalición está asociada con un conjunto de vectores de pago que no necesariamente es el conjunto de todas las posibles divisiones de una cantidad fija. El enfoque de este documento se centra en el juego de votación ponderada (descrito en la Sección 2.1), que es un juego con pagos transferibles. Por lo tanto, en ambos casos, los jugadores solo se unirán a una coalición si esperan beneficiarse de ella. Aquí, a los jugadores se les permite formar acuerdos vinculantes, por lo que hay un fuerte incentivo para trabajar juntos y recibir la mayor ganancia total. El problema entonces es cómo dividir el pago total entre o entre los jugadores. En este contexto, Shapley [19] construyó una solución utilizando un enfoque axiomático. Shapley definió un valor para los juegos como una función que asigna a un juego (N, v), un número ϕi(N, v) para cada i en N. Esta función satisface tres axiomas [17]: 1. Simetría. Este axioma requiere que los nombres de los jugadores no jueguen ningún papel en la determinación del valor. 2. Portador. Este axioma requiere que la suma de ϕi(N, v) para todos los jugadores i en cualquier portador C sea igual a v(C). Un portador C es un subconjunto de N tal que v(S) = v(S ∩ C) para cualquier subconjunto de jugadores S ⊂ N. Aditividad. Este axioma especifica cómo deben relacionarse los valores de diferentes juegos entre sí. Se requiere que para cualquier juego ϕi(N, v) y ϕi(N, v), ϕi(N, v) + ϕi(N, v) = ϕi(N, v + v) para todo i en N. Shapley demostró que hay una función única que satisface estos tres axiomas. Shapley consideraba este valor como un índice para medir el poder de los jugadores en un juego. Al igual que un índice de precios u otros índices de mercado, el valor utiliza promedios (o promedios ponderados en algunas de sus generalizaciones) para agregar el poder de los jugadores en sus diversas oportunidades de cooperación. Alternativamente, se puede pensar en el valor de Shapley como una medida de la utilidad de jugadores neutrales al riesgo en un juego. Primero introducimos algunas notaciones y luego definimos el valor de Shapley. Sea S el conjunto N − {i} y fi : S → 2N−{i} una variable aleatoria que toma sus valores en el conjunto de todos los subconjuntos de N − {i}, y tiene la función de distribución de probabilidad (g) definida como: g(fi(S) = S) = |S|! (n − |S| − 1)! n! La variable aleatoria fi se interpreta como la elección aleatoria de una coalición a la que se une el jugador i. Entonces, el valor de Shapley de un jugador se define en términos de su contribución marginal. Por lo tanto, la contribución marginal del jugador i a la coalición S con i /∈ S es una función Δiv que se define de la siguiente manera: Δiv(S) = v(S ∪ {i}) − v(S). Así, la contribución marginal de un jugador a una coalición S es el aumento en el valor de S como resultado de que i se una a ella. DEFINICIÓN 1. El valor de Shapley (ϕi) del juego N, v para el jugador i es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar: ϕi(N, v) = E[Δiv ◦ fi] (1). El valor de Shapley se interpreta de la siguiente manera. Supongamos que todos los jugadores están dispuestos en algún orden, siendo todas las disposiciones igualmente probables. Entonces ϕi(N, v) es la contribución marginal esperada, sobre todas las ordenaciones, del jugador i al conjunto de jugadores que le preceden. El método para encontrar el valor de Shapley de un jugador depende de la definición de la función de valor (v). Esta función es diferente para diferentes juegos, pero aquí nos enfocamos específicamente en el juego de votación ponderada por las razones descritas en la Sección 1.960 de la Sexta Conferencia Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 2.1 El juego de votación ponderada Adoptamos la definición del juego de votación dada en [6]. Por lo tanto, hay un conjunto de n jugadores que pueden, por ejemplo, representar accionistas en una empresa o miembros en un parlamento. El juego de votación ponderada es entonces un juego G = N, v en el que: v(S) = j 1 si w(S) ≥ q 0 en caso contrario para algún q ∈ IR+ y wi ∈ IRN + , donde: w(S) = X i∈S wi para cualquier coalición S. Así, wi es el número de votos que tiene el jugador i y q es el número de votos necesarios para ganar el juego (es decir, la cuota). Ten en cuenta que para este juego (denotado q; w1, . . . , wn), la contribución marginal de un jugador es cero o uno. Esto se debe a que el valor de cualquier coalición es cero o uno. Una coalición con valor cero se llama una coalición perdedora y con valor uno una coalición ganadora. Si la entrada de un jugador a una coalición cambia de perder a ganar, entonces la contribución marginal del jugador para esa coalición es uno; de lo contrario, es cero. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. La propiedad de la unicidad es deseable porque no deja lugar a ambigüedades. La propiedad de equidad se relaciona con cómo se dividen las ganancias de la cooperación entre los miembros de una coalición. En este caso, el valor de Shapley de un jugador es proporcional a la contribución que realiza como miembro de una coalición; cuanto mayor sea su contribución, mayor será su valor. Por lo tanto, desde la perspectiva de un jugador, tanto la singularidad como la equidad son propiedades deseables. 3. JUEGOS DE VOTACIÓN CON SOLUCIONES EN TIEMPO POLINOMIAL Aquí describimos aquellos juegos de votación para los cuales el valor de Shapley puede ser determinado en <br>tiempo polinomial</br>. ",
            "candidates": [],
            "error": [
                [
                    "tiempo polinómico",
                    "tiempo polinómico",
                    "tiempo polinómico",
                    "tiempo polinómico",
                    "tiempo polinomial"
                ]
            ]
        },
        "means of reaching consensus": {
            "translated_key": "medio importante para llegar a un consenso",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important <br>means of reaching consensus</br> between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [
                "However, the voting game has practical relevance to multi-agent systems as it is an important <br>means of reaching consensus</br> between multiple agents."
            ],
            "translated_annotated_samples": [
                "Sin embargo, el juego de votación tiene relevancia práctica para los sistemas multiagente, ya que es un <br>medio importante para llegar a un consenso</br> entre múltiples agentes."
            ],
            "translated_text": "Un Método Aleatorio para el Valor de Shapley para el Juego de Votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido. El valor de Shapley es uno de los conceptos clave de solución para juegos de coalición. Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, se sabe que el problema de encontrar este valor para el juego de votación es #P-completo en el caso general. Sin embargo, en este artículo, demostramos que hay algunos juegos de votación específicos para los cuales el problema es computacionalmente manejable. Para otros juegos de votación generales, superamos el problema de la complejidad computacional presentando un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal de este método es lineal en el número de jugadores. También demostramos, a través de estudios empíricos, que el porcentaje de error para el método propuesto siempre es inferior al 20% y, en la mayoría de los casos, inferior al 5%. Categorías y Descriptores de Asignaturas I.2.11 [Inteligencia Artificial Distribuida]: Sistemas Multiagente Términos Generales Algoritmos, Diseño, Teoría 1. FORMACIÓN DE COALICIONES, una forma clave de interacción en sistemas multiagente, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13]. A menudo, en tales situaciones, hay más de una coalición posible y la recompensa de un jugador depende de cuál se una. Dado esto, un problema clave es asegurar que ninguna de las partes en una coalición tenga algún incentivo para separarse de ella y unirse a otra coalición (es decir, las coaliciones deben ser estables). Sin embargo, en muchos casos puede haber más de una solución (es decir, una coalición estable). En tales casos, se vuelve difícil seleccionar una única solución entre las posibles, especialmente si las partes están interesadas en sí mismas (es decir, tienen preferencias diferentes sobre coaliciones estables). En este contexto, la teoría de juegos cooperativos aborda el problema de la formación de coaliciones y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14]. La teoría de juegos cooperativos difiere de su contraparte no cooperativa en que, para la primera, a los jugadores se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor ganancia total. Además, a diferencia de la teoría de juegos no cooperativos, la teoría de juegos cooperativos no especifica un juego a través de una descripción del entorno estratégico (incluyendo el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los resultados de pagos, sino que, en cambio, reduce esta colección de datos a la forma coalicional donde cada coalición está representada por un único número real: no hay acciones, movimientos o pagos individuales. La principal ventaja de este enfoque, al menos en entornos de múltiples jugadores, es su utilidad práctica. Por lo tanto, muchas más situaciones de la vida real encajan más fácilmente en un juego de forma coalicional, cuya estructura es más manejable que la de un juego no cooperativo, ya sea en forma normal o extensiva, y es por esta razón que nos enfocamos en tales formas en este artículo. Dadas estas observaciones, varios investigadores de sistemas multiagentes han utilizado y ampliado soluciones cooperativas de teoría de juegos para facilitar la formación automatizada de coaliciones [20, 21, 18]. Además, en este trabajo, uno de los conceptos de solución más estudiados en profundidad es el valor de Shapley [19]. El valor de Shapley de un jugador da una indicación de sus perspectivas de jugar el juego: cuanto mayor sea el valor de Shapley, mejores serán sus perspectivas. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa (ver Sección 2.1 para una discusión de la propiedad de equidad). Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene una desventaja importante: para muchos juegos de coalición, no se puede determinar en tiempo polinómico. Por ejemplo, encontrar este valor para el juego de votación ponderada es, en general, #P-completo [6]. Un problema es #P-difícil si resolverlo es tan difícil como contar asignaciones satisfactorias de fórmulas de lógica proposicional [15, p442]. Dado que la #P-completitud subsume la NP-completitud, esto implica que calcular el valor de Shapley para el juego de votación ponderada será intratable en general. En otras palabras, es prácticamente inviable intentar calcular el valor de Shapley exacto. Sin embargo, el juego de votación tiene relevancia práctica para los sistemas multiagente, ya que es un <br>medio importante para llegar a un consenso</br> entre múltiples agentes. Por lo tanto, nuestro objetivo es superar la complejidad computacional de encontrar el valor de Shapley para este juego. Específicamente, primero demostramos que hay algunos juegos de votación específicos para los cuales el valor exacto se puede calcular en tiempo polinómico. Al identificar dichos juegos, mostramos, por primera vez, cuándo es factible encontrar el valor exacto y cuándo no lo es. Para los juegos de votación computacionalmente complejos, presentamos un nuevo método aleatorizado, siguiendo la línea de la simulación de Monte Carlo, para calcular el valor de Shapley aproximado. La complejidad computacional de este tipo de juegos suele abordarse mediante dos enfoques principales. El primero es usar funciones generadoras [3]. Este método intercambia complejidad temporal por espacio de almacenamiento. El segundo utiliza una técnica de aproximación basada en la simulación de Monte Carlo [12, 7]. Sin embargo, el método que proponemos es más general que cualquiera de estos (ver Sección 6 para más detalles). Además, ningún trabajo ha analizado previamente el error de aproximación. El error de aproximación se refiere a qué tan cerca está la aproximación del valor de Shapley real. Específicamente, es la diferencia entre el valor de Shapley real y el aproximado. Es importante determinar este error porque el rendimiento de un método de aproximación se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. Por lo tanto, nuestra contribución radica también en proporcionar, por primera vez, un análisis del error porcentual en el valor aproximado de Shapley. Este análisis se realiza de manera empírica. Nuestros experimentos muestran que el error siempre es menor al 20%, y en la mayoría de los casos es inferior al 5%. Finalmente, nuestro método tiene complejidad temporal lineal en el número de jugadores y no requiere ningún arreglo (es decir, es económico en términos tanto de tiempo de computación como de espacio de almacenamiento). Dado esto, y el hecho de que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. El resto del documento está organizado de la siguiente manera. La sección 2 define el valor de Shapley y describe el juego de votación ponderada. En la Sección 3 describimos juegos de votación cuyo valor de Shapley se puede encontrar en tiempo polinómico. En la Sección 4, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y analizamos su rendimiento en la Sección 5. La sección 6 discute la literatura relacionada. Finalmente, la Sección 7 concluye. 2. FONDO Comenzamos presentando los juegos de coalición y el valor de Shapley, y luego definimos el juego de votación ponderada. Un juego de coalición es un juego en el que grupos de jugadores (coaliciones) pueden promover un comportamiento cooperativo entre sus miembros. Por lo tanto, el juego es una competencia entre coaliciones de jugadores, en lugar de entre jugadores individuales. Dependiendo de cómo los jugadores midan la utilidad, la teoría de juegos de coalición se divide en dos partes. Si los jugadores miden la utilidad o la ganancia en las mismas unidades y hay un medio de intercambio de utilidad como pagos laterales, decimos que el juego tiene utilidad transferible; de lo contrario, tiene utilidad no transferible. Más formalmente, un juego de coalición con utilidad transferible, N, v, consiste en: 1. un conjunto finito (N = {1, 2, . . . , n}) de jugadores y 2. una función (v) que asocia a cada subconjunto no vacío S de N (es decir, una coalición) un número real v(S) (el valor de S). Para cada coalición S, el número v(S) es la ganancia total disponible para ser dividida entre los miembros de S (es decir, el conjunto de acciones conjuntas que la coalición S puede tomar consiste en todas las posibles divisiones de v(S) entre los miembros de S). Los juegos de coalición con pagos no transferibles difieren de los que tienen pagos transferibles de la siguiente manera. Para lo primero, cada coalición está asociada con un conjunto de vectores de pago que no necesariamente es el conjunto de todas las posibles divisiones de una cantidad fija. El enfoque de este documento se centra en el juego de votación ponderada (descrito en la Sección 2.1), que es un juego con pagos transferibles. Por lo tanto, en ambos casos, los jugadores solo se unirán a una coalición si esperan beneficiarse de ella. Aquí, a los jugadores se les permite formar acuerdos vinculantes, por lo que hay un fuerte incentivo para trabajar juntos y recibir la mayor ganancia total. El problema entonces es cómo dividir el pago total entre o entre los jugadores. En este contexto, Shapley [19] construyó una solución utilizando un enfoque axiomático. Shapley definió un valor para los juegos como una función que asigna a un juego (N, v), un número ϕi(N, v) para cada i en N. Esta función satisface tres axiomas [17]: 1. Simetría. Este axioma requiere que los nombres de los jugadores no jueguen ningún papel en la determinación del valor. 2. Portador. Este axioma requiere que la suma de ϕi(N, v) para todos los jugadores i en cualquier portador C sea igual a v(C). Un portador C es un subconjunto de N tal que v(S) = v(S ∩ C) para cualquier subconjunto de jugadores S ⊂ N. Aditividad. Este axioma especifica cómo deben relacionarse los valores de diferentes juegos entre sí. Se requiere que para cualquier juego ϕi(N, v) y ϕi(N, v), ϕi(N, v) + ϕi(N, v) = ϕi(N, v + v) para todo i en N. Shapley demostró que hay una función única que satisface estos tres axiomas. Shapley consideraba este valor como un índice para medir el poder de los jugadores en un juego. Al igual que un índice de precios u otros índices de mercado, el valor utiliza promedios (o promedios ponderados en algunas de sus generalizaciones) para agregar el poder de los jugadores en sus diversas oportunidades de cooperación. Alternativamente, se puede pensar en el valor de Shapley como una medida de la utilidad de jugadores neutrales al riesgo en un juego. Primero introducimos algunas notaciones y luego definimos el valor de Shapley. Sea S el conjunto N − {i} y fi : S → 2N−{i} una variable aleatoria que toma sus valores en el conjunto de todos los subconjuntos de N − {i}, y tiene la función de distribución de probabilidad (g) definida como: g(fi(S) = S) = |S|! (n − |S| − 1)! n! La variable aleatoria fi se interpreta como la elección aleatoria de una coalición a la que se une el jugador i. Entonces, el valor de Shapley de un jugador se define en términos de su contribución marginal. Por lo tanto, la contribución marginal del jugador i a la coalición S con i /∈ S es una función Δiv que se define de la siguiente manera: Δiv(S) = v(S ∪ {i}) − v(S). Así, la contribución marginal de un jugador a una coalición S es el aumento en el valor de S como resultado de que i se una a ella. DEFINICIÓN 1. El valor de Shapley (ϕi) del juego N, v para el jugador i es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar: ϕi(N, v) = E[Δiv ◦ fi] (1). El valor de Shapley se interpreta de la siguiente manera. Supongamos que todos los jugadores están dispuestos en algún orden, siendo todas las disposiciones igualmente probables. Entonces ϕi(N, v) es la contribución marginal esperada, sobre todas las ordenaciones, del jugador i al conjunto de jugadores que le preceden. El método para encontrar el valor de Shapley de un jugador depende de la definición de la función de valor (v). Esta función es diferente para diferentes juegos, pero aquí nos enfocamos específicamente en el juego de votación ponderada por las razones descritas en la Sección 1.960 de la Sexta Conferencia Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 2.1 El juego de votación ponderada Adoptamos la definición del juego de votación dada en [6]. Por lo tanto, hay un conjunto de n jugadores que pueden, por ejemplo, representar accionistas en una empresa o miembros en un parlamento. El juego de votación ponderada es entonces un juego G = N, v en el que: v(S) = j 1 si w(S) ≥ q 0 en caso contrario para algún q ∈ IR+ y wi ∈ IRN + , donde: w(S) = X i∈S wi para cualquier coalición S. Así, wi es el número de votos que tiene el jugador i y q es el número de votos necesarios para ganar el juego (es decir, la cuota). Ten en cuenta que para este juego (denotado q; w1, . . . , wn), la contribución marginal de un jugador es cero o uno. Esto se debe a que el valor de cualquier coalición es cero o uno. Una coalición con valor cero se llama una coalición perdedora y con valor uno una coalición ganadora. Si la entrada de un jugador a una coalición cambia de perder a ganar, entonces la contribución marginal del jugador para esa coalición es uno; de lo contrario, es cero. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. La propiedad de la unicidad es deseable porque no deja lugar a ambigüedades. La propiedad de equidad se relaciona con cómo se dividen las ganancias de la cooperación entre los miembros de una coalición. En este caso, el valor de Shapley de un jugador es proporcional a la contribución que realiza como miembro de una coalición; cuanto mayor sea su contribución, mayor será su valor. Por lo tanto, desde la perspectiva de un jugador, tanto la singularidad como la equidad son propiedades deseables. 3. JUEGOS DE VOTACIÓN CON SOLUCIONES EN TIEMPO POLINOMIAL Aquí describimos aquellos juegos de votación para los cuales el valor de Shapley puede ser determinado en tiempo polinomial. Esto se logra utilizando el enfoque de enumeración directa (es decir, enumerando todas las posibles coaliciones y encontrando la contribución marginal de un jugador a cada una de ellas). Caracterizamos dichos juegos en términos del número de jugadores y sus pesos. 3.1 Todos los jugadores tienen el mismo peso. Consideremos el juego q; j, . . . , j con m participantes. Cada partido tiene j votos. Si q ≤ j, entonces no habría necesidad de que los jugadores formen una coalición. Por otro lado, si q = mj (m = |N| es el número de jugadores), solo la gran coalición es posible. Los juegos interesantes son aquellos para los cuales la cuota (q) satisface la restricción: (j + 1) ≤ q ≤ j(m − 1). Para estos juegos, el valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕ denote el valor de Shapley para un jugador. Considera a cualquier jugador. Este jugador puede unirse a una coalición como el miembro i-ésimo donde 1 ≤ i ≤ m. Sin embargo, la contribución marginal del jugador es de 1 solo si se une a una coalición como el miembro q/j-ésimo. En todos los demás casos, su contribución marginal es cero. Por lo tanto, el valor de Shapley para cada jugador ϕ = 1/m. Dado que ϕ requiere una operación de división, se puede encontrar en tiempo constante (es decir, O(1)). 3.2 Una sola gran fiesta Considera un juego en el que hay dos tipos de jugadores: grandes (con peso wl > ws) y pequeños (con peso ws). Hay un jugador grande y m pequeños. La cuota para este juego es q; es decir, tenemos un juego de la forma q; wl, ws, ws, . . . , ws. El número total de jugadores es (m + 1). El valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕl denote el valor de Shapley para el jugador grande y ϕs para cada jugador pequeño. Primero consideramos ws = 1 y luego ws > 1. El valor más pequeño posible para q es wl + 1. Esto se debe a que, si q ≤ wl, entonces el partido grande puede ganar las elecciones por sí solo sin necesidad de formar una coalición. Por lo tanto, la cuota para el juego satisface la restricción wl + 1 ≤ q ≤ m + wl − 1. Además, los límites inferior y superior para wl son 2 y (q − 1) respectivamente. El límite inferior es 2 porque el peso de la gran fiesta tiene que ser mayor que cada uno de los pequeños. Además, el peso del gran partido no puede ser mayor que q, ya que en ese caso, no habría necesidad de que el gran partido forme una coalición. Recuerda que para nuestro juego de votación, la contribución marginal de un jugador a una coalición solo puede ser cero o uno. Considera la gran fiesta. Este partido puede unirse a una coalición como el i-ésimo miembro donde 1 ≤ i ≤ (m + 1). Sin embargo, la contribución marginal del partido grande es uno si se une a una coalición como el miembro i-ésimo donde (q − wl) ≤ i < q. En todos los casos restantes, su contribución marginal es cero. Por lo tanto, de los casos totales posibles (m + 1), su contribución marginal es de uno en wl casos. Por lo tanto, el valor de Shapley del partido grande es: ϕl = wl/(m + 1). De la misma manera, obtenemos el valor de Shapley del gran partido para el caso general donde ws > 1 como: ϕl = wl/ws /(m + 1). Ahora consideremos a un jugador pequeño. Sabemos que la suma de los valores de Shapley de todos los m+1 jugadores es uno. Además, dado que los partidos pequeños tienen el mismo peso, sus valores de Shapley son iguales. Por lo tanto, obtenemos: ϕs = 1 − ϕl m. Por lo tanto, tanto ϕl como ϕs se pueden calcular en tiempo constante. Esto se debe a que ambos requieren un número constante de operaciones básicas (suma, resta, multiplicación y división). De la misma manera, el valor de Shapley para un juego de votación con un único partido grande y múltiples partidos pequeños puede determinarse en tiempo constante. 3.3 Múltiples partidos grandes y pequeños Ahora consideramos un juego de votación que tiene dos tipos de jugadores: grandes y pequeños (como en la Sección 3.2), pero ahora hay múltiples partidos grandes y múltiples partidos pequeños. El conjunto de partidos consiste en ml partidos grandes y ms partidos pequeños. El peso de cada fiesta grande es wl y el de cada fiesta pequeña es ws, donde ws < wl. Mostramos la factibilidad computacional de este juego considerando los siguientes cuatro posibles escenarios: S1 q ≤ mlwl y q ≤ msws S2 q ≤ mlwl y q ≥ msws S3 q ≥ mlwl y q ≥ msws S4 q ≥ mlwl y q ≤ msws Para el primer escenario, considera un jugador grande. Para determinar el valor de Shapley para este jugador, necesitamos considerar el número de todas las posibles coaliciones que le otorgan una contribución marginal de uno. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores grandes está entre cero y (q −1)/wl. En otras palabras, hay (q −1)/wl +1 casos de este tipo y ahora consideramos cada uno de ellos. El Sexto Internacional. Considera una coalición tal que cuando el jugador grande se une, hay i jugadores grandes y (q − iwl − 1)/ws jugadores pequeños ya en ella, y los jugadores restantes se unen después del jugador grande. Una coalición de este tipo otorga una contribución marginal a la unidad de jugador grande. Que C2 l (i, q) denote el número de todas esas coaliciones. Para empezar, considera el caso i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « donde C(y, x) denota el número de posibles combinaciones de x elementos de un conjunto de y elementos. Para i = 1, obtenemos: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « En general, para i > 1, obtenemos: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Por lo tanto, el valor de Shapley de los jugadores grandes es: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) Para un i dado, el tiempo para encontrar C2 l (i, q) es O(T) donde T = (mlms(q − iwl − 1)(ml + ms))/ws Por lo tanto, el tiempo para encontrar el valor de Shapley es O(T q/wl). De la misma manera, el valor de Shapley de un jugador pequeño es: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) y puede encontrarse en tiempo O(T q/ws). Asimismo, se puede demostrar que los tres escenarios restantes (S2 a S4) tienen la misma complejidad temporal. 3.4 Tres tipos de jugadores Ahora consideramos un juego de votación que tiene tres tipos de jugadores: 1, 2 y 3. El conjunto de fiestas consiste en m1 jugadores de tipo 1 (cada uno con peso w1), m2 jugadores de tipo 2 (cada uno con peso w2) y m3 jugadores de tipo 3 (cada uno con peso w3). Para este juego de votación, considera a un jugador de tipo 1. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores de tipo 1 está entre cero y (q − 1)/w1. En otras palabras, hay (q − 1)/w1 + 1 casos de este tipo y ahora consideramos cada uno de ellos. Considera una coalición tal que cuando el jugador de tipo 1 se une, ya hay i jugadores de tipo 1 en ella. Los jugadores restantes se unen después del jugador de tipo 1. Que C3 l (i, q) denote el número de todas las coaliciones que dan una contribución marginal de uno al jugador de tipo 1 donde: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Por lo tanto, el valor de Shapley del jugador de tipo 1 es: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) La complejidad temporal de encontrar este valor es O(T q2 /w1w2) donde: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Del mismo modo, para los otros dos tipos de jugadores (2 y 3). Por lo tanto, hemos identificado juegos para los cuales el valor de Shapley exacto puede determinarse fácilmente. Sin embargo, la complejidad computacional del método de enumeración directa anterior aumenta con el número de tipos de jugadores. Para un juego de votación con más de tres tipos de jugadores, la complejidad temporal del método anterior es un polinomio de grado cuatro o superior. Para hacer frente a tales situaciones, por lo tanto, la siguiente sección presenta un método aleatorio más rápido para encontrar el valor de Shapley aproximado. 4. ENCONTRANDO EL VALOR DE SHAPLEY APROXIMADO Primero damos una breve introducción a los algoritmos aleatorizados y luego presentamos nuestro método aleatorizado para encontrar el valor de Shapley aproximado. Los algoritmos aleatorizados son el enfoque más comúnmente utilizado para encontrar soluciones aproximadas a problemas computacionalmente difíciles. Un algoritmo aleatorizado es un algoritmo que, durante algunas de sus etapas, realiza elecciones al azar [2]. Los pasos aleatorios realizados por el algoritmo implican que al ejecutar el algoritmo varias veces con la misma entrada no estamos garantizados de encontrar la misma solución. Ahora, dado que dichos algoritmos generan soluciones aproximadas, su rendimiento se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. El error de aproximación se refiere a la diferencia entre la solución exacta y su aproximación. En este contexto, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y evaluamos empíricamente su error. Primero describimos el juego de votación general y luego presentamos nuestro algoritmo aleatorio. En su forma general, un juego de votación tiene más de dos tipos de jugadores. Que w_i denote el peso del jugador i. Por lo tanto, para m jugadores y para la cuota q, el juego es de la forma q; w1, w2, . . . , wm. Los pesos están especificados en términos de una función de distribución de probabilidad. Para un juego como este, queremos encontrar el valor aproximado de Shapley. Dejamos que P denote una población de jugadores. Los pesos de los jugadores en esta población están definidos por una función de distribución de probabilidad. Independientemente de la función de distribución de probabilidad real, sea μ la media del peso para la población de jugadores y ν la varianza en los pesos de los jugadores. De esta población de jugadores extraemos muestras al azar y encontramos la suma de los pesos de los jugadores en la muestra utilizando la siguiente regla de la Teoría del Muestreo (ver [8] p425): Si w1, w2, . . . , wn es una muestra aleatoria de tamaño n extraída de cualquier distribución con media μ y varianza ν, entonces la suma de la muestra tiene una distribución Normal aproximada con media nμ y varianza ν n (cuanto mayor sea n, mejor será la aproximación). 962 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Población de jugadores μ: Peso medio de la población P ν: Varianza en los pesos para la población P q: Cuota para el juego de votación wi: Peso del jugador 1. Ti ← 0; a ← q − wi; b ← q − 2. \n\nTi ← 0; a ← q - wi; b ← q - 2. Para X de 1 a m, repetir lo siguiente 2.1. Selecciona una muestra aleatoria SX de tamaño X de la población P 2.2. Evaluar la contribución marginal esperada (ΔX i ) del jugador i a SX como: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3. Ti ← Ti + ΔX i 3. \n\nTi ← Ti + ΔX i 3. Evaluar el valor de Shapley del jugador i como: ϕi ← Ti/m Tabla 1: Algoritmo aleatorizado para encontrar el valor de Shapley para el jugador i. Sabemos, a partir de la Definición 1, que el valor de Shapley para un jugador es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar. Utilizamos esta regla para determinar el valor de Shapley de la siguiente manera. Para el jugador i con peso wi, dejemos que ϕi denote el valor de Shapley. Que X denote el tamaño de una muestra aleatoria extraída de una población en la que los pesos de los jugadores individuales tienen cualquier distribución. La contribución marginal del jugador i a esta muestra aleatoria es uno si el peso total de los jugadores X en la muestra es mayor o igual a a = q - wi pero menor que b = q - (donde es una cantidad infinitesimalmente pequeña). De lo contrario, su contribución marginal es cero. Por lo tanto, la contribución marginal esperada del jugador i (denotada como ΔX i ) a la coalición de muestra es el área bajo la curva definida por N(Xμ, ν X ) en el intervalo [a, b]. Esta área se muestra como la región B en la Figura 1 (la línea punteada en la figura es Xμ). Por lo tanto, obtenemos: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) y el valor de Shapley es: ϕi = 1 m mX X=1 ΔX i (3). Los pasos anteriores se describen en la Tabla 1. Con más detalle, el Paso 1 realiza la inicialización. En el Paso 2, variamos X entre 1 y m y repetidamente hacemos lo siguiente. En el Paso 2.1, seleccionamos aleatoriamente una muestra SX de tamaño X de la población P. La contribución marginal del jugador a la coalición aleatoria SX se encuentra en el Paso 2.2. El promedio de la contribución marginal se encuentra en el Paso 3, y este es el valor de Shapley para el jugador i. TEOREMA 1. La complejidad temporal del método aleatorio propuesto es lineal en el número de jugadores. PRUEBA. Según la Ecuación 3, ΔX i debe ser calculado m veces. Esto se hace en el bucle for del Paso 2 en la Tabla 1. Por lo tanto, la complejidad temporal de calcular el valor de Shapley de un jugador es O(m). La siguiente sección analiza el error de aproximación para el método propuesto. 5. RENDIMIENTO DEL MÉTODO ALEATORIO Primero derivamos la fórmula para medir el error en el valor de Shapley aproximado y luego realizamos experimentos para evaluar este error en una amplia gama de configuraciones. Sin embargo, antes de hacerlo, introducimos la idea del error. El concepto de error se relaciona con una medición realizada de una cantidad que tiene un valor aceptado [22, 4]. Obviamente, no se puede determinar exactamente cuán lejos está una medición del valor aceptado; si esto fuera posible, sería factible simplemente proporcionar un valor corregido más preciso. Por lo tanto, el error tiene que ver con la incertidumbre en las mediciones sobre la que no se puede hacer nada. Si se repite una medición, los valores obtenidos serán diferentes y ninguno de los resultados puede ser preferido sobre los demás. Sin embargo, aunque no sea posible hacer nada al respecto de tal error, sí se puede caracterizar. Como se describe en la Sección 4, realizamos mediciones en muestras que se extraen al azar de una población dada (P) de jugadores. Ahora, existen errores estadísticos asociados con el muestreo que son inevitables y deben ser aceptados. Por lo tanto, si el resultado de una medición va a tener significado, no puede consistir únicamente en el valor medido. También se debe incluir una indicación de cuán precisa es el resultado. Por lo tanto, el resultado de cualquier medición física tiene dos componentes esenciales: 1. un valor numérico que proporciona la mejor estimación posible de la cantidad medida, y 2. el grado de incertidumbre asociado con este valor estimado. Por ejemplo, si la estimación de una cantidad es x y la incertidumbre es e(x), la cantidad estaría en x ± e(x). Para experimentos de muestreo, el error estándar es, con mucho, la forma más común de caracterizar la incertidumbre [22]. Dado esto, la siguiente sección define este error y lo utiliza para evaluar el rendimiento del método aleatorio propuesto. 5.1 Error de aproximación La precisión del método aleatorio anterior depende de su error de muestreo, el cual se define de la siguiente manera [22, 4]: DEFINICIÓN 2. El error de muestreo (o error estándar) se define como la desviación estándar de un conjunto de mediciones dividida por la raíz cuadrada del número de mediciones. Con este fin, sea e(σX) el error de muestreo en la suma de los pesos para una muestra de tamaño X extraída de la distribución N(Xμ, νX) donde: e(σX) = p(ν/X) / p(X) = p(ν) / X (4). Sea e(ΔXi) el error en la contribución marginal para el jugador i (dado en la Ecuación 2). Este error se obtiene propagando el error en la Ecuación 4 a la Ecuación 2. En la Ecuación 2, a y b son los límites inferior y superior para la suma de los pesos de los jugadores para The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Suma de pesos Z1 Z2 Figura 1: Una distribución normal para la suma de los pesos de los jugadores en una coalición de tamaño X. 40 60 80 100 0 50 100 0 5 10 15 20 25 Peso de cuota Porcentaje de error en el valor de Shapley Figura 2: Rendimiento del método aleatorio para m = 10 jugadores en una coalición de tamaño X. Dado que el error en esta suma es e(σX), los valores reales de a y b se encuentran en el intervalo a ± e(σX) y b ± e(σX) respectivamente. Por lo tanto, el error en la Ecuación 2 es la probabilidad de que la suma se encuentre entre los límites a - e(σX) y a (es decir, el área bajo la curva definida por N(Xμ, ν X) entre a - e(σX) y a, que es la región sombreada A en la Figura 1) o la probabilidad de que la suma de los pesos se encuentre entre los límites b y b+e(σX) (es decir, el área bajo la curva definida por N(Xμ, ν X) entre b y b + e(σX), que es la región sombreada C en la Figura 1). Más específicamente, el error es el máximo de estas dos probabilidades: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « Con base en el error anterior, encontramos el error en el valor de Shapley utilizando las siguientes reglas estándar de propagación de errores [22]: R1 Si x e y son dos variables aleatorias con errores e(x) y e(y) respectivamente, entonces el error en la variable aleatoria z = x + y se da por: e(z) = e(x) + e(y) R2 Si x es una variable aleatoria con error e(x) y z = kx donde 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 CuotaPeso Porcentajeerror en el valor de Shapley Figura 3: Rendimiento del método aleatorizado para m = 50 jugadores. la constante k no tiene error, entonces el error en z es: e(z) = |k|e(x) Utilizando las reglas anteriores, el error en el valor de Shapley (dado en la Ecuación 3) se obtiene propagando el error en la Ecuación 4 a todas las coaliciones entre los tamaños X = 1 y X = m. Sea e(ϕi) este error donde: e(ϕi) = 1 m mX X=1 e(ΔX i ) Analizamos el rendimiento de nuestro método en términos del porcentaje de error PE en el valor de Shapley aproximado, que se define de la siguiente manera: PE = 100 × e(ϕi)/ϕi (5) 5.2 Resultados Experimentales Ahora calculamos el porcentaje de error en el valor de Shapley utilizando la ecuación anterior para PE. Dado que este error depende de los parámetros del juego de votación, lo evaluamos en una variedad de configuraciones al variar sistemáticamente los parámetros del juego de votación. En particular, realizamos experimentos en el siguiente entorno. Para un jugador con peso w, el error porcentual en el valor de Shapley de un jugador depende de los siguientes cinco parámetros (ver Ecuación 3): 1. El número de fiestas (m). 2. El peso medio (μ). 3. La varianza en los pesos de los jugadores (ν). 4. La cuota para el juego de votación (q) es de 5. El peso de los jugadores dados (w). Fijamos μ = 10 y ν = 1. Esto se debe a que, para la distribución normal, μ = 10 asegura que para casi todos los jugadores el peso es positivo, y ν = 1 se utiliza con mayor frecuencia en experimentos estadísticos (ν puede ser mayor o menor pero PE aumenta en ν, ver Ecuaciones 4 y 5). Luego variamos m, q y w de la siguiente manera. Variamos m entre 5 y 100 (ya que más allá de 100 encontramos que el error es cercano a cero), para cada m variamos q entre 4μ y mμ (imponemos estos límites porque aseguran que el tamaño del 964 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 Peso de la cuota Porcentaje de error en el valor de Shapley Figura 4: Rendimiento del método aleatorio para m = 100 jugadores. La coalición ganadora es más de uno y menos que m - ver la Sección 3 para más detalles), y para cada q, variamos w entre 1 y q−1 (porque una coalición ganadora debe contener al menos dos jugadores). Los resultados de estos experimentos se muestran en las Figuras 2, 3 y 4. Como se observa en las figuras, la PE máxima es alrededor del 20% y en la mayoría de los casos es inferior al 5%. Ahora analizamos el efecto de los tres parámetros: w, q y m en el error porcentual con más detalle. - Efecto de w. El EP depende de e(σX) porque, en la Ecuación 5, los límites de integración dependen de e(σX). El intervalo sobre el cual se realiza la primera integración en la Ecuación 5 es a − a + e(σX) = e(σX), y el intervalo sobre el cual se realiza la segunda es b + e(σX) − b = e(σX). Por lo tanto, el intervalo es el mismo para ambas integraciones y es independiente de wi. Ten en cuenta que cada una de las dos funciones que se integran en la Ecuación 5 son iguales a la función que se integra en la Ecuación 2. Solo los límites de la integración son diferentes. Además, el intervalo sobre el cual se realiza la integración para la contribución marginal de la Ecuación 2 es b − a = wi − (ver Figura 1). El error en la contribución marginal es el área de la región sombreada A (entre a − e(σX ) y a) en la Figura 1, o el área sombreada C (entre b y b + e(σX )). Según la Ecuación 5, es el máximo de estas dos áreas. Dado que e(σX) es independiente de wi, a medida que wi aumenta, e(σX) permanece invariable. Sin embargo, el área de la región no sombreada B aumenta. Por lo tanto, a medida que wi aumenta, el error en la contribución marginal disminuye y PE también disminuye. - Efecto de q. Para un q dado, el valor de Shapley para el jugador i es el que se indica en la Ecuación 3. Sabemos que, para una muestra de tamaño X, la suma de los pesos de los jugadores se distribuye normalmente con media Xμ y varianza ν/X. Dado que el 99% de una distribución normal se encuentra dentro de dos desviaciones estándar de su media [8], la contribución marginal de un jugador a una muestra de tamaño X es casi cero si: a < Xμ + 2 p ν/X o b > Xμ − 2 p ν/X. Esto se debe a que las tres regiones A, B y C (en la Figura 1) se encuentran ya sea a la derecha de Z2 o a la izquierda de Z1. Sin embargo, la contribución marginal del jugador es mayor que cero para aquellos X para los cuales se satisface la siguiente restricción: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X. Para esta restricción, las tres regiones A, B y C se encuentran en algún lugar entre Z1 y Z2. Dado que a = q −wi y b = q −, la Ecuación 6 también se puede escribir como: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X. El valor más pequeño de X que satisface la restricción en la Ecuación 6 aumenta estrictamente con q. A medida que X aumenta, el error en la suma de pesos en una muestra (es decir, e(σX) = p(ν)/X) disminuye. Por consiguiente, el error en la contribución marginal de un jugador (ver Ecuación 5) también disminuye. Esto implica que a medida que q aumenta, el error en la contribución marginal (y consecuentemente el error en el valor de Shapley) disminuye. - Efecto de m. Es claro a partir de la Ecuación 4 que el error e(σX) es mayor para X = 1 y disminuye con X. Por lo tanto, para valores pequeños de m, e(σ1) tiene un efecto significativo en PE. Pero a medida que m aumenta, el efecto de e(σ1) en PE disminuye y, como resultado, PE disminuye. TRABAJO RELACIONADO Para superar la complejidad computacional de encontrar el valor de Shapley, se han propuesto dos enfoques principales en la literatura. Un enfoque es utilizar funciones generadoras [3]. Este método es un procedimiento exacto que supera el problema de la complejidad temporal, pero sus requisitos de almacenamiento son sustanciales, ya que requiere matrices enormes. También tiene la limitación (no compartida por otros enfoques) de que solo se puede aplicar a juegos con pesos y cuotas enteras. El otro método utiliza una técnica de aproximación basada en la simulación de Monte Carlo. En [12], por ejemplo, el valor de Shapley se calcula considerando una muestra aleatoria de una gran población de jugadores. El método que proponemos difiere de esto en que ellos definen el valor de Shapley tratando el número de turnos de un jugador (si un jugador puede cambiar una coalición perdedora a una ganadora, entonces, para el jugador, la coalición se cuenta como un turno) como una variable aleatoria, mientras que nosotros tratamos los pesos de los jugadores como variables aleatorias. En [12], sin embargo, la pregunta sigue siendo cómo obtener el número de rondas a partir de la definición de un juego de votación y cuál es la complejidad temporal de hacer esto. Dado que el juego de votación se define en función de los pesos de los jugadores y el número de votos se obtiene a partir de estos pesos, nuestro método se corresponde más estrechamente con la definición del juego de votación. Nuestro método también difiere de [7] en que mientras [7] presenta un método para el caso en el que todos los pesos de los jugadores están distribuidos normalmente, nuestro método se aplica a cualquier tipo de distribución para estos pesos. Por lo tanto, como se indica en la Sección 1, nuestro método es más general que [3, 12, 7]. Además, a diferencia de todo el trabajo mencionado anteriormente, proporcionamos un análisis del rendimiento de nuestro método en términos del error porcentual en el valor de Shapley aproximado. Un método para encontrar el valor de Shapley también fue propuesto en [5]. Este método proporciona el valor de Shapley exacto, pero su complejidad temporal es exponencial. Además, el método solo se puede utilizar si el juego está representado en una forma específica (es decir, la representación de múltiples problemas), de lo contrario no. Finalmente, [9, 10] presentan un método de tiempo polinómico para encontrar el valor de Shapley. Este método se puede utilizar si el juego de coalición se representa como una red de contribución marginal. Además, asumen que el valor de Shapley de un componente de un juego de coalición dado es proporcionado por un oráculo, y en base a esta suposición agregan estos valores para encontrar el valor del juego en general. Por el contrario, nuestro método es independiente de The Sixth Intl. La Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 965 de la representación y proporciona un valor de Shapley aproximado en tiempo lineal, sin necesidad de un oráculo. 7. CONCLUSIONES Y TRABAJO FUTURO La formación de coaliciones es una forma importante de interacción en sistemas multiagentes. Un tema importante en este tipo de trabajo es que los agentes decidan cómo dividir las ganancias de la cooperación entre los miembros de una coalición. En este contexto, la teoría de juegos cooperativos ofrece un concepto de solución llamado el valor de Shapley. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. Sin embargo, su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, el problema de encontrar este valor para el juego de votación es #P-completo. Aunque este problema es, en general, #P-completo, demostramos que hay algunos juegos de votación específicos para los cuales el valor de Shapley puede determinarse en tiempo polinómico y caracterizamos dichos juegos. Al hacerlo, hemos demostrado cuándo es computacionalmente factible encontrar el valor de Shapley exacto. Para otros juegos de votación complejos, presentamos un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal del método propuesto es lineal en el número de jugadores. Analizamos el rendimiento de este método en términos del error porcentual en el valor de Shapley aproximado. Nuestros experimentos muestran que el error porcentual en el valor de Shapley es como máximo del 20%. Además, en la mayoría de los casos, el error es menor al 5%. Finalmente, analizamos el efecto de los diferentes parámetros del juego de votación en este error. Nuestro estudio muestra que el error disminuye a medida que aumenta 1. el peso de los jugadores, 2. la cuota aumenta y 3. el número de jugadores aumenta. Dado que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. En el futuro, exploraremos el problema de determinar el valor de Shapley para otros juegos de coalición comúnmente presentes, como la economía de producción y la economía de mercado. 8. REFERENCIAS [1] R. Aumann. Puntos aceptables en juegos cooperativos n-persona en general. En Contribuciones a la Teoría de Juegos volumen IV. Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, y M. Protasi. Complejidad y aproximación: Problemas de optimización combinatoria y sus propiedades de aproximabilidad. Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada y J. J. Lopez. Funciones generadoras para calcular índices de poder de manera eficiente. Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz y M. Regler. Técnicas de Análisis de Datos en Experimentos de Física de Altas Energías. Cambridge University Press, 1993. [5] V. Conitzer y T. Sandholm. Calculando los valores de Shapley, manipulando esquemas de división de valor y verificando la pertenencia al núcleo en dominios de múltiples problemas. En Actas de la Conferencia Nacional de Inteligencia Artificial, páginas 219-225, San José, California, 2004. [6] X. Deng y C. H. Papadimitriou. Sobre la complejidad de los conceptos de solución cooperativa. Matemáticas de la Investigación de Operaciones, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge y N. R. Jennings. Un análisis del valor de Shapley y su incertidumbre para el juego de votación. En Proc. 7th Int. Taller sobre Comercio Electrónico Mediado por Agentes, páginas 39-52, 2005. [8] A. Francis. Estadísticas de Nivel Avanzado. Stanley Thornes Publishers, 1979. [9] S. Ieong y Y. Shoham. Contribución marginal neta: Un esquema de representación compacto para juegos coalicionales. En Actas de la Sexta Conferencia de la ACM sobre Comercio Electrónico, páginas 193-202, Vancouver, Canadá, 2005. [10] S. Ieong y Y. Shoham. Juegos de coalición de múltiples atributos. En Actas de la Séptima Conferencia de la ACM sobre Comercio Electrónico, páginas 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan y A. Rapoport. Teorías de formación de coaliciones. Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann y L. S. Shapley. Valores para juegos grandes iv: Evaluando el colegio electoral exactamente. Informe técnico, The RAND Corporation, Santa Mónica, 1962. [13] A. Mas-Colell, M. Whinston y J. R. Green. Teoría microeconómica. Oxford University Press, 1995. [14] M. J. Osborne y A. Rubinstein. Un curso de teoría de juegos. El MIT Press, 1994. [15] C. H. Papadimitriou. Complejidad computacional. Addison Wesley Longman, 1994. [16] A. Rapoport. \n\nAddison Wesley Longman, 1994. [16] A. Rapoport. Teoría de juegos N-personas: Conceptos y aplicaciones. Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.\nDover Publications, Mineola, NY, 2001. [17] A. E. Roth. Introducción al valor de Shapley. En A. E. Roth, editor, El valor de Shapley, páginas 1-27. Editorial de la Universidad de Cambridge, Cambridge, 1988. [18] T. Sandholm y V. Lesser. Coaliciones entre agentes limitados computacionalmente. Revista de Inteligencia Artificial, 94(1):99-137, 1997. [19] L. S. Shapley. Un valor para juegos de n personas. En A. E. Roth, editor, El valor de Shapley, páginas 31-40. Universidad de Cambridge Press, Cambridge, 1988. [20] O. Shehory y S. Kraus. Un modelo orientado al núcleo para la formación de coaliciones en entornos generales: Implementación y resultados. En Actas de la Conferencia Nacional de Inteligencia Artificial (AAAI-96), páginas 131-140, 1996. [21] O. Shehory y S. Kraus. Métodos para la asignación de tareas a través de la formación de coaliciones de agentes. Revista de Inteligencia Artificial, 101(2):165-200, 1998. [22] J. R. Taylor. Una introducción al análisis de errores: El estudio de las incertidumbres en las mediciones físicas. University Science Books, 1982. 966 La Sexta Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "reaching consensus mean": {
            "translated_key": "alcanzar un consenso significa",
            "is_in_text": false,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        },
        "randomised method": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new <br>randomised method</br>, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster <br>randomised method</br> for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [
                "For the computationally complex voting games, we present a new <br>randomised method</br>, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "To deal with such situations, therefore, the following section presents a faster <br>randomised method</br> for finding the approximate Shapley value. 4."
            ],
            "translated_annotated_samples": [
                "Para los juegos de votación computacionalmente complejos, presentamos un nuevo <br>método aleatorizado</br>, siguiendo la línea de la simulación de Monte Carlo, para calcular el valor de Shapley aproximado.",
                "Para hacer frente a tales situaciones, por lo tanto, la siguiente sección presenta un <br>método aleatorio</br> más rápido para encontrar el valor de Shapley aproximado. 4."
            ],
            "translated_text": "Un Método Aleatorio para el Valor de Shapley para el Juego de Votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido. El valor de Shapley es uno de los conceptos clave de solución para juegos de coalición. Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, se sabe que el problema de encontrar este valor para el juego de votación es #P-completo en el caso general. Sin embargo, en este artículo, demostramos que hay algunos juegos de votación específicos para los cuales el problema es computacionalmente manejable. Para otros juegos de votación generales, superamos el problema de la complejidad computacional presentando un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal de este método es lineal en el número de jugadores. También demostramos, a través de estudios empíricos, que el porcentaje de error para el método propuesto siempre es inferior al 20% y, en la mayoría de los casos, inferior al 5%. Categorías y Descriptores de Asignaturas I.2.11 [Inteligencia Artificial Distribuida]: Sistemas Multiagente Términos Generales Algoritmos, Diseño, Teoría 1. FORMACIÓN DE COALICIONES, una forma clave de interacción en sistemas multiagente, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13]. A menudo, en tales situaciones, hay más de una coalición posible y la recompensa de un jugador depende de cuál se una. Dado esto, un problema clave es asegurar que ninguna de las partes en una coalición tenga algún incentivo para separarse de ella y unirse a otra coalición (es decir, las coaliciones deben ser estables). Sin embargo, en muchos casos puede haber más de una solución (es decir, una coalición estable). En tales casos, se vuelve difícil seleccionar una única solución entre las posibles, especialmente si las partes están interesadas en sí mismas (es decir, tienen preferencias diferentes sobre coaliciones estables). En este contexto, la teoría de juegos cooperativos aborda el problema de la formación de coaliciones y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14]. La teoría de juegos cooperativos difiere de su contraparte no cooperativa en que, para la primera, a los jugadores se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor ganancia total. Además, a diferencia de la teoría de juegos no cooperativos, la teoría de juegos cooperativos no especifica un juego a través de una descripción del entorno estratégico (incluyendo el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los resultados de pagos, sino que, en cambio, reduce esta colección de datos a la forma coalicional donde cada coalición está representada por un único número real: no hay acciones, movimientos o pagos individuales. La principal ventaja de este enfoque, al menos en entornos de múltiples jugadores, es su utilidad práctica. Por lo tanto, muchas más situaciones de la vida real encajan más fácilmente en un juego de forma coalicional, cuya estructura es más manejable que la de un juego no cooperativo, ya sea en forma normal o extensiva, y es por esta razón que nos enfocamos en tales formas en este artículo. Dadas estas observaciones, varios investigadores de sistemas multiagentes han utilizado y ampliado soluciones cooperativas de teoría de juegos para facilitar la formación automatizada de coaliciones [20, 21, 18]. Además, en este trabajo, uno de los conceptos de solución más estudiados en profundidad es el valor de Shapley [19]. El valor de Shapley de un jugador da una indicación de sus perspectivas de jugar el juego: cuanto mayor sea el valor de Shapley, mejores serán sus perspectivas. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa (ver Sección 2.1 para una discusión de la propiedad de equidad). Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene una desventaja importante: para muchos juegos de coalición, no se puede determinar en tiempo polinómico. Por ejemplo, encontrar este valor para el juego de votación ponderada es, en general, #P-completo [6]. Un problema es #P-difícil si resolverlo es tan difícil como contar asignaciones satisfactorias de fórmulas de lógica proposicional [15, p442]. Dado que la #P-completitud subsume la NP-completitud, esto implica que calcular el valor de Shapley para el juego de votación ponderada será intratable en general. En otras palabras, es prácticamente inviable intentar calcular el valor de Shapley exacto. Sin embargo, el juego de votación tiene relevancia práctica para los sistemas multiagente, ya que es un medio importante para llegar a un consenso entre múltiples agentes. Por lo tanto, nuestro objetivo es superar la complejidad computacional de encontrar el valor de Shapley para este juego. Específicamente, primero demostramos que hay algunos juegos de votación específicos para los cuales el valor exacto se puede calcular en tiempo polinómico. Al identificar dichos juegos, mostramos, por primera vez, cuándo es factible encontrar el valor exacto y cuándo no lo es. Para los juegos de votación computacionalmente complejos, presentamos un nuevo <br>método aleatorizado</br>, siguiendo la línea de la simulación de Monte Carlo, para calcular el valor de Shapley aproximado. La complejidad computacional de este tipo de juegos suele abordarse mediante dos enfoques principales. El primero es usar funciones generadoras [3]. Este método intercambia complejidad temporal por espacio de almacenamiento. El segundo utiliza una técnica de aproximación basada en la simulación de Monte Carlo [12, 7]. Sin embargo, el método que proponemos es más general que cualquiera de estos (ver Sección 6 para más detalles). Además, ningún trabajo ha analizado previamente el error de aproximación. El error de aproximación se refiere a qué tan cerca está la aproximación del valor de Shapley real. Específicamente, es la diferencia entre el valor de Shapley real y el aproximado. Es importante determinar este error porque el rendimiento de un método de aproximación se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. Por lo tanto, nuestra contribución radica también en proporcionar, por primera vez, un análisis del error porcentual en el valor aproximado de Shapley. Este análisis se realiza de manera empírica. Nuestros experimentos muestran que el error siempre es menor al 20%, y en la mayoría de los casos es inferior al 5%. Finalmente, nuestro método tiene complejidad temporal lineal en el número de jugadores y no requiere ningún arreglo (es decir, es económico en términos tanto de tiempo de computación como de espacio de almacenamiento). Dado esto, y el hecho de que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. El resto del documento está organizado de la siguiente manera. La sección 2 define el valor de Shapley y describe el juego de votación ponderada. En la Sección 3 describimos juegos de votación cuyo valor de Shapley se puede encontrar en tiempo polinómico. En la Sección 4, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y analizamos su rendimiento en la Sección 5. La sección 6 discute la literatura relacionada. Finalmente, la Sección 7 concluye. 2. FONDO Comenzamos presentando los juegos de coalición y el valor de Shapley, y luego definimos el juego de votación ponderada. Un juego de coalición es un juego en el que grupos de jugadores (coaliciones) pueden promover un comportamiento cooperativo entre sus miembros. Por lo tanto, el juego es una competencia entre coaliciones de jugadores, en lugar de entre jugadores individuales. Dependiendo de cómo los jugadores midan la utilidad, la teoría de juegos de coalición se divide en dos partes. Si los jugadores miden la utilidad o la ganancia en las mismas unidades y hay un medio de intercambio de utilidad como pagos laterales, decimos que el juego tiene utilidad transferible; de lo contrario, tiene utilidad no transferible. Más formalmente, un juego de coalición con utilidad transferible, N, v, consiste en: 1. un conjunto finito (N = {1, 2, . . . , n}) de jugadores y 2. una función (v) que asocia a cada subconjunto no vacío S de N (es decir, una coalición) un número real v(S) (el valor de S). Para cada coalición S, el número v(S) es la ganancia total disponible para ser dividida entre los miembros de S (es decir, el conjunto de acciones conjuntas que la coalición S puede tomar consiste en todas las posibles divisiones de v(S) entre los miembros de S). Los juegos de coalición con pagos no transferibles difieren de los que tienen pagos transferibles de la siguiente manera. Para lo primero, cada coalición está asociada con un conjunto de vectores de pago que no necesariamente es el conjunto de todas las posibles divisiones de una cantidad fija. El enfoque de este documento se centra en el juego de votación ponderada (descrito en la Sección 2.1), que es un juego con pagos transferibles. Por lo tanto, en ambos casos, los jugadores solo se unirán a una coalición si esperan beneficiarse de ella. Aquí, a los jugadores se les permite formar acuerdos vinculantes, por lo que hay un fuerte incentivo para trabajar juntos y recibir la mayor ganancia total. El problema entonces es cómo dividir el pago total entre o entre los jugadores. En este contexto, Shapley [19] construyó una solución utilizando un enfoque axiomático. Shapley definió un valor para los juegos como una función que asigna a un juego (N, v), un número ϕi(N, v) para cada i en N. Esta función satisface tres axiomas [17]: 1. Simetría. Este axioma requiere que los nombres de los jugadores no jueguen ningún papel en la determinación del valor. 2. Portador. Este axioma requiere que la suma de ϕi(N, v) para todos los jugadores i en cualquier portador C sea igual a v(C). Un portador C es un subconjunto de N tal que v(S) = v(S ∩ C) para cualquier subconjunto de jugadores S ⊂ N. Aditividad. Este axioma especifica cómo deben relacionarse los valores de diferentes juegos entre sí. Se requiere que para cualquier juego ϕi(N, v) y ϕi(N, v), ϕi(N, v) + ϕi(N, v) = ϕi(N, v + v) para todo i en N. Shapley demostró que hay una función única que satisface estos tres axiomas. Shapley consideraba este valor como un índice para medir el poder de los jugadores en un juego. Al igual que un índice de precios u otros índices de mercado, el valor utiliza promedios (o promedios ponderados en algunas de sus generalizaciones) para agregar el poder de los jugadores en sus diversas oportunidades de cooperación. Alternativamente, se puede pensar en el valor de Shapley como una medida de la utilidad de jugadores neutrales al riesgo en un juego. Primero introducimos algunas notaciones y luego definimos el valor de Shapley. Sea S el conjunto N − {i} y fi : S → 2N−{i} una variable aleatoria que toma sus valores en el conjunto de todos los subconjuntos de N − {i}, y tiene la función de distribución de probabilidad (g) definida como: g(fi(S) = S) = |S|! (n − |S| − 1)! n! La variable aleatoria fi se interpreta como la elección aleatoria de una coalición a la que se une el jugador i. Entonces, el valor de Shapley de un jugador se define en términos de su contribución marginal. Por lo tanto, la contribución marginal del jugador i a la coalición S con i /∈ S es una función Δiv que se define de la siguiente manera: Δiv(S) = v(S ∪ {i}) − v(S). Así, la contribución marginal de un jugador a una coalición S es el aumento en el valor de S como resultado de que i se una a ella. DEFINICIÓN 1. El valor de Shapley (ϕi) del juego N, v para el jugador i es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar: ϕi(N, v) = E[Δiv ◦ fi] (1). El valor de Shapley se interpreta de la siguiente manera. Supongamos que todos los jugadores están dispuestos en algún orden, siendo todas las disposiciones igualmente probables. Entonces ϕi(N, v) es la contribución marginal esperada, sobre todas las ordenaciones, del jugador i al conjunto de jugadores que le preceden. El método para encontrar el valor de Shapley de un jugador depende de la definición de la función de valor (v). Esta función es diferente para diferentes juegos, pero aquí nos enfocamos específicamente en el juego de votación ponderada por las razones descritas en la Sección 1.960 de la Sexta Conferencia Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 2.1 El juego de votación ponderada Adoptamos la definición del juego de votación dada en [6]. Por lo tanto, hay un conjunto de n jugadores que pueden, por ejemplo, representar accionistas en una empresa o miembros en un parlamento. El juego de votación ponderada es entonces un juego G = N, v en el que: v(S) = j 1 si w(S) ≥ q 0 en caso contrario para algún q ∈ IR+ y wi ∈ IRN + , donde: w(S) = X i∈S wi para cualquier coalición S. Así, wi es el número de votos que tiene el jugador i y q es el número de votos necesarios para ganar el juego (es decir, la cuota). Ten en cuenta que para este juego (denotado q; w1, . . . , wn), la contribución marginal de un jugador es cero o uno. Esto se debe a que el valor de cualquier coalición es cero o uno. Una coalición con valor cero se llama una coalición perdedora y con valor uno una coalición ganadora. Si la entrada de un jugador a una coalición cambia de perder a ganar, entonces la contribución marginal del jugador para esa coalición es uno; de lo contrario, es cero. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. La propiedad de la unicidad es deseable porque no deja lugar a ambigüedades. La propiedad de equidad se relaciona con cómo se dividen las ganancias de la cooperación entre los miembros de una coalición. En este caso, el valor de Shapley de un jugador es proporcional a la contribución que realiza como miembro de una coalición; cuanto mayor sea su contribución, mayor será su valor. Por lo tanto, desde la perspectiva de un jugador, tanto la singularidad como la equidad son propiedades deseables. 3. JUEGOS DE VOTACIÓN CON SOLUCIONES EN TIEMPO POLINOMIAL Aquí describimos aquellos juegos de votación para los cuales el valor de Shapley puede ser determinado en tiempo polinomial. Esto se logra utilizando el enfoque de enumeración directa (es decir, enumerando todas las posibles coaliciones y encontrando la contribución marginal de un jugador a cada una de ellas). Caracterizamos dichos juegos en términos del número de jugadores y sus pesos. 3.1 Todos los jugadores tienen el mismo peso. Consideremos el juego q; j, . . . , j con m participantes. Cada partido tiene j votos. Si q ≤ j, entonces no habría necesidad de que los jugadores formen una coalición. Por otro lado, si q = mj (m = |N| es el número de jugadores), solo la gran coalición es posible. Los juegos interesantes son aquellos para los cuales la cuota (q) satisface la restricción: (j + 1) ≤ q ≤ j(m − 1). Para estos juegos, el valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕ denote el valor de Shapley para un jugador. Considera a cualquier jugador. Este jugador puede unirse a una coalición como el miembro i-ésimo donde 1 ≤ i ≤ m. Sin embargo, la contribución marginal del jugador es de 1 solo si se une a una coalición como el miembro q/j-ésimo. En todos los demás casos, su contribución marginal es cero. Por lo tanto, el valor de Shapley para cada jugador ϕ = 1/m. Dado que ϕ requiere una operación de división, se puede encontrar en tiempo constante (es decir, O(1)). 3.2 Una sola gran fiesta Considera un juego en el que hay dos tipos de jugadores: grandes (con peso wl > ws) y pequeños (con peso ws). Hay un jugador grande y m pequeños. La cuota para este juego es q; es decir, tenemos un juego de la forma q; wl, ws, ws, . . . , ws. El número total de jugadores es (m + 1). El valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕl denote el valor de Shapley para el jugador grande y ϕs para cada jugador pequeño. Primero consideramos ws = 1 y luego ws > 1. El valor más pequeño posible para q es wl + 1. Esto se debe a que, si q ≤ wl, entonces el partido grande puede ganar las elecciones por sí solo sin necesidad de formar una coalición. Por lo tanto, la cuota para el juego satisface la restricción wl + 1 ≤ q ≤ m + wl − 1. Además, los límites inferior y superior para wl son 2 y (q − 1) respectivamente. El límite inferior es 2 porque el peso de la gran fiesta tiene que ser mayor que cada uno de los pequeños. Además, el peso del gran partido no puede ser mayor que q, ya que en ese caso, no habría necesidad de que el gran partido forme una coalición. Recuerda que para nuestro juego de votación, la contribución marginal de un jugador a una coalición solo puede ser cero o uno. Considera la gran fiesta. Este partido puede unirse a una coalición como el i-ésimo miembro donde 1 ≤ i ≤ (m + 1). Sin embargo, la contribución marginal del partido grande es uno si se une a una coalición como el miembro i-ésimo donde (q − wl) ≤ i < q. En todos los casos restantes, su contribución marginal es cero. Por lo tanto, de los casos totales posibles (m + 1), su contribución marginal es de uno en wl casos. Por lo tanto, el valor de Shapley del partido grande es: ϕl = wl/(m + 1). De la misma manera, obtenemos el valor de Shapley del gran partido para el caso general donde ws > 1 como: ϕl = wl/ws /(m + 1). Ahora consideremos a un jugador pequeño. Sabemos que la suma de los valores de Shapley de todos los m+1 jugadores es uno. Además, dado que los partidos pequeños tienen el mismo peso, sus valores de Shapley son iguales. Por lo tanto, obtenemos: ϕs = 1 − ϕl m. Por lo tanto, tanto ϕl como ϕs se pueden calcular en tiempo constante. Esto se debe a que ambos requieren un número constante de operaciones básicas (suma, resta, multiplicación y división). De la misma manera, el valor de Shapley para un juego de votación con un único partido grande y múltiples partidos pequeños puede determinarse en tiempo constante. 3.3 Múltiples partidos grandes y pequeños Ahora consideramos un juego de votación que tiene dos tipos de jugadores: grandes y pequeños (como en la Sección 3.2), pero ahora hay múltiples partidos grandes y múltiples partidos pequeños. El conjunto de partidos consiste en ml partidos grandes y ms partidos pequeños. El peso de cada fiesta grande es wl y el de cada fiesta pequeña es ws, donde ws < wl. Mostramos la factibilidad computacional de este juego considerando los siguientes cuatro posibles escenarios: S1 q ≤ mlwl y q ≤ msws S2 q ≤ mlwl y q ≥ msws S3 q ≥ mlwl y q ≥ msws S4 q ≥ mlwl y q ≤ msws Para el primer escenario, considera un jugador grande. Para determinar el valor de Shapley para este jugador, necesitamos considerar el número de todas las posibles coaliciones que le otorgan una contribución marginal de uno. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores grandes está entre cero y (q −1)/wl. En otras palabras, hay (q −1)/wl +1 casos de este tipo y ahora consideramos cada uno de ellos. El Sexto Internacional. Considera una coalición tal que cuando el jugador grande se une, hay i jugadores grandes y (q − iwl − 1)/ws jugadores pequeños ya en ella, y los jugadores restantes se unen después del jugador grande. Una coalición de este tipo otorga una contribución marginal a la unidad de jugador grande. Que C2 l (i, q) denote el número de todas esas coaliciones. Para empezar, considera el caso i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « donde C(y, x) denota el número de posibles combinaciones de x elementos de un conjunto de y elementos. Para i = 1, obtenemos: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « En general, para i > 1, obtenemos: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Por lo tanto, el valor de Shapley de los jugadores grandes es: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) Para un i dado, el tiempo para encontrar C2 l (i, q) es O(T) donde T = (mlms(q − iwl − 1)(ml + ms))/ws Por lo tanto, el tiempo para encontrar el valor de Shapley es O(T q/wl). De la misma manera, el valor de Shapley de un jugador pequeño es: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) y puede encontrarse en tiempo O(T q/ws). Asimismo, se puede demostrar que los tres escenarios restantes (S2 a S4) tienen la misma complejidad temporal. 3.4 Tres tipos de jugadores Ahora consideramos un juego de votación que tiene tres tipos de jugadores: 1, 2 y 3. El conjunto de fiestas consiste en m1 jugadores de tipo 1 (cada uno con peso w1), m2 jugadores de tipo 2 (cada uno con peso w2) y m3 jugadores de tipo 3 (cada uno con peso w3). Para este juego de votación, considera a un jugador de tipo 1. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores de tipo 1 está entre cero y (q − 1)/w1. En otras palabras, hay (q − 1)/w1 + 1 casos de este tipo y ahora consideramos cada uno de ellos. Considera una coalición tal que cuando el jugador de tipo 1 se une, ya hay i jugadores de tipo 1 en ella. Los jugadores restantes se unen después del jugador de tipo 1. Que C3 l (i, q) denote el número de todas las coaliciones que dan una contribución marginal de uno al jugador de tipo 1 donde: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Por lo tanto, el valor de Shapley del jugador de tipo 1 es: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) La complejidad temporal de encontrar este valor es O(T q2 /w1w2) donde: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Del mismo modo, para los otros dos tipos de jugadores (2 y 3). Por lo tanto, hemos identificado juegos para los cuales el valor de Shapley exacto puede determinarse fácilmente. Sin embargo, la complejidad computacional del método de enumeración directa anterior aumenta con el número de tipos de jugadores. Para un juego de votación con más de tres tipos de jugadores, la complejidad temporal del método anterior es un polinomio de grado cuatro o superior. Para hacer frente a tales situaciones, por lo tanto, la siguiente sección presenta un <br>método aleatorio</br> más rápido para encontrar el valor de Shapley aproximado. 4. ENCONTRANDO EL VALOR DE SHAPLEY APROXIMADO Primero damos una breve introducción a los algoritmos aleatorizados y luego presentamos nuestro método aleatorizado para encontrar el valor de Shapley aproximado. Los algoritmos aleatorizados son el enfoque más comúnmente utilizado para encontrar soluciones aproximadas a problemas computacionalmente difíciles. Un algoritmo aleatorizado es un algoritmo que, durante algunas de sus etapas, realiza elecciones al azar [2]. Los pasos aleatorios realizados por el algoritmo implican que al ejecutar el algoritmo varias veces con la misma entrada no estamos garantizados de encontrar la misma solución. Ahora, dado que dichos algoritmos generan soluciones aproximadas, su rendimiento se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. El error de aproximación se refiere a la diferencia entre la solución exacta y su aproximación. En este contexto, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y evaluamos empíricamente su error. Primero describimos el juego de votación general y luego presentamos nuestro algoritmo aleatorio. En su forma general, un juego de votación tiene más de dos tipos de jugadores. Que w_i denote el peso del jugador i. Por lo tanto, para m jugadores y para la cuota q, el juego es de la forma q; w1, w2, . . . , wm. Los pesos están especificados en términos de una función de distribución de probabilidad. Para un juego como este, queremos encontrar el valor aproximado de Shapley. Dejamos que P denote una población de jugadores. Los pesos de los jugadores en esta población están definidos por una función de distribución de probabilidad. Independientemente de la función de distribución de probabilidad real, sea μ la media del peso para la población de jugadores y ν la varianza en los pesos de los jugadores. De esta población de jugadores extraemos muestras al azar y encontramos la suma de los pesos de los jugadores en la muestra utilizando la siguiente regla de la Teoría del Muestreo (ver [8] p425): Si w1, w2, . . . , wn es una muestra aleatoria de tamaño n extraída de cualquier distribución con media μ y varianza ν, entonces la suma de la muestra tiene una distribución Normal aproximada con media nμ y varianza ν n (cuanto mayor sea n, mejor será la aproximación). 962 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Población de jugadores μ: Peso medio de la población P ν: Varianza en los pesos para la población P q: Cuota para el juego de votación wi: Peso del jugador 1. Ti ← 0; a ← q − wi; b ← q − 2. \n\nTi ← 0; a ← q - wi; b ← q - 2. Para X de 1 a m, repetir lo siguiente 2.1. Selecciona una muestra aleatoria SX de tamaño X de la población P 2.2. Evaluar la contribución marginal esperada (ΔX i ) del jugador i a SX como: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3. Ti ← Ti + ΔX i 3. \n\nTi ← Ti + ΔX i 3. Evaluar el valor de Shapley del jugador i como: ϕi ← Ti/m Tabla 1: Algoritmo aleatorizado para encontrar el valor de Shapley para el jugador i. Sabemos, a partir de la Definición 1, que el valor de Shapley para un jugador es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar. Utilizamos esta regla para determinar el valor de Shapley de la siguiente manera. Para el jugador i con peso wi, dejemos que ϕi denote el valor de Shapley. Que X denote el tamaño de una muestra aleatoria extraída de una población en la que los pesos de los jugadores individuales tienen cualquier distribución. La contribución marginal del jugador i a esta muestra aleatoria es uno si el peso total de los jugadores X en la muestra es mayor o igual a a = q - wi pero menor que b = q - (donde es una cantidad infinitesimalmente pequeña). De lo contrario, su contribución marginal es cero. Por lo tanto, la contribución marginal esperada del jugador i (denotada como ΔX i ) a la coalición de muestra es el área bajo la curva definida por N(Xμ, ν X ) en el intervalo [a, b]. Esta área se muestra como la región B en la Figura 1 (la línea punteada en la figura es Xμ). Por lo tanto, obtenemos: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) y el valor de Shapley es: ϕi = 1 m mX X=1 ΔX i (3). Los pasos anteriores se describen en la Tabla 1. Con más detalle, el Paso 1 realiza la inicialización. En el Paso 2, variamos X entre 1 y m y repetidamente hacemos lo siguiente. En el Paso 2.1, seleccionamos aleatoriamente una muestra SX de tamaño X de la población P. La contribución marginal del jugador a la coalición aleatoria SX se encuentra en el Paso 2.2. El promedio de la contribución marginal se encuentra en el Paso 3, y este es el valor de Shapley para el jugador i. TEOREMA 1. La complejidad temporal del método aleatorio propuesto es lineal en el número de jugadores. PRUEBA. Según la Ecuación 3, ΔX i debe ser calculado m veces. Esto se hace en el bucle for del Paso 2 en la Tabla 1. Por lo tanto, la complejidad temporal de calcular el valor de Shapley de un jugador es O(m). La siguiente sección analiza el error de aproximación para el método propuesto. 5. RENDIMIENTO DEL MÉTODO ALEATORIO Primero derivamos la fórmula para medir el error en el valor de Shapley aproximado y luego realizamos experimentos para evaluar este error en una amplia gama de configuraciones. Sin embargo, antes de hacerlo, introducimos la idea del error. El concepto de error se relaciona con una medición realizada de una cantidad que tiene un valor aceptado [22, 4]. Obviamente, no se puede determinar exactamente cuán lejos está una medición del valor aceptado; si esto fuera posible, sería factible simplemente proporcionar un valor corregido más preciso. Por lo tanto, el error tiene que ver con la incertidumbre en las mediciones sobre la que no se puede hacer nada. Si se repite una medición, los valores obtenidos serán diferentes y ninguno de los resultados puede ser preferido sobre los demás. Sin embargo, aunque no sea posible hacer nada al respecto de tal error, sí se puede caracterizar. Como se describe en la Sección 4, realizamos mediciones en muestras que se extraen al azar de una población dada (P) de jugadores. Ahora, existen errores estadísticos asociados con el muestreo que son inevitables y deben ser aceptados. Por lo tanto, si el resultado de una medición va a tener significado, no puede consistir únicamente en el valor medido. También se debe incluir una indicación de cuán precisa es el resultado. Por lo tanto, el resultado de cualquier medición física tiene dos componentes esenciales: 1. un valor numérico que proporciona la mejor estimación posible de la cantidad medida, y 2. el grado de incertidumbre asociado con este valor estimado. Por ejemplo, si la estimación de una cantidad es x y la incertidumbre es e(x), la cantidad estaría en x ± e(x). Para experimentos de muestreo, el error estándar es, con mucho, la forma más común de caracterizar la incertidumbre [22]. Dado esto, la siguiente sección define este error y lo utiliza para evaluar el rendimiento del método aleatorio propuesto. 5.1 Error de aproximación La precisión del método aleatorio anterior depende de su error de muestreo, el cual se define de la siguiente manera [22, 4]: DEFINICIÓN 2. El error de muestreo (o error estándar) se define como la desviación estándar de un conjunto de mediciones dividida por la raíz cuadrada del número de mediciones. Con este fin, sea e(σX) el error de muestreo en la suma de los pesos para una muestra de tamaño X extraída de la distribución N(Xμ, νX) donde: e(σX) = p(ν/X) / p(X) = p(ν) / X (4). Sea e(ΔXi) el error en la contribución marginal para el jugador i (dado en la Ecuación 2). Este error se obtiene propagando el error en la Ecuación 4 a la Ecuación 2. En la Ecuación 2, a y b son los límites inferior y superior para la suma de los pesos de los jugadores para The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Suma de pesos Z1 Z2 Figura 1: Una distribución normal para la suma de los pesos de los jugadores en una coalición de tamaño X. 40 60 80 100 0 50 100 0 5 10 15 20 25 Peso de cuota Porcentaje de error en el valor de Shapley Figura 2: Rendimiento del método aleatorio para m = 10 jugadores en una coalición de tamaño X. Dado que el error en esta suma es e(σX), los valores reales de a y b se encuentran en el intervalo a ± e(σX) y b ± e(σX) respectivamente. Por lo tanto, el error en la Ecuación 2 es la probabilidad de que la suma se encuentre entre los límites a - e(σX) y a (es decir, el área bajo la curva definida por N(Xμ, ν X) entre a - e(σX) y a, que es la región sombreada A en la Figura 1) o la probabilidad de que la suma de los pesos se encuentre entre los límites b y b+e(σX) (es decir, el área bajo la curva definida por N(Xμ, ν X) entre b y b + e(σX), que es la región sombreada C en la Figura 1). Más específicamente, el error es el máximo de estas dos probabilidades: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « Con base en el error anterior, encontramos el error en el valor de Shapley utilizando las siguientes reglas estándar de propagación de errores [22]: R1 Si x e y son dos variables aleatorias con errores e(x) y e(y) respectivamente, entonces el error en la variable aleatoria z = x + y se da por: e(z) = e(x) + e(y) R2 Si x es una variable aleatoria con error e(x) y z = kx donde 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 CuotaPeso Porcentajeerror en el valor de Shapley Figura 3: Rendimiento del método aleatorizado para m = 50 jugadores. la constante k no tiene error, entonces el error en z es: e(z) = |k|e(x) Utilizando las reglas anteriores, el error en el valor de Shapley (dado en la Ecuación 3) se obtiene propagando el error en la Ecuación 4 a todas las coaliciones entre los tamaños X = 1 y X = m. Sea e(ϕi) este error donde: e(ϕi) = 1 m mX X=1 e(ΔX i ) Analizamos el rendimiento de nuestro método en términos del porcentaje de error PE en el valor de Shapley aproximado, que se define de la siguiente manera: PE = 100 × e(ϕi)/ϕi (5) 5.2 Resultados Experimentales Ahora calculamos el porcentaje de error en el valor de Shapley utilizando la ecuación anterior para PE. Dado que este error depende de los parámetros del juego de votación, lo evaluamos en una variedad de configuraciones al variar sistemáticamente los parámetros del juego de votación. En particular, realizamos experimentos en el siguiente entorno. Para un jugador con peso w, el error porcentual en el valor de Shapley de un jugador depende de los siguientes cinco parámetros (ver Ecuación 3): 1. El número de fiestas (m). 2. El peso medio (μ). 3. La varianza en los pesos de los jugadores (ν). 4. La cuota para el juego de votación (q) es de 5. El peso de los jugadores dados (w). Fijamos μ = 10 y ν = 1. Esto se debe a que, para la distribución normal, μ = 10 asegura que para casi todos los jugadores el peso es positivo, y ν = 1 se utiliza con mayor frecuencia en experimentos estadísticos (ν puede ser mayor o menor pero PE aumenta en ν, ver Ecuaciones 4 y 5). Luego variamos m, q y w de la siguiente manera. Variamos m entre 5 y 100 (ya que más allá de 100 encontramos que el error es cercano a cero), para cada m variamos q entre 4μ y mμ (imponemos estos límites porque aseguran que el tamaño del 964 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 Peso de la cuota Porcentaje de error en el valor de Shapley Figura 4: Rendimiento del método aleatorio para m = 100 jugadores. La coalición ganadora es más de uno y menos que m - ver la Sección 3 para más detalles), y para cada q, variamos w entre 1 y q−1 (porque una coalición ganadora debe contener al menos dos jugadores). Los resultados de estos experimentos se muestran en las Figuras 2, 3 y 4. Como se observa en las figuras, la PE máxima es alrededor del 20% y en la mayoría de los casos es inferior al 5%. Ahora analizamos el efecto de los tres parámetros: w, q y m en el error porcentual con más detalle. - Efecto de w. El EP depende de e(σX) porque, en la Ecuación 5, los límites de integración dependen de e(σX). El intervalo sobre el cual se realiza la primera integración en la Ecuación 5 es a − a + e(σX) = e(σX), y el intervalo sobre el cual se realiza la segunda es b + e(σX) − b = e(σX). Por lo tanto, el intervalo es el mismo para ambas integraciones y es independiente de wi. Ten en cuenta que cada una de las dos funciones que se integran en la Ecuación 5 son iguales a la función que se integra en la Ecuación 2. Solo los límites de la integración son diferentes. Además, el intervalo sobre el cual se realiza la integración para la contribución marginal de la Ecuación 2 es b − a = wi − (ver Figura 1). El error en la contribución marginal es el área de la región sombreada A (entre a − e(σX ) y a) en la Figura 1, o el área sombreada C (entre b y b + e(σX )). Según la Ecuación 5, es el máximo de estas dos áreas. Dado que e(σX) es independiente de wi, a medida que wi aumenta, e(σX) permanece invariable. Sin embargo, el área de la región no sombreada B aumenta. Por lo tanto, a medida que wi aumenta, el error en la contribución marginal disminuye y PE también disminuye. - Efecto de q. Para un q dado, el valor de Shapley para el jugador i es el que se indica en la Ecuación 3. Sabemos que, para una muestra de tamaño X, la suma de los pesos de los jugadores se distribuye normalmente con media Xμ y varianza ν/X. Dado que el 99% de una distribución normal se encuentra dentro de dos desviaciones estándar de su media [8], la contribución marginal de un jugador a una muestra de tamaño X es casi cero si: a < Xμ + 2 p ν/X o b > Xμ − 2 p ν/X. Esto se debe a que las tres regiones A, B y C (en la Figura 1) se encuentran ya sea a la derecha de Z2 o a la izquierda de Z1. Sin embargo, la contribución marginal del jugador es mayor que cero para aquellos X para los cuales se satisface la siguiente restricción: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X. Para esta restricción, las tres regiones A, B y C se encuentran en algún lugar entre Z1 y Z2. Dado que a = q −wi y b = q −, la Ecuación 6 también se puede escribir como: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X. El valor más pequeño de X que satisface la restricción en la Ecuación 6 aumenta estrictamente con q. A medida que X aumenta, el error en la suma de pesos en una muestra (es decir, e(σX) = p(ν)/X) disminuye. Por consiguiente, el error en la contribución marginal de un jugador (ver Ecuación 5) también disminuye. Esto implica que a medida que q aumenta, el error en la contribución marginal (y consecuentemente el error en el valor de Shapley) disminuye. - Efecto de m. Es claro a partir de la Ecuación 4 que el error e(σX) es mayor para X = 1 y disminuye con X. Por lo tanto, para valores pequeños de m, e(σ1) tiene un efecto significativo en PE. Pero a medida que m aumenta, el efecto de e(σ1) en PE disminuye y, como resultado, PE disminuye. TRABAJO RELACIONADO Para superar la complejidad computacional de encontrar el valor de Shapley, se han propuesto dos enfoques principales en la literatura. Un enfoque es utilizar funciones generadoras [3]. Este método es un procedimiento exacto que supera el problema de la complejidad temporal, pero sus requisitos de almacenamiento son sustanciales, ya que requiere matrices enormes. También tiene la limitación (no compartida por otros enfoques) de que solo se puede aplicar a juegos con pesos y cuotas enteras. El otro método utiliza una técnica de aproximación basada en la simulación de Monte Carlo. En [12], por ejemplo, el valor de Shapley se calcula considerando una muestra aleatoria de una gran población de jugadores. El método que proponemos difiere de esto en que ellos definen el valor de Shapley tratando el número de turnos de un jugador (si un jugador puede cambiar una coalición perdedora a una ganadora, entonces, para el jugador, la coalición se cuenta como un turno) como una variable aleatoria, mientras que nosotros tratamos los pesos de los jugadores como variables aleatorias. En [12], sin embargo, la pregunta sigue siendo cómo obtener el número de rondas a partir de la definición de un juego de votación y cuál es la complejidad temporal de hacer esto. Dado que el juego de votación se define en función de los pesos de los jugadores y el número de votos se obtiene a partir de estos pesos, nuestro método se corresponde más estrechamente con la definición del juego de votación. Nuestro método también difiere de [7] en que mientras [7] presenta un método para el caso en el que todos los pesos de los jugadores están distribuidos normalmente, nuestro método se aplica a cualquier tipo de distribución para estos pesos. Por lo tanto, como se indica en la Sección 1, nuestro método es más general que [3, 12, 7]. Además, a diferencia de todo el trabajo mencionado anteriormente, proporcionamos un análisis del rendimiento de nuestro método en términos del error porcentual en el valor de Shapley aproximado. Un método para encontrar el valor de Shapley también fue propuesto en [5]. Este método proporciona el valor de Shapley exacto, pero su complejidad temporal es exponencial. Además, el método solo se puede utilizar si el juego está representado en una forma específica (es decir, la representación de múltiples problemas), de lo contrario no. Finalmente, [9, 10] presentan un método de tiempo polinómico para encontrar el valor de Shapley. Este método se puede utilizar si el juego de coalición se representa como una red de contribución marginal. Además, asumen que el valor de Shapley de un componente de un juego de coalición dado es proporcionado por un oráculo, y en base a esta suposición agregan estos valores para encontrar el valor del juego en general. Por el contrario, nuestro método es independiente de The Sixth Intl. La Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 965 de la representación y proporciona un valor de Shapley aproximado en tiempo lineal, sin necesidad de un oráculo. 7. CONCLUSIONES Y TRABAJO FUTURO La formación de coaliciones es una forma importante de interacción en sistemas multiagentes. Un tema importante en este tipo de trabajo es que los agentes decidan cómo dividir las ganancias de la cooperación entre los miembros de una coalición. En este contexto, la teoría de juegos cooperativos ofrece un concepto de solución llamado el valor de Shapley. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. Sin embargo, su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, el problema de encontrar este valor para el juego de votación es #P-completo. Aunque este problema es, en general, #P-completo, demostramos que hay algunos juegos de votación específicos para los cuales el valor de Shapley puede determinarse en tiempo polinómico y caracterizamos dichos juegos. Al hacerlo, hemos demostrado cuándo es computacionalmente factible encontrar el valor de Shapley exacto. Para otros juegos de votación complejos, presentamos un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal del método propuesto es lineal en el número de jugadores. Analizamos el rendimiento de este método en términos del error porcentual en el valor de Shapley aproximado. Nuestros experimentos muestran que el error porcentual en el valor de Shapley es como máximo del 20%. Además, en la mayoría de los casos, el error es menor al 5%. Finalmente, analizamos el efecto de los diferentes parámetros del juego de votación en este error. Nuestro estudio muestra que el error disminuye a medida que aumenta 1. el peso de los jugadores, 2. la cuota aumenta y 3. el número de jugadores aumenta. Dado que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. En el futuro, exploraremos el problema de determinar el valor de Shapley para otros juegos de coalición comúnmente presentes, como la economía de producción y la economía de mercado. 8. REFERENCIAS [1] R. Aumann. Puntos aceptables en juegos cooperativos n-persona en general. En Contribuciones a la Teoría de Juegos volumen IV. Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, y M. Protasi. Complejidad y aproximación: Problemas de optimización combinatoria y sus propiedades de aproximabilidad. Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada y J. J. Lopez. Funciones generadoras para calcular índices de poder de manera eficiente. Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz y M. Regler. Técnicas de Análisis de Datos en Experimentos de Física de Altas Energías. Cambridge University Press, 1993. [5] V. Conitzer y T. Sandholm. Calculando los valores de Shapley, manipulando esquemas de división de valor y verificando la pertenencia al núcleo en dominios de múltiples problemas. En Actas de la Conferencia Nacional de Inteligencia Artificial, páginas 219-225, San José, California, 2004. [6] X. Deng y C. H. Papadimitriou. Sobre la complejidad de los conceptos de solución cooperativa. Matemáticas de la Investigación de Operaciones, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge y N. R. Jennings. Un análisis del valor de Shapley y su incertidumbre para el juego de votación. En Proc. 7th Int. Taller sobre Comercio Electrónico Mediado por Agentes, páginas 39-52, 2005. [8] A. Francis. Estadísticas de Nivel Avanzado. Stanley Thornes Publishers, 1979. [9] S. Ieong y Y. Shoham. Contribución marginal neta: Un esquema de representación compacto para juegos coalicionales. En Actas de la Sexta Conferencia de la ACM sobre Comercio Electrónico, páginas 193-202, Vancouver, Canadá, 2005. [10] S. Ieong y Y. Shoham. Juegos de coalición de múltiples atributos. En Actas de la Séptima Conferencia de la ACM sobre Comercio Electrónico, páginas 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan y A. Rapoport. Teorías de formación de coaliciones. Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann y L. S. Shapley. Valores para juegos grandes iv: Evaluando el colegio electoral exactamente. Informe técnico, The RAND Corporation, Santa Mónica, 1962. [13] A. Mas-Colell, M. Whinston y J. R. Green. Teoría microeconómica. Oxford University Press, 1995. [14] M. J. Osborne y A. Rubinstein. Un curso de teoría de juegos. El MIT Press, 1994. [15] C. H. Papadimitriou. Complejidad computacional. Addison Wesley Longman, 1994. [16] A. Rapoport. \n\nAddison Wesley Longman, 1994. [16] A. Rapoport. Teoría de juegos N-personas: Conceptos y aplicaciones. Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.\nDover Publications, Mineola, NY, 2001. [17] A. E. Roth. Introducción al valor de Shapley. En A. E. Roth, editor, El valor de Shapley, páginas 1-27. Editorial de la Universidad de Cambridge, Cambridge, 1988. [18] T. Sandholm y V. Lesser. Coaliciones entre agentes limitados computacionalmente. Revista de Inteligencia Artificial, 94(1):99-137, 1997. [19] L. S. Shapley. Un valor para juegos de n personas. En A. E. Roth, editor, El valor de Shapley, páginas 31-40. Universidad de Cambridge Press, Cambridge, 1988. [20] O. Shehory y S. Kraus. Un modelo orientado al núcleo para la formación de coaliciones en entornos generales: Implementación y resultados. En Actas de la Conferencia Nacional de Inteligencia Artificial (AAAI-96), páginas 131-140, 1996. [21] O. Shehory y S. Kraus. Métodos para la asignación de tareas a través de la formación de coaliciones de agentes. Revista de Inteligencia Artificial, 101(2):165-200, 1998. [22] J. R. Taylor. Una introducción al análisis de errores: El estudio de las incertidumbres en las mediciones físicas. University Science Books, 1982. 966 La Sexta Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) ",
            "candidates": [],
            "error": [
                [
                    "método aleatorizado",
                    "método aleatorio"
                ]
            ]
        },
        "generating function": {
            "translated_key": "funciones generadoras",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use <br>generating function</br>s [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use <br>generating function</br>s [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [
                "The first is to use <br>generating function</br>s [3].",
                "One approach is to use <br>generating function</br>s [3]."
            ],
            "translated_annotated_samples": [
                "El primero es usar <br>funciones generadoras</br> [3].",
                "Un enfoque es utilizar <br>funciones generadoras</br> [3]."
            ],
            "translated_text": "Un Método Aleatorio para el Valor de Shapley para el Juego de Votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido. El valor de Shapley es uno de los conceptos clave de solución para juegos de coalición. Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, se sabe que el problema de encontrar este valor para el juego de votación es #P-completo en el caso general. Sin embargo, en este artículo, demostramos que hay algunos juegos de votación específicos para los cuales el problema es computacionalmente manejable. Para otros juegos de votación generales, superamos el problema de la complejidad computacional presentando un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal de este método es lineal en el número de jugadores. También demostramos, a través de estudios empíricos, que el porcentaje de error para el método propuesto siempre es inferior al 20% y, en la mayoría de los casos, inferior al 5%. Categorías y Descriptores de Asignaturas I.2.11 [Inteligencia Artificial Distribuida]: Sistemas Multiagente Términos Generales Algoritmos, Diseño, Teoría 1. FORMACIÓN DE COALICIONES, una forma clave de interacción en sistemas multiagente, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13]. A menudo, en tales situaciones, hay más de una coalición posible y la recompensa de un jugador depende de cuál se una. Dado esto, un problema clave es asegurar que ninguna de las partes en una coalición tenga algún incentivo para separarse de ella y unirse a otra coalición (es decir, las coaliciones deben ser estables). Sin embargo, en muchos casos puede haber más de una solución (es decir, una coalición estable). En tales casos, se vuelve difícil seleccionar una única solución entre las posibles, especialmente si las partes están interesadas en sí mismas (es decir, tienen preferencias diferentes sobre coaliciones estables). En este contexto, la teoría de juegos cooperativos aborda el problema de la formación de coaliciones y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14]. La teoría de juegos cooperativos difiere de su contraparte no cooperativa en que, para la primera, a los jugadores se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor ganancia total. Además, a diferencia de la teoría de juegos no cooperativos, la teoría de juegos cooperativos no especifica un juego a través de una descripción del entorno estratégico (incluyendo el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los resultados de pagos, sino que, en cambio, reduce esta colección de datos a la forma coalicional donde cada coalición está representada por un único número real: no hay acciones, movimientos o pagos individuales. La principal ventaja de este enfoque, al menos en entornos de múltiples jugadores, es su utilidad práctica. Por lo tanto, muchas más situaciones de la vida real encajan más fácilmente en un juego de forma coalicional, cuya estructura es más manejable que la de un juego no cooperativo, ya sea en forma normal o extensiva, y es por esta razón que nos enfocamos en tales formas en este artículo. Dadas estas observaciones, varios investigadores de sistemas multiagentes han utilizado y ampliado soluciones cooperativas de teoría de juegos para facilitar la formación automatizada de coaliciones [20, 21, 18]. Además, en este trabajo, uno de los conceptos de solución más estudiados en profundidad es el valor de Shapley [19]. El valor de Shapley de un jugador da una indicación de sus perspectivas de jugar el juego: cuanto mayor sea el valor de Shapley, mejores serán sus perspectivas. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa (ver Sección 2.1 para una discusión de la propiedad de equidad). Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene una desventaja importante: para muchos juegos de coalición, no se puede determinar en tiempo polinómico. Por ejemplo, encontrar este valor para el juego de votación ponderada es, en general, #P-completo [6]. Un problema es #P-difícil si resolverlo es tan difícil como contar asignaciones satisfactorias de fórmulas de lógica proposicional [15, p442]. Dado que la #P-completitud subsume la NP-completitud, esto implica que calcular el valor de Shapley para el juego de votación ponderada será intratable en general. En otras palabras, es prácticamente inviable intentar calcular el valor de Shapley exacto. Sin embargo, el juego de votación tiene relevancia práctica para los sistemas multiagente, ya que es un medio importante para llegar a un consenso entre múltiples agentes. Por lo tanto, nuestro objetivo es superar la complejidad computacional de encontrar el valor de Shapley para este juego. Específicamente, primero demostramos que hay algunos juegos de votación específicos para los cuales el valor exacto se puede calcular en tiempo polinómico. Al identificar dichos juegos, mostramos, por primera vez, cuándo es factible encontrar el valor exacto y cuándo no lo es. Para los juegos de votación computacionalmente complejos, presentamos un nuevo método aleatorizado, siguiendo la línea de la simulación de Monte Carlo, para calcular el valor de Shapley aproximado. La complejidad computacional de este tipo de juegos suele abordarse mediante dos enfoques principales. El primero es usar <br>funciones generadoras</br> [3]. Este método intercambia complejidad temporal por espacio de almacenamiento. El segundo utiliza una técnica de aproximación basada en la simulación de Monte Carlo [12, 7]. Sin embargo, el método que proponemos es más general que cualquiera de estos (ver Sección 6 para más detalles). Además, ningún trabajo ha analizado previamente el error de aproximación. El error de aproximación se refiere a qué tan cerca está la aproximación del valor de Shapley real. Específicamente, es la diferencia entre el valor de Shapley real y el aproximado. Es importante determinar este error porque el rendimiento de un método de aproximación se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. Por lo tanto, nuestra contribución radica también en proporcionar, por primera vez, un análisis del error porcentual en el valor aproximado de Shapley. Este análisis se realiza de manera empírica. Nuestros experimentos muestran que el error siempre es menor al 20%, y en la mayoría de los casos es inferior al 5%. Finalmente, nuestro método tiene complejidad temporal lineal en el número de jugadores y no requiere ningún arreglo (es decir, es económico en términos tanto de tiempo de computación como de espacio de almacenamiento). Dado esto, y el hecho de que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. El resto del documento está organizado de la siguiente manera. La sección 2 define el valor de Shapley y describe el juego de votación ponderada. En la Sección 3 describimos juegos de votación cuyo valor de Shapley se puede encontrar en tiempo polinómico. En la Sección 4, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y analizamos su rendimiento en la Sección 5. La sección 6 discute la literatura relacionada. Finalmente, la Sección 7 concluye. 2. FONDO Comenzamos presentando los juegos de coalición y el valor de Shapley, y luego definimos el juego de votación ponderada. Un juego de coalición es un juego en el que grupos de jugadores (coaliciones) pueden promover un comportamiento cooperativo entre sus miembros. Por lo tanto, el juego es una competencia entre coaliciones de jugadores, en lugar de entre jugadores individuales. Dependiendo de cómo los jugadores midan la utilidad, la teoría de juegos de coalición se divide en dos partes. Si los jugadores miden la utilidad o la ganancia en las mismas unidades y hay un medio de intercambio de utilidad como pagos laterales, decimos que el juego tiene utilidad transferible; de lo contrario, tiene utilidad no transferible. Más formalmente, un juego de coalición con utilidad transferible, N, v, consiste en: 1. un conjunto finito (N = {1, 2, . . . , n}) de jugadores y 2. una función (v) que asocia a cada subconjunto no vacío S de N (es decir, una coalición) un número real v(S) (el valor de S). Para cada coalición S, el número v(S) es la ganancia total disponible para ser dividida entre los miembros de S (es decir, el conjunto de acciones conjuntas que la coalición S puede tomar consiste en todas las posibles divisiones de v(S) entre los miembros de S). Los juegos de coalición con pagos no transferibles difieren de los que tienen pagos transferibles de la siguiente manera. Para lo primero, cada coalición está asociada con un conjunto de vectores de pago que no necesariamente es el conjunto de todas las posibles divisiones de una cantidad fija. El enfoque de este documento se centra en el juego de votación ponderada (descrito en la Sección 2.1), que es un juego con pagos transferibles. Por lo tanto, en ambos casos, los jugadores solo se unirán a una coalición si esperan beneficiarse de ella. Aquí, a los jugadores se les permite formar acuerdos vinculantes, por lo que hay un fuerte incentivo para trabajar juntos y recibir la mayor ganancia total. El problema entonces es cómo dividir el pago total entre o entre los jugadores. En este contexto, Shapley [19] construyó una solución utilizando un enfoque axiomático. Shapley definió un valor para los juegos como una función que asigna a un juego (N, v), un número ϕi(N, v) para cada i en N. Esta función satisface tres axiomas [17]: 1. Simetría. Este axioma requiere que los nombres de los jugadores no jueguen ningún papel en la determinación del valor. 2. Portador. Este axioma requiere que la suma de ϕi(N, v) para todos los jugadores i en cualquier portador C sea igual a v(C). Un portador C es un subconjunto de N tal que v(S) = v(S ∩ C) para cualquier subconjunto de jugadores S ⊂ N. Aditividad. Este axioma especifica cómo deben relacionarse los valores de diferentes juegos entre sí. Se requiere que para cualquier juego ϕi(N, v) y ϕi(N, v), ϕi(N, v) + ϕi(N, v) = ϕi(N, v + v) para todo i en N. Shapley demostró que hay una función única que satisface estos tres axiomas. Shapley consideraba este valor como un índice para medir el poder de los jugadores en un juego. Al igual que un índice de precios u otros índices de mercado, el valor utiliza promedios (o promedios ponderados en algunas de sus generalizaciones) para agregar el poder de los jugadores en sus diversas oportunidades de cooperación. Alternativamente, se puede pensar en el valor de Shapley como una medida de la utilidad de jugadores neutrales al riesgo en un juego. Primero introducimos algunas notaciones y luego definimos el valor de Shapley. Sea S el conjunto N − {i} y fi : S → 2N−{i} una variable aleatoria que toma sus valores en el conjunto de todos los subconjuntos de N − {i}, y tiene la función de distribución de probabilidad (g) definida como: g(fi(S) = S) = |S|! (n − |S| − 1)! n! La variable aleatoria fi se interpreta como la elección aleatoria de una coalición a la que se une el jugador i. Entonces, el valor de Shapley de un jugador se define en términos de su contribución marginal. Por lo tanto, la contribución marginal del jugador i a la coalición S con i /∈ S es una función Δiv que se define de la siguiente manera: Δiv(S) = v(S ∪ {i}) − v(S). Así, la contribución marginal de un jugador a una coalición S es el aumento en el valor de S como resultado de que i se una a ella. DEFINICIÓN 1. El valor de Shapley (ϕi) del juego N, v para el jugador i es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar: ϕi(N, v) = E[Δiv ◦ fi] (1). El valor de Shapley se interpreta de la siguiente manera. Supongamos que todos los jugadores están dispuestos en algún orden, siendo todas las disposiciones igualmente probables. Entonces ϕi(N, v) es la contribución marginal esperada, sobre todas las ordenaciones, del jugador i al conjunto de jugadores que le preceden. El método para encontrar el valor de Shapley de un jugador depende de la definición de la función de valor (v). Esta función es diferente para diferentes juegos, pero aquí nos enfocamos específicamente en el juego de votación ponderada por las razones descritas en la Sección 1.960 de la Sexta Conferencia Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 2.1 El juego de votación ponderada Adoptamos la definición del juego de votación dada en [6]. Por lo tanto, hay un conjunto de n jugadores que pueden, por ejemplo, representar accionistas en una empresa o miembros en un parlamento. El juego de votación ponderada es entonces un juego G = N, v en el que: v(S) = j 1 si w(S) ≥ q 0 en caso contrario para algún q ∈ IR+ y wi ∈ IRN + , donde: w(S) = X i∈S wi para cualquier coalición S. Así, wi es el número de votos que tiene el jugador i y q es el número de votos necesarios para ganar el juego (es decir, la cuota). Ten en cuenta que para este juego (denotado q; w1, . . . , wn), la contribución marginal de un jugador es cero o uno. Esto se debe a que el valor de cualquier coalición es cero o uno. Una coalición con valor cero se llama una coalición perdedora y con valor uno una coalición ganadora. Si la entrada de un jugador a una coalición cambia de perder a ganar, entonces la contribución marginal del jugador para esa coalición es uno; de lo contrario, es cero. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. La propiedad de la unicidad es deseable porque no deja lugar a ambigüedades. La propiedad de equidad se relaciona con cómo se dividen las ganancias de la cooperación entre los miembros de una coalición. En este caso, el valor de Shapley de un jugador es proporcional a la contribución que realiza como miembro de una coalición; cuanto mayor sea su contribución, mayor será su valor. Por lo tanto, desde la perspectiva de un jugador, tanto la singularidad como la equidad son propiedades deseables. 3. JUEGOS DE VOTACIÓN CON SOLUCIONES EN TIEMPO POLINOMIAL Aquí describimos aquellos juegos de votación para los cuales el valor de Shapley puede ser determinado en tiempo polinomial. Esto se logra utilizando el enfoque de enumeración directa (es decir, enumerando todas las posibles coaliciones y encontrando la contribución marginal de un jugador a cada una de ellas). Caracterizamos dichos juegos en términos del número de jugadores y sus pesos. 3.1 Todos los jugadores tienen el mismo peso. Consideremos el juego q; j, . . . , j con m participantes. Cada partido tiene j votos. Si q ≤ j, entonces no habría necesidad de que los jugadores formen una coalición. Por otro lado, si q = mj (m = |N| es el número de jugadores), solo la gran coalición es posible. Los juegos interesantes son aquellos para los cuales la cuota (q) satisface la restricción: (j + 1) ≤ q ≤ j(m − 1). Para estos juegos, el valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕ denote el valor de Shapley para un jugador. Considera a cualquier jugador. Este jugador puede unirse a una coalición como el miembro i-ésimo donde 1 ≤ i ≤ m. Sin embargo, la contribución marginal del jugador es de 1 solo si se une a una coalición como el miembro q/j-ésimo. En todos los demás casos, su contribución marginal es cero. Por lo tanto, el valor de Shapley para cada jugador ϕ = 1/m. Dado que ϕ requiere una operación de división, se puede encontrar en tiempo constante (es decir, O(1)). 3.2 Una sola gran fiesta Considera un juego en el que hay dos tipos de jugadores: grandes (con peso wl > ws) y pequeños (con peso ws). Hay un jugador grande y m pequeños. La cuota para este juego es q; es decir, tenemos un juego de la forma q; wl, ws, ws, . . . , ws. El número total de jugadores es (m + 1). El valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕl denote el valor de Shapley para el jugador grande y ϕs para cada jugador pequeño. Primero consideramos ws = 1 y luego ws > 1. El valor más pequeño posible para q es wl + 1. Esto se debe a que, si q ≤ wl, entonces el partido grande puede ganar las elecciones por sí solo sin necesidad de formar una coalición. Por lo tanto, la cuota para el juego satisface la restricción wl + 1 ≤ q ≤ m + wl − 1. Además, los límites inferior y superior para wl son 2 y (q − 1) respectivamente. El límite inferior es 2 porque el peso de la gran fiesta tiene que ser mayor que cada uno de los pequeños. Además, el peso del gran partido no puede ser mayor que q, ya que en ese caso, no habría necesidad de que el gran partido forme una coalición. Recuerda que para nuestro juego de votación, la contribución marginal de un jugador a una coalición solo puede ser cero o uno. Considera la gran fiesta. Este partido puede unirse a una coalición como el i-ésimo miembro donde 1 ≤ i ≤ (m + 1). Sin embargo, la contribución marginal del partido grande es uno si se une a una coalición como el miembro i-ésimo donde (q − wl) ≤ i < q. En todos los casos restantes, su contribución marginal es cero. Por lo tanto, de los casos totales posibles (m + 1), su contribución marginal es de uno en wl casos. Por lo tanto, el valor de Shapley del partido grande es: ϕl = wl/(m + 1). De la misma manera, obtenemos el valor de Shapley del gran partido para el caso general donde ws > 1 como: ϕl = wl/ws /(m + 1). Ahora consideremos a un jugador pequeño. Sabemos que la suma de los valores de Shapley de todos los m+1 jugadores es uno. Además, dado que los partidos pequeños tienen el mismo peso, sus valores de Shapley son iguales. Por lo tanto, obtenemos: ϕs = 1 − ϕl m. Por lo tanto, tanto ϕl como ϕs se pueden calcular en tiempo constante. Esto se debe a que ambos requieren un número constante de operaciones básicas (suma, resta, multiplicación y división). De la misma manera, el valor de Shapley para un juego de votación con un único partido grande y múltiples partidos pequeños puede determinarse en tiempo constante. 3.3 Múltiples partidos grandes y pequeños Ahora consideramos un juego de votación que tiene dos tipos de jugadores: grandes y pequeños (como en la Sección 3.2), pero ahora hay múltiples partidos grandes y múltiples partidos pequeños. El conjunto de partidos consiste en ml partidos grandes y ms partidos pequeños. El peso de cada fiesta grande es wl y el de cada fiesta pequeña es ws, donde ws < wl. Mostramos la factibilidad computacional de este juego considerando los siguientes cuatro posibles escenarios: S1 q ≤ mlwl y q ≤ msws S2 q ≤ mlwl y q ≥ msws S3 q ≥ mlwl y q ≥ msws S4 q ≥ mlwl y q ≤ msws Para el primer escenario, considera un jugador grande. Para determinar el valor de Shapley para este jugador, necesitamos considerar el número de todas las posibles coaliciones que le otorgan una contribución marginal de uno. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores grandes está entre cero y (q −1)/wl. En otras palabras, hay (q −1)/wl +1 casos de este tipo y ahora consideramos cada uno de ellos. El Sexto Internacional. Considera una coalición tal que cuando el jugador grande se une, hay i jugadores grandes y (q − iwl − 1)/ws jugadores pequeños ya en ella, y los jugadores restantes se unen después del jugador grande. Una coalición de este tipo otorga una contribución marginal a la unidad de jugador grande. Que C2 l (i, q) denote el número de todas esas coaliciones. Para empezar, considera el caso i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « donde C(y, x) denota el número de posibles combinaciones de x elementos de un conjunto de y elementos. Para i = 1, obtenemos: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « En general, para i > 1, obtenemos: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Por lo tanto, el valor de Shapley de los jugadores grandes es: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) Para un i dado, el tiempo para encontrar C2 l (i, q) es O(T) donde T = (mlms(q − iwl − 1)(ml + ms))/ws Por lo tanto, el tiempo para encontrar el valor de Shapley es O(T q/wl). De la misma manera, el valor de Shapley de un jugador pequeño es: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) y puede encontrarse en tiempo O(T q/ws). Asimismo, se puede demostrar que los tres escenarios restantes (S2 a S4) tienen la misma complejidad temporal. 3.4 Tres tipos de jugadores Ahora consideramos un juego de votación que tiene tres tipos de jugadores: 1, 2 y 3. El conjunto de fiestas consiste en m1 jugadores de tipo 1 (cada uno con peso w1), m2 jugadores de tipo 2 (cada uno con peso w2) y m3 jugadores de tipo 3 (cada uno con peso w3). Para este juego de votación, considera a un jugador de tipo 1. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores de tipo 1 está entre cero y (q − 1)/w1. En otras palabras, hay (q − 1)/w1 + 1 casos de este tipo y ahora consideramos cada uno de ellos. Considera una coalición tal que cuando el jugador de tipo 1 se une, ya hay i jugadores de tipo 1 en ella. Los jugadores restantes se unen después del jugador de tipo 1. Que C3 l (i, q) denote el número de todas las coaliciones que dan una contribución marginal de uno al jugador de tipo 1 donde: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Por lo tanto, el valor de Shapley del jugador de tipo 1 es: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) La complejidad temporal de encontrar este valor es O(T q2 /w1w2) donde: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Del mismo modo, para los otros dos tipos de jugadores (2 y 3). Por lo tanto, hemos identificado juegos para los cuales el valor de Shapley exacto puede determinarse fácilmente. Sin embargo, la complejidad computacional del método de enumeración directa anterior aumenta con el número de tipos de jugadores. Para un juego de votación con más de tres tipos de jugadores, la complejidad temporal del método anterior es un polinomio de grado cuatro o superior. Para hacer frente a tales situaciones, por lo tanto, la siguiente sección presenta un método aleatorio más rápido para encontrar el valor de Shapley aproximado. 4. ENCONTRANDO EL VALOR DE SHAPLEY APROXIMADO Primero damos una breve introducción a los algoritmos aleatorizados y luego presentamos nuestro método aleatorizado para encontrar el valor de Shapley aproximado. Los algoritmos aleatorizados son el enfoque más comúnmente utilizado para encontrar soluciones aproximadas a problemas computacionalmente difíciles. Un algoritmo aleatorizado es un algoritmo que, durante algunas de sus etapas, realiza elecciones al azar [2]. Los pasos aleatorios realizados por el algoritmo implican que al ejecutar el algoritmo varias veces con la misma entrada no estamos garantizados de encontrar la misma solución. Ahora, dado que dichos algoritmos generan soluciones aproximadas, su rendimiento se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. El error de aproximación se refiere a la diferencia entre la solución exacta y su aproximación. En este contexto, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y evaluamos empíricamente su error. Primero describimos el juego de votación general y luego presentamos nuestro algoritmo aleatorio. En su forma general, un juego de votación tiene más de dos tipos de jugadores. Que w_i denote el peso del jugador i. Por lo tanto, para m jugadores y para la cuota q, el juego es de la forma q; w1, w2, . . . , wm. Los pesos están especificados en términos de una función de distribución de probabilidad. Para un juego como este, queremos encontrar el valor aproximado de Shapley. Dejamos que P denote una población de jugadores. Los pesos de los jugadores en esta población están definidos por una función de distribución de probabilidad. Independientemente de la función de distribución de probabilidad real, sea μ la media del peso para la población de jugadores y ν la varianza en los pesos de los jugadores. De esta población de jugadores extraemos muestras al azar y encontramos la suma de los pesos de los jugadores en la muestra utilizando la siguiente regla de la Teoría del Muestreo (ver [8] p425): Si w1, w2, . . . , wn es una muestra aleatoria de tamaño n extraída de cualquier distribución con media μ y varianza ν, entonces la suma de la muestra tiene una distribución Normal aproximada con media nμ y varianza ν n (cuanto mayor sea n, mejor será la aproximación). 962 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Población de jugadores μ: Peso medio de la población P ν: Varianza en los pesos para la población P q: Cuota para el juego de votación wi: Peso del jugador 1. Ti ← 0; a ← q − wi; b ← q − 2. \n\nTi ← 0; a ← q - wi; b ← q - 2. Para X de 1 a m, repetir lo siguiente 2.1. Selecciona una muestra aleatoria SX de tamaño X de la población P 2.2. Evaluar la contribución marginal esperada (ΔX i ) del jugador i a SX como: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3. Ti ← Ti + ΔX i 3. \n\nTi ← Ti + ΔX i 3. Evaluar el valor de Shapley del jugador i como: ϕi ← Ti/m Tabla 1: Algoritmo aleatorizado para encontrar el valor de Shapley para el jugador i. Sabemos, a partir de la Definición 1, que el valor de Shapley para un jugador es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar. Utilizamos esta regla para determinar el valor de Shapley de la siguiente manera. Para el jugador i con peso wi, dejemos que ϕi denote el valor de Shapley. Que X denote el tamaño de una muestra aleatoria extraída de una población en la que los pesos de los jugadores individuales tienen cualquier distribución. La contribución marginal del jugador i a esta muestra aleatoria es uno si el peso total de los jugadores X en la muestra es mayor o igual a a = q - wi pero menor que b = q - (donde es una cantidad infinitesimalmente pequeña). De lo contrario, su contribución marginal es cero. Por lo tanto, la contribución marginal esperada del jugador i (denotada como ΔX i ) a la coalición de muestra es el área bajo la curva definida por N(Xμ, ν X ) en el intervalo [a, b]. Esta área se muestra como la región B en la Figura 1 (la línea punteada en la figura es Xμ). Por lo tanto, obtenemos: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) y el valor de Shapley es: ϕi = 1 m mX X=1 ΔX i (3). Los pasos anteriores se describen en la Tabla 1. Con más detalle, el Paso 1 realiza la inicialización. En el Paso 2, variamos X entre 1 y m y repetidamente hacemos lo siguiente. En el Paso 2.1, seleccionamos aleatoriamente una muestra SX de tamaño X de la población P. La contribución marginal del jugador a la coalición aleatoria SX se encuentra en el Paso 2.2. El promedio de la contribución marginal se encuentra en el Paso 3, y este es el valor de Shapley para el jugador i. TEOREMA 1. La complejidad temporal del método aleatorio propuesto es lineal en el número de jugadores. PRUEBA. Según la Ecuación 3, ΔX i debe ser calculado m veces. Esto se hace en el bucle for del Paso 2 en la Tabla 1. Por lo tanto, la complejidad temporal de calcular el valor de Shapley de un jugador es O(m). La siguiente sección analiza el error de aproximación para el método propuesto. 5. RENDIMIENTO DEL MÉTODO ALEATORIO Primero derivamos la fórmula para medir el error en el valor de Shapley aproximado y luego realizamos experimentos para evaluar este error en una amplia gama de configuraciones. Sin embargo, antes de hacerlo, introducimos la idea del error. El concepto de error se relaciona con una medición realizada de una cantidad que tiene un valor aceptado [22, 4]. Obviamente, no se puede determinar exactamente cuán lejos está una medición del valor aceptado; si esto fuera posible, sería factible simplemente proporcionar un valor corregido más preciso. Por lo tanto, el error tiene que ver con la incertidumbre en las mediciones sobre la que no se puede hacer nada. Si se repite una medición, los valores obtenidos serán diferentes y ninguno de los resultados puede ser preferido sobre los demás. Sin embargo, aunque no sea posible hacer nada al respecto de tal error, sí se puede caracterizar. Como se describe en la Sección 4, realizamos mediciones en muestras que se extraen al azar de una población dada (P) de jugadores. Ahora, existen errores estadísticos asociados con el muestreo que son inevitables y deben ser aceptados. Por lo tanto, si el resultado de una medición va a tener significado, no puede consistir únicamente en el valor medido. También se debe incluir una indicación de cuán precisa es el resultado. Por lo tanto, el resultado de cualquier medición física tiene dos componentes esenciales: 1. un valor numérico que proporciona la mejor estimación posible de la cantidad medida, y 2. el grado de incertidumbre asociado con este valor estimado. Por ejemplo, si la estimación de una cantidad es x y la incertidumbre es e(x), la cantidad estaría en x ± e(x). Para experimentos de muestreo, el error estándar es, con mucho, la forma más común de caracterizar la incertidumbre [22]. Dado esto, la siguiente sección define este error y lo utiliza para evaluar el rendimiento del método aleatorio propuesto. 5.1 Error de aproximación La precisión del método aleatorio anterior depende de su error de muestreo, el cual se define de la siguiente manera [22, 4]: DEFINICIÓN 2. El error de muestreo (o error estándar) se define como la desviación estándar de un conjunto de mediciones dividida por la raíz cuadrada del número de mediciones. Con este fin, sea e(σX) el error de muestreo en la suma de los pesos para una muestra de tamaño X extraída de la distribución N(Xμ, νX) donde: e(σX) = p(ν/X) / p(X) = p(ν) / X (4). Sea e(ΔXi) el error en la contribución marginal para el jugador i (dado en la Ecuación 2). Este error se obtiene propagando el error en la Ecuación 4 a la Ecuación 2. En la Ecuación 2, a y b son los límites inferior y superior para la suma de los pesos de los jugadores para The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Suma de pesos Z1 Z2 Figura 1: Una distribución normal para la suma de los pesos de los jugadores en una coalición de tamaño X. 40 60 80 100 0 50 100 0 5 10 15 20 25 Peso de cuota Porcentaje de error en el valor de Shapley Figura 2: Rendimiento del método aleatorio para m = 10 jugadores en una coalición de tamaño X. Dado que el error en esta suma es e(σX), los valores reales de a y b se encuentran en el intervalo a ± e(σX) y b ± e(σX) respectivamente. Por lo tanto, el error en la Ecuación 2 es la probabilidad de que la suma se encuentre entre los límites a - e(σX) y a (es decir, el área bajo la curva definida por N(Xμ, ν X) entre a - e(σX) y a, que es la región sombreada A en la Figura 1) o la probabilidad de que la suma de los pesos se encuentre entre los límites b y b+e(σX) (es decir, el área bajo la curva definida por N(Xμ, ν X) entre b y b + e(σX), que es la región sombreada C en la Figura 1). Más específicamente, el error es el máximo de estas dos probabilidades: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « Con base en el error anterior, encontramos el error en el valor de Shapley utilizando las siguientes reglas estándar de propagación de errores [22]: R1 Si x e y son dos variables aleatorias con errores e(x) y e(y) respectivamente, entonces el error en la variable aleatoria z = x + y se da por: e(z) = e(x) + e(y) R2 Si x es una variable aleatoria con error e(x) y z = kx donde 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 CuotaPeso Porcentajeerror en el valor de Shapley Figura 3: Rendimiento del método aleatorizado para m = 50 jugadores. la constante k no tiene error, entonces el error en z es: e(z) = |k|e(x) Utilizando las reglas anteriores, el error en el valor de Shapley (dado en la Ecuación 3) se obtiene propagando el error en la Ecuación 4 a todas las coaliciones entre los tamaños X = 1 y X = m. Sea e(ϕi) este error donde: e(ϕi) = 1 m mX X=1 e(ΔX i ) Analizamos el rendimiento de nuestro método en términos del porcentaje de error PE en el valor de Shapley aproximado, que se define de la siguiente manera: PE = 100 × e(ϕi)/ϕi (5) 5.2 Resultados Experimentales Ahora calculamos el porcentaje de error en el valor de Shapley utilizando la ecuación anterior para PE. Dado que este error depende de los parámetros del juego de votación, lo evaluamos en una variedad de configuraciones al variar sistemáticamente los parámetros del juego de votación. En particular, realizamos experimentos en el siguiente entorno. Para un jugador con peso w, el error porcentual en el valor de Shapley de un jugador depende de los siguientes cinco parámetros (ver Ecuación 3): 1. El número de fiestas (m). 2. El peso medio (μ). 3. La varianza en los pesos de los jugadores (ν). 4. La cuota para el juego de votación (q) es de 5. El peso de los jugadores dados (w). Fijamos μ = 10 y ν = 1. Esto se debe a que, para la distribución normal, μ = 10 asegura que para casi todos los jugadores el peso es positivo, y ν = 1 se utiliza con mayor frecuencia en experimentos estadísticos (ν puede ser mayor o menor pero PE aumenta en ν, ver Ecuaciones 4 y 5). Luego variamos m, q y w de la siguiente manera. Variamos m entre 5 y 100 (ya que más allá de 100 encontramos que el error es cercano a cero), para cada m variamos q entre 4μ y mμ (imponemos estos límites porque aseguran que el tamaño del 964 The Sixth Intl. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 Peso de la cuota Porcentaje de error en el valor de Shapley Figura 4: Rendimiento del método aleatorio para m = 100 jugadores. La coalición ganadora es más de uno y menos que m - ver la Sección 3 para más detalles), y para cada q, variamos w entre 1 y q−1 (porque una coalición ganadora debe contener al menos dos jugadores). Los resultados de estos experimentos se muestran en las Figuras 2, 3 y 4. Como se observa en las figuras, la PE máxima es alrededor del 20% y en la mayoría de los casos es inferior al 5%. Ahora analizamos el efecto de los tres parámetros: w, q y m en el error porcentual con más detalle. - Efecto de w. El EP depende de e(σX) porque, en la Ecuación 5, los límites de integración dependen de e(σX). El intervalo sobre el cual se realiza la primera integración en la Ecuación 5 es a − a + e(σX) = e(σX), y el intervalo sobre el cual se realiza la segunda es b + e(σX) − b = e(σX). Por lo tanto, el intervalo es el mismo para ambas integraciones y es independiente de wi. Ten en cuenta que cada una de las dos funciones que se integran en la Ecuación 5 son iguales a la función que se integra en la Ecuación 2. Solo los límites de la integración son diferentes. Además, el intervalo sobre el cual se realiza la integración para la contribución marginal de la Ecuación 2 es b − a = wi − (ver Figura 1). El error en la contribución marginal es el área de la región sombreada A (entre a − e(σX ) y a) en la Figura 1, o el área sombreada C (entre b y b + e(σX )). Según la Ecuación 5, es el máximo de estas dos áreas. Dado que e(σX) es independiente de wi, a medida que wi aumenta, e(σX) permanece invariable. Sin embargo, el área de la región no sombreada B aumenta. Por lo tanto, a medida que wi aumenta, el error en la contribución marginal disminuye y PE también disminuye. - Efecto de q. Para un q dado, el valor de Shapley para el jugador i es el que se indica en la Ecuación 3. Sabemos que, para una muestra de tamaño X, la suma de los pesos de los jugadores se distribuye normalmente con media Xμ y varianza ν/X. Dado que el 99% de una distribución normal se encuentra dentro de dos desviaciones estándar de su media [8], la contribución marginal de un jugador a una muestra de tamaño X es casi cero si: a < Xμ + 2 p ν/X o b > Xμ − 2 p ν/X. Esto se debe a que las tres regiones A, B y C (en la Figura 1) se encuentran ya sea a la derecha de Z2 o a la izquierda de Z1. Sin embargo, la contribución marginal del jugador es mayor que cero para aquellos X para los cuales se satisface la siguiente restricción: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X. Para esta restricción, las tres regiones A, B y C se encuentran en algún lugar entre Z1 y Z2. Dado que a = q −wi y b = q −, la Ecuación 6 también se puede escribir como: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X. El valor más pequeño de X que satisface la restricción en la Ecuación 6 aumenta estrictamente con q. A medida que X aumenta, el error en la suma de pesos en una muestra (es decir, e(σX) = p(ν)/X) disminuye. Por consiguiente, el error en la contribución marginal de un jugador (ver Ecuación 5) también disminuye. Esto implica que a medida que q aumenta, el error en la contribución marginal (y consecuentemente el error en el valor de Shapley) disminuye. - Efecto de m. Es claro a partir de la Ecuación 4 que el error e(σX) es mayor para X = 1 y disminuye con X. Por lo tanto, para valores pequeños de m, e(σ1) tiene un efecto significativo en PE. Pero a medida que m aumenta, el efecto de e(σ1) en PE disminuye y, como resultado, PE disminuye. TRABAJO RELACIONADO Para superar la complejidad computacional de encontrar el valor de Shapley, se han propuesto dos enfoques principales en la literatura. Un enfoque es utilizar <br>funciones generadoras</br> [3]. Este método es un procedimiento exacto que supera el problema de la complejidad temporal, pero sus requisitos de almacenamiento son sustanciales, ya que requiere matrices enormes. También tiene la limitación (no compartida por otros enfoques) de que solo se puede aplicar a juegos con pesos y cuotas enteras. El otro método utiliza una técnica de aproximación basada en la simulación de Monte Carlo. En [12], por ejemplo, el valor de Shapley se calcula considerando una muestra aleatoria de una gran población de jugadores. El método que proponemos difiere de esto en que ellos definen el valor de Shapley tratando el número de turnos de un jugador (si un jugador puede cambiar una coalición perdedora a una ganadora, entonces, para el jugador, la coalición se cuenta como un turno) como una variable aleatoria, mientras que nosotros tratamos los pesos de los jugadores como variables aleatorias. En [12], sin embargo, la pregunta sigue siendo cómo obtener el número de rondas a partir de la definición de un juego de votación y cuál es la complejidad temporal de hacer esto. Dado que el juego de votación se define en función de los pesos de los jugadores y el número de votos se obtiene a partir de estos pesos, nuestro método se corresponde más estrechamente con la definición del juego de votación. Nuestro método también difiere de [7] en que mientras [7] presenta un método para el caso en el que todos los pesos de los jugadores están distribuidos normalmente, nuestro método se aplica a cualquier tipo de distribución para estos pesos. Por lo tanto, como se indica en la Sección 1, nuestro método es más general que [3, 12, 7]. Además, a diferencia de todo el trabajo mencionado anteriormente, proporcionamos un análisis del rendimiento de nuestro método en términos del error porcentual en el valor de Shapley aproximado. Un método para encontrar el valor de Shapley también fue propuesto en [5]. Este método proporciona el valor de Shapley exacto, pero su complejidad temporal es exponencial. Además, el método solo se puede utilizar si el juego está representado en una forma específica (es decir, la representación de múltiples problemas), de lo contrario no. Finalmente, [9, 10] presentan un método de tiempo polinómico para encontrar el valor de Shapley. Este método se puede utilizar si el juego de coalición se representa como una red de contribución marginal. Además, asumen que el valor de Shapley de un componente de un juego de coalición dado es proporcionado por un oráculo, y en base a esta suposición agregan estos valores para encontrar el valor del juego en general. Por el contrario, nuestro método es independiente de The Sixth Intl. La Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 965 de la representación y proporciona un valor de Shapley aproximado en tiempo lineal, sin necesidad de un oráculo. 7. CONCLUSIONES Y TRABAJO FUTURO La formación de coaliciones es una forma importante de interacción en sistemas multiagentes. Un tema importante en este tipo de trabajo es que los agentes decidan cómo dividir las ganancias de la cooperación entre los miembros de una coalición. En este contexto, la teoría de juegos cooperativos ofrece un concepto de solución llamado el valor de Shapley. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. Sin embargo, su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, el problema de encontrar este valor para el juego de votación es #P-completo. Aunque este problema es, en general, #P-completo, demostramos que hay algunos juegos de votación específicos para los cuales el valor de Shapley puede determinarse en tiempo polinómico y caracterizamos dichos juegos. Al hacerlo, hemos demostrado cuándo es computacionalmente factible encontrar el valor de Shapley exacto. Para otros juegos de votación complejos, presentamos un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal del método propuesto es lineal en el número de jugadores. Analizamos el rendimiento de este método en términos del error porcentual en el valor de Shapley aproximado. Nuestros experimentos muestran que el error porcentual en el valor de Shapley es como máximo del 20%. Además, en la mayoría de los casos, el error es menor al 5%. Finalmente, analizamos el efecto de los diferentes parámetros del juego de votación en este error. Nuestro estudio muestra que el error disminuye a medida que aumenta 1. el peso de los jugadores, 2. la cuota aumenta y 3. el número de jugadores aumenta. Dado que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. En el futuro, exploraremos el problema de determinar el valor de Shapley para otros juegos de coalición comúnmente presentes, como la economía de producción y la economía de mercado. 8. REFERENCIAS [1] R. Aumann. Puntos aceptables en juegos cooperativos n-persona en general. En Contribuciones a la Teoría de Juegos volumen IV. Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, y M. Protasi. Complejidad y aproximación: Problemas de optimización combinatoria y sus propiedades de aproximabilidad. Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada y J. J. Lopez. Funciones generadoras para calcular índices de poder de manera eficiente. Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz y M. Regler. Técnicas de Análisis de Datos en Experimentos de Física de Altas Energías. Cambridge University Press, 1993. [5] V. Conitzer y T. Sandholm. Calculando los valores de Shapley, manipulando esquemas de división de valor y verificando la pertenencia al núcleo en dominios de múltiples problemas. En Actas de la Conferencia Nacional de Inteligencia Artificial, páginas 219-225, San José, California, 2004. [6] X. Deng y C. H. Papadimitriou. Sobre la complejidad de los conceptos de solución cooperativa. Matemáticas de la Investigación de Operaciones, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge y N. R. Jennings. Un análisis del valor de Shapley y su incertidumbre para el juego de votación. En Proc. 7th Int. Taller sobre Comercio Electrónico Mediado por Agentes, páginas 39-52, 2005. [8] A. Francis. Estadísticas de Nivel Avanzado. Stanley Thornes Publishers, 1979. [9] S. Ieong y Y. Shoham. Contribución marginal neta: Un esquema de representación compacto para juegos coalicionales. En Actas de la Sexta Conferencia de la ACM sobre Comercio Electrónico, páginas 193-202, Vancouver, Canadá, 2005. [10] S. Ieong y Y. Shoham. Juegos de coalición de múltiples atributos. En Actas de la Séptima Conferencia de la ACM sobre Comercio Electrónico, páginas 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan y A. Rapoport. Teorías de formación de coaliciones. Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann y L. S. Shapley. Valores para juegos grandes iv: Evaluando el colegio electoral exactamente. Informe técnico, The RAND Corporation, Santa Mónica, 1962. [13] A. Mas-Colell, M. Whinston y J. R. Green. Teoría microeconómica. Oxford University Press, 1995. [14] M. J. Osborne y A. Rubinstein. Un curso de teoría de juegos. El MIT Press, 1994. [15] C. H. Papadimitriou. Complejidad computacional. Addison Wesley Longman, 1994. [16] A. Rapoport. \n\nAddison Wesley Longman, 1994. [16] A. Rapoport. Teoría de juegos N-personas: Conceptos y aplicaciones. Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.\nDover Publications, Mineola, NY, 2001. [17] A. E. Roth. Introducción al valor de Shapley. En A. E. Roth, editor, El valor de Shapley, páginas 1-27. Editorial de la Universidad de Cambridge, Cambridge, 1988. [18] T. Sandholm y V. Lesser. Coaliciones entre agentes limitados computacionalmente. Revista de Inteligencia Artificial, 94(1):99-137, 1997. [19] L. S. Shapley. Un valor para juegos de n personas. En A. E. Roth, editor, El valor de Shapley, páginas 31-40. Universidad de Cambridge Press, Cambridge, 1988. [20] O. Shehory y S. Kraus. Un modelo orientado al núcleo para la formación de coaliciones en entornos generales: Implementación y resultados. En Actas de la Conferencia Nacional de Inteligencia Artificial (AAAI-96), páginas 131-140, 1996. [21] O. Shehory y S. Kraus. Métodos para la asignación de tareas a través de la formación de coaliciones de agentes. Revista de Inteligencia Artificial, 101(2):165-200, 1998. [22] J. R. Taylor. Una introducción al análisis de errores: El estudio de las incertidumbres en las mediciones físicas. University Science Books, 1982. 966 La Sexta Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "approximation": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an <br>approximation</br> technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the <br>approximation</br> error.",
                "The <br>approximation</br> error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an <br>approximation</br> method is evaluated in terms of two criteria: its time complexity, and its <br>approximation</br> error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of <br>approximation</br>.",
                "The <br>approximation</br> error refers to the difference between the exact solution and its <br>approximation</br>.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the <br>approximation</br>). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the <br>approximation</br> error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 <br>approximation</br> error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an <br>approximation</br> technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and <br>approximation</br>: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [
                "The second uses an <br>approximation</br> technique based on Monte Carlo simulation [12, 7].",
                "Moreover, no work has previously analysed the <br>approximation</br> error.",
                "The <br>approximation</br> error relates to how close the approximate is to the true Shapley value.",
                "It is important to determine this error because the performance of an <br>approximation</br> method is evaluated in terms of two criteria: its time complexity, and its <br>approximation</br> error.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of <br>approximation</br>."
            ],
            "translated_annotated_samples": [
                "El segundo utiliza una técnica de <br>aproximación</br> basada en la simulación de Monte Carlo [12, 7].",
                "Además, ningún trabajo ha analizado previamente el <br>error de aproximación</br>.",
                "El error de <br>aproximación</br> se refiere a qué tan cerca está la <br>aproximación</br> del valor de Shapley real.",
                "Es importante determinar este error porque el rendimiento de un método de aproximación se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación.",
                "Ahora, dado que dichos algoritmos generan soluciones aproximadas, su rendimiento se evalúa en función de dos criterios: su complejidad temporal y su <br>error de aproximación</br>."
            ],
            "translated_text": "Un Método Aleatorio para el Valor de Shapley para el Juego de Votación Shaheen S. Fatima Departamento de Ciencias de la Computación, Universidad de Liverpool Liverpool L69 3BX, Reino Unido. El valor de Shapley es uno de los conceptos clave de solución para juegos de coalición. Su principal ventaja es que proporciona una solución única y justa, pero su principal problema es que, para muchos juegos de coalición, el valor de Shapley no se puede determinar en tiempo polinómico. En particular, se sabe que el problema de encontrar este valor para el juego de votación es #P-completo en el caso general. Sin embargo, en este artículo, demostramos que hay algunos juegos de votación específicos para los cuales el problema es computacionalmente manejable. Para otros juegos de votación generales, superamos el problema de la complejidad computacional presentando un nuevo método aleatorio para determinar el valor de Shapley aproximado. La complejidad temporal de este método es lineal en el número de jugadores. También demostramos, a través de estudios empíricos, que el porcentaje de error para el método propuesto siempre es inferior al 20% y, en la mayoría de los casos, inferior al 5%. Categorías y Descriptores de Asignaturas I.2.11 [Inteligencia Artificial Distribuida]: Sistemas Multiagente Términos Generales Algoritmos, Diseño, Teoría 1. FORMACIÓN DE COALICIONES, una forma clave de interacción en sistemas multiagente, es el proceso de unir a dos o más agentes para lograr objetivos que los individuos por sí solos no pueden alcanzar, o para lograrlos de manera más eficiente [1, 11, 14, 13]. A menudo, en tales situaciones, hay más de una coalición posible y la recompensa de un jugador depende de cuál se una. Dado esto, un problema clave es asegurar que ninguna de las partes en una coalición tenga algún incentivo para separarse de ella y unirse a otra coalición (es decir, las coaliciones deben ser estables). Sin embargo, en muchos casos puede haber más de una solución (es decir, una coalición estable). En tales casos, se vuelve difícil seleccionar una única solución entre las posibles, especialmente si las partes están interesadas en sí mismas (es decir, tienen preferencias diferentes sobre coaliciones estables). En este contexto, la teoría de juegos cooperativos aborda el problema de la formación de coaliciones y ofrece una serie de conceptos de solución que poseen propiedades deseables como estabilidad, división justa de ganancias conjuntas y unicidad [16, 14]. La teoría de juegos cooperativos difiere de su contraparte no cooperativa en que, para la primera, a los jugadores se les permite formar acuerdos vinculantes y, por lo tanto, hay un fuerte incentivo para trabajar juntos para recibir la mayor ganancia total. Además, a diferencia de la teoría de juegos no cooperativos, la teoría de juegos cooperativos no especifica un juego a través de una descripción del entorno estratégico (incluyendo el orden de los movimientos de los jugadores y el conjunto de acciones en cada movimiento) y los resultados de pagos, sino que, en cambio, reduce esta colección de datos a la forma coalicional donde cada coalición está representada por un único número real: no hay acciones, movimientos o pagos individuales. La principal ventaja de este enfoque, al menos en entornos de múltiples jugadores, es su utilidad práctica. Por lo tanto, muchas más situaciones de la vida real encajan más fácilmente en un juego de forma coalicional, cuya estructura es más manejable que la de un juego no cooperativo, ya sea en forma normal o extensiva, y es por esta razón que nos enfocamos en tales formas en este artículo. Dadas estas observaciones, varios investigadores de sistemas multiagentes han utilizado y ampliado soluciones cooperativas de teoría de juegos para facilitar la formación automatizada de coaliciones [20, 21, 18]. Además, en este trabajo, uno de los conceptos de solución más estudiados en profundidad es el valor de Shapley [19]. El valor de Shapley de un jugador da una indicación de sus perspectivas de jugar el juego: cuanto mayor sea el valor de Shapley, mejores serán sus perspectivas. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa (ver Sección 2.1 para una discusión de la propiedad de equidad). Sin embargo, aunque ambas son propiedades deseables, el valor de Shapley tiene una desventaja importante: para muchos juegos de coalición, no se puede determinar en tiempo polinómico. Por ejemplo, encontrar este valor para el juego de votación ponderada es, en general, #P-completo [6]. Un problema es #P-difícil si resolverlo es tan difícil como contar asignaciones satisfactorias de fórmulas de lógica proposicional [15, p442]. Dado que la #P-completitud subsume la NP-completitud, esto implica que calcular el valor de Shapley para el juego de votación ponderada será intratable en general. En otras palabras, es prácticamente inviable intentar calcular el valor de Shapley exacto. Sin embargo, el juego de votación tiene relevancia práctica para los sistemas multiagente, ya que es un medio importante para llegar a un consenso entre múltiples agentes. Por lo tanto, nuestro objetivo es superar la complejidad computacional de encontrar el valor de Shapley para este juego. Específicamente, primero demostramos que hay algunos juegos de votación específicos para los cuales el valor exacto se puede calcular en tiempo polinómico. Al identificar dichos juegos, mostramos, por primera vez, cuándo es factible encontrar el valor exacto y cuándo no lo es. Para los juegos de votación computacionalmente complejos, presentamos un nuevo método aleatorizado, siguiendo la línea de la simulación de Monte Carlo, para calcular el valor de Shapley aproximado. La complejidad computacional de este tipo de juegos suele abordarse mediante dos enfoques principales. El primero es usar funciones generadoras [3]. Este método intercambia complejidad temporal por espacio de almacenamiento. El segundo utiliza una técnica de <br>aproximación</br> basada en la simulación de Monte Carlo [12, 7]. Sin embargo, el método que proponemos es más general que cualquiera de estos (ver Sección 6 para más detalles). Además, ningún trabajo ha analizado previamente el <br>error de aproximación</br>. El error de <br>aproximación</br> se refiere a qué tan cerca está la <br>aproximación</br> del valor de Shapley real. Específicamente, es la diferencia entre el valor de Shapley real y el aproximado. Es importante determinar este error porque el rendimiento de un método de aproximación se evalúa en función de dos criterios: su complejidad temporal y su error de aproximación. Por lo tanto, nuestra contribución radica también en proporcionar, por primera vez, un análisis del error porcentual en el valor aproximado de Shapley. Este análisis se realiza de manera empírica. Nuestros experimentos muestran que el error siempre es menor al 20%, y en la mayoría de los casos es inferior al 5%. Finalmente, nuestro método tiene complejidad temporal lineal en el número de jugadores y no requiere ningún arreglo (es decir, es económico en términos tanto de tiempo de computación como de espacio de almacenamiento). Dado esto, y el hecho de que los agentes de software tienen recursos computacionales limitados y, por lo tanto, no pueden calcular el verdadero valor de Shapley, nuestros resultados son especialmente relevantes para dichos agentes con recursos limitados. El resto del documento está organizado de la siguiente manera. La sección 2 define el valor de Shapley y describe el juego de votación ponderada. En la Sección 3 describimos juegos de votación cuyo valor de Shapley se puede encontrar en tiempo polinómico. En la Sección 4, presentamos un método aleatorio para encontrar el valor aproximado de Shapley y analizamos su rendimiento en la Sección 5. La sección 6 discute la literatura relacionada. Finalmente, la Sección 7 concluye. 2. FONDO Comenzamos presentando los juegos de coalición y el valor de Shapley, y luego definimos el juego de votación ponderada. Un juego de coalición es un juego en el que grupos de jugadores (coaliciones) pueden promover un comportamiento cooperativo entre sus miembros. Por lo tanto, el juego es una competencia entre coaliciones de jugadores, en lugar de entre jugadores individuales. Dependiendo de cómo los jugadores midan la utilidad, la teoría de juegos de coalición se divide en dos partes. Si los jugadores miden la utilidad o la ganancia en las mismas unidades y hay un medio de intercambio de utilidad como pagos laterales, decimos que el juego tiene utilidad transferible; de lo contrario, tiene utilidad no transferible. Más formalmente, un juego de coalición con utilidad transferible, N, v, consiste en: 1. un conjunto finito (N = {1, 2, . . . , n}) de jugadores y 2. una función (v) que asocia a cada subconjunto no vacío S de N (es decir, una coalición) un número real v(S) (el valor de S). Para cada coalición S, el número v(S) es la ganancia total disponible para ser dividida entre los miembros de S (es decir, el conjunto de acciones conjuntas que la coalición S puede tomar consiste en todas las posibles divisiones de v(S) entre los miembros de S). Los juegos de coalición con pagos no transferibles difieren de los que tienen pagos transferibles de la siguiente manera. Para lo primero, cada coalición está asociada con un conjunto de vectores de pago que no necesariamente es el conjunto de todas las posibles divisiones de una cantidad fija. El enfoque de este documento se centra en el juego de votación ponderada (descrito en la Sección 2.1), que es un juego con pagos transferibles. Por lo tanto, en ambos casos, los jugadores solo se unirán a una coalición si esperan beneficiarse de ella. Aquí, a los jugadores se les permite formar acuerdos vinculantes, por lo que hay un fuerte incentivo para trabajar juntos y recibir la mayor ganancia total. El problema entonces es cómo dividir el pago total entre o entre los jugadores. En este contexto, Shapley [19] construyó una solución utilizando un enfoque axiomático. Shapley definió un valor para los juegos como una función que asigna a un juego (N, v), un número ϕi(N, v) para cada i en N. Esta función satisface tres axiomas [17]: 1. Simetría. Este axioma requiere que los nombres de los jugadores no jueguen ningún papel en la determinación del valor. 2. Portador. Este axioma requiere que la suma de ϕi(N, v) para todos los jugadores i en cualquier portador C sea igual a v(C). Un portador C es un subconjunto de N tal que v(S) = v(S ∩ C) para cualquier subconjunto de jugadores S ⊂ N. Aditividad. Este axioma especifica cómo deben relacionarse los valores de diferentes juegos entre sí. Se requiere que para cualquier juego ϕi(N, v) y ϕi(N, v), ϕi(N, v) + ϕi(N, v) = ϕi(N, v + v) para todo i en N. Shapley demostró que hay una función única que satisface estos tres axiomas. Shapley consideraba este valor como un índice para medir el poder de los jugadores en un juego. Al igual que un índice de precios u otros índices de mercado, el valor utiliza promedios (o promedios ponderados en algunas de sus generalizaciones) para agregar el poder de los jugadores en sus diversas oportunidades de cooperación. Alternativamente, se puede pensar en el valor de Shapley como una medida de la utilidad de jugadores neutrales al riesgo en un juego. Primero introducimos algunas notaciones y luego definimos el valor de Shapley. Sea S el conjunto N − {i} y fi : S → 2N−{i} una variable aleatoria que toma sus valores en el conjunto de todos los subconjuntos de N − {i}, y tiene la función de distribución de probabilidad (g) definida como: g(fi(S) = S) = |S|! (n − |S| − 1)! n! La variable aleatoria fi se interpreta como la elección aleatoria de una coalición a la que se une el jugador i. Entonces, el valor de Shapley de un jugador se define en términos de su contribución marginal. Por lo tanto, la contribución marginal del jugador i a la coalición S con i /∈ S es una función Δiv que se define de la siguiente manera: Δiv(S) = v(S ∪ {i}) − v(S). Así, la contribución marginal de un jugador a una coalición S es el aumento en el valor de S como resultado de que i se una a ella. DEFINICIÓN 1. El valor de Shapley (ϕi) del juego N, v para el jugador i es la expectativa (E) de su contribución marginal a una coalición que es elegida al azar: ϕi(N, v) = E[Δiv ◦ fi] (1). El valor de Shapley se interpreta de la siguiente manera. Supongamos que todos los jugadores están dispuestos en algún orden, siendo todas las disposiciones igualmente probables. Entonces ϕi(N, v) es la contribución marginal esperada, sobre todas las ordenaciones, del jugador i al conjunto de jugadores que le preceden. El método para encontrar el valor de Shapley de un jugador depende de la definición de la función de valor (v). Esta función es diferente para diferentes juegos, pero aquí nos enfocamos específicamente en el juego de votación ponderada por las razones descritas en la Sección 1.960 de la Sexta Conferencia Internacional. Conferencia Conjunta sobre Agentes Autónomos y Sistemas Multiagente (AAMAS 07) 2.1 El juego de votación ponderada Adoptamos la definición del juego de votación dada en [6]. Por lo tanto, hay un conjunto de n jugadores que pueden, por ejemplo, representar accionistas en una empresa o miembros en un parlamento. El juego de votación ponderada es entonces un juego G = N, v en el que: v(S) = j 1 si w(S) ≥ q 0 en caso contrario para algún q ∈ IR+ y wi ∈ IRN + , donde: w(S) = X i∈S wi para cualquier coalición S. Así, wi es el número de votos que tiene el jugador i y q es el número de votos necesarios para ganar el juego (es decir, la cuota). Ten en cuenta que para este juego (denotado q; w1, . . . , wn), la contribución marginal de un jugador es cero o uno. Esto se debe a que el valor de cualquier coalición es cero o uno. Una coalición con valor cero se llama una coalición perdedora y con valor uno una coalición ganadora. Si la entrada de un jugador a una coalición cambia de perder a ganar, entonces la contribución marginal del jugador para esa coalición es uno; de lo contrario, es cero. La principal ventaja del valor de Shapley es que proporciona una solución que es a la vez única y justa. La propiedad de la unicidad es deseable porque no deja lugar a ambigüedades. La propiedad de equidad se relaciona con cómo se dividen las ganancias de la cooperación entre los miembros de una coalición. En este caso, el valor de Shapley de un jugador es proporcional a la contribución que realiza como miembro de una coalición; cuanto mayor sea su contribución, mayor será su valor. Por lo tanto, desde la perspectiva de un jugador, tanto la singularidad como la equidad son propiedades deseables. 3. JUEGOS DE VOTACIÓN CON SOLUCIONES EN TIEMPO POLINOMIAL Aquí describimos aquellos juegos de votación para los cuales el valor de Shapley puede ser determinado en tiempo polinomial. Esto se logra utilizando el enfoque de enumeración directa (es decir, enumerando todas las posibles coaliciones y encontrando la contribución marginal de un jugador a cada una de ellas). Caracterizamos dichos juegos en términos del número de jugadores y sus pesos. 3.1 Todos los jugadores tienen el mismo peso. Consideremos el juego q; j, . . . , j con m participantes. Cada partido tiene j votos. Si q ≤ j, entonces no habría necesidad de que los jugadores formen una coalición. Por otro lado, si q = mj (m = |N| es el número de jugadores), solo la gran coalición es posible. Los juegos interesantes son aquellos para los cuales la cuota (q) satisface la restricción: (j + 1) ≤ q ≤ j(m − 1). Para estos juegos, el valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕ denote el valor de Shapley para un jugador. Considera a cualquier jugador. Este jugador puede unirse a una coalición como el miembro i-ésimo donde 1 ≤ i ≤ m. Sin embargo, la contribución marginal del jugador es de 1 solo si se une a una coalición como el miembro q/j-ésimo. En todos los demás casos, su contribución marginal es cero. Por lo tanto, el valor de Shapley para cada jugador ϕ = 1/m. Dado que ϕ requiere una operación de división, se puede encontrar en tiempo constante (es decir, O(1)). 3.2 Una sola gran fiesta Considera un juego en el que hay dos tipos de jugadores: grandes (con peso wl > ws) y pequeños (con peso ws). Hay un jugador grande y m pequeños. La cuota para este juego es q; es decir, tenemos un juego de la forma q; wl, ws, ws, . . . , ws. El número total de jugadores es (m + 1). El valor de una coalición es uno si el peso de la coalición es mayor o igual a q, de lo contrario es cero. Que ϕl denote el valor de Shapley para el jugador grande y ϕs para cada jugador pequeño. Primero consideramos ws = 1 y luego ws > 1. El valor más pequeño posible para q es wl + 1. Esto se debe a que, si q ≤ wl, entonces el partido grande puede ganar las elecciones por sí solo sin necesidad de formar una coalición. Por lo tanto, la cuota para el juego satisface la restricción wl + 1 ≤ q ≤ m + wl − 1. Además, los límites inferior y superior para wl son 2 y (q − 1) respectivamente. El límite inferior es 2 porque el peso de la gran fiesta tiene que ser mayor que cada uno de los pequeños. Además, el peso del gran partido no puede ser mayor que q, ya que en ese caso, no habría necesidad de que el gran partido forme una coalición. Recuerda que para nuestro juego de votación, la contribución marginal de un jugador a una coalición solo puede ser cero o uno. Considera la gran fiesta. Este partido puede unirse a una coalición como el i-ésimo miembro donde 1 ≤ i ≤ (m + 1). Sin embargo, la contribución marginal del partido grande es uno si se une a una coalición como el miembro i-ésimo donde (q − wl) ≤ i < q. En todos los casos restantes, su contribución marginal es cero. Por lo tanto, de los casos totales posibles (m + 1), su contribución marginal es de uno en wl casos. Por lo tanto, el valor de Shapley del partido grande es: ϕl = wl/(m + 1). De la misma manera, obtenemos el valor de Shapley del gran partido para el caso general donde ws > 1 como: ϕl = wl/ws /(m + 1). Ahora consideremos a un jugador pequeño. Sabemos que la suma de los valores de Shapley de todos los m+1 jugadores es uno. Además, dado que los partidos pequeños tienen el mismo peso, sus valores de Shapley son iguales. Por lo tanto, obtenemos: ϕs = 1 − ϕl m. Por lo tanto, tanto ϕl como ϕs se pueden calcular en tiempo constante. Esto se debe a que ambos requieren un número constante de operaciones básicas (suma, resta, multiplicación y división). De la misma manera, el valor de Shapley para un juego de votación con un único partido grande y múltiples partidos pequeños puede determinarse en tiempo constante. 3.3 Múltiples partidos grandes y pequeños Ahora consideramos un juego de votación que tiene dos tipos de jugadores: grandes y pequeños (como en la Sección 3.2), pero ahora hay múltiples partidos grandes y múltiples partidos pequeños. El conjunto de partidos consiste en ml partidos grandes y ms partidos pequeños. El peso de cada fiesta grande es wl y el de cada fiesta pequeña es ws, donde ws < wl. Mostramos la factibilidad computacional de este juego considerando los siguientes cuatro posibles escenarios: S1 q ≤ mlwl y q ≤ msws S2 q ≤ mlwl y q ≥ msws S3 q ≥ mlwl y q ≥ msws S4 q ≥ mlwl y q ≤ msws Para el primer escenario, considera un jugador grande. Para determinar el valor de Shapley para este jugador, necesitamos considerar el número de todas las posibles coaliciones que le otorgan una contribución marginal de uno. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores grandes está entre cero y (q −1)/wl. En otras palabras, hay (q −1)/wl +1 casos de este tipo y ahora consideramos cada uno de ellos. El Sexto Internacional. Considera una coalición tal que cuando el jugador grande se une, hay i jugadores grandes y (q − iwl − 1)/ws jugadores pequeños ya en ella, y los jugadores restantes se unen después del jugador grande. Una coalición de este tipo otorga una contribución marginal a la unidad de jugador grande. Que C2 l (i, q) denote el número de todas esas coaliciones. Para empezar, considera el caso i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « donde C(y, x) denota el número de posibles combinaciones de x elementos de un conjunto de y elementos. Para i = 1, obtenemos: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « En general, para i > 1, obtenemos: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Por lo tanto, el valor de Shapley de los jugadores grandes es: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) Para un i dado, el tiempo para encontrar C2 l (i, q) es O(T) donde T = (mlms(q − iwl − 1)(ml + ms))/ws Por lo tanto, el tiempo para encontrar el valor de Shapley es O(T q/wl). De la misma manera, el valor de Shapley de un jugador pequeño es: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) y puede encontrarse en tiempo O(T q/ws). Asimismo, se puede demostrar que los tres escenarios restantes (S2 a S4) tienen la misma complejidad temporal. 3.4 Tres tipos de jugadores Ahora consideramos un juego de votación que tiene tres tipos de jugadores: 1, 2 y 3. El conjunto de fiestas consiste en m1 jugadores de tipo 1 (cada uno con peso w1), m2 jugadores de tipo 2 (cada uno con peso w2) y m3 jugadores de tipo 3 (cada uno con peso w3). Para este juego de votación, considera a un jugador de tipo 1. Es posible que la contribución marginal de este jugador sea uno si se une a una coalición en la que el número de jugadores de tipo 1 está entre cero y (q − 1)/w1. En otras palabras, hay (q − 1)/w1 + 1 casos de este tipo y ahora consideramos cada uno de ellos. Considera una coalición tal que cuando el jugador de tipo 1 se une, ya hay i jugadores de tipo 1 en ella. Los jugadores restantes se unen después del jugador de tipo 1. Que C3 l (i, q) denote el número de todas las coaliciones que dan una contribución marginal de uno al jugador de tipo 1 donde: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Por lo tanto, el valor de Shapley del jugador de tipo 1 es: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) La complejidad temporal de encontrar este valor es O(T q2 /w1w2) donde: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Del mismo modo, para los otros dos tipos de jugadores (2 y 3). Por lo tanto, hemos identificado juegos para los cuales el valor de Shapley exacto puede determinarse fácilmente. Sin embargo, la complejidad computacional del método de enumeración directa anterior aumenta con el número de tipos de jugadores. Para un juego de votación con más de tres tipos de jugadores, la complejidad temporal del método anterior es un polinomio de grado cuatro o superior. Para hacer frente a tales situaciones, por lo tanto, la siguiente sección presenta un método aleatorio más rápido para encontrar el valor de Shapley aproximado. 4. ENCONTRANDO EL VALOR DE SHAPLEY APROXIMADO Primero damos una breve introducción a los algoritmos aleatorizados y luego presentamos nuestro método aleatorizado para encontrar el valor de Shapley aproximado. Los algoritmos aleatorizados son el enfoque más comúnmente utilizado para encontrar soluciones aproximadas a problemas computacionalmente difíciles. Un algoritmo aleatorizado es un algoritmo que, durante algunas de sus etapas, realiza elecciones al azar [2]. Los pasos aleatorios realizados por el algoritmo implican que al ejecutar el algoritmo varias veces con la misma entrada no estamos garantizados de encontrar la misma solución. Ahora, dado que dichos algoritmos generan soluciones aproximadas, su rendimiento se evalúa en función de dos criterios: su complejidad temporal y su <br>error de aproximación</br>. ",
            "candidates": [],
            "error": [
                [
                    "aproximación",
                    "error de aproximación",
                    "aproximación",
                    "aproximación",
                    "error de aproximación"
                ]
            ]
        },
        "game-theory": {
            "translated_key": "teoría de juegos",
            "is_in_text": false,
            "original_annotated_sentences": [
                "A Randomized Method for the Shapley Value for the Voting Game Shaheen S. Fatima Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK.",
                "shaheen@csc.liv.ac.uk Michael Wooldridge Department of Computer Science, University of Liverpool Liverpool L69 3BX, UK. mjw@csc.liv.ac.uk Nicholas R. Jennings School of Electronics and Computer Science University of Southampton Southampton SO17 1BJ, UK. nrj@ecs.soton.ac.uk ABSTRACT The Shapley value is one of the key solution concepts for coalition games.",
                "Its main advantage is that it provides a unique and fair solution, but its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is known to be #P-complete in the general case.",
                "However, in this paper, we show that there are some specific voting games for which the problem is computationally tractable.",
                "For other general voting games, we overcome the problem of computational complexity by presenting a new randomized method for determining the approximate Shapley value.",
                "The time complexity of this method is linear in the number of players.",
                "We also show, through empirical studies, that the percentage error for the proposed method is always less than 20% and, in most cases, less than 5%.",
                "Categories and Subject Descriptors I.2.11 [Distributed Artificial Intelligence]: Multiagent Systems General Terms Algorithms, Design, Theory 1.",
                "INTRODUCTION Coalition formation, a key form of interaction in multi-agent systems, is the process of joining together two or more agents so as to achieve goals that individuals on their own cannot, or to achieve them more efficiently [1, 11, 14, 13].",
                "Often, in such situations, there is more than one possible coalition and a players payoff depends on which one it joins.",
                "Given this, a key problem is to ensure that none of the parties in a coalition has any incentive to break away from it and join another coalition (i.e., the coalitions should be stable).",
                "However, in many cases there may be more than one solution (i.e., a stable coalition).",
                "In such cases, it becomes difficult to select a single solution from among the possible ones, especially if the parties are self-interested (i.e., they have different preferences over stable coalitions).",
                "In this context, cooperative game theory deals with the problem of coalition formation and offers a number of solution concepts that possess desirable properties like stability, fair division of joint gains, and uniqueness [16, 14].",
                "Cooperative game theory differs from its non-cooperative counterpart in that for the former the players are allowed to form binding agreements and so there is a strong incentive to work together to receive the largest total payoff.",
                "Also, unlike non-cooperative game theory, cooperative game theory does not specify a game through a description of the strategic environment (including the order of players moves and the set of actions at each move) and the resulting payoffs, but, instead, it reduces this collection of data to the coalitional form where each coalition is represented by a single real number: there are no actions, moves, or individual payoffs.",
                "The chief advantage of this approach, at least in multiple-player environments, is its practical usefulness.",
                "Thus, many more real-life situations fit more easily into a coalitional form game, whose structure is more tractable than that of a non-cooperative game, whether that be in normal or extensive form and it is for this reason that we focus on such forms in this paper.",
                "Given these observations, a number of multiagent systems researchers have used and extended cooperative game-theoretic solutions to facilitate automated coalition formation [20, 21, 18].",
                "Moreover, in this work, one of the most extensively studied solution concepts is the Shapley value [19].",
                "A players Shapley value gives an indication of its prospects of playing the game - the higher the Shapley value, the better its prospects.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair (see Section 2.1 for a discussion of the property of fairness).",
                "However, while these are both desirable properties, the Shapley value has one major drawback: for many coalition games, it cannot be determined in polynomial time.",
                "For instance, finding this value for the weighted voting game is, in general, #P-complete [6].",
                "A problem is #P-hard if solving it is as hard as counting satisfying assignments of propositional logic formulae [15, p442].",
                "Since #P-completeness thus subsumes NP-completeness, this implies that computing the Shapley value for the weighted voting game will be intractable in general.",
                "In other words, it is practically infeasible to try to compute the exact Shapley value.",
                "However, the voting game has practical relevance to multi-agent systems as it is an important means of reaching consensus between multiple agents.",
                "Hence, our objective is to overcome the computational complexity of finding the Shapley value for this game.",
                "Specifically, we first show that there are some specific voting games for which the exact value can 959 978-81-904262-7-5 (RPS) c 2007 IFAAMAS be computed in polynomial time.",
                "By identifying such games, we show, for the first tme, when it is feasible to find the exact value and when it is not.",
                "For the computationally complex voting games, we present a new randomised method, along the lines of Monte-Carlo simulation, for computing the approximate Shapley value.",
                "The computational complexity of such games has typically been tackled using two main approaches.",
                "The first is to use generating functions [3].",
                "This method trades time complexity for storage space.",
                "The second uses an approximation technique based on Monte Carlo simulation [12, 7].",
                "However the method we propose is more general than either of these (see Section 6 for details).",
                "Moreover, no work has previously analysed the approximation error.",
                "The approximation error relates to how close the approximate is to the true Shapley value.",
                "Specifically, it is the difference between the true and the approximate Shapley value.",
                "It is important to determine this error because the performance of an approximation method is evaluated in terms of two criteria: its time complexity, and its approximation error.",
                "Thus, our contribution lies in also in providing, for the first time, an analysis of the percentage error in the approximate Shapley value.",
                "This analysis is carried out empirically.",
                "Our experiments show that the error is always less than 20%, and in most cases it is under 5%.",
                "Finally, our method has time complexity linear in the number of players and it does not require any arrays (i.e., it is economical in terms of both computing time and storage space).",
                "Given this, and the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "The rest of the paper is organised as follows.",
                "Section 2 defines the Shapley value and describes the weighted voting game.",
                "In Section 3 we describe voting games whose Shapley value can be found in polynomial time.",
                "In Section 4, we present a randomized method for finding the approximate Shapley value and analyse its performance in Section 5.",
                "Section 6 discusses related literature.",
                "Finally, Section 7 concludes. 2.",
                "BACKGROUND We begin by introducing coalition games and the Shapley value and then define the weighted voting game.",
                "A coalition game is a game where groups of players (coalitions) may enforce cooperative behaviour between their members.",
                "Hence the game is a competition between coalitions of players, rather than between individual players.",
                "Depending on how the players measure utility, coalition game theory is split into two parts.",
                "If the players measure utility or the payoff in the same units and there is a means of exchange of utility such as side payments, we say the game has transferable utility; otherwise it has non-transferable utility.",
                "More formally, a coalition game with transferable utility, N, v , consists of: 1. a finite set (N = {1, 2, . . . , n}) of players and 2. a function (v) that associates with every non-empty subset S of N (i.e., a coalition) a real number v(S) (the worth of S).",
                "For each coalition S, the number v(S) is the total payoff that is available for division among the members of S (i.e., the set of joint actions that coalition S can take consists of all possible divisions of v(S) among the members of S).",
                "Coalition games with nontransferable payoffs differ from ones with transferable payoffs in the following way.",
                "For the former, each coalition is associated with a set of payoff vectors that is not necessarily the set of all possible divisions of some fixed amount.",
                "The focus of this paper is on the weighted voting game (described in Section 2.1) which is a game with transferable payoffs.",
                "Thus, in either case, the players will only join a coalition if they expect to gain from it.",
                "Here, the players are allowed to form binding agreements, and so there is strong incentive to work together to receive the largest total payoff.",
                "The problem then is how to split the total payoff between or among the players.",
                "In this context, Shapley [19] constructed a solution using an axiomatic approach.",
                "Shapley defined a value for games to be a function that assigns to a game (N, v), a number ϕi(N, v) for each i in N. This function satisfies three axioms [17]: 1.",
                "Symmetry.",
                "This axiom requires that the names of players play no role in determining the value. 2.",
                "Carrier.",
                "This axiom requires that the sum of ϕi(N, v) for all players i in any carrier C equal v(C).",
                "A carrier C is a subset of N such that v(S) = v(S ∩ C) for any subset of players S ⊂ N. 3.",
                "Additivity.",
                "This axiom specifies how the values of different games must be related to one another.",
                "It requires that for any games ϕi(N, v) and ϕi(N, v ), ϕi(N, v)+ϕi(N, v ) = ϕi(N, v + v ) for all i in N. Shapley showed that there is a unique function that satisfies these three axioms.",
                "Shapley viewed this value as an index for measuring the power of players in a game.",
                "Like a price index or other market indices, the value uses averages (or weighted averages in some of its generalizations) to aggregate the power of players in their various cooperation opportunities.",
                "Alternatively, one can think of the Shapley value as a measure of the utility of risk neutral players in a game.",
                "We first introduce some notation and then define the Shapley value.",
                "Let S denote the set N − {i} and fi : S → 2N−{i} be a random variable that takes its values in the set of all subsets of N − {i}, and has the probability distribution function (g) defined as: g(fi(S) = S) = |S|! (n − |S| − 1)! n!",
                "The random variable fi is interpreted as the random choice of a coalition that player i joins.",
                "Then, a players Shapley value is defined in terms of its marginal contribution.",
                "Thus, the marginal contribution of player i to coalition S with i /∈ S is a function Δiv that is defined as follows: Δiv(S) = v(S ∪ {i}) − v(S) Thus a players marginal contribution to a coalition S is the increase in the value of S as a result of i joining it.",
                "DEFINITION 1.",
                "The Shapley value (ϕi) of the game N, v for player i is the expectation (E) of its marginal contribution to a coalition that is chosen randomly: ϕi(N, v) = E[Δiv ◦ fi] (1) The Shapley value is interpreted as follows.",
                "Suppose that all the players are arranged in some order, all orderings being equally likely.",
                "Then ϕi(N, v) is the expected marginal contribution, over all orderings, of player i to the set of players who precede him.",
                "The method for finding a players Shapley value depends on the definition of the value function (v).",
                "This function is different for different games, but here we focus specifically on the weighted voting game for the reasons outlined in Section 1. 960 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 2.1 The weighted voting game We adopt the definition of the voting game given in [6].",
                "Thus, there is a set of n players that may, for example, represent shareholders in a company or members in a parliament.",
                "The weighted voting game is then a game G = N, v in which: v(S) = j 1 if w(S) ≥ q 0 otherwise for some q ∈ IR+ and wi ∈ IRN + , where: w(S) = X i∈S wi for any coalition S. Thus wi is the number of votes that player i has and q is the number of votes needed to win the game (i.e., the quota).",
                "Note that for this game (denoted q; w1, . . . , wn ), a players marginal contribution is either zero or one.",
                "This is because the value of any coalition is either zero or one.",
                "A coalition with value zero is called a losing coalition and with value one a winning coalition.",
                "If a players entry to a coalition changes it from losing to winning, then the players marginal contribution for that coalition is one; otherwise it is zero.",
                "The main advantage of the Shapley value is that it gives a solution that is both unique and fair.",
                "The property of uniqueness is desirable because it leaves no ambiguity.",
                "The property of fairness relates to how the gains from cooperation are split between the members of a coalition.",
                "In this case, a players Shapley value is proportional to the contribution it makes as a member of a coalition; the more contribution it makes, the higher its value.",
                "Thus, from a players perspective, both uniqueness and fairness are desirable properties. 3.",
                "VOTING GAMES WITH POLYNOMIAL TIME SOLUTIONS Here we describe those voting games for which the Shapley value can be determined in polynomial time.",
                "This is achieved using the direct enumeration approach (i.e., listing all possible coalitions and finding a players marginal contribution to each of them).",
                "We characterise such games in terms of the number of players and their weights. 3.1 All players have equal weight Consider the game q; j, . . . , j with m parties.",
                "Each party has j votes.",
                "If q ≤ j, then there would be no need for the players to form a coalition.",
                "On the other hand, if q = mj (m = |N| is the number of players), only the grand coalition is possible.",
                "The interesting games are those for which the quota (q) satisfies the constraint: (j + 1) ≤ q ≤ j(m − 1).",
                "For these games, the value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕ denote the Shapley value for a player.",
                "Consider any one player.",
                "This player can join a coalition as the ith member where 1 ≤ i ≤ m. However, the marginal contribution of the player is 1 only if it joins a coalition as the q/j th member.",
                "In all other cases, its marginal contribution is zero.",
                "Thus, the Shapley value for each player ϕ = 1/m.",
                "Since ϕ requires one division operation, it can be found in constant time (i.e., O(1)). 3.2 A single large party Consider a game in which there are two types of players: large (with weight wl > ws) and small (with weight ws).",
                "There is one large player and m small ones.",
                "The quota for this game is q; i.e., we have a game of the form q; wl, ws, ws, . . . , ws .",
                "The total number of players is (m + 1).",
                "The value of a coalition is one if the weight of the coalition is greater than or equal to q, otherwise it is zero.",
                "Let ϕl denote the Shapley value for the large player and ϕs that for each small player.",
                "We first consider ws = 1 and then ws > 1.",
                "The smallest possible value for q is wl + 1.",
                "This is because, if q ≤ wl, then the large party can win the election on its own without the need for a coalition.",
                "Thus, the quota for the game satisfies the constraint wl + 1 ≤ q ≤ m + wl − 1.",
                "Also, the lower and upper limits for wl are 2 and (q − 1) respectively.",
                "The lower limit is 2 because the weight of the large party has to be greater than each small one.",
                "Furthermore, the weight of the large party cannot be greater than q, since in that case, there would be no need for the large party to form a coalition.",
                "Recall that for our voting game, a players marginal contribution to a coalition can only be zero or one.",
                "Consider the large party.",
                "This party can join a coalition as the ith member where 1 ≤ i ≤ (m + 1).",
                "However, the marginal contribution of the large party is one if it joins a coalition as the ith member where (q − wl) ≤ i < q.",
                "In all the remaining cases, its marginal contribution is zero.",
                "Thus, out of the total (m + 1) possible cases, its marginal contribution is one in wl cases.",
                "Hence, the Shapley value of the large party is: ϕl = wl/(m + 1).",
                "In the same way, we obtain the Shapley value of the large party for the general case where ws > 1 as: ϕl = wl/ws /(m + 1) Now consider a small player.",
                "We know that the sum of the Shapley values of all the m+1 players is one.",
                "Also, since the small parties have equal weights, their Shapley values are the same.",
                "Hence, we get: ϕs = 1 − ϕl m Thus, both ϕl and ϕs can be computed in constant time.",
                "This is because both require a constant number of basic operations (addition, subtraction, multiplication, and division).",
                "In the same way, the Shapley value for a voting game with a single large party and multiple small parties can be determined in constant time. 3.3 Multiple large and small parties We now consider a voting game that has two player types: large and small (as in Section 3.2), but now there are multiple large and multiple small parties.",
                "The set of parties consists of ml large parties and ms small parties.",
                "The weight of each large party is wl and that of each small one is ws, where ws < wl.",
                "We show the computational tractability for this game by considering the following four possible scenarios: S1 q ≤ mlwl and q ≤ msws S2 q ≤ mlwl and q ≥ msws S3 q ≥ mlwl and q ≥ msws S4 q ≥ mlwl and q ≤ msws For the first scenario, consider a large player.",
                "In order to determine the Shapley value for this player, we need to consider the number of all possible coalitions that give it a marginal contribution of one.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of large players is between zero and (q −1)/wl.",
                "In other words, there are (q −1)/wl +1 such cases and we now consider each of them.",
                "The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 961 Consider a coalition such that when the large player joins in, there are i large players and (q − iwl − 1)/ws small players already in it, and the remaining players join after the large player.",
                "Such a coalition gives the large player unit marginal contribution.",
                "Let C2 l (i, q) denote the number of all such coalitions.",
                "To begin, consider the case i = 0: C2 l (0, q) = C „ ms, q − 1 ws « × FACTORIAL „ q − 1 ws « × FACTORIAL „ ml + ms − q − 1 ws − 1 « where C(y, x) denotes the number of possible combinations of x items from a set of y items.",
                "For i = 1, we get: C2 l (1, q) = C(ml, 1) × C „ ms, q − wl − 1 ws « × FACTORIAL „ q − wl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « In general, for i > 1, we get: C2 l (i, q) = C(ml, i) × C „ ms, q − iwl − 1 ws « × FACTORIAL „ q − iwl − 1 ws « × FACTORIAL „ ml + ms − q − wl − 1 ws − 1 « Thus the large players Shapley value is: ϕl = q−1 wlX i=0 C2 l (i, q)/FACTORIAL(ml + ms) For a given i, the time to find C2 l (i, q) is O(T) where T = (mlms(q − iwl − 1)(ml + ms))/ws Hence, the time to find the Shapley value is O(T q/wl).",
                "In the same way, a small players Shapley value is: ϕs = q−1 wsX i=0 C2 s (i, q)/FACTORIAL(ml + ms) and can be found in time O(T q/ws).",
                "Likewise, the remaining three scenarios (S2 to S4) can be shown to have the same time complexity. 3.4 Three player types We now consider a voting game that has three player types: 1, 2, and 3.",
                "The set of parties consists of m1 players of type 1 (each with weight w1), m2 players of type 2 (each with weight w2), and m3 players of type 3 (each with weight w3).",
                "For this voting game, consider a player of type 1.",
                "It is possible for the marginal contribution of this player to be one if it joins a coalition in which the number of type 1 players is between zero and (q − 1)/w1.",
                "In other words, there are (q − 1)/w1 + 1 such cases and we now consider each of them.",
                "Consider a coalition such that when the type 1 player joins in, there are i type 1 players already in it.",
                "The remaining players join after the type 1 player.",
                "Let C3 l (i, q) denote the number of all such coalitions that give a marginal contribution of one to the type 1 player where: C3 1 (i, q) = q−1 w1X i=0 q−iw1−1 w2X j=0 C2 1 (j, q − iw1) Therefore the Shapley value of the type 1 player is: ϕ1 = q−1 w1X i=0 C3 1 (i, q)/FACTORIAL(m1 + m2 + m3) The time complexity of finding this value is O(T q2 /w1w2) where: T = ( 3Y i=1 mi)(q − iwl − 1)( 3X i=1 mi)/(w2 + w3) Likewise, for the other two player types (2 and 3).",
                "Thus, we have identified games for which the exact Shapley value can be easily determined.",
                "However, the computational complexity of the above direct enumeration method increases with the number of player types.",
                "For a voting game with more than three player types, the time complexity of the above method is a polynomial of degree four or more.",
                "To deal with such situations, therefore, the following section presents a faster randomised method for finding the approximate Shapley value. 4.",
                "FINDING THE APPROXIMATE SHAPLEY VALUE We first give a brief introduction to randomized algorithms and then present our randomized method for finding the approximate Shapley value.",
                "Randomized algorithms are the most commonly used approach for finding approximate solutions to computationally hard problems.",
                "A randomized algorithm is an algorithm that, during some of its steps, performs random choices [2].",
                "The random steps performed by the algorithm imply that by executing the algorithm several times with the same input we are not guaranteed to find the same solution.",
                "Now, since such algorithms generate approximate solutions, their performance is evaluated in terms of two criteria: their time complexity, and their error of approximation.",
                "The approximation error refers to the difference between the exact solution and its approximation.",
                "Against this background, we present a randomized method for finding the approximate Shapley value and empirically evaluate its error.",
                "We first describe the general voting game and then present our randomized algorithm.",
                "In its general form, a voting game has more than two types of players.",
                "Let wi denote the weight of player i.",
                "Thus, for m players and for quota q the game is of the form q; w1, w2, . . . , wm .",
                "The weights are specified in terms of a probability distribution function.",
                "For such a game, we want to find the approximate Shapley value.",
                "We let P denote a population of players.",
                "The players weights in this population are defined by a probability distribution function.",
                "Irrespective of the actual probability distribution function, let μ be the mean weight for the population of players and ν the variance in the players weights.",
                "From this population of players we randomly draw samples and find the sum of the players weights in the sample using the following rule from Sampling Theory (see [8] p425): If w1, w2, . . . , wn is a random sample of size n drawn from any distribution with mean μ and variance ν, then the sample sum has an approximate Normal distribution with mean nμ and variance ν n (the larger the n the better the approximation). 962 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) R-SHAPLEYVALUE (P, μ, ν, q, wi) P: Population of players μ: Mean weight of the population P ν: Variance in the weights for poulation P q: Quota for the voting game wi: Player is weight 1.",
                "Ti ← 0; a ← q − wi; b ← q − 2.",
                "For X from 1 to m repeatedly do the following 2.1.",
                "Select a random sample SX of size X from the population P 2.2.",
                "Evaluate expected marginal contribution (ΔX i ) of player i to SX as: ΔX i ← 1√ (2πν/X) R b a e−X (x−Xμ)2 2ν dx 2.3.",
                "Ti ← Ti + ΔX i 3.",
                "Evaluate Shapley value of player i as: ϕi ← Ti/m Table 1: Randomized algorithm to find the Shapley value for player i.",
                "We know from Definition 1, that the Shapley value for a player is the expectation (E) of its marginal contribution to a coalition that is chosen randomly.",
                "We use this rule to determine the Shapley value as follows.",
                "For player i with weight wi, let ϕi denote the Shapley value.",
                "Let X denote the size of a random sample drawn from a population in which the individual player weights have any distribution.",
                "The marginal contribution of player i to this random sample is one if the total weight of the X players in the sample is greater than or equal to a = q −wi but less than b = q − (where is an inifinitesimally small quantity).",
                "Otherwise, its marginal contribution is zero.",
                "Thus, the expected marginal contribution of player i (denoted ΔX i ) to the sample coalition is the area under the curve defined by N(Xμ, ν X ) in the interval [a, b].",
                "This area is shown as the region B in Figure 1 (the dotted line in the figure is Xμ).",
                "Hence we get: ΔX i = 1 p (2πν/X) Z b a e−X (x−Xμ)2 2ν dx (2) and the Shapley value is: ϕi = 1 m mX X=1 ΔX i (3) The above steps are described in Table 1.",
                "In more detail, Step 1 does the initialization.",
                "In Step 2, we vary X between 1 and m and repeatedly do the following.",
                "In Step 2.1, we randomly select a sample SX of size X from the population P. Player is marginal contribution to the random coalition SX is found in Step 2.2.",
                "The average marginal contribution is found in Step 3 - and this is the Shapley value for player i. THEOREM 1.",
                "The time complexity of the proposed randomized method is linear in the number of players.",
                "PROOF.",
                "As per Equation 3, ΔX i must be computed m times.",
                "This is done in the for loop of Step 2 in Table 1.",
                "Hence, the time complexity of computing a players Shapley value is O(m).",
                "The following section analyses the approximation error for the proposed method. 5.",
                "PERFORMANCE OF THE RANDOMIZED METHOD We first derive the formula for measuring the error in the approximate Shapley value and then conduct experiments for evaluating this error in a wide range of settings.",
                "However, before doing so, we introduce the idea of error.",
                "The concept of error relates to a measurement made of a quantity which has an accepted value [22, 4].",
                "Obviously, it cannot be determined exactly how far off a measurement is from the accepted value; if this could be done, it would be possible to just give a more accurate, corrected value.",
                "Thus, error has to do with uncertainty in measurements that nothing can be done about.",
                "If a measurement is repeated, the values obtained will differ and none of the results can be preferred over the others.",
                "However, although it is not possible to do anything about such error, it can be characterized.",
                "As described in Section 4, we make measurements on samples that are drawn randomly from a given population (P) of players.",
                "Now, there are statistical errors associated with sampling which are unavoidable and must be lived with.",
                "Hence, if the result of a measurement is to have meaning it cannot consist of the measured value alone.",
                "An indication of how accurate the result is must be included also.",
                "Thus, the result of any physical measurement has two essential components: 1. a numerical value giving the best estimate possible of the quantity measured, and 2. the degree of uncertainty associated with this estimated value.",
                "For example, if the estimate of a quantity is x and the uncertainty is e(x) the quantity would lie in x ± e(x).",
                "For sampling experiments, the standard error is by far the most common way of characterising uncertainty [22].",
                "Given this, the following section defines this error and uses it to evaluate the performance of the proposed randomized method. 5.1 Approximation error The accuracy of the above randomized method depends on its sampling error which is defined as follows [22, 4]: DEFINITION 2.",
                "The sampling error (or standard error) is defined as the standard deviation for a set of measurements divided by the square root of the number of measurements.",
                "To this end, let e(σX ) be the sampling error in the sum of the weights for a sample of size X drawn from the distribution N(Xμ, ν X ) where: e(σX ) = p (ν/X)/ p (X) = p (ν)/X (4) Let e(ΔX i ) denote the error in the marginal contribution for player i (given in Equation 2).",
                "This error is obtained by propagating the error in Equation 4 to Equation 2.",
                "In Equation 2, a and b are the lower and upper limits for the sum of the players weights for a The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 963 b C B a − e (σX ) a A )X(σeb+ Sum of weights Z1 Z2 Figure 1: A normal distribution for the sum of players weights in a coalition of size X. 40 60 80 100 0 50 100 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 2: Performance of the randomized method for m = 10 players. coalition of size X.",
                "Since the error in this sum is e(σX ), the actual values of a and b lie in the interval a ± e(σX ) and b ± e(σX ) respectively.",
                "Hence, the error in Equation 2 is either the probability that the sum lies between the limits a − e(σX ) and a (i.e., the area under the curve defined by N(Xμ, ν X ) between a − e(σX ) and a, which is the shaded region A in Figure 1) or the probability that the sum of weights lies between the limits b and b+e(σX ) (i.e., the area under the curve defined by N(Xμ, ν X ) between b and b + e(σX ), which is the shaded region C in Figure 1).",
                "More specifically, the error is the maximum of these two probabilities: e(ΔX i ) = 1 p (2πν/X) × MAX „Z a a−e(σX ) e−X (x−Xμ)2 2ν dx, Z b+e(σX ) b e−X (x−Xμ)2 2ν dx « On the basis of the above error, we find the error in the Shapley value by using the following standard error propagation rules [22]: R1 If x and y are two random variables with errors e(x) and e(y) respectively, then the error in the random variable z = x + y is given by: e(z) = e(x) + e(y) R2 If x is a random variable with error e(x) and z = kx where 0 100 200 300 400 500 0 100 200 300 400 500 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 3: Performance of the randomized method for m = 50 players. the constant k has no error, then the error in z is: e(z) = |k|e(x) Using the above rules, the error in the Shapley value (given in Equation 3) is obtained by propagating the error in Equation 4 to all coalitions between the sizes X = 1 and X = m. Let e(ϕi) denote this error where: e(ϕi) = 1 m mX X=1 e(ΔX i ) We analyze the performance of our method in terms of the percentage error PE in the approximate Shapley value which is defined as follows: PE = 100 × e(ϕi)/ϕi (5) 5.2 Experimental Results We now compute the percentage error in the Shapley value using the above equation for PE.",
                "Since this error depends on the parameters of the voting game, we evaluate it in a range of settings by systematically varying the parameters of the voting game.",
                "In particular, we conduct experiments in the following setting.",
                "For a player with weight w, the percentage error in a players Shapley value depends on the following five parameters (see Equation 3): 1.",
                "The number of parties (m). 2.",
                "The mean weight (μ). 3.",
                "The variance in the players weights (ν). 4.",
                "The quota for the voting game (q). 5.",
                "The given players weight (w).",
                "We fix μ = 10 and ν = 1.",
                "This is because, for the normal distribution, μ = 10 ensures that for almost all the players the weight is positive, and ν = 1 is used most commonly in statistical experiments (ν can be higher or lower but PE is increasing in νsee Equations 4 and 5).",
                "We then vary m, q, and w as follows.",
                "We vary m between 5 and 100 (since beyond 100 we found that the error is close to zero), for each m we vary q between 4μ and mμ (we impose these limits because they ensure that the size of the 964 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 0 200 400 600 800 1000 0 200 400 600 800 1000 0 5 10 15 20 25 QuotaWeight PercentageerrorintheShapleyvalue Figure 4: Performance of the randomized method for m = 100 players. winning coalition is more than one and less than m - see Section 3 for details), and for each q, we vary w between 1 and q−1 (because a winning coalition must contain at least two players).",
                "The results of these experiments are shown in Figures 2, 3, and 4.",
                "As seen in the figures, the maximum PE is around 20% and in most cases it is below 5%.",
                "We now analyse the effect of the three parameters: w, q, and m on the percentage error in more detail. - Effect of w. The PE depends on e(σX ) because, in Equation 5, the limits of integration depend on e(σX ).",
                "The interval over which the first integration in Equation 5 is done is a − a + e(σX ) = e(σX ), and the interval over which the second one is done is b + e(σX ) − b = e(σX ).",
                "Thus, the interval is the same for both integrations and it is independent of wi.",
                "Note that each of the two functions that are integrated in Equation 5 are the same as the function that is integrated in Equation 2.",
                "Only the limits of the integration are different.",
                "Also, the interval over which the integration for the marginal contribution of Equation 2 is done is b − a = wi − (see Figure 1).",
                "The error in the marginal contribution is either the area of the shaded region A (between a − e(σX ) and a) in Figure 1, or the shaded area C (between b and b + e(σX )).",
                "As per Equation 5, it is the maximum of these two areas.",
                "Since e(σX ) is independent of wi, as wi increases, e(σX ) remains unchanged.",
                "However, the area of the unshaded region B increases.",
                "Hence, as wi increases, the error in the marginal contribution decreases and PE also decreases. - Effect of q.",
                "For a given q, the Shapley value for player i is as given in Equation 3.",
                "We know that, for a sample of size X, the sum of the players weights is distributed normally with mean Xμ and variance ν/X.",
                "Since 99% of a normal distribution lies within two standard deviations of its mean [8], player is marginal contribution to a sample of size X is almost zero if: a < Xμ + 2 p ν/X or b > Xμ − 2 p ν/X This is because the three regions A, B, and C (in Figure 1) lie either to the right of Z2 or to the left of Z1.",
                "However, player is marginal contribution is greater than zero for those X for which the following constraint is satisfied: Xμ − 2 p ν/X < a < b < Xμ + 2 p ν/X For this constraint, the three regions A, B, and C lie somewhere between Z1 and Z2.",
                "Since a = q −wi and b = q − , Equation 6 can also be written as: Xμ − 2 p ν/X < q − wi < q − < Xμ + 2 p ν/X The smallest X that satisfies the constraint in Equation 6 strictly increases with q.",
                "As X increases, the error in sum of weights in a sample (i.e., e(σX ) = p (ν)/X) decreases.",
                "Consequently, the error in a players marginal contribution (see Equation 5) also decreases.",
                "This implies that as q increases, the error in the marginal contribution (and consequently the error in the Shapley value) decreases. - Effect of m. It is clear from Equation 4 that the error e(σX ) is highest for X = 1 and it decreases with X.",
                "Hence, for small m, e(σ1 ) has a significant effect on PE.",
                "But as m increases, the effect of e(σ1 ) on PE decreases and, as a result, PE decreases. 6.",
                "RELATED WORK In order to overcome the computational complexity of finding the Shapley value, two main approaches have been proposed in the literature.",
                "One approach is to use generating functions [3].",
                "This method is an exact procedure that overcomes the problem of time complexity, but its storage requirements are substantial - it requires huge arrays.",
                "It also has the limitation (not shared by other approaches) that it can only be applied to games with integer weights and quotas.",
                "The other method uses an approximation technique based on Monte Carlo simulation.",
                "In [12], for instance, the Shapley value is computed by considering a random sample from a large population of players.",
                "The method we propose differs from this in that they define the Shapley value by treating a players number of swings (if a player can change a losing coalition to a winning one, then, for the player, the coalition is counted as a swing) as a random variable, while we treat the players weights as random variables.",
                "In [12], however, the question remains how to get the number of swings from the definition of a voting game and what is the time complexity of doing this.",
                "Since the voting game is defined in terms of the players weights and the number of swings are obtained from these weights, our method corresponds more closely to the definition of the voting game.",
                "Our method also differs from [7] in that while [7] presents a method for the case where all the players weights are distributed normally, our method applies to any type of distribution for these weights.",
                "Thus, as stated in Section 1, our method is more general than [3, 12, 7].",
                "Also, unlike all the above mentioned work, we provide an analysis of the performance of our method in terms of the percentage error in the approximate Shapley value.",
                "A method for finding the Shapley value was also proposed in [5].",
                "This method gives the exact Shapley value, but its time complexity is exponential.",
                "Furthermore, the method can be used only if the game is represented in a specific form (viz., the multi-issue representation), not otherwise.",
                "Finally, [9, 10] present a polynomial time method for finding the Shapley value.",
                "This method can be used if the coalition game is represented as a marginal contribution net.",
                "Furthermore, they assume that the Shapley value of a component of a given coalition game is given by an oracle, and on the basis of this assumption aggregate these values to find the value for the overall game.",
                "In contrast, our method is independent The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07) 965 of the representation and gives an approximate Shapley value in linear time, without the need for an oracle. 7.",
                "CONCLUSIONS AND FUTURE WORK Coalition formation is an important form of interaction in multiagent systems.",
                "An important issue in such work is for the agents to decide how to split the gains from cooperation between the members of a coalition.",
                "In this context, cooperative game theory offers a solution concept called the Shapley value.",
                "The main advantage of the Shapley value is that it provides a solution that is both unique and fair.",
                "However, its main problem is that, for many coalition games, the Shapley value cannot be determined in polynomial time.",
                "In particular, the problem of finding this value for the voting game is #P-complete.",
                "Although this problem is, in general #P-complete, we show that there are some specific voting games for which the Shapley value can be determined in polynomial time and characterise such games.",
                "By doing so, we have shown when it is computationally feasible to find the exact Shapley value.",
                "For other complex voting games, we presented a new randomized method for determining the approximate Shapley value.",
                "The time complexity of the proposed method is linear in the number of players.",
                "We analysed the performance of this method in terms of the percentage error in the approximate Shapley value.",
                "Our experiments show that the percentage error in the Shapley value is at most 20.",
                "Furthermore, in most cases, the error is less than 5%.",
                "Finally, we analyse the effect of the different parameters of the voting game on this error.",
                "Our study shows that the error decreases as 1. a players weight increases, 2. the quota increases, and 3. the number of players increases.",
                "Given the fact that software agents have limited computational resources and therefore cannot compute the true Shapley value, our results are especially relevant to such resource bounded agents.",
                "In future, we will explore the problem of determining the Shapley value for other commonly occurring coalition games like the production economy and the market economy. 8.",
                "REFERENCES [1] R. Aumann.",
                "Acceptable points in general cooperative n-person games.",
                "In Contributions to theTheory of Games volume IV.",
                "Princeton University Press, 1959. [2] G. Ausiello, P. Crescenzi, G. Gambosi, V. Kann, A. Marchetti-Spaccamela, and M. Protasi.",
                "Complexity and approximation: Combinatorial optimization problems and their approximability properties.",
                "Springer, 2003. [3] J. M. Bilbao, J. R. Fernandez, A. J. Losada, and J. J. Lopez.",
                "Generating functions for computing power indices efficiently.",
                "Top 8, 2:191-213, 2000. [4] P. Bork, H. Grote, D. Notz, and M. Regler.",
                "Data Analysis Techniques in High Energy Physics Experiments.",
                "Cambridge University Press, 1993. [5] V. Conitzer and T. Sandholm.",
                "Computing Shapley values, manipulating value division schemes, and checking core membership in multi-issue domains.",
                "In Proceedings of the National Conference on Artificial Intelligence, pages 219-225, San Jose, California, 2004. [6] X. Deng and C. H. Papadimitriou.",
                "On the complexity of cooperative solution concepts.",
                "Mathematics of Operations Research, 19(2):257-266, 1994. [7] S. S. Fatima, M. Wooldridge, and N. R. Jennings.",
                "An analysis of the shapley value and its uncertainty for the voting game.",
                "In Proc. 7th Int.",
                "Workshop on Agent Mediated Electronic Commerce, pages 39-52, 2005. [8] A. Francis.",
                "Advanced Level Statistics.",
                "Stanley Thornes Publishers, 1979. [9] S. Ieong and Y. Shoham.",
                "Marginal contribution nets: A compact representation scheme for coalitional games.",
                "In Proceedings of the Sixth ACM Conference on Electronic Commerce, pages 193-202, Vancouver, Canada, 2005. [10] S. Ieong and Y. Shoham.",
                "Multi-attribute coalition games.",
                "In Proceedings of the Seventh ACM Conference on Electronic Commerce, pages 170-179, Ann Arbor, Michigan, 2006. [11] J. P. Kahan and A. Rapoport.",
                "Theories of Coalition Formation.",
                "Lawrence Erlbaum Associates Publishers, 1984. [12] I. Mann and L. S. Shapley.",
                "Values for large games iv: Evaluating the electoral college exactly.",
                "Technical report, The RAND Corporation, Santa Monica, 1962. [13] A. MasColell, M. Whinston, and J. R. Green.",
                "Microeconomic Theory.",
                "Oxford University Press, 1995. [14] M. J. Osborne and A. Rubinstein.",
                "A Course in Game Theory.",
                "The MIT Press, 1994. [15] C. H. Papadimitriou.",
                "Computational Complexity.",
                "Addison Wesley Longman, 1994. [16] A. Rapoport.",
                "N-person Game Theory : Concepts and Applications.",
                "Dover Publications, Mineola, NY, 2001. [17] A. E. Roth.",
                "Introduction to the shapley value.",
                "In A. E. Roth, editor, The Shapley value, pages 1-27.",
                "University of Cambridge Press, Cambridge, 1988. [18] T. Sandholm and V. Lesser.",
                "Coalitions among computationally bounded agents.",
                "Artificial Intelligence Journal, 94(1):99-137, 1997. [19] L. S. Shapley.",
                "A value for n person games.",
                "In A. E. Roth, editor, The Shapley value, pages 31-40.",
                "University of Cambridge Press, Cambridge, 1988. [20] O. Shehory and S. Kraus.",
                "A kernel-oriented model for coalition-formation in general environments: Implemetation and results.",
                "In In Proceedings of the National Conference on Artificial Intelligence (AAAI-96), pages 131-140, 1996. [21] O. Shehory and S. Kraus.",
                "Methods for task allocation via agent coalition formation.",
                "Artificial Intelligence Journal, 101(2):165-200, 1998. [22] J. R. Taylor.",
                "An introduction to error analysis: The study of uncertainties in physical measurements.",
                "University Science Books, 1982. 966 The Sixth Intl.",
                "Joint Conf. on Autonomous Agents and Multi-Agent Systems (AAMAS 07)"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        }
    }
}