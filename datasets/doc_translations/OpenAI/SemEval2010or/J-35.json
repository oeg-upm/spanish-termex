{
    "id": "J-35",
    "original_text": "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept. Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept. Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed. It is shown that by adding a scrip system, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained. The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized. The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking. Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1. INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other. Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions. Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it. However, the cost of providing service can still be nontrivial. For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost. Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it. This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1]. Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system. Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely. These heavy users are some of the most expensive customers ISPs have. Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic. Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5]. A number of companies have also formed whose service is to detect excessive bandwidth usage [19]. These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems. A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files. Some of the P2P networks currently in use have implemented versions of these techniques. However, these approaches tend to fall into one of two categories: either they are barter-like or reputational. By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions. Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work. Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones. An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8]. Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past. However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful. Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems. A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]). The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation. However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users. Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it. We cannot count on only a few users being bad (in the sense of not following the prescribed protocol). For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users. However, to avoid penalizing new users, they gave new users an average rating. Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing). Thus Kazaas reputation system is ineffective. This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would. Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear. The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]). Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]). However, they have a different set of problems. Perhaps the most common involve determining the amount of money in the system. Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request. On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already. A related problem involves handling newcomers. If newcomers are each given a positive amount of money, then the system is open to sybil attacks. Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26]. In this paper, we provide a formal model in which to analyze scrip systems. We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint). This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents. It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency. While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable. In systems where the goal is to do work, new users can acquire money by performing work. It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s). The rest of the paper is organized as follows. In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists. In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same threshold strategy. We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy. Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some threshold strategy. Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users. In Section 6, we discuss the extent to which our approach can handle sybils and collusion. We conclude in Section 7. 2. THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative game. Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system. This is in contrast with much previous work which uses random matching in a prisoners dilemma. Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9]. This random-matching model fails to capture some salient aspects of a number of important settings. When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can. For example, some people may not have the time or resources to satisfy the request. The randommatching process ignores the fact that some people may not be able to satisfy the request. Presumably, if the person matched with the requester could not satisfy the match, he would have to defect. Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after. That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it. Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made. For example, it is not clear what defection on the part of the requester means. In our model we try to deal with all these issues. Suppose that there are n agents. At each round, an agent is picked uniformly at random to make a request. Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior. The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request. Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1. We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work. In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it. If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request. The agent that fulfills the request pays a cost of α < 1. As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit. This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite game. Lastly, we assume that with more players requests come more often. Thus we assume that the time between rounds is 1/n. This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β. When the latter two parameters are not relevant, we sometimes write G(n, δ). We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering. V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request. This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1. In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request. Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i. It is the discounted total of agent is utility in each round. Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds. Now that we have a model of making and satisfying requests, we use it to analyze free riding. Take an altruist to be someone who always fulfills requests. Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise. Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it. Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing. For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant. While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others. For example a naive user of filesharing software with a good connection might well follow this strategy. All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason. As we have observed, such users seem to exist in some large systems. Suppose that our system has a altruists. Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work. Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system. Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t). Proposition 2.1. There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents. Proof. Consider the strategy for a standard player j in the presence of a altruists. Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists. Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ). If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy. Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player. Then we only need a > 1145. While this is a large number, it is small relative to the size of a large P2P network. Current systems all have a pool of users behaving like our altruists. This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users. To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users. In some sense, this is not a problem at all. In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work. Indeed, current P2P network work quite well in terms of distributing content to people. However, as we said in the introduction, there is some reason to believe these altruists may not be around forever. Thus, it is worth looking at what can be done to make these systems work in their absence. For the rest of this paper we assume that all agents are standard, and try to maximize expected utility. We are interested in equilibria based on a scrip system. Each time an agent has a request satisfied he must pay the person who satisfied it some amount. For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1. We denote by M the total amount of money in the system. We assume that M > 0 (otherwise no one will ever be able to get paid). In principle, agents are free to adopt a very wide variety of strategies. They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely. To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies. The class of strategies we are interested in is easy to motivate. The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more. On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working. The natural balance between these two is a threshold strategy. Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise. Note that S0 is the strategy where the agent never volunteers. While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one. As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies. We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1. Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise. The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3. THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk. Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly. Suppose that everyone plays Sk. For simplicity, assume that everyone has at most k dollars. We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars. After this point he will never acquire more than k. Thus, eventually the system will be in such a state. If M ≥ kn, no agent will ever be willing to work. Thus, for the purposes of this section we assume that M < kn. From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk. However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly. Thus we consider an alternative analysis based on the evolution of the system as a whole. If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}. If there are n agents, then the state of the game can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} . Since the total amount of money is constant, not all of these states can arise in the game. For example the state where each player has $0 is impossible to reach in any game with money in the system. Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}. Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M . It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state. Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1. In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )). Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.) Let ∆k denote the set of probability distributions on {0, . . . , k}. We can think of an element of ∆k as describing the fraction of people with each amount of money. This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount. As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has. Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n. Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m). Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ . Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state. We can in fact completely characterize the distribution d∗ . Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆. Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n. The statement is correct under a number of senses of close. For definiteness, we consider the Euclidean distance. Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < . Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1. For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − . Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s . Then the probability of being in a set of states is just the size of the set divided by the total number of states. A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16]. More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial. This fraction clearly goes to 0 as n gets large. Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform. It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs . Let Pij denote the probability of transitioning from state i to state j. It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j. It immediatly follows from this symmetry that πs = πs , so π is uniform. After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly. We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution. As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001. Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit. We then considered how close the distribution stays to the maximum entropy distribution once it has reached it. To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there. For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution. Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large. However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing). We believe that the actually time needed is O(n). This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4. THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.) This is not true in general. If δ is small, then agents have no incentive to work. Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work. With small δ, S0 is the only equilibrium. However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies. We do this by first showing that, if every other agent is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one). We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy. It follows that this tuple of threshold strategies is a Nash equilibrium. As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a threshold strategy Sk that is a best response for agent i. To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution). However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies. For a later proof, it will be helpful to have a continuous set of strategies. If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.) Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number. Theorem 4.1. Fix a strategy Sγ and an agent i. There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for agent i is Sk . Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies). Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution. If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly. Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant). Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP. It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy. The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP. We remark that there may be best responses that are not threshold strategies. All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy. Since we know that there is a best response that is a threshold strategy, we can look for a Nash equilibrium in the space of threshold strategies. Theorem 4.2. For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the game G(n, δ) where all agents play Sγ for some integer γ > 0. Proof. It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function. It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium. However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response. Therefore, if we can join the steps by a vertical line, we get a best-response curve. It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same threshold strategy. As we have already observed, one such equilibrium occurs at 0. If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1. Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay. Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0. Consider k∗ , the smallest k such that k > M/n. It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ . It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ. This is the desired Nash equilibrium. This argument also shows us that we cannot in general expect fixed points to be unique. If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point. In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000. Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium. However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies. It is even possible (although it seems unlikely) that some of these equilibria might be better. 5. SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n). From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request). There is a tension between these objectives. It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases. Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents. That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1. There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2). Proof. Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately. Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r. The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same. In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal. We are currently exploring exactly what the optimal ratio is. As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money. Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system. This produces the same effect. For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has. Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has. With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request. Theorem 5.1 also tells us how to deal with a dynamic pool of agents. Our system can handle newcomers relatively easily: simply allow them to join with no money. This gives existing agents no incentive to leave and rejoin as newcomers. We then change the price of fulfilling a request so that the optimal ratio is maintained. This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.) Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done. Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy. For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request. However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting. There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].) We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally. However, we have not yet explored the changes required to implement this change. Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6. SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof. To get d dollars, his sybils together still have to perform d units of work. Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment. Nevertheless, there are some less direct ways that an agent could take advantage of sybils. First, by having more identities he will have a greater probability of getting chosen to make a request. It is easy to see that this will lead to the agent having higher total utility. However, this is just an artifact of our model. To make our system simple to analyze, we have assumed that request opportunities came uniformly at random. In practice, requests are made to satisfy a desire. Our model implicitly assumed that all agents are equally likely to have a desire at any particular time. Having sybils should not increase the need to have a request satisfied. Indeed, it would be reasonable to assume that sybils do not make requests at all. Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request. This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy. Intuitively, the need for money is not as critical if money is easier to obtain. Unlike the first concern, this seems like a real issue. It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent. Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features. Third, an agent can drive down the cost of fulfilling a request by introducing many sybils. Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system. Concievably he could alternate between these techniques to magnify the effects of work he does. We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted). Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available. The second point raised regarding sybils also applies to collusion if we allow money to be loaned. If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money. By pooling their money in this way, the k agents can again do better by setting a higher threshold. Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money. These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7. CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy. Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency. Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems. It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable. Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation. However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate. Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal). There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2? In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings. We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests. It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system. Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance. This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists. What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding. There are some similarities between hoarding and altruistic behavior. While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money). It would be interesting to investigate the extent to which our system is robust against hoarders. Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests. It would be interesting to investigate the effect of such communities on the equilibrium of our system. There are also a number of implementation issues that would have to be resolved in a real system. For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided. Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model. For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture. Another example is that Karma has nodes serve as bookkeepers for other nodes account balances. Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked. Karma suggests several ways to incentivize nodes to perform these duties. We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8. ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions. EF, IK and JH are supported in part by NSF under grant ITR-0325453. JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9. REFERENCES [1] E. Adar and B. A. Huberman. Free riding on Gnutella. First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald. Exchange-based incentive mechanisms for peer-to-peer file sharing. In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman. Sybilproof reputation mechanisms. In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies. Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur. The sybil attack. In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison. Cooperation in the prisoners dilemma with anonymous random matching. Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang. Robust incentive techniques for peer-to-peer networks. In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes. Pricing wifi at starbucks: issues in online mechanism design. In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241. ACM Press, 2003. [11] E. J. Friedman and P. Resnick. The social cost of cheap pseudonyms. Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins. Propagation of trust and distrust. In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar. A reputation system for peer-to-peer networks. In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen. Link spam detection based on mass estimation. Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis. Fileteller: Paying and getting paid for file storage. In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes. Where do we stand on maximum entropy? In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118. MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina. The Eigentrust algorithm for reputation management in P2P networks. In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori. Social norms and community enforcement. Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation. LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler. Mixing of random walks and other diffusions on a graph. In Surveys in Combinatorics, 1993, Walker (Ed.), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group. Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC. Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman. Markov Decision Processes. Wiley, 1994. [24] SETI@home. SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer. Karma: A secure economic framework for peer-to-peer resource sharing. In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu. Building trust in decentralized peer-to-peer electronic communities. In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy. Making eigenvector-based reputation systems robust to collusion. In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149",
    "original_translation": "Eficiencia y equilibrios de Nash en un sistema de vales para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación. Universidad Cornell halpern@cs.cornell.edu Ian Kash Departamento de Ciencias de la Computación. La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una red P2P. Se demuestra que al agregar un sistema de script, se puede obtener un mecanismo que admita un equilibrio de Nash razonable que reduzca el comportamiento de aprovechamiento gratuito. El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el bienestar social) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia. El trabajo tiene implicaciones para muchos sistemas en línea, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; I.2.11 [Inteligencia Artificial]: Inteligencia Artificial Distribuida-Sistemas Multiagente; J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Computadoras y Sociedad]: Comercio Electrónico Términos Generales Economía, Teoría 1. INTRODUCCIÓN Una característica común de muchos sistemas distribuidos en línea es que los individuos proporcionan servicios entre sí. Las redes peer-to-peer (P2P) (como Kazaa [25] o BitTorrent [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás. El hecho de que las personas se presten servicios entre sí generalmente aumenta el bienestar social: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona. Sin embargo, el costo de brindar el servicio aún puede ser significativo. Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo. Por lo tanto, en muchos sistemas existe un fuerte incentivo para convertirse en un \"pasajero gratis\" y beneficiarse del sistema sin contribuir a él. Este no es simplemente un problema teórico; estudios de la red Gnutella [22] han demostrado que casi el 70 por ciento de los usuarios no comparten archivos y casi el 50 por ciento de las respuestas provienen del 1 por ciento superior de los anfitriones que comparten [1]. Tener relativamente pocos usuarios que proporcionen la mayor parte del servicio crea un punto de centralización; la desaparición de un pequeño porcentaje de usuarios puede afectar enormemente la funcionalidad del sistema. Además, las tendencias actuales parecen estar llevando a la eliminación de los usuarios altruistas en los que estos sistemas confían. Estos usuarios intensivos son algunos de los clientes más costosos que tienen los proveedores de servicios de Internet. Por lo tanto, a medida que la cantidad de tráfico ha aumentado, los proveedores de servicios de Internet han comenzado a buscar formas de reducir este tráfico. Algunas universidades han comenzado a cobrar a los estudiantes por el uso excesivo de ancho de banda; otras revocan el acceso a la red por ello [5]. Un número de empresas también se han formado cuyo servicio es detectar el uso excesivo de ancho de banda [19]. Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros sistemas en línea distribuidos. Se ha invertido una cantidad significativa de investigación en el diseño de sistemas de reputación para dar tratamiento preferencial a los usuarios que comparten archivos. Algunas de las redes P2P actualmente en uso han implementado versiones de estas técnicas. Sin embargo, estos enfoques tienden a caer en una de dos categorías: o son similares al trueque o se basan en la reputación. Por \"tipo trueque\", nos referimos a que cada agente basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones. Quizás el ejemplo más conocido de un sistema similar al trueque es BitTorrent, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual. Dado que el trueque está restringido a usuarios actualmente interesados en un solo archivo, esto funciona bien para archivos populares, pero tiende a tener problemas para mantener la disponibilidad de los menos populares. Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el sistema de créditos utilizado por eMule 140 [8]. Cada usuario realiza un seguimiento de su historial de interacciones con otros usuarios y da prioridad a aquellos de los que ha descargado previamente. Sin embargo, en un sistema grande, la probabilidad de que un par de usuarios elegidos al azar hayan interactuado antes es bastante baja, por lo que este historial de interacciones no será de gran ayuda. Anagnostakis y Greenwald [2] presentan una versión más sofisticada de este enfoque, pero aún parece sufrir de problemas similares. Se han realizado varios intentos de proporcionar sistemas de reputación generales (por ejemplo, [12, 13, 17, 27]). La idea básica es agregar la experiencia de cada usuario en un número global para cada individuo que represente de manera intuitiva la visión del sistema sobre la reputación de ese individuo. Sin embargo, estos intentos tienden a sufrir problemas prácticos porque implícitamente consideran a los usuarios como buenos o malos, asumen que los buenos usuarios actuarán de acuerdo con el protocolo especificado, y que hay relativamente pocos usuarios malos. Desafortunadamente, si existen formas fáciles de manipular el sistema, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen. No podemos depender solo de unos pocos usuarios siendo malos (en el sentido de no seguir el protocolo prescrito). Por ejemplo, Kazaa utiliza una medida de la proporción entre el número de cargas y el número de descargas para identificar usuarios buenos y malos. Sin embargo, para evitar penalizar a los nuevos usuarios, les dieron a los nuevos usuarios una calificación promedio. Los usuarios descubrieron que podían aprovechar esta calificación relativamente buena para viajar gratis por un tiempo y, una vez que comenzaba a empeorar, podían eliminar su información almacenada y regresar efectivamente como un nuevo usuario, evitando así el sistema (ver [2] para una discusión y [11] para un análisis formal de este lavado de imagen). Por lo tanto, el sistema de reputación de Kazaas es ineficaz. Este es un caso simple de una vulnerabilidad más general de tales sistemas a los ataques de sybil [6], donde un solo usuario mantiene múltiples identidades y las utiliza de manera coordinada para obtener un mejor servicio del que obtendría de otra manera. Trabajos recientes han demostrado que la mayoría de los sistemas de reputación comunes son vulnerables (en el peor de los casos) a tales ataques [4]; sin embargo, el grado de esta vulnerabilidad aún no está claro. El análisis de las vulnerabilidades prácticas y la existencia de sistemas inmunes a tales ataques sigue siendo un área de investigación activa (por ejemplo, [4, 28, 14]). Los sistemas económicos simples basados en un vale o dinero parecen evitar muchos de estos problemas, son fáciles de implementar y son bastante populares (ver, por ejemplo, [13, 15, 26]). Sin embargo, tienen un conjunto diferente de problemas. Quizás los más comunes implican determinar la cantidad de dinero en el sistema. Hablando en términos generales, si hay muy poco dinero en el sistema en relación con el número de agentes, entonces relativamente pocos usuarios pueden permitirse hacer solicitudes. Por otro lado, si hay demasiado dinero, entonces los usuarios no sentirán la necesidad de responder a una solicitud; ya tienen suficiente dinero. Un problema relacionado implica manejar a los recién llegados. Si a los recién llegados se les da una cantidad positiva de dinero, entonces el sistema está abierto a ataques de Sybil. Quizás no sorprendentemente, los sistemas de moneda fiduciaria terminan teniendo que lidiar con problemas económicos estándar como la inflación, las burbujas y las crisis [26]. En este artículo, proporcionamos un modelo formal en el cual analizar sistemas de escritura. Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero). Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (bienestar social), dado el número de agentes. También conduce a una solución para el problema de tratar con los recién llegados: simplemente asumimos que los nuevos usuarios llegan sin dinero, y ajustamos el precio del servicio (lo cual es equivalente a ajustar la oferta de dinero) para mantener la proporción que maximiza la eficiencia. Si bien asumir que los nuevos usuarios no tienen dinero no funcionará en todos los contextos, creemos que este enfoque será ampliamente aplicable. En sistemas donde el objetivo es realizar trabajo, los nuevos usuarios pueden adquirir dinero realizando trabajo. También debería funcionar en el sistema Kazaalike donde un usuario puede ingresar con algunos recursos (por ejemplo, una colección privada de MP3). El resto del documento está organizado de la siguiente manera. En la Sección 2, presentamos nuestro modelo formal y observamos que se puede utilizar para comprender el efecto de los altruistas. En la Sección 3, examinamos qué sucede en el juego bajo un juego no estratégico, si todos los agentes utilizan la misma estrategia de umbral. Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la entropía máxima. Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el juego donde todos los agentes utilizan alguna estrategia de umbral. Además, mostramos en la Sección 5 que el análisis conduce a una comprensión de cómo elegir la cantidad de dinero en el sistema (o, de manera equivalente, el costo para cumplir una solicitud) para maximizar la eficiencia, y también muestra cómo manejar a los nuevos usuarios. En la Sección 6, discutimos en qué medida nuestro enfoque puede manejar sybils y colusión. Concluimos en la Sección 7.2. EL MODELO Para empezar, formalizamos la prestación de servicios en una red P2P como un juego no cooperativo. A diferencia de gran parte de la modelización en esta área, nuestro modelo modelará las interacciones asimétricas en un sistema de intercambio de archivos en el que el emparejamiento de jugadores (aquellos que solicitan un archivo con aquellos que tienen ese archivo en particular) es una parte clave del sistema. Esto contrasta con gran parte de trabajos anteriores que utilizan emparejamiento aleatorio en un dilema del prisionero. Tales modelos fueron estudiados en la literatura económica [18, 7] y aplicados por primera vez a reputaciones en línea en [11]; una aplicación a P2P se encuentra en [9]. Este modelo de emparejamiento aleatorio no logra capturar algunos aspectos relevantes de varios entornos importantes. Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una red P2P grande), pero no todas pueden hacerlo. Por ejemplo, algunas personas pueden no tener el tiempo o los recursos para satisfacer la solicitud. El proceso de emparejamiento aleatorio ignora el hecho de que algunas personas pueden no ser capaces de satisfacer la solicitud. Presumiblemente, si la persona emparejada con el solicitante no pudiera satisfacer el emparejamiento, tendría que desertar. Además, no captura el hecho de que la decisión de si voluntariarse para satisfacer la solicitud debe tomarse antes del proceso de emparejamiento, no después. Es decir, el proceso de emparejamiento no captura el hecho de que si alguien no está dispuesto a satisfacer la solicitud, sin duda habrá otros que puedan hacerlo. Aunque nos referimos a nuestra unidad de moneda como el dólar, estos no son dólares reales ni los consideramos convertibles en dólares. Finalmente, las acciones y recompensas en el juego del dilema del prisionero no corresponden claramente a las decisiones reales que se pueden tomar. Por ejemplo, no está claro qué significa la deserción por parte del solicitante. En nuestro modelo intentamos abordar todos estos problemas. Supongamos que hay n agentes. En cada ronda, se elige de forma aleatoria y uniforme a un agente para hacer una solicitud. Cada otro agente puede satisfacer esta solicitud con una probabilidad β > 0 en todo momento, independientemente del comportamiento previo. El término β tiene la intención de capturar la probabilidad de que un agente esté ocupado o no tenga los recursos para cumplir con la solicitud. Suponer que β es independiente del tiempo no captura la intuición de que no poder cumplir una solicitud en el tiempo t puede estar correlacionado con no poder cumplirla en el tiempo t+1. Creemos que, en sistemas grandes, deberíamos poder eliminar la suposición de independencia, pero dejamos esto para trabajos futuros. En cualquier caso, aquellos agentes que sean capaces de satisfacer la solicitud deben elegir si desean o no ofrecerse como voluntarios para satisfacerla. Si al menos un agente se ofrece como voluntario, el solicitante recibe un beneficio de 1 utilidad (el trabajo se realiza) y uno de los voluntarios es elegido al azar para cumplir con la solicitud. El agente que cumple con la solicitud paga un costo de α < 1. Como es habitual en la literatura, asumimos que los agentes descuentan los beneficios futuros por un factor de δ por unidad de tiempo. Esto captura la intuición de que un util hoy vale más que un util mañana, y nos permite calcular la utilidad total derivada por un agente en un juego infinito. Por último, asumimos que con más jugadores las solicitudes llegan con más frecuencia. Por lo tanto, asumimos que el tiempo entre rondas es 1/n. Esto captura el hecho de que los sistemas que queremos modelar realmente están procesando muchas solicitudes en paralelo, por lo que esperaríamos que el número de solicitudes concurrentes sea proporcional al número de usuarios. Sea G(n, δ, α, β) este juego con n agentes, un factor de descuento de δ, un costo para satisfacer solicitudes de α y una probabilidad de poder satisfacer solicitudes de β. Cuando los dos últimos parámetros no son relevantes, a veces escribimos G(n, δ). Utilizamos la siguiente notación a lo largo del documento: • pt denota al agente elegido en la ronda t. • Bt i ∈ {0, 1} denota si el agente i puede satisfacer la solicitud en la ronda t. Bt i = 1 con probabilidad β > 0 y Bt i es independiente de Bt i para todo t = t. • V t i ∈ {0, 1} denota la decisión del agente i sobre si voluntariarse en la ronda t; 1 indica voluntariado. V t i está determinado por la estrategia del agente. • vt ∈ {j | V t j Bt j = 1} denota al agente elegido para satisfacer la solicitud. Este agente es elegido de manera uniforme al azar entre aquellos que están dispuestos (V t j = 1) y capaces (Bt j = 1) de satisfacer la solicitud. • ut i denota la utilidad del agente en la ronda t. Un agente estándar es aquel cuya utilidad se determina como se discutió en la introducción; es decir, el agente recibe 2. Para n grande, nuestro modelo converge a uno en el que los jugadores realizan solicitudes en tiempo real, y el tiempo entre las solicitudes de un jugador está distribuido de manera exponencial con media 1. Además, el tiempo entre las solicitudes atendidas por un único jugador también sigue una distribución exponencial. Una utilidad de 1 para una solicitud cumplida y una utilidad de -α por cumplir una solicitud. Por lo tanto, si i es un agente estándar, entonces ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 −α si i = vt 0 de lo contrario. • Ui = P∞ t=0 δt/n ut i denota la utilidad total para el agente i. Es el total descontado de la utilidad del agente en cada ronda. Ten en cuenta que el factor de descuento efectivo es δ1/n ya que un aumento en n conlleva a una reducción del tiempo entre rondas. Ahora que tenemos un modelo de cómo hacer y satisfacer solicitudes, lo utilizamos para analizar el comportamiento de no contribuir. Considera a un altruista como alguien que siempre cumple peticiones. El agente podría comportarse de manera altruista de manera racional si la función de utilidad del agente tiene la siguiente forma, para algún α > 0: ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 α si i = vt 0 en otro caso. Por lo tanto, en lugar de sufrir una pérdida de utilidad al satisfacer una solicitud, un agente obtiene utilidad positiva al satisfacerla. Una función de utilidad de este tipo es una representación razonable del placer que algunas personas obtienen al sentir que son quienes proporcionan la música que todos están tocando. Para agentes altruistas como estos, jugar la estrategia que establece V t i = 1 para todo t es dominante. Si bien tener una función de utilidad no estándar podría ser una razón por la cual un agente racional podría usar esta estrategia, ciertamente hay otras razones. Por ejemplo, un usuario inexperto de software de intercambio de archivos con una buena conexión bien podría seguir esta estrategia. Todo lo que importa para la siguiente discusión es que hay algunos agentes que utilizan esta estrategia, sea por la razón que sea. Como hemos observado, parece que existen usuarios de este tipo en algunos sistemas grandes. Supongamos que nuestro sistema tiene altruistas. Intuitivamente, si a es moderadamente grande, lograrán satisfacer la mayoría de las solicitudes en el sistema incluso si otros agentes no trabajan. Por lo tanto, hay poco incentivo para que cualquier otro agente se ofrezca como voluntario, porque ya está obteniendo pleno beneficio al participar en el sistema. Basándose en esta intuición, es un cálculo relativamente sencillo determinar un valor de a que depende solo de α, β y δ, pero no del número n de jugadores en el sistema, de modo que la estrategia dominante para todos los agentes estándar i sea nunca ofrecerse voluntariamente para satisfacer ninguna solicitud (es decir, V t i = 0 para todo t). Proposición 2.1. Existe un a que depende solo de α, β y δ tal que, en G(n, δ, α, β) con al menos a altruistas, no ofrecerse como voluntario en cada ronda es una estrategia dominante para todos los agentes estándar. Prueba. Considera la estrategia para un jugador estándar j en presencia de altruistas. Incluso sin dinero, el jugador j logrará que se satisfaga una solicitud con probabilidad 1 − (1 − β)a solo a través de las acciones de estos altruistas. Por lo tanto, incluso si j es elegido para hacer una solicitud en cada ronda, la utilidad adicional esperada máxima que puede esperar obtener al tener dinero es P∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ). Si (1 − β)a /(1 − δ) > α o, equivalentemente, si a > log1−β(α(1 − δ)), nunca ofrecerse como voluntario es una estrategia dominante. Considera los siguientes valores razonables para nuestros parámetros: β = .01 (para que cada jugador pueda satisfacer el 1% de las solicitudes), α = .1 (un costo bajo pero no despreciable), δ = .9999/día 142 (lo que corresponde a un factor de descuento anual de aproximadamente 0.95), y un promedio de 1 solicitud por día por jugador. Entonces solo necesitamos un > 1145. Si bien este es un número grande, es pequeño en comparación con el tamaño de una red P2P grande. Los sistemas actuales tienen un grupo de usuarios que se comportan como nuestros altruistas. Esto significa que los intentos de agregar un sistema de reputación encima de un sistema P2P existente para influir en los usuarios a cooperar no tendrán efecto en usuarios racionales. Para tener una distribución justa del trabajo, estos sistemas deben ser rediseñados fundamentalmente para eliminar el grupo de usuarios altruistas. En cierto sentido, esto no es un problema en absoluto. En un sistema con altruistas, los altruistas presumiblemente están felices, al igual que los agentes estándar, quienes ven casi todas sus solicitudes satisfechas sin tener que hacer ningún trabajo. De hecho, las redes P2P actuales funcionan bastante bien en términos de distribuir contenido a las personas. Sin embargo, como mencionamos en la introducción, hay razones para creer que estos altruistas podrían no estar presentes para siempre. Por lo tanto, vale la pena analizar qué se puede hacer para que estos sistemas funcionen en su ausencia. Para el resto de este documento asumimos que todos los agentes son estándar y tratan de maximizar la utilidad esperada. Estamos interesados en equilibrios basados en un sistema de vales. Cada vez que un agente tiene una solicitud satisfecha, debe pagarle a la persona que la satisfizo una cierta cantidad. Por ahora, asumimos que el pago es fijo; para simplificar, tomamos la cantidad como $1. Denotamos por M la cantidad total de dinero en el sistema. Suponemos que M > 0 (de lo contrario, nadie podrá cobrar nunca). En principio, los agentes son libres de adoptar una amplia variedad de estrategias. Pueden tomar decisiones basadas en los nombres de otros agentes o utilizar una estrategia que depende en gran medida de la historia, y combinar libremente estas estrategias. Para ayudar en nuestro análisis, nos gustaría poder restringir nuestra atención a una clase más simple de estrategias. La clase de estrategias en la que estamos interesados es fácil de motivar. La razón intuitiva para querer ganar dinero es para atender la posibilidad de que un agente se quede sin antes de tener la oportunidad de ganar más. Por otro lado, un agente racional con mucho dinero no querría trabajar, porque para cuando haya logrado gastar todo su dinero, la utilidad tendrá menos valor que el costo actual de trabajar. El equilibrio natural entre estos dos es una estrategia de umbral. Que Sk sea la estrategia en la que un agente se ofrece como voluntario siempre que tenga menos de k dólares y no lo haga de otra manera. Ten en cuenta que S0 es la estrategia en la que el agente nunca se ofrece como voluntario. Si bien todos los que juegan S0 conforman un equilibrio de Nash (nadie puede mejorar al ofrecerse como voluntario si nadie más está dispuesto a hacerlo), es un equilibrio poco interesante. Como mostraremos en la Sección 4, es suficiente restringir nuestra atención a esta clase de estrategias. Usamos Kt i para denotar la cantidad de dinero que el agente i tiene en el tiempo t. Claramente Kt+1 i = Kt i a menos que el agente i tenga una solicitud satisfecha, en cuyo caso Kt+1 i = Kt+1 i − 1 o el agente i cumple una solicitud, en cuyo caso Kt+1 i = Kt+1 i + 1. Formalmente, Kt+1 i = 8 < : Kt i − 1 si i = pt , P j=i V t j Bt j > 0, y Kt i > 0 Kt i + 1 si i = vt y Kt pt > 0 Kt i en otro caso. La estrategia de umbral Sk es la estrategia tal que V t i = 1 si Kt pt > 0 y Kt i < k, 0 en caso contrario. EL JUEGO BAJO JUEGO NO ESTRATÉGICO Antes de considerar el juego estratégico, examinamos qué sucede en el sistema si todos juegan simplemente la misma estrategia Sk. Nuestro objetivo general es demostrar que existe una distribución de dinero (es decir, la fracción de personas con cada cantidad de dinero) tal que el sistema converge a esta distribución en un sentido que se precisará en breve. Supongamos que todos juegan Sk. Para simplificar, asumamos que todos tienen a lo sumo k dólares. Podemos hacer esta suposición prácticamente sin pérdida de generalidad, ya que si alguien tiene más de k dólares, simplemente gastará dinero hasta tener como máximo k dólares. Después de este punto, nunca adquirirá más que k. Por lo tanto, eventualmente el sistema estará en tal estado. Si M ≥ kn, ningún agente estará dispuesto a trabajar. Por lo tanto, para los propósitos de esta sección asumimos que M < kn. Desde la perspectiva de un solo agente, en equilibrio (estocástico), el agente está experimentando un paseo aleatorio. Sin embargo, los parámetros de esta caminata aleatoria dependen de las caminatas aleatorias de los otros agentes y es bastante complicado resolverlo directamente. Por lo tanto, consideramos un análisis alternativo basado en la evolución del sistema en su conjunto. Si todos tienen a lo sumo k dólares, entonces la cantidad de dinero que tiene un agente es un elemento de {0, . . . , k}. Si hay n agentes, entonces el estado del juego puede ser descrito identificando cuánto dinero tiene cada agente, por lo que podemos representarlo mediante un elemento de Sk,n = {0, . . . , k}{1,...,n}. Dado que la cantidad total de dinero es constante, no todos estos estados pueden surgir en el juego. Por ejemplo, el estado en el que cada jugador tiene $0 es imposible de alcanzar en cualquier juego con dinero en el sistema. Sea mS(s) = P i∈{1...n} s(i) el monto total de dinero en el juego en el estado s, donde s(i) es la cantidad de dólares que el agente i tiene en el estado s. Queremos considerar solo aquellos estados donde el dinero total en el sistema es M, es decir, Sk,n,M = {s ∈ Sk,n | mS(s) = M}. Bajo el supuesto de que todos los agentes utilizan la estrategia Sk, la evolución del sistema puede ser tratada como una cadena de Markov Mk,n,M sobre el espacio de estados Sk,n,M. Es posible pasar de un estado a otro en una sola ronda si al elegir a un agente en particular para hacer una solicitud y a otro agente en particular para satisfacerla, las cantidades de dinero poseídas por cada agente se convierten en las del segundo estado. Por lo tanto, la probabilidad de una transición de un estado s a t es 0 a menos que existan dos agentes i y j tales que s(i) = t(i) para todos los i /∈ {i, j}, t(i) = s(i) + 1, y t(j) = s(j) − 1. En este caso, la probabilidad de transición de s a t es la probabilidad de que j sea elegido para gastar un dólar y tenga a alguien dispuesto y capaz de satisfacer su solicitud ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplicado por la probabilidad de que i sea elegido para satisfacer su solicitud (1/(|({i | s(i ) = k}| − Ij ). Ij es 0 si j tiene k dólares y 1 en caso contrario (es solo una corrección por el hecho de que j no puede satisfacer su propia solicitud). Sea ∆k el conjunto de distribuciones de probabilidad en {0, . . . , k}. Podemos pensar en un elemento de ∆k como la descripción de la fracción de personas con cada cantidad de dinero. Esta es una forma útil de ver el sistema, ya que normalmente no nos importa quién tiene cada cantidad de dinero, sino simplemente la fracción de personas que tienen cada cantidad. Como antes, no todos los elementos de ∆k son posibles, dada nuestra restricción de que la cantidad total de dinero es M. En lugar de pensar en términos de la cantidad total de dinero en el sistema, resultará más útil pensar en términos del monto promedio de dinero que tiene cada jugador. Por supuesto, la cantidad total de dinero en un sistema con n agentes es M si y solo si la cantidad promedio que cada jugador tiene es m = M/n. Sea ∆k m el conjunto de todas las distribuciones d ∈ ∆k tales que E(d) = m (es decir, Pk j=0 d(j)j = m). Dado un estado s ∈ Sk,n,M, sea ds ∈ ∆k m la distribución de dinero en s. Nuestro objetivo es demostrar que, si n es grande, entonces existe una distribución d∗ ∈ ∆k m tal que, con alta probabilidad, la cadena de Markov Mk,n,M estará casi siempre en un estado s tal que ds esté cerca de d∗. Por lo tanto, los agentes pueden basar sus decisiones sobre qué estrategia usar en la suposición de que estarán en ese estado. De hecho, podemos caracterizar completamente la distribución d∗. Dada una distribución d ∈ ∆k , sea H(d) = − X {j:d(j)=0} d(j) log(d(j)) la entropía de d. Si ∆ es un conjunto convexo cerrado de distribuciones, entonces es bien sabido que hay una distribución única en ∆ en la que la función de entropía alcanza su valor máximo en ∆. Dado que ∆k m se ve fácilmente como un conjunto convexo cerrado de distribuciones, se sigue que hay una distribución única en ∆k m que denotamos como d∗ k,m cuya entropía es mayor que la de todas las demás distribuciones en ∆k m. Ahora mostramos que, para n suficientemente grande, la cadena de Markov Mk,n,M está casi seguramente en un estado s tal que ds está cerca de d∗ k,M/n. La afirmación es correcta en varios sentidos de cercanía. Para mayor claridad, consideramos la distancia euclidiana. Dado > 0, sea Sk,n,m el conjunto de estados s en Sk,n,mn tal que Pk j=0 |ds (j) − d∗ k,m|2 < . Dada una cadena de Markov M sobre un espacio de estados S y S ⊆ S, sea Xt,s,S la variable aleatoria que denota que M se encuentra en un estado de S en el tiempo t, cuando se inicia en el estado s. Teorema 3.1. Para todo ε > 0, todo k y todo m, existe un n tal que para todo n > n y todos los estados s ∈ Sk,n,mn, existe un tiempo t∗ (que puede depender de k, n, m y ) tal que para t > t∗, tenemos que Pr(Xt,s,Sk,n,m, ) > 1 − . Prueba. (Bosquejo) Supongamos que en algún momento t, Pr(Xt,s,s) es uniforme para todos los s. Entonces, la probabilidad de estar en un conjunto de estados es simplemente el tamaño del conjunto dividido por el número total de estados. Una técnica estándar de la mecánica estadística es demostrar que hay un fenómeno de concentración alrededor de la distribución de entropía máxima [16]. Más precisamente, utilizando un argumento combinatorio directo, se puede demostrar que la fracción de estados que no están en Sk,n,m está acotada por p(n)/ecn, donde p es un polinomio. Esta fracción claramente tiende a 0 a medida que n crece. Por lo tanto, para n suficientemente grande, Pr(Xt,s,Sk,n,m, ) > 1 − si Pr(Xt,s,s ) es uniforme. Es relativamente sencillo demostrar que nuestra Cadena de Markov tiene una distribución límite π sobre Sk,n,mn, tal que para todo s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs. Que Pij denote la probabilidad de transición del estado i al estado j. Es fácil verificar mediante un cálculo explícito de las probabilidades de transición que Pij = Pji para todos los estados i y j. Se sigue inmediatamente de esta simetría que πs = πs, por lo que π es uniforme. Después de un tiempo suficiente, la distribución estará lo suficientemente cerca de π, de modo que las probabilidades vuelven a estar limitadas por una constante, lo cual es suficiente para completar el teorema. Realizamos una serie de experimentos que muestran que el comportamiento de máxima entropía descrito en el Teorema 3.1 surge rápidamente para valores bastante prácticos de n y t. El primer experimento mostró que, incluso si n = 1000, alcanzamos rápidamente la distribución de máxima entropía. Promediamos 10 ejecuciones de la cadena de Markov para k = 5 donde hay suficiente dinero para que cada agente tenga $2 comenzando desde una distribución muy extrema (cada agente tiene $0 o $5) y consideramos el tiempo promedio necesario para acercarse a varias distancias de la distribución de entropía máxima. Como muestra la Figura 1, después de 2,000 pasos, en promedio, la distancia euclidiana desde la distribución promedio del dinero hasta la distribución de máxima entropía es de .008; después de 3,000 pasos, la distancia disminuye a .001. Ten en cuenta que esto realmente solo son 3 unidades de tiempo reales, ya que con 1000 jugadores tenemos 1000 transacciones por unidad de tiempo. Luego consideramos qué tan cerca se mantiene la distribución de la entropía máxima una vez que la ha alcanzado. Para simplificar las cosas, comenzamos el sistema en un estado cuya distribución estaba muy cerca de la distribución de máxima entropía y lo ejecutamos durante 106 pasos, para varios valores de n. Como muestra la Figura 2, el sistema no se aleja mucho de la distribución de máxima entropía una vez que está allí. Por ejemplo, si n = 5000, el sistema nunca está a más de una distancia de .001 de la distribución de máxima entropía; si n = 25,000, nunca está a más de .0002 de la distribución de máxima entropía. Finalmente, consideramos con más cuidado cómo rápidamente el sistema converge a la distribución de máxima entropía para varios valores de n. Hay aproximadamente kn estados posibles, por lo que el tiempo de convergencia podría ser bastante largo en principio. Sin embargo, sospechamos que la cadena de Markov que surge aquí se mezcla rápidamente, lo que significa que convergerá significativamente más rápido (ver [20] para más detalles sobre la mezcla rápida). Creemos que el tiempo necesario en realidad es O(n). Este comportamiento se ilustra en la Figura 3, que muestra que para nuestra cadena de ejemplo (nuevamente promediada en 10 ejecuciones), después de 3n pasos, la distancia euclidiana entre la distribución real del dinero en el sistema y la distribución de máxima entropía es menor que .001. EL JUEGO BAJO JUGADA ESTRATÉGICA Hemos visto que el sistema se comporta bien si los agentes siguen todos una estrategia de umbral; ahora queremos demostrar que existe un equilibrio de Nash no trivial donde lo hacen (es decir, un equilibrio de Nash donde todos los agentes usan Sk para algún k > 0). Esto no es cierto en general. Si δ es pequeño, entonces los agentes no tienen incentivo para trabajar. Intuitivamente, si la utilidad futura está suficientemente descontada, entonces todo lo que importa es el presente, y no tiene sentido ofrecerse como voluntario para trabajar. Con un δ pequeño, S0 es el único equilibrio. Sin embargo, demostramos que para δ suficientemente grande, hay otro equilibrio en estrategias de umbral. Lo hacemos primero demostrando que, si cada otro agente está jugando una estrategia de umbral, entonces hay una mejor respuesta que también es una estrategia de umbral (aunque no necesariamente la misma). Luego demostramos que debe existir alguna estrategia de umbral (mixta) para la cual esta mejor respuesta sea la misma estrategia. Se deduce que este conjunto de estrategias de umbral es un equilibrio de Nash. Como primer paso, demostramos que, para todo k, si todos excepto el agente i están jugando Sk, entonces hay una estrategia de umbral Sk que es la mejor respuesta para el agente i. Para demostrar esto, necesitamos asumir que el sistema está cerca de la distribución de estado estacionario (es decir, la distribución de máxima entropía). Sin embargo, siempre y cuando δ esté suficientemente cerca de 1, podemos ignorar lo que sucede durante el período en el que el sistema no está en estado estacionario. Hasta ahora hemos considerado estrategias de umbral de la forma Sk, donde k es un número natural; este es un conjunto discreto de estrategias. Para una futura demostración, será útil contar con un conjunto continuo de estrategias. Si γ = k + γ, donde k es un número natural y 0 ≤ γ < 1, sea Sγ la estrategia que realiza Sk con probabilidad 1 − γ y Sk+1 con probabilidad γ. (Nótese que aquí no estamos considerando estrategias de umbral mixtas arbitrarias, sino simplemente mezclando entre estrategias adyacentes con el único propósito de hacer que las estrategias sean continuas de una manera natural). El Teorema 3.1 se aplica a las estrategias Sγ (la misma prueba se realiza sin cambios), donde γ es un número real no negativo arbitrario. Teorema 4.1. Fije una estrategia Sγ y un agente i. Existe δ∗ < 1 y n∗ tal que si δ > δ∗ , n > n∗ , y cada agente que no sea i está jugando Sγ en el juego G(n, δ), entonces existe un entero k tal que la mejor respuesta para el agente i es Sk. Ya sea que k sea único (es decir, haya una única mejor respuesta que también sea una estrategia de umbral), o existe un entero k tal que Sγ sea una mejor respuesta para el agente i para todos los γ en el intervalo [k, k + 1] (y estas son las únicas mejores respuestas entre las estrategias de umbral). Prueba. (Bosquejo:) Si δ es suficientemente grande, podemos ignorar lo que sucede antes de que el sistema converja a la distribución de entropía máxima. Si n es suficientemente grande, entonces la estrategia jugada por un agente no afectará significativamente la distribución del dinero. Por lo tanto, la probabilidad de que i se mueva de un estado (cantidad de dinero) a otro depende únicamente de su estrategia (ya que podemos considerar que la probabilidad de que i sea elegido para hacer una solicitud y la probabilidad de que i sea elegido para satisfacer una solicitud son constantes). Por lo tanto, desde su punto de vista, el sistema es un proceso de decisión de Markov (MDP), y necesita calcular la política óptima (estrategia) para este MDP. Se desprende de los resultados estándar [23, Teorema 6.11.6] que existe una política óptima que es una política de umbral. El argumento de que la mejor respuesta es única o que existe un intervalo de mejores respuestas se desprende de un análisis más detallado de la función de valor para el MDP. Observamos que puede haber mejores respuestas que no son estrategias de umbral. Todo lo que el Teorema 4.1 muestra es que, entre las mejores respuestas, hay al menos una que es una estrategia de umbral. Dado que sabemos que hay una mejor respuesta que es una estrategia de umbral, podemos buscar un equilibrio de Nash en el espacio de estrategias de umbral. Teorema 4.2. Para todo M, existe δ∗ < 1 y n∗ tal que si δ > δ∗ y n > n∗, existe un equilibrio de Nash en el juego G(n, δ) donde todos los agentes juegan Sγ para algún entero γ > 0. Prueba. Se sigue fácilmente de la prueba del Teorema 4.1 que si br(δ, γ) es la estrategia umbral de mejor respuesta mínima si todos los demás agentes están jugando Sγ y el factor de descuento es δ, entonces, para δ fijo, br(δ, ·) es una función escalonada. También se sigue 3 Formalmente, necesitamos definir las estrategias cuando el sistema está lejos del equilibrio. Sin embargo, estas estrategias lejos del equilibrio (estocástico) no afectarán el comportamiento de equilibrio cuando n sea grande y las desviaciones del equilibrio estocástico sean extremadamente raras. 145 del teorema que si hay dos mejores respuestas, entonces una mezcla de ellas también es una mejor respuesta. Por lo tanto, si podemos unir los pasos con una línea vertical, obtenemos una curva de mejor respuesta. Es fácil ver que en todos los puntos donde esta curva de mejor respuesta cruza la diagonal y = x se define un equilibrio de Nash donde todos los agentes están utilizando la misma estrategia de umbral. Como ya hemos observado, uno de estos equilibrios ocurre en 0. Si solo hay $M en el sistema, podemos restringirnos a estrategias de umbral Sk donde k ≤ M + 1. Dado que nadie puede tener más de $M, todas las estrategias Sk para k > M son equivalentes a SM; estas son simplemente las estrategias en las que el agente siempre se ofrece como voluntario en respuesta a una solicitud hecha por alguien que puede pagar. Claramente br(δ, SM) ≤ M para todo δ, por lo que la función de mejor respuesta está en o por debajo del equilibrio en M. Si k ≤ M/n, cada jugador tendrá al menos k dólares y por lo tanto no estará dispuesto a trabajar, siendo la mejor respuesta simplemente 0. Considera k∗, el menor k tal que k > M/n. No es difícil demostrar que para k∗ existe un δ∗ tal que para todo δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ . Se sigue por continuidad que si δ ≥ δ∗, debe existir algún γ tal que br(δ, γ) = γ. Este es el equilibrio de Nash deseado. Este argumento también nos muestra que no podemos esperar en general que los puntos fijos sean únicos. Si br(δ, k∗ ) = k∗ y br(δ, k + 1) > k + 1 entonces nuestro argumento muestra que debe haber un segundo punto fijo. En general, puede haber múltiples puntos fijos incluso cuando br(δ, k∗ ) > k∗ , como se ilustra en la Figura 4 con n = 1000 y M = 3000. 0 5 10 15 20 25 Estrategia del Resto de Agentes 0 5 10 15 20 25 Mejor Respuesta Figura 4: La función de mejor respuesta para n = 1000 y M = 3000. El Teorema 4.2 nos permite restringir nuestro diseño a agentes que utilizan estrategias de umbral con la confianza de que habrá un equilibrio no trivial. Sin embargo, esto no descarta la posibilidad de que pueda haber otros equilibrios que no involucren estrategias de umbral. Es incluso posible (aunque parece improbable) que algunos de estos equilibrios puedan ser mejores. 5. BIENESTAR SOCIAL Y ESCALABILIDAD Nuestros teoremas muestran que para cada valor de M y n, para un δ suficientemente grande, existe un equilibrio de Nash no trivial donde todos los agentes utilizan alguna estrategia de umbral Sγ(M,n). Desde el punto de vista del diseñador del sistema, no todos los equilibrios son igualmente buenos; queremos un equilibrio en el que el menor número posible de agentes tengan $0 cuando tengan la oportunidad de hacer una solicitud (para que puedan pagar la solicitud) y relativamente pocos agentes tengan más del monto umbral de dinero (para que siempre haya suficientes agentes para cumplir con la solicitud). Existe una tensión entre estos objetivos. No es difícil demostrar que a medida que la fracción de agentes con $0 aumenta en la distribución de entropía máxima, la fracción de agentes con la cantidad máxima de dinero disminuye. Por lo tanto, nuestro objetivo es entender cuál debería ser la cantidad óptima de dinero en el sistema, dada la cantidad de agentes. Es decir, queremos conocer la cantidad de dinero M que maximiza la eficiencia, es decir, la utilidad total esperada si todos los agentes utilizan Sγ(M,n). Primero observamos que el equilibrio más eficiente depende solo de la proporción de M a n, no de los valores reales de M y n. Teorema 5.1. Existe un n∗ tal que para todos los juegos G(n1, δ) y G(n2, δ) donde n1, n2 > n∗, si M1/n1 = M2/n2, entonces Sγ(M1,n1) = Sγ(M2,n2). Prueba. El teorema 3.1 muestra que la distribución de máxima entropía depende solo de k y la razón M/n, no de M y n por separado. Por lo tanto, dado r, para cada elección de k, hay una distribución única de entropía máxima dk,r. La mejor respuesta br(δ, k) depende solo de la distribución dk,r, no de M o n. Por lo tanto, el equilibrio de Nash depende solo de la proporción r. Es decir, para todas las elecciones de M y n tales que n es suficientemente grande (para que se aplique el Teorema 3.1) y M/n = r, las estrategias de equilibrio son las mismas. A la luz del Teorema 5.1, el diseñador del sistema debe asegurarse de que haya suficiente dinero M en el sistema para que la proporción entre M/n sea óptima. Actualmente estamos explorando exactamente cuál es la proporción óptima. Como muestran nuestros resultados muy preliminares para β = 1 en la Figura 5, la proporción parece aumentar de forma monótona en δ, lo cual coincide con la intuición de que deberíamos brindar a los agentes más pacientes la oportunidad de ahorrar más dinero. Además, parece ser relativamente suave, lo que sugiere que puede tener una solución analítica agradable. 0.9 0.91 0.92 0.93 0.94 0.95 Tasa de descuento ∆ 5 5.5 6 6.5 7 Proporción óptima de Mn Figura 5: Cantidad promedio óptima de dinero al número más cercano .25 para β = 1 Se destaca que, en la práctica, puede ser más fácil para el diseñador variar el precio de cumplir una solicitud en lugar de 4 Si hay múltiples equilibrios, tomamos Sγ(M,n) como el equilibrio de Nash que tiene la mayor eficiencia para M y n fijos. 146 inyectar dinero en el sistema. Esto produce el mismo efecto. Por ejemplo, cambiar el costo de cumplir una solicitud de $1 a $2 es equivalente a reducir a la mitad la cantidad de dinero que tiene cada agente. De manera similar, reducir a la mitad el costo de cumplir una solicitud es equivalente a duplicar la cantidad de dinero que todos tienen. Con una cantidad fija de dinero M, existe un producto óptimo nc del número de agentes y el costo c de cumplir una solicitud. El Teorema 5.1 también nos dice cómo manejar un grupo dinámico de agentes. Nuestro sistema puede manejar a los recién llegados relativamente fácilmente: simplemente permítales unirse sin dinero. Esto no brinda ningún incentivo a los agentes existentes para salir y volver a unirse como recién llegados. Luego cambiamos el precio de cumplir una solicitud para que se mantenga la proporción óptima. Este método tiene la característica interesante de que puede implementarse de forma distribuida; si todos los nodos en el sistema tienen una buena estimación de n, entonces todos pueden ajustar los precios automáticamente. (Alternativamente, el número de agentes en el sistema puede ser publicado en un lugar público). Los enfoques que dependen de ajustar la cantidad de dinero pueden requerir costosos cálculos a nivel de sistema (ver [26] para un ejemplo) y deben ser cuidadosamente ajustados para evitar crear incentivos para que los agentes manipulen el sistema mediante el cual se realiza esto. Ten en cuenta que, en principio, la realización de que el costo de cumplir una solicitud puede cambiar puede afectar la estrategia de un agente. Por ejemplo, si un agente espera que el costo aumente, entonces puede querer posponer ofrecerse como voluntario para cumplir con una solicitud. Sin embargo, si el número de agentes en el sistema siempre está aumentando, entonces el costo siempre disminuye, por lo que nunca hay ninguna ventaja en esperar. Puede haber una ventaja en retrasar una solicitud, pero es mucho más costoso en términos de costos de espera que en proporcionar el servicio, ya que asumimos que la necesidad de un servicio a menudo está sujeta a costos reales de espera, mientras que la necesidad de suministrar el servicio es simplemente aumentar el suministro de dinero. (Se discuten temas relacionados en [10].) Finalmente, esperamos modificar el mecanismo para que el precio de un trabajo pueda establecerse de forma endógena dentro del sistema (como en las economías del mundo real), con agentes pujando por trabajos en lugar de que exista un costo fijo establecido externamente. Sin embargo, aún no hemos explorado los cambios necesarios para implementar este cambio. Por lo tanto, por ahora, asumimos que el costo se establece como una función del número de agentes en el sistema (y que no hay posibilidad de que los agentes satisfagan una solicitud por menos del costo oficial o de que los solicitantes ofrezcan pagar más). 6. SIBILAS Y COLUSIÓN En un sentido ingenuo, nuestro sistema es esencialmente a prueba de sibilas. Para obtener d dólares, sus sibilas juntas todavía tienen que realizar d unidades de trabajo. Además, dado que los recién llegados ingresan al sistema con $0, no hay beneficio en crear nuevos agentes simplemente para aprovechar un dotación inicial. Sin embargo, existen algunas formas menos directas en las que un agente podría aprovecharse de los sybils. Primero, al tener más identidades, tendrá una mayor probabilidad de ser elegido para hacer una solicitud. Es fácil ver que esto llevará a que el agente tenga una mayor utilidad total. Sin embargo, esto es solo un artefacto de nuestro modelo. Para simplificar el análisis de nuestro sistema, hemos asumido que las oportunidades de solicitud llegaron de manera uniforme al azar. En la práctica, se hacen peticiones para satisfacer un deseo. Nuestro modelo asumió implícitamente que todos los agentes tienen la misma probabilidad de tener un deseo en un momento particular. Tener sibilas no debería aumentar la necesidad de que se satisfaga una solicitud. De hecho, sería razonable asumir que las sibilas no hacen solicitudes en absoluto. En segundo lugar, tener sibilas hace más probable que una de las sibilas sea elegida para cumplir una petición. Esto puede permitir a un usuario aumentar su utilidad al establecer un umbral más bajo; es decir, al usar una estrategia Sk donde k es menor que el k utilizado por la estrategia de equilibrio de Nash. Intuitivamente, la necesidad de dinero no es tan crítica si el dinero es más fácil de obtener. A diferencia de la primera preocupación, esto parece ser un problema real. Parece razonable creer que cuando las personas toman una decisión entre varios nodos para satisfacer una solicitud lo hacen de forma aleatoria, al menos en cierta medida. Aunque busquen las características de los nodos anunciadas para ayudar a tomar esta decisión, los sybils permitirían a un usuario anunciar una amplia gama de características. Tercero, un agente puede reducir el costo de cumplir una solicitud al introducir muchos síbiles. Del mismo modo, podría aumentar el costo (y por ende el valor de su dinero) al hacer que un número de sibilas salgan del sistema. Concebiblemente podría alternar entre estas técnicas para magnificar los efectos del trabajo que realiza. Todavía no hemos calculado el efecto exacto de este cambio (interactúa con los otros dos efectos de tener sibilas que ya hemos notado). Dado el número de síbiles que serían necesarios para causar un cambio real en el tamaño percibido de una gran red P2P, la viabilidad de este ataque depende en gran medida de cuánto cuestan los síbiles a un atacante y qué recursos tiene disponibles. El segundo punto planteado sobre las sibilas también se aplica a la colusión si permitimos que se preste dinero. Si k agentes coluden, pueden acordar que, si uno se queda sin dinero, otro en el grupo le prestará dinero. Al juntar su dinero de esta manera, los agentes k pueden volver a mejorar al establecer un umbral más alto. Ten en cuenta que el mecanismo de préstamo no necesita estar integrado en el sistema; los agentes pueden simplemente utilizar una transacción falsa para transferir el dinero. Estos parecen ser los principales métodos para ataques colusivos, pero aún estamos explorando este tema. 7. CONCLUSIÓN Hemos realizado un análisis formal de un sistema de escritura y hemos demostrado que existe un equilibrio de Nash donde todos los agentes utilizan una estrategia de umbral. Además, podemos calcular la eficiencia de la estrategia de equilibrio y optimizar el precio (o la oferta monetaria) para maximizar la eficiencia. Por lo tanto, nuestro análisis proporciona un mecanismo formal para resolver algunos problemas importantes en la implementación de sistemas de guiones. Nos dice que con una población fija de usuarios racionales, es muy poco probable que dichos sistemas se vuelvan inestables. Por lo tanto, si esta estabilidad es una creencia común entre los agentes, no esperaríamos inflación, burbujas ni colapsos debido a la especulación de los agentes. Sin embargo, no podemos descartar la posibilidad de que esos agentes tengan otras creencias que los lleven a especular. Nuestro análisis también nos indica cómo escalar el sistema para manejar una afluencia de nuevos usuarios sin introducir estos problemas: escalar la oferta monetaria para mantener constante la cantidad promedio de dinero (o ajustar los precios de manera equivalente para lograr el mismo objetivo). Hay una serie de problemas teóricos que aún están abiertos, incluida una caracterización de la multiplicidad de equilibrios, ¿suelen ser 2? Además, esperamos que uno pueda calcular estimaciones analíticas para la función de mejor respuesta y la fijación de precios óptima, lo que nos permitiría comprender la relación entre los precios y varios parámetros en el modelo. También sería de gran interés ampliar nuestro análisis para abordar configuraciones más realistas. Mencionamos algunas posibles extensiones aquí: • Hemos asumido que el mundo es homogéneo en varios aspectos, incluyendo la frecuencia de las solicitudes, la utilidad y la capacidad para satisfacer las solicitudes. Sería interesante examinar cómo relajar cualquiera de estas suposiciones alteraría nuestros resultados. • Hemos asumido que no hay costo para un agente al ser miembro del sistema. Supongamos en cambio que imponemos un pequeño costo simplemente por estar presente en el sistema para reflejar los costos de enrutamiento de mensajes y mantenimiento de la superposición. Esta modificación podría tener un impacto significativo en los ataques de Sybil. • Hemos descrito un sistema de escritura que funciona cuando no hay altruistas y hemos demostrado que ningún sistema puede funcionar una vez que hay suficientes altruistas. ¿Qué sucede entre estos extremos? • Un tipo de comportamiento irracional que se encuentra en los sistemas de cupones es el acaparamiento. Hay algunas similitudes entre el acaparamiento y el comportamiento altruista. Mientras que un altruista brinda servicio para todos, un acumulador se ofrecerá como voluntario para todos los trabajos (con el fin de obtener más dinero) y rara vez solicitará servicio (para no gastar dinero). Sería interesante investigar en qué medida nuestro sistema es robusto contra los acaparadores. Claramente, con demasiados acumuladores, puede que no quede suficiente dinero entre los no acumuladores para garantizar que, típicamente, un no acumulador tenga suficiente dinero para satisfacer una solicitud. • Finalmente, en los sistemas de intercambio de archivos P2P, existen comunidades superpuestas de varios tamaños que tienen significativamente más probabilidades de poder satisfacer las solicitudes de los demás. Sería interesante investigar el efecto de tales comunidades en el equilibrio de nuestro sistema. También hay una serie de problemas de implementación que tendrían que resolverse en un sistema real. Por ejemplo, debemos preocuparnos por la posibilidad de que los agentes falsifiquen dinero o mientan sobre si el servicio fue realmente proporcionado. Karma [26] proporciona técnicas para lidiar con ambos problemas y varios más, pero algunas decisiones de implementación de Karma señalan problemas para nuestro modelo. Por ejemplo, resulta prohibitivamente caro asegurar que los saldos de las cuentas bancarias nunca puedan ser negativos, un hecho que nuestro modelo no captura. Otro ejemplo es que Karma tiene nodos que actúan como contables de los saldos de cuentas de otros nodos. Al igual que mantener una presencia en la red, esto impone un costo al nodo, pero a diferencia de eso, la responsabilidad puede ser fácilmente eludida. Karma sugiere varias formas de incentivar a los nodos para que realicen estas tareas. No hemos investigado si estos mecanismos pueden ser incorporados sin perturbar nuestro equilibrio. 8. AGRADECIMIENTOS Nos gustaría agradecer a Emin Gun Sirer, Shane Henderson, Jon Kleinberg y 3 árbitros anónimos por sus sugerencias útiles. EF, IK y JH cuentan con el apoyo parcial de la NSF bajo la subvención ITR-0325453. JH también cuenta con el apoyo parcial de la NSF bajo los subsidios CTC-0208535 e IIS-0534064, de la ONR bajo el subsidio N00014-01-10-511, del Programa de Iniciativa de Investigación Universitaria Multidisciplinaria (MURI) del DoD administrado por la ONR bajo los subsidios N00014-01-1-0795 y N00014-04-1-0725, y de la AFOSR bajo el subsidio F49620-021-0101. 9. REFERENCIAS [1] E. Adar y B. A. Huberman. Viajando gratis en Gnutella. Primer lunes, 5(10), 2000. [2] K. G. Anagnostakis y M. Greenwald. Mecanismos de incentivos basados en intercambio para compartir archivos entre pares. En la Conferencia Internacional sobre Sistemas de Computación Distribuida (ICDCS), páginas 524-533, 2004. [3] BitTorrent Inc. Sitio web de BitTorrent. http://www.bittorent.com. [4] A. Cheng y E. Friedman. Mecanismos de reputación a prueba de Sybil. En Taller sobre Economía de Sistemas Peer-to-Peer (P2PECON), páginas 128-132, 2005. [5] Tecnologías de la Información de Cornell. Estadísticas de uso de Internet de la Universidad de Cornell. http://www.cit.cornell.edu/computer/students/bandwidth/charts.html. [6] J. R. Douceur. El ataque de la sibila. En el Taller Internacional de Sistemas Peer-to-Peer (IPTPS), páginas 251-260, 2002. [7] G. Ellison. Cooperación en el dilema del prisionero con emparejamiento aleatorio anónimo. Revisión de Estudios Económicos, 61:567-588, 1994. [8] Proyecto eMule. Sitio web de eMule. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica y J. Chuang. Técnicas de incentivos sólidas para redes peer-to-peer. En la Conferencia ACM sobre Comercio Electrónico (EC), páginas 102-111, 2004. [10] E. J. Friedman y D. C. Parkes. Establecimiento de precios del wifi en Starbucks: problemas en el diseño de mecanismos en línea. En EC 03: Actas de la 4ta Conferencia de la ACM sobre Comercio Electrónico, páginas 240-241. ACM Press, 2003. [11] E. J. Friedman y P. Resnick. El costo social de los seudónimos baratos. Revista de Economía y Estrategia de Gestión, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan y A. Tomkins. Propagación de la confianza y la desconfianza. En la Conferencia sobre la World Wide Web (WWW), páginas 403-412, 2004. [13] M. Gupta, P. Judge y M. H. Ammar. Un sistema de reputación para redes peer-to-peer. En Network and Operating System Support for Digital Audio and Video (NOSSDAV), páginas 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina y J. Pedersen. Detección de spam de enlaces basada en estimación de masa. Informe técnico, Universidad de Stanford, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis y V. Prevelakis. Fileteller: Pagar y recibir pago por almacenamiento de archivos. En Criptografía Financiera, páginas 282-299, 2002. [16] E. T. Jaynes. ¿En qué punto nos encontramos con respecto a la entropía máxima? En R. D. Levine y M. Tribus, editores, El Formalismo de la Entropía Máxima, páginas 15-118. MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, y H. Garcia-Molina. El algoritmo Eigentrust para la gestión de reputación en redes P2P. En la Conferencia sobre la World Wide Web (WWW), páginas 640-651, 2003. [18] M. Kandori. Normas sociales y aplicación comunitaria. Revisión de Estudios Económicos, 59:63-80, 1992. [19] Corporación LogiSense. Sitio web de LogiSense. http://www.logisense.com/tm p2p.html. [20] L. Lovasz y P. Winkler. Mezcla de caminatas aleatorias y otras difusiones en un grafo. En Encuestas en Combinatoria, 1993, Walker (Ed.), Serie de Notas de Conferencias de la London Mathematical Society 187, Cambridge University Press. 1995. [21] Grupo de Tecnología de Código Abierto. Preguntas frecuentes sobre comentarios y moderación en Slashdot. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC. Sitio web de Gnutella. http://www.gnutella.com/. [23] M. L. Puterman. Procesos de Decisión de Markov. Wiley, 1994. [24] SETI@home. \n\nWiley, 1994. [24] SETI@home. Página web de SETI@home. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Sitio web de Kazaa. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar y E. Sirer. Karma: Un marco económico seguro para el intercambio de recursos entre pares. En Taller sobre Economía de Sistemas Peer-to-Peer (P2PECON), 2003. [27] L. Xiong y L. Liu. Construyendo confianza en comunidades electrónicas descentralizadas de pares a pares. En la Conferencia Internacional de Investigación en Comercio Electrónico (ICECR) de 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason y B. V. Roy. Haciendo que los sistemas de reputación basados en vectores propios sean robustos ante la colusión. En Taller sobre Algoritmos y Modelos para el Grafo Web (WAW), páginas 92-104, 2004. 149",
    "original_sentences": [
        "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
        "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
        "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed.",
        "It is shown that by adding a scrip system, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
        "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
        "The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
        "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
        "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
        "Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
        "Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
        "However, the cost of providing service can still be nontrivial.",
        "For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
        "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
        "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
        "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
        "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
        "These heavy users are some of the most expensive customers ISPs have.",
        "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
        "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
        "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
        "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems.",
        "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
        "Some of the P2P networks currently in use have implemented versions of these techniques.",
        "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
        "By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions.",
        "Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
        "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
        "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8].",
        "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
        "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
        "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
        "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
        "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
        "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
        "Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it.",
        "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
        "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
        "However, to avoid penalizing new users, they gave new users an average rating.",
        "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
        "Thus Kazaas reputation system is ineffective.",
        "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
        "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
        "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
        "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
        "However, they have a different set of problems.",
        "Perhaps the most common involve determining the amount of money in the system.",
        "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
        "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
        "A related problem involves handling newcomers.",
        "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
        "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
        "In this paper, we provide a formal model in which to analyze scrip systems.",
        "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
        "This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents.",
        "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
        "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
        "In systems where the goal is to do work, new users can acquire money by performing work.",
        "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
        "The rest of the paper is organized as follows.",
        "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
        "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same threshold strategy.",
        "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy.",
        "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some threshold strategy.",
        "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
        "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
        "We conclude in Section 7. 2.",
        "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative game.",
        "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
        "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
        "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
        "This random-matching model fails to capture some salient aspects of a number of important settings.",
        "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can.",
        "For example, some people may not have the time or resources to satisfy the request.",
        "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
        "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
        "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
        "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
        "Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made.",
        "For example, it is not clear what defection on the part of the requester means.",
        "In our model we try to deal with all these issues.",
        "Suppose that there are n agents.",
        "At each round, an agent is picked uniformly at random to make a request.",
        "Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
        "The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request.",
        "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
        "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
        "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
        "If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
        "The agent that fulfills the request pays a cost of α < 1.",
        "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
        "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite game.",
        "Lastly, we assume that with more players requests come more often.",
        "Thus we assume that the time between rounds is 1/n.",
        "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
        "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
        "We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
        "V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request.",
        "This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
        "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
        "Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i.",
        "It is the discounted total of agent is utility in each round.",
        "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
        "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
        "Take an altruist to be someone who always fulfills requests.",
        "Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
        "Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it.",
        "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
        "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
        "While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others.",
        "For example a naive user of filesharing software with a good connection might well follow this strategy.",
        "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
        "As we have observed, such users seem to exist in some large systems.",
        "Suppose that our system has a altruists.",
        "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
        "Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system.",
        "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
        "Proposition 2.1.",
        "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
        "Proof.",
        "Consider the strategy for a standard player j in the presence of a altruists.",
        "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
        "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
        "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
        "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
        "Then we only need a > 1145.",
        "While this is a large number, it is small relative to the size of a large P2P network.",
        "Current systems all have a pool of users behaving like our altruists.",
        "This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
        "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
        "In some sense, this is not a problem at all.",
        "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
        "Indeed, current P2P network work quite well in terms of distributing content to people.",
        "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
        "Thus, it is worth looking at what can be done to make these systems work in their absence.",
        "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
        "We are interested in equilibria based on a scrip system.",
        "Each time an agent has a request satisfied he must pay the person who satisfied it some amount.",
        "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
        "We denote by M the total amount of money in the system.",
        "We assume that M > 0 (otherwise no one will ever be able to get paid).",
        "In principle, agents are free to adopt a very wide variety of strategies.",
        "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
        "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
        "The class of strategies we are interested in is easy to motivate.",
        "The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more.",
        "On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
        "The natural balance between these two is a threshold strategy.",
        "Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise.",
        "Note that S0 is the strategy where the agent never volunteers.",
        "While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
        "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
        "We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
        "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
        "The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
        "THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
        "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
        "Suppose that everyone plays Sk.",
        "For simplicity, assume that everyone has at most k dollars.",
        "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
        "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
        "If M ≥ kn, no agent will ever be willing to work.",
        "Thus, for the purposes of this section we assume that M < kn.",
        "From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk.",
        "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
        "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
        "If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}.",
        "If there are n agents, then the state of the game can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
        "Since the total amount of money is constant, not all of these states can arise in the game.",
        "For example the state where each player has $0 is impossible to reach in any game with money in the system.",
        "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
        "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
        "It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state.",
        "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
        "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
        "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
        "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
        "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
        "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
        "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
        "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
        "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
        "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
        "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
        "We can in fact completely characterize the distribution d∗ .",
        "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
        "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
        "The statement is correct under a number of senses of close.",
        "For definiteness, we consider the Euclidean distance.",
        "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
        "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
        "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
        "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
        "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
        "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16].",
        "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
        "This fraction clearly goes to 0 as n gets large.",
        "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
        "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
        "Let Pij denote the probability of transitioning from state i to state j.",
        "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
        "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
        "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
        "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution.",
        "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
        "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
        "We then considered how close the distribution stays to the maximum entropy distribution once it has reached it.",
        "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
        "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
        "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
        "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
        "We believe that the actually time needed is O(n).",
        "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
        "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)",
        "This is not true in general.",
        "If δ is small, then agents have no incentive to work.",
        "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
        "With small δ, S0 is the only equilibrium.",
        "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
        "We do this by first showing that, if every other agent is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one).",
        "We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy.",
        "It follows that this tuple of threshold strategies is a Nash equilibrium.",
        "As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a threshold strategy Sk that is a best response for agent i.",
        "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
        "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
        "For a later proof, it will be helpful to have a continuous set of strategies.",
        "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
        "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
        "Theorem 4.1.",
        "Fix a strategy Sγ and an agent i.",
        "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for agent i is Sk .",
        "Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
        "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
        "If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly.",
        "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
        "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
        "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
        "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
        "We remark that there may be best responses that are not threshold strategies.",
        "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy.",
        "Since we know that there is a best response that is a threshold strategy, we can look for a Nash equilibrium in the space of threshold strategies.",
        "Theorem 4.2.",
        "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the game G(n, δ) where all agents play Sγ for some integer γ > 0.",
        "Proof.",
        "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
        "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
        "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
        "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
        "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same threshold strategy.",
        "As we have already observed, one such equilibrium occurs at 0.",
        "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
        "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay.",
        "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
        "Consider k∗ , the smallest k such that k > M/n.",
        "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
        "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
        "This is the desired Nash equilibrium.",
        "This argument also shows us that we cannot in general expect fixed points to be unique.",
        "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
        "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
        "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
        "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
        "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
        "SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n).",
        "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
        "There is a tension between these objectives.",
        "It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases.",
        "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
        "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
        "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
        "Proof.",
        "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
        "Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r.",
        "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
        "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
        "We are currently exploring exactly what the optimal ratio is.",
        "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
        "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system.",
        "This produces the same effect.",
        "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has.",
        "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
        "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
        "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
        "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
        "This gives existing agents no incentive to leave and rejoin as newcomers.",
        "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
        "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
        "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
        "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
        "For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
        "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
        "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
        "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
        "However, we have not yet explored the changes required to implement this change.",
        "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
        "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
        "To get d dollars, his sybils together still have to perform d units of work.",
        "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
        "Nevertheless, there are some less direct ways that an agent could take advantage of sybils.",
        "First, by having more identities he will have a greater probability of getting chosen to make a request.",
        "It is easy to see that this will lead to the agent having higher total utility.",
        "However, this is just an artifact of our model.",
        "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
        "In practice, requests are made to satisfy a desire.",
        "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
        "Having sybils should not increase the need to have a request satisfied.",
        "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
        "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
        "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy.",
        "Intuitively, the need for money is not as critical if money is easier to obtain.",
        "Unlike the first concern, this seems like a real issue.",
        "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
        "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
        "Third, an agent can drive down the cost of fulfilling a request by introducing many sybils.",
        "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
        "Concievably he could alternate between these techniques to magnify the effects of work he does.",
        "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
        "Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
        "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
        "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
        "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
        "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
        "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
        "CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy.",
        "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
        "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
        "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
        "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation.",
        "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
        "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
        "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
        "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
        "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
        "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system.",
        "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
        "This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
        "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
        "There are some similarities between hoarding and altruistic behavior.",
        "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
        "It would be interesting to investigate the extent to which our system is robust against hoarders.",
        "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
        "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
        "There are also a number of implementation issues that would have to be resolved in a real system.",
        "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
        "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
        "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
        "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
        "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
        "Karma suggests several ways to incentivize nodes to perform these duties.",
        "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
        "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
        "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
        "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
        "REFERENCES [1] E. Adar and B.",
        "A. Huberman.",
        "Free riding on Gnutella.",
        "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
        "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
        "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
        "Sybilproof reputation mechanisms.",
        "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
        "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
        "The sybil attack.",
        "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
        "Cooperation in the prisoners dilemma with anonymous random matching.",
        "Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
        "Robust incentive techniques for peer-to-peer networks.",
        "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
        "Pricing wifi at starbucks: issues in online mechanism design.",
        "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
        "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
        "The social cost of cheap pseudonyms.",
        "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
        "Propagation of trust and distrust.",
        "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
        "A reputation system for peer-to-peer networks.",
        "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
        "Link spam detection based on mass estimation.",
        "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
        "Fileteller: Paying and getting paid for file storage.",
        "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
        "Where do we stand on maximum entropy?",
        "In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118.",
        "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
        "The Eigentrust algorithm for reputation management in P2P networks.",
        "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
        "Social norms and community enforcement.",
        "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
        "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
        "Mixing of random walks and other diffusions on a graph.",
        "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
        "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
        "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
        "Markov Decision Processes.",
        "Wiley, 1994. [24] SETI@home.",
        "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
        "Karma: A secure economic framework for peer-to-peer resource sharing.",
        "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
        "Building trust in decentralized peer-to-peer electronic communities.",
        "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
        "Making eigenvector-based reputation systems robust to collusion.",
        "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
    ],
    "translated_text_sentences": [
        "Eficiencia y equilibrios de Nash en un sistema de vales para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación.",
        "Universidad Cornell halpern@cs.cornell.edu Ian Kash Departamento de Ciencias de la Computación.",
        "La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una red P2P.",
        "Se demuestra que al agregar un sistema de script, se puede obtener un mecanismo que admita un equilibrio de Nash razonable que reduzca el comportamiento de aprovechamiento gratuito.",
        "El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el bienestar social) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia.",
        "El trabajo tiene implicaciones para muchos sistemas en línea, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales.",
        "Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; I.2.11 [Inteligencia Artificial]: Inteligencia Artificial Distribuida-Sistemas Multiagente; J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Computadoras y Sociedad]: Comercio Electrónico Términos Generales Economía, Teoría 1.",
        "INTRODUCCIÓN Una característica común de muchos sistemas distribuidos en línea es que los individuos proporcionan servicios entre sí.",
        "Las redes peer-to-peer (P2P) (como Kazaa [25] o BitTorrent [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás.",
        "El hecho de que las personas se presten servicios entre sí generalmente aumenta el bienestar social: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona.",
        "Sin embargo, el costo de brindar el servicio aún puede ser significativo.",
        "Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo.",
        "Por lo tanto, en muchos sistemas existe un fuerte incentivo para convertirse en un \"pasajero gratis\" y beneficiarse del sistema sin contribuir a él.",
        "Este no es simplemente un problema teórico; estudios de la red Gnutella [22] han demostrado que casi el 70 por ciento de los usuarios no comparten archivos y casi el 50 por ciento de las respuestas provienen del 1 por ciento superior de los anfitriones que comparten [1].",
        "Tener relativamente pocos usuarios que proporcionen la mayor parte del servicio crea un punto de centralización; la desaparición de un pequeño porcentaje de usuarios puede afectar enormemente la funcionalidad del sistema.",
        "Además, las tendencias actuales parecen estar llevando a la eliminación de los usuarios altruistas en los que estos sistemas confían.",
        "Estos usuarios intensivos son algunos de los clientes más costosos que tienen los proveedores de servicios de Internet.",
        "Por lo tanto, a medida que la cantidad de tráfico ha aumentado, los proveedores de servicios de Internet han comenzado a buscar formas de reducir este tráfico.",
        "Algunas universidades han comenzado a cobrar a los estudiantes por el uso excesivo de ancho de banda; otras revocan el acceso a la red por ello [5].",
        "Un número de empresas también se han formado cuyo servicio es detectar el uso excesivo de ancho de banda [19].",
        "Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros sistemas en línea distribuidos.",
        "Se ha invertido una cantidad significativa de investigación en el diseño de sistemas de reputación para dar tratamiento preferencial a los usuarios que comparten archivos.",
        "Algunas de las redes P2P actualmente en uso han implementado versiones de estas técnicas.",
        "Sin embargo, estos enfoques tienden a caer en una de dos categorías: o son similares al trueque o se basan en la reputación.",
        "Por \"tipo trueque\", nos referimos a que cada agente basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones.",
        "Quizás el ejemplo más conocido de un sistema similar al trueque es BitTorrent, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual.",
        "Dado que el trueque está restringido a usuarios actualmente interesados en un solo archivo, esto funciona bien para archivos populares, pero tiende a tener problemas para mantener la disponibilidad de los menos populares.",
        "Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el sistema de créditos utilizado por eMule 140 [8].",
        "Cada usuario realiza un seguimiento de su historial de interacciones con otros usuarios y da prioridad a aquellos de los que ha descargado previamente.",
        "Sin embargo, en un sistema grande, la probabilidad de que un par de usuarios elegidos al azar hayan interactuado antes es bastante baja, por lo que este historial de interacciones no será de gran ayuda.",
        "Anagnostakis y Greenwald [2] presentan una versión más sofisticada de este enfoque, pero aún parece sufrir de problemas similares.",
        "Se han realizado varios intentos de proporcionar sistemas de reputación generales (por ejemplo, [12, 13, 17, 27]).",
        "La idea básica es agregar la experiencia de cada usuario en un número global para cada individuo que represente de manera intuitiva la visión del sistema sobre la reputación de ese individuo.",
        "Sin embargo, estos intentos tienden a sufrir problemas prácticos porque implícitamente consideran a los usuarios como buenos o malos, asumen que los buenos usuarios actuarán de acuerdo con el protocolo especificado, y que hay relativamente pocos usuarios malos.",
        "Desafortunadamente, si existen formas fáciles de manipular el sistema, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen.",
        "No podemos depender solo de unos pocos usuarios siendo malos (en el sentido de no seguir el protocolo prescrito).",
        "Por ejemplo, Kazaa utiliza una medida de la proporción entre el número de cargas y el número de descargas para identificar usuarios buenos y malos.",
        "Sin embargo, para evitar penalizar a los nuevos usuarios, les dieron a los nuevos usuarios una calificación promedio.",
        "Los usuarios descubrieron que podían aprovechar esta calificación relativamente buena para viajar gratis por un tiempo y, una vez que comenzaba a empeorar, podían eliminar su información almacenada y regresar efectivamente como un nuevo usuario, evitando así el sistema (ver [2] para una discusión y [11] para un análisis formal de este lavado de imagen).",
        "Por lo tanto, el sistema de reputación de Kazaas es ineficaz.",
        "Este es un caso simple de una vulnerabilidad más general de tales sistemas a los ataques de sybil [6], donde un solo usuario mantiene múltiples identidades y las utiliza de manera coordinada para obtener un mejor servicio del que obtendría de otra manera.",
        "Trabajos recientes han demostrado que la mayoría de los sistemas de reputación comunes son vulnerables (en el peor de los casos) a tales ataques [4]; sin embargo, el grado de esta vulnerabilidad aún no está claro.",
        "El análisis de las vulnerabilidades prácticas y la existencia de sistemas inmunes a tales ataques sigue siendo un área de investigación activa (por ejemplo, [4, 28, 14]).",
        "Los sistemas económicos simples basados en un vale o dinero parecen evitar muchos de estos problemas, son fáciles de implementar y son bastante populares (ver, por ejemplo, [13, 15, 26]).",
        "Sin embargo, tienen un conjunto diferente de problemas.",
        "Quizás los más comunes implican determinar la cantidad de dinero en el sistema.",
        "Hablando en términos generales, si hay muy poco dinero en el sistema en relación con el número de agentes, entonces relativamente pocos usuarios pueden permitirse hacer solicitudes.",
        "Por otro lado, si hay demasiado dinero, entonces los usuarios no sentirán la necesidad de responder a una solicitud; ya tienen suficiente dinero.",
        "Un problema relacionado implica manejar a los recién llegados.",
        "Si a los recién llegados se les da una cantidad positiva de dinero, entonces el sistema está abierto a ataques de Sybil.",
        "Quizás no sorprendentemente, los sistemas de moneda fiduciaria terminan teniendo que lidiar con problemas económicos estándar como la inflación, las burbujas y las crisis [26].",
        "En este artículo, proporcionamos un modelo formal en el cual analizar sistemas de escritura.",
        "Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero).",
        "Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (bienestar social), dado el número de agentes.",
        "También conduce a una solución para el problema de tratar con los recién llegados: simplemente asumimos que los nuevos usuarios llegan sin dinero, y ajustamos el precio del servicio (lo cual es equivalente a ajustar la oferta de dinero) para mantener la proporción que maximiza la eficiencia.",
        "Si bien asumir que los nuevos usuarios no tienen dinero no funcionará en todos los contextos, creemos que este enfoque será ampliamente aplicable.",
        "En sistemas donde el objetivo es realizar trabajo, los nuevos usuarios pueden adquirir dinero realizando trabajo.",
        "También debería funcionar en el sistema Kazaalike donde un usuario puede ingresar con algunos recursos (por ejemplo, una colección privada de MP3).",
        "El resto del documento está organizado de la siguiente manera.",
        "En la Sección 2, presentamos nuestro modelo formal y observamos que se puede utilizar para comprender el efecto de los altruistas.",
        "En la Sección 3, examinamos qué sucede en el juego bajo un juego no estratégico, si todos los agentes utilizan la misma estrategia de umbral.",
        "Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la entropía máxima.",
        "Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el juego donde todos los agentes utilizan alguna estrategia de umbral.",
        "Además, mostramos en la Sección 5 que el análisis conduce a una comprensión de cómo elegir la cantidad de dinero en el sistema (o, de manera equivalente, el costo para cumplir una solicitud) para maximizar la eficiencia, y también muestra cómo manejar a los nuevos usuarios.",
        "En la Sección 6, discutimos en qué medida nuestro enfoque puede manejar sybils y colusión.",
        "Concluimos en la Sección 7.2.",
        "EL MODELO Para empezar, formalizamos la prestación de servicios en una red P2P como un juego no cooperativo.",
        "A diferencia de gran parte de la modelización en esta área, nuestro modelo modelará las interacciones asimétricas en un sistema de intercambio de archivos en el que el emparejamiento de jugadores (aquellos que solicitan un archivo con aquellos que tienen ese archivo en particular) es una parte clave del sistema.",
        "Esto contrasta con gran parte de trabajos anteriores que utilizan emparejamiento aleatorio en un dilema del prisionero.",
        "Tales modelos fueron estudiados en la literatura económica [18, 7] y aplicados por primera vez a reputaciones en línea en [11]; una aplicación a P2P se encuentra en [9].",
        "Este modelo de emparejamiento aleatorio no logra capturar algunos aspectos relevantes de varios entornos importantes.",
        "Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una red P2P grande), pero no todas pueden hacerlo.",
        "Por ejemplo, algunas personas pueden no tener el tiempo o los recursos para satisfacer la solicitud.",
        "El proceso de emparejamiento aleatorio ignora el hecho de que algunas personas pueden no ser capaces de satisfacer la solicitud.",
        "Presumiblemente, si la persona emparejada con el solicitante no pudiera satisfacer el emparejamiento, tendría que desertar.",
        "Además, no captura el hecho de que la decisión de si voluntariarse para satisfacer la solicitud debe tomarse antes del proceso de emparejamiento, no después.",
        "Es decir, el proceso de emparejamiento no captura el hecho de que si alguien no está dispuesto a satisfacer la solicitud, sin duda habrá otros que puedan hacerlo. Aunque nos referimos a nuestra unidad de moneda como el dólar, estos no son dólares reales ni los consideramos convertibles en dólares.",
        "Finalmente, las acciones y recompensas en el juego del dilema del prisionero no corresponden claramente a las decisiones reales que se pueden tomar.",
        "Por ejemplo, no está claro qué significa la deserción por parte del solicitante.",
        "En nuestro modelo intentamos abordar todos estos problemas.",
        "Supongamos que hay n agentes.",
        "En cada ronda, se elige de forma aleatoria y uniforme a un agente para hacer una solicitud.",
        "Cada otro agente puede satisfacer esta solicitud con una probabilidad β > 0 en todo momento, independientemente del comportamiento previo.",
        "El término β tiene la intención de capturar la probabilidad de que un agente esté ocupado o no tenga los recursos para cumplir con la solicitud.",
        "Suponer que β es independiente del tiempo no captura la intuición de que no poder cumplir una solicitud en el tiempo t puede estar correlacionado con no poder cumplirla en el tiempo t+1.",
        "Creemos que, en sistemas grandes, deberíamos poder eliminar la suposición de independencia, pero dejamos esto para trabajos futuros.",
        "En cualquier caso, aquellos agentes que sean capaces de satisfacer la solicitud deben elegir si desean o no ofrecerse como voluntarios para satisfacerla.",
        "Si al menos un agente se ofrece como voluntario, el solicitante recibe un beneficio de 1 utilidad (el trabajo se realiza) y uno de los voluntarios es elegido al azar para cumplir con la solicitud.",
        "El agente que cumple con la solicitud paga un costo de α < 1.",
        "Como es habitual en la literatura, asumimos que los agentes descuentan los beneficios futuros por un factor de δ por unidad de tiempo.",
        "Esto captura la intuición de que un util hoy vale más que un util mañana, y nos permite calcular la utilidad total derivada por un agente en un juego infinito.",
        "Por último, asumimos que con más jugadores las solicitudes llegan con más frecuencia.",
        "Por lo tanto, asumimos que el tiempo entre rondas es 1/n.",
        "Esto captura el hecho de que los sistemas que queremos modelar realmente están procesando muchas solicitudes en paralelo, por lo que esperaríamos que el número de solicitudes concurrentes sea proporcional al número de usuarios. Sea G(n, δ, α, β) este juego con n agentes, un factor de descuento de δ, un costo para satisfacer solicitudes de α y una probabilidad de poder satisfacer solicitudes de β.",
        "Cuando los dos últimos parámetros no son relevantes, a veces escribimos G(n, δ).",
        "Utilizamos la siguiente notación a lo largo del documento: • pt denota al agente elegido en la ronda t. • Bt i ∈ {0, 1} denota si el agente i puede satisfacer la solicitud en la ronda t. Bt i = 1 con probabilidad β > 0 y Bt i es independiente de Bt i para todo t = t. • V t i ∈ {0, 1} denota la decisión del agente i sobre si voluntariarse en la ronda t; 1 indica voluntariado.",
        "V t i está determinado por la estrategia del agente. • vt ∈ {j | V t j Bt j = 1} denota al agente elegido para satisfacer la solicitud.",
        "Este agente es elegido de manera uniforme al azar entre aquellos que están dispuestos (V t j = 1) y capaces (Bt j = 1) de satisfacer la solicitud. • ut i denota la utilidad del agente en la ronda t. Un agente estándar es aquel cuya utilidad se determina como se discutió en la introducción; es decir, el agente recibe 2. Para n grande, nuestro modelo converge a uno en el que los jugadores realizan solicitudes en tiempo real, y el tiempo entre las solicitudes de un jugador está distribuido de manera exponencial con media 1.",
        "Además, el tiempo entre las solicitudes atendidas por un único jugador también sigue una distribución exponencial. Una utilidad de 1 para una solicitud cumplida y una utilidad de -α por cumplir una solicitud.",
        "Por lo tanto, si i es un agente estándar, entonces ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 −α si i = vt 0 de lo contrario. • Ui = P∞ t=0 δt/n ut i denota la utilidad total para el agente i.",
        "Es el total descontado de la utilidad del agente en cada ronda.",
        "Ten en cuenta que el factor de descuento efectivo es δ1/n ya que un aumento en n conlleva a una reducción del tiempo entre rondas.",
        "Ahora que tenemos un modelo de cómo hacer y satisfacer solicitudes, lo utilizamos para analizar el comportamiento de no contribuir.",
        "Considera a un altruista como alguien que siempre cumple peticiones.",
        "El agente podría comportarse de manera altruista de manera racional si la función de utilidad del agente tiene la siguiente forma, para algún α > 0: ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 α si i = vt 0 en otro caso.",
        "Por lo tanto, en lugar de sufrir una pérdida de utilidad al satisfacer una solicitud, un agente obtiene utilidad positiva al satisfacerla.",
        "Una función de utilidad de este tipo es una representación razonable del placer que algunas personas obtienen al sentir que son quienes proporcionan la música que todos están tocando.",
        "Para agentes altruistas como estos, jugar la estrategia que establece V t i = 1 para todo t es dominante.",
        "Si bien tener una función de utilidad no estándar podría ser una razón por la cual un agente racional podría usar esta estrategia, ciertamente hay otras razones.",
        "Por ejemplo, un usuario inexperto de software de intercambio de archivos con una buena conexión bien podría seguir esta estrategia.",
        "Todo lo que importa para la siguiente discusión es que hay algunos agentes que utilizan esta estrategia, sea por la razón que sea.",
        "Como hemos observado, parece que existen usuarios de este tipo en algunos sistemas grandes.",
        "Supongamos que nuestro sistema tiene altruistas.",
        "Intuitivamente, si a es moderadamente grande, lograrán satisfacer la mayoría de las solicitudes en el sistema incluso si otros agentes no trabajan.",
        "Por lo tanto, hay poco incentivo para que cualquier otro agente se ofrezca como voluntario, porque ya está obteniendo pleno beneficio al participar en el sistema.",
        "Basándose en esta intuición, es un cálculo relativamente sencillo determinar un valor de a que depende solo de α, β y δ, pero no del número n de jugadores en el sistema, de modo que la estrategia dominante para todos los agentes estándar i sea nunca ofrecerse voluntariamente para satisfacer ninguna solicitud (es decir, V t i = 0 para todo t).",
        "Proposición 2.1.",
        "Existe un a que depende solo de α, β y δ tal que, en G(n, δ, α, β) con al menos a altruistas, no ofrecerse como voluntario en cada ronda es una estrategia dominante para todos los agentes estándar.",
        "Prueba.",
        "Considera la estrategia para un jugador estándar j en presencia de altruistas.",
        "Incluso sin dinero, el jugador j logrará que se satisfaga una solicitud con probabilidad 1 − (1 − β)a solo a través de las acciones de estos altruistas.",
        "Por lo tanto, incluso si j es elegido para hacer una solicitud en cada ronda, la utilidad adicional esperada máxima que puede esperar obtener al tener dinero es P∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
        "Si (1 − β)a /(1 − δ) > α o, equivalentemente, si a > log1−β(α(1 − δ)), nunca ofrecerse como voluntario es una estrategia dominante.",
        "Considera los siguientes valores razonables para nuestros parámetros: β = .01 (para que cada jugador pueda satisfacer el 1% de las solicitudes), α = .1 (un costo bajo pero no despreciable), δ = .9999/día 142 (lo que corresponde a un factor de descuento anual de aproximadamente 0.95), y un promedio de 1 solicitud por día por jugador.",
        "Entonces solo necesitamos un > 1145.",
        "Si bien este es un número grande, es pequeño en comparación con el tamaño de una red P2P grande.",
        "Los sistemas actuales tienen un grupo de usuarios que se comportan como nuestros altruistas.",
        "Esto significa que los intentos de agregar un sistema de reputación encima de un sistema P2P existente para influir en los usuarios a cooperar no tendrán efecto en usuarios racionales.",
        "Para tener una distribución justa del trabajo, estos sistemas deben ser rediseñados fundamentalmente para eliminar el grupo de usuarios altruistas.",
        "En cierto sentido, esto no es un problema en absoluto.",
        "En un sistema con altruistas, los altruistas presumiblemente están felices, al igual que los agentes estándar, quienes ven casi todas sus solicitudes satisfechas sin tener que hacer ningún trabajo.",
        "De hecho, las redes P2P actuales funcionan bastante bien en términos de distribuir contenido a las personas.",
        "Sin embargo, como mencionamos en la introducción, hay razones para creer que estos altruistas podrían no estar presentes para siempre.",
        "Por lo tanto, vale la pena analizar qué se puede hacer para que estos sistemas funcionen en su ausencia.",
        "Para el resto de este documento asumimos que todos los agentes son estándar y tratan de maximizar la utilidad esperada.",
        "Estamos interesados en equilibrios basados en un sistema de vales.",
        "Cada vez que un agente tiene una solicitud satisfecha, debe pagarle a la persona que la satisfizo una cierta cantidad.",
        "Por ahora, asumimos que el pago es fijo; para simplificar, tomamos la cantidad como $1.",
        "Denotamos por M la cantidad total de dinero en el sistema.",
        "Suponemos que M > 0 (de lo contrario, nadie podrá cobrar nunca).",
        "En principio, los agentes son libres de adoptar una amplia variedad de estrategias.",
        "Pueden tomar decisiones basadas en los nombres de otros agentes o utilizar una estrategia que depende en gran medida de la historia, y combinar libremente estas estrategias.",
        "Para ayudar en nuestro análisis, nos gustaría poder restringir nuestra atención a una clase más simple de estrategias.",
        "La clase de estrategias en la que estamos interesados es fácil de motivar.",
        "La razón intuitiva para querer ganar dinero es para atender la posibilidad de que un agente se quede sin antes de tener la oportunidad de ganar más.",
        "Por otro lado, un agente racional con mucho dinero no querría trabajar, porque para cuando haya logrado gastar todo su dinero, la utilidad tendrá menos valor que el costo actual de trabajar.",
        "El equilibrio natural entre estos dos es una estrategia de umbral.",
        "Que Sk sea la estrategia en la que un agente se ofrece como voluntario siempre que tenga menos de k dólares y no lo haga de otra manera.",
        "Ten en cuenta que S0 es la estrategia en la que el agente nunca se ofrece como voluntario.",
        "Si bien todos los que juegan S0 conforman un equilibrio de Nash (nadie puede mejorar al ofrecerse como voluntario si nadie más está dispuesto a hacerlo), es un equilibrio poco interesante.",
        "Como mostraremos en la Sección 4, es suficiente restringir nuestra atención a esta clase de estrategias.",
        "Usamos Kt i para denotar la cantidad de dinero que el agente i tiene en el tiempo t. Claramente Kt+1 i = Kt i a menos que el agente i tenga una solicitud satisfecha, en cuyo caso Kt+1 i = Kt+1 i − 1 o el agente i cumple una solicitud, en cuyo caso Kt+1 i = Kt+1 i + 1.",
        "Formalmente, Kt+1 i = 8 < : Kt i − 1 si i = pt , P j=i V t j Bt j > 0, y Kt i > 0 Kt i + 1 si i = vt y Kt pt > 0 Kt i en otro caso.",
        "La estrategia de umbral Sk es la estrategia tal que V t i = 1 si Kt pt > 0 y Kt i < k, 0 en caso contrario.",
        "EL JUEGO BAJO JUEGO NO ESTRATÉGICO Antes de considerar el juego estratégico, examinamos qué sucede en el sistema si todos juegan simplemente la misma estrategia Sk.",
        "Nuestro objetivo general es demostrar que existe una distribución de dinero (es decir, la fracción de personas con cada cantidad de dinero) tal que el sistema converge a esta distribución en un sentido que se precisará en breve.",
        "Supongamos que todos juegan Sk.",
        "Para simplificar, asumamos que todos tienen a lo sumo k dólares.",
        "Podemos hacer esta suposición prácticamente sin pérdida de generalidad, ya que si alguien tiene más de k dólares, simplemente gastará dinero hasta tener como máximo k dólares.",
        "Después de este punto, nunca adquirirá más que k. Por lo tanto, eventualmente el sistema estará en tal estado.",
        "Si M ≥ kn, ningún agente estará dispuesto a trabajar.",
        "Por lo tanto, para los propósitos de esta sección asumimos que M < kn.",
        "Desde la perspectiva de un solo agente, en equilibrio (estocástico), el agente está experimentando un paseo aleatorio.",
        "Sin embargo, los parámetros de esta caminata aleatoria dependen de las caminatas aleatorias de los otros agentes y es bastante complicado resolverlo directamente.",
        "Por lo tanto, consideramos un análisis alternativo basado en la evolución del sistema en su conjunto.",
        "Si todos tienen a lo sumo k dólares, entonces la cantidad de dinero que tiene un agente es un elemento de {0, . . . , k}.",
        "Si hay n agentes, entonces el estado del juego puede ser descrito identificando cuánto dinero tiene cada agente, por lo que podemos representarlo mediante un elemento de Sk,n = {0, . . . , k}{1,...,n}.",
        "Dado que la cantidad total de dinero es constante, no todos estos estados pueden surgir en el juego.",
        "Por ejemplo, el estado en el que cada jugador tiene $0 es imposible de alcanzar en cualquier juego con dinero en el sistema.",
        "Sea mS(s) = P i∈{1...n} s(i) el monto total de dinero en el juego en el estado s, donde s(i) es la cantidad de dólares que el agente i tiene en el estado s. Queremos considerar solo aquellos estados donde el dinero total en el sistema es M, es decir, Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
        "Bajo el supuesto de que todos los agentes utilizan la estrategia Sk, la evolución del sistema puede ser tratada como una cadena de Markov Mk,n,M sobre el espacio de estados Sk,n,M.",
        "Es posible pasar de un estado a otro en una sola ronda si al elegir a un agente en particular para hacer una solicitud y a otro agente en particular para satisfacerla, las cantidades de dinero poseídas por cada agente se convierten en las del segundo estado.",
        "Por lo tanto, la probabilidad de una transición de un estado s a t es 0 a menos que existan dos agentes i y j tales que s(i) = t(i) para todos los i /∈ {i, j}, t(i) = s(i) + 1, y t(j) = s(j) − 1.",
        "En este caso, la probabilidad de transición de s a t es la probabilidad de que j sea elegido para gastar un dólar y tenga a alguien dispuesto y capaz de satisfacer su solicitud ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplicado por la probabilidad de que i sea elegido para satisfacer su solicitud (1/(|({i | s(i ) = k}| − Ij ).",
        "Ij es 0 si j tiene k dólares y 1 en caso contrario (es solo una corrección por el hecho de que j no puede satisfacer su propia solicitud).",
        "Sea ∆k el conjunto de distribuciones de probabilidad en {0, . . . , k}.",
        "Podemos pensar en un elemento de ∆k como la descripción de la fracción de personas con cada cantidad de dinero.",
        "Esta es una forma útil de ver el sistema, ya que normalmente no nos importa quién tiene cada cantidad de dinero, sino simplemente la fracción de personas que tienen cada cantidad.",
        "Como antes, no todos los elementos de ∆k son posibles, dada nuestra restricción de que la cantidad total de dinero es M. En lugar de pensar en términos de la cantidad total de dinero en el sistema, resultará más útil pensar en términos del monto promedio de dinero que tiene cada jugador.",
        "Por supuesto, la cantidad total de dinero en un sistema con n agentes es M si y solo si la cantidad promedio que cada jugador tiene es m = M/n.",
        "Sea ∆k m el conjunto de todas las distribuciones d ∈ ∆k tales que E(d) = m (es decir, Pk j=0 d(j)j = m).",
        "Dado un estado s ∈ Sk,n,M, sea ds ∈ ∆k m la distribución de dinero en s. Nuestro objetivo es demostrar que, si n es grande, entonces existe una distribución d∗ ∈ ∆k m tal que, con alta probabilidad, la cadena de Markov Mk,n,M estará casi siempre en un estado s tal que ds esté cerca de d∗.",
        "Por lo tanto, los agentes pueden basar sus decisiones sobre qué estrategia usar en la suposición de que estarán en ese estado.",
        "De hecho, podemos caracterizar completamente la distribución d∗.",
        "Dada una distribución d ∈ ∆k , sea H(d) = − X {j:d(j)=0} d(j) log(d(j)) la entropía de d. Si ∆ es un conjunto convexo cerrado de distribuciones, entonces es bien sabido que hay una distribución única en ∆ en la que la función de entropía alcanza su valor máximo en ∆.",
        "Dado que ∆k m se ve fácilmente como un conjunto convexo cerrado de distribuciones, se sigue que hay una distribución única en ∆k m que denotamos como d∗ k,m cuya entropía es mayor que la de todas las demás distribuciones en ∆k m. Ahora mostramos que, para n suficientemente grande, la cadena de Markov Mk,n,M está casi seguramente en un estado s tal que ds está cerca de d∗ k,M/n.",
        "La afirmación es correcta en varios sentidos de cercanía.",
        "Para mayor claridad, consideramos la distancia euclidiana.",
        "Dado > 0, sea Sk,n,m el conjunto de estados s en Sk,n,mn tal que Pk j=0 |ds (j) − d∗ k,m|2 < .",
        "Dada una cadena de Markov M sobre un espacio de estados S y S ⊆ S, sea Xt,s,S la variable aleatoria que denota que M se encuentra en un estado de S en el tiempo t, cuando se inicia en el estado s. Teorema 3.1.",
        "Para todo ε > 0, todo k y todo m, existe un n tal que para todo n > n y todos los estados s ∈ Sk,n,mn, existe un tiempo t∗ (que puede depender de k, n, m y ) tal que para t > t∗, tenemos que Pr(Xt,s,Sk,n,m, ) > 1 − .",
        "Prueba. (Bosquejo) Supongamos que en algún momento t, Pr(Xt,s,s) es uniforme para todos los s.",
        "Entonces, la probabilidad de estar en un conjunto de estados es simplemente el tamaño del conjunto dividido por el número total de estados.",
        "Una técnica estándar de la mecánica estadística es demostrar que hay un fenómeno de concentración alrededor de la distribución de entropía máxima [16].",
        "Más precisamente, utilizando un argumento combinatorio directo, se puede demostrar que la fracción de estados que no están en Sk,n,m está acotada por p(n)/ecn, donde p es un polinomio.",
        "Esta fracción claramente tiende a 0 a medida que n crece.",
        "Por lo tanto, para n suficientemente grande, Pr(Xt,s,Sk,n,m, ) > 1 − si Pr(Xt,s,s ) es uniforme.",
        "Es relativamente sencillo demostrar que nuestra Cadena de Markov tiene una distribución límite π sobre Sk,n,mn, tal que para todo s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs.",
        "Que Pij denote la probabilidad de transición del estado i al estado j.",
        "Es fácil verificar mediante un cálculo explícito de las probabilidades de transición que Pij = Pji para todos los estados i y j.",
        "Se sigue inmediatamente de esta simetría que πs = πs, por lo que π es uniforme.",
        "Después de un tiempo suficiente, la distribución estará lo suficientemente cerca de π, de modo que las probabilidades vuelven a estar limitadas por una constante, lo cual es suficiente para completar el teorema. Realizamos una serie de experimentos que muestran que el comportamiento de máxima entropía descrito en el Teorema 3.1 surge rápidamente para valores bastante prácticos de n y t. El primer experimento mostró que, incluso si n = 1000, alcanzamos rápidamente la distribución de máxima entropía.",
        "Promediamos 10 ejecuciones de la cadena de Markov para k = 5 donde hay suficiente dinero para que cada agente tenga $2 comenzando desde una distribución muy extrema (cada agente tiene $0 o $5) y consideramos el tiempo promedio necesario para acercarse a varias distancias de la distribución de entropía máxima.",
        "Como muestra la Figura 1, después de 2,000 pasos, en promedio, la distancia euclidiana desde la distribución promedio del dinero hasta la distribución de máxima entropía es de .008; después de 3,000 pasos, la distancia disminuye a .001.",
        "Ten en cuenta que esto realmente solo son 3 unidades de tiempo reales, ya que con 1000 jugadores tenemos 1000 transacciones por unidad de tiempo.",
        "Luego consideramos qué tan cerca se mantiene la distribución de la entropía máxima una vez que la ha alcanzado.",
        "Para simplificar las cosas, comenzamos el sistema en un estado cuya distribución estaba muy cerca de la distribución de máxima entropía y lo ejecutamos durante 106 pasos, para varios valores de n. Como muestra la Figura 2, el sistema no se aleja mucho de la distribución de máxima entropía una vez que está allí.",
        "Por ejemplo, si n = 5000, el sistema nunca está a más de una distancia de .001 de la distribución de máxima entropía; si n = 25,000, nunca está a más de .0002 de la distribución de máxima entropía.",
        "Finalmente, consideramos con más cuidado cómo rápidamente el sistema converge a la distribución de máxima entropía para varios valores de n. Hay aproximadamente kn estados posibles, por lo que el tiempo de convergencia podría ser bastante largo en principio.",
        "Sin embargo, sospechamos que la cadena de Markov que surge aquí se mezcla rápidamente, lo que significa que convergerá significativamente más rápido (ver [20] para más detalles sobre la mezcla rápida).",
        "Creemos que el tiempo necesario en realidad es O(n).",
        "Este comportamiento se ilustra en la Figura 3, que muestra que para nuestra cadena de ejemplo (nuevamente promediada en 10 ejecuciones), después de 3n pasos, la distancia euclidiana entre la distribución real del dinero en el sistema y la distribución de máxima entropía es menor que .001.",
        "EL JUEGO BAJO JUGADA ESTRATÉGICA Hemos visto que el sistema se comporta bien si los agentes siguen todos una estrategia de umbral; ahora queremos demostrar que existe un equilibrio de Nash no trivial donde lo hacen (es decir, un equilibrio de Nash donde todos los agentes usan Sk para algún k > 0).",
        "Esto no es cierto en general.",
        "Si δ es pequeño, entonces los agentes no tienen incentivo para trabajar.",
        "Intuitivamente, si la utilidad futura está suficientemente descontada, entonces todo lo que importa es el presente, y no tiene sentido ofrecerse como voluntario para trabajar.",
        "Con un δ pequeño, S0 es el único equilibrio.",
        "Sin embargo, demostramos que para δ suficientemente grande, hay otro equilibrio en estrategias de umbral.",
        "Lo hacemos primero demostrando que, si cada otro agente está jugando una estrategia de umbral, entonces hay una mejor respuesta que también es una estrategia de umbral (aunque no necesariamente la misma).",
        "Luego demostramos que debe existir alguna estrategia de umbral (mixta) para la cual esta mejor respuesta sea la misma estrategia.",
        "Se deduce que este conjunto de estrategias de umbral es un equilibrio de Nash.",
        "Como primer paso, demostramos que, para todo k, si todos excepto el agente i están jugando Sk, entonces hay una estrategia de umbral Sk que es la mejor respuesta para el agente i.",
        "Para demostrar esto, necesitamos asumir que el sistema está cerca de la distribución de estado estacionario (es decir, la distribución de máxima entropía).",
        "Sin embargo, siempre y cuando δ esté suficientemente cerca de 1, podemos ignorar lo que sucede durante el período en el que el sistema no está en estado estacionario. Hasta ahora hemos considerado estrategias de umbral de la forma Sk, donde k es un número natural; este es un conjunto discreto de estrategias.",
        "Para una futura demostración, será útil contar con un conjunto continuo de estrategias.",
        "Si γ = k + γ, donde k es un número natural y 0 ≤ γ < 1, sea Sγ la estrategia que realiza Sk con probabilidad 1 − γ y Sk+1 con probabilidad γ. (Nótese que aquí no estamos considerando estrategias de umbral mixtas arbitrarias, sino simplemente mezclando entre estrategias adyacentes con el único propósito de hacer que las estrategias sean continuas de una manera natural).",
        "El Teorema 3.1 se aplica a las estrategias Sγ (la misma prueba se realiza sin cambios), donde γ es un número real no negativo arbitrario.",
        "Teorema 4.1.",
        "Fije una estrategia Sγ y un agente i.",
        "Existe δ∗ < 1 y n∗ tal que si δ > δ∗ , n > n∗ , y cada agente que no sea i está jugando Sγ en el juego G(n, δ), entonces existe un entero k tal que la mejor respuesta para el agente i es Sk.",
        "Ya sea que k sea único (es decir, haya una única mejor respuesta que también sea una estrategia de umbral), o existe un entero k tal que Sγ sea una mejor respuesta para el agente i para todos los γ en el intervalo [k, k + 1] (y estas son las únicas mejores respuestas entre las estrategias de umbral).",
        "Prueba. (Bosquejo:) Si δ es suficientemente grande, podemos ignorar lo que sucede antes de que el sistema converja a la distribución de entropía máxima.",
        "Si n es suficientemente grande, entonces la estrategia jugada por un agente no afectará significativamente la distribución del dinero.",
        "Por lo tanto, la probabilidad de que i se mueva de un estado (cantidad de dinero) a otro depende únicamente de su estrategia (ya que podemos considerar que la probabilidad de que i sea elegido para hacer una solicitud y la probabilidad de que i sea elegido para satisfacer una solicitud son constantes).",
        "Por lo tanto, desde su punto de vista, el sistema es un proceso de decisión de Markov (MDP), y necesita calcular la política óptima (estrategia) para este MDP.",
        "Se desprende de los resultados estándar [23, Teorema 6.11.6] que existe una política óptima que es una política de umbral.",
        "El argumento de que la mejor respuesta es única o que existe un intervalo de mejores respuestas se desprende de un análisis más detallado de la función de valor para el MDP.",
        "Observamos que puede haber mejores respuestas que no son estrategias de umbral.",
        "Todo lo que el Teorema 4.1 muestra es que, entre las mejores respuestas, hay al menos una que es una estrategia de umbral.",
        "Dado que sabemos que hay una mejor respuesta que es una estrategia de umbral, podemos buscar un equilibrio de Nash en el espacio de estrategias de umbral.",
        "Teorema 4.2.",
        "Para todo M, existe δ∗ < 1 y n∗ tal que si δ > δ∗ y n > n∗, existe un equilibrio de Nash en el juego G(n, δ) donde todos los agentes juegan Sγ para algún entero γ > 0.",
        "Prueba.",
        "Se sigue fácilmente de la prueba del Teorema 4.1 que si br(δ, γ) es la estrategia umbral de mejor respuesta mínima si todos los demás agentes están jugando Sγ y el factor de descuento es δ, entonces, para δ fijo, br(δ, ·) es una función escalonada.",
        "También se sigue 3 Formalmente, necesitamos definir las estrategias cuando el sistema está lejos del equilibrio.",
        "Sin embargo, estas estrategias lejos del equilibrio (estocástico) no afectarán el comportamiento de equilibrio cuando n sea grande y las desviaciones del equilibrio estocástico sean extremadamente raras. 145 del teorema que si hay dos mejores respuestas, entonces una mezcla de ellas también es una mejor respuesta.",
        "Por lo tanto, si podemos unir los pasos con una línea vertical, obtenemos una curva de mejor respuesta.",
        "Es fácil ver que en todos los puntos donde esta curva de mejor respuesta cruza la diagonal y = x se define un equilibrio de Nash donde todos los agentes están utilizando la misma estrategia de umbral.",
        "Como ya hemos observado, uno de estos equilibrios ocurre en 0.",
        "Si solo hay $M en el sistema, podemos restringirnos a estrategias de umbral Sk donde k ≤ M + 1.",
        "Dado que nadie puede tener más de $M, todas las estrategias Sk para k > M son equivalentes a SM; estas son simplemente las estrategias en las que el agente siempre se ofrece como voluntario en respuesta a una solicitud hecha por alguien que puede pagar.",
        "Claramente br(δ, SM) ≤ M para todo δ, por lo que la función de mejor respuesta está en o por debajo del equilibrio en M. Si k ≤ M/n, cada jugador tendrá al menos k dólares y por lo tanto no estará dispuesto a trabajar, siendo la mejor respuesta simplemente 0.",
        "Considera k∗, el menor k tal que k > M/n.",
        "No es difícil demostrar que para k∗ existe un δ∗ tal que para todo δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
        "Se sigue por continuidad que si δ ≥ δ∗, debe existir algún γ tal que br(δ, γ) = γ.",
        "Este es el equilibrio de Nash deseado.",
        "Este argumento también nos muestra que no podemos esperar en general que los puntos fijos sean únicos.",
        "Si br(δ, k∗ ) = k∗ y br(δ, k + 1) > k + 1 entonces nuestro argumento muestra que debe haber un segundo punto fijo.",
        "En general, puede haber múltiples puntos fijos incluso cuando br(δ, k∗ ) > k∗ , como se ilustra en la Figura 4 con n = 1000 y M = 3000. 0 5 10 15 20 25 Estrategia del Resto de Agentes 0 5 10 15 20 25 Mejor Respuesta Figura 4: La función de mejor respuesta para n = 1000 y M = 3000.",
        "El Teorema 4.2 nos permite restringir nuestro diseño a agentes que utilizan estrategias de umbral con la confianza de que habrá un equilibrio no trivial.",
        "Sin embargo, esto no descarta la posibilidad de que pueda haber otros equilibrios que no involucren estrategias de umbral.",
        "Es incluso posible (aunque parece improbable) que algunos de estos equilibrios puedan ser mejores. 5.",
        "BIENESTAR SOCIAL Y ESCALABILIDAD Nuestros teoremas muestran que para cada valor de M y n, para un δ suficientemente grande, existe un equilibrio de Nash no trivial donde todos los agentes utilizan alguna estrategia de umbral Sγ(M,n).",
        "Desde el punto de vista del diseñador del sistema, no todos los equilibrios son igualmente buenos; queremos un equilibrio en el que el menor número posible de agentes tengan $0 cuando tengan la oportunidad de hacer una solicitud (para que puedan pagar la solicitud) y relativamente pocos agentes tengan más del monto umbral de dinero (para que siempre haya suficientes agentes para cumplir con la solicitud).",
        "Existe una tensión entre estos objetivos.",
        "No es difícil demostrar que a medida que la fracción de agentes con $0 aumenta en la distribución de entropía máxima, la fracción de agentes con la cantidad máxima de dinero disminuye.",
        "Por lo tanto, nuestro objetivo es entender cuál debería ser la cantidad óptima de dinero en el sistema, dada la cantidad de agentes.",
        "Es decir, queremos conocer la cantidad de dinero M que maximiza la eficiencia, es decir, la utilidad total esperada si todos los agentes utilizan Sγ(M,n). Primero observamos que el equilibrio más eficiente depende solo de la proporción de M a n, no de los valores reales de M y n. Teorema 5.1.",
        "Existe un n∗ tal que para todos los juegos G(n1, δ) y G(n2, δ) donde n1, n2 > n∗, si M1/n1 = M2/n2, entonces Sγ(M1,n1) = Sγ(M2,n2).",
        "Prueba.",
        "El teorema 3.1 muestra que la distribución de máxima entropía depende solo de k y la razón M/n, no de M y n por separado.",
        "Por lo tanto, dado r, para cada elección de k, hay una distribución única de entropía máxima dk,r.",
        "La mejor respuesta br(δ, k) depende solo de la distribución dk,r, no de M o n. Por lo tanto, el equilibrio de Nash depende solo de la proporción r. Es decir, para todas las elecciones de M y n tales que n es suficientemente grande (para que se aplique el Teorema 3.1) y M/n = r, las estrategias de equilibrio son las mismas.",
        "A la luz del Teorema 5.1, el diseñador del sistema debe asegurarse de que haya suficiente dinero M en el sistema para que la proporción entre M/n sea óptima.",
        "Actualmente estamos explorando exactamente cuál es la proporción óptima.",
        "Como muestran nuestros resultados muy preliminares para β = 1 en la Figura 5, la proporción parece aumentar de forma monótona en δ, lo cual coincide con la intuición de que deberíamos brindar a los agentes más pacientes la oportunidad de ahorrar más dinero.",
        "Además, parece ser relativamente suave, lo que sugiere que puede tener una solución analítica agradable. 0.9 0.91 0.92 0.93 0.94 0.95 Tasa de descuento ∆ 5 5.5 6 6.5 7 Proporción óptima de Mn Figura 5: Cantidad promedio óptima de dinero al número más cercano .25 para β = 1 Se destaca que, en la práctica, puede ser más fácil para el diseñador variar el precio de cumplir una solicitud en lugar de 4 Si hay múltiples equilibrios, tomamos Sγ(M,n) como el equilibrio de Nash que tiene la mayor eficiencia para M y n fijos. 146 inyectar dinero en el sistema.",
        "Esto produce el mismo efecto.",
        "Por ejemplo, cambiar el costo de cumplir una solicitud de $1 a $2 es equivalente a reducir a la mitad la cantidad de dinero que tiene cada agente.",
        "De manera similar, reducir a la mitad el costo de cumplir una solicitud es equivalente a duplicar la cantidad de dinero que todos tienen.",
        "Con una cantidad fija de dinero M, existe un producto óptimo nc del número de agentes y el costo c de cumplir una solicitud.",
        "El Teorema 5.1 también nos dice cómo manejar un grupo dinámico de agentes.",
        "Nuestro sistema puede manejar a los recién llegados relativamente fácilmente: simplemente permítales unirse sin dinero.",
        "Esto no brinda ningún incentivo a los agentes existentes para salir y volver a unirse como recién llegados.",
        "Luego cambiamos el precio de cumplir una solicitud para que se mantenga la proporción óptima.",
        "Este método tiene la característica interesante de que puede implementarse de forma distribuida; si todos los nodos en el sistema tienen una buena estimación de n, entonces todos pueden ajustar los precios automáticamente. (Alternativamente, el número de agentes en el sistema puede ser publicado en un lugar público).",
        "Los enfoques que dependen de ajustar la cantidad de dinero pueden requerir costosos cálculos a nivel de sistema (ver [26] para un ejemplo) y deben ser cuidadosamente ajustados para evitar crear incentivos para que los agentes manipulen el sistema mediante el cual se realiza esto.",
        "Ten en cuenta que, en principio, la realización de que el costo de cumplir una solicitud puede cambiar puede afectar la estrategia de un agente.",
        "Por ejemplo, si un agente espera que el costo aumente, entonces puede querer posponer ofrecerse como voluntario para cumplir con una solicitud.",
        "Sin embargo, si el número de agentes en el sistema siempre está aumentando, entonces el costo siempre disminuye, por lo que nunca hay ninguna ventaja en esperar.",
        "Puede haber una ventaja en retrasar una solicitud, pero es mucho más costoso en términos de costos de espera que en proporcionar el servicio, ya que asumimos que la necesidad de un servicio a menudo está sujeta a costos reales de espera, mientras que la necesidad de suministrar el servicio es simplemente aumentar el suministro de dinero. (Se discuten temas relacionados en [10].)",
        "Finalmente, esperamos modificar el mecanismo para que el precio de un trabajo pueda establecerse de forma endógena dentro del sistema (como en las economías del mundo real), con agentes pujando por trabajos en lugar de que exista un costo fijo establecido externamente.",
        "Sin embargo, aún no hemos explorado los cambios necesarios para implementar este cambio.",
        "Por lo tanto, por ahora, asumimos que el costo se establece como una función del número de agentes en el sistema (y que no hay posibilidad de que los agentes satisfagan una solicitud por menos del costo oficial o de que los solicitantes ofrezcan pagar más). 6.",
        "SIBILAS Y COLUSIÓN En un sentido ingenuo, nuestro sistema es esencialmente a prueba de sibilas.",
        "Para obtener d dólares, sus sibilas juntas todavía tienen que realizar d unidades de trabajo.",
        "Además, dado que los recién llegados ingresan al sistema con $0, no hay beneficio en crear nuevos agentes simplemente para aprovechar un dotación inicial.",
        "Sin embargo, existen algunas formas menos directas en las que un agente podría aprovecharse de los sybils.",
        "Primero, al tener más identidades, tendrá una mayor probabilidad de ser elegido para hacer una solicitud.",
        "Es fácil ver que esto llevará a que el agente tenga una mayor utilidad total.",
        "Sin embargo, esto es solo un artefacto de nuestro modelo.",
        "Para simplificar el análisis de nuestro sistema, hemos asumido que las oportunidades de solicitud llegaron de manera uniforme al azar.",
        "En la práctica, se hacen peticiones para satisfacer un deseo.",
        "Nuestro modelo asumió implícitamente que todos los agentes tienen la misma probabilidad de tener un deseo en un momento particular.",
        "Tener sibilas no debería aumentar la necesidad de que se satisfaga una solicitud.",
        "De hecho, sería razonable asumir que las sibilas no hacen solicitudes en absoluto.",
        "En segundo lugar, tener sibilas hace más probable que una de las sibilas sea elegida para cumplir una petición.",
        "Esto puede permitir a un usuario aumentar su utilidad al establecer un umbral más bajo; es decir, al usar una estrategia Sk donde k es menor que el k utilizado por la estrategia de equilibrio de Nash.",
        "Intuitivamente, la necesidad de dinero no es tan crítica si el dinero es más fácil de obtener.",
        "A diferencia de la primera preocupación, esto parece ser un problema real.",
        "Parece razonable creer que cuando las personas toman una decisión entre varios nodos para satisfacer una solicitud lo hacen de forma aleatoria, al menos en cierta medida.",
        "Aunque busquen las características de los nodos anunciadas para ayudar a tomar esta decisión, los sybils permitirían a un usuario anunciar una amplia gama de características.",
        "Tercero, un agente puede reducir el costo de cumplir una solicitud al introducir muchos síbiles.",
        "Del mismo modo, podría aumentar el costo (y por ende el valor de su dinero) al hacer que un número de sibilas salgan del sistema.",
        "Concebiblemente podría alternar entre estas técnicas para magnificar los efectos del trabajo que realiza.",
        "Todavía no hemos calculado el efecto exacto de este cambio (interactúa con los otros dos efectos de tener sibilas que ya hemos notado).",
        "Dado el número de síbiles que serían necesarios para causar un cambio real en el tamaño percibido de una gran red P2P, la viabilidad de este ataque depende en gran medida de cuánto cuestan los síbiles a un atacante y qué recursos tiene disponibles.",
        "El segundo punto planteado sobre las sibilas también se aplica a la colusión si permitimos que se preste dinero.",
        "Si k agentes coluden, pueden acordar que, si uno se queda sin dinero, otro en el grupo le prestará dinero.",
        "Al juntar su dinero de esta manera, los agentes k pueden volver a mejorar al establecer un umbral más alto.",
        "Ten en cuenta que el mecanismo de préstamo no necesita estar integrado en el sistema; los agentes pueden simplemente utilizar una transacción falsa para transferir el dinero.",
        "Estos parecen ser los principales métodos para ataques colusivos, pero aún estamos explorando este tema. 7.",
        "CONCLUSIÓN Hemos realizado un análisis formal de un sistema de escritura y hemos demostrado que existe un equilibrio de Nash donde todos los agentes utilizan una estrategia de umbral.",
        "Además, podemos calcular la eficiencia de la estrategia de equilibrio y optimizar el precio (o la oferta monetaria) para maximizar la eficiencia.",
        "Por lo tanto, nuestro análisis proporciona un mecanismo formal para resolver algunos problemas importantes en la implementación de sistemas de guiones.",
        "Nos dice que con una población fija de usuarios racionales, es muy poco probable que dichos sistemas se vuelvan inestables.",
        "Por lo tanto, si esta estabilidad es una creencia común entre los agentes, no esperaríamos inflación, burbujas ni colapsos debido a la especulación de los agentes.",
        "Sin embargo, no podemos descartar la posibilidad de que esos agentes tengan otras creencias que los lleven a especular.",
        "Nuestro análisis también nos indica cómo escalar el sistema para manejar una afluencia de nuevos usuarios sin introducir estos problemas: escalar la oferta monetaria para mantener constante la cantidad promedio de dinero (o ajustar los precios de manera equivalente para lograr el mismo objetivo).",
        "Hay una serie de problemas teóricos que aún están abiertos, incluida una caracterización de la multiplicidad de equilibrios, ¿suelen ser 2?",
        "Además, esperamos que uno pueda calcular estimaciones analíticas para la función de mejor respuesta y la fijación de precios óptima, lo que nos permitiría comprender la relación entre los precios y varios parámetros en el modelo. También sería de gran interés ampliar nuestro análisis para abordar configuraciones más realistas.",
        "Mencionamos algunas posibles extensiones aquí: • Hemos asumido que el mundo es homogéneo en varios aspectos, incluyendo la frecuencia de las solicitudes, la utilidad y la capacidad para satisfacer las solicitudes.",
        "Sería interesante examinar cómo relajar cualquiera de estas suposiciones alteraría nuestros resultados. • Hemos asumido que no hay costo para un agente al ser miembro del sistema.",
        "Supongamos en cambio que imponemos un pequeño costo simplemente por estar presente en el sistema para reflejar los costos de enrutamiento de mensajes y mantenimiento de la superposición.",
        "Esta modificación podría tener un impacto significativo en los ataques de Sybil. • Hemos descrito un sistema de escritura que funciona cuando no hay altruistas y hemos demostrado que ningún sistema puede funcionar una vez que hay suficientes altruistas.",
        "¿Qué sucede entre estos extremos? • Un tipo de comportamiento irracional que se encuentra en los sistemas de cupones es el acaparamiento.",
        "Hay algunas similitudes entre el acaparamiento y el comportamiento altruista.",
        "Mientras que un altruista brinda servicio para todos, un acumulador se ofrecerá como voluntario para todos los trabajos (con el fin de obtener más dinero) y rara vez solicitará servicio (para no gastar dinero).",
        "Sería interesante investigar en qué medida nuestro sistema es robusto contra los acaparadores.",
        "Claramente, con demasiados acumuladores, puede que no quede suficiente dinero entre los no acumuladores para garantizar que, típicamente, un no acumulador tenga suficiente dinero para satisfacer una solicitud. • Finalmente, en los sistemas de intercambio de archivos P2P, existen comunidades superpuestas de varios tamaños que tienen significativamente más probabilidades de poder satisfacer las solicitudes de los demás.",
        "Sería interesante investigar el efecto de tales comunidades en el equilibrio de nuestro sistema.",
        "También hay una serie de problemas de implementación que tendrían que resolverse en un sistema real.",
        "Por ejemplo, debemos preocuparnos por la posibilidad de que los agentes falsifiquen dinero o mientan sobre si el servicio fue realmente proporcionado.",
        "Karma [26] proporciona técnicas para lidiar con ambos problemas y varios más, pero algunas decisiones de implementación de Karma señalan problemas para nuestro modelo.",
        "Por ejemplo, resulta prohibitivamente caro asegurar que los saldos de las cuentas bancarias nunca puedan ser negativos, un hecho que nuestro modelo no captura.",
        "Otro ejemplo es que Karma tiene nodos que actúan como contables de los saldos de cuentas de otros nodos.",
        "Al igual que mantener una presencia en la red, esto impone un costo al nodo, pero a diferencia de eso, la responsabilidad puede ser fácilmente eludida.",
        "Karma sugiere varias formas de incentivar a los nodos para que realicen estas tareas.",
        "No hemos investigado si estos mecanismos pueden ser incorporados sin perturbar nuestro equilibrio. 8.",
        "AGRADECIMIENTOS Nos gustaría agradecer a Emin Gun Sirer, Shane Henderson, Jon Kleinberg y 3 árbitros anónimos por sus sugerencias útiles.",
        "EF, IK y JH cuentan con el apoyo parcial de la NSF bajo la subvención ITR-0325453.",
        "JH también cuenta con el apoyo parcial de la NSF bajo los subsidios CTC-0208535 e IIS-0534064, de la ONR bajo el subsidio N00014-01-10-511, del Programa de Iniciativa de Investigación Universitaria Multidisciplinaria (MURI) del DoD administrado por la ONR bajo los subsidios N00014-01-1-0795 y N00014-04-1-0725, y de la AFOSR bajo el subsidio F49620-021-0101. 9.",
        "REFERENCIAS [1] E. Adar y B.",
        "A. Huberman.",
        "Viajando gratis en Gnutella.",
        "Primer lunes, 5(10), 2000. [2] K. G. Anagnostakis y M. Greenwald.",
        "Mecanismos de incentivos basados en intercambio para compartir archivos entre pares.",
        "En la Conferencia Internacional sobre Sistemas de Computación Distribuida (ICDCS), páginas 524-533, 2004. [3] BitTorrent Inc. Sitio web de BitTorrent. http://www.bittorent.com. [4] A. Cheng y E. Friedman.",
        "Mecanismos de reputación a prueba de Sybil.",
        "En Taller sobre Economía de Sistemas Peer-to-Peer (P2PECON), páginas 128-132, 2005. [5] Tecnologías de la Información de Cornell.",
        "Estadísticas de uso de Internet de la Universidad de Cornell. http://www.cit.cornell.edu/computer/students/bandwidth/charts.html. [6] J. R. Douceur.",
        "El ataque de la sibila.",
        "En el Taller Internacional de Sistemas Peer-to-Peer (IPTPS), páginas 251-260, 2002. [7] G. Ellison.",
        "Cooperación en el dilema del prisionero con emparejamiento aleatorio anónimo.",
        "Revisión de Estudios Económicos, 61:567-588, 1994. [8] Proyecto eMule. Sitio web de eMule. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica y J. Chuang.",
        "Técnicas de incentivos sólidas para redes peer-to-peer.",
        "En la Conferencia ACM sobre Comercio Electrónico (EC), páginas 102-111, 2004. [10] E. J. Friedman y D. C. Parkes.",
        "Establecimiento de precios del wifi en Starbucks: problemas en el diseño de mecanismos en línea.",
        "En EC 03: Actas de la 4ta Conferencia de la ACM sobre Comercio Electrónico, páginas 240-241.",
        "ACM Press, 2003. [11] E. J. Friedman y P. Resnick.",
        "El costo social de los seudónimos baratos.",
        "Revista de Economía y Estrategia de Gestión, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan y A. Tomkins.",
        "Propagación de la confianza y la desconfianza.",
        "En la Conferencia sobre la World Wide Web (WWW), páginas 403-412, 2004. [13] M. Gupta, P. Judge y M. H. Ammar.",
        "Un sistema de reputación para redes peer-to-peer.",
        "En Network and Operating System Support for Digital Audio and Video (NOSSDAV), páginas 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina y J. Pedersen.",
        "Detección de spam de enlaces basada en estimación de masa.",
        "Informe técnico, Universidad de Stanford, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis y V. Prevelakis.",
        "Fileteller: Pagar y recibir pago por almacenamiento de archivos.",
        "En Criptografía Financiera, páginas 282-299, 2002. [16] E. T. Jaynes.",
        "¿En qué punto nos encontramos con respecto a la entropía máxima?",
        "En R. D. Levine y M. Tribus, editores, El Formalismo de la Entropía Máxima, páginas 15-118.",
        "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, y H. Garcia-Molina.",
        "El algoritmo Eigentrust para la gestión de reputación en redes P2P.",
        "En la Conferencia sobre la World Wide Web (WWW), páginas 640-651, 2003. [18] M. Kandori.",
        "Normas sociales y aplicación comunitaria.",
        "Revisión de Estudios Económicos, 59:63-80, 1992. [19] Corporación LogiSense.",
        "Sitio web de LogiSense. http://www.logisense.com/tm p2p.html. [20] L. Lovasz y P. Winkler.",
        "Mezcla de caminatas aleatorias y otras difusiones en un grafo.",
        "En Encuestas en Combinatoria, 1993, Walker (Ed.), Serie de Notas de Conferencias de la London Mathematical Society 187, Cambridge University Press. 1995. [21] Grupo de Tecnología de Código Abierto.",
        "Preguntas frecuentes sobre comentarios y moderación en Slashdot. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
        "Sitio web de Gnutella. http://www.gnutella.com/. [23] M. L. Puterman.",
        "Procesos de Decisión de Markov.",
        "Wiley, 1994. [24] SETI@home. \n\nWiley, 1994. [24] SETI@home.",
        "Página web de SETI@home. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Sitio web de Kazaa. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar y E. Sirer.",
        "Karma: Un marco económico seguro para el intercambio de recursos entre pares.",
        "En Taller sobre Economía de Sistemas Peer-to-Peer (P2PECON), 2003. [27] L. Xiong y L. Liu.",
        "Construyendo confianza en comunidades electrónicas descentralizadas de pares a pares.",
        "En la Conferencia Internacional de Investigación en Comercio Electrónico (ICECR) de 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason y B. V. Roy.",
        "Haciendo que los sistemas de reputación basados en vectores propios sean robustos ante la colusión.",
        "En Taller sobre Algoritmos y Modelos para el Grafo Web (WAW), páginas 92-104, 2004. 149"
    ],
    "error_count": 7,
    "keys": {
        "nash equilibrium": {
            "translated_key": "equilibrio de Nash",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed.",
                "It is shown that by adding a scrip system, a mechanism that admits a reasonable <br>nash equilibrium</br> that reduces free riding can be obtained.",
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
                "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
                "Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "However, the cost of providing service can still be nontrivial.",
                "For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
                "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
                "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
                "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
                "These heavy users are some of the most expensive customers ISPs have.",
                "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
                "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
                "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems.",
                "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
                "Some of the P2P networks currently in use have implemented versions of these techniques.",
                "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
                "By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions.",
                "Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8].",
                "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
                "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
                "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
                "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
                "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
                "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
                "Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it.",
                "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
                "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
                "However, to avoid penalizing new users, they gave new users an average rating.",
                "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
                "Thus Kazaas reputation system is ineffective.",
                "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
                "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
                "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
                "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
                "However, they have a different set of problems.",
                "Perhaps the most common involve determining the amount of money in the system.",
                "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
                "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
                "A related problem involves handling newcomers.",
                "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
                "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
                "In this paper, we provide a formal model in which to analyze scrip systems.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial <br>nash equilibrium</br> involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents.",
                "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
                "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
                "In systems where the goal is to do work, new users can acquire money by performing work.",
                "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
                "The rest of the paper is organized as follows.",
                "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
                "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same threshold strategy.",
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial <br>nash equilibrium</br> in the game where all agents use some threshold strategy.",
                "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
                "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
                "We conclude in Section 7. 2.",
                "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative game.",
                "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
                "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
                "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
                "This random-matching model fails to capture some salient aspects of a number of important settings.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can.",
                "For example, some people may not have the time or resources to satisfy the request.",
                "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
                "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
                "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
                "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
                "Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made.",
                "For example, it is not clear what defection on the part of the requester means.",
                "In our model we try to deal with all these issues.",
                "Suppose that there are n agents.",
                "At each round, an agent is picked uniformly at random to make a request.",
                "Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request.",
                "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
                "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
                "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
                "If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
                "The agent that fulfills the request pays a cost of α < 1.",
                "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
                "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite game.",
                "Lastly, we assume that with more players requests come more often.",
                "Thus we assume that the time between rounds is 1/n.",
                "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
                "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
                "We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
                "V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request.",
                "This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
                "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
                "Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i.",
                "It is the discounted total of agent is utility in each round.",
                "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
                "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
                "Take an altruist to be someone who always fulfills requests.",
                "Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
                "Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it.",
                "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
                "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
                "While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others.",
                "For example a naive user of filesharing software with a good connection might well follow this strategy.",
                "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
                "As we have observed, such users seem to exist in some large systems.",
                "Suppose that our system has a altruists.",
                "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
                "Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system.",
                "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
                "Proposition 2.1.",
                "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
                "Proof.",
                "Consider the strategy for a standard player j in the presence of a altruists.",
                "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
                "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
                "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
                "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
                "Then we only need a > 1145.",
                "While this is a large number, it is small relative to the size of a large P2P network.",
                "Current systems all have a pool of users behaving like our altruists.",
                "This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
                "In some sense, this is not a problem at all.",
                "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
                "Indeed, current P2P network work quite well in terms of distributing content to people.",
                "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
                "Thus, it is worth looking at what can be done to make these systems work in their absence.",
                "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
                "We are interested in equilibria based on a scrip system.",
                "Each time an agent has a request satisfied he must pay the person who satisfied it some amount.",
                "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
                "We denote by M the total amount of money in the system.",
                "We assume that M > 0 (otherwise no one will ever be able to get paid).",
                "In principle, agents are free to adopt a very wide variety of strategies.",
                "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
                "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
                "The class of strategies we are interested in is easy to motivate.",
                "The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more.",
                "On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
                "The natural balance between these two is a threshold strategy.",
                "Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise.",
                "Note that S0 is the strategy where the agent never volunteers.",
                "While everyone playing S0 is a <br>nash equilibrium</br> (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
                "We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
                "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
                "The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
                "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
                "Suppose that everyone plays Sk.",
                "For simplicity, assume that everyone has at most k dollars.",
                "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
                "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
                "If M ≥ kn, no agent will ever be willing to work.",
                "Thus, for the purposes of this section we assume that M < kn.",
                "From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk.",
                "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
                "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
                "If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}.",
                "If there are n agents, then the state of the game can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
                "Since the total amount of money is constant, not all of these states can arise in the game.",
                "For example the state where each player has $0 is impossible to reach in any game with money in the system.",
                "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
                "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
                "It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state.",
                "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
                "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
                "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
                "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
                "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
                "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
                "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
                "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
                "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
                "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
                "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
                "We can in fact completely characterize the distribution d∗ .",
                "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
                "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
                "The statement is correct under a number of senses of close.",
                "For definiteness, we consider the Euclidean distance.",
                "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
                "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
                "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
                "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
                "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16].",
                "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
                "This fraction clearly goes to 0 as n gets large.",
                "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
                "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
                "Let Pij denote the probability of transitioning from state i to state j.",
                "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
                "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution.",
                "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
                "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
                "We then considered how close the distribution stays to the maximum entropy distribution once it has reached it.",
                "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
                "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
                "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
                "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
                "We believe that the actually time needed is O(n).",
                "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial <br>nash equilibrium</br> where they do so (that is, a <br>nash equilibrium</br> where all the agents use Sk for some k > 0.)",
                "This is not true in general.",
                "If δ is small, then agents have no incentive to work.",
                "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
                "With small δ, S0 is the only equilibrium.",
                "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
                "We do this by first showing that, if every other agent is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one).",
                "We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy.",
                "It follows that this tuple of threshold strategies is a <br>nash equilibrium</br>.",
                "As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a threshold strategy Sk that is a best response for agent i.",
                "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
                "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
                "For a later proof, it will be helpful to have a continuous set of strategies.",
                "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
                "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
                "Theorem 4.1.",
                "Fix a strategy Sγ and an agent i.",
                "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for agent i is Sk .",
                "Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
                "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
                "If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly.",
                "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
                "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
                "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
                "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
                "We remark that there may be best responses that are not threshold strategies.",
                "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy.",
                "Since we know that there is a best response that is a threshold strategy, we can look for a <br>nash equilibrium</br> in the space of threshold strategies.",
                "Theorem 4.2.",
                "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a <br>nash equilibrium</br> in the game G(n, δ) where all agents play Sγ for some integer γ > 0.",
                "Proof.",
                "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
                "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
                "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
                "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
                "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a <br>nash equilibrium</br> where all agents are using the same threshold strategy.",
                "As we have already observed, one such equilibrium occurs at 0.",
                "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
                "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay.",
                "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
                "Consider k∗ , the smallest k such that k > M/n.",
                "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
                "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
                "This is the desired <br>nash equilibrium</br>.",
                "This argument also shows us that we cannot in general expect fixed points to be unique.",
                "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
                "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
                "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
                "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
                "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
                "SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial <br>nash equilibrium</br> where all the agents use some threshold strategy Sγ(M,n).",
                "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
                "There is a tension between these objectives.",
                "It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases.",
                "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
                "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
                "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
                "Proof.",
                "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
                "Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r.",
                "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the <br>nash equilibrium</br> depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
                "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
                "We are currently exploring exactly what the optimal ratio is.",
                "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
                "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the <br>nash equilibrium</br> that has highest efficiency for fixed M and n. 146 injecting money in the system.",
                "This produces the same effect.",
                "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has.",
                "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
                "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
                "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
                "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
                "This gives existing agents no incentive to leave and rejoin as newcomers.",
                "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
                "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
                "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
                "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
                "For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
                "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
                "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
                "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
                "However, we have not yet explored the changes required to implement this change.",
                "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
                "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
                "To get d dollars, his sybils together still have to perform d units of work.",
                "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
                "Nevertheless, there are some less direct ways that an agent could take advantage of sybils.",
                "First, by having more identities he will have a greater probability of getting chosen to make a request.",
                "It is easy to see that this will lead to the agent having higher total utility.",
                "However, this is just an artifact of our model.",
                "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
                "In practice, requests are made to satisfy a desire.",
                "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
                "Having sybils should not increase the need to have a request satisfied.",
                "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
                "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
                "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the <br>nash equilibrium</br> strategy.",
                "Intuitively, the need for money is not as critical if money is easier to obtain.",
                "Unlike the first concern, this seems like a real issue.",
                "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
                "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
                "Third, an agent can drive down the cost of fulfilling a request by introducing many sybils.",
                "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
                "Concievably he could alternate between these techniques to magnify the effects of work he does.",
                "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
                "Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
                "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
                "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
                "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
                "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
                "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
                "CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a <br>nash equilibrium</br> where all agents use a threshold strategy.",
                "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
                "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
                "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
                "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation.",
                "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
                "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
                "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
                "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
                "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
                "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system.",
                "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
                "This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
                "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
                "There are some similarities between hoarding and altruistic behavior.",
                "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
                "It would be interesting to investigate the extent to which our system is robust against hoarders.",
                "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
                "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
                "There are also a number of implementation issues that would have to be resolved in a real system.",
                "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
                "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
                "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
                "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
                "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
                "Karma suggests several ways to incentivize nodes to perform these duties.",
                "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
                "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
                "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
                "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
                "REFERENCES [1] E. Adar and B.",
                "A. Huberman.",
                "Free riding on Gnutella.",
                "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
                "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
                "Sybilproof reputation mechanisms.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
                "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
                "The sybil attack.",
                "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
                "Cooperation in the prisoners dilemma with anonymous random matching.",
                "Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
                "Robust incentive techniques for peer-to-peer networks.",
                "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
                "Pricing wifi at starbucks: issues in online mechanism design.",
                "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
                "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
                "The social cost of cheap pseudonyms.",
                "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
                "Propagation of trust and distrust.",
                "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
                "A reputation system for peer-to-peer networks.",
                "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
                "Link spam detection based on mass estimation.",
                "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
                "Fileteller: Paying and getting paid for file storage.",
                "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
                "Where do we stand on maximum entropy?",
                "In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118.",
                "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
                "The Eigentrust algorithm for reputation management in P2P networks.",
                "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
                "Social norms and community enforcement.",
                "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
                "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
                "Mixing of random walks and other diffusions on a graph.",
                "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
                "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
                "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
                "Markov Decision Processes.",
                "Wiley, 1994. [24] SETI@home.",
                "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
                "Karma: A secure economic framework for peer-to-peer resource sharing.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
                "Building trust in decentralized peer-to-peer electronic communities.",
                "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
                "Making eigenvector-based reputation systems robust to collusion.",
                "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
            ],
            "original_annotated_samples": [
                "It is shown that by adding a scrip system, a mechanism that admits a reasonable <br>nash equilibrium</br> that reduces free riding can be obtained.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial <br>nash equilibrium</br> involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial <br>nash equilibrium</br> in the game where all agents use some threshold strategy.",
                "While everyone playing S0 is a <br>nash equilibrium</br> (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial <br>nash equilibrium</br> where they do so (that is, a <br>nash equilibrium</br> where all the agents use Sk for some k > 0.)"
            ],
            "translated_annotated_samples": [
                "Se demuestra que al agregar un sistema de script, se puede obtener un mecanismo que admita un <br>equilibrio de Nash</br> razonable que reduzca el comportamiento de aprovechamiento gratuito.",
                "Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un <br>equilibrio de Nash</br> no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero).",
                "Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un <br>equilibrio de Nash</br> no trivial en el juego donde todos los agentes utilizan alguna estrategia de umbral.",
                "Si bien todos los que juegan S0 conforman un <br>equilibrio de Nash</br> (nadie puede mejorar al ofrecerse como voluntario si nadie más está dispuesto a hacerlo), es un equilibrio poco interesante.",
                "EL JUEGO BAJO JUGADA ESTRATÉGICA Hemos visto que el sistema se comporta bien si los agentes siguen todos una estrategia de umbral; ahora queremos demostrar que existe un <br>equilibrio de Nash</br> no trivial donde lo hacen (es decir, un <br>equilibrio de Nash</br> donde todos los agentes usan Sk para algún k > 0)."
            ],
            "translated_text": "Eficiencia y equilibrios de Nash en un sistema de vales para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación. Universidad Cornell halpern@cs.cornell.edu Ian Kash Departamento de Ciencias de la Computación. La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una red P2P. Se demuestra que al agregar un sistema de script, se puede obtener un mecanismo que admita un <br>equilibrio de Nash</br> razonable que reduzca el comportamiento de aprovechamiento gratuito. El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el bienestar social) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia. El trabajo tiene implicaciones para muchos sistemas en línea, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; I.2.11 [Inteligencia Artificial]: Inteligencia Artificial Distribuida-Sistemas Multiagente; J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Computadoras y Sociedad]: Comercio Electrónico Términos Generales Economía, Teoría 1. INTRODUCCIÓN Una característica común de muchos sistemas distribuidos en línea es que los individuos proporcionan servicios entre sí. Las redes peer-to-peer (P2P) (como Kazaa [25] o BitTorrent [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás. El hecho de que las personas se presten servicios entre sí generalmente aumenta el bienestar social: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona. Sin embargo, el costo de brindar el servicio aún puede ser significativo. Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo. Por lo tanto, en muchos sistemas existe un fuerte incentivo para convertirse en un \"pasajero gratis\" y beneficiarse del sistema sin contribuir a él. Este no es simplemente un problema teórico; estudios de la red Gnutella [22] han demostrado que casi el 70 por ciento de los usuarios no comparten archivos y casi el 50 por ciento de las respuestas provienen del 1 por ciento superior de los anfitriones que comparten [1]. Tener relativamente pocos usuarios que proporcionen la mayor parte del servicio crea un punto de centralización; la desaparición de un pequeño porcentaje de usuarios puede afectar enormemente la funcionalidad del sistema. Además, las tendencias actuales parecen estar llevando a la eliminación de los usuarios altruistas en los que estos sistemas confían. Estos usuarios intensivos son algunos de los clientes más costosos que tienen los proveedores de servicios de Internet. Por lo tanto, a medida que la cantidad de tráfico ha aumentado, los proveedores de servicios de Internet han comenzado a buscar formas de reducir este tráfico. Algunas universidades han comenzado a cobrar a los estudiantes por el uso excesivo de ancho de banda; otras revocan el acceso a la red por ello [5]. Un número de empresas también se han formado cuyo servicio es detectar el uso excesivo de ancho de banda [19]. Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros sistemas en línea distribuidos. Se ha invertido una cantidad significativa de investigación en el diseño de sistemas de reputación para dar tratamiento preferencial a los usuarios que comparten archivos. Algunas de las redes P2P actualmente en uso han implementado versiones de estas técnicas. Sin embargo, estos enfoques tienden a caer en una de dos categorías: o son similares al trueque o se basan en la reputación. Por \"tipo trueque\", nos referimos a que cada agente basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones. Quizás el ejemplo más conocido de un sistema similar al trueque es BitTorrent, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual. Dado que el trueque está restringido a usuarios actualmente interesados en un solo archivo, esto funciona bien para archivos populares, pero tiende a tener problemas para mantener la disponibilidad de los menos populares. Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el sistema de créditos utilizado por eMule 140 [8]. Cada usuario realiza un seguimiento de su historial de interacciones con otros usuarios y da prioridad a aquellos de los que ha descargado previamente. Sin embargo, en un sistema grande, la probabilidad de que un par de usuarios elegidos al azar hayan interactuado antes es bastante baja, por lo que este historial de interacciones no será de gran ayuda. Anagnostakis y Greenwald [2] presentan una versión más sofisticada de este enfoque, pero aún parece sufrir de problemas similares. Se han realizado varios intentos de proporcionar sistemas de reputación generales (por ejemplo, [12, 13, 17, 27]). La idea básica es agregar la experiencia de cada usuario en un número global para cada individuo que represente de manera intuitiva la visión del sistema sobre la reputación de ese individuo. Sin embargo, estos intentos tienden a sufrir problemas prácticos porque implícitamente consideran a los usuarios como buenos o malos, asumen que los buenos usuarios actuarán de acuerdo con el protocolo especificado, y que hay relativamente pocos usuarios malos. Desafortunadamente, si existen formas fáciles de manipular el sistema, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen. No podemos depender solo de unos pocos usuarios siendo malos (en el sentido de no seguir el protocolo prescrito). Por ejemplo, Kazaa utiliza una medida de la proporción entre el número de cargas y el número de descargas para identificar usuarios buenos y malos. Sin embargo, para evitar penalizar a los nuevos usuarios, les dieron a los nuevos usuarios una calificación promedio. Los usuarios descubrieron que podían aprovechar esta calificación relativamente buena para viajar gratis por un tiempo y, una vez que comenzaba a empeorar, podían eliminar su información almacenada y regresar efectivamente como un nuevo usuario, evitando así el sistema (ver [2] para una discusión y [11] para un análisis formal de este lavado de imagen). Por lo tanto, el sistema de reputación de Kazaas es ineficaz. Este es un caso simple de una vulnerabilidad más general de tales sistemas a los ataques de sybil [6], donde un solo usuario mantiene múltiples identidades y las utiliza de manera coordinada para obtener un mejor servicio del que obtendría de otra manera. Trabajos recientes han demostrado que la mayoría de los sistemas de reputación comunes son vulnerables (en el peor de los casos) a tales ataques [4]; sin embargo, el grado de esta vulnerabilidad aún no está claro. El análisis de las vulnerabilidades prácticas y la existencia de sistemas inmunes a tales ataques sigue siendo un área de investigación activa (por ejemplo, [4, 28, 14]). Los sistemas económicos simples basados en un vale o dinero parecen evitar muchos de estos problemas, son fáciles de implementar y son bastante populares (ver, por ejemplo, [13, 15, 26]). Sin embargo, tienen un conjunto diferente de problemas. Quizás los más comunes implican determinar la cantidad de dinero en el sistema. Hablando en términos generales, si hay muy poco dinero en el sistema en relación con el número de agentes, entonces relativamente pocos usuarios pueden permitirse hacer solicitudes. Por otro lado, si hay demasiado dinero, entonces los usuarios no sentirán la necesidad de responder a una solicitud; ya tienen suficiente dinero. Un problema relacionado implica manejar a los recién llegados. Si a los recién llegados se les da una cantidad positiva de dinero, entonces el sistema está abierto a ataques de Sybil. Quizás no sorprendentemente, los sistemas de moneda fiduciaria terminan teniendo que lidiar con problemas económicos estándar como la inflación, las burbujas y las crisis [26]. En este artículo, proporcionamos un modelo formal en el cual analizar sistemas de escritura. Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un <br>equilibrio de Nash</br> no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero). Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (bienestar social), dado el número de agentes. También conduce a una solución para el problema de tratar con los recién llegados: simplemente asumimos que los nuevos usuarios llegan sin dinero, y ajustamos el precio del servicio (lo cual es equivalente a ajustar la oferta de dinero) para mantener la proporción que maximiza la eficiencia. Si bien asumir que los nuevos usuarios no tienen dinero no funcionará en todos los contextos, creemos que este enfoque será ampliamente aplicable. En sistemas donde el objetivo es realizar trabajo, los nuevos usuarios pueden adquirir dinero realizando trabajo. También debería funcionar en el sistema Kazaalike donde un usuario puede ingresar con algunos recursos (por ejemplo, una colección privada de MP3). El resto del documento está organizado de la siguiente manera. En la Sección 2, presentamos nuestro modelo formal y observamos que se puede utilizar para comprender el efecto de los altruistas. En la Sección 3, examinamos qué sucede en el juego bajo un juego no estratégico, si todos los agentes utilizan la misma estrategia de umbral. Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la entropía máxima. Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un <br>equilibrio de Nash</br> no trivial en el juego donde todos los agentes utilizan alguna estrategia de umbral. Además, mostramos en la Sección 5 que el análisis conduce a una comprensión de cómo elegir la cantidad de dinero en el sistema (o, de manera equivalente, el costo para cumplir una solicitud) para maximizar la eficiencia, y también muestra cómo manejar a los nuevos usuarios. En la Sección 6, discutimos en qué medida nuestro enfoque puede manejar sybils y colusión. Concluimos en la Sección 7.2. EL MODELO Para empezar, formalizamos la prestación de servicios en una red P2P como un juego no cooperativo. A diferencia de gran parte de la modelización en esta área, nuestro modelo modelará las interacciones asimétricas en un sistema de intercambio de archivos en el que el emparejamiento de jugadores (aquellos que solicitan un archivo con aquellos que tienen ese archivo en particular) es una parte clave del sistema. Esto contrasta con gran parte de trabajos anteriores que utilizan emparejamiento aleatorio en un dilema del prisionero. Tales modelos fueron estudiados en la literatura económica [18, 7] y aplicados por primera vez a reputaciones en línea en [11]; una aplicación a P2P se encuentra en [9]. Este modelo de emparejamiento aleatorio no logra capturar algunos aspectos relevantes de varios entornos importantes. Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una red P2P grande), pero no todas pueden hacerlo. Por ejemplo, algunas personas pueden no tener el tiempo o los recursos para satisfacer la solicitud. El proceso de emparejamiento aleatorio ignora el hecho de que algunas personas pueden no ser capaces de satisfacer la solicitud. Presumiblemente, si la persona emparejada con el solicitante no pudiera satisfacer el emparejamiento, tendría que desertar. Además, no captura el hecho de que la decisión de si voluntariarse para satisfacer la solicitud debe tomarse antes del proceso de emparejamiento, no después. Es decir, el proceso de emparejamiento no captura el hecho de que si alguien no está dispuesto a satisfacer la solicitud, sin duda habrá otros que puedan hacerlo. Aunque nos referimos a nuestra unidad de moneda como el dólar, estos no son dólares reales ni los consideramos convertibles en dólares. Finalmente, las acciones y recompensas en el juego del dilema del prisionero no corresponden claramente a las decisiones reales que se pueden tomar. Por ejemplo, no está claro qué significa la deserción por parte del solicitante. En nuestro modelo intentamos abordar todos estos problemas. Supongamos que hay n agentes. En cada ronda, se elige de forma aleatoria y uniforme a un agente para hacer una solicitud. Cada otro agente puede satisfacer esta solicitud con una probabilidad β > 0 en todo momento, independientemente del comportamiento previo. El término β tiene la intención de capturar la probabilidad de que un agente esté ocupado o no tenga los recursos para cumplir con la solicitud. Suponer que β es independiente del tiempo no captura la intuición de que no poder cumplir una solicitud en el tiempo t puede estar correlacionado con no poder cumplirla en el tiempo t+1. Creemos que, en sistemas grandes, deberíamos poder eliminar la suposición de independencia, pero dejamos esto para trabajos futuros. En cualquier caso, aquellos agentes que sean capaces de satisfacer la solicitud deben elegir si desean o no ofrecerse como voluntarios para satisfacerla. Si al menos un agente se ofrece como voluntario, el solicitante recibe un beneficio de 1 utilidad (el trabajo se realiza) y uno de los voluntarios es elegido al azar para cumplir con la solicitud. El agente que cumple con la solicitud paga un costo de α < 1. Como es habitual en la literatura, asumimos que los agentes descuentan los beneficios futuros por un factor de δ por unidad de tiempo. Esto captura la intuición de que un util hoy vale más que un util mañana, y nos permite calcular la utilidad total derivada por un agente en un juego infinito. Por último, asumimos que con más jugadores las solicitudes llegan con más frecuencia. Por lo tanto, asumimos que el tiempo entre rondas es 1/n. Esto captura el hecho de que los sistemas que queremos modelar realmente están procesando muchas solicitudes en paralelo, por lo que esperaríamos que el número de solicitudes concurrentes sea proporcional al número de usuarios. Sea G(n, δ, α, β) este juego con n agentes, un factor de descuento de δ, un costo para satisfacer solicitudes de α y una probabilidad de poder satisfacer solicitudes de β. Cuando los dos últimos parámetros no son relevantes, a veces escribimos G(n, δ). Utilizamos la siguiente notación a lo largo del documento: • pt denota al agente elegido en la ronda t. • Bt i ∈ {0, 1} denota si el agente i puede satisfacer la solicitud en la ronda t. Bt i = 1 con probabilidad β > 0 y Bt i es independiente de Bt i para todo t = t. • V t i ∈ {0, 1} denota la decisión del agente i sobre si voluntariarse en la ronda t; 1 indica voluntariado. V t i está determinado por la estrategia del agente. • vt ∈ {j | V t j Bt j = 1} denota al agente elegido para satisfacer la solicitud. Este agente es elegido de manera uniforme al azar entre aquellos que están dispuestos (V t j = 1) y capaces (Bt j = 1) de satisfacer la solicitud. • ut i denota la utilidad del agente en la ronda t. Un agente estándar es aquel cuya utilidad se determina como se discutió en la introducción; es decir, el agente recibe 2. Para n grande, nuestro modelo converge a uno en el que los jugadores realizan solicitudes en tiempo real, y el tiempo entre las solicitudes de un jugador está distribuido de manera exponencial con media 1. Además, el tiempo entre las solicitudes atendidas por un único jugador también sigue una distribución exponencial. Una utilidad de 1 para una solicitud cumplida y una utilidad de -α por cumplir una solicitud. Por lo tanto, si i es un agente estándar, entonces ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 −α si i = vt 0 de lo contrario. • Ui = P∞ t=0 δt/n ut i denota la utilidad total para el agente i. Es el total descontado de la utilidad del agente en cada ronda. Ten en cuenta que el factor de descuento efectivo es δ1/n ya que un aumento en n conlleva a una reducción del tiempo entre rondas. Ahora que tenemos un modelo de cómo hacer y satisfacer solicitudes, lo utilizamos para analizar el comportamiento de no contribuir. Considera a un altruista como alguien que siempre cumple peticiones. El agente podría comportarse de manera altruista de manera racional si la función de utilidad del agente tiene la siguiente forma, para algún α > 0: ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 α si i = vt 0 en otro caso. Por lo tanto, en lugar de sufrir una pérdida de utilidad al satisfacer una solicitud, un agente obtiene utilidad positiva al satisfacerla. Una función de utilidad de este tipo es una representación razonable del placer que algunas personas obtienen al sentir que son quienes proporcionan la música que todos están tocando. Para agentes altruistas como estos, jugar la estrategia que establece V t i = 1 para todo t es dominante. Si bien tener una función de utilidad no estándar podría ser una razón por la cual un agente racional podría usar esta estrategia, ciertamente hay otras razones. Por ejemplo, un usuario inexperto de software de intercambio de archivos con una buena conexión bien podría seguir esta estrategia. Todo lo que importa para la siguiente discusión es que hay algunos agentes que utilizan esta estrategia, sea por la razón que sea. Como hemos observado, parece que existen usuarios de este tipo en algunos sistemas grandes. Supongamos que nuestro sistema tiene altruistas. Intuitivamente, si a es moderadamente grande, lograrán satisfacer la mayoría de las solicitudes en el sistema incluso si otros agentes no trabajan. Por lo tanto, hay poco incentivo para que cualquier otro agente se ofrezca como voluntario, porque ya está obteniendo pleno beneficio al participar en el sistema. Basándose en esta intuición, es un cálculo relativamente sencillo determinar un valor de a que depende solo de α, β y δ, pero no del número n de jugadores en el sistema, de modo que la estrategia dominante para todos los agentes estándar i sea nunca ofrecerse voluntariamente para satisfacer ninguna solicitud (es decir, V t i = 0 para todo t). Proposición 2.1. Existe un a que depende solo de α, β y δ tal que, en G(n, δ, α, β) con al menos a altruistas, no ofrecerse como voluntario en cada ronda es una estrategia dominante para todos los agentes estándar. Prueba. Considera la estrategia para un jugador estándar j en presencia de altruistas. Incluso sin dinero, el jugador j logrará que se satisfaga una solicitud con probabilidad 1 − (1 − β)a solo a través de las acciones de estos altruistas. Por lo tanto, incluso si j es elegido para hacer una solicitud en cada ronda, la utilidad adicional esperada máxima que puede esperar obtener al tener dinero es P∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ). Si (1 − β)a /(1 − δ) > α o, equivalentemente, si a > log1−β(α(1 − δ)), nunca ofrecerse como voluntario es una estrategia dominante. Considera los siguientes valores razonables para nuestros parámetros: β = .01 (para que cada jugador pueda satisfacer el 1% de las solicitudes), α = .1 (un costo bajo pero no despreciable), δ = .9999/día 142 (lo que corresponde a un factor de descuento anual de aproximadamente 0.95), y un promedio de 1 solicitud por día por jugador. Entonces solo necesitamos un > 1145. Si bien este es un número grande, es pequeño en comparación con el tamaño de una red P2P grande. Los sistemas actuales tienen un grupo de usuarios que se comportan como nuestros altruistas. Esto significa que los intentos de agregar un sistema de reputación encima de un sistema P2P existente para influir en los usuarios a cooperar no tendrán efecto en usuarios racionales. Para tener una distribución justa del trabajo, estos sistemas deben ser rediseñados fundamentalmente para eliminar el grupo de usuarios altruistas. En cierto sentido, esto no es un problema en absoluto. En un sistema con altruistas, los altruistas presumiblemente están felices, al igual que los agentes estándar, quienes ven casi todas sus solicitudes satisfechas sin tener que hacer ningún trabajo. De hecho, las redes P2P actuales funcionan bastante bien en términos de distribuir contenido a las personas. Sin embargo, como mencionamos en la introducción, hay razones para creer que estos altruistas podrían no estar presentes para siempre. Por lo tanto, vale la pena analizar qué se puede hacer para que estos sistemas funcionen en su ausencia. Para el resto de este documento asumimos que todos los agentes son estándar y tratan de maximizar la utilidad esperada. Estamos interesados en equilibrios basados en un sistema de vales. Cada vez que un agente tiene una solicitud satisfecha, debe pagarle a la persona que la satisfizo una cierta cantidad. Por ahora, asumimos que el pago es fijo; para simplificar, tomamos la cantidad como $1. Denotamos por M la cantidad total de dinero en el sistema. Suponemos que M > 0 (de lo contrario, nadie podrá cobrar nunca). En principio, los agentes son libres de adoptar una amplia variedad de estrategias. Pueden tomar decisiones basadas en los nombres de otros agentes o utilizar una estrategia que depende en gran medida de la historia, y combinar libremente estas estrategias. Para ayudar en nuestro análisis, nos gustaría poder restringir nuestra atención a una clase más simple de estrategias. La clase de estrategias en la que estamos interesados es fácil de motivar. La razón intuitiva para querer ganar dinero es para atender la posibilidad de que un agente se quede sin antes de tener la oportunidad de ganar más. Por otro lado, un agente racional con mucho dinero no querría trabajar, porque para cuando haya logrado gastar todo su dinero, la utilidad tendrá menos valor que el costo actual de trabajar. El equilibrio natural entre estos dos es una estrategia de umbral. Que Sk sea la estrategia en la que un agente se ofrece como voluntario siempre que tenga menos de k dólares y no lo haga de otra manera. Ten en cuenta que S0 es la estrategia en la que el agente nunca se ofrece como voluntario. Si bien todos los que juegan S0 conforman un <br>equilibrio de Nash</br> (nadie puede mejorar al ofrecerse como voluntario si nadie más está dispuesto a hacerlo), es un equilibrio poco interesante. Como mostraremos en la Sección 4, es suficiente restringir nuestra atención a esta clase de estrategias. Usamos Kt i para denotar la cantidad de dinero que el agente i tiene en el tiempo t. Claramente Kt+1 i = Kt i a menos que el agente i tenga una solicitud satisfecha, en cuyo caso Kt+1 i = Kt+1 i − 1 o el agente i cumple una solicitud, en cuyo caso Kt+1 i = Kt+1 i + 1. Formalmente, Kt+1 i = 8 < : Kt i − 1 si i = pt , P j=i V t j Bt j > 0, y Kt i > 0 Kt i + 1 si i = vt y Kt pt > 0 Kt i en otro caso. La estrategia de umbral Sk es la estrategia tal que V t i = 1 si Kt pt > 0 y Kt i < k, 0 en caso contrario. EL JUEGO BAJO JUEGO NO ESTRATÉGICO Antes de considerar el juego estratégico, examinamos qué sucede en el sistema si todos juegan simplemente la misma estrategia Sk. Nuestro objetivo general es demostrar que existe una distribución de dinero (es decir, la fracción de personas con cada cantidad de dinero) tal que el sistema converge a esta distribución en un sentido que se precisará en breve. Supongamos que todos juegan Sk. Para simplificar, asumamos que todos tienen a lo sumo k dólares. Podemos hacer esta suposición prácticamente sin pérdida de generalidad, ya que si alguien tiene más de k dólares, simplemente gastará dinero hasta tener como máximo k dólares. Después de este punto, nunca adquirirá más que k. Por lo tanto, eventualmente el sistema estará en tal estado. Si M ≥ kn, ningún agente estará dispuesto a trabajar. Por lo tanto, para los propósitos de esta sección asumimos que M < kn. Desde la perspectiva de un solo agente, en equilibrio (estocástico), el agente está experimentando un paseo aleatorio. Sin embargo, los parámetros de esta caminata aleatoria dependen de las caminatas aleatorias de los otros agentes y es bastante complicado resolverlo directamente. Por lo tanto, consideramos un análisis alternativo basado en la evolución del sistema en su conjunto. Si todos tienen a lo sumo k dólares, entonces la cantidad de dinero que tiene un agente es un elemento de {0, . . . , k}. Si hay n agentes, entonces el estado del juego puede ser descrito identificando cuánto dinero tiene cada agente, por lo que podemos representarlo mediante un elemento de Sk,n = {0, . . . , k}{1,...,n}. Dado que la cantidad total de dinero es constante, no todos estos estados pueden surgir en el juego. Por ejemplo, el estado en el que cada jugador tiene $0 es imposible de alcanzar en cualquier juego con dinero en el sistema. Sea mS(s) = P i∈{1...n} s(i) el monto total de dinero en el juego en el estado s, donde s(i) es la cantidad de dólares que el agente i tiene en el estado s. Queremos considerar solo aquellos estados donde el dinero total en el sistema es M, es decir, Sk,n,M = {s ∈ Sk,n | mS(s) = M}. Bajo el supuesto de que todos los agentes utilizan la estrategia Sk, la evolución del sistema puede ser tratada como una cadena de Markov Mk,n,M sobre el espacio de estados Sk,n,M. Es posible pasar de un estado a otro en una sola ronda si al elegir a un agente en particular para hacer una solicitud y a otro agente en particular para satisfacerla, las cantidades de dinero poseídas por cada agente se convierten en las del segundo estado. Por lo tanto, la probabilidad de una transición de un estado s a t es 0 a menos que existan dos agentes i y j tales que s(i) = t(i) para todos los i /∈ {i, j}, t(i) = s(i) + 1, y t(j) = s(j) − 1. En este caso, la probabilidad de transición de s a t es la probabilidad de que j sea elegido para gastar un dólar y tenga a alguien dispuesto y capaz de satisfacer su solicitud ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplicado por la probabilidad de que i sea elegido para satisfacer su solicitud (1/(|({i | s(i ) = k}| − Ij ). Ij es 0 si j tiene k dólares y 1 en caso contrario (es solo una corrección por el hecho de que j no puede satisfacer su propia solicitud). Sea ∆k el conjunto de distribuciones de probabilidad en {0, . . . , k}. Podemos pensar en un elemento de ∆k como la descripción de la fracción de personas con cada cantidad de dinero. Esta es una forma útil de ver el sistema, ya que normalmente no nos importa quién tiene cada cantidad de dinero, sino simplemente la fracción de personas que tienen cada cantidad. Como antes, no todos los elementos de ∆k son posibles, dada nuestra restricción de que la cantidad total de dinero es M. En lugar de pensar en términos de la cantidad total de dinero en el sistema, resultará más útil pensar en términos del monto promedio de dinero que tiene cada jugador. Por supuesto, la cantidad total de dinero en un sistema con n agentes es M si y solo si la cantidad promedio que cada jugador tiene es m = M/n. Sea ∆k m el conjunto de todas las distribuciones d ∈ ∆k tales que E(d) = m (es decir, Pk j=0 d(j)j = m). Dado un estado s ∈ Sk,n,M, sea ds ∈ ∆k m la distribución de dinero en s. Nuestro objetivo es demostrar que, si n es grande, entonces existe una distribución d∗ ∈ ∆k m tal que, con alta probabilidad, la cadena de Markov Mk,n,M estará casi siempre en un estado s tal que ds esté cerca de d∗. Por lo tanto, los agentes pueden basar sus decisiones sobre qué estrategia usar en la suposición de que estarán en ese estado. De hecho, podemos caracterizar completamente la distribución d∗. Dada una distribución d ∈ ∆k , sea H(d) = − X {j:d(j)=0} d(j) log(d(j)) la entropía de d. Si ∆ es un conjunto convexo cerrado de distribuciones, entonces es bien sabido que hay una distribución única en ∆ en la que la función de entropía alcanza su valor máximo en ∆. Dado que ∆k m se ve fácilmente como un conjunto convexo cerrado de distribuciones, se sigue que hay una distribución única en ∆k m que denotamos como d∗ k,m cuya entropía es mayor que la de todas las demás distribuciones en ∆k m. Ahora mostramos que, para n suficientemente grande, la cadena de Markov Mk,n,M está casi seguramente en un estado s tal que ds está cerca de d∗ k,M/n. La afirmación es correcta en varios sentidos de cercanía. Para mayor claridad, consideramos la distancia euclidiana. Dado > 0, sea Sk,n,m el conjunto de estados s en Sk,n,mn tal que Pk j=0 |ds (j) − d∗ k,m|2 < . Dada una cadena de Markov M sobre un espacio de estados S y S ⊆ S, sea Xt,s,S la variable aleatoria que denota que M se encuentra en un estado de S en el tiempo t, cuando se inicia en el estado s. Teorema 3.1. Para todo ε > 0, todo k y todo m, existe un n tal que para todo n > n y todos los estados s ∈ Sk,n,mn, existe un tiempo t∗ (que puede depender de k, n, m y ) tal que para t > t∗, tenemos que Pr(Xt,s,Sk,n,m, ) > 1 − . Prueba. (Bosquejo) Supongamos que en algún momento t, Pr(Xt,s,s) es uniforme para todos los s. Entonces, la probabilidad de estar en un conjunto de estados es simplemente el tamaño del conjunto dividido por el número total de estados. Una técnica estándar de la mecánica estadística es demostrar que hay un fenómeno de concentración alrededor de la distribución de entropía máxima [16]. Más precisamente, utilizando un argumento combinatorio directo, se puede demostrar que la fracción de estados que no están en Sk,n,m está acotada por p(n)/ecn, donde p es un polinomio. Esta fracción claramente tiende a 0 a medida que n crece. Por lo tanto, para n suficientemente grande, Pr(Xt,s,Sk,n,m, ) > 1 − si Pr(Xt,s,s ) es uniforme. Es relativamente sencillo demostrar que nuestra Cadena de Markov tiene una distribución límite π sobre Sk,n,mn, tal que para todo s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs. Que Pij denote la probabilidad de transición del estado i al estado j. Es fácil verificar mediante un cálculo explícito de las probabilidades de transición que Pij = Pji para todos los estados i y j. Se sigue inmediatamente de esta simetría que πs = πs, por lo que π es uniforme. Después de un tiempo suficiente, la distribución estará lo suficientemente cerca de π, de modo que las probabilidades vuelven a estar limitadas por una constante, lo cual es suficiente para completar el teorema. Realizamos una serie de experimentos que muestran que el comportamiento de máxima entropía descrito en el Teorema 3.1 surge rápidamente para valores bastante prácticos de n y t. El primer experimento mostró que, incluso si n = 1000, alcanzamos rápidamente la distribución de máxima entropía. Promediamos 10 ejecuciones de la cadena de Markov para k = 5 donde hay suficiente dinero para que cada agente tenga $2 comenzando desde una distribución muy extrema (cada agente tiene $0 o $5) y consideramos el tiempo promedio necesario para acercarse a varias distancias de la distribución de entropía máxima. Como muestra la Figura 1, después de 2,000 pasos, en promedio, la distancia euclidiana desde la distribución promedio del dinero hasta la distribución de máxima entropía es de .008; después de 3,000 pasos, la distancia disminuye a .001. Ten en cuenta que esto realmente solo son 3 unidades de tiempo reales, ya que con 1000 jugadores tenemos 1000 transacciones por unidad de tiempo. Luego consideramos qué tan cerca se mantiene la distribución de la entropía máxima una vez que la ha alcanzado. Para simplificar las cosas, comenzamos el sistema en un estado cuya distribución estaba muy cerca de la distribución de máxima entropía y lo ejecutamos durante 106 pasos, para varios valores de n. Como muestra la Figura 2, el sistema no se aleja mucho de la distribución de máxima entropía una vez que está allí. Por ejemplo, si n = 5000, el sistema nunca está a más de una distancia de .001 de la distribución de máxima entropía; si n = 25,000, nunca está a más de .0002 de la distribución de máxima entropía. Finalmente, consideramos con más cuidado cómo rápidamente el sistema converge a la distribución de máxima entropía para varios valores de n. Hay aproximadamente kn estados posibles, por lo que el tiempo de convergencia podría ser bastante largo en principio. Sin embargo, sospechamos que la cadena de Markov que surge aquí se mezcla rápidamente, lo que significa que convergerá significativamente más rápido (ver [20] para más detalles sobre la mezcla rápida). Creemos que el tiempo necesario en realidad es O(n). Este comportamiento se ilustra en la Figura 3, que muestra que para nuestra cadena de ejemplo (nuevamente promediada en 10 ejecuciones), después de 3n pasos, la distancia euclidiana entre la distribución real del dinero en el sistema y la distribución de máxima entropía es menor que .001. EL JUEGO BAJO JUGADA ESTRATÉGICA Hemos visto que el sistema se comporta bien si los agentes siguen todos una estrategia de umbral; ahora queremos demostrar que existe un <br>equilibrio de Nash</br> no trivial donde lo hacen (es decir, un <br>equilibrio de Nash</br> donde todos los agentes usan Sk para algún k > 0). ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "p2p network": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a <br>p2p network</br> is analyzed.",
                "It is shown that by adding a scrip system, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
                "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
                "Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "However, the cost of providing service can still be nontrivial.",
                "For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
                "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
                "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
                "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
                "These heavy users are some of the most expensive customers ISPs have.",
                "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
                "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
                "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems.",
                "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
                "Some of the P2P networks currently in use have implemented versions of these techniques.",
                "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
                "By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions.",
                "Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8].",
                "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
                "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
                "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
                "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
                "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
                "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
                "Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it.",
                "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
                "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
                "However, to avoid penalizing new users, they gave new users an average rating.",
                "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
                "Thus Kazaas reputation system is ineffective.",
                "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
                "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
                "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
                "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
                "However, they have a different set of problems.",
                "Perhaps the most common involve determining the amount of money in the system.",
                "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
                "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
                "A related problem involves handling newcomers.",
                "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
                "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
                "In this paper, we provide a formal model in which to analyze scrip systems.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents.",
                "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
                "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
                "In systems where the goal is to do work, new users can acquire money by performing work.",
                "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
                "The rest of the paper is organized as follows.",
                "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
                "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same threshold strategy.",
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some threshold strategy.",
                "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
                "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
                "We conclude in Section 7. 2.",
                "THE MODEL To begin, we formalize providing service in a <br>p2p network</br> as a non-cooperative game.",
                "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
                "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
                "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
                "This random-matching model fails to capture some salient aspects of a number of important settings.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large <br>p2p network</br>), but not all can.",
                "For example, some people may not have the time or resources to satisfy the request.",
                "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
                "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
                "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
                "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
                "Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made.",
                "For example, it is not clear what defection on the part of the requester means.",
                "In our model we try to deal with all these issues.",
                "Suppose that there are n agents.",
                "At each round, an agent is picked uniformly at random to make a request.",
                "Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request.",
                "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
                "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
                "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
                "If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
                "The agent that fulfills the request pays a cost of α < 1.",
                "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
                "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite game.",
                "Lastly, we assume that with more players requests come more often.",
                "Thus we assume that the time between rounds is 1/n.",
                "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
                "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
                "We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
                "V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request.",
                "This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
                "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
                "Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i.",
                "It is the discounted total of agent is utility in each round.",
                "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
                "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
                "Take an altruist to be someone who always fulfills requests.",
                "Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
                "Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it.",
                "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
                "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
                "While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others.",
                "For example a naive user of filesharing software with a good connection might well follow this strategy.",
                "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
                "As we have observed, such users seem to exist in some large systems.",
                "Suppose that our system has a altruists.",
                "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
                "Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system.",
                "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
                "Proposition 2.1.",
                "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
                "Proof.",
                "Consider the strategy for a standard player j in the presence of a altruists.",
                "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
                "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
                "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
                "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
                "Then we only need a > 1145.",
                "While this is a large number, it is small relative to the size of a large <br>p2p network</br>.",
                "Current systems all have a pool of users behaving like our altruists.",
                "This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
                "In some sense, this is not a problem at all.",
                "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
                "Indeed, current <br>p2p network</br> work quite well in terms of distributing content to people.",
                "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
                "Thus, it is worth looking at what can be done to make these systems work in their absence.",
                "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
                "We are interested in equilibria based on a scrip system.",
                "Each time an agent has a request satisfied he must pay the person who satisfied it some amount.",
                "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
                "We denote by M the total amount of money in the system.",
                "We assume that M > 0 (otherwise no one will ever be able to get paid).",
                "In principle, agents are free to adopt a very wide variety of strategies.",
                "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
                "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
                "The class of strategies we are interested in is easy to motivate.",
                "The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more.",
                "On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
                "The natural balance between these two is a threshold strategy.",
                "Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise.",
                "Note that S0 is the strategy where the agent never volunteers.",
                "While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
                "We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
                "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
                "The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
                "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
                "Suppose that everyone plays Sk.",
                "For simplicity, assume that everyone has at most k dollars.",
                "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
                "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
                "If M ≥ kn, no agent will ever be willing to work.",
                "Thus, for the purposes of this section we assume that M < kn.",
                "From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk.",
                "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
                "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
                "If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}.",
                "If there are n agents, then the state of the game can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
                "Since the total amount of money is constant, not all of these states can arise in the game.",
                "For example the state where each player has $0 is impossible to reach in any game with money in the system.",
                "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
                "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
                "It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state.",
                "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
                "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
                "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
                "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
                "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
                "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
                "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
                "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
                "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
                "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
                "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
                "We can in fact completely characterize the distribution d∗ .",
                "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
                "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
                "The statement is correct under a number of senses of close.",
                "For definiteness, we consider the Euclidean distance.",
                "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
                "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
                "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
                "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
                "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16].",
                "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
                "This fraction clearly goes to 0 as n gets large.",
                "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
                "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
                "Let Pij denote the probability of transitioning from state i to state j.",
                "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
                "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution.",
                "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
                "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
                "We then considered how close the distribution stays to the maximum entropy distribution once it has reached it.",
                "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
                "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
                "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
                "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
                "We believe that the actually time needed is O(n).",
                "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)",
                "This is not true in general.",
                "If δ is small, then agents have no incentive to work.",
                "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
                "With small δ, S0 is the only equilibrium.",
                "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
                "We do this by first showing that, if every other agent is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one).",
                "We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy.",
                "It follows that this tuple of threshold strategies is a Nash equilibrium.",
                "As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a threshold strategy Sk that is a best response for agent i.",
                "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
                "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
                "For a later proof, it will be helpful to have a continuous set of strategies.",
                "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
                "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
                "Theorem 4.1.",
                "Fix a strategy Sγ and an agent i.",
                "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for agent i is Sk .",
                "Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
                "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
                "If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly.",
                "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
                "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
                "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
                "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
                "We remark that there may be best responses that are not threshold strategies.",
                "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy.",
                "Since we know that there is a best response that is a threshold strategy, we can look for a Nash equilibrium in the space of threshold strategies.",
                "Theorem 4.2.",
                "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the game G(n, δ) where all agents play Sγ for some integer γ > 0.",
                "Proof.",
                "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
                "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
                "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
                "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
                "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same threshold strategy.",
                "As we have already observed, one such equilibrium occurs at 0.",
                "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
                "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay.",
                "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
                "Consider k∗ , the smallest k such that k > M/n.",
                "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
                "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
                "This is the desired Nash equilibrium.",
                "This argument also shows us that we cannot in general expect fixed points to be unique.",
                "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
                "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
                "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
                "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
                "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
                "SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n).",
                "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
                "There is a tension between these objectives.",
                "It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases.",
                "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
                "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
                "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
                "Proof.",
                "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
                "Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r.",
                "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
                "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
                "We are currently exploring exactly what the optimal ratio is.",
                "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
                "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system.",
                "This produces the same effect.",
                "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has.",
                "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
                "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
                "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
                "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
                "This gives existing agents no incentive to leave and rejoin as newcomers.",
                "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
                "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
                "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
                "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
                "For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
                "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
                "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
                "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
                "However, we have not yet explored the changes required to implement this change.",
                "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
                "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
                "To get d dollars, his sybils together still have to perform d units of work.",
                "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
                "Nevertheless, there are some less direct ways that an agent could take advantage of sybils.",
                "First, by having more identities he will have a greater probability of getting chosen to make a request.",
                "It is easy to see that this will lead to the agent having higher total utility.",
                "However, this is just an artifact of our model.",
                "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
                "In practice, requests are made to satisfy a desire.",
                "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
                "Having sybils should not increase the need to have a request satisfied.",
                "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
                "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
                "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy.",
                "Intuitively, the need for money is not as critical if money is easier to obtain.",
                "Unlike the first concern, this seems like a real issue.",
                "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
                "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
                "Third, an agent can drive down the cost of fulfilling a request by introducing many sybils.",
                "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
                "Concievably he could alternate between these techniques to magnify the effects of work he does.",
                "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
                "Given the number of sybils that would be needed to cause a real change in the perceived size of a large <br>p2p network</br>, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
                "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
                "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
                "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
                "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
                "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
                "CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy.",
                "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
                "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
                "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
                "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation.",
                "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
                "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
                "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
                "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
                "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
                "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system.",
                "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
                "This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
                "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
                "There are some similarities between hoarding and altruistic behavior.",
                "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
                "It would be interesting to investigate the extent to which our system is robust against hoarders.",
                "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
                "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
                "There are also a number of implementation issues that would have to be resolved in a real system.",
                "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
                "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
                "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
                "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
                "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
                "Karma suggests several ways to incentivize nodes to perform these duties.",
                "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
                "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
                "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
                "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
                "REFERENCES [1] E. Adar and B.",
                "A. Huberman.",
                "Free riding on Gnutella.",
                "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
                "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
                "Sybilproof reputation mechanisms.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
                "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
                "The sybil attack.",
                "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
                "Cooperation in the prisoners dilemma with anonymous random matching.",
                "Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
                "Robust incentive techniques for peer-to-peer networks.",
                "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
                "Pricing wifi at starbucks: issues in online mechanism design.",
                "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
                "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
                "The social cost of cheap pseudonyms.",
                "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
                "Propagation of trust and distrust.",
                "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
                "A reputation system for peer-to-peer networks.",
                "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
                "Link spam detection based on mass estimation.",
                "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
                "Fileteller: Paying and getting paid for file storage.",
                "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
                "Where do we stand on maximum entropy?",
                "In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118.",
                "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
                "The Eigentrust algorithm for reputation management in P2P networks.",
                "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
                "Social norms and community enforcement.",
                "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
                "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
                "Mixing of random walks and other diffusions on a graph.",
                "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
                "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
                "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
                "Markov Decision Processes.",
                "Wiley, 1994. [24] SETI@home.",
                "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
                "Karma: A secure economic framework for peer-to-peer resource sharing.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
                "Building trust in decentralized peer-to-peer electronic communities.",
                "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
                "Making eigenvector-based reputation systems robust to collusion.",
                "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
            ],
            "original_annotated_samples": [
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a <br>p2p network</br> is analyzed.",
                "THE MODEL To begin, we formalize providing service in a <br>p2p network</br> as a non-cooperative game.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large <br>p2p network</br>), but not all can.",
                "While this is a large number, it is small relative to the size of a large <br>p2p network</br>.",
                "Indeed, current <br>p2p network</br> work quite well in terms of distributing content to people."
            ],
            "translated_annotated_samples": [
                "La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una <br>red P2P</br>.",
                "EL MODELO Para empezar, formalizamos la prestación de servicios en una <br>red P2P</br> como un juego no cooperativo.",
                "Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una <br>red P2P</br> grande), pero no todas pueden hacerlo.",
                "Si bien este es un número grande, es pequeño en comparación con el tamaño de una <br>red P2P</br> grande.",
                "De hecho, las <br>redes P2P</br> actuales funcionan bastante bien en términos de distribuir contenido a las personas."
            ],
            "translated_text": "Eficiencia y equilibrios de Nash en un sistema de vales para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación. Universidad Cornell halpern@cs.cornell.edu Ian Kash Departamento de Ciencias de la Computación. La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una <br>red P2P</br>. Se demuestra que al agregar un sistema de script, se puede obtener un mecanismo que admita un equilibrio de Nash razonable que reduzca el comportamiento de aprovechamiento gratuito. El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el bienestar social) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia. El trabajo tiene implicaciones para muchos sistemas en línea, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; I.2.11 [Inteligencia Artificial]: Inteligencia Artificial Distribuida-Sistemas Multiagente; J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Computadoras y Sociedad]: Comercio Electrónico Términos Generales Economía, Teoría 1. INTRODUCCIÓN Una característica común de muchos sistemas distribuidos en línea es que los individuos proporcionan servicios entre sí. Las redes peer-to-peer (P2P) (como Kazaa [25] o BitTorrent [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás. El hecho de que las personas se presten servicios entre sí generalmente aumenta el bienestar social: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona. Sin embargo, el costo de brindar el servicio aún puede ser significativo. Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo. Por lo tanto, en muchos sistemas existe un fuerte incentivo para convertirse en un \"pasajero gratis\" y beneficiarse del sistema sin contribuir a él. Este no es simplemente un problema teórico; estudios de la red Gnutella [22] han demostrado que casi el 70 por ciento de los usuarios no comparten archivos y casi el 50 por ciento de las respuestas provienen del 1 por ciento superior de los anfitriones que comparten [1]. Tener relativamente pocos usuarios que proporcionen la mayor parte del servicio crea un punto de centralización; la desaparición de un pequeño porcentaje de usuarios puede afectar enormemente la funcionalidad del sistema. Además, las tendencias actuales parecen estar llevando a la eliminación de los usuarios altruistas en los que estos sistemas confían. Estos usuarios intensivos son algunos de los clientes más costosos que tienen los proveedores de servicios de Internet. Por lo tanto, a medida que la cantidad de tráfico ha aumentado, los proveedores de servicios de Internet han comenzado a buscar formas de reducir este tráfico. Algunas universidades han comenzado a cobrar a los estudiantes por el uso excesivo de ancho de banda; otras revocan el acceso a la red por ello [5]. Un número de empresas también se han formado cuyo servicio es detectar el uso excesivo de ancho de banda [19]. Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros sistemas en línea distribuidos. Se ha invertido una cantidad significativa de investigación en el diseño de sistemas de reputación para dar tratamiento preferencial a los usuarios que comparten archivos. Algunas de las redes P2P actualmente en uso han implementado versiones de estas técnicas. Sin embargo, estos enfoques tienden a caer en una de dos categorías: o son similares al trueque o se basan en la reputación. Por \"tipo trueque\", nos referimos a que cada agente basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones. Quizás el ejemplo más conocido de un sistema similar al trueque es BitTorrent, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual. Dado que el trueque está restringido a usuarios actualmente interesados en un solo archivo, esto funciona bien para archivos populares, pero tiende a tener problemas para mantener la disponibilidad de los menos populares. Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el sistema de créditos utilizado por eMule 140 [8]. Cada usuario realiza un seguimiento de su historial de interacciones con otros usuarios y da prioridad a aquellos de los que ha descargado previamente. Sin embargo, en un sistema grande, la probabilidad de que un par de usuarios elegidos al azar hayan interactuado antes es bastante baja, por lo que este historial de interacciones no será de gran ayuda. Anagnostakis y Greenwald [2] presentan una versión más sofisticada de este enfoque, pero aún parece sufrir de problemas similares. Se han realizado varios intentos de proporcionar sistemas de reputación generales (por ejemplo, [12, 13, 17, 27]). La idea básica es agregar la experiencia de cada usuario en un número global para cada individuo que represente de manera intuitiva la visión del sistema sobre la reputación de ese individuo. Sin embargo, estos intentos tienden a sufrir problemas prácticos porque implícitamente consideran a los usuarios como buenos o malos, asumen que los buenos usuarios actuarán de acuerdo con el protocolo especificado, y que hay relativamente pocos usuarios malos. Desafortunadamente, si existen formas fáciles de manipular el sistema, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen. No podemos depender solo de unos pocos usuarios siendo malos (en el sentido de no seguir el protocolo prescrito). Por ejemplo, Kazaa utiliza una medida de la proporción entre el número de cargas y el número de descargas para identificar usuarios buenos y malos. Sin embargo, para evitar penalizar a los nuevos usuarios, les dieron a los nuevos usuarios una calificación promedio. Los usuarios descubrieron que podían aprovechar esta calificación relativamente buena para viajar gratis por un tiempo y, una vez que comenzaba a empeorar, podían eliminar su información almacenada y regresar efectivamente como un nuevo usuario, evitando así el sistema (ver [2] para una discusión y [11] para un análisis formal de este lavado de imagen). Por lo tanto, el sistema de reputación de Kazaas es ineficaz. Este es un caso simple de una vulnerabilidad más general de tales sistemas a los ataques de sybil [6], donde un solo usuario mantiene múltiples identidades y las utiliza de manera coordinada para obtener un mejor servicio del que obtendría de otra manera. Trabajos recientes han demostrado que la mayoría de los sistemas de reputación comunes son vulnerables (en el peor de los casos) a tales ataques [4]; sin embargo, el grado de esta vulnerabilidad aún no está claro. El análisis de las vulnerabilidades prácticas y la existencia de sistemas inmunes a tales ataques sigue siendo un área de investigación activa (por ejemplo, [4, 28, 14]). Los sistemas económicos simples basados en un vale o dinero parecen evitar muchos de estos problemas, son fáciles de implementar y son bastante populares (ver, por ejemplo, [13, 15, 26]). Sin embargo, tienen un conjunto diferente de problemas. Quizás los más comunes implican determinar la cantidad de dinero en el sistema. Hablando en términos generales, si hay muy poco dinero en el sistema en relación con el número de agentes, entonces relativamente pocos usuarios pueden permitirse hacer solicitudes. Por otro lado, si hay demasiado dinero, entonces los usuarios no sentirán la necesidad de responder a una solicitud; ya tienen suficiente dinero. Un problema relacionado implica manejar a los recién llegados. Si a los recién llegados se les da una cantidad positiva de dinero, entonces el sistema está abierto a ataques de Sybil. Quizás no sorprendentemente, los sistemas de moneda fiduciaria terminan teniendo que lidiar con problemas económicos estándar como la inflación, las burbujas y las crisis [26]. En este artículo, proporcionamos un modelo formal en el cual analizar sistemas de escritura. Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero). Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (bienestar social), dado el número de agentes. También conduce a una solución para el problema de tratar con los recién llegados: simplemente asumimos que los nuevos usuarios llegan sin dinero, y ajustamos el precio del servicio (lo cual es equivalente a ajustar la oferta de dinero) para mantener la proporción que maximiza la eficiencia. Si bien asumir que los nuevos usuarios no tienen dinero no funcionará en todos los contextos, creemos que este enfoque será ampliamente aplicable. En sistemas donde el objetivo es realizar trabajo, los nuevos usuarios pueden adquirir dinero realizando trabajo. También debería funcionar en el sistema Kazaalike donde un usuario puede ingresar con algunos recursos (por ejemplo, una colección privada de MP3). El resto del documento está organizado de la siguiente manera. En la Sección 2, presentamos nuestro modelo formal y observamos que se puede utilizar para comprender el efecto de los altruistas. En la Sección 3, examinamos qué sucede en el juego bajo un juego no estratégico, si todos los agentes utilizan la misma estrategia de umbral. Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la entropía máxima. Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el juego donde todos los agentes utilizan alguna estrategia de umbral. Además, mostramos en la Sección 5 que el análisis conduce a una comprensión de cómo elegir la cantidad de dinero en el sistema (o, de manera equivalente, el costo para cumplir una solicitud) para maximizar la eficiencia, y también muestra cómo manejar a los nuevos usuarios. En la Sección 6, discutimos en qué medida nuestro enfoque puede manejar sybils y colusión. Concluimos en la Sección 7.2. EL MODELO Para empezar, formalizamos la prestación de servicios en una <br>red P2P</br> como un juego no cooperativo. A diferencia de gran parte de la modelización en esta área, nuestro modelo modelará las interacciones asimétricas en un sistema de intercambio de archivos en el que el emparejamiento de jugadores (aquellos que solicitan un archivo con aquellos que tienen ese archivo en particular) es una parte clave del sistema. Esto contrasta con gran parte de trabajos anteriores que utilizan emparejamiento aleatorio en un dilema del prisionero. Tales modelos fueron estudiados en la literatura económica [18, 7] y aplicados por primera vez a reputaciones en línea en [11]; una aplicación a P2P se encuentra en [9]. Este modelo de emparejamiento aleatorio no logra capturar algunos aspectos relevantes de varios entornos importantes. Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una <br>red P2P</br> grande), pero no todas pueden hacerlo. Por ejemplo, algunas personas pueden no tener el tiempo o los recursos para satisfacer la solicitud. El proceso de emparejamiento aleatorio ignora el hecho de que algunas personas pueden no ser capaces de satisfacer la solicitud. Presumiblemente, si la persona emparejada con el solicitante no pudiera satisfacer el emparejamiento, tendría que desertar. Además, no captura el hecho de que la decisión de si voluntariarse para satisfacer la solicitud debe tomarse antes del proceso de emparejamiento, no después. Es decir, el proceso de emparejamiento no captura el hecho de que si alguien no está dispuesto a satisfacer la solicitud, sin duda habrá otros que puedan hacerlo. Aunque nos referimos a nuestra unidad de moneda como el dólar, estos no son dólares reales ni los consideramos convertibles en dólares. Finalmente, las acciones y recompensas en el juego del dilema del prisionero no corresponden claramente a las decisiones reales que se pueden tomar. Por ejemplo, no está claro qué significa la deserción por parte del solicitante. En nuestro modelo intentamos abordar todos estos problemas. Supongamos que hay n agentes. En cada ronda, se elige de forma aleatoria y uniforme a un agente para hacer una solicitud. Cada otro agente puede satisfacer esta solicitud con una probabilidad β > 0 en todo momento, independientemente del comportamiento previo. El término β tiene la intención de capturar la probabilidad de que un agente esté ocupado o no tenga los recursos para cumplir con la solicitud. Suponer que β es independiente del tiempo no captura la intuición de que no poder cumplir una solicitud en el tiempo t puede estar correlacionado con no poder cumplirla en el tiempo t+1. Creemos que, en sistemas grandes, deberíamos poder eliminar la suposición de independencia, pero dejamos esto para trabajos futuros. En cualquier caso, aquellos agentes que sean capaces de satisfacer la solicitud deben elegir si desean o no ofrecerse como voluntarios para satisfacerla. Si al menos un agente se ofrece como voluntario, el solicitante recibe un beneficio de 1 utilidad (el trabajo se realiza) y uno de los voluntarios es elegido al azar para cumplir con la solicitud. El agente que cumple con la solicitud paga un costo de α < 1. Como es habitual en la literatura, asumimos que los agentes descuentan los beneficios futuros por un factor de δ por unidad de tiempo. Esto captura la intuición de que un util hoy vale más que un util mañana, y nos permite calcular la utilidad total derivada por un agente en un juego infinito. Por último, asumimos que con más jugadores las solicitudes llegan con más frecuencia. Por lo tanto, asumimos que el tiempo entre rondas es 1/n. Esto captura el hecho de que los sistemas que queremos modelar realmente están procesando muchas solicitudes en paralelo, por lo que esperaríamos que el número de solicitudes concurrentes sea proporcional al número de usuarios. Sea G(n, δ, α, β) este juego con n agentes, un factor de descuento de δ, un costo para satisfacer solicitudes de α y una probabilidad de poder satisfacer solicitudes de β. Cuando los dos últimos parámetros no son relevantes, a veces escribimos G(n, δ). Utilizamos la siguiente notación a lo largo del documento: • pt denota al agente elegido en la ronda t. • Bt i ∈ {0, 1} denota si el agente i puede satisfacer la solicitud en la ronda t. Bt i = 1 con probabilidad β > 0 y Bt i es independiente de Bt i para todo t = t. • V t i ∈ {0, 1} denota la decisión del agente i sobre si voluntariarse en la ronda t; 1 indica voluntariado. V t i está determinado por la estrategia del agente. • vt ∈ {j | V t j Bt j = 1} denota al agente elegido para satisfacer la solicitud. Este agente es elegido de manera uniforme al azar entre aquellos que están dispuestos (V t j = 1) y capaces (Bt j = 1) de satisfacer la solicitud. • ut i denota la utilidad del agente en la ronda t. Un agente estándar es aquel cuya utilidad se determina como se discutió en la introducción; es decir, el agente recibe 2. Para n grande, nuestro modelo converge a uno en el que los jugadores realizan solicitudes en tiempo real, y el tiempo entre las solicitudes de un jugador está distribuido de manera exponencial con media 1. Además, el tiempo entre las solicitudes atendidas por un único jugador también sigue una distribución exponencial. Una utilidad de 1 para una solicitud cumplida y una utilidad de -α por cumplir una solicitud. Por lo tanto, si i es un agente estándar, entonces ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 −α si i = vt 0 de lo contrario. • Ui = P∞ t=0 δt/n ut i denota la utilidad total para el agente i. Es el total descontado de la utilidad del agente en cada ronda. Ten en cuenta que el factor de descuento efectivo es δ1/n ya que un aumento en n conlleva a una reducción del tiempo entre rondas. Ahora que tenemos un modelo de cómo hacer y satisfacer solicitudes, lo utilizamos para analizar el comportamiento de no contribuir. Considera a un altruista como alguien que siempre cumple peticiones. El agente podría comportarse de manera altruista de manera racional si la función de utilidad del agente tiene la siguiente forma, para algún α > 0: ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 α si i = vt 0 en otro caso. Por lo tanto, en lugar de sufrir una pérdida de utilidad al satisfacer una solicitud, un agente obtiene utilidad positiva al satisfacerla. Una función de utilidad de este tipo es una representación razonable del placer que algunas personas obtienen al sentir que son quienes proporcionan la música que todos están tocando. Para agentes altruistas como estos, jugar la estrategia que establece V t i = 1 para todo t es dominante. Si bien tener una función de utilidad no estándar podría ser una razón por la cual un agente racional podría usar esta estrategia, ciertamente hay otras razones. Por ejemplo, un usuario inexperto de software de intercambio de archivos con una buena conexión bien podría seguir esta estrategia. Todo lo que importa para la siguiente discusión es que hay algunos agentes que utilizan esta estrategia, sea por la razón que sea. Como hemos observado, parece que existen usuarios de este tipo en algunos sistemas grandes. Supongamos que nuestro sistema tiene altruistas. Intuitivamente, si a es moderadamente grande, lograrán satisfacer la mayoría de las solicitudes en el sistema incluso si otros agentes no trabajan. Por lo tanto, hay poco incentivo para que cualquier otro agente se ofrezca como voluntario, porque ya está obteniendo pleno beneficio al participar en el sistema. Basándose en esta intuición, es un cálculo relativamente sencillo determinar un valor de a que depende solo de α, β y δ, pero no del número n de jugadores en el sistema, de modo que la estrategia dominante para todos los agentes estándar i sea nunca ofrecerse voluntariamente para satisfacer ninguna solicitud (es decir, V t i = 0 para todo t). Proposición 2.1. Existe un a que depende solo de α, β y δ tal que, en G(n, δ, α, β) con al menos a altruistas, no ofrecerse como voluntario en cada ronda es una estrategia dominante para todos los agentes estándar. Prueba. Considera la estrategia para un jugador estándar j en presencia de altruistas. Incluso sin dinero, el jugador j logrará que se satisfaga una solicitud con probabilidad 1 − (1 − β)a solo a través de las acciones de estos altruistas. Por lo tanto, incluso si j es elegido para hacer una solicitud en cada ronda, la utilidad adicional esperada máxima que puede esperar obtener al tener dinero es P∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ). Si (1 − β)a /(1 − δ) > α o, equivalentemente, si a > log1−β(α(1 − δ)), nunca ofrecerse como voluntario es una estrategia dominante. Considera los siguientes valores razonables para nuestros parámetros: β = .01 (para que cada jugador pueda satisfacer el 1% de las solicitudes), α = .1 (un costo bajo pero no despreciable), δ = .9999/día 142 (lo que corresponde a un factor de descuento anual de aproximadamente 0.95), y un promedio de 1 solicitud por día por jugador. Entonces solo necesitamos un > 1145. Si bien este es un número grande, es pequeño en comparación con el tamaño de una <br>red P2P</br> grande. Los sistemas actuales tienen un grupo de usuarios que se comportan como nuestros altruistas. Esto significa que los intentos de agregar un sistema de reputación encima de un sistema P2P existente para influir en los usuarios a cooperar no tendrán efecto en usuarios racionales. Para tener una distribución justa del trabajo, estos sistemas deben ser rediseñados fundamentalmente para eliminar el grupo de usuarios altruistas. En cierto sentido, esto no es un problema en absoluto. En un sistema con altruistas, los altruistas presumiblemente están felices, al igual que los agentes estándar, quienes ven casi todas sus solicitudes satisfechas sin tener que hacer ningún trabajo. De hecho, las <br>redes P2P</br> actuales funcionan bastante bien en términos de distribuir contenido a las personas. ",
            "candidates": [],
            "error": [
                [
                    "red P2P",
                    "red P2P",
                    "red P2P",
                    "red P2P",
                    "redes P2P"
                ]
            ]
        },
        "online system": {
            "translated_key": "sistemas en línea",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed.",
                "It is shown that by adding a scrip system, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "The work has implications for many <br>online system</br>s, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
                "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
                "Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "However, the cost of providing service can still be nontrivial.",
                "For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
                "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
                "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
                "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
                "These heavy users are some of the most expensive customers ISPs have.",
                "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
                "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
                "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed <br>online system</br>s.",
                "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
                "Some of the P2P networks currently in use have implemented versions of these techniques.",
                "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
                "By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions.",
                "Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8].",
                "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
                "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
                "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
                "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
                "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
                "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
                "Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it.",
                "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
                "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
                "However, to avoid penalizing new users, they gave new users an average rating.",
                "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
                "Thus Kazaas reputation system is ineffective.",
                "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
                "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
                "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
                "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
                "However, they have a different set of problems.",
                "Perhaps the most common involve determining the amount of money in the system.",
                "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
                "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
                "A related problem involves handling newcomers.",
                "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
                "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
                "In this paper, we provide a formal model in which to analyze scrip systems.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents.",
                "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
                "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
                "In systems where the goal is to do work, new users can acquire money by performing work.",
                "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
                "The rest of the paper is organized as follows.",
                "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
                "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same threshold strategy.",
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some threshold strategy.",
                "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
                "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
                "We conclude in Section 7. 2.",
                "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative game.",
                "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
                "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
                "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
                "This random-matching model fails to capture some salient aspects of a number of important settings.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can.",
                "For example, some people may not have the time or resources to satisfy the request.",
                "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
                "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
                "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
                "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
                "Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made.",
                "For example, it is not clear what defection on the part of the requester means.",
                "In our model we try to deal with all these issues.",
                "Suppose that there are n agents.",
                "At each round, an agent is picked uniformly at random to make a request.",
                "Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request.",
                "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
                "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
                "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
                "If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
                "The agent that fulfills the request pays a cost of α < 1.",
                "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
                "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite game.",
                "Lastly, we assume that with more players requests come more often.",
                "Thus we assume that the time between rounds is 1/n.",
                "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
                "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
                "We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
                "V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request.",
                "This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
                "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
                "Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i.",
                "It is the discounted total of agent is utility in each round.",
                "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
                "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
                "Take an altruist to be someone who always fulfills requests.",
                "Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
                "Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it.",
                "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
                "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
                "While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others.",
                "For example a naive user of filesharing software with a good connection might well follow this strategy.",
                "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
                "As we have observed, such users seem to exist in some large systems.",
                "Suppose that our system has a altruists.",
                "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
                "Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system.",
                "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
                "Proposition 2.1.",
                "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
                "Proof.",
                "Consider the strategy for a standard player j in the presence of a altruists.",
                "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
                "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
                "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
                "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
                "Then we only need a > 1145.",
                "While this is a large number, it is small relative to the size of a large P2P network.",
                "Current systems all have a pool of users behaving like our altruists.",
                "This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
                "In some sense, this is not a problem at all.",
                "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
                "Indeed, current P2P network work quite well in terms of distributing content to people.",
                "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
                "Thus, it is worth looking at what can be done to make these systems work in their absence.",
                "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
                "We are interested in equilibria based on a scrip system.",
                "Each time an agent has a request satisfied he must pay the person who satisfied it some amount.",
                "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
                "We denote by M the total amount of money in the system.",
                "We assume that M > 0 (otherwise no one will ever be able to get paid).",
                "In principle, agents are free to adopt a very wide variety of strategies.",
                "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
                "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
                "The class of strategies we are interested in is easy to motivate.",
                "The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more.",
                "On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
                "The natural balance between these two is a threshold strategy.",
                "Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise.",
                "Note that S0 is the strategy where the agent never volunteers.",
                "While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
                "We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
                "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
                "The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
                "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
                "Suppose that everyone plays Sk.",
                "For simplicity, assume that everyone has at most k dollars.",
                "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
                "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
                "If M ≥ kn, no agent will ever be willing to work.",
                "Thus, for the purposes of this section we assume that M < kn.",
                "From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk.",
                "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
                "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
                "If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}.",
                "If there are n agents, then the state of the game can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
                "Since the total amount of money is constant, not all of these states can arise in the game.",
                "For example the state where each player has $0 is impossible to reach in any game with money in the system.",
                "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
                "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
                "It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state.",
                "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
                "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
                "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
                "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
                "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
                "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
                "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
                "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
                "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
                "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
                "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
                "We can in fact completely characterize the distribution d∗ .",
                "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
                "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
                "The statement is correct under a number of senses of close.",
                "For definiteness, we consider the Euclidean distance.",
                "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
                "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
                "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
                "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
                "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16].",
                "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
                "This fraction clearly goes to 0 as n gets large.",
                "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
                "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
                "Let Pij denote the probability of transitioning from state i to state j.",
                "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
                "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution.",
                "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
                "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
                "We then considered how close the distribution stays to the maximum entropy distribution once it has reached it.",
                "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
                "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
                "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
                "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
                "We believe that the actually time needed is O(n).",
                "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)",
                "This is not true in general.",
                "If δ is small, then agents have no incentive to work.",
                "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
                "With small δ, S0 is the only equilibrium.",
                "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
                "We do this by first showing that, if every other agent is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one).",
                "We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy.",
                "It follows that this tuple of threshold strategies is a Nash equilibrium.",
                "As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a threshold strategy Sk that is a best response for agent i.",
                "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
                "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
                "For a later proof, it will be helpful to have a continuous set of strategies.",
                "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
                "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
                "Theorem 4.1.",
                "Fix a strategy Sγ and an agent i.",
                "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for agent i is Sk .",
                "Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
                "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
                "If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly.",
                "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
                "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
                "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
                "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
                "We remark that there may be best responses that are not threshold strategies.",
                "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy.",
                "Since we know that there is a best response that is a threshold strategy, we can look for a Nash equilibrium in the space of threshold strategies.",
                "Theorem 4.2.",
                "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the game G(n, δ) where all agents play Sγ for some integer γ > 0.",
                "Proof.",
                "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
                "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
                "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
                "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
                "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same threshold strategy.",
                "As we have already observed, one such equilibrium occurs at 0.",
                "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
                "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay.",
                "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
                "Consider k∗ , the smallest k such that k > M/n.",
                "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
                "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
                "This is the desired Nash equilibrium.",
                "This argument also shows us that we cannot in general expect fixed points to be unique.",
                "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
                "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
                "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
                "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
                "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
                "SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n).",
                "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
                "There is a tension between these objectives.",
                "It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases.",
                "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
                "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
                "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
                "Proof.",
                "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
                "Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r.",
                "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
                "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
                "We are currently exploring exactly what the optimal ratio is.",
                "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
                "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system.",
                "This produces the same effect.",
                "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has.",
                "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
                "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
                "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
                "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
                "This gives existing agents no incentive to leave and rejoin as newcomers.",
                "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
                "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
                "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
                "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
                "For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
                "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
                "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
                "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
                "However, we have not yet explored the changes required to implement this change.",
                "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
                "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
                "To get d dollars, his sybils together still have to perform d units of work.",
                "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
                "Nevertheless, there are some less direct ways that an agent could take advantage of sybils.",
                "First, by having more identities he will have a greater probability of getting chosen to make a request.",
                "It is easy to see that this will lead to the agent having higher total utility.",
                "However, this is just an artifact of our model.",
                "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
                "In practice, requests are made to satisfy a desire.",
                "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
                "Having sybils should not increase the need to have a request satisfied.",
                "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
                "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
                "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy.",
                "Intuitively, the need for money is not as critical if money is easier to obtain.",
                "Unlike the first concern, this seems like a real issue.",
                "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
                "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
                "Third, an agent can drive down the cost of fulfilling a request by introducing many sybils.",
                "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
                "Concievably he could alternate between these techniques to magnify the effects of work he does.",
                "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
                "Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
                "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
                "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
                "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
                "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
                "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
                "CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy.",
                "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
                "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
                "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
                "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation.",
                "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
                "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
                "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
                "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
                "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
                "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system.",
                "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
                "This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
                "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
                "There are some similarities between hoarding and altruistic behavior.",
                "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
                "It would be interesting to investigate the extent to which our system is robust against hoarders.",
                "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
                "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
                "There are also a number of implementation issues that would have to be resolved in a real system.",
                "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
                "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
                "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
                "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
                "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
                "Karma suggests several ways to incentivize nodes to perform these duties.",
                "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
                "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
                "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
                "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
                "REFERENCES [1] E. Adar and B.",
                "A. Huberman.",
                "Free riding on Gnutella.",
                "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
                "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
                "Sybilproof reputation mechanisms.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
                "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
                "The sybil attack.",
                "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
                "Cooperation in the prisoners dilemma with anonymous random matching.",
                "Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
                "Robust incentive techniques for peer-to-peer networks.",
                "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
                "Pricing wifi at starbucks: issues in online mechanism design.",
                "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
                "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
                "The social cost of cheap pseudonyms.",
                "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
                "Propagation of trust and distrust.",
                "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
                "A reputation system for peer-to-peer networks.",
                "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
                "Link spam detection based on mass estimation.",
                "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
                "Fileteller: Paying and getting paid for file storage.",
                "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
                "Where do we stand on maximum entropy?",
                "In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118.",
                "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
                "The Eigentrust algorithm for reputation management in P2P networks.",
                "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
                "Social norms and community enforcement.",
                "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
                "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
                "Mixing of random walks and other diffusions on a graph.",
                "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
                "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
                "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
                "Markov Decision Processes.",
                "Wiley, 1994. [24] SETI@home.",
                "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
                "Karma: A secure economic framework for peer-to-peer resource sharing.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
                "Building trust in decentralized peer-to-peer electronic communities.",
                "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
                "Making eigenvector-based reputation systems robust to collusion.",
                "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
            ],
            "original_annotated_samples": [
                "The work has implications for many <br>online system</br>s, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed <br>online system</br>s."
            ],
            "translated_annotated_samples": [
                "El trabajo tiene implicaciones para muchos <br>sistemas en línea</br>, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales.",
                "Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros <br>sistemas en línea</br> distribuidos."
            ],
            "translated_text": "Eficiencia y equilibrios de Nash en un sistema de vales para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación. Universidad Cornell halpern@cs.cornell.edu Ian Kash Departamento de Ciencias de la Computación. La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una red P2P. Se demuestra que al agregar un sistema de script, se puede obtener un mecanismo que admita un equilibrio de Nash razonable que reduzca el comportamiento de aprovechamiento gratuito. El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el bienestar social) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia. El trabajo tiene implicaciones para muchos <br>sistemas en línea</br>, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; I.2.11 [Inteligencia Artificial]: Inteligencia Artificial Distribuida-Sistemas Multiagente; J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Computadoras y Sociedad]: Comercio Electrónico Términos Generales Economía, Teoría 1. INTRODUCCIÓN Una característica común de muchos sistemas distribuidos en línea es que los individuos proporcionan servicios entre sí. Las redes peer-to-peer (P2P) (como Kazaa [25] o BitTorrent [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás. El hecho de que las personas se presten servicios entre sí generalmente aumenta el bienestar social: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona. Sin embargo, el costo de brindar el servicio aún puede ser significativo. Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo. Por lo tanto, en muchos sistemas existe un fuerte incentivo para convertirse en un \"pasajero gratis\" y beneficiarse del sistema sin contribuir a él. Este no es simplemente un problema teórico; estudios de la red Gnutella [22] han demostrado que casi el 70 por ciento de los usuarios no comparten archivos y casi el 50 por ciento de las respuestas provienen del 1 por ciento superior de los anfitriones que comparten [1]. Tener relativamente pocos usuarios que proporcionen la mayor parte del servicio crea un punto de centralización; la desaparición de un pequeño porcentaje de usuarios puede afectar enormemente la funcionalidad del sistema. Además, las tendencias actuales parecen estar llevando a la eliminación de los usuarios altruistas en los que estos sistemas confían. Estos usuarios intensivos son algunos de los clientes más costosos que tienen los proveedores de servicios de Internet. Por lo tanto, a medida que la cantidad de tráfico ha aumentado, los proveedores de servicios de Internet han comenzado a buscar formas de reducir este tráfico. Algunas universidades han comenzado a cobrar a los estudiantes por el uso excesivo de ancho de banda; otras revocan el acceso a la red por ello [5]. Un número de empresas también se han formado cuyo servicio es detectar el uso excesivo de ancho de banda [19]. Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros <br>sistemas en línea</br> distribuidos. Se ha invertido una cantidad significativa de investigación en el diseño de sistemas de reputación para dar tratamiento preferencial a los usuarios que comparten archivos. Algunas de las redes P2P actualmente en uso han implementado versiones de estas técnicas. Sin embargo, estos enfoques tienden a caer en una de dos categorías: o son similares al trueque o se basan en la reputación. Por \"tipo trueque\", nos referimos a que cada agente basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones. Quizás el ejemplo más conocido de un sistema similar al trueque es BitTorrent, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual. Dado que el trueque está restringido a usuarios actualmente interesados en un solo archivo, esto funciona bien para archivos populares, pero tiende a tener problemas para mantener la disponibilidad de los menos populares. Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el sistema de créditos utilizado por eMule 140 [8]. Cada usuario realiza un seguimiento de su historial de interacciones con otros usuarios y da prioridad a aquellos de los que ha descargado previamente. Sin embargo, en un sistema grande, la probabilidad de que un par de usuarios elegidos al azar hayan interactuado antes es bastante baja, por lo que este historial de interacciones no será de gran ayuda. Anagnostakis y Greenwald [2] presentan una versión más sofisticada de este enfoque, pero aún parece sufrir de problemas similares. Se han realizado varios intentos de proporcionar sistemas de reputación generales (por ejemplo, [12, 13, 17, 27]). La idea básica es agregar la experiencia de cada usuario en un número global para cada individuo que represente de manera intuitiva la visión del sistema sobre la reputación de ese individuo. Sin embargo, estos intentos tienden a sufrir problemas prácticos porque implícitamente consideran a los usuarios como buenos o malos, asumen que los buenos usuarios actuarán de acuerdo con el protocolo especificado, y que hay relativamente pocos usuarios malos. Desafortunadamente, si existen formas fáciles de manipular el sistema, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen. No podemos depender solo de unos pocos usuarios siendo malos (en el sentido de no seguir el protocolo prescrito). Por ejemplo, Kazaa utiliza una medida de la proporción entre el número de cargas y el número de descargas para identificar usuarios buenos y malos. Sin embargo, para evitar penalizar a los nuevos usuarios, les dieron a los nuevos usuarios una calificación promedio. Los usuarios descubrieron que podían aprovechar esta calificación relativamente buena para viajar gratis por un tiempo y, una vez que comenzaba a empeorar, podían eliminar su información almacenada y regresar efectivamente como un nuevo usuario, evitando así el sistema (ver [2] para una discusión y [11] para un análisis formal de este lavado de imagen). Por lo tanto, el sistema de reputación de Kazaas es ineficaz. Este es un caso simple de una vulnerabilidad más general de tales sistemas a los ataques de sybil [6], donde un solo usuario mantiene múltiples identidades y las utiliza de manera coordinada para obtener un mejor servicio del que obtendría de otra manera. Trabajos recientes han demostrado que la mayoría de los sistemas de reputación comunes son vulnerables (en el peor de los casos) a tales ataques [4]; sin embargo, el grado de esta vulnerabilidad aún no está claro. El análisis de las vulnerabilidades prácticas y la existencia de sistemas inmunes a tales ataques sigue siendo un área de investigación activa (por ejemplo, [4, 28, 14]). Los sistemas económicos simples basados en un vale o dinero parecen evitar muchos de estos problemas, son fáciles de implementar y son bastante populares (ver, por ejemplo, [13, 15, 26]). Sin embargo, tienen un conjunto diferente de problemas. Quizás los más comunes implican determinar la cantidad de dinero en el sistema. Hablando en términos generales, si hay muy poco dinero en el sistema en relación con el número de agentes, entonces relativamente pocos usuarios pueden permitirse hacer solicitudes. Por otro lado, si hay demasiado dinero, entonces los usuarios no sentirán la necesidad de responder a una solicitud; ya tienen suficiente dinero. Un problema relacionado implica manejar a los recién llegados. Si a los recién llegados se les da una cantidad positiva de dinero, entonces el sistema está abierto a ataques de Sybil. Quizás no sorprendentemente, los sistemas de moneda fiduciaria terminan teniendo que lidiar con problemas económicos estándar como la inflación, las burbujas y las crisis [26]. En este artículo, proporcionamos un modelo formal en el cual analizar sistemas de escritura. Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero). Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (bienestar social), dado el número de agentes. También conduce a una solución para el problema de tratar con los recién llegados: simplemente asumimos que los nuevos usuarios llegan sin dinero, y ajustamos el precio del servicio (lo cual es equivalente a ajustar la oferta de dinero) para mantener la proporción que maximiza la eficiencia. Si bien asumir que los nuevos usuarios no tienen dinero no funcionará en todos los contextos, creemos que este enfoque será ampliamente aplicable. En sistemas donde el objetivo es realizar trabajo, los nuevos usuarios pueden adquirir dinero realizando trabajo. También debería funcionar en el sistema Kazaalike donde un usuario puede ingresar con algunos recursos (por ejemplo, una colección privada de MP3). El resto del documento está organizado de la siguiente manera. En la Sección 2, presentamos nuestro modelo formal y observamos que se puede utilizar para comprender el efecto de los altruistas. En la Sección 3, examinamos qué sucede en el juego bajo un juego no estratégico, si todos los agentes utilizan la misma estrategia de umbral. Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la entropía máxima. Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el juego donde todos los agentes utilizan alguna estrategia de umbral. Además, mostramos en la Sección 5 que el análisis conduce a una comprensión de cómo elegir la cantidad de dinero en el sistema (o, de manera equivalente, el costo para cumplir una solicitud) para maximizar la eficiencia, y también muestra cómo manejar a los nuevos usuarios. En la Sección 6, discutimos en qué medida nuestro enfoque puede manejar sybils y colusión. Concluimos en la Sección 7.2. EL MODELO Para empezar, formalizamos la prestación de servicios en una red P2P como un juego no cooperativo. A diferencia de gran parte de la modelización en esta área, nuestro modelo modelará las interacciones asimétricas en un sistema de intercambio de archivos en el que el emparejamiento de jugadores (aquellos que solicitan un archivo con aquellos que tienen ese archivo en particular) es una parte clave del sistema. Esto contrasta con gran parte de trabajos anteriores que utilizan emparejamiento aleatorio en un dilema del prisionero. Tales modelos fueron estudiados en la literatura económica [18, 7] y aplicados por primera vez a reputaciones en línea en [11]; una aplicación a P2P se encuentra en [9]. Este modelo de emparejamiento aleatorio no logra capturar algunos aspectos relevantes de varios entornos importantes. Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una red P2P grande), pero no todas pueden hacerlo. Por ejemplo, algunas personas pueden no tener el tiempo o los recursos para satisfacer la solicitud. El proceso de emparejamiento aleatorio ignora el hecho de que algunas personas pueden no ser capaces de satisfacer la solicitud. Presumiblemente, si la persona emparejada con el solicitante no pudiera satisfacer el emparejamiento, tendría que desertar. Además, no captura el hecho de que la decisión de si voluntariarse para satisfacer la solicitud debe tomarse antes del proceso de emparejamiento, no después. Es decir, el proceso de emparejamiento no captura el hecho de que si alguien no está dispuesto a satisfacer la solicitud, sin duda habrá otros que puedan hacerlo. Aunque nos referimos a nuestra unidad de moneda como el dólar, estos no son dólares reales ni los consideramos convertibles en dólares. Finalmente, las acciones y recompensas en el juego del dilema del prisionero no corresponden claramente a las decisiones reales que se pueden tomar. Por ejemplo, no está claro qué significa la deserción por parte del solicitante. En nuestro modelo intentamos abordar todos estos problemas. Supongamos que hay n agentes. En cada ronda, se elige de forma aleatoria y uniforme a un agente para hacer una solicitud. Cada otro agente puede satisfacer esta solicitud con una probabilidad β > 0 en todo momento, independientemente del comportamiento previo. El término β tiene la intención de capturar la probabilidad de que un agente esté ocupado o no tenga los recursos para cumplir con la solicitud. Suponer que β es independiente del tiempo no captura la intuición de que no poder cumplir una solicitud en el tiempo t puede estar correlacionado con no poder cumplirla en el tiempo t+1. Creemos que, en sistemas grandes, deberíamos poder eliminar la suposición de independencia, pero dejamos esto para trabajos futuros. En cualquier caso, aquellos agentes que sean capaces de satisfacer la solicitud deben elegir si desean o no ofrecerse como voluntarios para satisfacerla. Si al menos un agente se ofrece como voluntario, el solicitante recibe un beneficio de 1 utilidad (el trabajo se realiza) y uno de los voluntarios es elegido al azar para cumplir con la solicitud. El agente que cumple con la solicitud paga un costo de α < 1. Como es habitual en la literatura, asumimos que los agentes descuentan los beneficios futuros por un factor de δ por unidad de tiempo. Esto captura la intuición de que un util hoy vale más que un util mañana, y nos permite calcular la utilidad total derivada por un agente en un juego infinito. Por último, asumimos que con más jugadores las solicitudes llegan con más frecuencia. Por lo tanto, asumimos que el tiempo entre rondas es 1/n. Esto captura el hecho de que los sistemas que queremos modelar realmente están procesando muchas solicitudes en paralelo, por lo que esperaríamos que el número de solicitudes concurrentes sea proporcional al número de usuarios. Sea G(n, δ, α, β) este juego con n agentes, un factor de descuento de δ, un costo para satisfacer solicitudes de α y una probabilidad de poder satisfacer solicitudes de β. Cuando los dos últimos parámetros no son relevantes, a veces escribimos G(n, δ). Utilizamos la siguiente notación a lo largo del documento: • pt denota al agente elegido en la ronda t. • Bt i ∈ {0, 1} denota si el agente i puede satisfacer la solicitud en la ronda t. Bt i = 1 con probabilidad β > 0 y Bt i es independiente de Bt i para todo t = t. • V t i ∈ {0, 1} denota la decisión del agente i sobre si voluntariarse en la ronda t; 1 indica voluntariado. V t i está determinado por la estrategia del agente. • vt ∈ {j | V t j Bt j = 1} denota al agente elegido para satisfacer la solicitud. Este agente es elegido de manera uniforme al azar entre aquellos que están dispuestos (V t j = 1) y capaces (Bt j = 1) de satisfacer la solicitud. • ut i denota la utilidad del agente en la ronda t. Un agente estándar es aquel cuya utilidad se determina como se discutió en la introducción; es decir, el agente recibe 2. Para n grande, nuestro modelo converge a uno en el que los jugadores realizan solicitudes en tiempo real, y el tiempo entre las solicitudes de un jugador está distribuido de manera exponencial con media 1. Además, el tiempo entre las solicitudes atendidas por un único jugador también sigue una distribución exponencial. Una utilidad de 1 para una solicitud cumplida y una utilidad de -α por cumplir una solicitud. Por lo tanto, si i es un agente estándar, entonces ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 −α si i = vt 0 de lo contrario. • Ui = P∞ t=0 δt/n ut i denota la utilidad total para el agente i. Es el total descontado de la utilidad del agente en cada ronda. Ten en cuenta que el factor de descuento efectivo es δ1/n ya que un aumento en n conlleva a una reducción del tiempo entre rondas. Ahora que tenemos un modelo de cómo hacer y satisfacer solicitudes, lo utilizamos para analizar el comportamiento de no contribuir. Considera a un altruista como alguien que siempre cumple peticiones. El agente podría comportarse de manera altruista de manera racional si la función de utilidad del agente tiene la siguiente forma, para algún α > 0: ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 α si i = vt 0 en otro caso. Por lo tanto, en lugar de sufrir una pérdida de utilidad al satisfacer una solicitud, un agente obtiene utilidad positiva al satisfacerla. Una función de utilidad de este tipo es una representación razonable del placer que algunas personas obtienen al sentir que son quienes proporcionan la música que todos están tocando. Para agentes altruistas como estos, jugar la estrategia que establece V t i = 1 para todo t es dominante. Si bien tener una función de utilidad no estándar podría ser una razón por la cual un agente racional podría usar esta estrategia, ciertamente hay otras razones. Por ejemplo, un usuario inexperto de software de intercambio de archivos con una buena conexión bien podría seguir esta estrategia. Todo lo que importa para la siguiente discusión es que hay algunos agentes que utilizan esta estrategia, sea por la razón que sea. Como hemos observado, parece que existen usuarios de este tipo en algunos sistemas grandes. Supongamos que nuestro sistema tiene altruistas. Intuitivamente, si a es moderadamente grande, lograrán satisfacer la mayoría de las solicitudes en el sistema incluso si otros agentes no trabajan. Por lo tanto, hay poco incentivo para que cualquier otro agente se ofrezca como voluntario, porque ya está obteniendo pleno beneficio al participar en el sistema. Basándose en esta intuición, es un cálculo relativamente sencillo determinar un valor de a que depende solo de α, β y δ, pero no del número n de jugadores en el sistema, de modo que la estrategia dominante para todos los agentes estándar i sea nunca ofrecerse voluntariamente para satisfacer ninguna solicitud (es decir, V t i = 0 para todo t). Proposición 2.1. Existe un a que depende solo de α, β y δ tal que, en G(n, δ, α, β) con al menos a altruistas, no ofrecerse como voluntario en cada ronda es una estrategia dominante para todos los agentes estándar. Prueba. Considera la estrategia para un jugador estándar j en presencia de altruistas. Incluso sin dinero, el jugador j logrará que se satisfaga una solicitud con probabilidad 1 − (1 − β)a solo a través de las acciones de estos altruistas. Por lo tanto, incluso si j es elegido para hacer una solicitud en cada ronda, la utilidad adicional esperada máxima que puede esperar obtener al tener dinero es P∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ). Si (1 − β)a /(1 − δ) > α o, equivalentemente, si a > log1−β(α(1 − δ)), nunca ofrecerse como voluntario es una estrategia dominante. Considera los siguientes valores razonables para nuestros parámetros: β = .01 (para que cada jugador pueda satisfacer el 1% de las solicitudes), α = .1 (un costo bajo pero no despreciable), δ = .9999/día 142 (lo que corresponde a un factor de descuento anual de aproximadamente 0.95), y un promedio de 1 solicitud por día por jugador. Entonces solo necesitamos un > 1145. Si bien este es un número grande, es pequeño en comparación con el tamaño de una red P2P grande. Los sistemas actuales tienen un grupo de usuarios que se comportan como nuestros altruistas. Esto significa que los intentos de agregar un sistema de reputación encima de un sistema P2P existente para influir en los usuarios a cooperar no tendrán efecto en usuarios racionales. Para tener una distribución justa del trabajo, estos sistemas deben ser rediseñados fundamentalmente para eliminar el grupo de usuarios altruistas. En cierto sentido, esto no es un problema en absoluto. En un sistema con altruistas, los altruistas presumiblemente están felices, al igual que los agentes estándar, quienes ven casi todas sus solicitudes satisfechas sin tener que hacer ningún trabajo. De hecho, las redes P2P actuales funcionan bastante bien en términos de distribuir contenido a las personas. Sin embargo, como mencionamos en la introducción, hay razones para creer que estos altruistas podrían no estar presentes para siempre. Por lo tanto, vale la pena analizar qué se puede hacer para que estos sistemas funcionen en su ausencia. Para el resto de este documento asumimos que todos los agentes son estándar y tratan de maximizar la utilidad esperada. Estamos interesados en equilibrios basados en un sistema de vales. Cada vez que un agente tiene una solicitud satisfecha, debe pagarle a la persona que la satisfizo una cierta cantidad. Por ahora, asumimos que el pago es fijo; para simplificar, tomamos la cantidad como $1. Denotamos por M la cantidad total de dinero en el sistema. Suponemos que M > 0 (de lo contrario, nadie podrá cobrar nunca). En principio, los agentes son libres de adoptar una amplia variedad de estrategias. Pueden tomar decisiones basadas en los nombres de otros agentes o utilizar una estrategia que depende en gran medida de la historia, y combinar libremente estas estrategias. Para ayudar en nuestro análisis, nos gustaría poder restringir nuestra atención a una clase más simple de estrategias. La clase de estrategias en la que estamos interesados es fácil de motivar. La razón intuitiva para querer ganar dinero es para atender la posibilidad de que un agente se quede sin antes de tener la oportunidad de ganar más. Por otro lado, un agente racional con mucho dinero no querría trabajar, porque para cuando haya logrado gastar todo su dinero, la utilidad tendrá menos valor que el costo actual de trabajar. El equilibrio natural entre estos dos es una estrategia de umbral. Que Sk sea la estrategia en la que un agente se ofrece como voluntario siempre que tenga menos de k dólares y no lo haga de otra manera. Ten en cuenta que S0 es la estrategia en la que el agente nunca se ofrece como voluntario. Si bien todos los que juegan S0 conforman un equilibrio de Nash (nadie puede mejorar al ofrecerse como voluntario si nadie más está dispuesto a hacerlo), es un equilibrio poco interesante. Como mostraremos en la Sección 4, es suficiente restringir nuestra atención a esta clase de estrategias. Usamos Kt i para denotar la cantidad de dinero que el agente i tiene en el tiempo t. Claramente Kt+1 i = Kt i a menos que el agente i tenga una solicitud satisfecha, en cuyo caso Kt+1 i = Kt+1 i − 1 o el agente i cumple una solicitud, en cuyo caso Kt+1 i = Kt+1 i + 1. Formalmente, Kt+1 i = 8 < : Kt i − 1 si i = pt , P j=i V t j Bt j > 0, y Kt i > 0 Kt i + 1 si i = vt y Kt pt > 0 Kt i en otro caso. La estrategia de umbral Sk es la estrategia tal que V t i = 1 si Kt pt > 0 y Kt i < k, 0 en caso contrario. EL JUEGO BAJO JUEGO NO ESTRATÉGICO Antes de considerar el juego estratégico, examinamos qué sucede en el sistema si todos juegan simplemente la misma estrategia Sk. Nuestro objetivo general es demostrar que existe una distribución de dinero (es decir, la fracción de personas con cada cantidad de dinero) tal que el sistema converge a esta distribución en un sentido que se precisará en breve. Supongamos que todos juegan Sk. Para simplificar, asumamos que todos tienen a lo sumo k dólares. Podemos hacer esta suposición prácticamente sin pérdida de generalidad, ya que si alguien tiene más de k dólares, simplemente gastará dinero hasta tener como máximo k dólares. Después de este punto, nunca adquirirá más que k. Por lo tanto, eventualmente el sistema estará en tal estado. Si M ≥ kn, ningún agente estará dispuesto a trabajar. Por lo tanto, para los propósitos de esta sección asumimos que M < kn. Desde la perspectiva de un solo agente, en equilibrio (estocástico), el agente está experimentando un paseo aleatorio. Sin embargo, los parámetros de esta caminata aleatoria dependen de las caminatas aleatorias de los otros agentes y es bastante complicado resolverlo directamente. Por lo tanto, consideramos un análisis alternativo basado en la evolución del sistema en su conjunto. Si todos tienen a lo sumo k dólares, entonces la cantidad de dinero que tiene un agente es un elemento de {0, . . . , k}. Si hay n agentes, entonces el estado del juego puede ser descrito identificando cuánto dinero tiene cada agente, por lo que podemos representarlo mediante un elemento de Sk,n = {0, . . . , k}{1,...,n}. Dado que la cantidad total de dinero es constante, no todos estos estados pueden surgir en el juego. Por ejemplo, el estado en el que cada jugador tiene $0 es imposible de alcanzar en cualquier juego con dinero en el sistema. Sea mS(s) = P i∈{1...n} s(i) el monto total de dinero en el juego en el estado s, donde s(i) es la cantidad de dólares que el agente i tiene en el estado s. Queremos considerar solo aquellos estados donde el dinero total en el sistema es M, es decir, Sk,n,M = {s ∈ Sk,n | mS(s) = M}. Bajo el supuesto de que todos los agentes utilizan la estrategia Sk, la evolución del sistema puede ser tratada como una cadena de Markov Mk,n,M sobre el espacio de estados Sk,n,M. Es posible pasar de un estado a otro en una sola ronda si al elegir a un agente en particular para hacer una solicitud y a otro agente en particular para satisfacerla, las cantidades de dinero poseídas por cada agente se convierten en las del segundo estado. Por lo tanto, la probabilidad de una transición de un estado s a t es 0 a menos que existan dos agentes i y j tales que s(i) = t(i) para todos los i /∈ {i, j}, t(i) = s(i) + 1, y t(j) = s(j) − 1. En este caso, la probabilidad de transición de s a t es la probabilidad de que j sea elegido para gastar un dólar y tenga a alguien dispuesto y capaz de satisfacer su solicitud ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplicado por la probabilidad de que i sea elegido para satisfacer su solicitud (1/(|({i | s(i ) = k}| − Ij ). Ij es 0 si j tiene k dólares y 1 en caso contrario (es solo una corrección por el hecho de que j no puede satisfacer su propia solicitud). Sea ∆k el conjunto de distribuciones de probabilidad en {0, . . . , k}. Podemos pensar en un elemento de ∆k como la descripción de la fracción de personas con cada cantidad de dinero. Esta es una forma útil de ver el sistema, ya que normalmente no nos importa quién tiene cada cantidad de dinero, sino simplemente la fracción de personas que tienen cada cantidad. Como antes, no todos los elementos de ∆k son posibles, dada nuestra restricción de que la cantidad total de dinero es M. En lugar de pensar en términos de la cantidad total de dinero en el sistema, resultará más útil pensar en términos del monto promedio de dinero que tiene cada jugador. Por supuesto, la cantidad total de dinero en un sistema con n agentes es M si y solo si la cantidad promedio que cada jugador tiene es m = M/n. Sea ∆k m el conjunto de todas las distribuciones d ∈ ∆k tales que E(d) = m (es decir, Pk j=0 d(j)j = m). Dado un estado s ∈ Sk,n,M, sea ds ∈ ∆k m la distribución de dinero en s. Nuestro objetivo es demostrar que, si n es grande, entonces existe una distribución d∗ ∈ ∆k m tal que, con alta probabilidad, la cadena de Markov Mk,n,M estará casi siempre en un estado s tal que ds esté cerca de d∗. Por lo tanto, los agentes pueden basar sus decisiones sobre qué estrategia usar en la suposición de que estarán en ese estado. De hecho, podemos caracterizar completamente la distribución d∗. Dada una distribución d ∈ ∆k , sea H(d) = − X {j:d(j)=0} d(j) log(d(j)) la entropía de d. Si ∆ es un conjunto convexo cerrado de distribuciones, entonces es bien sabido que hay una distribución única en ∆ en la que la función de entropía alcanza su valor máximo en ∆. Dado que ∆k m se ve fácilmente como un conjunto convexo cerrado de distribuciones, se sigue que hay una distribución única en ∆k m que denotamos como d∗ k,m cuya entropía es mayor que la de todas las demás distribuciones en ∆k m. Ahora mostramos que, para n suficientemente grande, la cadena de Markov Mk,n,M está casi seguramente en un estado s tal que ds está cerca de d∗ k,M/n. La afirmación es correcta en varios sentidos de cercanía. Para mayor claridad, consideramos la distancia euclidiana. Dado > 0, sea Sk,n,m el conjunto de estados s en Sk,n,mn tal que Pk j=0 |ds (j) − d∗ k,m|2 < . Dada una cadena de Markov M sobre un espacio de estados S y S ⊆ S, sea Xt,s,S la variable aleatoria que denota que M se encuentra en un estado de S en el tiempo t, cuando se inicia en el estado s. Teorema 3.1. Para todo ε > 0, todo k y todo m, existe un n tal que para todo n > n y todos los estados s ∈ Sk,n,mn, existe un tiempo t∗ (que puede depender de k, n, m y ) tal que para t > t∗, tenemos que Pr(Xt,s,Sk,n,m, ) > 1 − . Prueba. (Bosquejo) Supongamos que en algún momento t, Pr(Xt,s,s) es uniforme para todos los s. Entonces, la probabilidad de estar en un conjunto de estados es simplemente el tamaño del conjunto dividido por el número total de estados. Una técnica estándar de la mecánica estadística es demostrar que hay un fenómeno de concentración alrededor de la distribución de entropía máxima [16]. Más precisamente, utilizando un argumento combinatorio directo, se puede demostrar que la fracción de estados que no están en Sk,n,m está acotada por p(n)/ecn, donde p es un polinomio. Esta fracción claramente tiende a 0 a medida que n crece. Por lo tanto, para n suficientemente grande, Pr(Xt,s,Sk,n,m, ) > 1 − si Pr(Xt,s,s ) es uniforme. Es relativamente sencillo demostrar que nuestra Cadena de Markov tiene una distribución límite π sobre Sk,n,mn, tal que para todo s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs. Que Pij denote la probabilidad de transición del estado i al estado j. Es fácil verificar mediante un cálculo explícito de las probabilidades de transición que Pij = Pji para todos los estados i y j. Se sigue inmediatamente de esta simetría que πs = πs, por lo que π es uniforme. Después de un tiempo suficiente, la distribución estará lo suficientemente cerca de π, de modo que las probabilidades vuelven a estar limitadas por una constante, lo cual es suficiente para completar el teorema. Realizamos una serie de experimentos que muestran que el comportamiento de máxima entropía descrito en el Teorema 3.1 surge rápidamente para valores bastante prácticos de n y t. El primer experimento mostró que, incluso si n = 1000, alcanzamos rápidamente la distribución de máxima entropía. Promediamos 10 ejecuciones de la cadena de Markov para k = 5 donde hay suficiente dinero para que cada agente tenga $2 comenzando desde una distribución muy extrema (cada agente tiene $0 o $5) y consideramos el tiempo promedio necesario para acercarse a varias distancias de la distribución de entropía máxima. Como muestra la Figura 1, después de 2,000 pasos, en promedio, la distancia euclidiana desde la distribución promedio del dinero hasta la distribución de máxima entropía es de .008; después de 3,000 pasos, la distancia disminuye a .001. Ten en cuenta que esto realmente solo son 3 unidades de tiempo reales, ya que con 1000 jugadores tenemos 1000 transacciones por unidad de tiempo. Luego consideramos qué tan cerca se mantiene la distribución de la entropía máxima una vez que la ha alcanzado. Para simplificar las cosas, comenzamos el sistema en un estado cuya distribución estaba muy cerca de la distribución de máxima entropía y lo ejecutamos durante 106 pasos, para varios valores de n. Como muestra la Figura 2, el sistema no se aleja mucho de la distribución de máxima entropía una vez que está allí. Por ejemplo, si n = 5000, el sistema nunca está a más de una distancia de .001 de la distribución de máxima entropía; si n = 25,000, nunca está a más de .0002 de la distribución de máxima entropía. Finalmente, consideramos con más cuidado cómo rápidamente el sistema converge a la distribución de máxima entropía para varios valores de n. Hay aproximadamente kn estados posibles, por lo que el tiempo de convergencia podría ser bastante largo en principio. Sin embargo, sospechamos que la cadena de Markov que surge aquí se mezcla rápidamente, lo que significa que convergerá significativamente más rápido (ver [20] para más detalles sobre la mezcla rápida). Creemos que el tiempo necesario en realidad es O(n). Este comportamiento se ilustra en la Figura 3, que muestra que para nuestra cadena de ejemplo (nuevamente promediada en 10 ejecuciones), después de 3n pasos, la distancia euclidiana entre la distribución real del dinero en el sistema y la distribución de máxima entropía es menor que .001. EL JUEGO BAJO JUGADA ESTRATÉGICA Hemos visto que el sistema se comporta bien si los agentes siguen todos una estrategia de umbral; ahora queremos demostrar que existe un equilibrio de Nash no trivial donde lo hacen (es decir, un equilibrio de Nash donde todos los agentes usan Sk para algún k > 0). Esto no es cierto en general. Si δ es pequeño, entonces los agentes no tienen incentivo para trabajar. Intuitivamente, si la utilidad futura está suficientemente descontada, entonces todo lo que importa es el presente, y no tiene sentido ofrecerse como voluntario para trabajar. Con un δ pequeño, S0 es el único equilibrio. Sin embargo, demostramos que para δ suficientemente grande, hay otro equilibrio en estrategias de umbral. Lo hacemos primero demostrando que, si cada otro agente está jugando una estrategia de umbral, entonces hay una mejor respuesta que también es una estrategia de umbral (aunque no necesariamente la misma). Luego demostramos que debe existir alguna estrategia de umbral (mixta) para la cual esta mejor respuesta sea la misma estrategia. Se deduce que este conjunto de estrategias de umbral es un equilibrio de Nash. Como primer paso, demostramos que, para todo k, si todos excepto el agente i están jugando Sk, entonces hay una estrategia de umbral Sk que es la mejor respuesta para el agente i. Para demostrar esto, necesitamos asumir que el sistema está cerca de la distribución de estado estacionario (es decir, la distribución de máxima entropía). Sin embargo, siempre y cuando δ esté suficientemente cerca de 1, podemos ignorar lo que sucede durante el período en el que el sistema no está en estado estacionario. Hasta ahora hemos considerado estrategias de umbral de la forma Sk, donde k es un número natural; este es un conjunto discreto de estrategias. Para una futura demostración, será útil contar con un conjunto continuo de estrategias. Si γ = k + γ, donde k es un número natural y 0 ≤ γ < 1, sea Sγ la estrategia que realiza Sk con probabilidad 1 − γ y Sk+1 con probabilidad γ. (Nótese que aquí no estamos considerando estrategias de umbral mixtas arbitrarias, sino simplemente mezclando entre estrategias adyacentes con el único propósito de hacer que las estrategias sean continuas de una manera natural). El Teorema 3.1 se aplica a las estrategias Sγ (la misma prueba se realiza sin cambios), donde γ es un número real no negativo arbitrario. Teorema 4.1. Fije una estrategia Sγ y un agente i. Existe δ∗ < 1 y n∗ tal que si δ > δ∗ , n > n∗ , y cada agente que no sea i está jugando Sγ en el juego G(n, δ), entonces existe un entero k tal que la mejor respuesta para el agente i es Sk. Ya sea que k sea único (es decir, haya una única mejor respuesta que también sea una estrategia de umbral), o existe un entero k tal que Sγ sea una mejor respuesta para el agente i para todos los γ en el intervalo [k, k + 1] (y estas son las únicas mejores respuestas entre las estrategias de umbral). Prueba. (Bosquejo:) Si δ es suficientemente grande, podemos ignorar lo que sucede antes de que el sistema converja a la distribución de entropía máxima. Si n es suficientemente grande, entonces la estrategia jugada por un agente no afectará significativamente la distribución del dinero. Por lo tanto, la probabilidad de que i se mueva de un estado (cantidad de dinero) a otro depende únicamente de su estrategia (ya que podemos considerar que la probabilidad de que i sea elegido para hacer una solicitud y la probabilidad de que i sea elegido para satisfacer una solicitud son constantes). Por lo tanto, desde su punto de vista, el sistema es un proceso de decisión de Markov (MDP), y necesita calcular la política óptima (estrategia) para este MDP. Se desprende de los resultados estándar [23, Teorema 6.11.6] que existe una política óptima que es una política de umbral. El argumento de que la mejor respuesta es única o que existe un intervalo de mejores respuestas se desprende de un análisis más detallado de la función de valor para el MDP. Observamos que puede haber mejores respuestas que no son estrategias de umbral. Todo lo que el Teorema 4.1 muestra es que, entre las mejores respuestas, hay al menos una que es una estrategia de umbral. Dado que sabemos que hay una mejor respuesta que es una estrategia de umbral, podemos buscar un equilibrio de Nash en el espacio de estrategias de umbral. Teorema 4.2. Para todo M, existe δ∗ < 1 y n∗ tal que si δ > δ∗ y n > n∗, existe un equilibrio de Nash en el juego G(n, δ) donde todos los agentes juegan Sγ para algún entero γ > 0. Prueba. Se sigue fácilmente de la prueba del Teorema 4.1 que si br(δ, γ) es la estrategia umbral de mejor respuesta mínima si todos los demás agentes están jugando Sγ y el factor de descuento es δ, entonces, para δ fijo, br(δ, ·) es una función escalonada. También se sigue 3 Formalmente, necesitamos definir las estrategias cuando el sistema está lejos del equilibrio. Sin embargo, estas estrategias lejos del equilibrio (estocástico) no afectarán el comportamiento de equilibrio cuando n sea grande y las desviaciones del equilibrio estocástico sean extremadamente raras. 145 del teorema que si hay dos mejores respuestas, entonces una mezcla de ellas también es una mejor respuesta. Por lo tanto, si podemos unir los pasos con una línea vertical, obtenemos una curva de mejor respuesta. Es fácil ver que en todos los puntos donde esta curva de mejor respuesta cruza la diagonal y = x se define un equilibrio de Nash donde todos los agentes están utilizando la misma estrategia de umbral. Como ya hemos observado, uno de estos equilibrios ocurre en 0. Si solo hay $M en el sistema, podemos restringirnos a estrategias de umbral Sk donde k ≤ M + 1. Dado que nadie puede tener más de $M, todas las estrategias Sk para k > M son equivalentes a SM; estas son simplemente las estrategias en las que el agente siempre se ofrece como voluntario en respuesta a una solicitud hecha por alguien que puede pagar. Claramente br(δ, SM) ≤ M para todo δ, por lo que la función de mejor respuesta está en o por debajo del equilibrio en M. Si k ≤ M/n, cada jugador tendrá al menos k dólares y por lo tanto no estará dispuesto a trabajar, siendo la mejor respuesta simplemente 0. Considera k∗, el menor k tal que k > M/n. No es difícil demostrar que para k∗ existe un δ∗ tal que para todo δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ . Se sigue por continuidad que si δ ≥ δ∗, debe existir algún γ tal que br(δ, γ) = γ. Este es el equilibrio de Nash deseado. Este argumento también nos muestra que no podemos esperar en general que los puntos fijos sean únicos. Si br(δ, k∗ ) = k∗ y br(δ, k + 1) > k + 1 entonces nuestro argumento muestra que debe haber un segundo punto fijo. En general, puede haber múltiples puntos fijos incluso cuando br(δ, k∗ ) > k∗ , como se ilustra en la Figura 4 con n = 1000 y M = 3000. 0 5 10 15 20 25 Estrategia del Resto de Agentes 0 5 10 15 20 25 Mejor Respuesta Figura 4: La función de mejor respuesta para n = 1000 y M = 3000. El Teorema 4.2 nos permite restringir nuestro diseño a agentes que utilizan estrategias de umbral con la confianza de que habrá un equilibrio no trivial. Sin embargo, esto no descarta la posibilidad de que pueda haber otros equilibrios que no involucren estrategias de umbral. Es incluso posible (aunque parece improbable) que algunos de estos equilibrios puedan ser mejores. 5. BIENESTAR SOCIAL Y ESCALABILIDAD Nuestros teoremas muestran que para cada valor de M y n, para un δ suficientemente grande, existe un equilibrio de Nash no trivial donde todos los agentes utilizan alguna estrategia de umbral Sγ(M,n). Desde el punto de vista del diseñador del sistema, no todos los equilibrios son igualmente buenos; queremos un equilibrio en el que el menor número posible de agentes tengan $0 cuando tengan la oportunidad de hacer una solicitud (para que puedan pagar la solicitud) y relativamente pocos agentes tengan más del monto umbral de dinero (para que siempre haya suficientes agentes para cumplir con la solicitud). Existe una tensión entre estos objetivos. No es difícil demostrar que a medida que la fracción de agentes con $0 aumenta en la distribución de entropía máxima, la fracción de agentes con la cantidad máxima de dinero disminuye. Por lo tanto, nuestro objetivo es entender cuál debería ser la cantidad óptima de dinero en el sistema, dada la cantidad de agentes. Es decir, queremos conocer la cantidad de dinero M que maximiza la eficiencia, es decir, la utilidad total esperada si todos los agentes utilizan Sγ(M,n). Primero observamos que el equilibrio más eficiente depende solo de la proporción de M a n, no de los valores reales de M y n. Teorema 5.1. Existe un n∗ tal que para todos los juegos G(n1, δ) y G(n2, δ) donde n1, n2 > n∗, si M1/n1 = M2/n2, entonces Sγ(M1,n1) = Sγ(M2,n2). Prueba. El teorema 3.1 muestra que la distribución de máxima entropía depende solo de k y la razón M/n, no de M y n por separado. Por lo tanto, dado r, para cada elección de k, hay una distribución única de entropía máxima dk,r. La mejor respuesta br(δ, k) depende solo de la distribución dk,r, no de M o n. Por lo tanto, el equilibrio de Nash depende solo de la proporción r. Es decir, para todas las elecciones de M y n tales que n es suficientemente grande (para que se aplique el Teorema 3.1) y M/n = r, las estrategias de equilibrio son las mismas. A la luz del Teorema 5.1, el diseñador del sistema debe asegurarse de que haya suficiente dinero M en el sistema para que la proporción entre M/n sea óptima. Actualmente estamos explorando exactamente cuál es la proporción óptima. Como muestran nuestros resultados muy preliminares para β = 1 en la Figura 5, la proporción parece aumentar de forma monótona en δ, lo cual coincide con la intuición de que deberíamos brindar a los agentes más pacientes la oportunidad de ahorrar más dinero. Además, parece ser relativamente suave, lo que sugiere que puede tener una solución analítica agradable. 0.9 0.91 0.92 0.93 0.94 0.95 Tasa de descuento ∆ 5 5.5 6 6.5 7 Proporción óptima de Mn Figura 5: Cantidad promedio óptima de dinero al número más cercano .25 para β = 1 Se destaca que, en la práctica, puede ser más fácil para el diseñador variar el precio de cumplir una solicitud en lugar de 4 Si hay múltiples equilibrios, tomamos Sγ(M,n) como el equilibrio de Nash que tiene la mayor eficiencia para M y n fijos. 146 inyectar dinero en el sistema. Esto produce el mismo efecto. Por ejemplo, cambiar el costo de cumplir una solicitud de $1 a $2 es equivalente a reducir a la mitad la cantidad de dinero que tiene cada agente. De manera similar, reducir a la mitad el costo de cumplir una solicitud es equivalente a duplicar la cantidad de dinero que todos tienen. Con una cantidad fija de dinero M, existe un producto óptimo nc del número de agentes y el costo c de cumplir una solicitud. El Teorema 5.1 también nos dice cómo manejar un grupo dinámico de agentes. Nuestro sistema puede manejar a los recién llegados relativamente fácilmente: simplemente permítales unirse sin dinero. Esto no brinda ningún incentivo a los agentes existentes para salir y volver a unirse como recién llegados. Luego cambiamos el precio de cumplir una solicitud para que se mantenga la proporción óptima. Este método tiene la característica interesante de que puede implementarse de forma distribuida; si todos los nodos en el sistema tienen una buena estimación de n, entonces todos pueden ajustar los precios automáticamente. (Alternativamente, el número de agentes en el sistema puede ser publicado en un lugar público). Los enfoques que dependen de ajustar la cantidad de dinero pueden requerir costosos cálculos a nivel de sistema (ver [26] para un ejemplo) y deben ser cuidadosamente ajustados para evitar crear incentivos para que los agentes manipulen el sistema mediante el cual se realiza esto. Ten en cuenta que, en principio, la realización de que el costo de cumplir una solicitud puede cambiar puede afectar la estrategia de un agente. Por ejemplo, si un agente espera que el costo aumente, entonces puede querer posponer ofrecerse como voluntario para cumplir con una solicitud. Sin embargo, si el número de agentes en el sistema siempre está aumentando, entonces el costo siempre disminuye, por lo que nunca hay ninguna ventaja en esperar. Puede haber una ventaja en retrasar una solicitud, pero es mucho más costoso en términos de costos de espera que en proporcionar el servicio, ya que asumimos que la necesidad de un servicio a menudo está sujeta a costos reales de espera, mientras que la necesidad de suministrar el servicio es simplemente aumentar el suministro de dinero. (Se discuten temas relacionados en [10].) Finalmente, esperamos modificar el mecanismo para que el precio de un trabajo pueda establecerse de forma endógena dentro del sistema (como en las economías del mundo real), con agentes pujando por trabajos en lugar de que exista un costo fijo establecido externamente. Sin embargo, aún no hemos explorado los cambios necesarios para implementar este cambio. Por lo tanto, por ahora, asumimos que el costo se establece como una función del número de agentes en el sistema (y que no hay posibilidad de que los agentes satisfagan una solicitud por menos del costo oficial o de que los solicitantes ofrezcan pagar más). 6. SIBILAS Y COLUSIÓN En un sentido ingenuo, nuestro sistema es esencialmente a prueba de sibilas. Para obtener d dólares, sus sibilas juntas todavía tienen que realizar d unidades de trabajo. Además, dado que los recién llegados ingresan al sistema con $0, no hay beneficio en crear nuevos agentes simplemente para aprovechar un dotación inicial. Sin embargo, existen algunas formas menos directas en las que un agente podría aprovecharse de los sybils. Primero, al tener más identidades, tendrá una mayor probabilidad de ser elegido para hacer una solicitud. Es fácil ver que esto llevará a que el agente tenga una mayor utilidad total. Sin embargo, esto es solo un artefacto de nuestro modelo. Para simplificar el análisis de nuestro sistema, hemos asumido que las oportunidades de solicitud llegaron de manera uniforme al azar. En la práctica, se hacen peticiones para satisfacer un deseo. Nuestro modelo asumió implícitamente que todos los agentes tienen la misma probabilidad de tener un deseo en un momento particular. Tener sibilas no debería aumentar la necesidad de que se satisfaga una solicitud. De hecho, sería razonable asumir que las sibilas no hacen solicitudes en absoluto. En segundo lugar, tener sibilas hace más probable que una de las sibilas sea elegida para cumplir una petición. Esto puede permitir a un usuario aumentar su utilidad al establecer un umbral más bajo; es decir, al usar una estrategia Sk donde k es menor que el k utilizado por la estrategia de equilibrio de Nash. Intuitivamente, la necesidad de dinero no es tan crítica si el dinero es más fácil de obtener. A diferencia de la primera preocupación, esto parece ser un problema real. Parece razonable creer que cuando las personas toman una decisión entre varios nodos para satisfacer una solicitud lo hacen de forma aleatoria, al menos en cierta medida. Aunque busquen las características de los nodos anunciadas para ayudar a tomar esta decisión, los sybils permitirían a un usuario anunciar una amplia gama de características. Tercero, un agente puede reducir el costo de cumplir una solicitud al introducir muchos síbiles. Del mismo modo, podría aumentar el costo (y por ende el valor de su dinero) al hacer que un número de sibilas salgan del sistema. Concebiblemente podría alternar entre estas técnicas para magnificar los efectos del trabajo que realiza. Todavía no hemos calculado el efecto exacto de este cambio (interactúa con los otros dos efectos de tener sibilas que ya hemos notado). Dado el número de síbiles que serían necesarios para causar un cambio real en el tamaño percibido de una gran red P2P, la viabilidad de este ataque depende en gran medida de cuánto cuestan los síbiles a un atacante y qué recursos tiene disponibles. El segundo punto planteado sobre las sibilas también se aplica a la colusión si permitimos que se preste dinero. Si k agentes coluden, pueden acordar que, si uno se queda sin dinero, otro en el grupo le prestará dinero. Al juntar su dinero de esta manera, los agentes k pueden volver a mejorar al establecer un umbral más alto. Ten en cuenta que el mecanismo de préstamo no necesita estar integrado en el sistema; los agentes pueden simplemente utilizar una transacción falsa para transferir el dinero. Estos parecen ser los principales métodos para ataques colusivos, pero aún estamos explorando este tema. 7. CONCLUSIÓN Hemos realizado un análisis formal de un sistema de escritura y hemos demostrado que existe un equilibrio de Nash donde todos los agentes utilizan una estrategia de umbral. Además, podemos calcular la eficiencia de la estrategia de equilibrio y optimizar el precio (o la oferta monetaria) para maximizar la eficiencia. Por lo tanto, nuestro análisis proporciona un mecanismo formal para resolver algunos problemas importantes en la implementación de sistemas de guiones. Nos dice que con una población fija de usuarios racionales, es muy poco probable que dichos sistemas se vuelvan inestables. Por lo tanto, si esta estabilidad es una creencia común entre los agentes, no esperaríamos inflación, burbujas ni colapsos debido a la especulación de los agentes. Sin embargo, no podemos descartar la posibilidad de que esos agentes tengan otras creencias que los lleven a especular. Nuestro análisis también nos indica cómo escalar el sistema para manejar una afluencia de nuevos usuarios sin introducir estos problemas: escalar la oferta monetaria para mantener constante la cantidad promedio de dinero (o ajustar los precios de manera equivalente para lograr el mismo objetivo). Hay una serie de problemas teóricos que aún están abiertos, incluida una caracterización de la multiplicidad de equilibrios, ¿suelen ser 2? Además, esperamos que uno pueda calcular estimaciones analíticas para la función de mejor respuesta y la fijación de precios óptima, lo que nos permitiría comprender la relación entre los precios y varios parámetros en el modelo. También sería de gran interés ampliar nuestro análisis para abordar configuraciones más realistas. Mencionamos algunas posibles extensiones aquí: • Hemos asumido que el mundo es homogéneo en varios aspectos, incluyendo la frecuencia de las solicitudes, la utilidad y la capacidad para satisfacer las solicitudes. Sería interesante examinar cómo relajar cualquiera de estas suposiciones alteraría nuestros resultados. • Hemos asumido que no hay costo para un agente al ser miembro del sistema. Supongamos en cambio que imponemos un pequeño costo simplemente por estar presente en el sistema para reflejar los costos de enrutamiento de mensajes y mantenimiento de la superposición. Esta modificación podría tener un impacto significativo en los ataques de Sybil. • Hemos descrito un sistema de escritura que funciona cuando no hay altruistas y hemos demostrado que ningún sistema puede funcionar una vez que hay suficientes altruistas. ¿Qué sucede entre estos extremos? • Un tipo de comportamiento irracional que se encuentra en los sistemas de cupones es el acaparamiento. Hay algunas similitudes entre el acaparamiento y el comportamiento altruista. Mientras que un altruista brinda servicio para todos, un acumulador se ofrecerá como voluntario para todos los trabajos (con el fin de obtener más dinero) y rara vez solicitará servicio (para no gastar dinero). Sería interesante investigar en qué medida nuestro sistema es robusto contra los acaparadores. Claramente, con demasiados acumuladores, puede que no quede suficiente dinero entre los no acumuladores para garantizar que, típicamente, un no acumulador tenga suficiente dinero para satisfacer una solicitud. • Finalmente, en los sistemas de intercambio de archivos P2P, existen comunidades superpuestas de varios tamaños que tienen significativamente más probabilidades de poder satisfacer las solicitudes de los demás. Sería interesante investigar el efecto de tales comunidades en el equilibrio de nuestro sistema. También hay una serie de problemas de implementación que tendrían que resolverse en un sistema real. Por ejemplo, debemos preocuparnos por la posibilidad de que los agentes falsifiquen dinero o mientan sobre si el servicio fue realmente proporcionado. Karma [26] proporciona técnicas para lidiar con ambos problemas y varios más, pero algunas decisiones de implementación de Karma señalan problemas para nuestro modelo. Por ejemplo, resulta prohibitivamente caro asegurar que los saldos de las cuentas bancarias nunca puedan ser negativos, un hecho que nuestro modelo no captura. Otro ejemplo es que Karma tiene nodos que actúan como contables de los saldos de cuentas de otros nodos. Al igual que mantener una presencia en la red, esto impone un costo al nodo, pero a diferencia de eso, la responsabilidad puede ser fácilmente eludida. Karma sugiere varias formas de incentivar a los nodos para que realicen estas tareas. No hemos investigado si estos mecanismos pueden ser incorporados sin perturbar nuestro equilibrio. 8. AGRADECIMIENTOS Nos gustaría agradecer a Emin Gun Sirer, Shane Henderson, Jon Kleinberg y 3 árbitros anónimos por sus sugerencias útiles. EF, IK y JH cuentan con el apoyo parcial de la NSF bajo la subvención ITR-0325453. JH también cuenta con el apoyo parcial de la NSF bajo los subsidios CTC-0208535 e IIS-0534064, de la ONR bajo el subsidio N00014-01-10-511, del Programa de Iniciativa de Investigación Universitaria Multidisciplinaria (MURI) del DoD administrado por la ONR bajo los subsidios N00014-01-1-0795 y N00014-04-1-0725, y de la AFOSR bajo el subsidio F49620-021-0101. 9. REFERENCIAS [1] E. Adar y B. A. Huberman. Viajando gratis en Gnutella. Primer lunes, 5(10), 2000. [2] K. G. Anagnostakis y M. Greenwald. Mecanismos de incentivos basados en intercambio para compartir archivos entre pares. En la Conferencia Internacional sobre Sistemas de Computación Distribuida (ICDCS), páginas 524-533, 2004. [3] BitTorrent Inc. Sitio web de BitTorrent. http://www.bittorent.com. [4] A. Cheng y E. Friedman. Mecanismos de reputación a prueba de Sybil. En Taller sobre Economía de Sistemas Peer-to-Peer (P2PECON), páginas 128-132, 2005. [5] Tecnologías de la Información de Cornell. Estadísticas de uso de Internet de la Universidad de Cornell. http://www.cit.cornell.edu/computer/students/bandwidth/charts.html. [6] J. R. Douceur. El ataque de la sibila. En el Taller Internacional de Sistemas Peer-to-Peer (IPTPS), páginas 251-260, 2002. [7] G. Ellison. Cooperación en el dilema del prisionero con emparejamiento aleatorio anónimo. Revisión de Estudios Económicos, 61:567-588, 1994. [8] Proyecto eMule. Sitio web de eMule. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica y J. Chuang. Técnicas de incentivos sólidas para redes peer-to-peer. En la Conferencia ACM sobre Comercio Electrónico (EC), páginas 102-111, 2004. [10] E. J. Friedman y D. C. Parkes. Establecimiento de precios del wifi en Starbucks: problemas en el diseño de mecanismos en línea. En EC 03: Actas de la 4ta Conferencia de la ACM sobre Comercio Electrónico, páginas 240-241. ACM Press, 2003. [11] E. J. Friedman y P. Resnick. El costo social de los seudónimos baratos. Revista de Economía y Estrategia de Gestión, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan y A. Tomkins. Propagación de la confianza y la desconfianza. En la Conferencia sobre la World Wide Web (WWW), páginas 403-412, 2004. [13] M. Gupta, P. Judge y M. H. Ammar. Un sistema de reputación para redes peer-to-peer. En Network and Operating System Support for Digital Audio and Video (NOSSDAV), páginas 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina y J. Pedersen. Detección de spam de enlaces basada en estimación de masa. Informe técnico, Universidad de Stanford, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis y V. Prevelakis. Fileteller: Pagar y recibir pago por almacenamiento de archivos. En Criptografía Financiera, páginas 282-299, 2002. [16] E. T. Jaynes. ¿En qué punto nos encontramos con respecto a la entropía máxima? En R. D. Levine y M. Tribus, editores, El Formalismo de la Entropía Máxima, páginas 15-118. MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, y H. Garcia-Molina. El algoritmo Eigentrust para la gestión de reputación en redes P2P. En la Conferencia sobre la World Wide Web (WWW), páginas 640-651, 2003. [18] M. Kandori. Normas sociales y aplicación comunitaria. Revisión de Estudios Económicos, 59:63-80, 1992. [19] Corporación LogiSense. Sitio web de LogiSense. http://www.logisense.com/tm p2p.html. [20] L. Lovasz y P. Winkler. Mezcla de caminatas aleatorias y otras difusiones en un grafo. En Encuestas en Combinatoria, 1993, Walker (Ed.), Serie de Notas de Conferencias de la London Mathematical Society 187, Cambridge University Press. 1995. [21] Grupo de Tecnología de Código Abierto. Preguntas frecuentes sobre comentarios y moderación en Slashdot. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC. Sitio web de Gnutella. http://www.gnutella.com/. [23] M. L. Puterman. Procesos de Decisión de Markov. Wiley, 1994. [24] SETI@home. \n\nWiley, 1994. [24] SETI@home. Página web de SETI@home. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Sitio web de Kazaa. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar y E. Sirer. Karma: Un marco económico seguro para el intercambio de recursos entre pares. En Taller sobre Economía de Sistemas Peer-to-Peer (P2PECON), 2003. [27] L. Xiong y L. Liu. Construyendo confianza en comunidades electrónicas descentralizadas de pares a pares. En la Conferencia Internacional de Investigación en Comercio Electrónico (ICECR) de 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason y B. V. Roy. Haciendo que los sistemas de reputación basados en vectores propios sean robustos ante la colusión. En Taller sobre Algoritmos y Modelos para el Grafo Web (WAW), páginas 92-104, 2004. 149 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "gnutellum network": {
            "translated_key": "red de gnutellum",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed.",
                "It is shown that by adding a scrip system, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
                "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
                "Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "However, the cost of providing service can still be nontrivial.",
                "For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
                "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
                "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
                "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
                "These heavy users are some of the most expensive customers ISPs have.",
                "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
                "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
                "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems.",
                "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
                "Some of the P2P networks currently in use have implemented versions of these techniques.",
                "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
                "By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions.",
                "Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8].",
                "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
                "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
                "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
                "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
                "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
                "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
                "Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it.",
                "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
                "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
                "However, to avoid penalizing new users, they gave new users an average rating.",
                "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
                "Thus Kazaas reputation system is ineffective.",
                "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
                "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
                "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
                "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
                "However, they have a different set of problems.",
                "Perhaps the most common involve determining the amount of money in the system.",
                "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
                "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
                "A related problem involves handling newcomers.",
                "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
                "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
                "In this paper, we provide a formal model in which to analyze scrip systems.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents.",
                "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
                "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
                "In systems where the goal is to do work, new users can acquire money by performing work.",
                "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
                "The rest of the paper is organized as follows.",
                "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
                "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same threshold strategy.",
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some threshold strategy.",
                "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
                "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
                "We conclude in Section 7. 2.",
                "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative game.",
                "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
                "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
                "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
                "This random-matching model fails to capture some salient aspects of a number of important settings.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can.",
                "For example, some people may not have the time or resources to satisfy the request.",
                "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
                "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
                "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
                "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
                "Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made.",
                "For example, it is not clear what defection on the part of the requester means.",
                "In our model we try to deal with all these issues.",
                "Suppose that there are n agents.",
                "At each round, an agent is picked uniformly at random to make a request.",
                "Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request.",
                "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
                "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
                "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
                "If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
                "The agent that fulfills the request pays a cost of α < 1.",
                "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
                "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite game.",
                "Lastly, we assume that with more players requests come more often.",
                "Thus we assume that the time between rounds is 1/n.",
                "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
                "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
                "We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
                "V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request.",
                "This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
                "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
                "Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i.",
                "It is the discounted total of agent is utility in each round.",
                "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
                "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
                "Take an altruist to be someone who always fulfills requests.",
                "Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
                "Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it.",
                "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
                "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
                "While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others.",
                "For example a naive user of filesharing software with a good connection might well follow this strategy.",
                "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
                "As we have observed, such users seem to exist in some large systems.",
                "Suppose that our system has a altruists.",
                "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
                "Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system.",
                "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
                "Proposition 2.1.",
                "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
                "Proof.",
                "Consider the strategy for a standard player j in the presence of a altruists.",
                "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
                "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
                "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
                "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
                "Then we only need a > 1145.",
                "While this is a large number, it is small relative to the size of a large P2P network.",
                "Current systems all have a pool of users behaving like our altruists.",
                "This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
                "In some sense, this is not a problem at all.",
                "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
                "Indeed, current P2P network work quite well in terms of distributing content to people.",
                "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
                "Thus, it is worth looking at what can be done to make these systems work in their absence.",
                "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
                "We are interested in equilibria based on a scrip system.",
                "Each time an agent has a request satisfied he must pay the person who satisfied it some amount.",
                "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
                "We denote by M the total amount of money in the system.",
                "We assume that M > 0 (otherwise no one will ever be able to get paid).",
                "In principle, agents are free to adopt a very wide variety of strategies.",
                "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
                "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
                "The class of strategies we are interested in is easy to motivate.",
                "The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more.",
                "On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
                "The natural balance between these two is a threshold strategy.",
                "Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise.",
                "Note that S0 is the strategy where the agent never volunteers.",
                "While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
                "We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
                "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
                "The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
                "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
                "Suppose that everyone plays Sk.",
                "For simplicity, assume that everyone has at most k dollars.",
                "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
                "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
                "If M ≥ kn, no agent will ever be willing to work.",
                "Thus, for the purposes of this section we assume that M < kn.",
                "From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk.",
                "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
                "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
                "If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}.",
                "If there are n agents, then the state of the game can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
                "Since the total amount of money is constant, not all of these states can arise in the game.",
                "For example the state where each player has $0 is impossible to reach in any game with money in the system.",
                "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
                "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
                "It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state.",
                "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
                "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
                "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
                "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
                "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
                "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
                "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
                "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
                "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
                "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
                "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
                "We can in fact completely characterize the distribution d∗ .",
                "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
                "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
                "The statement is correct under a number of senses of close.",
                "For definiteness, we consider the Euclidean distance.",
                "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
                "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
                "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
                "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
                "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16].",
                "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
                "This fraction clearly goes to 0 as n gets large.",
                "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
                "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
                "Let Pij denote the probability of transitioning from state i to state j.",
                "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
                "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution.",
                "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
                "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
                "We then considered how close the distribution stays to the maximum entropy distribution once it has reached it.",
                "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
                "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
                "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
                "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
                "We believe that the actually time needed is O(n).",
                "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)",
                "This is not true in general.",
                "If δ is small, then agents have no incentive to work.",
                "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
                "With small δ, S0 is the only equilibrium.",
                "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
                "We do this by first showing that, if every other agent is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one).",
                "We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy.",
                "It follows that this tuple of threshold strategies is a Nash equilibrium.",
                "As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a threshold strategy Sk that is a best response for agent i.",
                "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
                "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
                "For a later proof, it will be helpful to have a continuous set of strategies.",
                "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
                "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
                "Theorem 4.1.",
                "Fix a strategy Sγ and an agent i.",
                "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for agent i is Sk .",
                "Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
                "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
                "If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly.",
                "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
                "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
                "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
                "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
                "We remark that there may be best responses that are not threshold strategies.",
                "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy.",
                "Since we know that there is a best response that is a threshold strategy, we can look for a Nash equilibrium in the space of threshold strategies.",
                "Theorem 4.2.",
                "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the game G(n, δ) where all agents play Sγ for some integer γ > 0.",
                "Proof.",
                "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
                "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
                "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
                "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
                "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same threshold strategy.",
                "As we have already observed, one such equilibrium occurs at 0.",
                "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
                "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay.",
                "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
                "Consider k∗ , the smallest k such that k > M/n.",
                "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
                "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
                "This is the desired Nash equilibrium.",
                "This argument also shows us that we cannot in general expect fixed points to be unique.",
                "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
                "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
                "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
                "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
                "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
                "SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n).",
                "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
                "There is a tension between these objectives.",
                "It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases.",
                "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
                "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
                "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
                "Proof.",
                "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
                "Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r.",
                "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
                "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
                "We are currently exploring exactly what the optimal ratio is.",
                "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
                "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system.",
                "This produces the same effect.",
                "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has.",
                "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
                "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
                "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
                "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
                "This gives existing agents no incentive to leave and rejoin as newcomers.",
                "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
                "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
                "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
                "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
                "For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
                "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
                "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
                "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
                "However, we have not yet explored the changes required to implement this change.",
                "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
                "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
                "To get d dollars, his sybils together still have to perform d units of work.",
                "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
                "Nevertheless, there are some less direct ways that an agent could take advantage of sybils.",
                "First, by having more identities he will have a greater probability of getting chosen to make a request.",
                "It is easy to see that this will lead to the agent having higher total utility.",
                "However, this is just an artifact of our model.",
                "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
                "In practice, requests are made to satisfy a desire.",
                "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
                "Having sybils should not increase the need to have a request satisfied.",
                "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
                "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
                "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy.",
                "Intuitively, the need for money is not as critical if money is easier to obtain.",
                "Unlike the first concern, this seems like a real issue.",
                "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
                "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
                "Third, an agent can drive down the cost of fulfilling a request by introducing many sybils.",
                "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
                "Concievably he could alternate between these techniques to magnify the effects of work he does.",
                "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
                "Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
                "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
                "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
                "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
                "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
                "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
                "CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy.",
                "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
                "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
                "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
                "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation.",
                "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
                "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
                "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
                "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
                "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
                "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system.",
                "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
                "This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
                "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
                "There are some similarities between hoarding and altruistic behavior.",
                "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
                "It would be interesting to investigate the extent to which our system is robust against hoarders.",
                "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
                "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
                "There are also a number of implementation issues that would have to be resolved in a real system.",
                "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
                "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
                "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
                "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
                "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
                "Karma suggests several ways to incentivize nodes to perform these duties.",
                "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
                "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
                "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
                "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
                "REFERENCES [1] E. Adar and B.",
                "A. Huberman.",
                "Free riding on Gnutella.",
                "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
                "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
                "Sybilproof reputation mechanisms.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
                "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
                "The sybil attack.",
                "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
                "Cooperation in the prisoners dilemma with anonymous random matching.",
                "Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
                "Robust incentive techniques for peer-to-peer networks.",
                "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
                "Pricing wifi at starbucks: issues in online mechanism design.",
                "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
                "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
                "The social cost of cheap pseudonyms.",
                "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
                "Propagation of trust and distrust.",
                "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
                "A reputation system for peer-to-peer networks.",
                "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
                "Link spam detection based on mass estimation.",
                "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
                "Fileteller: Paying and getting paid for file storage.",
                "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
                "Where do we stand on maximum entropy?",
                "In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118.",
                "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
                "The Eigentrust algorithm for reputation management in P2P networks.",
                "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
                "Social norms and community enforcement.",
                "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
                "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
                "Mixing of random walks and other diffusions on a graph.",
                "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
                "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
                "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
                "Markov Decision Processes.",
                "Wiley, 1994. [24] SETI@home.",
                "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
                "Karma: A secure economic framework for peer-to-peer resource sharing.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
                "Building trust in decentralized peer-to-peer electronic communities.",
                "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
                "Making eigenvector-based reputation systems robust to collusion.",
                "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        },
        "reputation system": {
            "translated_key": "sistema de reputación",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed.",
                "It is shown that by adding a scrip system, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
                "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
                "Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "However, the cost of providing service can still be nontrivial.",
                "For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
                "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
                "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
                "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
                "These heavy users are some of the most expensive customers ISPs have.",
                "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
                "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
                "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems.",
                "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
                "Some of the P2P networks currently in use have implemented versions of these techniques.",
                "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
                "By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions.",
                "Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8].",
                "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
                "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
                "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
                "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
                "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
                "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
                "Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it.",
                "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
                "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
                "However, to avoid penalizing new users, they gave new users an average rating.",
                "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
                "Thus Kazaas <br>reputation system</br> is ineffective.",
                "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
                "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
                "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
                "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
                "However, they have a different set of problems.",
                "Perhaps the most common involve determining the amount of money in the system.",
                "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
                "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
                "A related problem involves handling newcomers.",
                "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
                "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
                "In this paper, we provide a formal model in which to analyze scrip systems.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents.",
                "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
                "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
                "In systems where the goal is to do work, new users can acquire money by performing work.",
                "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
                "The rest of the paper is organized as follows.",
                "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
                "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same threshold strategy.",
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some threshold strategy.",
                "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
                "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
                "We conclude in Section 7. 2.",
                "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative game.",
                "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
                "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
                "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
                "This random-matching model fails to capture some salient aspects of a number of important settings.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can.",
                "For example, some people may not have the time or resources to satisfy the request.",
                "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
                "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
                "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
                "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
                "Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made.",
                "For example, it is not clear what defection on the part of the requester means.",
                "In our model we try to deal with all these issues.",
                "Suppose that there are n agents.",
                "At each round, an agent is picked uniformly at random to make a request.",
                "Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request.",
                "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
                "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
                "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
                "If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
                "The agent that fulfills the request pays a cost of α < 1.",
                "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
                "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite game.",
                "Lastly, we assume that with more players requests come more often.",
                "Thus we assume that the time between rounds is 1/n.",
                "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
                "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
                "We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
                "V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request.",
                "This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
                "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
                "Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i.",
                "It is the discounted total of agent is utility in each round.",
                "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
                "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
                "Take an altruist to be someone who always fulfills requests.",
                "Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
                "Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it.",
                "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
                "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
                "While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others.",
                "For example a naive user of filesharing software with a good connection might well follow this strategy.",
                "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
                "As we have observed, such users seem to exist in some large systems.",
                "Suppose that our system has a altruists.",
                "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
                "Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system.",
                "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
                "Proposition 2.1.",
                "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
                "Proof.",
                "Consider the strategy for a standard player j in the presence of a altruists.",
                "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
                "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
                "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
                "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
                "Then we only need a > 1145.",
                "While this is a large number, it is small relative to the size of a large P2P network.",
                "Current systems all have a pool of users behaving like our altruists.",
                "This means that attempts to add a <br>reputation system</br> on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
                "In some sense, this is not a problem at all.",
                "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
                "Indeed, current P2P network work quite well in terms of distributing content to people.",
                "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
                "Thus, it is worth looking at what can be done to make these systems work in their absence.",
                "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
                "We are interested in equilibria based on a scrip system.",
                "Each time an agent has a request satisfied he must pay the person who satisfied it some amount.",
                "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
                "We denote by M the total amount of money in the system.",
                "We assume that M > 0 (otherwise no one will ever be able to get paid).",
                "In principle, agents are free to adopt a very wide variety of strategies.",
                "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
                "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
                "The class of strategies we are interested in is easy to motivate.",
                "The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more.",
                "On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
                "The natural balance between these two is a threshold strategy.",
                "Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise.",
                "Note that S0 is the strategy where the agent never volunteers.",
                "While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
                "We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
                "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
                "The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
                "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
                "Suppose that everyone plays Sk.",
                "For simplicity, assume that everyone has at most k dollars.",
                "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
                "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
                "If M ≥ kn, no agent will ever be willing to work.",
                "Thus, for the purposes of this section we assume that M < kn.",
                "From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk.",
                "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
                "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
                "If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}.",
                "If there are n agents, then the state of the game can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
                "Since the total amount of money is constant, not all of these states can arise in the game.",
                "For example the state where each player has $0 is impossible to reach in any game with money in the system.",
                "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
                "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
                "It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state.",
                "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
                "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
                "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
                "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
                "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
                "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
                "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
                "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
                "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
                "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
                "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
                "We can in fact completely characterize the distribution d∗ .",
                "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
                "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
                "The statement is correct under a number of senses of close.",
                "For definiteness, we consider the Euclidean distance.",
                "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
                "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
                "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
                "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
                "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16].",
                "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
                "This fraction clearly goes to 0 as n gets large.",
                "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
                "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
                "Let Pij denote the probability of transitioning from state i to state j.",
                "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
                "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution.",
                "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
                "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
                "We then considered how close the distribution stays to the maximum entropy distribution once it has reached it.",
                "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
                "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
                "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
                "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
                "We believe that the actually time needed is O(n).",
                "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)",
                "This is not true in general.",
                "If δ is small, then agents have no incentive to work.",
                "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
                "With small δ, S0 is the only equilibrium.",
                "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
                "We do this by first showing that, if every other agent is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one).",
                "We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy.",
                "It follows that this tuple of threshold strategies is a Nash equilibrium.",
                "As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a threshold strategy Sk that is a best response for agent i.",
                "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
                "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
                "For a later proof, it will be helpful to have a continuous set of strategies.",
                "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
                "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
                "Theorem 4.1.",
                "Fix a strategy Sγ and an agent i.",
                "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for agent i is Sk .",
                "Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
                "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
                "If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly.",
                "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
                "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
                "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
                "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
                "We remark that there may be best responses that are not threshold strategies.",
                "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy.",
                "Since we know that there is a best response that is a threshold strategy, we can look for a Nash equilibrium in the space of threshold strategies.",
                "Theorem 4.2.",
                "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the game G(n, δ) where all agents play Sγ for some integer γ > 0.",
                "Proof.",
                "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
                "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
                "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
                "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
                "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same threshold strategy.",
                "As we have already observed, one such equilibrium occurs at 0.",
                "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
                "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay.",
                "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
                "Consider k∗ , the smallest k such that k > M/n.",
                "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
                "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
                "This is the desired Nash equilibrium.",
                "This argument also shows us that we cannot in general expect fixed points to be unique.",
                "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
                "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
                "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
                "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
                "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
                "SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n).",
                "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
                "There is a tension between these objectives.",
                "It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases.",
                "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
                "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
                "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
                "Proof.",
                "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
                "Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r.",
                "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
                "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
                "We are currently exploring exactly what the optimal ratio is.",
                "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
                "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system.",
                "This produces the same effect.",
                "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has.",
                "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
                "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
                "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
                "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
                "This gives existing agents no incentive to leave and rejoin as newcomers.",
                "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
                "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
                "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
                "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
                "For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
                "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
                "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
                "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
                "However, we have not yet explored the changes required to implement this change.",
                "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
                "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
                "To get d dollars, his sybils together still have to perform d units of work.",
                "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
                "Nevertheless, there are some less direct ways that an agent could take advantage of sybils.",
                "First, by having more identities he will have a greater probability of getting chosen to make a request.",
                "It is easy to see that this will lead to the agent having higher total utility.",
                "However, this is just an artifact of our model.",
                "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
                "In practice, requests are made to satisfy a desire.",
                "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
                "Having sybils should not increase the need to have a request satisfied.",
                "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
                "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
                "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy.",
                "Intuitively, the need for money is not as critical if money is easier to obtain.",
                "Unlike the first concern, this seems like a real issue.",
                "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
                "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
                "Third, an agent can drive down the cost of fulfilling a request by introducing many sybils.",
                "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
                "Concievably he could alternate between these techniques to magnify the effects of work he does.",
                "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
                "Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
                "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
                "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
                "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
                "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
                "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
                "CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy.",
                "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
                "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
                "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
                "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation.",
                "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
                "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
                "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
                "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
                "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
                "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system.",
                "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
                "This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
                "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
                "There are some similarities between hoarding and altruistic behavior.",
                "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
                "It would be interesting to investigate the extent to which our system is robust against hoarders.",
                "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
                "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
                "There are also a number of implementation issues that would have to be resolved in a real system.",
                "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
                "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
                "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
                "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
                "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
                "Karma suggests several ways to incentivize nodes to perform these duties.",
                "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
                "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
                "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
                "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
                "REFERENCES [1] E. Adar and B.",
                "A. Huberman.",
                "Free riding on Gnutella.",
                "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
                "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
                "Sybilproof reputation mechanisms.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
                "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
                "The sybil attack.",
                "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
                "Cooperation in the prisoners dilemma with anonymous random matching.",
                "Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
                "Robust incentive techniques for peer-to-peer networks.",
                "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
                "Pricing wifi at starbucks: issues in online mechanism design.",
                "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
                "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
                "The social cost of cheap pseudonyms.",
                "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
                "Propagation of trust and distrust.",
                "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
                "A <br>reputation system</br> for peer-to-peer networks.",
                "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
                "Link spam detection based on mass estimation.",
                "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
                "Fileteller: Paying and getting paid for file storage.",
                "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
                "Where do we stand on maximum entropy?",
                "In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118.",
                "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
                "The Eigentrust algorithm for reputation management in P2P networks.",
                "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
                "Social norms and community enforcement.",
                "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
                "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
                "Mixing of random walks and other diffusions on a graph.",
                "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
                "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
                "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
                "Markov Decision Processes.",
                "Wiley, 1994. [24] SETI@home.",
                "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
                "Karma: A secure economic framework for peer-to-peer resource sharing.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
                "Building trust in decentralized peer-to-peer electronic communities.",
                "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
                "Making eigenvector-based reputation systems robust to collusion.",
                "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
            ],
            "original_annotated_samples": [
                "Thus Kazaas <br>reputation system</br> is ineffective.",
                "This means that attempts to add a <br>reputation system</br> on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "A <br>reputation system</br> for peer-to-peer networks."
            ],
            "translated_annotated_samples": [
                "Por lo tanto, el <br>sistema de reputación</br> de Kazaas es ineficaz.",
                "Esto significa que los intentos de agregar un <br>sistema de reputación</br> encima de un sistema P2P existente para influir en los usuarios a cooperar no tendrán efecto en usuarios racionales.",
                "Un <br>sistema de reputación</br> para redes peer-to-peer."
            ],
            "translated_text": "Eficiencia y equilibrios de Nash en un sistema de vales para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación. Universidad Cornell halpern@cs.cornell.edu Ian Kash Departamento de Ciencias de la Computación. La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una red P2P. Se demuestra que al agregar un sistema de script, se puede obtener un mecanismo que admita un equilibrio de Nash razonable que reduzca el comportamiento de aprovechamiento gratuito. El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el bienestar social) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia. El trabajo tiene implicaciones para muchos sistemas en línea, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; I.2.11 [Inteligencia Artificial]: Inteligencia Artificial Distribuida-Sistemas Multiagente; J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Computadoras y Sociedad]: Comercio Electrónico Términos Generales Economía, Teoría 1. INTRODUCCIÓN Una característica común de muchos sistemas distribuidos en línea es que los individuos proporcionan servicios entre sí. Las redes peer-to-peer (P2P) (como Kazaa [25] o BitTorrent [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás. El hecho de que las personas se presten servicios entre sí generalmente aumenta el bienestar social: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona. Sin embargo, el costo de brindar el servicio aún puede ser significativo. Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo. Por lo tanto, en muchos sistemas existe un fuerte incentivo para convertirse en un \"pasajero gratis\" y beneficiarse del sistema sin contribuir a él. Este no es simplemente un problema teórico; estudios de la red Gnutella [22] han demostrado que casi el 70 por ciento de los usuarios no comparten archivos y casi el 50 por ciento de las respuestas provienen del 1 por ciento superior de los anfitriones que comparten [1]. Tener relativamente pocos usuarios que proporcionen la mayor parte del servicio crea un punto de centralización; la desaparición de un pequeño porcentaje de usuarios puede afectar enormemente la funcionalidad del sistema. Además, las tendencias actuales parecen estar llevando a la eliminación de los usuarios altruistas en los que estos sistemas confían. Estos usuarios intensivos son algunos de los clientes más costosos que tienen los proveedores de servicios de Internet. Por lo tanto, a medida que la cantidad de tráfico ha aumentado, los proveedores de servicios de Internet han comenzado a buscar formas de reducir este tráfico. Algunas universidades han comenzado a cobrar a los estudiantes por el uso excesivo de ancho de banda; otras revocan el acceso a la red por ello [5]. Un número de empresas también se han formado cuyo servicio es detectar el uso excesivo de ancho de banda [19]. Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros sistemas en línea distribuidos. Se ha invertido una cantidad significativa de investigación en el diseño de sistemas de reputación para dar tratamiento preferencial a los usuarios que comparten archivos. Algunas de las redes P2P actualmente en uso han implementado versiones de estas técnicas. Sin embargo, estos enfoques tienden a caer en una de dos categorías: o son similares al trueque o se basan en la reputación. Por \"tipo trueque\", nos referimos a que cada agente basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones. Quizás el ejemplo más conocido de un sistema similar al trueque es BitTorrent, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual. Dado que el trueque está restringido a usuarios actualmente interesados en un solo archivo, esto funciona bien para archivos populares, pero tiende a tener problemas para mantener la disponibilidad de los menos populares. Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el sistema de créditos utilizado por eMule 140 [8]. Cada usuario realiza un seguimiento de su historial de interacciones con otros usuarios y da prioridad a aquellos de los que ha descargado previamente. Sin embargo, en un sistema grande, la probabilidad de que un par de usuarios elegidos al azar hayan interactuado antes es bastante baja, por lo que este historial de interacciones no será de gran ayuda. Anagnostakis y Greenwald [2] presentan una versión más sofisticada de este enfoque, pero aún parece sufrir de problemas similares. Se han realizado varios intentos de proporcionar sistemas de reputación generales (por ejemplo, [12, 13, 17, 27]). La idea básica es agregar la experiencia de cada usuario en un número global para cada individuo que represente de manera intuitiva la visión del sistema sobre la reputación de ese individuo. Sin embargo, estos intentos tienden a sufrir problemas prácticos porque implícitamente consideran a los usuarios como buenos o malos, asumen que los buenos usuarios actuarán de acuerdo con el protocolo especificado, y que hay relativamente pocos usuarios malos. Desafortunadamente, si existen formas fáciles de manipular el sistema, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen. No podemos depender solo de unos pocos usuarios siendo malos (en el sentido de no seguir el protocolo prescrito). Por ejemplo, Kazaa utiliza una medida de la proporción entre el número de cargas y el número de descargas para identificar usuarios buenos y malos. Sin embargo, para evitar penalizar a los nuevos usuarios, les dieron a los nuevos usuarios una calificación promedio. Los usuarios descubrieron que podían aprovechar esta calificación relativamente buena para viajar gratis por un tiempo y, una vez que comenzaba a empeorar, podían eliminar su información almacenada y regresar efectivamente como un nuevo usuario, evitando así el sistema (ver [2] para una discusión y [11] para un análisis formal de este lavado de imagen). Por lo tanto, el <br>sistema de reputación</br> de Kazaas es ineficaz. Este es un caso simple de una vulnerabilidad más general de tales sistemas a los ataques de sybil [6], donde un solo usuario mantiene múltiples identidades y las utiliza de manera coordinada para obtener un mejor servicio del que obtendría de otra manera. Trabajos recientes han demostrado que la mayoría de los sistemas de reputación comunes son vulnerables (en el peor de los casos) a tales ataques [4]; sin embargo, el grado de esta vulnerabilidad aún no está claro. El análisis de las vulnerabilidades prácticas y la existencia de sistemas inmunes a tales ataques sigue siendo un área de investigación activa (por ejemplo, [4, 28, 14]). Los sistemas económicos simples basados en un vale o dinero parecen evitar muchos de estos problemas, son fáciles de implementar y son bastante populares (ver, por ejemplo, [13, 15, 26]). Sin embargo, tienen un conjunto diferente de problemas. Quizás los más comunes implican determinar la cantidad de dinero en el sistema. Hablando en términos generales, si hay muy poco dinero en el sistema en relación con el número de agentes, entonces relativamente pocos usuarios pueden permitirse hacer solicitudes. Por otro lado, si hay demasiado dinero, entonces los usuarios no sentirán la necesidad de responder a una solicitud; ya tienen suficiente dinero. Un problema relacionado implica manejar a los recién llegados. Si a los recién llegados se les da una cantidad positiva de dinero, entonces el sistema está abierto a ataques de Sybil. Quizás no sorprendentemente, los sistemas de moneda fiduciaria terminan teniendo que lidiar con problemas económicos estándar como la inflación, las burbujas y las crisis [26]. En este artículo, proporcionamos un modelo formal en el cual analizar sistemas de escritura. Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero). Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (bienestar social), dado el número de agentes. También conduce a una solución para el problema de tratar con los recién llegados: simplemente asumimos que los nuevos usuarios llegan sin dinero, y ajustamos el precio del servicio (lo cual es equivalente a ajustar la oferta de dinero) para mantener la proporción que maximiza la eficiencia. Si bien asumir que los nuevos usuarios no tienen dinero no funcionará en todos los contextos, creemos que este enfoque será ampliamente aplicable. En sistemas donde el objetivo es realizar trabajo, los nuevos usuarios pueden adquirir dinero realizando trabajo. También debería funcionar en el sistema Kazaalike donde un usuario puede ingresar con algunos recursos (por ejemplo, una colección privada de MP3). El resto del documento está organizado de la siguiente manera. En la Sección 2, presentamos nuestro modelo formal y observamos que se puede utilizar para comprender el efecto de los altruistas. En la Sección 3, examinamos qué sucede en el juego bajo un juego no estratégico, si todos los agentes utilizan la misma estrategia de umbral. Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la entropía máxima. Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el juego donde todos los agentes utilizan alguna estrategia de umbral. Además, mostramos en la Sección 5 que el análisis conduce a una comprensión de cómo elegir la cantidad de dinero en el sistema (o, de manera equivalente, el costo para cumplir una solicitud) para maximizar la eficiencia, y también muestra cómo manejar a los nuevos usuarios. En la Sección 6, discutimos en qué medida nuestro enfoque puede manejar sybils y colusión. Concluimos en la Sección 7.2. EL MODELO Para empezar, formalizamos la prestación de servicios en una red P2P como un juego no cooperativo. A diferencia de gran parte de la modelización en esta área, nuestro modelo modelará las interacciones asimétricas en un sistema de intercambio de archivos en el que el emparejamiento de jugadores (aquellos que solicitan un archivo con aquellos que tienen ese archivo en particular) es una parte clave del sistema. Esto contrasta con gran parte de trabajos anteriores que utilizan emparejamiento aleatorio en un dilema del prisionero. Tales modelos fueron estudiados en la literatura económica [18, 7] y aplicados por primera vez a reputaciones en línea en [11]; una aplicación a P2P se encuentra en [9]. Este modelo de emparejamiento aleatorio no logra capturar algunos aspectos relevantes de varios entornos importantes. Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una red P2P grande), pero no todas pueden hacerlo. Por ejemplo, algunas personas pueden no tener el tiempo o los recursos para satisfacer la solicitud. El proceso de emparejamiento aleatorio ignora el hecho de que algunas personas pueden no ser capaces de satisfacer la solicitud. Presumiblemente, si la persona emparejada con el solicitante no pudiera satisfacer el emparejamiento, tendría que desertar. Además, no captura el hecho de que la decisión de si voluntariarse para satisfacer la solicitud debe tomarse antes del proceso de emparejamiento, no después. Es decir, el proceso de emparejamiento no captura el hecho de que si alguien no está dispuesto a satisfacer la solicitud, sin duda habrá otros que puedan hacerlo. Aunque nos referimos a nuestra unidad de moneda como el dólar, estos no son dólares reales ni los consideramos convertibles en dólares. Finalmente, las acciones y recompensas en el juego del dilema del prisionero no corresponden claramente a las decisiones reales que se pueden tomar. Por ejemplo, no está claro qué significa la deserción por parte del solicitante. En nuestro modelo intentamos abordar todos estos problemas. Supongamos que hay n agentes. En cada ronda, se elige de forma aleatoria y uniforme a un agente para hacer una solicitud. Cada otro agente puede satisfacer esta solicitud con una probabilidad β > 0 en todo momento, independientemente del comportamiento previo. El término β tiene la intención de capturar la probabilidad de que un agente esté ocupado o no tenga los recursos para cumplir con la solicitud. Suponer que β es independiente del tiempo no captura la intuición de que no poder cumplir una solicitud en el tiempo t puede estar correlacionado con no poder cumplirla en el tiempo t+1. Creemos que, en sistemas grandes, deberíamos poder eliminar la suposición de independencia, pero dejamos esto para trabajos futuros. En cualquier caso, aquellos agentes que sean capaces de satisfacer la solicitud deben elegir si desean o no ofrecerse como voluntarios para satisfacerla. Si al menos un agente se ofrece como voluntario, el solicitante recibe un beneficio de 1 utilidad (el trabajo se realiza) y uno de los voluntarios es elegido al azar para cumplir con la solicitud. El agente que cumple con la solicitud paga un costo de α < 1. Como es habitual en la literatura, asumimos que los agentes descuentan los beneficios futuros por un factor de δ por unidad de tiempo. Esto captura la intuición de que un util hoy vale más que un util mañana, y nos permite calcular la utilidad total derivada por un agente en un juego infinito. Por último, asumimos que con más jugadores las solicitudes llegan con más frecuencia. Por lo tanto, asumimos que el tiempo entre rondas es 1/n. Esto captura el hecho de que los sistemas que queremos modelar realmente están procesando muchas solicitudes en paralelo, por lo que esperaríamos que el número de solicitudes concurrentes sea proporcional al número de usuarios. Sea G(n, δ, α, β) este juego con n agentes, un factor de descuento de δ, un costo para satisfacer solicitudes de α y una probabilidad de poder satisfacer solicitudes de β. Cuando los dos últimos parámetros no son relevantes, a veces escribimos G(n, δ). Utilizamos la siguiente notación a lo largo del documento: • pt denota al agente elegido en la ronda t. • Bt i ∈ {0, 1} denota si el agente i puede satisfacer la solicitud en la ronda t. Bt i = 1 con probabilidad β > 0 y Bt i es independiente de Bt i para todo t = t. • V t i ∈ {0, 1} denota la decisión del agente i sobre si voluntariarse en la ronda t; 1 indica voluntariado. V t i está determinado por la estrategia del agente. • vt ∈ {j | V t j Bt j = 1} denota al agente elegido para satisfacer la solicitud. Este agente es elegido de manera uniforme al azar entre aquellos que están dispuestos (V t j = 1) y capaces (Bt j = 1) de satisfacer la solicitud. • ut i denota la utilidad del agente en la ronda t. Un agente estándar es aquel cuya utilidad se determina como se discutió en la introducción; es decir, el agente recibe 2. Para n grande, nuestro modelo converge a uno en el que los jugadores realizan solicitudes en tiempo real, y el tiempo entre las solicitudes de un jugador está distribuido de manera exponencial con media 1. Además, el tiempo entre las solicitudes atendidas por un único jugador también sigue una distribución exponencial. Una utilidad de 1 para una solicitud cumplida y una utilidad de -α por cumplir una solicitud. Por lo tanto, si i es un agente estándar, entonces ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 −α si i = vt 0 de lo contrario. • Ui = P∞ t=0 δt/n ut i denota la utilidad total para el agente i. Es el total descontado de la utilidad del agente en cada ronda. Ten en cuenta que el factor de descuento efectivo es δ1/n ya que un aumento en n conlleva a una reducción del tiempo entre rondas. Ahora que tenemos un modelo de cómo hacer y satisfacer solicitudes, lo utilizamos para analizar el comportamiento de no contribuir. Considera a un altruista como alguien que siempre cumple peticiones. El agente podría comportarse de manera altruista de manera racional si la función de utilidad del agente tiene la siguiente forma, para algún α > 0: ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 α si i = vt 0 en otro caso. Por lo tanto, en lugar de sufrir una pérdida de utilidad al satisfacer una solicitud, un agente obtiene utilidad positiva al satisfacerla. Una función de utilidad de este tipo es una representación razonable del placer que algunas personas obtienen al sentir que son quienes proporcionan la música que todos están tocando. Para agentes altruistas como estos, jugar la estrategia que establece V t i = 1 para todo t es dominante. Si bien tener una función de utilidad no estándar podría ser una razón por la cual un agente racional podría usar esta estrategia, ciertamente hay otras razones. Por ejemplo, un usuario inexperto de software de intercambio de archivos con una buena conexión bien podría seguir esta estrategia. Todo lo que importa para la siguiente discusión es que hay algunos agentes que utilizan esta estrategia, sea por la razón que sea. Como hemos observado, parece que existen usuarios de este tipo en algunos sistemas grandes. Supongamos que nuestro sistema tiene altruistas. Intuitivamente, si a es moderadamente grande, lograrán satisfacer la mayoría de las solicitudes en el sistema incluso si otros agentes no trabajan. Por lo tanto, hay poco incentivo para que cualquier otro agente se ofrezca como voluntario, porque ya está obteniendo pleno beneficio al participar en el sistema. Basándose en esta intuición, es un cálculo relativamente sencillo determinar un valor de a que depende solo de α, β y δ, pero no del número n de jugadores en el sistema, de modo que la estrategia dominante para todos los agentes estándar i sea nunca ofrecerse voluntariamente para satisfacer ninguna solicitud (es decir, V t i = 0 para todo t). Proposición 2.1. Existe un a que depende solo de α, β y δ tal que, en G(n, δ, α, β) con al menos a altruistas, no ofrecerse como voluntario en cada ronda es una estrategia dominante para todos los agentes estándar. Prueba. Considera la estrategia para un jugador estándar j en presencia de altruistas. Incluso sin dinero, el jugador j logrará que se satisfaga una solicitud con probabilidad 1 − (1 − β)a solo a través de las acciones de estos altruistas. Por lo tanto, incluso si j es elegido para hacer una solicitud en cada ronda, la utilidad adicional esperada máxima que puede esperar obtener al tener dinero es P∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ). Si (1 − β)a /(1 − δ) > α o, equivalentemente, si a > log1−β(α(1 − δ)), nunca ofrecerse como voluntario es una estrategia dominante. Considera los siguientes valores razonables para nuestros parámetros: β = .01 (para que cada jugador pueda satisfacer el 1% de las solicitudes), α = .1 (un costo bajo pero no despreciable), δ = .9999/día 142 (lo que corresponde a un factor de descuento anual de aproximadamente 0.95), y un promedio de 1 solicitud por día por jugador. Entonces solo necesitamos un > 1145. Si bien este es un número grande, es pequeño en comparación con el tamaño de una red P2P grande. Los sistemas actuales tienen un grupo de usuarios que se comportan como nuestros altruistas. Esto significa que los intentos de agregar un <br>sistema de reputación</br> encima de un sistema P2P existente para influir en los usuarios a cooperar no tendrán efecto en usuarios racionales. Para tener una distribución justa del trabajo, estos sistemas deben ser rediseñados fundamentalmente para eliminar el grupo de usuarios altruistas. En cierto sentido, esto no es un problema en absoluto. En un sistema con altruistas, los altruistas presumiblemente están felices, al igual que los agentes estándar, quienes ven casi todas sus solicitudes satisfechas sin tener que hacer ningún trabajo. De hecho, las redes P2P actuales funcionan bastante bien en términos de distribuir contenido a las personas. Sin embargo, como mencionamos en la introducción, hay razones para creer que estos altruistas podrían no estar presentes para siempre. Por lo tanto, vale la pena analizar qué se puede hacer para que estos sistemas funcionen en su ausencia. Para el resto de este documento asumimos que todos los agentes son estándar y tratan de maximizar la utilidad esperada. Estamos interesados en equilibrios basados en un sistema de vales. Cada vez que un agente tiene una solicitud satisfecha, debe pagarle a la persona que la satisfizo una cierta cantidad. Por ahora, asumimos que el pago es fijo; para simplificar, tomamos la cantidad como $1. Denotamos por M la cantidad total de dinero en el sistema. Suponemos que M > 0 (de lo contrario, nadie podrá cobrar nunca). En principio, los agentes son libres de adoptar una amplia variedad de estrategias. Pueden tomar decisiones basadas en los nombres de otros agentes o utilizar una estrategia que depende en gran medida de la historia, y combinar libremente estas estrategias. Para ayudar en nuestro análisis, nos gustaría poder restringir nuestra atención a una clase más simple de estrategias. La clase de estrategias en la que estamos interesados es fácil de motivar. La razón intuitiva para querer ganar dinero es para atender la posibilidad de que un agente se quede sin antes de tener la oportunidad de ganar más. Por otro lado, un agente racional con mucho dinero no querría trabajar, porque para cuando haya logrado gastar todo su dinero, la utilidad tendrá menos valor que el costo actual de trabajar. El equilibrio natural entre estos dos es una estrategia de umbral. Que Sk sea la estrategia en la que un agente se ofrece como voluntario siempre que tenga menos de k dólares y no lo haga de otra manera. Ten en cuenta que S0 es la estrategia en la que el agente nunca se ofrece como voluntario. Si bien todos los que juegan S0 conforman un equilibrio de Nash (nadie puede mejorar al ofrecerse como voluntario si nadie más está dispuesto a hacerlo), es un equilibrio poco interesante. Como mostraremos en la Sección 4, es suficiente restringir nuestra atención a esta clase de estrategias. Usamos Kt i para denotar la cantidad de dinero que el agente i tiene en el tiempo t. Claramente Kt+1 i = Kt i a menos que el agente i tenga una solicitud satisfecha, en cuyo caso Kt+1 i = Kt+1 i − 1 o el agente i cumple una solicitud, en cuyo caso Kt+1 i = Kt+1 i + 1. Formalmente, Kt+1 i = 8 < : Kt i − 1 si i = pt , P j=i V t j Bt j > 0, y Kt i > 0 Kt i + 1 si i = vt y Kt pt > 0 Kt i en otro caso. La estrategia de umbral Sk es la estrategia tal que V t i = 1 si Kt pt > 0 y Kt i < k, 0 en caso contrario. EL JUEGO BAJO JUEGO NO ESTRATÉGICO Antes de considerar el juego estratégico, examinamos qué sucede en el sistema si todos juegan simplemente la misma estrategia Sk. Nuestro objetivo general es demostrar que existe una distribución de dinero (es decir, la fracción de personas con cada cantidad de dinero) tal que el sistema converge a esta distribución en un sentido que se precisará en breve. Supongamos que todos juegan Sk. Para simplificar, asumamos que todos tienen a lo sumo k dólares. Podemos hacer esta suposición prácticamente sin pérdida de generalidad, ya que si alguien tiene más de k dólares, simplemente gastará dinero hasta tener como máximo k dólares. Después de este punto, nunca adquirirá más que k. Por lo tanto, eventualmente el sistema estará en tal estado. Si M ≥ kn, ningún agente estará dispuesto a trabajar. Por lo tanto, para los propósitos de esta sección asumimos que M < kn. Desde la perspectiva de un solo agente, en equilibrio (estocástico), el agente está experimentando un paseo aleatorio. Sin embargo, los parámetros de esta caminata aleatoria dependen de las caminatas aleatorias de los otros agentes y es bastante complicado resolverlo directamente. Por lo tanto, consideramos un análisis alternativo basado en la evolución del sistema en su conjunto. Si todos tienen a lo sumo k dólares, entonces la cantidad de dinero que tiene un agente es un elemento de {0, . . . , k}. Si hay n agentes, entonces el estado del juego puede ser descrito identificando cuánto dinero tiene cada agente, por lo que podemos representarlo mediante un elemento de Sk,n = {0, . . . , k}{1,...,n}. Dado que la cantidad total de dinero es constante, no todos estos estados pueden surgir en el juego. Por ejemplo, el estado en el que cada jugador tiene $0 es imposible de alcanzar en cualquier juego con dinero en el sistema. Sea mS(s) = P i∈{1...n} s(i) el monto total de dinero en el juego en el estado s, donde s(i) es la cantidad de dólares que el agente i tiene en el estado s. Queremos considerar solo aquellos estados donde el dinero total en el sistema es M, es decir, Sk,n,M = {s ∈ Sk,n | mS(s) = M}. Bajo el supuesto de que todos los agentes utilizan la estrategia Sk, la evolución del sistema puede ser tratada como una cadena de Markov Mk,n,M sobre el espacio de estados Sk,n,M. Es posible pasar de un estado a otro en una sola ronda si al elegir a un agente en particular para hacer una solicitud y a otro agente en particular para satisfacerla, las cantidades de dinero poseídas por cada agente se convierten en las del segundo estado. Por lo tanto, la probabilidad de una transición de un estado s a t es 0 a menos que existan dos agentes i y j tales que s(i) = t(i) para todos los i /∈ {i, j}, t(i) = s(i) + 1, y t(j) = s(j) − 1. En este caso, la probabilidad de transición de s a t es la probabilidad de que j sea elegido para gastar un dólar y tenga a alguien dispuesto y capaz de satisfacer su solicitud ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplicado por la probabilidad de que i sea elegido para satisfacer su solicitud (1/(|({i | s(i ) = k}| − Ij ). Ij es 0 si j tiene k dólares y 1 en caso contrario (es solo una corrección por el hecho de que j no puede satisfacer su propia solicitud). Sea ∆k el conjunto de distribuciones de probabilidad en {0, . . . , k}. Podemos pensar en un elemento de ∆k como la descripción de la fracción de personas con cada cantidad de dinero. Esta es una forma útil de ver el sistema, ya que normalmente no nos importa quién tiene cada cantidad de dinero, sino simplemente la fracción de personas que tienen cada cantidad. Como antes, no todos los elementos de ∆k son posibles, dada nuestra restricción de que la cantidad total de dinero es M. En lugar de pensar en términos de la cantidad total de dinero en el sistema, resultará más útil pensar en términos del monto promedio de dinero que tiene cada jugador. Por supuesto, la cantidad total de dinero en un sistema con n agentes es M si y solo si la cantidad promedio que cada jugador tiene es m = M/n. Sea ∆k m el conjunto de todas las distribuciones d ∈ ∆k tales que E(d) = m (es decir, Pk j=0 d(j)j = m). Dado un estado s ∈ Sk,n,M, sea ds ∈ ∆k m la distribución de dinero en s. Nuestro objetivo es demostrar que, si n es grande, entonces existe una distribución d∗ ∈ ∆k m tal que, con alta probabilidad, la cadena de Markov Mk,n,M estará casi siempre en un estado s tal que ds esté cerca de d∗. Por lo tanto, los agentes pueden basar sus decisiones sobre qué estrategia usar en la suposición de que estarán en ese estado. De hecho, podemos caracterizar completamente la distribución d∗. Dada una distribución d ∈ ∆k , sea H(d) = − X {j:d(j)=0} d(j) log(d(j)) la entropía de d. Si ∆ es un conjunto convexo cerrado de distribuciones, entonces es bien sabido que hay una distribución única en ∆ en la que la función de entropía alcanza su valor máximo en ∆. Dado que ∆k m se ve fácilmente como un conjunto convexo cerrado de distribuciones, se sigue que hay una distribución única en ∆k m que denotamos como d∗ k,m cuya entropía es mayor que la de todas las demás distribuciones en ∆k m. Ahora mostramos que, para n suficientemente grande, la cadena de Markov Mk,n,M está casi seguramente en un estado s tal que ds está cerca de d∗ k,M/n. La afirmación es correcta en varios sentidos de cercanía. Para mayor claridad, consideramos la distancia euclidiana. Dado > 0, sea Sk,n,m el conjunto de estados s en Sk,n,mn tal que Pk j=0 |ds (j) − d∗ k,m|2 < . Dada una cadena de Markov M sobre un espacio de estados S y S ⊆ S, sea Xt,s,S la variable aleatoria que denota que M se encuentra en un estado de S en el tiempo t, cuando se inicia en el estado s. Teorema 3.1. Para todo ε > 0, todo k y todo m, existe un n tal que para todo n > n y todos los estados s ∈ Sk,n,mn, existe un tiempo t∗ (que puede depender de k, n, m y ) tal que para t > t∗, tenemos que Pr(Xt,s,Sk,n,m, ) > 1 − . Prueba. (Bosquejo) Supongamos que en algún momento t, Pr(Xt,s,s) es uniforme para todos los s. Entonces, la probabilidad de estar en un conjunto de estados es simplemente el tamaño del conjunto dividido por el número total de estados. Una técnica estándar de la mecánica estadística es demostrar que hay un fenómeno de concentración alrededor de la distribución de entropía máxima [16]. Más precisamente, utilizando un argumento combinatorio directo, se puede demostrar que la fracción de estados que no están en Sk,n,m está acotada por p(n)/ecn, donde p es un polinomio. Esta fracción claramente tiende a 0 a medida que n crece. Por lo tanto, para n suficientemente grande, Pr(Xt,s,Sk,n,m, ) > 1 − si Pr(Xt,s,s ) es uniforme. Es relativamente sencillo demostrar que nuestra Cadena de Markov tiene una distribución límite π sobre Sk,n,mn, tal que para todo s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs. Que Pij denote la probabilidad de transición del estado i al estado j. Es fácil verificar mediante un cálculo explícito de las probabilidades de transición que Pij = Pji para todos los estados i y j. Se sigue inmediatamente de esta simetría que πs = πs, por lo que π es uniforme. Después de un tiempo suficiente, la distribución estará lo suficientemente cerca de π, de modo que las probabilidades vuelven a estar limitadas por una constante, lo cual es suficiente para completar el teorema. Realizamos una serie de experimentos que muestran que el comportamiento de máxima entropía descrito en el Teorema 3.1 surge rápidamente para valores bastante prácticos de n y t. El primer experimento mostró que, incluso si n = 1000, alcanzamos rápidamente la distribución de máxima entropía. Promediamos 10 ejecuciones de la cadena de Markov para k = 5 donde hay suficiente dinero para que cada agente tenga $2 comenzando desde una distribución muy extrema (cada agente tiene $0 o $5) y consideramos el tiempo promedio necesario para acercarse a varias distancias de la distribución de entropía máxima. Como muestra la Figura 1, después de 2,000 pasos, en promedio, la distancia euclidiana desde la distribución promedio del dinero hasta la distribución de máxima entropía es de .008; después de 3,000 pasos, la distancia disminuye a .001. Ten en cuenta que esto realmente solo son 3 unidades de tiempo reales, ya que con 1000 jugadores tenemos 1000 transacciones por unidad de tiempo. Luego consideramos qué tan cerca se mantiene la distribución de la entropía máxima una vez que la ha alcanzado. Para simplificar las cosas, comenzamos el sistema en un estado cuya distribución estaba muy cerca de la distribución de máxima entropía y lo ejecutamos durante 106 pasos, para varios valores de n. Como muestra la Figura 2, el sistema no se aleja mucho de la distribución de máxima entropía una vez que está allí. Por ejemplo, si n = 5000, el sistema nunca está a más de una distancia de .001 de la distribución de máxima entropía; si n = 25,000, nunca está a más de .0002 de la distribución de máxima entropía. Finalmente, consideramos con más cuidado cómo rápidamente el sistema converge a la distribución de máxima entropía para varios valores de n. Hay aproximadamente kn estados posibles, por lo que el tiempo de convergencia podría ser bastante largo en principio. Sin embargo, sospechamos que la cadena de Markov que surge aquí se mezcla rápidamente, lo que significa que convergerá significativamente más rápido (ver [20] para más detalles sobre la mezcla rápida). Creemos que el tiempo necesario en realidad es O(n). Este comportamiento se ilustra en la Figura 3, que muestra que para nuestra cadena de ejemplo (nuevamente promediada en 10 ejecuciones), después de 3n pasos, la distancia euclidiana entre la distribución real del dinero en el sistema y la distribución de máxima entropía es menor que .001. EL JUEGO BAJO JUGADA ESTRATÉGICA Hemos visto que el sistema se comporta bien si los agentes siguen todos una estrategia de umbral; ahora queremos demostrar que existe un equilibrio de Nash no trivial donde lo hacen (es decir, un equilibrio de Nash donde todos los agentes usan Sk para algún k > 0). Esto no es cierto en general. Si δ es pequeño, entonces los agentes no tienen incentivo para trabajar. Intuitivamente, si la utilidad futura está suficientemente descontada, entonces todo lo que importa es el presente, y no tiene sentido ofrecerse como voluntario para trabajar. Con un δ pequeño, S0 es el único equilibrio. Sin embargo, demostramos que para δ suficientemente grande, hay otro equilibrio en estrategias de umbral. Lo hacemos primero demostrando que, si cada otro agente está jugando una estrategia de umbral, entonces hay una mejor respuesta que también es una estrategia de umbral (aunque no necesariamente la misma). Luego demostramos que debe existir alguna estrategia de umbral (mixta) para la cual esta mejor respuesta sea la misma estrategia. Se deduce que este conjunto de estrategias de umbral es un equilibrio de Nash. Como primer paso, demostramos que, para todo k, si todos excepto el agente i están jugando Sk, entonces hay una estrategia de umbral Sk que es la mejor respuesta para el agente i. Para demostrar esto, necesitamos asumir que el sistema está cerca de la distribución de estado estacionario (es decir, la distribución de máxima entropía). Sin embargo, siempre y cuando δ esté suficientemente cerca de 1, podemos ignorar lo que sucede durante el período en el que el sistema no está en estado estacionario. Hasta ahora hemos considerado estrategias de umbral de la forma Sk, donde k es un número natural; este es un conjunto discreto de estrategias. Para una futura demostración, será útil contar con un conjunto continuo de estrategias. Si γ = k + γ, donde k es un número natural y 0 ≤ γ < 1, sea Sγ la estrategia que realiza Sk con probabilidad 1 − γ y Sk+1 con probabilidad γ. (Nótese que aquí no estamos considerando estrategias de umbral mixtas arbitrarias, sino simplemente mezclando entre estrategias adyacentes con el único propósito de hacer que las estrategias sean continuas de una manera natural). El Teorema 3.1 se aplica a las estrategias Sγ (la misma prueba se realiza sin cambios), donde γ es un número real no negativo arbitrario. Teorema 4.1. Fije una estrategia Sγ y un agente i. Existe δ∗ < 1 y n∗ tal que si δ > δ∗ , n > n∗ , y cada agente que no sea i está jugando Sγ en el juego G(n, δ), entonces existe un entero k tal que la mejor respuesta para el agente i es Sk. Ya sea que k sea único (es decir, haya una única mejor respuesta que también sea una estrategia de umbral), o existe un entero k tal que Sγ sea una mejor respuesta para el agente i para todos los γ en el intervalo [k, k + 1] (y estas son las únicas mejores respuestas entre las estrategias de umbral). Prueba. (Bosquejo:) Si δ es suficientemente grande, podemos ignorar lo que sucede antes de que el sistema converja a la distribución de entropía máxima. Si n es suficientemente grande, entonces la estrategia jugada por un agente no afectará significativamente la distribución del dinero. Por lo tanto, la probabilidad de que i se mueva de un estado (cantidad de dinero) a otro depende únicamente de su estrategia (ya que podemos considerar que la probabilidad de que i sea elegido para hacer una solicitud y la probabilidad de que i sea elegido para satisfacer una solicitud son constantes). Por lo tanto, desde su punto de vista, el sistema es un proceso de decisión de Markov (MDP), y necesita calcular la política óptima (estrategia) para este MDP. Se desprende de los resultados estándar [23, Teorema 6.11.6] que existe una política óptima que es una política de umbral. El argumento de que la mejor respuesta es única o que existe un intervalo de mejores respuestas se desprende de un análisis más detallado de la función de valor para el MDP. Observamos que puede haber mejores respuestas que no son estrategias de umbral. Todo lo que el Teorema 4.1 muestra es que, entre las mejores respuestas, hay al menos una que es una estrategia de umbral. Dado que sabemos que hay una mejor respuesta que es una estrategia de umbral, podemos buscar un equilibrio de Nash en el espacio de estrategias de umbral. Teorema 4.2. Para todo M, existe δ∗ < 1 y n∗ tal que si δ > δ∗ y n > n∗, existe un equilibrio de Nash en el juego G(n, δ) donde todos los agentes juegan Sγ para algún entero γ > 0. Prueba. Se sigue fácilmente de la prueba del Teorema 4.1 que si br(δ, γ) es la estrategia umbral de mejor respuesta mínima si todos los demás agentes están jugando Sγ y el factor de descuento es δ, entonces, para δ fijo, br(δ, ·) es una función escalonada. También se sigue 3 Formalmente, necesitamos definir las estrategias cuando el sistema está lejos del equilibrio. Sin embargo, estas estrategias lejos del equilibrio (estocástico) no afectarán el comportamiento de equilibrio cuando n sea grande y las desviaciones del equilibrio estocástico sean extremadamente raras. 145 del teorema que si hay dos mejores respuestas, entonces una mezcla de ellas también es una mejor respuesta. Por lo tanto, si podemos unir los pasos con una línea vertical, obtenemos una curva de mejor respuesta. Es fácil ver que en todos los puntos donde esta curva de mejor respuesta cruza la diagonal y = x se define un equilibrio de Nash donde todos los agentes están utilizando la misma estrategia de umbral. Como ya hemos observado, uno de estos equilibrios ocurre en 0. Si solo hay $M en el sistema, podemos restringirnos a estrategias de umbral Sk donde k ≤ M + 1. Dado que nadie puede tener más de $M, todas las estrategias Sk para k > M son equivalentes a SM; estas son simplemente las estrategias en las que el agente siempre se ofrece como voluntario en respuesta a una solicitud hecha por alguien que puede pagar. Claramente br(δ, SM) ≤ M para todo δ, por lo que la función de mejor respuesta está en o por debajo del equilibrio en M. Si k ≤ M/n, cada jugador tendrá al menos k dólares y por lo tanto no estará dispuesto a trabajar, siendo la mejor respuesta simplemente 0. Considera k∗, el menor k tal que k > M/n. No es difícil demostrar que para k∗ existe un δ∗ tal que para todo δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ . Se sigue por continuidad que si δ ≥ δ∗, debe existir algún γ tal que br(δ, γ) = γ. Este es el equilibrio de Nash deseado. Este argumento también nos muestra que no podemos esperar en general que los puntos fijos sean únicos. Si br(δ, k∗ ) = k∗ y br(δ, k + 1) > k + 1 entonces nuestro argumento muestra que debe haber un segundo punto fijo. En general, puede haber múltiples puntos fijos incluso cuando br(δ, k∗ ) > k∗ , como se ilustra en la Figura 4 con n = 1000 y M = 3000. 0 5 10 15 20 25 Estrategia del Resto de Agentes 0 5 10 15 20 25 Mejor Respuesta Figura 4: La función de mejor respuesta para n = 1000 y M = 3000. El Teorema 4.2 nos permite restringir nuestro diseño a agentes que utilizan estrategias de umbral con la confianza de que habrá un equilibrio no trivial. Sin embargo, esto no descarta la posibilidad de que pueda haber otros equilibrios que no involucren estrategias de umbral. Es incluso posible (aunque parece improbable) que algunos de estos equilibrios puedan ser mejores. 5. BIENESTAR SOCIAL Y ESCALABILIDAD Nuestros teoremas muestran que para cada valor de M y n, para un δ suficientemente grande, existe un equilibrio de Nash no trivial donde todos los agentes utilizan alguna estrategia de umbral Sγ(M,n). Desde el punto de vista del diseñador del sistema, no todos los equilibrios son igualmente buenos; queremos un equilibrio en el que el menor número posible de agentes tengan $0 cuando tengan la oportunidad de hacer una solicitud (para que puedan pagar la solicitud) y relativamente pocos agentes tengan más del monto umbral de dinero (para que siempre haya suficientes agentes para cumplir con la solicitud). Existe una tensión entre estos objetivos. No es difícil demostrar que a medida que la fracción de agentes con $0 aumenta en la distribución de entropía máxima, la fracción de agentes con la cantidad máxima de dinero disminuye. Por lo tanto, nuestro objetivo es entender cuál debería ser la cantidad óptima de dinero en el sistema, dada la cantidad de agentes. Es decir, queremos conocer la cantidad de dinero M que maximiza la eficiencia, es decir, la utilidad total esperada si todos los agentes utilizan Sγ(M,n). Primero observamos que el equilibrio más eficiente depende solo de la proporción de M a n, no de los valores reales de M y n. Teorema 5.1. Existe un n∗ tal que para todos los juegos G(n1, δ) y G(n2, δ) donde n1, n2 > n∗, si M1/n1 = M2/n2, entonces Sγ(M1,n1) = Sγ(M2,n2). Prueba. El teorema 3.1 muestra que la distribución de máxima entropía depende solo de k y la razón M/n, no de M y n por separado. Por lo tanto, dado r, para cada elección de k, hay una distribución única de entropía máxima dk,r. La mejor respuesta br(δ, k) depende solo de la distribución dk,r, no de M o n. Por lo tanto, el equilibrio de Nash depende solo de la proporción r. Es decir, para todas las elecciones de M y n tales que n es suficientemente grande (para que se aplique el Teorema 3.1) y M/n = r, las estrategias de equilibrio son las mismas. A la luz del Teorema 5.1, el diseñador del sistema debe asegurarse de que haya suficiente dinero M en el sistema para que la proporción entre M/n sea óptima. Actualmente estamos explorando exactamente cuál es la proporción óptima. Como muestran nuestros resultados muy preliminares para β = 1 en la Figura 5, la proporción parece aumentar de forma monótona en δ, lo cual coincide con la intuición de que deberíamos brindar a los agentes más pacientes la oportunidad de ahorrar más dinero. Además, parece ser relativamente suave, lo que sugiere que puede tener una solución analítica agradable. 0.9 0.91 0.92 0.93 0.94 0.95 Tasa de descuento ∆ 5 5.5 6 6.5 7 Proporción óptima de Mn Figura 5: Cantidad promedio óptima de dinero al número más cercano .25 para β = 1 Se destaca que, en la práctica, puede ser más fácil para el diseñador variar el precio de cumplir una solicitud en lugar de 4 Si hay múltiples equilibrios, tomamos Sγ(M,n) como el equilibrio de Nash que tiene la mayor eficiencia para M y n fijos. 146 inyectar dinero en el sistema. Esto produce el mismo efecto. Por ejemplo, cambiar el costo de cumplir una solicitud de $1 a $2 es equivalente a reducir a la mitad la cantidad de dinero que tiene cada agente. De manera similar, reducir a la mitad el costo de cumplir una solicitud es equivalente a duplicar la cantidad de dinero que todos tienen. Con una cantidad fija de dinero M, existe un producto óptimo nc del número de agentes y el costo c de cumplir una solicitud. El Teorema 5.1 también nos dice cómo manejar un grupo dinámico de agentes. Nuestro sistema puede manejar a los recién llegados relativamente fácilmente: simplemente permítales unirse sin dinero. Esto no brinda ningún incentivo a los agentes existentes para salir y volver a unirse como recién llegados. Luego cambiamos el precio de cumplir una solicitud para que se mantenga la proporción óptima. Este método tiene la característica interesante de que puede implementarse de forma distribuida; si todos los nodos en el sistema tienen una buena estimación de n, entonces todos pueden ajustar los precios automáticamente. (Alternativamente, el número de agentes en el sistema puede ser publicado en un lugar público). Los enfoques que dependen de ajustar la cantidad de dinero pueden requerir costosos cálculos a nivel de sistema (ver [26] para un ejemplo) y deben ser cuidadosamente ajustados para evitar crear incentivos para que los agentes manipulen el sistema mediante el cual se realiza esto. Ten en cuenta que, en principio, la realización de que el costo de cumplir una solicitud puede cambiar puede afectar la estrategia de un agente. Por ejemplo, si un agente espera que el costo aumente, entonces puede querer posponer ofrecerse como voluntario para cumplir con una solicitud. Sin embargo, si el número de agentes en el sistema siempre está aumentando, entonces el costo siempre disminuye, por lo que nunca hay ninguna ventaja en esperar. Puede haber una ventaja en retrasar una solicitud, pero es mucho más costoso en términos de costos de espera que en proporcionar el servicio, ya que asumimos que la necesidad de un servicio a menudo está sujeta a costos reales de espera, mientras que la necesidad de suministrar el servicio es simplemente aumentar el suministro de dinero. (Se discuten temas relacionados en [10].) Finalmente, esperamos modificar el mecanismo para que el precio de un trabajo pueda establecerse de forma endógena dentro del sistema (como en las economías del mundo real), con agentes pujando por trabajos en lugar de que exista un costo fijo establecido externamente. Sin embargo, aún no hemos explorado los cambios necesarios para implementar este cambio. Por lo tanto, por ahora, asumimos que el costo se establece como una función del número de agentes en el sistema (y que no hay posibilidad de que los agentes satisfagan una solicitud por menos del costo oficial o de que los solicitantes ofrezcan pagar más). 6. SIBILAS Y COLUSIÓN En un sentido ingenuo, nuestro sistema es esencialmente a prueba de sibilas. Para obtener d dólares, sus sibilas juntas todavía tienen que realizar d unidades de trabajo. Además, dado que los recién llegados ingresan al sistema con $0, no hay beneficio en crear nuevos agentes simplemente para aprovechar un dotación inicial. Sin embargo, existen algunas formas menos directas en las que un agente podría aprovecharse de los sybils. Primero, al tener más identidades, tendrá una mayor probabilidad de ser elegido para hacer una solicitud. Es fácil ver que esto llevará a que el agente tenga una mayor utilidad total. Sin embargo, esto es solo un artefacto de nuestro modelo. Para simplificar el análisis de nuestro sistema, hemos asumido que las oportunidades de solicitud llegaron de manera uniforme al azar. En la práctica, se hacen peticiones para satisfacer un deseo. Nuestro modelo asumió implícitamente que todos los agentes tienen la misma probabilidad de tener un deseo en un momento particular. Tener sibilas no debería aumentar la necesidad de que se satisfaga una solicitud. De hecho, sería razonable asumir que las sibilas no hacen solicitudes en absoluto. En segundo lugar, tener sibilas hace más probable que una de las sibilas sea elegida para cumplir una petición. Esto puede permitir a un usuario aumentar su utilidad al establecer un umbral más bajo; es decir, al usar una estrategia Sk donde k es menor que el k utilizado por la estrategia de equilibrio de Nash. Intuitivamente, la necesidad de dinero no es tan crítica si el dinero es más fácil de obtener. A diferencia de la primera preocupación, esto parece ser un problema real. Parece razonable creer que cuando las personas toman una decisión entre varios nodos para satisfacer una solicitud lo hacen de forma aleatoria, al menos en cierta medida. Aunque busquen las características de los nodos anunciadas para ayudar a tomar esta decisión, los sybils permitirían a un usuario anunciar una amplia gama de características. Tercero, un agente puede reducir el costo de cumplir una solicitud al introducir muchos síbiles. Del mismo modo, podría aumentar el costo (y por ende el valor de su dinero) al hacer que un número de sibilas salgan del sistema. Concebiblemente podría alternar entre estas técnicas para magnificar los efectos del trabajo que realiza. Todavía no hemos calculado el efecto exacto de este cambio (interactúa con los otros dos efectos de tener sibilas que ya hemos notado). Dado el número de síbiles que serían necesarios para causar un cambio real en el tamaño percibido de una gran red P2P, la viabilidad de este ataque depende en gran medida de cuánto cuestan los síbiles a un atacante y qué recursos tiene disponibles. El segundo punto planteado sobre las sibilas también se aplica a la colusión si permitimos que se preste dinero. Si k agentes coluden, pueden acordar que, si uno se queda sin dinero, otro en el grupo le prestará dinero. Al juntar su dinero de esta manera, los agentes k pueden volver a mejorar al establecer un umbral más alto. Ten en cuenta que el mecanismo de préstamo no necesita estar integrado en el sistema; los agentes pueden simplemente utilizar una transacción falsa para transferir el dinero. Estos parecen ser los principales métodos para ataques colusivos, pero aún estamos explorando este tema. 7. CONCLUSIÓN Hemos realizado un análisis formal de un sistema de escritura y hemos demostrado que existe un equilibrio de Nash donde todos los agentes utilizan una estrategia de umbral. Además, podemos calcular la eficiencia de la estrategia de equilibrio y optimizar el precio (o la oferta monetaria) para maximizar la eficiencia. Por lo tanto, nuestro análisis proporciona un mecanismo formal para resolver algunos problemas importantes en la implementación de sistemas de guiones. Nos dice que con una población fija de usuarios racionales, es muy poco probable que dichos sistemas se vuelvan inestables. Por lo tanto, si esta estabilidad es una creencia común entre los agentes, no esperaríamos inflación, burbujas ni colapsos debido a la especulación de los agentes. Sin embargo, no podemos descartar la posibilidad de que esos agentes tengan otras creencias que los lleven a especular. Nuestro análisis también nos indica cómo escalar el sistema para manejar una afluencia de nuevos usuarios sin introducir estos problemas: escalar la oferta monetaria para mantener constante la cantidad promedio de dinero (o ajustar los precios de manera equivalente para lograr el mismo objetivo). Hay una serie de problemas teóricos que aún están abiertos, incluida una caracterización de la multiplicidad de equilibrios, ¿suelen ser 2? Además, esperamos que uno pueda calcular estimaciones analíticas para la función de mejor respuesta y la fijación de precios óptima, lo que nos permitiría comprender la relación entre los precios y varios parámetros en el modelo. También sería de gran interés ampliar nuestro análisis para abordar configuraciones más realistas. Mencionamos algunas posibles extensiones aquí: • Hemos asumido que el mundo es homogéneo en varios aspectos, incluyendo la frecuencia de las solicitudes, la utilidad y la capacidad para satisfacer las solicitudes. Sería interesante examinar cómo relajar cualquiera de estas suposiciones alteraría nuestros resultados. • Hemos asumido que no hay costo para un agente al ser miembro del sistema. Supongamos en cambio que imponemos un pequeño costo simplemente por estar presente en el sistema para reflejar los costos de enrutamiento de mensajes y mantenimiento de la superposición. Esta modificación podría tener un impacto significativo en los ataques de Sybil. • Hemos descrito un sistema de escritura que funciona cuando no hay altruistas y hemos demostrado que ningún sistema puede funcionar una vez que hay suficientes altruistas. ¿Qué sucede entre estos extremos? • Un tipo de comportamiento irracional que se encuentra en los sistemas de cupones es el acaparamiento. Hay algunas similitudes entre el acaparamiento y el comportamiento altruista. Mientras que un altruista brinda servicio para todos, un acumulador se ofrecerá como voluntario para todos los trabajos (con el fin de obtener más dinero) y rara vez solicitará servicio (para no gastar dinero). Sería interesante investigar en qué medida nuestro sistema es robusto contra los acaparadores. Claramente, con demasiados acumuladores, puede que no quede suficiente dinero entre los no acumuladores para garantizar que, típicamente, un no acumulador tenga suficiente dinero para satisfacer una solicitud. • Finalmente, en los sistemas de intercambio de archivos P2P, existen comunidades superpuestas de varios tamaños que tienen significativamente más probabilidades de poder satisfacer las solicitudes de los demás. Sería interesante investigar el efecto de tales comunidades en el equilibrio de nuestro sistema. También hay una serie de problemas de implementación que tendrían que resolverse en un sistema real. Por ejemplo, debemos preocuparnos por la posibilidad de que los agentes falsifiquen dinero o mientan sobre si el servicio fue realmente proporcionado. Karma [26] proporciona técnicas para lidiar con ambos problemas y varios más, pero algunas decisiones de implementación de Karma señalan problemas para nuestro modelo. Por ejemplo, resulta prohibitivamente caro asegurar que los saldos de las cuentas bancarias nunca puedan ser negativos, un hecho que nuestro modelo no captura. Otro ejemplo es que Karma tiene nodos que actúan como contables de los saldos de cuentas de otros nodos. Al igual que mantener una presencia en la red, esto impone un costo al nodo, pero a diferencia de eso, la responsabilidad puede ser fácilmente eludida. Karma sugiere varias formas de incentivar a los nodos para que realicen estas tareas. No hemos investigado si estos mecanismos pueden ser incorporados sin perturbar nuestro equilibrio. 8. AGRADECIMIENTOS Nos gustaría agradecer a Emin Gun Sirer, Shane Henderson, Jon Kleinberg y 3 árbitros anónimos por sus sugerencias útiles. EF, IK y JH cuentan con el apoyo parcial de la NSF bajo la subvención ITR-0325453. JH también cuenta con el apoyo parcial de la NSF bajo los subsidios CTC-0208535 e IIS-0534064, de la ONR bajo el subsidio N00014-01-10-511, del Programa de Iniciativa de Investigación Universitaria Multidisciplinaria (MURI) del DoD administrado por la ONR bajo los subsidios N00014-01-1-0795 y N00014-04-1-0725, y de la AFOSR bajo el subsidio F49620-021-0101. 9. REFERENCIAS [1] E. Adar y B. A. Huberman. Viajando gratis en Gnutella. Primer lunes, 5(10), 2000. [2] K. G. Anagnostakis y M. Greenwald. Mecanismos de incentivos basados en intercambio para compartir archivos entre pares. En la Conferencia Internacional sobre Sistemas de Computación Distribuida (ICDCS), páginas 524-533, 2004. [3] BitTorrent Inc. Sitio web de BitTorrent. http://www.bittorent.com. [4] A. Cheng y E. Friedman. Mecanismos de reputación a prueba de Sybil. En Taller sobre Economía de Sistemas Peer-to-Peer (P2PECON), páginas 128-132, 2005. [5] Tecnologías de la Información de Cornell. Estadísticas de uso de Internet de la Universidad de Cornell. http://www.cit.cornell.edu/computer/students/bandwidth/charts.html. [6] J. R. Douceur. El ataque de la sibila. En el Taller Internacional de Sistemas Peer-to-Peer (IPTPS), páginas 251-260, 2002. [7] G. Ellison. Cooperación en el dilema del prisionero con emparejamiento aleatorio anónimo. Revisión de Estudios Económicos, 61:567-588, 1994. [8] Proyecto eMule. Sitio web de eMule. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica y J. Chuang. Técnicas de incentivos sólidas para redes peer-to-peer. En la Conferencia ACM sobre Comercio Electrónico (EC), páginas 102-111, 2004. [10] E. J. Friedman y D. C. Parkes. Establecimiento de precios del wifi en Starbucks: problemas en el diseño de mecanismos en línea. En EC 03: Actas de la 4ta Conferencia de la ACM sobre Comercio Electrónico, páginas 240-241. ACM Press, 2003. [11] E. J. Friedman y P. Resnick. El costo social de los seudónimos baratos. Revista de Economía y Estrategia de Gestión, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan y A. Tomkins. Propagación de la confianza y la desconfianza. En la Conferencia sobre la World Wide Web (WWW), páginas 403-412, 2004. [13] M. Gupta, P. Judge y M. H. Ammar. Un <br>sistema de reputación</br> para redes peer-to-peer. En Network and Operating System Support for Digital Audio and Video (NOSSDAV), páginas 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina y J. Pedersen. Detección de spam de enlaces basada en estimación de masa. Informe técnico, Universidad de Stanford, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis y V. Prevelakis. Fileteller: Pagar y recibir pago por almacenamiento de archivos. En Criptografía Financiera, páginas 282-299, 2002. [16] E. T. Jaynes. ¿En qué punto nos encontramos con respecto a la entropía máxima? En R. D. Levine y M. Tribus, editores, El Formalismo de la Entropía Máxima, páginas 15-118. MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, y H. Garcia-Molina. El algoritmo Eigentrust para la gestión de reputación en redes P2P. En la Conferencia sobre la World Wide Web (WWW), páginas 640-651, 2003. [18] M. Kandori. Normas sociales y aplicación comunitaria. Revisión de Estudios Económicos, 59:63-80, 1992. [19] Corporación LogiSense. Sitio web de LogiSense. http://www.logisense.com/tm p2p.html. [20] L. Lovasz y P. Winkler. Mezcla de caminatas aleatorias y otras difusiones en un grafo. En Encuestas en Combinatoria, 1993, Walker (Ed.), Serie de Notas de Conferencias de la London Mathematical Society 187, Cambridge University Press. 1995. [21] Grupo de Tecnología de Código Abierto. Preguntas frecuentes sobre comentarios y moderación en Slashdot. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC. Sitio web de Gnutella. http://www.gnutella.com/. [23] M. L. Puterman. Procesos de Decisión de Markov. Wiley, 1994. [24] SETI@home. \n\nWiley, 1994. [24] SETI@home. Página web de SETI@home. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Sitio web de Kazaa. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar y E. Sirer. Karma: Un marco económico seguro para el intercambio de recursos entre pares. En Taller sobre Economía de Sistemas Peer-to-Peer (P2PECON), 2003. [27] L. Xiong y L. Liu. Construyendo confianza en comunidades electrónicas descentralizadas de pares a pares. En la Conferencia Internacional de Investigación en Comercio Electrónico (ICECR) de 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason y B. V. Roy. Haciendo que los sistemas de reputación basados en vectores propios sean robustos ante la colusión. En Taller sobre Algoritmos y Modelos para el Grafo Web (WAW), páginas 92-104, 2004. 149 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "bittorrent": {
            "translated_key": "BitTorrent",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed.",
                "It is shown that by adding a scrip system, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
                "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
                "Peer-topeer (P2P) networks (such as Kazaa [25] or <br>bittorrent</br> [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "However, the cost of providing service can still be nontrivial.",
                "For example, users of Kazaa and <br>bittorrent</br> may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
                "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
                "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
                "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
                "These heavy users are some of the most expensive customers ISPs have.",
                "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
                "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
                "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems.",
                "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
                "Some of the P2P networks currently in use have implemented versions of these techniques.",
                "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
                "By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions.",
                "Perhaps the best-known example of a barter-like system is <br>bittorrent</br>, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8].",
                "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
                "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
                "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
                "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
                "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
                "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
                "Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it.",
                "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
                "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
                "However, to avoid penalizing new users, they gave new users an average rating.",
                "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
                "Thus Kazaas reputation system is ineffective.",
                "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
                "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
                "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
                "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
                "However, they have a different set of problems.",
                "Perhaps the most common involve determining the amount of money in the system.",
                "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
                "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
                "A related problem involves handling newcomers.",
                "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
                "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
                "In this paper, we provide a formal model in which to analyze scrip systems.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents.",
                "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
                "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
                "In systems where the goal is to do work, new users can acquire money by performing work.",
                "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
                "The rest of the paper is organized as follows.",
                "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
                "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same threshold strategy.",
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some threshold strategy.",
                "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
                "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
                "We conclude in Section 7. 2.",
                "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative game.",
                "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
                "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
                "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
                "This random-matching model fails to capture some salient aspects of a number of important settings.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can.",
                "For example, some people may not have the time or resources to satisfy the request.",
                "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
                "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
                "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
                "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
                "Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made.",
                "For example, it is not clear what defection on the part of the requester means.",
                "In our model we try to deal with all these issues.",
                "Suppose that there are n agents.",
                "At each round, an agent is picked uniformly at random to make a request.",
                "Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request.",
                "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
                "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
                "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
                "If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
                "The agent that fulfills the request pays a cost of α < 1.",
                "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
                "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite game.",
                "Lastly, we assume that with more players requests come more often.",
                "Thus we assume that the time between rounds is 1/n.",
                "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
                "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
                "We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
                "V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request.",
                "This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
                "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
                "Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i.",
                "It is the discounted total of agent is utility in each round.",
                "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
                "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
                "Take an altruist to be someone who always fulfills requests.",
                "Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
                "Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it.",
                "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
                "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
                "While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others.",
                "For example a naive user of filesharing software with a good connection might well follow this strategy.",
                "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
                "As we have observed, such users seem to exist in some large systems.",
                "Suppose that our system has a altruists.",
                "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
                "Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system.",
                "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
                "Proposition 2.1.",
                "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
                "Proof.",
                "Consider the strategy for a standard player j in the presence of a altruists.",
                "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
                "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
                "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
                "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
                "Then we only need a > 1145.",
                "While this is a large number, it is small relative to the size of a large P2P network.",
                "Current systems all have a pool of users behaving like our altruists.",
                "This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
                "In some sense, this is not a problem at all.",
                "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
                "Indeed, current P2P network work quite well in terms of distributing content to people.",
                "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
                "Thus, it is worth looking at what can be done to make these systems work in their absence.",
                "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
                "We are interested in equilibria based on a scrip system.",
                "Each time an agent has a request satisfied he must pay the person who satisfied it some amount.",
                "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
                "We denote by M the total amount of money in the system.",
                "We assume that M > 0 (otherwise no one will ever be able to get paid).",
                "In principle, agents are free to adopt a very wide variety of strategies.",
                "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
                "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
                "The class of strategies we are interested in is easy to motivate.",
                "The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more.",
                "On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
                "The natural balance between these two is a threshold strategy.",
                "Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise.",
                "Note that S0 is the strategy where the agent never volunteers.",
                "While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
                "We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
                "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
                "The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
                "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
                "Suppose that everyone plays Sk.",
                "For simplicity, assume that everyone has at most k dollars.",
                "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
                "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
                "If M ≥ kn, no agent will ever be willing to work.",
                "Thus, for the purposes of this section we assume that M < kn.",
                "From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk.",
                "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
                "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
                "If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}.",
                "If there are n agents, then the state of the game can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
                "Since the total amount of money is constant, not all of these states can arise in the game.",
                "For example the state where each player has $0 is impossible to reach in any game with money in the system.",
                "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
                "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
                "It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state.",
                "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
                "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
                "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
                "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
                "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
                "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
                "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
                "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
                "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
                "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
                "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
                "We can in fact completely characterize the distribution d∗ .",
                "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
                "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
                "The statement is correct under a number of senses of close.",
                "For definiteness, we consider the Euclidean distance.",
                "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
                "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
                "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
                "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
                "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16].",
                "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
                "This fraction clearly goes to 0 as n gets large.",
                "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
                "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
                "Let Pij denote the probability of transitioning from state i to state j.",
                "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
                "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution.",
                "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
                "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
                "We then considered how close the distribution stays to the maximum entropy distribution once it has reached it.",
                "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
                "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
                "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
                "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
                "We believe that the actually time needed is O(n).",
                "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)",
                "This is not true in general.",
                "If δ is small, then agents have no incentive to work.",
                "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
                "With small δ, S0 is the only equilibrium.",
                "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
                "We do this by first showing that, if every other agent is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one).",
                "We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy.",
                "It follows that this tuple of threshold strategies is a Nash equilibrium.",
                "As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a threshold strategy Sk that is a best response for agent i.",
                "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
                "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
                "For a later proof, it will be helpful to have a continuous set of strategies.",
                "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
                "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
                "Theorem 4.1.",
                "Fix a strategy Sγ and an agent i.",
                "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for agent i is Sk .",
                "Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
                "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
                "If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly.",
                "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
                "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
                "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
                "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
                "We remark that there may be best responses that are not threshold strategies.",
                "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy.",
                "Since we know that there is a best response that is a threshold strategy, we can look for a Nash equilibrium in the space of threshold strategies.",
                "Theorem 4.2.",
                "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the game G(n, δ) where all agents play Sγ for some integer γ > 0.",
                "Proof.",
                "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
                "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
                "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
                "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
                "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same threshold strategy.",
                "As we have already observed, one such equilibrium occurs at 0.",
                "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
                "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay.",
                "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
                "Consider k∗ , the smallest k such that k > M/n.",
                "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
                "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
                "This is the desired Nash equilibrium.",
                "This argument also shows us that we cannot in general expect fixed points to be unique.",
                "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
                "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
                "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
                "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
                "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
                "SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n).",
                "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
                "There is a tension between these objectives.",
                "It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases.",
                "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
                "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
                "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
                "Proof.",
                "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
                "Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r.",
                "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
                "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
                "We are currently exploring exactly what the optimal ratio is.",
                "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
                "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system.",
                "This produces the same effect.",
                "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has.",
                "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
                "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
                "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
                "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
                "This gives existing agents no incentive to leave and rejoin as newcomers.",
                "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
                "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
                "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
                "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
                "For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
                "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
                "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
                "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
                "However, we have not yet explored the changes required to implement this change.",
                "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
                "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
                "To get d dollars, his sybils together still have to perform d units of work.",
                "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
                "Nevertheless, there are some less direct ways that an agent could take advantage of sybils.",
                "First, by having more identities he will have a greater probability of getting chosen to make a request.",
                "It is easy to see that this will lead to the agent having higher total utility.",
                "However, this is just an artifact of our model.",
                "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
                "In practice, requests are made to satisfy a desire.",
                "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
                "Having sybils should not increase the need to have a request satisfied.",
                "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
                "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
                "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy.",
                "Intuitively, the need for money is not as critical if money is easier to obtain.",
                "Unlike the first concern, this seems like a real issue.",
                "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
                "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
                "Third, an agent can drive down the cost of fulfilling a request by introducing many sybils.",
                "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
                "Concievably he could alternate between these techniques to magnify the effects of work he does.",
                "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
                "Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
                "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
                "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
                "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
                "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
                "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
                "CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy.",
                "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
                "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
                "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
                "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation.",
                "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
                "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
                "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
                "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
                "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
                "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system.",
                "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
                "This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
                "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
                "There are some similarities between hoarding and altruistic behavior.",
                "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
                "It would be interesting to investigate the extent to which our system is robust against hoarders.",
                "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
                "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
                "There are also a number of implementation issues that would have to be resolved in a real system.",
                "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
                "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
                "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
                "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
                "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
                "Karma suggests several ways to incentivize nodes to perform these duties.",
                "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
                "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
                "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
                "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
                "REFERENCES [1] E. Adar and B.",
                "A. Huberman.",
                "Free riding on Gnutella.",
                "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
                "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] <br>bittorrent</br> Inc. <br>bittorrent</br> web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
                "Sybilproof reputation mechanisms.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
                "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
                "The sybil attack.",
                "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
                "Cooperation in the prisoners dilemma with anonymous random matching.",
                "Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
                "Robust incentive techniques for peer-to-peer networks.",
                "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
                "Pricing wifi at starbucks: issues in online mechanism design.",
                "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
                "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
                "The social cost of cheap pseudonyms.",
                "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
                "Propagation of trust and distrust.",
                "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
                "A reputation system for peer-to-peer networks.",
                "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
                "Link spam detection based on mass estimation.",
                "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
                "Fileteller: Paying and getting paid for file storage.",
                "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
                "Where do we stand on maximum entropy?",
                "In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118.",
                "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
                "The Eigentrust algorithm for reputation management in P2P networks.",
                "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
                "Social norms and community enforcement.",
                "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
                "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
                "Mixing of random walks and other diffusions on a graph.",
                "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
                "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
                "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
                "Markov Decision Processes.",
                "Wiley, 1994. [24] SETI@home.",
                "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
                "Karma: A secure economic framework for peer-to-peer resource sharing.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
                "Building trust in decentralized peer-to-peer electronic communities.",
                "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
                "Making eigenvector-based reputation systems robust to collusion.",
                "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
            ],
            "original_annotated_samples": [
                "Peer-topeer (P2P) networks (such as Kazaa [25] or <br>bittorrent</br> [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "For example, users of Kazaa and <br>bittorrent</br> may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Perhaps the best-known example of a barter-like system is <br>bittorrent</br>, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] <br>bittorrent</br> Inc. <br>bittorrent</br> web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman."
            ],
            "translated_annotated_samples": [
                "Las redes peer-to-peer (P2P) (como Kazaa [25] o <br>BitTorrent</br> [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás.",
                "Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo.",
                "Quizás el ejemplo más conocido de un sistema similar al trueque es <br>BitTorrent</br>, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual.",
                "En la Conferencia Internacional sobre Sistemas de Computación Distribuida (ICDCS), páginas 524-533, 2004. [3] <br>BitTorrent</br> Inc. Sitio web de <br>BitTorrent</br>. http://www.bittorent.com. [4] A. Cheng y E. Friedman."
            ],
            "translated_text": "Eficiencia y equilibrios de Nash en un sistema de vales para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación. Universidad Cornell halpern@cs.cornell.edu Ian Kash Departamento de Ciencias de la Computación. La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una red P2P. Se demuestra que al agregar un sistema de script, se puede obtener un mecanismo que admita un equilibrio de Nash razonable que reduzca el comportamiento de aprovechamiento gratuito. El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el bienestar social) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia. El trabajo tiene implicaciones para muchos sistemas en línea, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; I.2.11 [Inteligencia Artificial]: Inteligencia Artificial Distribuida-Sistemas Multiagente; J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Computadoras y Sociedad]: Comercio Electrónico Términos Generales Economía, Teoría 1. INTRODUCCIÓN Una característica común de muchos sistemas distribuidos en línea es que los individuos proporcionan servicios entre sí. Las redes peer-to-peer (P2P) (como Kazaa [25] o <br>BitTorrent</br> [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás. El hecho de que las personas se presten servicios entre sí generalmente aumenta el bienestar social: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona. Sin embargo, el costo de brindar el servicio aún puede ser significativo. Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo. Por lo tanto, en muchos sistemas existe un fuerte incentivo para convertirse en un \"pasajero gratis\" y beneficiarse del sistema sin contribuir a él. Este no es simplemente un problema teórico; estudios de la red Gnutella [22] han demostrado que casi el 70 por ciento de los usuarios no comparten archivos y casi el 50 por ciento de las respuestas provienen del 1 por ciento superior de los anfitriones que comparten [1]. Tener relativamente pocos usuarios que proporcionen la mayor parte del servicio crea un punto de centralización; la desaparición de un pequeño porcentaje de usuarios puede afectar enormemente la funcionalidad del sistema. Además, las tendencias actuales parecen estar llevando a la eliminación de los usuarios altruistas en los que estos sistemas confían. Estos usuarios intensivos son algunos de los clientes más costosos que tienen los proveedores de servicios de Internet. Por lo tanto, a medida que la cantidad de tráfico ha aumentado, los proveedores de servicios de Internet han comenzado a buscar formas de reducir este tráfico. Algunas universidades han comenzado a cobrar a los estudiantes por el uso excesivo de ancho de banda; otras revocan el acceso a la red por ello [5]. Un número de empresas también se han formado cuyo servicio es detectar el uso excesivo de ancho de banda [19]. Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros sistemas en línea distribuidos. Se ha invertido una cantidad significativa de investigación en el diseño de sistemas de reputación para dar tratamiento preferencial a los usuarios que comparten archivos. Algunas de las redes P2P actualmente en uso han implementado versiones de estas técnicas. Sin embargo, estos enfoques tienden a caer en una de dos categorías: o son similares al trueque o se basan en la reputación. Por \"tipo trueque\", nos referimos a que cada agente basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones. Quizás el ejemplo más conocido de un sistema similar al trueque es <br>BitTorrent</br>, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual. Dado que el trueque está restringido a usuarios actualmente interesados en un solo archivo, esto funciona bien para archivos populares, pero tiende a tener problemas para mantener la disponibilidad de los menos populares. Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el sistema de créditos utilizado por eMule 140 [8]. Cada usuario realiza un seguimiento de su historial de interacciones con otros usuarios y da prioridad a aquellos de los que ha descargado previamente. Sin embargo, en un sistema grande, la probabilidad de que un par de usuarios elegidos al azar hayan interactuado antes es bastante baja, por lo que este historial de interacciones no será de gran ayuda. Anagnostakis y Greenwald [2] presentan una versión más sofisticada de este enfoque, pero aún parece sufrir de problemas similares. Se han realizado varios intentos de proporcionar sistemas de reputación generales (por ejemplo, [12, 13, 17, 27]). La idea básica es agregar la experiencia de cada usuario en un número global para cada individuo que represente de manera intuitiva la visión del sistema sobre la reputación de ese individuo. Sin embargo, estos intentos tienden a sufrir problemas prácticos porque implícitamente consideran a los usuarios como buenos o malos, asumen que los buenos usuarios actuarán de acuerdo con el protocolo especificado, y que hay relativamente pocos usuarios malos. Desafortunadamente, si existen formas fáciles de manipular el sistema, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen. No podemos depender solo de unos pocos usuarios siendo malos (en el sentido de no seguir el protocolo prescrito). Por ejemplo, Kazaa utiliza una medida de la proporción entre el número de cargas y el número de descargas para identificar usuarios buenos y malos. Sin embargo, para evitar penalizar a los nuevos usuarios, les dieron a los nuevos usuarios una calificación promedio. Los usuarios descubrieron que podían aprovechar esta calificación relativamente buena para viajar gratis por un tiempo y, una vez que comenzaba a empeorar, podían eliminar su información almacenada y regresar efectivamente como un nuevo usuario, evitando así el sistema (ver [2] para una discusión y [11] para un análisis formal de este lavado de imagen). Por lo tanto, el sistema de reputación de Kazaas es ineficaz. Este es un caso simple de una vulnerabilidad más general de tales sistemas a los ataques de sybil [6], donde un solo usuario mantiene múltiples identidades y las utiliza de manera coordinada para obtener un mejor servicio del que obtendría de otra manera. Trabajos recientes han demostrado que la mayoría de los sistemas de reputación comunes son vulnerables (en el peor de los casos) a tales ataques [4]; sin embargo, el grado de esta vulnerabilidad aún no está claro. El análisis de las vulnerabilidades prácticas y la existencia de sistemas inmunes a tales ataques sigue siendo un área de investigación activa (por ejemplo, [4, 28, 14]). Los sistemas económicos simples basados en un vale o dinero parecen evitar muchos de estos problemas, son fáciles de implementar y son bastante populares (ver, por ejemplo, [13, 15, 26]). Sin embargo, tienen un conjunto diferente de problemas. Quizás los más comunes implican determinar la cantidad de dinero en el sistema. Hablando en términos generales, si hay muy poco dinero en el sistema en relación con el número de agentes, entonces relativamente pocos usuarios pueden permitirse hacer solicitudes. Por otro lado, si hay demasiado dinero, entonces los usuarios no sentirán la necesidad de responder a una solicitud; ya tienen suficiente dinero. Un problema relacionado implica manejar a los recién llegados. Si a los recién llegados se les da una cantidad positiva de dinero, entonces el sistema está abierto a ataques de Sybil. Quizás no sorprendentemente, los sistemas de moneda fiduciaria terminan teniendo que lidiar con problemas económicos estándar como la inflación, las burbujas y las crisis [26]. En este artículo, proporcionamos un modelo formal en el cual analizar sistemas de escritura. Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero). Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (bienestar social), dado el número de agentes. También conduce a una solución para el problema de tratar con los recién llegados: simplemente asumimos que los nuevos usuarios llegan sin dinero, y ajustamos el precio del servicio (lo cual es equivalente a ajustar la oferta de dinero) para mantener la proporción que maximiza la eficiencia. Si bien asumir que los nuevos usuarios no tienen dinero no funcionará en todos los contextos, creemos que este enfoque será ampliamente aplicable. En sistemas donde el objetivo es realizar trabajo, los nuevos usuarios pueden adquirir dinero realizando trabajo. También debería funcionar en el sistema Kazaalike donde un usuario puede ingresar con algunos recursos (por ejemplo, una colección privada de MP3). El resto del documento está organizado de la siguiente manera. En la Sección 2, presentamos nuestro modelo formal y observamos que se puede utilizar para comprender el efecto de los altruistas. En la Sección 3, examinamos qué sucede en el juego bajo un juego no estratégico, si todos los agentes utilizan la misma estrategia de umbral. Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la entropía máxima. Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el juego donde todos los agentes utilizan alguna estrategia de umbral. Además, mostramos en la Sección 5 que el análisis conduce a una comprensión de cómo elegir la cantidad de dinero en el sistema (o, de manera equivalente, el costo para cumplir una solicitud) para maximizar la eficiencia, y también muestra cómo manejar a los nuevos usuarios. En la Sección 6, discutimos en qué medida nuestro enfoque puede manejar sybils y colusión. Concluimos en la Sección 7.2. EL MODELO Para empezar, formalizamos la prestación de servicios en una red P2P como un juego no cooperativo. A diferencia de gran parte de la modelización en esta área, nuestro modelo modelará las interacciones asimétricas en un sistema de intercambio de archivos en el que el emparejamiento de jugadores (aquellos que solicitan un archivo con aquellos que tienen ese archivo en particular) es una parte clave del sistema. Esto contrasta con gran parte de trabajos anteriores que utilizan emparejamiento aleatorio en un dilema del prisionero. Tales modelos fueron estudiados en la literatura económica [18, 7] y aplicados por primera vez a reputaciones en línea en [11]; una aplicación a P2P se encuentra en [9]. Este modelo de emparejamiento aleatorio no logra capturar algunos aspectos relevantes de varios entornos importantes. Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una red P2P grande), pero no todas pueden hacerlo. Por ejemplo, algunas personas pueden no tener el tiempo o los recursos para satisfacer la solicitud. El proceso de emparejamiento aleatorio ignora el hecho de que algunas personas pueden no ser capaces de satisfacer la solicitud. Presumiblemente, si la persona emparejada con el solicitante no pudiera satisfacer el emparejamiento, tendría que desertar. Además, no captura el hecho de que la decisión de si voluntariarse para satisfacer la solicitud debe tomarse antes del proceso de emparejamiento, no después. Es decir, el proceso de emparejamiento no captura el hecho de que si alguien no está dispuesto a satisfacer la solicitud, sin duda habrá otros que puedan hacerlo. Aunque nos referimos a nuestra unidad de moneda como el dólar, estos no son dólares reales ni los consideramos convertibles en dólares. Finalmente, las acciones y recompensas en el juego del dilema del prisionero no corresponden claramente a las decisiones reales que se pueden tomar. Por ejemplo, no está claro qué significa la deserción por parte del solicitante. En nuestro modelo intentamos abordar todos estos problemas. Supongamos que hay n agentes. En cada ronda, se elige de forma aleatoria y uniforme a un agente para hacer una solicitud. Cada otro agente puede satisfacer esta solicitud con una probabilidad β > 0 en todo momento, independientemente del comportamiento previo. El término β tiene la intención de capturar la probabilidad de que un agente esté ocupado o no tenga los recursos para cumplir con la solicitud. Suponer que β es independiente del tiempo no captura la intuición de que no poder cumplir una solicitud en el tiempo t puede estar correlacionado con no poder cumplirla en el tiempo t+1. Creemos que, en sistemas grandes, deberíamos poder eliminar la suposición de independencia, pero dejamos esto para trabajos futuros. En cualquier caso, aquellos agentes que sean capaces de satisfacer la solicitud deben elegir si desean o no ofrecerse como voluntarios para satisfacerla. Si al menos un agente se ofrece como voluntario, el solicitante recibe un beneficio de 1 utilidad (el trabajo se realiza) y uno de los voluntarios es elegido al azar para cumplir con la solicitud. El agente que cumple con la solicitud paga un costo de α < 1. Como es habitual en la literatura, asumimos que los agentes descuentan los beneficios futuros por un factor de δ por unidad de tiempo. Esto captura la intuición de que un util hoy vale más que un util mañana, y nos permite calcular la utilidad total derivada por un agente en un juego infinito. Por último, asumimos que con más jugadores las solicitudes llegan con más frecuencia. Por lo tanto, asumimos que el tiempo entre rondas es 1/n. Esto captura el hecho de que los sistemas que queremos modelar realmente están procesando muchas solicitudes en paralelo, por lo que esperaríamos que el número de solicitudes concurrentes sea proporcional al número de usuarios. Sea G(n, δ, α, β) este juego con n agentes, un factor de descuento de δ, un costo para satisfacer solicitudes de α y una probabilidad de poder satisfacer solicitudes de β. Cuando los dos últimos parámetros no son relevantes, a veces escribimos G(n, δ). Utilizamos la siguiente notación a lo largo del documento: • pt denota al agente elegido en la ronda t. • Bt i ∈ {0, 1} denota si el agente i puede satisfacer la solicitud en la ronda t. Bt i = 1 con probabilidad β > 0 y Bt i es independiente de Bt i para todo t = t. • V t i ∈ {0, 1} denota la decisión del agente i sobre si voluntariarse en la ronda t; 1 indica voluntariado. V t i está determinado por la estrategia del agente. • vt ∈ {j | V t j Bt j = 1} denota al agente elegido para satisfacer la solicitud. Este agente es elegido de manera uniforme al azar entre aquellos que están dispuestos (V t j = 1) y capaces (Bt j = 1) de satisfacer la solicitud. • ut i denota la utilidad del agente en la ronda t. Un agente estándar es aquel cuya utilidad se determina como se discutió en la introducción; es decir, el agente recibe 2. Para n grande, nuestro modelo converge a uno en el que los jugadores realizan solicitudes en tiempo real, y el tiempo entre las solicitudes de un jugador está distribuido de manera exponencial con media 1. Además, el tiempo entre las solicitudes atendidas por un único jugador también sigue una distribución exponencial. Una utilidad de 1 para una solicitud cumplida y una utilidad de -α por cumplir una solicitud. Por lo tanto, si i es un agente estándar, entonces ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 −α si i = vt 0 de lo contrario. • Ui = P∞ t=0 δt/n ut i denota la utilidad total para el agente i. Es el total descontado de la utilidad del agente en cada ronda. Ten en cuenta que el factor de descuento efectivo es δ1/n ya que un aumento en n conlleva a una reducción del tiempo entre rondas. Ahora que tenemos un modelo de cómo hacer y satisfacer solicitudes, lo utilizamos para analizar el comportamiento de no contribuir. Considera a un altruista como alguien que siempre cumple peticiones. El agente podría comportarse de manera altruista de manera racional si la función de utilidad del agente tiene la siguiente forma, para algún α > 0: ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 α si i = vt 0 en otro caso. Por lo tanto, en lugar de sufrir una pérdida de utilidad al satisfacer una solicitud, un agente obtiene utilidad positiva al satisfacerla. Una función de utilidad de este tipo es una representación razonable del placer que algunas personas obtienen al sentir que son quienes proporcionan la música que todos están tocando. Para agentes altruistas como estos, jugar la estrategia que establece V t i = 1 para todo t es dominante. Si bien tener una función de utilidad no estándar podría ser una razón por la cual un agente racional podría usar esta estrategia, ciertamente hay otras razones. Por ejemplo, un usuario inexperto de software de intercambio de archivos con una buena conexión bien podría seguir esta estrategia. Todo lo que importa para la siguiente discusión es que hay algunos agentes que utilizan esta estrategia, sea por la razón que sea. Como hemos observado, parece que existen usuarios de este tipo en algunos sistemas grandes. Supongamos que nuestro sistema tiene altruistas. Intuitivamente, si a es moderadamente grande, lograrán satisfacer la mayoría de las solicitudes en el sistema incluso si otros agentes no trabajan. Por lo tanto, hay poco incentivo para que cualquier otro agente se ofrezca como voluntario, porque ya está obteniendo pleno beneficio al participar en el sistema. Basándose en esta intuición, es un cálculo relativamente sencillo determinar un valor de a que depende solo de α, β y δ, pero no del número n de jugadores en el sistema, de modo que la estrategia dominante para todos los agentes estándar i sea nunca ofrecerse voluntariamente para satisfacer ninguna solicitud (es decir, V t i = 0 para todo t). Proposición 2.1. Existe un a que depende solo de α, β y δ tal que, en G(n, δ, α, β) con al menos a altruistas, no ofrecerse como voluntario en cada ronda es una estrategia dominante para todos los agentes estándar. Prueba. Considera la estrategia para un jugador estándar j en presencia de altruistas. Incluso sin dinero, el jugador j logrará que se satisfaga una solicitud con probabilidad 1 − (1 − β)a solo a través de las acciones de estos altruistas. Por lo tanto, incluso si j es elegido para hacer una solicitud en cada ronda, la utilidad adicional esperada máxima que puede esperar obtener al tener dinero es P∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ). Si (1 − β)a /(1 − δ) > α o, equivalentemente, si a > log1−β(α(1 − δ)), nunca ofrecerse como voluntario es una estrategia dominante. Considera los siguientes valores razonables para nuestros parámetros: β = .01 (para que cada jugador pueda satisfacer el 1% de las solicitudes), α = .1 (un costo bajo pero no despreciable), δ = .9999/día 142 (lo que corresponde a un factor de descuento anual de aproximadamente 0.95), y un promedio de 1 solicitud por día por jugador. Entonces solo necesitamos un > 1145. Si bien este es un número grande, es pequeño en comparación con el tamaño de una red P2P grande. Los sistemas actuales tienen un grupo de usuarios que se comportan como nuestros altruistas. Esto significa que los intentos de agregar un sistema de reputación encima de un sistema P2P existente para influir en los usuarios a cooperar no tendrán efecto en usuarios racionales. Para tener una distribución justa del trabajo, estos sistemas deben ser rediseñados fundamentalmente para eliminar el grupo de usuarios altruistas. En cierto sentido, esto no es un problema en absoluto. En un sistema con altruistas, los altruistas presumiblemente están felices, al igual que los agentes estándar, quienes ven casi todas sus solicitudes satisfechas sin tener que hacer ningún trabajo. De hecho, las redes P2P actuales funcionan bastante bien en términos de distribuir contenido a las personas. Sin embargo, como mencionamos en la introducción, hay razones para creer que estos altruistas podrían no estar presentes para siempre. Por lo tanto, vale la pena analizar qué se puede hacer para que estos sistemas funcionen en su ausencia. Para el resto de este documento asumimos que todos los agentes son estándar y tratan de maximizar la utilidad esperada. Estamos interesados en equilibrios basados en un sistema de vales. Cada vez que un agente tiene una solicitud satisfecha, debe pagarle a la persona que la satisfizo una cierta cantidad. Por ahora, asumimos que el pago es fijo; para simplificar, tomamos la cantidad como $1. Denotamos por M la cantidad total de dinero en el sistema. Suponemos que M > 0 (de lo contrario, nadie podrá cobrar nunca). En principio, los agentes son libres de adoptar una amplia variedad de estrategias. Pueden tomar decisiones basadas en los nombres de otros agentes o utilizar una estrategia que depende en gran medida de la historia, y combinar libremente estas estrategias. Para ayudar en nuestro análisis, nos gustaría poder restringir nuestra atención a una clase más simple de estrategias. La clase de estrategias en la que estamos interesados es fácil de motivar. La razón intuitiva para querer ganar dinero es para atender la posibilidad de que un agente se quede sin antes de tener la oportunidad de ganar más. Por otro lado, un agente racional con mucho dinero no querría trabajar, porque para cuando haya logrado gastar todo su dinero, la utilidad tendrá menos valor que el costo actual de trabajar. El equilibrio natural entre estos dos es una estrategia de umbral. Que Sk sea la estrategia en la que un agente se ofrece como voluntario siempre que tenga menos de k dólares y no lo haga de otra manera. Ten en cuenta que S0 es la estrategia en la que el agente nunca se ofrece como voluntario. Si bien todos los que juegan S0 conforman un equilibrio de Nash (nadie puede mejorar al ofrecerse como voluntario si nadie más está dispuesto a hacerlo), es un equilibrio poco interesante. Como mostraremos en la Sección 4, es suficiente restringir nuestra atención a esta clase de estrategias. Usamos Kt i para denotar la cantidad de dinero que el agente i tiene en el tiempo t. Claramente Kt+1 i = Kt i a menos que el agente i tenga una solicitud satisfecha, en cuyo caso Kt+1 i = Kt+1 i − 1 o el agente i cumple una solicitud, en cuyo caso Kt+1 i = Kt+1 i + 1. Formalmente, Kt+1 i = 8 < : Kt i − 1 si i = pt , P j=i V t j Bt j > 0, y Kt i > 0 Kt i + 1 si i = vt y Kt pt > 0 Kt i en otro caso. La estrategia de umbral Sk es la estrategia tal que V t i = 1 si Kt pt > 0 y Kt i < k, 0 en caso contrario. EL JUEGO BAJO JUEGO NO ESTRATÉGICO Antes de considerar el juego estratégico, examinamos qué sucede en el sistema si todos juegan simplemente la misma estrategia Sk. Nuestro objetivo general es demostrar que existe una distribución de dinero (es decir, la fracción de personas con cada cantidad de dinero) tal que el sistema converge a esta distribución en un sentido que se precisará en breve. Supongamos que todos juegan Sk. Para simplificar, asumamos que todos tienen a lo sumo k dólares. Podemos hacer esta suposición prácticamente sin pérdida de generalidad, ya que si alguien tiene más de k dólares, simplemente gastará dinero hasta tener como máximo k dólares. Después de este punto, nunca adquirirá más que k. Por lo tanto, eventualmente el sistema estará en tal estado. Si M ≥ kn, ningún agente estará dispuesto a trabajar. Por lo tanto, para los propósitos de esta sección asumimos que M < kn. Desde la perspectiva de un solo agente, en equilibrio (estocástico), el agente está experimentando un paseo aleatorio. Sin embargo, los parámetros de esta caminata aleatoria dependen de las caminatas aleatorias de los otros agentes y es bastante complicado resolverlo directamente. Por lo tanto, consideramos un análisis alternativo basado en la evolución del sistema en su conjunto. Si todos tienen a lo sumo k dólares, entonces la cantidad de dinero que tiene un agente es un elemento de {0, . . . , k}. Si hay n agentes, entonces el estado del juego puede ser descrito identificando cuánto dinero tiene cada agente, por lo que podemos representarlo mediante un elemento de Sk,n = {0, . . . , k}{1,...,n}. Dado que la cantidad total de dinero es constante, no todos estos estados pueden surgir en el juego. Por ejemplo, el estado en el que cada jugador tiene $0 es imposible de alcanzar en cualquier juego con dinero en el sistema. Sea mS(s) = P i∈{1...n} s(i) el monto total de dinero en el juego en el estado s, donde s(i) es la cantidad de dólares que el agente i tiene en el estado s. Queremos considerar solo aquellos estados donde el dinero total en el sistema es M, es decir, Sk,n,M = {s ∈ Sk,n | mS(s) = M}. Bajo el supuesto de que todos los agentes utilizan la estrategia Sk, la evolución del sistema puede ser tratada como una cadena de Markov Mk,n,M sobre el espacio de estados Sk,n,M. Es posible pasar de un estado a otro en una sola ronda si al elegir a un agente en particular para hacer una solicitud y a otro agente en particular para satisfacerla, las cantidades de dinero poseídas por cada agente se convierten en las del segundo estado. Por lo tanto, la probabilidad de una transición de un estado s a t es 0 a menos que existan dos agentes i y j tales que s(i) = t(i) para todos los i /∈ {i, j}, t(i) = s(i) + 1, y t(j) = s(j) − 1. En este caso, la probabilidad de transición de s a t es la probabilidad de que j sea elegido para gastar un dólar y tenga a alguien dispuesto y capaz de satisfacer su solicitud ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplicado por la probabilidad de que i sea elegido para satisfacer su solicitud (1/(|({i | s(i ) = k}| − Ij ). Ij es 0 si j tiene k dólares y 1 en caso contrario (es solo una corrección por el hecho de que j no puede satisfacer su propia solicitud). Sea ∆k el conjunto de distribuciones de probabilidad en {0, . . . , k}. Podemos pensar en un elemento de ∆k como la descripción de la fracción de personas con cada cantidad de dinero. Esta es una forma útil de ver el sistema, ya que normalmente no nos importa quién tiene cada cantidad de dinero, sino simplemente la fracción de personas que tienen cada cantidad. Como antes, no todos los elementos de ∆k son posibles, dada nuestra restricción de que la cantidad total de dinero es M. En lugar de pensar en términos de la cantidad total de dinero en el sistema, resultará más útil pensar en términos del monto promedio de dinero que tiene cada jugador. Por supuesto, la cantidad total de dinero en un sistema con n agentes es M si y solo si la cantidad promedio que cada jugador tiene es m = M/n. Sea ∆k m el conjunto de todas las distribuciones d ∈ ∆k tales que E(d) = m (es decir, Pk j=0 d(j)j = m). Dado un estado s ∈ Sk,n,M, sea ds ∈ ∆k m la distribución de dinero en s. Nuestro objetivo es demostrar que, si n es grande, entonces existe una distribución d∗ ∈ ∆k m tal que, con alta probabilidad, la cadena de Markov Mk,n,M estará casi siempre en un estado s tal que ds esté cerca de d∗. Por lo tanto, los agentes pueden basar sus decisiones sobre qué estrategia usar en la suposición de que estarán en ese estado. De hecho, podemos caracterizar completamente la distribución d∗. Dada una distribución d ∈ ∆k , sea H(d) = − X {j:d(j)=0} d(j) log(d(j)) la entropía de d. Si ∆ es un conjunto convexo cerrado de distribuciones, entonces es bien sabido que hay una distribución única en ∆ en la que la función de entropía alcanza su valor máximo en ∆. Dado que ∆k m se ve fácilmente como un conjunto convexo cerrado de distribuciones, se sigue que hay una distribución única en ∆k m que denotamos como d∗ k,m cuya entropía es mayor que la de todas las demás distribuciones en ∆k m. Ahora mostramos que, para n suficientemente grande, la cadena de Markov Mk,n,M está casi seguramente en un estado s tal que ds está cerca de d∗ k,M/n. La afirmación es correcta en varios sentidos de cercanía. Para mayor claridad, consideramos la distancia euclidiana. Dado > 0, sea Sk,n,m el conjunto de estados s en Sk,n,mn tal que Pk j=0 |ds (j) − d∗ k,m|2 < . Dada una cadena de Markov M sobre un espacio de estados S y S ⊆ S, sea Xt,s,S la variable aleatoria que denota que M se encuentra en un estado de S en el tiempo t, cuando se inicia en el estado s. Teorema 3.1. Para todo ε > 0, todo k y todo m, existe un n tal que para todo n > n y todos los estados s ∈ Sk,n,mn, existe un tiempo t∗ (que puede depender de k, n, m y ) tal que para t > t∗, tenemos que Pr(Xt,s,Sk,n,m, ) > 1 − . Prueba. (Bosquejo) Supongamos que en algún momento t, Pr(Xt,s,s) es uniforme para todos los s. Entonces, la probabilidad de estar en un conjunto de estados es simplemente el tamaño del conjunto dividido por el número total de estados. Una técnica estándar de la mecánica estadística es demostrar que hay un fenómeno de concentración alrededor de la distribución de entropía máxima [16]. Más precisamente, utilizando un argumento combinatorio directo, se puede demostrar que la fracción de estados que no están en Sk,n,m está acotada por p(n)/ecn, donde p es un polinomio. Esta fracción claramente tiende a 0 a medida que n crece. Por lo tanto, para n suficientemente grande, Pr(Xt,s,Sk,n,m, ) > 1 − si Pr(Xt,s,s ) es uniforme. Es relativamente sencillo demostrar que nuestra Cadena de Markov tiene una distribución límite π sobre Sk,n,mn, tal que para todo s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs. Que Pij denote la probabilidad de transición del estado i al estado j. Es fácil verificar mediante un cálculo explícito de las probabilidades de transición que Pij = Pji para todos los estados i y j. Se sigue inmediatamente de esta simetría que πs = πs, por lo que π es uniforme. Después de un tiempo suficiente, la distribución estará lo suficientemente cerca de π, de modo que las probabilidades vuelven a estar limitadas por una constante, lo cual es suficiente para completar el teorema. Realizamos una serie de experimentos que muestran que el comportamiento de máxima entropía descrito en el Teorema 3.1 surge rápidamente para valores bastante prácticos de n y t. El primer experimento mostró que, incluso si n = 1000, alcanzamos rápidamente la distribución de máxima entropía. Promediamos 10 ejecuciones de la cadena de Markov para k = 5 donde hay suficiente dinero para que cada agente tenga $2 comenzando desde una distribución muy extrema (cada agente tiene $0 o $5) y consideramos el tiempo promedio necesario para acercarse a varias distancias de la distribución de entropía máxima. Como muestra la Figura 1, después de 2,000 pasos, en promedio, la distancia euclidiana desde la distribución promedio del dinero hasta la distribución de máxima entropía es de .008; después de 3,000 pasos, la distancia disminuye a .001. Ten en cuenta que esto realmente solo son 3 unidades de tiempo reales, ya que con 1000 jugadores tenemos 1000 transacciones por unidad de tiempo. Luego consideramos qué tan cerca se mantiene la distribución de la entropía máxima una vez que la ha alcanzado. Para simplificar las cosas, comenzamos el sistema en un estado cuya distribución estaba muy cerca de la distribución de máxima entropía y lo ejecutamos durante 106 pasos, para varios valores de n. Como muestra la Figura 2, el sistema no se aleja mucho de la distribución de máxima entropía una vez que está allí. Por ejemplo, si n = 5000, el sistema nunca está a más de una distancia de .001 de la distribución de máxima entropía; si n = 25,000, nunca está a más de .0002 de la distribución de máxima entropía. Finalmente, consideramos con más cuidado cómo rápidamente el sistema converge a la distribución de máxima entropía para varios valores de n. Hay aproximadamente kn estados posibles, por lo que el tiempo de convergencia podría ser bastante largo en principio. Sin embargo, sospechamos que la cadena de Markov que surge aquí se mezcla rápidamente, lo que significa que convergerá significativamente más rápido (ver [20] para más detalles sobre la mezcla rápida). Creemos que el tiempo necesario en realidad es O(n). Este comportamiento se ilustra en la Figura 3, que muestra que para nuestra cadena de ejemplo (nuevamente promediada en 10 ejecuciones), después de 3n pasos, la distancia euclidiana entre la distribución real del dinero en el sistema y la distribución de máxima entropía es menor que .001. EL JUEGO BAJO JUGADA ESTRATÉGICA Hemos visto que el sistema se comporta bien si los agentes siguen todos una estrategia de umbral; ahora queremos demostrar que existe un equilibrio de Nash no trivial donde lo hacen (es decir, un equilibrio de Nash donde todos los agentes usan Sk para algún k > 0). Esto no es cierto en general. Si δ es pequeño, entonces los agentes no tienen incentivo para trabajar. Intuitivamente, si la utilidad futura está suficientemente descontada, entonces todo lo que importa es el presente, y no tiene sentido ofrecerse como voluntario para trabajar. Con un δ pequeño, S0 es el único equilibrio. Sin embargo, demostramos que para δ suficientemente grande, hay otro equilibrio en estrategias de umbral. Lo hacemos primero demostrando que, si cada otro agente está jugando una estrategia de umbral, entonces hay una mejor respuesta que también es una estrategia de umbral (aunque no necesariamente la misma). Luego demostramos que debe existir alguna estrategia de umbral (mixta) para la cual esta mejor respuesta sea la misma estrategia. Se deduce que este conjunto de estrategias de umbral es un equilibrio de Nash. Como primer paso, demostramos que, para todo k, si todos excepto el agente i están jugando Sk, entonces hay una estrategia de umbral Sk que es la mejor respuesta para el agente i. Para demostrar esto, necesitamos asumir que el sistema está cerca de la distribución de estado estacionario (es decir, la distribución de máxima entropía). Sin embargo, siempre y cuando δ esté suficientemente cerca de 1, podemos ignorar lo que sucede durante el período en el que el sistema no está en estado estacionario. Hasta ahora hemos considerado estrategias de umbral de la forma Sk, donde k es un número natural; este es un conjunto discreto de estrategias. Para una futura demostración, será útil contar con un conjunto continuo de estrategias. Si γ = k + γ, donde k es un número natural y 0 ≤ γ < 1, sea Sγ la estrategia que realiza Sk con probabilidad 1 − γ y Sk+1 con probabilidad γ. (Nótese que aquí no estamos considerando estrategias de umbral mixtas arbitrarias, sino simplemente mezclando entre estrategias adyacentes con el único propósito de hacer que las estrategias sean continuas de una manera natural). El Teorema 3.1 se aplica a las estrategias Sγ (la misma prueba se realiza sin cambios), donde γ es un número real no negativo arbitrario. Teorema 4.1. Fije una estrategia Sγ y un agente i. Existe δ∗ < 1 y n∗ tal que si δ > δ∗ , n > n∗ , y cada agente que no sea i está jugando Sγ en el juego G(n, δ), entonces existe un entero k tal que la mejor respuesta para el agente i es Sk. Ya sea que k sea único (es decir, haya una única mejor respuesta que también sea una estrategia de umbral), o existe un entero k tal que Sγ sea una mejor respuesta para el agente i para todos los γ en el intervalo [k, k + 1] (y estas son las únicas mejores respuestas entre las estrategias de umbral). Prueba. (Bosquejo:) Si δ es suficientemente grande, podemos ignorar lo que sucede antes de que el sistema converja a la distribución de entropía máxima. Si n es suficientemente grande, entonces la estrategia jugada por un agente no afectará significativamente la distribución del dinero. Por lo tanto, la probabilidad de que i se mueva de un estado (cantidad de dinero) a otro depende únicamente de su estrategia (ya que podemos considerar que la probabilidad de que i sea elegido para hacer una solicitud y la probabilidad de que i sea elegido para satisfacer una solicitud son constantes). Por lo tanto, desde su punto de vista, el sistema es un proceso de decisión de Markov (MDP), y necesita calcular la política óptima (estrategia) para este MDP. Se desprende de los resultados estándar [23, Teorema 6.11.6] que existe una política óptima que es una política de umbral. El argumento de que la mejor respuesta es única o que existe un intervalo de mejores respuestas se desprende de un análisis más detallado de la función de valor para el MDP. Observamos que puede haber mejores respuestas que no son estrategias de umbral. Todo lo que el Teorema 4.1 muestra es que, entre las mejores respuestas, hay al menos una que es una estrategia de umbral. Dado que sabemos que hay una mejor respuesta que es una estrategia de umbral, podemos buscar un equilibrio de Nash en el espacio de estrategias de umbral. Teorema 4.2. Para todo M, existe δ∗ < 1 y n∗ tal que si δ > δ∗ y n > n∗, existe un equilibrio de Nash en el juego G(n, δ) donde todos los agentes juegan Sγ para algún entero γ > 0. Prueba. Se sigue fácilmente de la prueba del Teorema 4.1 que si br(δ, γ) es la estrategia umbral de mejor respuesta mínima si todos los demás agentes están jugando Sγ y el factor de descuento es δ, entonces, para δ fijo, br(δ, ·) es una función escalonada. También se sigue 3 Formalmente, necesitamos definir las estrategias cuando el sistema está lejos del equilibrio. Sin embargo, estas estrategias lejos del equilibrio (estocástico) no afectarán el comportamiento de equilibrio cuando n sea grande y las desviaciones del equilibrio estocástico sean extremadamente raras. 145 del teorema que si hay dos mejores respuestas, entonces una mezcla de ellas también es una mejor respuesta. Por lo tanto, si podemos unir los pasos con una línea vertical, obtenemos una curva de mejor respuesta. Es fácil ver que en todos los puntos donde esta curva de mejor respuesta cruza la diagonal y = x se define un equilibrio de Nash donde todos los agentes están utilizando la misma estrategia de umbral. Como ya hemos observado, uno de estos equilibrios ocurre en 0. Si solo hay $M en el sistema, podemos restringirnos a estrategias de umbral Sk donde k ≤ M + 1. Dado que nadie puede tener más de $M, todas las estrategias Sk para k > M son equivalentes a SM; estas son simplemente las estrategias en las que el agente siempre se ofrece como voluntario en respuesta a una solicitud hecha por alguien que puede pagar. Claramente br(δ, SM) ≤ M para todo δ, por lo que la función de mejor respuesta está en o por debajo del equilibrio en M. Si k ≤ M/n, cada jugador tendrá al menos k dólares y por lo tanto no estará dispuesto a trabajar, siendo la mejor respuesta simplemente 0. Considera k∗, el menor k tal que k > M/n. No es difícil demostrar que para k∗ existe un δ∗ tal que para todo δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ . Se sigue por continuidad que si δ ≥ δ∗, debe existir algún γ tal que br(δ, γ) = γ. Este es el equilibrio de Nash deseado. Este argumento también nos muestra que no podemos esperar en general que los puntos fijos sean únicos. Si br(δ, k∗ ) = k∗ y br(δ, k + 1) > k + 1 entonces nuestro argumento muestra que debe haber un segundo punto fijo. En general, puede haber múltiples puntos fijos incluso cuando br(δ, k∗ ) > k∗ , como se ilustra en la Figura 4 con n = 1000 y M = 3000. 0 5 10 15 20 25 Estrategia del Resto de Agentes 0 5 10 15 20 25 Mejor Respuesta Figura 4: La función de mejor respuesta para n = 1000 y M = 3000. El Teorema 4.2 nos permite restringir nuestro diseño a agentes que utilizan estrategias de umbral con la confianza de que habrá un equilibrio no trivial. Sin embargo, esto no descarta la posibilidad de que pueda haber otros equilibrios que no involucren estrategias de umbral. Es incluso posible (aunque parece improbable) que algunos de estos equilibrios puedan ser mejores. 5. BIENESTAR SOCIAL Y ESCALABILIDAD Nuestros teoremas muestran que para cada valor de M y n, para un δ suficientemente grande, existe un equilibrio de Nash no trivial donde todos los agentes utilizan alguna estrategia de umbral Sγ(M,n). Desde el punto de vista del diseñador del sistema, no todos los equilibrios son igualmente buenos; queremos un equilibrio en el que el menor número posible de agentes tengan $0 cuando tengan la oportunidad de hacer una solicitud (para que puedan pagar la solicitud) y relativamente pocos agentes tengan más del monto umbral de dinero (para que siempre haya suficientes agentes para cumplir con la solicitud). Existe una tensión entre estos objetivos. No es difícil demostrar que a medida que la fracción de agentes con $0 aumenta en la distribución de entropía máxima, la fracción de agentes con la cantidad máxima de dinero disminuye. Por lo tanto, nuestro objetivo es entender cuál debería ser la cantidad óptima de dinero en el sistema, dada la cantidad de agentes. Es decir, queremos conocer la cantidad de dinero M que maximiza la eficiencia, es decir, la utilidad total esperada si todos los agentes utilizan Sγ(M,n). Primero observamos que el equilibrio más eficiente depende solo de la proporción de M a n, no de los valores reales de M y n. Teorema 5.1. Existe un n∗ tal que para todos los juegos G(n1, δ) y G(n2, δ) donde n1, n2 > n∗, si M1/n1 = M2/n2, entonces Sγ(M1,n1) = Sγ(M2,n2). Prueba. El teorema 3.1 muestra que la distribución de máxima entropía depende solo de k y la razón M/n, no de M y n por separado. Por lo tanto, dado r, para cada elección de k, hay una distribución única de entropía máxima dk,r. La mejor respuesta br(δ, k) depende solo de la distribución dk,r, no de M o n. Por lo tanto, el equilibrio de Nash depende solo de la proporción r. Es decir, para todas las elecciones de M y n tales que n es suficientemente grande (para que se aplique el Teorema 3.1) y M/n = r, las estrategias de equilibrio son las mismas. A la luz del Teorema 5.1, el diseñador del sistema debe asegurarse de que haya suficiente dinero M en el sistema para que la proporción entre M/n sea óptima. Actualmente estamos explorando exactamente cuál es la proporción óptima. Como muestran nuestros resultados muy preliminares para β = 1 en la Figura 5, la proporción parece aumentar de forma monótona en δ, lo cual coincide con la intuición de que deberíamos brindar a los agentes más pacientes la oportunidad de ahorrar más dinero. Además, parece ser relativamente suave, lo que sugiere que puede tener una solución analítica agradable. 0.9 0.91 0.92 0.93 0.94 0.95 Tasa de descuento ∆ 5 5.5 6 6.5 7 Proporción óptima de Mn Figura 5: Cantidad promedio óptima de dinero al número más cercano .25 para β = 1 Se destaca que, en la práctica, puede ser más fácil para el diseñador variar el precio de cumplir una solicitud en lugar de 4 Si hay múltiples equilibrios, tomamos Sγ(M,n) como el equilibrio de Nash que tiene la mayor eficiencia para M y n fijos. 146 inyectar dinero en el sistema. Esto produce el mismo efecto. Por ejemplo, cambiar el costo de cumplir una solicitud de $1 a $2 es equivalente a reducir a la mitad la cantidad de dinero que tiene cada agente. De manera similar, reducir a la mitad el costo de cumplir una solicitud es equivalente a duplicar la cantidad de dinero que todos tienen. Con una cantidad fija de dinero M, existe un producto óptimo nc del número de agentes y el costo c de cumplir una solicitud. El Teorema 5.1 también nos dice cómo manejar un grupo dinámico de agentes. Nuestro sistema puede manejar a los recién llegados relativamente fácilmente: simplemente permítales unirse sin dinero. Esto no brinda ningún incentivo a los agentes existentes para salir y volver a unirse como recién llegados. Luego cambiamos el precio de cumplir una solicitud para que se mantenga la proporción óptima. Este método tiene la característica interesante de que puede implementarse de forma distribuida; si todos los nodos en el sistema tienen una buena estimación de n, entonces todos pueden ajustar los precios automáticamente. (Alternativamente, el número de agentes en el sistema puede ser publicado en un lugar público). Los enfoques que dependen de ajustar la cantidad de dinero pueden requerir costosos cálculos a nivel de sistema (ver [26] para un ejemplo) y deben ser cuidadosamente ajustados para evitar crear incentivos para que los agentes manipulen el sistema mediante el cual se realiza esto. Ten en cuenta que, en principio, la realización de que el costo de cumplir una solicitud puede cambiar puede afectar la estrategia de un agente. Por ejemplo, si un agente espera que el costo aumente, entonces puede querer posponer ofrecerse como voluntario para cumplir con una solicitud. Sin embargo, si el número de agentes en el sistema siempre está aumentando, entonces el costo siempre disminuye, por lo que nunca hay ninguna ventaja en esperar. Puede haber una ventaja en retrasar una solicitud, pero es mucho más costoso en términos de costos de espera que en proporcionar el servicio, ya que asumimos que la necesidad de un servicio a menudo está sujeta a costos reales de espera, mientras que la necesidad de suministrar el servicio es simplemente aumentar el suministro de dinero. (Se discuten temas relacionados en [10].) Finalmente, esperamos modificar el mecanismo para que el precio de un trabajo pueda establecerse de forma endógena dentro del sistema (como en las economías del mundo real), con agentes pujando por trabajos en lugar de que exista un costo fijo establecido externamente. Sin embargo, aún no hemos explorado los cambios necesarios para implementar este cambio. Por lo tanto, por ahora, asumimos que el costo se establece como una función del número de agentes en el sistema (y que no hay posibilidad de que los agentes satisfagan una solicitud por menos del costo oficial o de que los solicitantes ofrezcan pagar más). 6. SIBILAS Y COLUSIÓN En un sentido ingenuo, nuestro sistema es esencialmente a prueba de sibilas. Para obtener d dólares, sus sibilas juntas todavía tienen que realizar d unidades de trabajo. Además, dado que los recién llegados ingresan al sistema con $0, no hay beneficio en crear nuevos agentes simplemente para aprovechar un dotación inicial. Sin embargo, existen algunas formas menos directas en las que un agente podría aprovecharse de los sybils. Primero, al tener más identidades, tendrá una mayor probabilidad de ser elegido para hacer una solicitud. Es fácil ver que esto llevará a que el agente tenga una mayor utilidad total. Sin embargo, esto es solo un artefacto de nuestro modelo. Para simplificar el análisis de nuestro sistema, hemos asumido que las oportunidades de solicitud llegaron de manera uniforme al azar. En la práctica, se hacen peticiones para satisfacer un deseo. Nuestro modelo asumió implícitamente que todos los agentes tienen la misma probabilidad de tener un deseo en un momento particular. Tener sibilas no debería aumentar la necesidad de que se satisfaga una solicitud. De hecho, sería razonable asumir que las sibilas no hacen solicitudes en absoluto. En segundo lugar, tener sibilas hace más probable que una de las sibilas sea elegida para cumplir una petición. Esto puede permitir a un usuario aumentar su utilidad al establecer un umbral más bajo; es decir, al usar una estrategia Sk donde k es menor que el k utilizado por la estrategia de equilibrio de Nash. Intuitivamente, la necesidad de dinero no es tan crítica si el dinero es más fácil de obtener. A diferencia de la primera preocupación, esto parece ser un problema real. Parece razonable creer que cuando las personas toman una decisión entre varios nodos para satisfacer una solicitud lo hacen de forma aleatoria, al menos en cierta medida. Aunque busquen las características de los nodos anunciadas para ayudar a tomar esta decisión, los sybils permitirían a un usuario anunciar una amplia gama de características. Tercero, un agente puede reducir el costo de cumplir una solicitud al introducir muchos síbiles. Del mismo modo, podría aumentar el costo (y por ende el valor de su dinero) al hacer que un número de sibilas salgan del sistema. Concebiblemente podría alternar entre estas técnicas para magnificar los efectos del trabajo que realiza. Todavía no hemos calculado el efecto exacto de este cambio (interactúa con los otros dos efectos de tener sibilas que ya hemos notado). Dado el número de síbiles que serían necesarios para causar un cambio real en el tamaño percibido de una gran red P2P, la viabilidad de este ataque depende en gran medida de cuánto cuestan los síbiles a un atacante y qué recursos tiene disponibles. El segundo punto planteado sobre las sibilas también se aplica a la colusión si permitimos que se preste dinero. Si k agentes coluden, pueden acordar que, si uno se queda sin dinero, otro en el grupo le prestará dinero. Al juntar su dinero de esta manera, los agentes k pueden volver a mejorar al establecer un umbral más alto. Ten en cuenta que el mecanismo de préstamo no necesita estar integrado en el sistema; los agentes pueden simplemente utilizar una transacción falsa para transferir el dinero. Estos parecen ser los principales métodos para ataques colusivos, pero aún estamos explorando este tema. 7. CONCLUSIÓN Hemos realizado un análisis formal de un sistema de escritura y hemos demostrado que existe un equilibrio de Nash donde todos los agentes utilizan una estrategia de umbral. Además, podemos calcular la eficiencia de la estrategia de equilibrio y optimizar el precio (o la oferta monetaria) para maximizar la eficiencia. Por lo tanto, nuestro análisis proporciona un mecanismo formal para resolver algunos problemas importantes en la implementación de sistemas de guiones. Nos dice que con una población fija de usuarios racionales, es muy poco probable que dichos sistemas se vuelvan inestables. Por lo tanto, si esta estabilidad es una creencia común entre los agentes, no esperaríamos inflación, burbujas ni colapsos debido a la especulación de los agentes. Sin embargo, no podemos descartar la posibilidad de que esos agentes tengan otras creencias que los lleven a especular. Nuestro análisis también nos indica cómo escalar el sistema para manejar una afluencia de nuevos usuarios sin introducir estos problemas: escalar la oferta monetaria para mantener constante la cantidad promedio de dinero (o ajustar los precios de manera equivalente para lograr el mismo objetivo). Hay una serie de problemas teóricos que aún están abiertos, incluida una caracterización de la multiplicidad de equilibrios, ¿suelen ser 2? Además, esperamos que uno pueda calcular estimaciones analíticas para la función de mejor respuesta y la fijación de precios óptima, lo que nos permitiría comprender la relación entre los precios y varios parámetros en el modelo. También sería de gran interés ampliar nuestro análisis para abordar configuraciones más realistas. Mencionamos algunas posibles extensiones aquí: • Hemos asumido que el mundo es homogéneo en varios aspectos, incluyendo la frecuencia de las solicitudes, la utilidad y la capacidad para satisfacer las solicitudes. Sería interesante examinar cómo relajar cualquiera de estas suposiciones alteraría nuestros resultados. • Hemos asumido que no hay costo para un agente al ser miembro del sistema. Supongamos en cambio que imponemos un pequeño costo simplemente por estar presente en el sistema para reflejar los costos de enrutamiento de mensajes y mantenimiento de la superposición. Esta modificación podría tener un impacto significativo en los ataques de Sybil. • Hemos descrito un sistema de escritura que funciona cuando no hay altruistas y hemos demostrado que ningún sistema puede funcionar una vez que hay suficientes altruistas. ¿Qué sucede entre estos extremos? • Un tipo de comportamiento irracional que se encuentra en los sistemas de cupones es el acaparamiento. Hay algunas similitudes entre el acaparamiento y el comportamiento altruista. Mientras que un altruista brinda servicio para todos, un acumulador se ofrecerá como voluntario para todos los trabajos (con el fin de obtener más dinero) y rara vez solicitará servicio (para no gastar dinero). Sería interesante investigar en qué medida nuestro sistema es robusto contra los acaparadores. Claramente, con demasiados acumuladores, puede que no quede suficiente dinero entre los no acumuladores para garantizar que, típicamente, un no acumulador tenga suficiente dinero para satisfacer una solicitud. • Finalmente, en los sistemas de intercambio de archivos P2P, existen comunidades superpuestas de varios tamaños que tienen significativamente más probabilidades de poder satisfacer las solicitudes de los demás. Sería interesante investigar el efecto de tales comunidades en el equilibrio de nuestro sistema. También hay una serie de problemas de implementación que tendrían que resolverse en un sistema real. Por ejemplo, debemos preocuparnos por la posibilidad de que los agentes falsifiquen dinero o mientan sobre si el servicio fue realmente proporcionado. Karma [26] proporciona técnicas para lidiar con ambos problemas y varios más, pero algunas decisiones de implementación de Karma señalan problemas para nuestro modelo. Por ejemplo, resulta prohibitivamente caro asegurar que los saldos de las cuentas bancarias nunca puedan ser negativos, un hecho que nuestro modelo no captura. Otro ejemplo es que Karma tiene nodos que actúan como contables de los saldos de cuentas de otros nodos. Al igual que mantener una presencia en la red, esto impone un costo al nodo, pero a diferencia de eso, la responsabilidad puede ser fácilmente eludida. Karma sugiere varias formas de incentivar a los nodos para que realicen estas tareas. No hemos investigado si estos mecanismos pueden ser incorporados sin perturbar nuestro equilibrio. 8. AGRADECIMIENTOS Nos gustaría agradecer a Emin Gun Sirer, Shane Henderson, Jon Kleinberg y 3 árbitros anónimos por sus sugerencias útiles. EF, IK y JH cuentan con el apoyo parcial de la NSF bajo la subvención ITR-0325453. JH también cuenta con el apoyo parcial de la NSF bajo los subsidios CTC-0208535 e IIS-0534064, de la ONR bajo el subsidio N00014-01-10-511, del Programa de Iniciativa de Investigación Universitaria Multidisciplinaria (MURI) del DoD administrado por la ONR bajo los subsidios N00014-01-1-0795 y N00014-04-1-0725, y de la AFOSR bajo el subsidio F49620-021-0101. 9. REFERENCIAS [1] E. Adar y B. A. Huberman. Viajando gratis en Gnutella. Primer lunes, 5(10), 2000. [2] K. G. Anagnostakis y M. Greenwald. Mecanismos de incentivos basados en intercambio para compartir archivos entre pares. En la Conferencia Internacional sobre Sistemas de Computación Distribuida (ICDCS), páginas 524-533, 2004. [3] <br>BitTorrent</br> Inc. Sitio web de <br>BitTorrent</br>. http://www.bittorent.com. [4] A. Cheng y E. Friedman. Mecanismos de reputación a prueba de Sybil. En Taller sobre Economía de Sistemas Peer-to-Peer (P2PECON), páginas 128-132, 2005. [5] Tecnologías de la Información de Cornell. Estadísticas de uso de Internet de la Universidad de Cornell. http://www.cit.cornell.edu/computer/students/bandwidth/charts.html. [6] J. R. Douceur. El ataque de la sibila. En el Taller Internacional de Sistemas Peer-to-Peer (IPTPS), páginas 251-260, 2002. [7] G. Ellison. Cooperación en el dilema del prisionero con emparejamiento aleatorio anónimo. Revisión de Estudios Económicos, 61:567-588, 1994. [8] Proyecto eMule. Sitio web de eMule. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica y J. Chuang. Técnicas de incentivos sólidas para redes peer-to-peer. En la Conferencia ACM sobre Comercio Electrónico (EC), páginas 102-111, 2004. [10] E. J. Friedman y D. C. Parkes. Establecimiento de precios del wifi en Starbucks: problemas en el diseño de mecanismos en línea. En EC 03: Actas de la 4ta Conferencia de la ACM sobre Comercio Electrónico, páginas 240-241. ACM Press, 2003. [11] E. J. Friedman y P. Resnick. El costo social de los seudónimos baratos. Revista de Economía y Estrategia de Gestión, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan y A. Tomkins. Propagación de la confianza y la desconfianza. En la Conferencia sobre la World Wide Web (WWW), páginas 403-412, 2004. [13] M. Gupta, P. Judge y M. H. Ammar. Un sistema de reputación para redes peer-to-peer. En Network and Operating System Support for Digital Audio and Video (NOSSDAV), páginas 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina y J. Pedersen. Detección de spam de enlaces basada en estimación de masa. Informe técnico, Universidad de Stanford, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis y V. Prevelakis. Fileteller: Pagar y recibir pago por almacenamiento de archivos. En Criptografía Financiera, páginas 282-299, 2002. [16] E. T. Jaynes. ¿En qué punto nos encontramos con respecto a la entropía máxima? En R. D. Levine y M. Tribus, editores, El Formalismo de la Entropía Máxima, páginas 15-118. MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, y H. Garcia-Molina. El algoritmo Eigentrust para la gestión de reputación en redes P2P. En la Conferencia sobre la World Wide Web (WWW), páginas 640-651, 2003. [18] M. Kandori. Normas sociales y aplicación comunitaria. Revisión de Estudios Económicos, 59:63-80, 1992. [19] Corporación LogiSense. Sitio web de LogiSense. http://www.logisense.com/tm p2p.html. [20] L. Lovasz y P. Winkler. Mezcla de caminatas aleatorias y otras difusiones en un grafo. En Encuestas en Combinatoria, 1993, Walker (Ed.), Serie de Notas de Conferencias de la London Mathematical Society 187, Cambridge University Press. 1995. [21] Grupo de Tecnología de Código Abierto. Preguntas frecuentes sobre comentarios y moderación en Slashdot. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC. Sitio web de Gnutella. http://www.gnutella.com/. [23] M. L. Puterman. Procesos de Decisión de Markov. Wiley, 1994. [24] SETI@home. \n\nWiley, 1994. [24] SETI@home. Página web de SETI@home. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Sitio web de Kazaa. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar y E. Sirer. Karma: Un marco económico seguro para el intercambio de recursos entre pares. En Taller sobre Economía de Sistemas Peer-to-Peer (P2PECON), 2003. [27] L. Xiong y L. Liu. Construyendo confianza en comunidades electrónicas descentralizadas de pares a pares. En la Conferencia Internacional de Investigación en Comercio Electrónico (ICECR) de 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason y B. V. Roy. Haciendo que los sistemas de reputación basados en vectores propios sean robustos ante la colusión. En Taller sobre Algoritmos y Modelos para el Grafo Web (WAW), páginas 92-104, 2004. 149 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "emule": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed.",
                "It is shown that by adding a scrip system, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
                "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
                "Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "However, the cost of providing service can still be nontrivial.",
                "For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
                "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
                "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
                "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
                "These heavy users are some of the most expensive customers ISPs have.",
                "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
                "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
                "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems.",
                "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
                "Some of the P2P networks currently in use have implemented versions of these techniques.",
                "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
                "By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions.",
                "Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by <br>emule</br> 140 [8].",
                "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
                "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
                "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
                "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
                "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
                "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
                "Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it.",
                "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
                "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
                "However, to avoid penalizing new users, they gave new users an average rating.",
                "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
                "Thus Kazaas reputation system is ineffective.",
                "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
                "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
                "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
                "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
                "However, they have a different set of problems.",
                "Perhaps the most common involve determining the amount of money in the system.",
                "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
                "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
                "A related problem involves handling newcomers.",
                "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
                "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
                "In this paper, we provide a formal model in which to analyze scrip systems.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents.",
                "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
                "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
                "In systems where the goal is to do work, new users can acquire money by performing work.",
                "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
                "The rest of the paper is organized as follows.",
                "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
                "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same threshold strategy.",
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some threshold strategy.",
                "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
                "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
                "We conclude in Section 7. 2.",
                "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative game.",
                "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
                "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
                "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
                "This random-matching model fails to capture some salient aspects of a number of important settings.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can.",
                "For example, some people may not have the time or resources to satisfy the request.",
                "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
                "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
                "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
                "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
                "Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made.",
                "For example, it is not clear what defection on the part of the requester means.",
                "In our model we try to deal with all these issues.",
                "Suppose that there are n agents.",
                "At each round, an agent is picked uniformly at random to make a request.",
                "Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request.",
                "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
                "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
                "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
                "If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
                "The agent that fulfills the request pays a cost of α < 1.",
                "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
                "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite game.",
                "Lastly, we assume that with more players requests come more often.",
                "Thus we assume that the time between rounds is 1/n.",
                "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
                "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
                "We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
                "V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request.",
                "This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
                "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
                "Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i.",
                "It is the discounted total of agent is utility in each round.",
                "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
                "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
                "Take an altruist to be someone who always fulfills requests.",
                "Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
                "Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it.",
                "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
                "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
                "While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others.",
                "For example a naive user of filesharing software with a good connection might well follow this strategy.",
                "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
                "As we have observed, such users seem to exist in some large systems.",
                "Suppose that our system has a altruists.",
                "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
                "Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system.",
                "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
                "Proposition 2.1.",
                "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
                "Proof.",
                "Consider the strategy for a standard player j in the presence of a altruists.",
                "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
                "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
                "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
                "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
                "Then we only need a > 1145.",
                "While this is a large number, it is small relative to the size of a large P2P network.",
                "Current systems all have a pool of users behaving like our altruists.",
                "This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
                "In some sense, this is not a problem at all.",
                "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
                "Indeed, current P2P network work quite well in terms of distributing content to people.",
                "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
                "Thus, it is worth looking at what can be done to make these systems work in their absence.",
                "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
                "We are interested in equilibria based on a scrip system.",
                "Each time an agent has a request satisfied he must pay the person who satisfied it some amount.",
                "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
                "We denote by M the total amount of money in the system.",
                "We assume that M > 0 (otherwise no one will ever be able to get paid).",
                "In principle, agents are free to adopt a very wide variety of strategies.",
                "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
                "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
                "The class of strategies we are interested in is easy to motivate.",
                "The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more.",
                "On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
                "The natural balance between these two is a threshold strategy.",
                "Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise.",
                "Note that S0 is the strategy where the agent never volunteers.",
                "While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
                "We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
                "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
                "The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
                "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
                "Suppose that everyone plays Sk.",
                "For simplicity, assume that everyone has at most k dollars.",
                "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
                "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
                "If M ≥ kn, no agent will ever be willing to work.",
                "Thus, for the purposes of this section we assume that M < kn.",
                "From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk.",
                "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
                "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
                "If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}.",
                "If there are n agents, then the state of the game can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
                "Since the total amount of money is constant, not all of these states can arise in the game.",
                "For example the state where each player has $0 is impossible to reach in any game with money in the system.",
                "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
                "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
                "It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state.",
                "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
                "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
                "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
                "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
                "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
                "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
                "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
                "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
                "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
                "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
                "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
                "We can in fact completely characterize the distribution d∗ .",
                "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
                "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
                "The statement is correct under a number of senses of close.",
                "For definiteness, we consider the Euclidean distance.",
                "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
                "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
                "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
                "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
                "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16].",
                "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
                "This fraction clearly goes to 0 as n gets large.",
                "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
                "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
                "Let Pij denote the probability of transitioning from state i to state j.",
                "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
                "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution.",
                "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
                "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
                "We then considered how close the distribution stays to the maximum entropy distribution once it has reached it.",
                "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
                "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
                "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
                "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
                "We believe that the actually time needed is O(n).",
                "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)",
                "This is not true in general.",
                "If δ is small, then agents have no incentive to work.",
                "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
                "With small δ, S0 is the only equilibrium.",
                "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
                "We do this by first showing that, if every other agent is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one).",
                "We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy.",
                "It follows that this tuple of threshold strategies is a Nash equilibrium.",
                "As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a threshold strategy Sk that is a best response for agent i.",
                "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
                "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
                "For a later proof, it will be helpful to have a continuous set of strategies.",
                "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
                "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
                "Theorem 4.1.",
                "Fix a strategy Sγ and an agent i.",
                "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for agent i is Sk .",
                "Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
                "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
                "If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly.",
                "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
                "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
                "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
                "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
                "We remark that there may be best responses that are not threshold strategies.",
                "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy.",
                "Since we know that there is a best response that is a threshold strategy, we can look for a Nash equilibrium in the space of threshold strategies.",
                "Theorem 4.2.",
                "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the game G(n, δ) where all agents play Sγ for some integer γ > 0.",
                "Proof.",
                "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
                "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
                "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
                "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
                "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same threshold strategy.",
                "As we have already observed, one such equilibrium occurs at 0.",
                "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
                "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay.",
                "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
                "Consider k∗ , the smallest k such that k > M/n.",
                "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
                "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
                "This is the desired Nash equilibrium.",
                "This argument also shows us that we cannot in general expect fixed points to be unique.",
                "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
                "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
                "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
                "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
                "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
                "SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n).",
                "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
                "There is a tension between these objectives.",
                "It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases.",
                "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
                "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
                "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
                "Proof.",
                "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
                "Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r.",
                "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
                "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
                "We are currently exploring exactly what the optimal ratio is.",
                "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
                "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system.",
                "This produces the same effect.",
                "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has.",
                "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
                "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
                "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
                "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
                "This gives existing agents no incentive to leave and rejoin as newcomers.",
                "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
                "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
                "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
                "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
                "For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
                "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
                "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
                "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
                "However, we have not yet explored the changes required to implement this change.",
                "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
                "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
                "To get d dollars, his sybils together still have to perform d units of work.",
                "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
                "Nevertheless, there are some less direct ways that an agent could take advantage of sybils.",
                "First, by having more identities he will have a greater probability of getting chosen to make a request.",
                "It is easy to see that this will lead to the agent having higher total utility.",
                "However, this is just an artifact of our model.",
                "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
                "In practice, requests are made to satisfy a desire.",
                "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
                "Having sybils should not increase the need to have a request satisfied.",
                "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
                "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
                "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy.",
                "Intuitively, the need for money is not as critical if money is easier to obtain.",
                "Unlike the first concern, this seems like a real issue.",
                "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
                "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
                "Third, an agent can drive down the cost of fulfilling a request by introducing many sybils.",
                "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
                "Concievably he could alternate between these techniques to magnify the effects of work he does.",
                "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
                "Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
                "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
                "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
                "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
                "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
                "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
                "CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy.",
                "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
                "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
                "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
                "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation.",
                "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
                "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
                "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
                "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
                "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
                "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system.",
                "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
                "This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
                "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
                "There are some similarities between hoarding and altruistic behavior.",
                "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
                "It would be interesting to investigate the extent to which our system is robust against hoarders.",
                "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
                "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
                "There are also a number of implementation issues that would have to be resolved in a real system.",
                "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
                "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
                "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
                "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
                "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
                "Karma suggests several ways to incentivize nodes to perform these duties.",
                "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
                "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
                "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
                "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
                "REFERENCES [1] E. Adar and B.",
                "A. Huberman.",
                "Free riding on Gnutella.",
                "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
                "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
                "Sybilproof reputation mechanisms.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
                "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
                "The sybil attack.",
                "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
                "Cooperation in the prisoners dilemma with anonymous random matching.",
                "Review of Economic Studies, 61:567-588, 1994. [8] <br>emule</br> Project. <br>emule</br> web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
                "Robust incentive techniques for peer-to-peer networks.",
                "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
                "Pricing wifi at starbucks: issues in online mechanism design.",
                "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
                "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
                "The social cost of cheap pseudonyms.",
                "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
                "Propagation of trust and distrust.",
                "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
                "A reputation system for peer-to-peer networks.",
                "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
                "Link spam detection based on mass estimation.",
                "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
                "Fileteller: Paying and getting paid for file storage.",
                "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
                "Where do we stand on maximum entropy?",
                "In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118.",
                "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
                "The Eigentrust algorithm for reputation management in P2P networks.",
                "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
                "Social norms and community enforcement.",
                "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
                "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
                "Mixing of random walks and other diffusions on a graph.",
                "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
                "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
                "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
                "Markov Decision Processes.",
                "Wiley, 1994. [24] SETI@home.",
                "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
                "Karma: A secure economic framework for peer-to-peer resource sharing.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
                "Building trust in decentralized peer-to-peer electronic communities.",
                "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
                "Making eigenvector-based reputation systems robust to collusion.",
                "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
            ],
            "original_annotated_samples": [
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by <br>emule</br> 140 [8].",
                "Review of Economic Studies, 61:567-588, 1994. [8] <br>emule</br> Project. <br>emule</br> web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang."
            ],
            "translated_annotated_samples": [
                "Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el <br>sistema de créditos</br> utilizado por eMule 140 [8].",
                "Revisión de Estudios Económicos, 61:567-588, 1994. [8] Proyecto <br>eMule</br>. Sitio web de <br>eMule</br>. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica y J. Chuang."
            ],
            "translated_text": "Eficiencia y equilibrios de Nash en un sistema de vales para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación. Universidad Cornell halpern@cs.cornell.edu Ian Kash Departamento de Ciencias de la Computación. La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una red P2P. Se demuestra que al agregar un sistema de script, se puede obtener un mecanismo que admita un equilibrio de Nash razonable que reduzca el comportamiento de aprovechamiento gratuito. El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el bienestar social) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia. El trabajo tiene implicaciones para muchos sistemas en línea, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; I.2.11 [Inteligencia Artificial]: Inteligencia Artificial Distribuida-Sistemas Multiagente; J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Computadoras y Sociedad]: Comercio Electrónico Términos Generales Economía, Teoría 1. INTRODUCCIÓN Una característica común de muchos sistemas distribuidos en línea es que los individuos proporcionan servicios entre sí. Las redes peer-to-peer (P2P) (como Kazaa [25] o BitTorrent [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás. El hecho de que las personas se presten servicios entre sí generalmente aumenta el bienestar social: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona. Sin embargo, el costo de brindar el servicio aún puede ser significativo. Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo. Por lo tanto, en muchos sistemas existe un fuerte incentivo para convertirse en un \"pasajero gratis\" y beneficiarse del sistema sin contribuir a él. Este no es simplemente un problema teórico; estudios de la red Gnutella [22] han demostrado que casi el 70 por ciento de los usuarios no comparten archivos y casi el 50 por ciento de las respuestas provienen del 1 por ciento superior de los anfitriones que comparten [1]. Tener relativamente pocos usuarios que proporcionen la mayor parte del servicio crea un punto de centralización; la desaparición de un pequeño porcentaje de usuarios puede afectar enormemente la funcionalidad del sistema. Además, las tendencias actuales parecen estar llevando a la eliminación de los usuarios altruistas en los que estos sistemas confían. Estos usuarios intensivos son algunos de los clientes más costosos que tienen los proveedores de servicios de Internet. Por lo tanto, a medida que la cantidad de tráfico ha aumentado, los proveedores de servicios de Internet han comenzado a buscar formas de reducir este tráfico. Algunas universidades han comenzado a cobrar a los estudiantes por el uso excesivo de ancho de banda; otras revocan el acceso a la red por ello [5]. Un número de empresas también se han formado cuyo servicio es detectar el uso excesivo de ancho de banda [19]. Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros sistemas en línea distribuidos. Se ha invertido una cantidad significativa de investigación en el diseño de sistemas de reputación para dar tratamiento preferencial a los usuarios que comparten archivos. Algunas de las redes P2P actualmente en uso han implementado versiones de estas técnicas. Sin embargo, estos enfoques tienden a caer en una de dos categorías: o son similares al trueque o se basan en la reputación. Por \"tipo trueque\", nos referimos a que cada agente basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones. Quizás el ejemplo más conocido de un sistema similar al trueque es BitTorrent, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual. Dado que el trueque está restringido a usuarios actualmente interesados en un solo archivo, esto funciona bien para archivos populares, pero tiende a tener problemas para mantener la disponibilidad de los menos populares. Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el <br>sistema de créditos</br> utilizado por eMule 140 [8]. Cada usuario realiza un seguimiento de su historial de interacciones con otros usuarios y da prioridad a aquellos de los que ha descargado previamente. Sin embargo, en un sistema grande, la probabilidad de que un par de usuarios elegidos al azar hayan interactuado antes es bastante baja, por lo que este historial de interacciones no será de gran ayuda. Anagnostakis y Greenwald [2] presentan una versión más sofisticada de este enfoque, pero aún parece sufrir de problemas similares. Se han realizado varios intentos de proporcionar sistemas de reputación generales (por ejemplo, [12, 13, 17, 27]). La idea básica es agregar la experiencia de cada usuario en un número global para cada individuo que represente de manera intuitiva la visión del sistema sobre la reputación de ese individuo. Sin embargo, estos intentos tienden a sufrir problemas prácticos porque implícitamente consideran a los usuarios como buenos o malos, asumen que los buenos usuarios actuarán de acuerdo con el protocolo especificado, y que hay relativamente pocos usuarios malos. Desafortunadamente, si existen formas fáciles de manipular el sistema, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen. No podemos depender solo de unos pocos usuarios siendo malos (en el sentido de no seguir el protocolo prescrito). Por ejemplo, Kazaa utiliza una medida de la proporción entre el número de cargas y el número de descargas para identificar usuarios buenos y malos. Sin embargo, para evitar penalizar a los nuevos usuarios, les dieron a los nuevos usuarios una calificación promedio. Los usuarios descubrieron que podían aprovechar esta calificación relativamente buena para viajar gratis por un tiempo y, una vez que comenzaba a empeorar, podían eliminar su información almacenada y regresar efectivamente como un nuevo usuario, evitando así el sistema (ver [2] para una discusión y [11] para un análisis formal de este lavado de imagen). Por lo tanto, el sistema de reputación de Kazaas es ineficaz. Este es un caso simple de una vulnerabilidad más general de tales sistemas a los ataques de sybil [6], donde un solo usuario mantiene múltiples identidades y las utiliza de manera coordinada para obtener un mejor servicio del que obtendría de otra manera. Trabajos recientes han demostrado que la mayoría de los sistemas de reputación comunes son vulnerables (en el peor de los casos) a tales ataques [4]; sin embargo, el grado de esta vulnerabilidad aún no está claro. El análisis de las vulnerabilidades prácticas y la existencia de sistemas inmunes a tales ataques sigue siendo un área de investigación activa (por ejemplo, [4, 28, 14]). Los sistemas económicos simples basados en un vale o dinero parecen evitar muchos de estos problemas, son fáciles de implementar y son bastante populares (ver, por ejemplo, [13, 15, 26]). Sin embargo, tienen un conjunto diferente de problemas. Quizás los más comunes implican determinar la cantidad de dinero en el sistema. Hablando en términos generales, si hay muy poco dinero en el sistema en relación con el número de agentes, entonces relativamente pocos usuarios pueden permitirse hacer solicitudes. Por otro lado, si hay demasiado dinero, entonces los usuarios no sentirán la necesidad de responder a una solicitud; ya tienen suficiente dinero. Un problema relacionado implica manejar a los recién llegados. Si a los recién llegados se les da una cantidad positiva de dinero, entonces el sistema está abierto a ataques de Sybil. Quizás no sorprendentemente, los sistemas de moneda fiduciaria terminan teniendo que lidiar con problemas económicos estándar como la inflación, las burbujas y las crisis [26]. En este artículo, proporcionamos un modelo formal en el cual analizar sistemas de escritura. Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero). Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (bienestar social), dado el número de agentes. También conduce a una solución para el problema de tratar con los recién llegados: simplemente asumimos que los nuevos usuarios llegan sin dinero, y ajustamos el precio del servicio (lo cual es equivalente a ajustar la oferta de dinero) para mantener la proporción que maximiza la eficiencia. Si bien asumir que los nuevos usuarios no tienen dinero no funcionará en todos los contextos, creemos que este enfoque será ampliamente aplicable. En sistemas donde el objetivo es realizar trabajo, los nuevos usuarios pueden adquirir dinero realizando trabajo. También debería funcionar en el sistema Kazaalike donde un usuario puede ingresar con algunos recursos (por ejemplo, una colección privada de MP3). El resto del documento está organizado de la siguiente manera. En la Sección 2, presentamos nuestro modelo formal y observamos que se puede utilizar para comprender el efecto de los altruistas. En la Sección 3, examinamos qué sucede en el juego bajo un juego no estratégico, si todos los agentes utilizan la misma estrategia de umbral. Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la entropía máxima. Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el juego donde todos los agentes utilizan alguna estrategia de umbral. Además, mostramos en la Sección 5 que el análisis conduce a una comprensión de cómo elegir la cantidad de dinero en el sistema (o, de manera equivalente, el costo para cumplir una solicitud) para maximizar la eficiencia, y también muestra cómo manejar a los nuevos usuarios. En la Sección 6, discutimos en qué medida nuestro enfoque puede manejar sybils y colusión. Concluimos en la Sección 7.2. EL MODELO Para empezar, formalizamos la prestación de servicios en una red P2P como un juego no cooperativo. A diferencia de gran parte de la modelización en esta área, nuestro modelo modelará las interacciones asimétricas en un sistema de intercambio de archivos en el que el emparejamiento de jugadores (aquellos que solicitan un archivo con aquellos que tienen ese archivo en particular) es una parte clave del sistema. Esto contrasta con gran parte de trabajos anteriores que utilizan emparejamiento aleatorio en un dilema del prisionero. Tales modelos fueron estudiados en la literatura económica [18, 7] y aplicados por primera vez a reputaciones en línea en [11]; una aplicación a P2P se encuentra en [9]. Este modelo de emparejamiento aleatorio no logra capturar algunos aspectos relevantes de varios entornos importantes. Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una red P2P grande), pero no todas pueden hacerlo. Por ejemplo, algunas personas pueden no tener el tiempo o los recursos para satisfacer la solicitud. El proceso de emparejamiento aleatorio ignora el hecho de que algunas personas pueden no ser capaces de satisfacer la solicitud. Presumiblemente, si la persona emparejada con el solicitante no pudiera satisfacer el emparejamiento, tendría que desertar. Además, no captura el hecho de que la decisión de si voluntariarse para satisfacer la solicitud debe tomarse antes del proceso de emparejamiento, no después. Es decir, el proceso de emparejamiento no captura el hecho de que si alguien no está dispuesto a satisfacer la solicitud, sin duda habrá otros que puedan hacerlo. Aunque nos referimos a nuestra unidad de moneda como el dólar, estos no son dólares reales ni los consideramos convertibles en dólares. Finalmente, las acciones y recompensas en el juego del dilema del prisionero no corresponden claramente a las decisiones reales que se pueden tomar. Por ejemplo, no está claro qué significa la deserción por parte del solicitante. En nuestro modelo intentamos abordar todos estos problemas. Supongamos que hay n agentes. En cada ronda, se elige de forma aleatoria y uniforme a un agente para hacer una solicitud. Cada otro agente puede satisfacer esta solicitud con una probabilidad β > 0 en todo momento, independientemente del comportamiento previo. El término β tiene la intención de capturar la probabilidad de que un agente esté ocupado o no tenga los recursos para cumplir con la solicitud. Suponer que β es independiente del tiempo no captura la intuición de que no poder cumplir una solicitud en el tiempo t puede estar correlacionado con no poder cumplirla en el tiempo t+1. Creemos que, en sistemas grandes, deberíamos poder eliminar la suposición de independencia, pero dejamos esto para trabajos futuros. En cualquier caso, aquellos agentes que sean capaces de satisfacer la solicitud deben elegir si desean o no ofrecerse como voluntarios para satisfacerla. Si al menos un agente se ofrece como voluntario, el solicitante recibe un beneficio de 1 utilidad (el trabajo se realiza) y uno de los voluntarios es elegido al azar para cumplir con la solicitud. El agente que cumple con la solicitud paga un costo de α < 1. Como es habitual en la literatura, asumimos que los agentes descuentan los beneficios futuros por un factor de δ por unidad de tiempo. Esto captura la intuición de que un util hoy vale más que un util mañana, y nos permite calcular la utilidad total derivada por un agente en un juego infinito. Por último, asumimos que con más jugadores las solicitudes llegan con más frecuencia. Por lo tanto, asumimos que el tiempo entre rondas es 1/n. Esto captura el hecho de que los sistemas que queremos modelar realmente están procesando muchas solicitudes en paralelo, por lo que esperaríamos que el número de solicitudes concurrentes sea proporcional al número de usuarios. Sea G(n, δ, α, β) este juego con n agentes, un factor de descuento de δ, un costo para satisfacer solicitudes de α y una probabilidad de poder satisfacer solicitudes de β. Cuando los dos últimos parámetros no son relevantes, a veces escribimos G(n, δ). Utilizamos la siguiente notación a lo largo del documento: • pt denota al agente elegido en la ronda t. • Bt i ∈ {0, 1} denota si el agente i puede satisfacer la solicitud en la ronda t. Bt i = 1 con probabilidad β > 0 y Bt i es independiente de Bt i para todo t = t. • V t i ∈ {0, 1} denota la decisión del agente i sobre si voluntariarse en la ronda t; 1 indica voluntariado. V t i está determinado por la estrategia del agente. • vt ∈ {j | V t j Bt j = 1} denota al agente elegido para satisfacer la solicitud. Este agente es elegido de manera uniforme al azar entre aquellos que están dispuestos (V t j = 1) y capaces (Bt j = 1) de satisfacer la solicitud. • ut i denota la utilidad del agente en la ronda t. Un agente estándar es aquel cuya utilidad se determina como se discutió en la introducción; es decir, el agente recibe 2. Para n grande, nuestro modelo converge a uno en el que los jugadores realizan solicitudes en tiempo real, y el tiempo entre las solicitudes de un jugador está distribuido de manera exponencial con media 1. Además, el tiempo entre las solicitudes atendidas por un único jugador también sigue una distribución exponencial. Una utilidad de 1 para una solicitud cumplida y una utilidad de -α por cumplir una solicitud. Por lo tanto, si i es un agente estándar, entonces ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 −α si i = vt 0 de lo contrario. • Ui = P∞ t=0 δt/n ut i denota la utilidad total para el agente i. Es el total descontado de la utilidad del agente en cada ronda. Ten en cuenta que el factor de descuento efectivo es δ1/n ya que un aumento en n conlleva a una reducción del tiempo entre rondas. Ahora que tenemos un modelo de cómo hacer y satisfacer solicitudes, lo utilizamos para analizar el comportamiento de no contribuir. Considera a un altruista como alguien que siempre cumple peticiones. El agente podría comportarse de manera altruista de manera racional si la función de utilidad del agente tiene la siguiente forma, para algún α > 0: ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 α si i = vt 0 en otro caso. Por lo tanto, en lugar de sufrir una pérdida de utilidad al satisfacer una solicitud, un agente obtiene utilidad positiva al satisfacerla. Una función de utilidad de este tipo es una representación razonable del placer que algunas personas obtienen al sentir que son quienes proporcionan la música que todos están tocando. Para agentes altruistas como estos, jugar la estrategia que establece V t i = 1 para todo t es dominante. Si bien tener una función de utilidad no estándar podría ser una razón por la cual un agente racional podría usar esta estrategia, ciertamente hay otras razones. Por ejemplo, un usuario inexperto de software de intercambio de archivos con una buena conexión bien podría seguir esta estrategia. Todo lo que importa para la siguiente discusión es que hay algunos agentes que utilizan esta estrategia, sea por la razón que sea. Como hemos observado, parece que existen usuarios de este tipo en algunos sistemas grandes. Supongamos que nuestro sistema tiene altruistas. Intuitivamente, si a es moderadamente grande, lograrán satisfacer la mayoría de las solicitudes en el sistema incluso si otros agentes no trabajan. Por lo tanto, hay poco incentivo para que cualquier otro agente se ofrezca como voluntario, porque ya está obteniendo pleno beneficio al participar en el sistema. Basándose en esta intuición, es un cálculo relativamente sencillo determinar un valor de a que depende solo de α, β y δ, pero no del número n de jugadores en el sistema, de modo que la estrategia dominante para todos los agentes estándar i sea nunca ofrecerse voluntariamente para satisfacer ninguna solicitud (es decir, V t i = 0 para todo t). Proposición 2.1. Existe un a que depende solo de α, β y δ tal que, en G(n, δ, α, β) con al menos a altruistas, no ofrecerse como voluntario en cada ronda es una estrategia dominante para todos los agentes estándar. Prueba. Considera la estrategia para un jugador estándar j en presencia de altruistas. Incluso sin dinero, el jugador j logrará que se satisfaga una solicitud con probabilidad 1 − (1 − β)a solo a través de las acciones de estos altruistas. Por lo tanto, incluso si j es elegido para hacer una solicitud en cada ronda, la utilidad adicional esperada máxima que puede esperar obtener al tener dinero es P∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ). Si (1 − β)a /(1 − δ) > α o, equivalentemente, si a > log1−β(α(1 − δ)), nunca ofrecerse como voluntario es una estrategia dominante. Considera los siguientes valores razonables para nuestros parámetros: β = .01 (para que cada jugador pueda satisfacer el 1% de las solicitudes), α = .1 (un costo bajo pero no despreciable), δ = .9999/día 142 (lo que corresponde a un factor de descuento anual de aproximadamente 0.95), y un promedio de 1 solicitud por día por jugador. Entonces solo necesitamos un > 1145. Si bien este es un número grande, es pequeño en comparación con el tamaño de una red P2P grande. Los sistemas actuales tienen un grupo de usuarios que se comportan como nuestros altruistas. Esto significa que los intentos de agregar un sistema de reputación encima de un sistema P2P existente para influir en los usuarios a cooperar no tendrán efecto en usuarios racionales. Para tener una distribución justa del trabajo, estos sistemas deben ser rediseñados fundamentalmente para eliminar el grupo de usuarios altruistas. En cierto sentido, esto no es un problema en absoluto. En un sistema con altruistas, los altruistas presumiblemente están felices, al igual que los agentes estándar, quienes ven casi todas sus solicitudes satisfechas sin tener que hacer ningún trabajo. De hecho, las redes P2P actuales funcionan bastante bien en términos de distribuir contenido a las personas. Sin embargo, como mencionamos en la introducción, hay razones para creer que estos altruistas podrían no estar presentes para siempre. Por lo tanto, vale la pena analizar qué se puede hacer para que estos sistemas funcionen en su ausencia. Para el resto de este documento asumimos que todos los agentes son estándar y tratan de maximizar la utilidad esperada. Estamos interesados en equilibrios basados en un sistema de vales. Cada vez que un agente tiene una solicitud satisfecha, debe pagarle a la persona que la satisfizo una cierta cantidad. Por ahora, asumimos que el pago es fijo; para simplificar, tomamos la cantidad como $1. Denotamos por M la cantidad total de dinero en el sistema. Suponemos que M > 0 (de lo contrario, nadie podrá cobrar nunca). En principio, los agentes son libres de adoptar una amplia variedad de estrategias. Pueden tomar decisiones basadas en los nombres de otros agentes o utilizar una estrategia que depende en gran medida de la historia, y combinar libremente estas estrategias. Para ayudar en nuestro análisis, nos gustaría poder restringir nuestra atención a una clase más simple de estrategias. La clase de estrategias en la que estamos interesados es fácil de motivar. La razón intuitiva para querer ganar dinero es para atender la posibilidad de que un agente se quede sin antes de tener la oportunidad de ganar más. Por otro lado, un agente racional con mucho dinero no querría trabajar, porque para cuando haya logrado gastar todo su dinero, la utilidad tendrá menos valor que el costo actual de trabajar. El equilibrio natural entre estos dos es una estrategia de umbral. Que Sk sea la estrategia en la que un agente se ofrece como voluntario siempre que tenga menos de k dólares y no lo haga de otra manera. Ten en cuenta que S0 es la estrategia en la que el agente nunca se ofrece como voluntario. Si bien todos los que juegan S0 conforman un equilibrio de Nash (nadie puede mejorar al ofrecerse como voluntario si nadie más está dispuesto a hacerlo), es un equilibrio poco interesante. Como mostraremos en la Sección 4, es suficiente restringir nuestra atención a esta clase de estrategias. Usamos Kt i para denotar la cantidad de dinero que el agente i tiene en el tiempo t. Claramente Kt+1 i = Kt i a menos que el agente i tenga una solicitud satisfecha, en cuyo caso Kt+1 i = Kt+1 i − 1 o el agente i cumple una solicitud, en cuyo caso Kt+1 i = Kt+1 i + 1. Formalmente, Kt+1 i = 8 < : Kt i − 1 si i = pt , P j=i V t j Bt j > 0, y Kt i > 0 Kt i + 1 si i = vt y Kt pt > 0 Kt i en otro caso. La estrategia de umbral Sk es la estrategia tal que V t i = 1 si Kt pt > 0 y Kt i < k, 0 en caso contrario. EL JUEGO BAJO JUEGO NO ESTRATÉGICO Antes de considerar el juego estratégico, examinamos qué sucede en el sistema si todos juegan simplemente la misma estrategia Sk. Nuestro objetivo general es demostrar que existe una distribución de dinero (es decir, la fracción de personas con cada cantidad de dinero) tal que el sistema converge a esta distribución en un sentido que se precisará en breve. Supongamos que todos juegan Sk. Para simplificar, asumamos que todos tienen a lo sumo k dólares. Podemos hacer esta suposición prácticamente sin pérdida de generalidad, ya que si alguien tiene más de k dólares, simplemente gastará dinero hasta tener como máximo k dólares. Después de este punto, nunca adquirirá más que k. Por lo tanto, eventualmente el sistema estará en tal estado. Si M ≥ kn, ningún agente estará dispuesto a trabajar. Por lo tanto, para los propósitos de esta sección asumimos que M < kn. Desde la perspectiva de un solo agente, en equilibrio (estocástico), el agente está experimentando un paseo aleatorio. Sin embargo, los parámetros de esta caminata aleatoria dependen de las caminatas aleatorias de los otros agentes y es bastante complicado resolverlo directamente. Por lo tanto, consideramos un análisis alternativo basado en la evolución del sistema en su conjunto. Si todos tienen a lo sumo k dólares, entonces la cantidad de dinero que tiene un agente es un elemento de {0, . . . , k}. Si hay n agentes, entonces el estado del juego puede ser descrito identificando cuánto dinero tiene cada agente, por lo que podemos representarlo mediante un elemento de Sk,n = {0, . . . , k}{1,...,n}. Dado que la cantidad total de dinero es constante, no todos estos estados pueden surgir en el juego. Por ejemplo, el estado en el que cada jugador tiene $0 es imposible de alcanzar en cualquier juego con dinero en el sistema. Sea mS(s) = P i∈{1...n} s(i) el monto total de dinero en el juego en el estado s, donde s(i) es la cantidad de dólares que el agente i tiene en el estado s. Queremos considerar solo aquellos estados donde el dinero total en el sistema es M, es decir, Sk,n,M = {s ∈ Sk,n | mS(s) = M}. Bajo el supuesto de que todos los agentes utilizan la estrategia Sk, la evolución del sistema puede ser tratada como una cadena de Markov Mk,n,M sobre el espacio de estados Sk,n,M. Es posible pasar de un estado a otro en una sola ronda si al elegir a un agente en particular para hacer una solicitud y a otro agente en particular para satisfacerla, las cantidades de dinero poseídas por cada agente se convierten en las del segundo estado. Por lo tanto, la probabilidad de una transición de un estado s a t es 0 a menos que existan dos agentes i y j tales que s(i) = t(i) para todos los i /∈ {i, j}, t(i) = s(i) + 1, y t(j) = s(j) − 1. En este caso, la probabilidad de transición de s a t es la probabilidad de que j sea elegido para gastar un dólar y tenga a alguien dispuesto y capaz de satisfacer su solicitud ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplicado por la probabilidad de que i sea elegido para satisfacer su solicitud (1/(|({i | s(i ) = k}| − Ij ). Ij es 0 si j tiene k dólares y 1 en caso contrario (es solo una corrección por el hecho de que j no puede satisfacer su propia solicitud). Sea ∆k el conjunto de distribuciones de probabilidad en {0, . . . , k}. Podemos pensar en un elemento de ∆k como la descripción de la fracción de personas con cada cantidad de dinero. Esta es una forma útil de ver el sistema, ya que normalmente no nos importa quién tiene cada cantidad de dinero, sino simplemente la fracción de personas que tienen cada cantidad. Como antes, no todos los elementos de ∆k son posibles, dada nuestra restricción de que la cantidad total de dinero es M. En lugar de pensar en términos de la cantidad total de dinero en el sistema, resultará más útil pensar en términos del monto promedio de dinero que tiene cada jugador. Por supuesto, la cantidad total de dinero en un sistema con n agentes es M si y solo si la cantidad promedio que cada jugador tiene es m = M/n. Sea ∆k m el conjunto de todas las distribuciones d ∈ ∆k tales que E(d) = m (es decir, Pk j=0 d(j)j = m). Dado un estado s ∈ Sk,n,M, sea ds ∈ ∆k m la distribución de dinero en s. Nuestro objetivo es demostrar que, si n es grande, entonces existe una distribución d∗ ∈ ∆k m tal que, con alta probabilidad, la cadena de Markov Mk,n,M estará casi siempre en un estado s tal que ds esté cerca de d∗. Por lo tanto, los agentes pueden basar sus decisiones sobre qué estrategia usar en la suposición de que estarán en ese estado. De hecho, podemos caracterizar completamente la distribución d∗. Dada una distribución d ∈ ∆k , sea H(d) = − X {j:d(j)=0} d(j) log(d(j)) la entropía de d. Si ∆ es un conjunto convexo cerrado de distribuciones, entonces es bien sabido que hay una distribución única en ∆ en la que la función de entropía alcanza su valor máximo en ∆. Dado que ∆k m se ve fácilmente como un conjunto convexo cerrado de distribuciones, se sigue que hay una distribución única en ∆k m que denotamos como d∗ k,m cuya entropía es mayor que la de todas las demás distribuciones en ∆k m. Ahora mostramos que, para n suficientemente grande, la cadena de Markov Mk,n,M está casi seguramente en un estado s tal que ds está cerca de d∗ k,M/n. La afirmación es correcta en varios sentidos de cercanía. Para mayor claridad, consideramos la distancia euclidiana. Dado > 0, sea Sk,n,m el conjunto de estados s en Sk,n,mn tal que Pk j=0 |ds (j) − d∗ k,m|2 < . Dada una cadena de Markov M sobre un espacio de estados S y S ⊆ S, sea Xt,s,S la variable aleatoria que denota que M se encuentra en un estado de S en el tiempo t, cuando se inicia en el estado s. Teorema 3.1. Para todo ε > 0, todo k y todo m, existe un n tal que para todo n > n y todos los estados s ∈ Sk,n,mn, existe un tiempo t∗ (que puede depender de k, n, m y ) tal que para t > t∗, tenemos que Pr(Xt,s,Sk,n,m, ) > 1 − . Prueba. (Bosquejo) Supongamos que en algún momento t, Pr(Xt,s,s) es uniforme para todos los s. Entonces, la probabilidad de estar en un conjunto de estados es simplemente el tamaño del conjunto dividido por el número total de estados. Una técnica estándar de la mecánica estadística es demostrar que hay un fenómeno de concentración alrededor de la distribución de entropía máxima [16]. Más precisamente, utilizando un argumento combinatorio directo, se puede demostrar que la fracción de estados que no están en Sk,n,m está acotada por p(n)/ecn, donde p es un polinomio. Esta fracción claramente tiende a 0 a medida que n crece. Por lo tanto, para n suficientemente grande, Pr(Xt,s,Sk,n,m, ) > 1 − si Pr(Xt,s,s ) es uniforme. Es relativamente sencillo demostrar que nuestra Cadena de Markov tiene una distribución límite π sobre Sk,n,mn, tal que para todo s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs. Que Pij denote la probabilidad de transición del estado i al estado j. Es fácil verificar mediante un cálculo explícito de las probabilidades de transición que Pij = Pji para todos los estados i y j. Se sigue inmediatamente de esta simetría que πs = πs, por lo que π es uniforme. Después de un tiempo suficiente, la distribución estará lo suficientemente cerca de π, de modo que las probabilidades vuelven a estar limitadas por una constante, lo cual es suficiente para completar el teorema. Realizamos una serie de experimentos que muestran que el comportamiento de máxima entropía descrito en el Teorema 3.1 surge rápidamente para valores bastante prácticos de n y t. El primer experimento mostró que, incluso si n = 1000, alcanzamos rápidamente la distribución de máxima entropía. Promediamos 10 ejecuciones de la cadena de Markov para k = 5 donde hay suficiente dinero para que cada agente tenga $2 comenzando desde una distribución muy extrema (cada agente tiene $0 o $5) y consideramos el tiempo promedio necesario para acercarse a varias distancias de la distribución de entropía máxima. Como muestra la Figura 1, después de 2,000 pasos, en promedio, la distancia euclidiana desde la distribución promedio del dinero hasta la distribución de máxima entropía es de .008; después de 3,000 pasos, la distancia disminuye a .001. Ten en cuenta que esto realmente solo son 3 unidades de tiempo reales, ya que con 1000 jugadores tenemos 1000 transacciones por unidad de tiempo. Luego consideramos qué tan cerca se mantiene la distribución de la entropía máxima una vez que la ha alcanzado. Para simplificar las cosas, comenzamos el sistema en un estado cuya distribución estaba muy cerca de la distribución de máxima entropía y lo ejecutamos durante 106 pasos, para varios valores de n. Como muestra la Figura 2, el sistema no se aleja mucho de la distribución de máxima entropía una vez que está allí. Por ejemplo, si n = 5000, el sistema nunca está a más de una distancia de .001 de la distribución de máxima entropía; si n = 25,000, nunca está a más de .0002 de la distribución de máxima entropía. Finalmente, consideramos con más cuidado cómo rápidamente el sistema converge a la distribución de máxima entropía para varios valores de n. Hay aproximadamente kn estados posibles, por lo que el tiempo de convergencia podría ser bastante largo en principio. Sin embargo, sospechamos que la cadena de Markov que surge aquí se mezcla rápidamente, lo que significa que convergerá significativamente más rápido (ver [20] para más detalles sobre la mezcla rápida). Creemos que el tiempo necesario en realidad es O(n). Este comportamiento se ilustra en la Figura 3, que muestra que para nuestra cadena de ejemplo (nuevamente promediada en 10 ejecuciones), después de 3n pasos, la distancia euclidiana entre la distribución real del dinero en el sistema y la distribución de máxima entropía es menor que .001. EL JUEGO BAJO JUGADA ESTRATÉGICA Hemos visto que el sistema se comporta bien si los agentes siguen todos una estrategia de umbral; ahora queremos demostrar que existe un equilibrio de Nash no trivial donde lo hacen (es decir, un equilibrio de Nash donde todos los agentes usan Sk para algún k > 0). Esto no es cierto en general. Si δ es pequeño, entonces los agentes no tienen incentivo para trabajar. Intuitivamente, si la utilidad futura está suficientemente descontada, entonces todo lo que importa es el presente, y no tiene sentido ofrecerse como voluntario para trabajar. Con un δ pequeño, S0 es el único equilibrio. Sin embargo, demostramos que para δ suficientemente grande, hay otro equilibrio en estrategias de umbral. Lo hacemos primero demostrando que, si cada otro agente está jugando una estrategia de umbral, entonces hay una mejor respuesta que también es una estrategia de umbral (aunque no necesariamente la misma). Luego demostramos que debe existir alguna estrategia de umbral (mixta) para la cual esta mejor respuesta sea la misma estrategia. Se deduce que este conjunto de estrategias de umbral es un equilibrio de Nash. Como primer paso, demostramos que, para todo k, si todos excepto el agente i están jugando Sk, entonces hay una estrategia de umbral Sk que es la mejor respuesta para el agente i. Para demostrar esto, necesitamos asumir que el sistema está cerca de la distribución de estado estacionario (es decir, la distribución de máxima entropía). Sin embargo, siempre y cuando δ esté suficientemente cerca de 1, podemos ignorar lo que sucede durante el período en el que el sistema no está en estado estacionario. Hasta ahora hemos considerado estrategias de umbral de la forma Sk, donde k es un número natural; este es un conjunto discreto de estrategias. Para una futura demostración, será útil contar con un conjunto continuo de estrategias. Si γ = k + γ, donde k es un número natural y 0 ≤ γ < 1, sea Sγ la estrategia que realiza Sk con probabilidad 1 − γ y Sk+1 con probabilidad γ. (Nótese que aquí no estamos considerando estrategias de umbral mixtas arbitrarias, sino simplemente mezclando entre estrategias adyacentes con el único propósito de hacer que las estrategias sean continuas de una manera natural). El Teorema 3.1 se aplica a las estrategias Sγ (la misma prueba se realiza sin cambios), donde γ es un número real no negativo arbitrario. Teorema 4.1. Fije una estrategia Sγ y un agente i. Existe δ∗ < 1 y n∗ tal que si δ > δ∗ , n > n∗ , y cada agente que no sea i está jugando Sγ en el juego G(n, δ), entonces existe un entero k tal que la mejor respuesta para el agente i es Sk. Ya sea que k sea único (es decir, haya una única mejor respuesta que también sea una estrategia de umbral), o existe un entero k tal que Sγ sea una mejor respuesta para el agente i para todos los γ en el intervalo [k, k + 1] (y estas son las únicas mejores respuestas entre las estrategias de umbral). Prueba. (Bosquejo:) Si δ es suficientemente grande, podemos ignorar lo que sucede antes de que el sistema converja a la distribución de entropía máxima. Si n es suficientemente grande, entonces la estrategia jugada por un agente no afectará significativamente la distribución del dinero. Por lo tanto, la probabilidad de que i se mueva de un estado (cantidad de dinero) a otro depende únicamente de su estrategia (ya que podemos considerar que la probabilidad de que i sea elegido para hacer una solicitud y la probabilidad de que i sea elegido para satisfacer una solicitud son constantes). Por lo tanto, desde su punto de vista, el sistema es un proceso de decisión de Markov (MDP), y necesita calcular la política óptima (estrategia) para este MDP. Se desprende de los resultados estándar [23, Teorema 6.11.6] que existe una política óptima que es una política de umbral. El argumento de que la mejor respuesta es única o que existe un intervalo de mejores respuestas se desprende de un análisis más detallado de la función de valor para el MDP. Observamos que puede haber mejores respuestas que no son estrategias de umbral. Todo lo que el Teorema 4.1 muestra es que, entre las mejores respuestas, hay al menos una que es una estrategia de umbral. Dado que sabemos que hay una mejor respuesta que es una estrategia de umbral, podemos buscar un equilibrio de Nash en el espacio de estrategias de umbral. Teorema 4.2. Para todo M, existe δ∗ < 1 y n∗ tal que si δ > δ∗ y n > n∗, existe un equilibrio de Nash en el juego G(n, δ) donde todos los agentes juegan Sγ para algún entero γ > 0. Prueba. Se sigue fácilmente de la prueba del Teorema 4.1 que si br(δ, γ) es la estrategia umbral de mejor respuesta mínima si todos los demás agentes están jugando Sγ y el factor de descuento es δ, entonces, para δ fijo, br(δ, ·) es una función escalonada. También se sigue 3 Formalmente, necesitamos definir las estrategias cuando el sistema está lejos del equilibrio. Sin embargo, estas estrategias lejos del equilibrio (estocástico) no afectarán el comportamiento de equilibrio cuando n sea grande y las desviaciones del equilibrio estocástico sean extremadamente raras. 145 del teorema que si hay dos mejores respuestas, entonces una mezcla de ellas también es una mejor respuesta. Por lo tanto, si podemos unir los pasos con una línea vertical, obtenemos una curva de mejor respuesta. Es fácil ver que en todos los puntos donde esta curva de mejor respuesta cruza la diagonal y = x se define un equilibrio de Nash donde todos los agentes están utilizando la misma estrategia de umbral. Como ya hemos observado, uno de estos equilibrios ocurre en 0. Si solo hay $M en el sistema, podemos restringirnos a estrategias de umbral Sk donde k ≤ M + 1. Dado que nadie puede tener más de $M, todas las estrategias Sk para k > M son equivalentes a SM; estas son simplemente las estrategias en las que el agente siempre se ofrece como voluntario en respuesta a una solicitud hecha por alguien que puede pagar. Claramente br(δ, SM) ≤ M para todo δ, por lo que la función de mejor respuesta está en o por debajo del equilibrio en M. Si k ≤ M/n, cada jugador tendrá al menos k dólares y por lo tanto no estará dispuesto a trabajar, siendo la mejor respuesta simplemente 0. Considera k∗, el menor k tal que k > M/n. No es difícil demostrar que para k∗ existe un δ∗ tal que para todo δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ . Se sigue por continuidad que si δ ≥ δ∗, debe existir algún γ tal que br(δ, γ) = γ. Este es el equilibrio de Nash deseado. Este argumento también nos muestra que no podemos esperar en general que los puntos fijos sean únicos. Si br(δ, k∗ ) = k∗ y br(δ, k + 1) > k + 1 entonces nuestro argumento muestra que debe haber un segundo punto fijo. En general, puede haber múltiples puntos fijos incluso cuando br(δ, k∗ ) > k∗ , como se ilustra en la Figura 4 con n = 1000 y M = 3000. 0 5 10 15 20 25 Estrategia del Resto de Agentes 0 5 10 15 20 25 Mejor Respuesta Figura 4: La función de mejor respuesta para n = 1000 y M = 3000. El Teorema 4.2 nos permite restringir nuestro diseño a agentes que utilizan estrategias de umbral con la confianza de que habrá un equilibrio no trivial. Sin embargo, esto no descarta la posibilidad de que pueda haber otros equilibrios que no involucren estrategias de umbral. Es incluso posible (aunque parece improbable) que algunos de estos equilibrios puedan ser mejores. 5. BIENESTAR SOCIAL Y ESCALABILIDAD Nuestros teoremas muestran que para cada valor de M y n, para un δ suficientemente grande, existe un equilibrio de Nash no trivial donde todos los agentes utilizan alguna estrategia de umbral Sγ(M,n). Desde el punto de vista del diseñador del sistema, no todos los equilibrios son igualmente buenos; queremos un equilibrio en el que el menor número posible de agentes tengan $0 cuando tengan la oportunidad de hacer una solicitud (para que puedan pagar la solicitud) y relativamente pocos agentes tengan más del monto umbral de dinero (para que siempre haya suficientes agentes para cumplir con la solicitud). Existe una tensión entre estos objetivos. No es difícil demostrar que a medida que la fracción de agentes con $0 aumenta en la distribución de entropía máxima, la fracción de agentes con la cantidad máxima de dinero disminuye. Por lo tanto, nuestro objetivo es entender cuál debería ser la cantidad óptima de dinero en el sistema, dada la cantidad de agentes. Es decir, queremos conocer la cantidad de dinero M que maximiza la eficiencia, es decir, la utilidad total esperada si todos los agentes utilizan Sγ(M,n). Primero observamos que el equilibrio más eficiente depende solo de la proporción de M a n, no de los valores reales de M y n. Teorema 5.1. Existe un n∗ tal que para todos los juegos G(n1, δ) y G(n2, δ) donde n1, n2 > n∗, si M1/n1 = M2/n2, entonces Sγ(M1,n1) = Sγ(M2,n2). Prueba. El teorema 3.1 muestra que la distribución de máxima entropía depende solo de k y la razón M/n, no de M y n por separado. Por lo tanto, dado r, para cada elección de k, hay una distribución única de entropía máxima dk,r. La mejor respuesta br(δ, k) depende solo de la distribución dk,r, no de M o n. Por lo tanto, el equilibrio de Nash depende solo de la proporción r. Es decir, para todas las elecciones de M y n tales que n es suficientemente grande (para que se aplique el Teorema 3.1) y M/n = r, las estrategias de equilibrio son las mismas. A la luz del Teorema 5.1, el diseñador del sistema debe asegurarse de que haya suficiente dinero M en el sistema para que la proporción entre M/n sea óptima. Actualmente estamos explorando exactamente cuál es la proporción óptima. Como muestran nuestros resultados muy preliminares para β = 1 en la Figura 5, la proporción parece aumentar de forma monótona en δ, lo cual coincide con la intuición de que deberíamos brindar a los agentes más pacientes la oportunidad de ahorrar más dinero. Además, parece ser relativamente suave, lo que sugiere que puede tener una solución analítica agradable. 0.9 0.91 0.92 0.93 0.94 0.95 Tasa de descuento ∆ 5 5.5 6 6.5 7 Proporción óptima de Mn Figura 5: Cantidad promedio óptima de dinero al número más cercano .25 para β = 1 Se destaca que, en la práctica, puede ser más fácil para el diseñador variar el precio de cumplir una solicitud en lugar de 4 Si hay múltiples equilibrios, tomamos Sγ(M,n) como el equilibrio de Nash que tiene la mayor eficiencia para M y n fijos. 146 inyectar dinero en el sistema. Esto produce el mismo efecto. Por ejemplo, cambiar el costo de cumplir una solicitud de $1 a $2 es equivalente a reducir a la mitad la cantidad de dinero que tiene cada agente. De manera similar, reducir a la mitad el costo de cumplir una solicitud es equivalente a duplicar la cantidad de dinero que todos tienen. Con una cantidad fija de dinero M, existe un producto óptimo nc del número de agentes y el costo c de cumplir una solicitud. El Teorema 5.1 también nos dice cómo manejar un grupo dinámico de agentes. Nuestro sistema puede manejar a los recién llegados relativamente fácilmente: simplemente permítales unirse sin dinero. Esto no brinda ningún incentivo a los agentes existentes para salir y volver a unirse como recién llegados. Luego cambiamos el precio de cumplir una solicitud para que se mantenga la proporción óptima. Este método tiene la característica interesante de que puede implementarse de forma distribuida; si todos los nodos en el sistema tienen una buena estimación de n, entonces todos pueden ajustar los precios automáticamente. (Alternativamente, el número de agentes en el sistema puede ser publicado en un lugar público). Los enfoques que dependen de ajustar la cantidad de dinero pueden requerir costosos cálculos a nivel de sistema (ver [26] para un ejemplo) y deben ser cuidadosamente ajustados para evitar crear incentivos para que los agentes manipulen el sistema mediante el cual se realiza esto. Ten en cuenta que, en principio, la realización de que el costo de cumplir una solicitud puede cambiar puede afectar la estrategia de un agente. Por ejemplo, si un agente espera que el costo aumente, entonces puede querer posponer ofrecerse como voluntario para cumplir con una solicitud. Sin embargo, si el número de agentes en el sistema siempre está aumentando, entonces el costo siempre disminuye, por lo que nunca hay ninguna ventaja en esperar. Puede haber una ventaja en retrasar una solicitud, pero es mucho más costoso en términos de costos de espera que en proporcionar el servicio, ya que asumimos que la necesidad de un servicio a menudo está sujeta a costos reales de espera, mientras que la necesidad de suministrar el servicio es simplemente aumentar el suministro de dinero. (Se discuten temas relacionados en [10].) Finalmente, esperamos modificar el mecanismo para que el precio de un trabajo pueda establecerse de forma endógena dentro del sistema (como en las economías del mundo real), con agentes pujando por trabajos en lugar de que exista un costo fijo establecido externamente. Sin embargo, aún no hemos explorado los cambios necesarios para implementar este cambio. Por lo tanto, por ahora, asumimos que el costo se establece como una función del número de agentes en el sistema (y que no hay posibilidad de que los agentes satisfagan una solicitud por menos del costo oficial o de que los solicitantes ofrezcan pagar más). 6. SIBILAS Y COLUSIÓN En un sentido ingenuo, nuestro sistema es esencialmente a prueba de sibilas. Para obtener d dólares, sus sibilas juntas todavía tienen que realizar d unidades de trabajo. Además, dado que los recién llegados ingresan al sistema con $0, no hay beneficio en crear nuevos agentes simplemente para aprovechar un dotación inicial. Sin embargo, existen algunas formas menos directas en las que un agente podría aprovecharse de los sybils. Primero, al tener más identidades, tendrá una mayor probabilidad de ser elegido para hacer una solicitud. Es fácil ver que esto llevará a que el agente tenga una mayor utilidad total. Sin embargo, esto es solo un artefacto de nuestro modelo. Para simplificar el análisis de nuestro sistema, hemos asumido que las oportunidades de solicitud llegaron de manera uniforme al azar. En la práctica, se hacen peticiones para satisfacer un deseo. Nuestro modelo asumió implícitamente que todos los agentes tienen la misma probabilidad de tener un deseo en un momento particular. Tener sibilas no debería aumentar la necesidad de que se satisfaga una solicitud. De hecho, sería razonable asumir que las sibilas no hacen solicitudes en absoluto. En segundo lugar, tener sibilas hace más probable que una de las sibilas sea elegida para cumplir una petición. Esto puede permitir a un usuario aumentar su utilidad al establecer un umbral más bajo; es decir, al usar una estrategia Sk donde k es menor que el k utilizado por la estrategia de equilibrio de Nash. Intuitivamente, la necesidad de dinero no es tan crítica si el dinero es más fácil de obtener. A diferencia de la primera preocupación, esto parece ser un problema real. Parece razonable creer que cuando las personas toman una decisión entre varios nodos para satisfacer una solicitud lo hacen de forma aleatoria, al menos en cierta medida. Aunque busquen las características de los nodos anunciadas para ayudar a tomar esta decisión, los sybils permitirían a un usuario anunciar una amplia gama de características. Tercero, un agente puede reducir el costo de cumplir una solicitud al introducir muchos síbiles. Del mismo modo, podría aumentar el costo (y por ende el valor de su dinero) al hacer que un número de sibilas salgan del sistema. Concebiblemente podría alternar entre estas técnicas para magnificar los efectos del trabajo que realiza. Todavía no hemos calculado el efecto exacto de este cambio (interactúa con los otros dos efectos de tener sibilas que ya hemos notado). Dado el número de síbiles que serían necesarios para causar un cambio real en el tamaño percibido de una gran red P2P, la viabilidad de este ataque depende en gran medida de cuánto cuestan los síbiles a un atacante y qué recursos tiene disponibles. El segundo punto planteado sobre las sibilas también se aplica a la colusión si permitimos que se preste dinero. Si k agentes coluden, pueden acordar que, si uno se queda sin dinero, otro en el grupo le prestará dinero. Al juntar su dinero de esta manera, los agentes k pueden volver a mejorar al establecer un umbral más alto. Ten en cuenta que el mecanismo de préstamo no necesita estar integrado en el sistema; los agentes pueden simplemente utilizar una transacción falsa para transferir el dinero. Estos parecen ser los principales métodos para ataques colusivos, pero aún estamos explorando este tema. 7. CONCLUSIÓN Hemos realizado un análisis formal de un sistema de escritura y hemos demostrado que existe un equilibrio de Nash donde todos los agentes utilizan una estrategia de umbral. Además, podemos calcular la eficiencia de la estrategia de equilibrio y optimizar el precio (o la oferta monetaria) para maximizar la eficiencia. Por lo tanto, nuestro análisis proporciona un mecanismo formal para resolver algunos problemas importantes en la implementación de sistemas de guiones. Nos dice que con una población fija de usuarios racionales, es muy poco probable que dichos sistemas se vuelvan inestables. Por lo tanto, si esta estabilidad es una creencia común entre los agentes, no esperaríamos inflación, burbujas ni colapsos debido a la especulación de los agentes. Sin embargo, no podemos descartar la posibilidad de que esos agentes tengan otras creencias que los lleven a especular. Nuestro análisis también nos indica cómo escalar el sistema para manejar una afluencia de nuevos usuarios sin introducir estos problemas: escalar la oferta monetaria para mantener constante la cantidad promedio de dinero (o ajustar los precios de manera equivalente para lograr el mismo objetivo). Hay una serie de problemas teóricos que aún están abiertos, incluida una caracterización de la multiplicidad de equilibrios, ¿suelen ser 2? Además, esperamos que uno pueda calcular estimaciones analíticas para la función de mejor respuesta y la fijación de precios óptima, lo que nos permitiría comprender la relación entre los precios y varios parámetros en el modelo. También sería de gran interés ampliar nuestro análisis para abordar configuraciones más realistas. Mencionamos algunas posibles extensiones aquí: • Hemos asumido que el mundo es homogéneo en varios aspectos, incluyendo la frecuencia de las solicitudes, la utilidad y la capacidad para satisfacer las solicitudes. Sería interesante examinar cómo relajar cualquiera de estas suposiciones alteraría nuestros resultados. • Hemos asumido que no hay costo para un agente al ser miembro del sistema. Supongamos en cambio que imponemos un pequeño costo simplemente por estar presente en el sistema para reflejar los costos de enrutamiento de mensajes y mantenimiento de la superposición. Esta modificación podría tener un impacto significativo en los ataques de Sybil. • Hemos descrito un sistema de escritura que funciona cuando no hay altruistas y hemos demostrado que ningún sistema puede funcionar una vez que hay suficientes altruistas. ¿Qué sucede entre estos extremos? • Un tipo de comportamiento irracional que se encuentra en los sistemas de cupones es el acaparamiento. Hay algunas similitudes entre el acaparamiento y el comportamiento altruista. Mientras que un altruista brinda servicio para todos, un acumulador se ofrecerá como voluntario para todos los trabajos (con el fin de obtener más dinero) y rara vez solicitará servicio (para no gastar dinero). Sería interesante investigar en qué medida nuestro sistema es robusto contra los acaparadores. Claramente, con demasiados acumuladores, puede que no quede suficiente dinero entre los no acumuladores para garantizar que, típicamente, un no acumulador tenga suficiente dinero para satisfacer una solicitud. • Finalmente, en los sistemas de intercambio de archivos P2P, existen comunidades superpuestas de varios tamaños que tienen significativamente más probabilidades de poder satisfacer las solicitudes de los demás. Sería interesante investigar el efecto de tales comunidades en el equilibrio de nuestro sistema. También hay una serie de problemas de implementación que tendrían que resolverse en un sistema real. Por ejemplo, debemos preocuparnos por la posibilidad de que los agentes falsifiquen dinero o mientan sobre si el servicio fue realmente proporcionado. Karma [26] proporciona técnicas para lidiar con ambos problemas y varios más, pero algunas decisiones de implementación de Karma señalan problemas para nuestro modelo. Por ejemplo, resulta prohibitivamente caro asegurar que los saldos de las cuentas bancarias nunca puedan ser negativos, un hecho que nuestro modelo no captura. Otro ejemplo es que Karma tiene nodos que actúan como contables de los saldos de cuentas de otros nodos. Al igual que mantener una presencia en la red, esto impone un costo al nodo, pero a diferencia de eso, la responsabilidad puede ser fácilmente eludida. Karma sugiere varias formas de incentivar a los nodos para que realicen estas tareas. No hemos investigado si estos mecanismos pueden ser incorporados sin perturbar nuestro equilibrio. 8. AGRADECIMIENTOS Nos gustaría agradecer a Emin Gun Sirer, Shane Henderson, Jon Kleinberg y 3 árbitros anónimos por sus sugerencias útiles. EF, IK y JH cuentan con el apoyo parcial de la NSF bajo la subvención ITR-0325453. JH también cuenta con el apoyo parcial de la NSF bajo los subsidios CTC-0208535 e IIS-0534064, de la ONR bajo el subsidio N00014-01-10-511, del Programa de Iniciativa de Investigación Universitaria Multidisciplinaria (MURI) del DoD administrado por la ONR bajo los subsidios N00014-01-1-0795 y N00014-04-1-0725, y de la AFOSR bajo el subsidio F49620-021-0101. 9. REFERENCIAS [1] E. Adar y B. A. Huberman. Viajando gratis en Gnutella. Primer lunes, 5(10), 2000. [2] K. G. Anagnostakis y M. Greenwald. Mecanismos de incentivos basados en intercambio para compartir archivos entre pares. En la Conferencia Internacional sobre Sistemas de Computación Distribuida (ICDCS), páginas 524-533, 2004. [3] BitTorrent Inc. Sitio web de BitTorrent. http://www.bittorent.com. [4] A. Cheng y E. Friedman. Mecanismos de reputación a prueba de Sybil. En Taller sobre Economía de Sistemas Peer-to-Peer (P2PECON), páginas 128-132, 2005. [5] Tecnologías de la Información de Cornell. Estadísticas de uso de Internet de la Universidad de Cornell. http://www.cit.cornell.edu/computer/students/bandwidth/charts.html. [6] J. R. Douceur. El ataque de la sibila. En el Taller Internacional de Sistemas Peer-to-Peer (IPTPS), páginas 251-260, 2002. [7] G. Ellison. Cooperación en el dilema del prisionero con emparejamiento aleatorio anónimo. Revisión de Estudios Económicos, 61:567-588, 1994. [8] Proyecto <br>eMule</br>. Sitio web de <br>eMule</br>. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica y J. Chuang. Técnicas de incentivos sólidas para redes peer-to-peer. En la Conferencia ACM sobre Comercio Electrónico (EC), páginas 102-111, 2004. [10] E. J. Friedman y D. C. Parkes. Establecimiento de precios del wifi en Starbucks: problemas en el diseño de mecanismos en línea. En EC 03: Actas de la 4ta Conferencia de la ACM sobre Comercio Electrónico, páginas 240-241. ACM Press, 2003. [11] E. J. Friedman y P. Resnick. El costo social de los seudónimos baratos. Revista de Economía y Estrategia de Gestión, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan y A. Tomkins. Propagación de la confianza y la desconfianza. En la Conferencia sobre la World Wide Web (WWW), páginas 403-412, 2004. [13] M. Gupta, P. Judge y M. H. Ammar. Un sistema de reputación para redes peer-to-peer. En Network and Operating System Support for Digital Audio and Video (NOSSDAV), páginas 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina y J. Pedersen. Detección de spam de enlaces basada en estimación de masa. Informe técnico, Universidad de Stanford, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis y V. Prevelakis. Fileteller: Pagar y recibir pago por almacenamiento de archivos. En Criptografía Financiera, páginas 282-299, 2002. [16] E. T. Jaynes. ¿En qué punto nos encontramos con respecto a la entropía máxima? En R. D. Levine y M. Tribus, editores, El Formalismo de la Entropía Máxima, páginas 15-118. MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, y H. Garcia-Molina. El algoritmo Eigentrust para la gestión de reputación en redes P2P. En la Conferencia sobre la World Wide Web (WWW), páginas 640-651, 2003. [18] M. Kandori. Normas sociales y aplicación comunitaria. Revisión de Estudios Económicos, 59:63-80, 1992. [19] Corporación LogiSense. Sitio web de LogiSense. http://www.logisense.com/tm p2p.html. [20] L. Lovasz y P. Winkler. Mezcla de caminatas aleatorias y otras difusiones en un grafo. En Encuestas en Combinatoria, 1993, Walker (Ed.), Serie de Notas de Conferencias de la London Mathematical Society 187, Cambridge University Press. 1995. [21] Grupo de Tecnología de Código Abierto. Preguntas frecuentes sobre comentarios y moderación en Slashdot. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC. Sitio web de Gnutella. http://www.gnutella.com/. [23] M. L. Puterman. Procesos de Decisión de Markov. Wiley, 1994. [24] SETI@home. \n\nWiley, 1994. [24] SETI@home. Página web de SETI@home. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Sitio web de Kazaa. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar y E. Sirer. Karma: Un marco económico seguro para el intercambio de recursos entre pares. En Taller sobre Economía de Sistemas Peer-to-Peer (P2PECON), 2003. [27] L. Xiong y L. Liu. Construyendo confianza en comunidades electrónicas descentralizadas de pares a pares. En la Conferencia Internacional de Investigación en Comercio Electrónico (ICECR) de 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason y B. V. Roy. Haciendo que los sistemas de reputación basados en vectores propios sean robustos ante la colusión. En Taller sobre Algoritmos y Modelos para el Grafo Web (WAW), páginas 92-104, 2004. 149 ",
            "candidates": [],
            "error": [
                [
                    "sistema de créditos",
                    "eMule",
                    "eMule"
                ]
            ]
        },
        "agent": {
            "translated_key": "agente",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed.",
                "It is shown that by adding a scrip system, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
                "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
                "Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "However, the cost of providing service can still be nontrivial.",
                "For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
                "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
                "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
                "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
                "These heavy users are some of the most expensive customers ISPs have.",
                "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
                "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
                "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems.",
                "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
                "Some of the P2P networks currently in use have implemented versions of these techniques.",
                "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
                "By barter-like, we mean that each <br>agent</br> bases its decisions only on information it has derived from its own interactions.",
                "Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8].",
                "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
                "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
                "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
                "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
                "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
                "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
                "Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it.",
                "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
                "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
                "However, to avoid penalizing new users, they gave new users an average rating.",
                "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
                "Thus Kazaas reputation system is ineffective.",
                "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
                "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
                "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
                "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
                "However, they have a different set of problems.",
                "Perhaps the most common involve determining the amount of money in the system.",
                "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
                "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
                "A related problem involves handling newcomers.",
                "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
                "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
                "In this paper, we provide a formal model in which to analyze scrip systems.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an <br>agent</br> accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents.",
                "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
                "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
                "In systems where the goal is to do work, new users can acquire money by performing work.",
                "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
                "The rest of the paper is organized as follows.",
                "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
                "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same threshold strategy.",
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some threshold strategy.",
                "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
                "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
                "We conclude in Section 7. 2.",
                "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative game.",
                "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
                "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
                "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
                "This random-matching model fails to capture some salient aspects of a number of important settings.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can.",
                "For example, some people may not have the time or resources to satisfy the request.",
                "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
                "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
                "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
                "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
                "Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made.",
                "For example, it is not clear what defection on the part of the requester means.",
                "In our model we try to deal with all these issues.",
                "Suppose that there are n agents.",
                "At each round, an <br>agent</br> is picked uniformly at random to make a request.",
                "Each other <br>agent</br> is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an <br>agent</br> is busy, or does not have the resources to fulfill the request.",
                "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
                "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
                "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
                "If at least one <br>agent</br> volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
                "The <br>agent</br> that fulfills the request pays a cost of α < 1.",
                "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
                "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an <br>agent</br> in an infinite game.",
                "Lastly, we assume that with more players requests come more often.",
                "Thus we assume that the time between rounds is 1/n.",
                "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
                "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
                "We use the following notation throughout the paper: • pt denotes the <br>agent</br> chosen in round t. • Bt i ∈ {0, 1} denotes whether <br>agent</br> i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
                "V t i is determined by <br>agent</br> is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the <br>agent</br> chosen to satisfy the request.",
                "This <br>agent</br> is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes <br>agent</br> is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
                "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
                "Thus, if i is a standard <br>agent</br>, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for <br>agent</br> i.",
                "It is the discounted total of <br>agent</br> is utility in each round.",
                "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
                "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
                "Take an altruist to be someone who always fulfills requests.",
                "<br>agent</br> i might rationally behave altruistically if <br>agent</br> is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
                "Thus, rather than suffering a loss of utility when satisfying a request, an <br>agent</br> derives positive utility from satisfying it.",
                "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
                "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
                "While having a nonstandard utility function might be one reason that a rational <br>agent</br> might use this strategy, there are certainly others.",
                "For example a naive user of filesharing software with a good connection might well follow this strategy.",
                "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
                "As we have observed, such users seem to exist in some large systems.",
                "Suppose that our system has a altruists.",
                "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
                "Thus, there is little incentive for any other <br>agent</br> to volunteer, because he is already getting full advantage of participating in the system.",
                "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
                "Proposition 2.1.",
                "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
                "Proof.",
                "Consider the strategy for a standard player j in the presence of a altruists.",
                "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
                "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
                "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
                "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
                "Then we only need a > 1145.",
                "While this is a large number, it is small relative to the size of a large P2P network.",
                "Current systems all have a pool of users behaving like our altruists.",
                "This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
                "In some sense, this is not a problem at all.",
                "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
                "Indeed, current P2P network work quite well in terms of distributing content to people.",
                "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
                "Thus, it is worth looking at what can be done to make these systems work in their absence.",
                "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
                "We are interested in equilibria based on a scrip system.",
                "Each time an <br>agent</br> has a request satisfied he must pay the person who satisfied it some amount.",
                "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
                "We denote by M the total amount of money in the system.",
                "We assume that M > 0 (otherwise no one will ever be able to get paid).",
                "In principle, agents are free to adopt a very wide variety of strategies.",
                "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
                "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
                "The class of strategies we are interested in is easy to motivate.",
                "The intuitive reason for wanting to earn money is to cater for the possibility that an <br>agent</br> will run out before he has a chance to earn more.",
                "On the other hand, a rational <br>agent</br> with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
                "The natural balance between these two is a threshold strategy.",
                "Let Sk be the strategy where an <br>agent</br> volunteers whenever he has less than k dollars and not otherwise.",
                "Note that S0 is the strategy where the <br>agent</br> never volunteers.",
                "While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
                "We use Kt i to denote the amount of money <br>agent</br> i has at time t. Clearly Kt+1 i = Kt i unless <br>agent</br> i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
                "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
                "The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
                "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
                "Suppose that everyone plays Sk.",
                "For simplicity, assume that everyone has at most k dollars.",
                "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
                "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
                "If M ≥ kn, no <br>agent</br> will ever be willing to work.",
                "Thus, for the purposes of this section we assume that M < kn.",
                "From the perspective of a single <br>agent</br>, in (stochastic) equilibrium, the <br>agent</br> is undergoing a random walk.",
                "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
                "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
                "If everyone has at most k dollars, then the amount of money that an <br>agent</br> has is an element of {0, . . . , k}.",
                "If there are n agents, then the state of the game can be described by identifying how much money each <br>agent</br> has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
                "Since the total amount of money is constant, not all of these states can arise in the game.",
                "For example the state where each player has $0 is impossible to reach in any game with money in the system.",
                "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that <br>agent</br> i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
                "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
                "It is possible to move from one state to another in a single round if by choosing a particular <br>agent</br> to make a request and a particular <br>agent</br> to satisfy it, the amounts of money possesed by each agent become those in the second state.",
                "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
                "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
                "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
                "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
                "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
                "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
                "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
                "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
                "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
                "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
                "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
                "We can in fact completely characterize the distribution d∗ .",
                "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
                "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
                "The statement is correct under a number of senses of close.",
                "For definiteness, we consider the Euclidean distance.",
                "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
                "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
                "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
                "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
                "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16].",
                "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
                "This fraction clearly goes to 0 as n gets large.",
                "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
                "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
                "Let Pij denote the probability of transitioning from state i to state j.",
                "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
                "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each <br>agent</br> to have $2 starting from a very extreme distribution (every <br>agent</br> has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution.",
                "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
                "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
                "We then considered how close the distribution stays to the maximum entropy distribution once it has reached it.",
                "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
                "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
                "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
                "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
                "We believe that the actually time needed is O(n).",
                "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)",
                "This is not true in general.",
                "If δ is small, then agents have no incentive to work.",
                "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
                "With small δ, S0 is the only equilibrium.",
                "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
                "We do this by first showing that, if every other <br>agent</br> is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one).",
                "We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy.",
                "It follows that this tuple of threshold strategies is a Nash equilibrium.",
                "As a first step, we show that, for all k, if everyone other than <br>agent</br> i is playing Sk, then there is a threshold strategy Sk that is a best response for <br>agent</br> i.",
                "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
                "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
                "For a later proof, it will be helpful to have a continuous set of strategies.",
                "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
                "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
                "Theorem 4.1.",
                "Fix a strategy Sγ and an <br>agent</br> i.",
                "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every <br>agent</br> other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for <br>agent</br> i is Sk .",
                "Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for <br>agent</br> i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
                "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
                "If n is sufficiently large, then the strategy played by one <br>agent</br> will not affect the distribution of money significantly.",
                "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
                "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
                "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
                "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
                "We remark that there may be best responses that are not threshold strategies.",
                "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy.",
                "Since we know that there is a best response that is a threshold strategy, we can look for a Nash equilibrium in the space of threshold strategies.",
                "Theorem 4.2.",
                "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the game G(n, δ) where all agents play Sγ for some integer γ > 0.",
                "Proof.",
                "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
                "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
                "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
                "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
                "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same threshold strategy.",
                "As we have already observed, one such equilibrium occurs at 0.",
                "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
                "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the <br>agent</br> always volunteers in response to request made by someone who can pay.",
                "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
                "Consider k∗ , the smallest k such that k > M/n.",
                "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
                "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
                "This is the desired Nash equilibrium.",
                "This argument also shows us that we cannot in general expect fixed points to be unique.",
                "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
                "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
                "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
                "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
                "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
                "SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n).",
                "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
                "There is a tension between these objectives.",
                "It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases.",
                "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
                "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
                "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
                "Proof.",
                "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
                "Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r.",
                "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
                "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
                "We are currently exploring exactly what the optimal ratio is.",
                "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
                "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system.",
                "This produces the same effect.",
                "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each <br>agent</br> has.",
                "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
                "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
                "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
                "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
                "This gives existing agents no incentive to leave and rejoin as newcomers.",
                "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
                "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
                "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
                "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
                "For example, if an <br>agent</br> expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
                "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
                "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
                "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
                "However, we have not yet explored the changes required to implement this change.",
                "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
                "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
                "To get d dollars, his sybils together still have to perform d units of work.",
                "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
                "Nevertheless, there are some less direct ways that an <br>agent</br> could take advantage of sybils.",
                "First, by having more identities he will have a greater probability of getting chosen to make a request.",
                "It is easy to see that this will lead to the <br>agent</br> having higher total utility.",
                "However, this is just an artifact of our model.",
                "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
                "In practice, requests are made to satisfy a desire.",
                "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
                "Having sybils should not increase the need to have a request satisfied.",
                "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
                "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
                "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy.",
                "Intuitively, the need for money is not as critical if money is easier to obtain.",
                "Unlike the first concern, this seems like a real issue.",
                "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
                "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
                "Third, an <br>agent</br> can drive down the cost of fulfilling a request by introducing many sybils.",
                "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
                "Concievably he could alternate between these techniques to magnify the effects of work he does.",
                "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
                "Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
                "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
                "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
                "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
                "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
                "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
                "CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy.",
                "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
                "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
                "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
                "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of <br>agent</br> speculation.",
                "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
                "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
                "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
                "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
                "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
                "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an <br>agent</br> to be a member of the system.",
                "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
                "This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
                "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
                "There are some similarities between hoarding and altruistic behavior.",
                "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
                "It would be interesting to investigate the extent to which our system is robust against hoarders.",
                "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
                "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
                "There are also a number of implementation issues that would have to be resolved in a real system.",
                "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
                "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
                "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
                "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
                "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
                "Karma suggests several ways to incentivize nodes to perform these duties.",
                "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
                "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
                "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
                "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
                "REFERENCES [1] E. Adar and B.",
                "A. Huberman.",
                "Free riding on Gnutella.",
                "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
                "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
                "Sybilproof reputation mechanisms.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
                "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
                "The sybil attack.",
                "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
                "Cooperation in the prisoners dilemma with anonymous random matching.",
                "Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
                "Robust incentive techniques for peer-to-peer networks.",
                "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
                "Pricing wifi at starbucks: issues in online mechanism design.",
                "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
                "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
                "The social cost of cheap pseudonyms.",
                "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
                "Propagation of trust and distrust.",
                "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
                "A reputation system for peer-to-peer networks.",
                "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
                "Link spam detection based on mass estimation.",
                "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
                "Fileteller: Paying and getting paid for file storage.",
                "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
                "Where do we stand on maximum entropy?",
                "In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118.",
                "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
                "The Eigentrust algorithm for reputation management in P2P networks.",
                "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
                "Social norms and community enforcement.",
                "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
                "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
                "Mixing of random walks and other diffusions on a graph.",
                "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
                "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
                "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
                "Markov Decision Processes.",
                "Wiley, 1994. [24] SETI@home.",
                "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
                "Karma: A secure economic framework for peer-to-peer resource sharing.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
                "Building trust in decentralized peer-to-peer electronic communities.",
                "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
                "Making eigenvector-based reputation systems robust to collusion.",
                "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
            ],
            "original_annotated_samples": [
                "By barter-like, we mean that each <br>agent</br> bases its decisions only on information it has derived from its own interactions.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an <br>agent</br> accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "At each round, an <br>agent</br> is picked uniformly at random to make a request.",
                "Each other <br>agent</br> is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an <br>agent</br> is busy, or does not have the resources to fulfill the request."
            ],
            "translated_annotated_samples": [
                "Por \"tipo trueque\", nos referimos a que cada <br>agente</br> basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones.",
                "Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un <br>agente</br> acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero).",
                "En cada ronda, se elige de forma aleatoria y uniforme a un <br>agente</br> para hacer una solicitud.",
                "Cada otro <br>agente</br> puede satisfacer esta solicitud con una probabilidad β > 0 en todo momento, independientemente del comportamiento previo.",
                "El término β tiene la intención de capturar la probabilidad de que un <br>agente</br> esté ocupado o no tenga los recursos para cumplir con la solicitud."
            ],
            "translated_text": "Eficiencia y equilibrios de Nash en un sistema de vales para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación. Universidad Cornell halpern@cs.cornell.edu Ian Kash Departamento de Ciencias de la Computación. La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una red P2P. Se demuestra que al agregar un sistema de script, se puede obtener un mecanismo que admita un equilibrio de Nash razonable que reduzca el comportamiento de aprovechamiento gratuito. El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el bienestar social) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia. El trabajo tiene implicaciones para muchos sistemas en línea, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; I.2.11 [Inteligencia Artificial]: Inteligencia Artificial Distribuida-Sistemas Multiagente; J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Computadoras y Sociedad]: Comercio Electrónico Términos Generales Economía, Teoría 1. INTRODUCCIÓN Una característica común de muchos sistemas distribuidos en línea es que los individuos proporcionan servicios entre sí. Las redes peer-to-peer (P2P) (como Kazaa [25] o BitTorrent [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás. El hecho de que las personas se presten servicios entre sí generalmente aumenta el bienestar social: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona. Sin embargo, el costo de brindar el servicio aún puede ser significativo. Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo. Por lo tanto, en muchos sistemas existe un fuerte incentivo para convertirse en un \"pasajero gratis\" y beneficiarse del sistema sin contribuir a él. Este no es simplemente un problema teórico; estudios de la red Gnutella [22] han demostrado que casi el 70 por ciento de los usuarios no comparten archivos y casi el 50 por ciento de las respuestas provienen del 1 por ciento superior de los anfitriones que comparten [1]. Tener relativamente pocos usuarios que proporcionen la mayor parte del servicio crea un punto de centralización; la desaparición de un pequeño porcentaje de usuarios puede afectar enormemente la funcionalidad del sistema. Además, las tendencias actuales parecen estar llevando a la eliminación de los usuarios altruistas en los que estos sistemas confían. Estos usuarios intensivos son algunos de los clientes más costosos que tienen los proveedores de servicios de Internet. Por lo tanto, a medida que la cantidad de tráfico ha aumentado, los proveedores de servicios de Internet han comenzado a buscar formas de reducir este tráfico. Algunas universidades han comenzado a cobrar a los estudiantes por el uso excesivo de ancho de banda; otras revocan el acceso a la red por ello [5]. Un número de empresas también se han formado cuyo servicio es detectar el uso excesivo de ancho de banda [19]. Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros sistemas en línea distribuidos. Se ha invertido una cantidad significativa de investigación en el diseño de sistemas de reputación para dar tratamiento preferencial a los usuarios que comparten archivos. Algunas de las redes P2P actualmente en uso han implementado versiones de estas técnicas. Sin embargo, estos enfoques tienden a caer en una de dos categorías: o son similares al trueque o se basan en la reputación. Por \"tipo trueque\", nos referimos a que cada <br>agente</br> basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones. Quizás el ejemplo más conocido de un sistema similar al trueque es BitTorrent, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual. Dado que el trueque está restringido a usuarios actualmente interesados en un solo archivo, esto funciona bien para archivos populares, pero tiende a tener problemas para mantener la disponibilidad de los menos populares. Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el sistema de créditos utilizado por eMule 140 [8]. Cada usuario realiza un seguimiento de su historial de interacciones con otros usuarios y da prioridad a aquellos de los que ha descargado previamente. Sin embargo, en un sistema grande, la probabilidad de que un par de usuarios elegidos al azar hayan interactuado antes es bastante baja, por lo que este historial de interacciones no será de gran ayuda. Anagnostakis y Greenwald [2] presentan una versión más sofisticada de este enfoque, pero aún parece sufrir de problemas similares. Se han realizado varios intentos de proporcionar sistemas de reputación generales (por ejemplo, [12, 13, 17, 27]). La idea básica es agregar la experiencia de cada usuario en un número global para cada individuo que represente de manera intuitiva la visión del sistema sobre la reputación de ese individuo. Sin embargo, estos intentos tienden a sufrir problemas prácticos porque implícitamente consideran a los usuarios como buenos o malos, asumen que los buenos usuarios actuarán de acuerdo con el protocolo especificado, y que hay relativamente pocos usuarios malos. Desafortunadamente, si existen formas fáciles de manipular el sistema, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen. No podemos depender solo de unos pocos usuarios siendo malos (en el sentido de no seguir el protocolo prescrito). Por ejemplo, Kazaa utiliza una medida de la proporción entre el número de cargas y el número de descargas para identificar usuarios buenos y malos. Sin embargo, para evitar penalizar a los nuevos usuarios, les dieron a los nuevos usuarios una calificación promedio. Los usuarios descubrieron que podían aprovechar esta calificación relativamente buena para viajar gratis por un tiempo y, una vez que comenzaba a empeorar, podían eliminar su información almacenada y regresar efectivamente como un nuevo usuario, evitando así el sistema (ver [2] para una discusión y [11] para un análisis formal de este lavado de imagen). Por lo tanto, el sistema de reputación de Kazaas es ineficaz. Este es un caso simple de una vulnerabilidad más general de tales sistemas a los ataques de sybil [6], donde un solo usuario mantiene múltiples identidades y las utiliza de manera coordinada para obtener un mejor servicio del que obtendría de otra manera. Trabajos recientes han demostrado que la mayoría de los sistemas de reputación comunes son vulnerables (en el peor de los casos) a tales ataques [4]; sin embargo, el grado de esta vulnerabilidad aún no está claro. El análisis de las vulnerabilidades prácticas y la existencia de sistemas inmunes a tales ataques sigue siendo un área de investigación activa (por ejemplo, [4, 28, 14]). Los sistemas económicos simples basados en un vale o dinero parecen evitar muchos de estos problemas, son fáciles de implementar y son bastante populares (ver, por ejemplo, [13, 15, 26]). Sin embargo, tienen un conjunto diferente de problemas. Quizás los más comunes implican determinar la cantidad de dinero en el sistema. Hablando en términos generales, si hay muy poco dinero en el sistema en relación con el número de agentes, entonces relativamente pocos usuarios pueden permitirse hacer solicitudes. Por otro lado, si hay demasiado dinero, entonces los usuarios no sentirán la necesidad de responder a una solicitud; ya tienen suficiente dinero. Un problema relacionado implica manejar a los recién llegados. Si a los recién llegados se les da una cantidad positiva de dinero, entonces el sistema está abierto a ataques de Sybil. Quizás no sorprendentemente, los sistemas de moneda fiduciaria terminan teniendo que lidiar con problemas económicos estándar como la inflación, las burbujas y las crisis [26]. En este artículo, proporcionamos un modelo formal en el cual analizar sistemas de escritura. Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un <br>agente</br> acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero). Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (bienestar social), dado el número de agentes. También conduce a una solución para el problema de tratar con los recién llegados: simplemente asumimos que los nuevos usuarios llegan sin dinero, y ajustamos el precio del servicio (lo cual es equivalente a ajustar la oferta de dinero) para mantener la proporción que maximiza la eficiencia. Si bien asumir que los nuevos usuarios no tienen dinero no funcionará en todos los contextos, creemos que este enfoque será ampliamente aplicable. En sistemas donde el objetivo es realizar trabajo, los nuevos usuarios pueden adquirir dinero realizando trabajo. También debería funcionar en el sistema Kazaalike donde un usuario puede ingresar con algunos recursos (por ejemplo, una colección privada de MP3). El resto del documento está organizado de la siguiente manera. En la Sección 2, presentamos nuestro modelo formal y observamos que se puede utilizar para comprender el efecto de los altruistas. En la Sección 3, examinamos qué sucede en el juego bajo un juego no estratégico, si todos los agentes utilizan la misma estrategia de umbral. Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la entropía máxima. Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el juego donde todos los agentes utilizan alguna estrategia de umbral. Además, mostramos en la Sección 5 que el análisis conduce a una comprensión de cómo elegir la cantidad de dinero en el sistema (o, de manera equivalente, el costo para cumplir una solicitud) para maximizar la eficiencia, y también muestra cómo manejar a los nuevos usuarios. En la Sección 6, discutimos en qué medida nuestro enfoque puede manejar sybils y colusión. Concluimos en la Sección 7.2. EL MODELO Para empezar, formalizamos la prestación de servicios en una red P2P como un juego no cooperativo. A diferencia de gran parte de la modelización en esta área, nuestro modelo modelará las interacciones asimétricas en un sistema de intercambio de archivos en el que el emparejamiento de jugadores (aquellos que solicitan un archivo con aquellos que tienen ese archivo en particular) es una parte clave del sistema. Esto contrasta con gran parte de trabajos anteriores que utilizan emparejamiento aleatorio en un dilema del prisionero. Tales modelos fueron estudiados en la literatura económica [18, 7] y aplicados por primera vez a reputaciones en línea en [11]; una aplicación a P2P se encuentra en [9]. Este modelo de emparejamiento aleatorio no logra capturar algunos aspectos relevantes de varios entornos importantes. Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una red P2P grande), pero no todas pueden hacerlo. Por ejemplo, algunas personas pueden no tener el tiempo o los recursos para satisfacer la solicitud. El proceso de emparejamiento aleatorio ignora el hecho de que algunas personas pueden no ser capaces de satisfacer la solicitud. Presumiblemente, si la persona emparejada con el solicitante no pudiera satisfacer el emparejamiento, tendría que desertar. Además, no captura el hecho de que la decisión de si voluntariarse para satisfacer la solicitud debe tomarse antes del proceso de emparejamiento, no después. Es decir, el proceso de emparejamiento no captura el hecho de que si alguien no está dispuesto a satisfacer la solicitud, sin duda habrá otros que puedan hacerlo. Aunque nos referimos a nuestra unidad de moneda como el dólar, estos no son dólares reales ni los consideramos convertibles en dólares. Finalmente, las acciones y recompensas en el juego del dilema del prisionero no corresponden claramente a las decisiones reales que se pueden tomar. Por ejemplo, no está claro qué significa la deserción por parte del solicitante. En nuestro modelo intentamos abordar todos estos problemas. Supongamos que hay n agentes. En cada ronda, se elige de forma aleatoria y uniforme a un <br>agente</br> para hacer una solicitud. Cada otro <br>agente</br> puede satisfacer esta solicitud con una probabilidad β > 0 en todo momento, independientemente del comportamiento previo. El término β tiene la intención de capturar la probabilidad de que un <br>agente</br> esté ocupado o no tenga los recursos para cumplir con la solicitud. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "social welfare": {
            "translated_key": "bienestar social",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed.",
                "It is shown that by adding a scrip system, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., <br>social welfare</br>) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
                "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
                "Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "Having individuals provide each other with service typically increases the <br>social welfare</br>: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "However, the cost of providing service can still be nontrivial.",
                "For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
                "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
                "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
                "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
                "These heavy users are some of the most expensive customers ISPs have.",
                "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
                "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
                "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems.",
                "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
                "Some of the P2P networks currently in use have implemented versions of these techniques.",
                "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
                "By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions.",
                "Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8].",
                "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
                "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
                "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
                "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
                "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
                "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
                "Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it.",
                "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
                "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
                "However, to avoid penalizing new users, they gave new users an average rating.",
                "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
                "Thus Kazaas reputation system is ineffective.",
                "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
                "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
                "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
                "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
                "However, they have a different set of problems.",
                "Perhaps the most common involve determining the amount of money in the system.",
                "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
                "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
                "A related problem involves handling newcomers.",
                "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
                "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
                "In this paper, we provide a formal model in which to analyze scrip systems.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "This allows us to compute the money supply that maximizes efficiency (<br>social welfare</br>), given the number of agents.",
                "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
                "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
                "In systems where the goal is to do work, new users can acquire money by performing work.",
                "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
                "The rest of the paper is organized as follows.",
                "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
                "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same threshold strategy.",
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some threshold strategy.",
                "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
                "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
                "We conclude in Section 7. 2.",
                "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative game.",
                "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
                "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
                "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
                "This random-matching model fails to capture some salient aspects of a number of important settings.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can.",
                "For example, some people may not have the time or resources to satisfy the request.",
                "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
                "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
                "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
                "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
                "Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made.",
                "For example, it is not clear what defection on the part of the requester means.",
                "In our model we try to deal with all these issues.",
                "Suppose that there are n agents.",
                "At each round, an agent is picked uniformly at random to make a request.",
                "Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request.",
                "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
                "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
                "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
                "If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
                "The agent that fulfills the request pays a cost of α < 1.",
                "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
                "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite game.",
                "Lastly, we assume that with more players requests come more often.",
                "Thus we assume that the time between rounds is 1/n.",
                "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
                "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
                "We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
                "V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request.",
                "This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
                "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
                "Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i.",
                "It is the discounted total of agent is utility in each round.",
                "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
                "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
                "Take an altruist to be someone who always fulfills requests.",
                "Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
                "Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it.",
                "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
                "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
                "While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others.",
                "For example a naive user of filesharing software with a good connection might well follow this strategy.",
                "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
                "As we have observed, such users seem to exist in some large systems.",
                "Suppose that our system has a altruists.",
                "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
                "Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system.",
                "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
                "Proposition 2.1.",
                "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
                "Proof.",
                "Consider the strategy for a standard player j in the presence of a altruists.",
                "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
                "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
                "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
                "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
                "Then we only need a > 1145.",
                "While this is a large number, it is small relative to the size of a large P2P network.",
                "Current systems all have a pool of users behaving like our altruists.",
                "This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
                "In some sense, this is not a problem at all.",
                "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
                "Indeed, current P2P network work quite well in terms of distributing content to people.",
                "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
                "Thus, it is worth looking at what can be done to make these systems work in their absence.",
                "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
                "We are interested in equilibria based on a scrip system.",
                "Each time an agent has a request satisfied he must pay the person who satisfied it some amount.",
                "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
                "We denote by M the total amount of money in the system.",
                "We assume that M > 0 (otherwise no one will ever be able to get paid).",
                "In principle, agents are free to adopt a very wide variety of strategies.",
                "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
                "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
                "The class of strategies we are interested in is easy to motivate.",
                "The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more.",
                "On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
                "The natural balance between these two is a threshold strategy.",
                "Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise.",
                "Note that S0 is the strategy where the agent never volunteers.",
                "While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
                "We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
                "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
                "The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
                "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
                "Suppose that everyone plays Sk.",
                "For simplicity, assume that everyone has at most k dollars.",
                "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
                "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
                "If M ≥ kn, no agent will ever be willing to work.",
                "Thus, for the purposes of this section we assume that M < kn.",
                "From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk.",
                "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
                "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
                "If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}.",
                "If there are n agents, then the state of the game can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
                "Since the total amount of money is constant, not all of these states can arise in the game.",
                "For example the state where each player has $0 is impossible to reach in any game with money in the system.",
                "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
                "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
                "It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state.",
                "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
                "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
                "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
                "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
                "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
                "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
                "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
                "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
                "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
                "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
                "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
                "We can in fact completely characterize the distribution d∗ .",
                "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
                "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
                "The statement is correct under a number of senses of close.",
                "For definiteness, we consider the Euclidean distance.",
                "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
                "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
                "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
                "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
                "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16].",
                "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
                "This fraction clearly goes to 0 as n gets large.",
                "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
                "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
                "Let Pij denote the probability of transitioning from state i to state j.",
                "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
                "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution.",
                "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
                "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
                "We then considered how close the distribution stays to the maximum entropy distribution once it has reached it.",
                "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
                "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
                "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
                "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
                "We believe that the actually time needed is O(n).",
                "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)",
                "This is not true in general.",
                "If δ is small, then agents have no incentive to work.",
                "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
                "With small δ, S0 is the only equilibrium.",
                "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
                "We do this by first showing that, if every other agent is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one).",
                "We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy.",
                "It follows that this tuple of threshold strategies is a Nash equilibrium.",
                "As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a threshold strategy Sk that is a best response for agent i.",
                "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
                "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
                "For a later proof, it will be helpful to have a continuous set of strategies.",
                "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
                "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
                "Theorem 4.1.",
                "Fix a strategy Sγ and an agent i.",
                "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for agent i is Sk .",
                "Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
                "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
                "If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly.",
                "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
                "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
                "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
                "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
                "We remark that there may be best responses that are not threshold strategies.",
                "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy.",
                "Since we know that there is a best response that is a threshold strategy, we can look for a Nash equilibrium in the space of threshold strategies.",
                "Theorem 4.2.",
                "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the game G(n, δ) where all agents play Sγ for some integer γ > 0.",
                "Proof.",
                "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
                "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
                "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
                "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
                "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same threshold strategy.",
                "As we have already observed, one such equilibrium occurs at 0.",
                "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
                "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay.",
                "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
                "Consider k∗ , the smallest k such that k > M/n.",
                "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
                "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
                "This is the desired Nash equilibrium.",
                "This argument also shows us that we cannot in general expect fixed points to be unique.",
                "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
                "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
                "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
                "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
                "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
                "<br>social welfare</br> AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n).",
                "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
                "There is a tension between these objectives.",
                "It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases.",
                "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
                "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
                "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
                "Proof.",
                "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
                "Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r.",
                "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
                "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
                "We are currently exploring exactly what the optimal ratio is.",
                "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
                "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system.",
                "This produces the same effect.",
                "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has.",
                "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
                "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
                "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
                "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
                "This gives existing agents no incentive to leave and rejoin as newcomers.",
                "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
                "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
                "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
                "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
                "For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
                "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
                "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
                "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
                "However, we have not yet explored the changes required to implement this change.",
                "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
                "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
                "To get d dollars, his sybils together still have to perform d units of work.",
                "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
                "Nevertheless, there are some less direct ways that an agent could take advantage of sybils.",
                "First, by having more identities he will have a greater probability of getting chosen to make a request.",
                "It is easy to see that this will lead to the agent having higher total utility.",
                "However, this is just an artifact of our model.",
                "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
                "In practice, requests are made to satisfy a desire.",
                "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
                "Having sybils should not increase the need to have a request satisfied.",
                "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
                "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
                "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy.",
                "Intuitively, the need for money is not as critical if money is easier to obtain.",
                "Unlike the first concern, this seems like a real issue.",
                "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
                "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
                "Third, an agent can drive down the cost of fulfilling a request by introducing many sybils.",
                "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
                "Concievably he could alternate between these techniques to magnify the effects of work he does.",
                "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
                "Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
                "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
                "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
                "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
                "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
                "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
                "CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy.",
                "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
                "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
                "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
                "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation.",
                "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
                "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
                "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
                "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
                "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
                "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system.",
                "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
                "This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
                "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
                "There are some similarities between hoarding and altruistic behavior.",
                "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
                "It would be interesting to investigate the extent to which our system is robust against hoarders.",
                "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
                "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
                "There are also a number of implementation issues that would have to be resolved in a real system.",
                "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
                "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
                "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
                "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
                "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
                "Karma suggests several ways to incentivize nodes to perform these duties.",
                "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
                "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
                "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
                "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
                "REFERENCES [1] E. Adar and B.",
                "A. Huberman.",
                "Free riding on Gnutella.",
                "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
                "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
                "Sybilproof reputation mechanisms.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
                "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
                "The sybil attack.",
                "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
                "Cooperation in the prisoners dilemma with anonymous random matching.",
                "Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
                "Robust incentive techniques for peer-to-peer networks.",
                "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
                "Pricing wifi at starbucks: issues in online mechanism design.",
                "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
                "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
                "The social cost of cheap pseudonyms.",
                "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
                "Propagation of trust and distrust.",
                "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
                "A reputation system for peer-to-peer networks.",
                "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
                "Link spam detection based on mass estimation.",
                "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
                "Fileteller: Paying and getting paid for file storage.",
                "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
                "Where do we stand on maximum entropy?",
                "In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118.",
                "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
                "The Eigentrust algorithm for reputation management in P2P networks.",
                "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
                "Social norms and community enforcement.",
                "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
                "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
                "Mixing of random walks and other diffusions on a graph.",
                "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
                "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
                "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
                "Markov Decision Processes.",
                "Wiley, 1994. [24] SETI@home.",
                "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
                "Karma: A secure economic framework for peer-to-peer resource sharing.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
                "Building trust in decentralized peer-to-peer electronic communities.",
                "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
                "Making eigenvector-based reputation systems robust to collusion.",
                "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
            ],
            "original_annotated_samples": [
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., <br>social welfare</br>) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "Having individuals provide each other with service typically increases the <br>social welfare</br>: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "This allows us to compute the money supply that maximizes efficiency (<br>social welfare</br>), given the number of agents.",
                "<br>social welfare</br> AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n)."
            ],
            "translated_annotated_samples": [
                "El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el <br>bienestar social</br>) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia.",
                "El hecho de que las personas se presten servicios entre sí generalmente aumenta el <br>bienestar social</br>: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona.",
                "Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (<br>bienestar social</br>), dado el número de agentes.",
                "BIENESTAR SOCIAL Y ESCALABILIDAD Nuestros teoremas muestran que para cada valor de M y n, para un δ suficientemente grande, existe un equilibrio de Nash no trivial donde todos los agentes utilizan alguna estrategia de umbral Sγ(M,n)."
            ],
            "translated_text": "Eficiencia y equilibrios de Nash en un sistema de vales para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación. Universidad Cornell halpern@cs.cornell.edu Ian Kash Departamento de Ciencias de la Computación. La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una red P2P. Se demuestra que al agregar un sistema de script, se puede obtener un mecanismo que admita un equilibrio de Nash razonable que reduzca el comportamiento de aprovechamiento gratuito. El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el <br>bienestar social</br>) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia. El trabajo tiene implicaciones para muchos sistemas en línea, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; I.2.11 [Inteligencia Artificial]: Inteligencia Artificial Distribuida-Sistemas Multiagente; J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Computadoras y Sociedad]: Comercio Electrónico Términos Generales Economía, Teoría 1. INTRODUCCIÓN Una característica común de muchos sistemas distribuidos en línea es que los individuos proporcionan servicios entre sí. Las redes peer-to-peer (P2P) (como Kazaa [25] o BitTorrent [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás. El hecho de que las personas se presten servicios entre sí generalmente aumenta el <br>bienestar social</br>: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona. Sin embargo, el costo de brindar el servicio aún puede ser significativo. Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo. Por lo tanto, en muchos sistemas existe un fuerte incentivo para convertirse en un \"pasajero gratis\" y beneficiarse del sistema sin contribuir a él. Este no es simplemente un problema teórico; estudios de la red Gnutella [22] han demostrado que casi el 70 por ciento de los usuarios no comparten archivos y casi el 50 por ciento de las respuestas provienen del 1 por ciento superior de los anfitriones que comparten [1]. Tener relativamente pocos usuarios que proporcionen la mayor parte del servicio crea un punto de centralización; la desaparición de un pequeño porcentaje de usuarios puede afectar enormemente la funcionalidad del sistema. Además, las tendencias actuales parecen estar llevando a la eliminación de los usuarios altruistas en los que estos sistemas confían. Estos usuarios intensivos son algunos de los clientes más costosos que tienen los proveedores de servicios de Internet. Por lo tanto, a medida que la cantidad de tráfico ha aumentado, los proveedores de servicios de Internet han comenzado a buscar formas de reducir este tráfico. Algunas universidades han comenzado a cobrar a los estudiantes por el uso excesivo de ancho de banda; otras revocan el acceso a la red por ello [5]. Un número de empresas también se han formado cuyo servicio es detectar el uso excesivo de ancho de banda [19]. Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros sistemas en línea distribuidos. Se ha invertido una cantidad significativa de investigación en el diseño de sistemas de reputación para dar tratamiento preferencial a los usuarios que comparten archivos. Algunas de las redes P2P actualmente en uso han implementado versiones de estas técnicas. Sin embargo, estos enfoques tienden a caer en una de dos categorías: o son similares al trueque o se basan en la reputación. Por \"tipo trueque\", nos referimos a que cada agente basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones. Quizás el ejemplo más conocido de un sistema similar al trueque es BitTorrent, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual. Dado que el trueque está restringido a usuarios actualmente interesados en un solo archivo, esto funciona bien para archivos populares, pero tiende a tener problemas para mantener la disponibilidad de los menos populares. Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el sistema de créditos utilizado por eMule 140 [8]. Cada usuario realiza un seguimiento de su historial de interacciones con otros usuarios y da prioridad a aquellos de los que ha descargado previamente. Sin embargo, en un sistema grande, la probabilidad de que un par de usuarios elegidos al azar hayan interactuado antes es bastante baja, por lo que este historial de interacciones no será de gran ayuda. Anagnostakis y Greenwald [2] presentan una versión más sofisticada de este enfoque, pero aún parece sufrir de problemas similares. Se han realizado varios intentos de proporcionar sistemas de reputación generales (por ejemplo, [12, 13, 17, 27]). La idea básica es agregar la experiencia de cada usuario en un número global para cada individuo que represente de manera intuitiva la visión del sistema sobre la reputación de ese individuo. Sin embargo, estos intentos tienden a sufrir problemas prácticos porque implícitamente consideran a los usuarios como buenos o malos, asumen que los buenos usuarios actuarán de acuerdo con el protocolo especificado, y que hay relativamente pocos usuarios malos. Desafortunadamente, si existen formas fáciles de manipular el sistema, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen. No podemos depender solo de unos pocos usuarios siendo malos (en el sentido de no seguir el protocolo prescrito). Por ejemplo, Kazaa utiliza una medida de la proporción entre el número de cargas y el número de descargas para identificar usuarios buenos y malos. Sin embargo, para evitar penalizar a los nuevos usuarios, les dieron a los nuevos usuarios una calificación promedio. Los usuarios descubrieron que podían aprovechar esta calificación relativamente buena para viajar gratis por un tiempo y, una vez que comenzaba a empeorar, podían eliminar su información almacenada y regresar efectivamente como un nuevo usuario, evitando así el sistema (ver [2] para una discusión y [11] para un análisis formal de este lavado de imagen). Por lo tanto, el sistema de reputación de Kazaas es ineficaz. Este es un caso simple de una vulnerabilidad más general de tales sistemas a los ataques de sybil [6], donde un solo usuario mantiene múltiples identidades y las utiliza de manera coordinada para obtener un mejor servicio del que obtendría de otra manera. Trabajos recientes han demostrado que la mayoría de los sistemas de reputación comunes son vulnerables (en el peor de los casos) a tales ataques [4]; sin embargo, el grado de esta vulnerabilidad aún no está claro. El análisis de las vulnerabilidades prácticas y la existencia de sistemas inmunes a tales ataques sigue siendo un área de investigación activa (por ejemplo, [4, 28, 14]). Los sistemas económicos simples basados en un vale o dinero parecen evitar muchos de estos problemas, son fáciles de implementar y son bastante populares (ver, por ejemplo, [13, 15, 26]). Sin embargo, tienen un conjunto diferente de problemas. Quizás los más comunes implican determinar la cantidad de dinero en el sistema. Hablando en términos generales, si hay muy poco dinero en el sistema en relación con el número de agentes, entonces relativamente pocos usuarios pueden permitirse hacer solicitudes. Por otro lado, si hay demasiado dinero, entonces los usuarios no sentirán la necesidad de responder a una solicitud; ya tienen suficiente dinero. Un problema relacionado implica manejar a los recién llegados. Si a los recién llegados se les da una cantidad positiva de dinero, entonces el sistema está abierto a ataques de Sybil. Quizás no sorprendentemente, los sistemas de moneda fiduciaria terminan teniendo que lidiar con problemas económicos estándar como la inflación, las burbujas y las crisis [26]. En este artículo, proporcionamos un modelo formal en el cual analizar sistemas de escritura. Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero). Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (<br>bienestar social</br>), dado el número de agentes. También conduce a una solución para el problema de tratar con los recién llegados: simplemente asumimos que los nuevos usuarios llegan sin dinero, y ajustamos el precio del servicio (lo cual es equivalente a ajustar la oferta de dinero) para mantener la proporción que maximiza la eficiencia. Si bien asumir que los nuevos usuarios no tienen dinero no funcionará en todos los contextos, creemos que este enfoque será ampliamente aplicable. En sistemas donde el objetivo es realizar trabajo, los nuevos usuarios pueden adquirir dinero realizando trabajo. También debería funcionar en el sistema Kazaalike donde un usuario puede ingresar con algunos recursos (por ejemplo, una colección privada de MP3). El resto del documento está organizado de la siguiente manera. En la Sección 2, presentamos nuestro modelo formal y observamos que se puede utilizar para comprender el efecto de los altruistas. En la Sección 3, examinamos qué sucede en el juego bajo un juego no estratégico, si todos los agentes utilizan la misma estrategia de umbral. Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la entropía máxima. Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el juego donde todos los agentes utilizan alguna estrategia de umbral. Además, mostramos en la Sección 5 que el análisis conduce a una comprensión de cómo elegir la cantidad de dinero en el sistema (o, de manera equivalente, el costo para cumplir una solicitud) para maximizar la eficiencia, y también muestra cómo manejar a los nuevos usuarios. En la Sección 6, discutimos en qué medida nuestro enfoque puede manejar sybils y colusión. Concluimos en la Sección 7.2. EL MODELO Para empezar, formalizamos la prestación de servicios en una red P2P como un juego no cooperativo. A diferencia de gran parte de la modelización en esta área, nuestro modelo modelará las interacciones asimétricas en un sistema de intercambio de archivos en el que el emparejamiento de jugadores (aquellos que solicitan un archivo con aquellos que tienen ese archivo en particular) es una parte clave del sistema. Esto contrasta con gran parte de trabajos anteriores que utilizan emparejamiento aleatorio en un dilema del prisionero. Tales modelos fueron estudiados en la literatura económica [18, 7] y aplicados por primera vez a reputaciones en línea en [11]; una aplicación a P2P se encuentra en [9]. Este modelo de emparejamiento aleatorio no logra capturar algunos aspectos relevantes de varios entornos importantes. Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una red P2P grande), pero no todas pueden hacerlo. Por ejemplo, algunas personas pueden no tener el tiempo o los recursos para satisfacer la solicitud. El proceso de emparejamiento aleatorio ignora el hecho de que algunas personas pueden no ser capaces de satisfacer la solicitud. Presumiblemente, si la persona emparejada con el solicitante no pudiera satisfacer el emparejamiento, tendría que desertar. Además, no captura el hecho de que la decisión de si voluntariarse para satisfacer la solicitud debe tomarse antes del proceso de emparejamiento, no después. Es decir, el proceso de emparejamiento no captura el hecho de que si alguien no está dispuesto a satisfacer la solicitud, sin duda habrá otros que puedan hacerlo. Aunque nos referimos a nuestra unidad de moneda como el dólar, estos no son dólares reales ni los consideramos convertibles en dólares. Finalmente, las acciones y recompensas en el juego del dilema del prisionero no corresponden claramente a las decisiones reales que se pueden tomar. Por ejemplo, no está claro qué significa la deserción por parte del solicitante. En nuestro modelo intentamos abordar todos estos problemas. Supongamos que hay n agentes. En cada ronda, se elige de forma aleatoria y uniforme a un agente para hacer una solicitud. Cada otro agente puede satisfacer esta solicitud con una probabilidad β > 0 en todo momento, independientemente del comportamiento previo. El término β tiene la intención de capturar la probabilidad de que un agente esté ocupado o no tenga los recursos para cumplir con la solicitud. Suponer que β es independiente del tiempo no captura la intuición de que no poder cumplir una solicitud en el tiempo t puede estar correlacionado con no poder cumplirla en el tiempo t+1. Creemos que, en sistemas grandes, deberíamos poder eliminar la suposición de independencia, pero dejamos esto para trabajos futuros. En cualquier caso, aquellos agentes que sean capaces de satisfacer la solicitud deben elegir si desean o no ofrecerse como voluntarios para satisfacerla. Si al menos un agente se ofrece como voluntario, el solicitante recibe un beneficio de 1 utilidad (el trabajo se realiza) y uno de los voluntarios es elegido al azar para cumplir con la solicitud. El agente que cumple con la solicitud paga un costo de α < 1. Como es habitual en la literatura, asumimos que los agentes descuentan los beneficios futuros por un factor de δ por unidad de tiempo. Esto captura la intuición de que un util hoy vale más que un util mañana, y nos permite calcular la utilidad total derivada por un agente en un juego infinito. Por último, asumimos que con más jugadores las solicitudes llegan con más frecuencia. Por lo tanto, asumimos que el tiempo entre rondas es 1/n. Esto captura el hecho de que los sistemas que queremos modelar realmente están procesando muchas solicitudes en paralelo, por lo que esperaríamos que el número de solicitudes concurrentes sea proporcional al número de usuarios. Sea G(n, δ, α, β) este juego con n agentes, un factor de descuento de δ, un costo para satisfacer solicitudes de α y una probabilidad de poder satisfacer solicitudes de β. Cuando los dos últimos parámetros no son relevantes, a veces escribimos G(n, δ). Utilizamos la siguiente notación a lo largo del documento: • pt denota al agente elegido en la ronda t. • Bt i ∈ {0, 1} denota si el agente i puede satisfacer la solicitud en la ronda t. Bt i = 1 con probabilidad β > 0 y Bt i es independiente de Bt i para todo t = t. • V t i ∈ {0, 1} denota la decisión del agente i sobre si voluntariarse en la ronda t; 1 indica voluntariado. V t i está determinado por la estrategia del agente. • vt ∈ {j | V t j Bt j = 1} denota al agente elegido para satisfacer la solicitud. Este agente es elegido de manera uniforme al azar entre aquellos que están dispuestos (V t j = 1) y capaces (Bt j = 1) de satisfacer la solicitud. • ut i denota la utilidad del agente en la ronda t. Un agente estándar es aquel cuya utilidad se determina como se discutió en la introducción; es decir, el agente recibe 2. Para n grande, nuestro modelo converge a uno en el que los jugadores realizan solicitudes en tiempo real, y el tiempo entre las solicitudes de un jugador está distribuido de manera exponencial con media 1. Además, el tiempo entre las solicitudes atendidas por un único jugador también sigue una distribución exponencial. Una utilidad de 1 para una solicitud cumplida y una utilidad de -α por cumplir una solicitud. Por lo tanto, si i es un agente estándar, entonces ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 −α si i = vt 0 de lo contrario. • Ui = P∞ t=0 δt/n ut i denota la utilidad total para el agente i. Es el total descontado de la utilidad del agente en cada ronda. Ten en cuenta que el factor de descuento efectivo es δ1/n ya que un aumento en n conlleva a una reducción del tiempo entre rondas. Ahora que tenemos un modelo de cómo hacer y satisfacer solicitudes, lo utilizamos para analizar el comportamiento de no contribuir. Considera a un altruista como alguien que siempre cumple peticiones. El agente podría comportarse de manera altruista de manera racional si la función de utilidad del agente tiene la siguiente forma, para algún α > 0: ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 α si i = vt 0 en otro caso. Por lo tanto, en lugar de sufrir una pérdida de utilidad al satisfacer una solicitud, un agente obtiene utilidad positiva al satisfacerla. Una función de utilidad de este tipo es una representación razonable del placer que algunas personas obtienen al sentir que son quienes proporcionan la música que todos están tocando. Para agentes altruistas como estos, jugar la estrategia que establece V t i = 1 para todo t es dominante. Si bien tener una función de utilidad no estándar podría ser una razón por la cual un agente racional podría usar esta estrategia, ciertamente hay otras razones. Por ejemplo, un usuario inexperto de software de intercambio de archivos con una buena conexión bien podría seguir esta estrategia. Todo lo que importa para la siguiente discusión es que hay algunos agentes que utilizan esta estrategia, sea por la razón que sea. Como hemos observado, parece que existen usuarios de este tipo en algunos sistemas grandes. Supongamos que nuestro sistema tiene altruistas. Intuitivamente, si a es moderadamente grande, lograrán satisfacer la mayoría de las solicitudes en el sistema incluso si otros agentes no trabajan. Por lo tanto, hay poco incentivo para que cualquier otro agente se ofrezca como voluntario, porque ya está obteniendo pleno beneficio al participar en el sistema. Basándose en esta intuición, es un cálculo relativamente sencillo determinar un valor de a que depende solo de α, β y δ, pero no del número n de jugadores en el sistema, de modo que la estrategia dominante para todos los agentes estándar i sea nunca ofrecerse voluntariamente para satisfacer ninguna solicitud (es decir, V t i = 0 para todo t). Proposición 2.1. Existe un a que depende solo de α, β y δ tal que, en G(n, δ, α, β) con al menos a altruistas, no ofrecerse como voluntario en cada ronda es una estrategia dominante para todos los agentes estándar. Prueba. Considera la estrategia para un jugador estándar j en presencia de altruistas. Incluso sin dinero, el jugador j logrará que se satisfaga una solicitud con probabilidad 1 − (1 − β)a solo a través de las acciones de estos altruistas. Por lo tanto, incluso si j es elegido para hacer una solicitud en cada ronda, la utilidad adicional esperada máxima que puede esperar obtener al tener dinero es P∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ). Si (1 − β)a /(1 − δ) > α o, equivalentemente, si a > log1−β(α(1 − δ)), nunca ofrecerse como voluntario es una estrategia dominante. Considera los siguientes valores razonables para nuestros parámetros: β = .01 (para que cada jugador pueda satisfacer el 1% de las solicitudes), α = .1 (un costo bajo pero no despreciable), δ = .9999/día 142 (lo que corresponde a un factor de descuento anual de aproximadamente 0.95), y un promedio de 1 solicitud por día por jugador. Entonces solo necesitamos un > 1145. Si bien este es un número grande, es pequeño en comparación con el tamaño de una red P2P grande. Los sistemas actuales tienen un grupo de usuarios que se comportan como nuestros altruistas. Esto significa que los intentos de agregar un sistema de reputación encima de un sistema P2P existente para influir en los usuarios a cooperar no tendrán efecto en usuarios racionales. Para tener una distribución justa del trabajo, estos sistemas deben ser rediseñados fundamentalmente para eliminar el grupo de usuarios altruistas. En cierto sentido, esto no es un problema en absoluto. En un sistema con altruistas, los altruistas presumiblemente están felices, al igual que los agentes estándar, quienes ven casi todas sus solicitudes satisfechas sin tener que hacer ningún trabajo. De hecho, las redes P2P actuales funcionan bastante bien en términos de distribuir contenido a las personas. Sin embargo, como mencionamos en la introducción, hay razones para creer que estos altruistas podrían no estar presentes para siempre. Por lo tanto, vale la pena analizar qué se puede hacer para que estos sistemas funcionen en su ausencia. Para el resto de este documento asumimos que todos los agentes son estándar y tratan de maximizar la utilidad esperada. Estamos interesados en equilibrios basados en un sistema de vales. Cada vez que un agente tiene una solicitud satisfecha, debe pagarle a la persona que la satisfizo una cierta cantidad. Por ahora, asumimos que el pago es fijo; para simplificar, tomamos la cantidad como $1. Denotamos por M la cantidad total de dinero en el sistema. Suponemos que M > 0 (de lo contrario, nadie podrá cobrar nunca). En principio, los agentes son libres de adoptar una amplia variedad de estrategias. Pueden tomar decisiones basadas en los nombres de otros agentes o utilizar una estrategia que depende en gran medida de la historia, y combinar libremente estas estrategias. Para ayudar en nuestro análisis, nos gustaría poder restringir nuestra atención a una clase más simple de estrategias. La clase de estrategias en la que estamos interesados es fácil de motivar. La razón intuitiva para querer ganar dinero es para atender la posibilidad de que un agente se quede sin antes de tener la oportunidad de ganar más. Por otro lado, un agente racional con mucho dinero no querría trabajar, porque para cuando haya logrado gastar todo su dinero, la utilidad tendrá menos valor que el costo actual de trabajar. El equilibrio natural entre estos dos es una estrategia de umbral. Que Sk sea la estrategia en la que un agente se ofrece como voluntario siempre que tenga menos de k dólares y no lo haga de otra manera. Ten en cuenta que S0 es la estrategia en la que el agente nunca se ofrece como voluntario. Si bien todos los que juegan S0 conforman un equilibrio de Nash (nadie puede mejorar al ofrecerse como voluntario si nadie más está dispuesto a hacerlo), es un equilibrio poco interesante. Como mostraremos en la Sección 4, es suficiente restringir nuestra atención a esta clase de estrategias. Usamos Kt i para denotar la cantidad de dinero que el agente i tiene en el tiempo t. Claramente Kt+1 i = Kt i a menos que el agente i tenga una solicitud satisfecha, en cuyo caso Kt+1 i = Kt+1 i − 1 o el agente i cumple una solicitud, en cuyo caso Kt+1 i = Kt+1 i + 1. Formalmente, Kt+1 i = 8 < : Kt i − 1 si i = pt , P j=i V t j Bt j > 0, y Kt i > 0 Kt i + 1 si i = vt y Kt pt > 0 Kt i en otro caso. La estrategia de umbral Sk es la estrategia tal que V t i = 1 si Kt pt > 0 y Kt i < k, 0 en caso contrario. EL JUEGO BAJO JUEGO NO ESTRATÉGICO Antes de considerar el juego estratégico, examinamos qué sucede en el sistema si todos juegan simplemente la misma estrategia Sk. Nuestro objetivo general es demostrar que existe una distribución de dinero (es decir, la fracción de personas con cada cantidad de dinero) tal que el sistema converge a esta distribución en un sentido que se precisará en breve. Supongamos que todos juegan Sk. Para simplificar, asumamos que todos tienen a lo sumo k dólares. Podemos hacer esta suposición prácticamente sin pérdida de generalidad, ya que si alguien tiene más de k dólares, simplemente gastará dinero hasta tener como máximo k dólares. Después de este punto, nunca adquirirá más que k. Por lo tanto, eventualmente el sistema estará en tal estado. Si M ≥ kn, ningún agente estará dispuesto a trabajar. Por lo tanto, para los propósitos de esta sección asumimos que M < kn. Desde la perspectiva de un solo agente, en equilibrio (estocástico), el agente está experimentando un paseo aleatorio. Sin embargo, los parámetros de esta caminata aleatoria dependen de las caminatas aleatorias de los otros agentes y es bastante complicado resolverlo directamente. Por lo tanto, consideramos un análisis alternativo basado en la evolución del sistema en su conjunto. Si todos tienen a lo sumo k dólares, entonces la cantidad de dinero que tiene un agente es un elemento de {0, . . . , k}. Si hay n agentes, entonces el estado del juego puede ser descrito identificando cuánto dinero tiene cada agente, por lo que podemos representarlo mediante un elemento de Sk,n = {0, . . . , k}{1,...,n}. Dado que la cantidad total de dinero es constante, no todos estos estados pueden surgir en el juego. Por ejemplo, el estado en el que cada jugador tiene $0 es imposible de alcanzar en cualquier juego con dinero en el sistema. Sea mS(s) = P i∈{1...n} s(i) el monto total de dinero en el juego en el estado s, donde s(i) es la cantidad de dólares que el agente i tiene en el estado s. Queremos considerar solo aquellos estados donde el dinero total en el sistema es M, es decir, Sk,n,M = {s ∈ Sk,n | mS(s) = M}. Bajo el supuesto de que todos los agentes utilizan la estrategia Sk, la evolución del sistema puede ser tratada como una cadena de Markov Mk,n,M sobre el espacio de estados Sk,n,M. Es posible pasar de un estado a otro en una sola ronda si al elegir a un agente en particular para hacer una solicitud y a otro agente en particular para satisfacerla, las cantidades de dinero poseídas por cada agente se convierten en las del segundo estado. Por lo tanto, la probabilidad de una transición de un estado s a t es 0 a menos que existan dos agentes i y j tales que s(i) = t(i) para todos los i /∈ {i, j}, t(i) = s(i) + 1, y t(j) = s(j) − 1. En este caso, la probabilidad de transición de s a t es la probabilidad de que j sea elegido para gastar un dólar y tenga a alguien dispuesto y capaz de satisfacer su solicitud ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplicado por la probabilidad de que i sea elegido para satisfacer su solicitud (1/(|({i | s(i ) = k}| − Ij ). Ij es 0 si j tiene k dólares y 1 en caso contrario (es solo una corrección por el hecho de que j no puede satisfacer su propia solicitud). Sea ∆k el conjunto de distribuciones de probabilidad en {0, . . . , k}. Podemos pensar en un elemento de ∆k como la descripción de la fracción de personas con cada cantidad de dinero. Esta es una forma útil de ver el sistema, ya que normalmente no nos importa quién tiene cada cantidad de dinero, sino simplemente la fracción de personas que tienen cada cantidad. Como antes, no todos los elementos de ∆k son posibles, dada nuestra restricción de que la cantidad total de dinero es M. En lugar de pensar en términos de la cantidad total de dinero en el sistema, resultará más útil pensar en términos del monto promedio de dinero que tiene cada jugador. Por supuesto, la cantidad total de dinero en un sistema con n agentes es M si y solo si la cantidad promedio que cada jugador tiene es m = M/n. Sea ∆k m el conjunto de todas las distribuciones d ∈ ∆k tales que E(d) = m (es decir, Pk j=0 d(j)j = m). Dado un estado s ∈ Sk,n,M, sea ds ∈ ∆k m la distribución de dinero en s. Nuestro objetivo es demostrar que, si n es grande, entonces existe una distribución d∗ ∈ ∆k m tal que, con alta probabilidad, la cadena de Markov Mk,n,M estará casi siempre en un estado s tal que ds esté cerca de d∗. Por lo tanto, los agentes pueden basar sus decisiones sobre qué estrategia usar en la suposición de que estarán en ese estado. De hecho, podemos caracterizar completamente la distribución d∗. Dada una distribución d ∈ ∆k , sea H(d) = − X {j:d(j)=0} d(j) log(d(j)) la entropía de d. Si ∆ es un conjunto convexo cerrado de distribuciones, entonces es bien sabido que hay una distribución única en ∆ en la que la función de entropía alcanza su valor máximo en ∆. Dado que ∆k m se ve fácilmente como un conjunto convexo cerrado de distribuciones, se sigue que hay una distribución única en ∆k m que denotamos como d∗ k,m cuya entropía es mayor que la de todas las demás distribuciones en ∆k m. Ahora mostramos que, para n suficientemente grande, la cadena de Markov Mk,n,M está casi seguramente en un estado s tal que ds está cerca de d∗ k,M/n. La afirmación es correcta en varios sentidos de cercanía. Para mayor claridad, consideramos la distancia euclidiana. Dado > 0, sea Sk,n,m el conjunto de estados s en Sk,n,mn tal que Pk j=0 |ds (j) − d∗ k,m|2 < . Dada una cadena de Markov M sobre un espacio de estados S y S ⊆ S, sea Xt,s,S la variable aleatoria que denota que M se encuentra en un estado de S en el tiempo t, cuando se inicia en el estado s. Teorema 3.1. Para todo ε > 0, todo k y todo m, existe un n tal que para todo n > n y todos los estados s ∈ Sk,n,mn, existe un tiempo t∗ (que puede depender de k, n, m y ) tal que para t > t∗, tenemos que Pr(Xt,s,Sk,n,m, ) > 1 − . Prueba. (Bosquejo) Supongamos que en algún momento t, Pr(Xt,s,s) es uniforme para todos los s. Entonces, la probabilidad de estar en un conjunto de estados es simplemente el tamaño del conjunto dividido por el número total de estados. Una técnica estándar de la mecánica estadística es demostrar que hay un fenómeno de concentración alrededor de la distribución de entropía máxima [16]. Más precisamente, utilizando un argumento combinatorio directo, se puede demostrar que la fracción de estados que no están en Sk,n,m está acotada por p(n)/ecn, donde p es un polinomio. Esta fracción claramente tiende a 0 a medida que n crece. Por lo tanto, para n suficientemente grande, Pr(Xt,s,Sk,n,m, ) > 1 − si Pr(Xt,s,s ) es uniforme. Es relativamente sencillo demostrar que nuestra Cadena de Markov tiene una distribución límite π sobre Sk,n,mn, tal que para todo s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs. Que Pij denote la probabilidad de transición del estado i al estado j. Es fácil verificar mediante un cálculo explícito de las probabilidades de transición que Pij = Pji para todos los estados i y j. Se sigue inmediatamente de esta simetría que πs = πs, por lo que π es uniforme. Después de un tiempo suficiente, la distribución estará lo suficientemente cerca de π, de modo que las probabilidades vuelven a estar limitadas por una constante, lo cual es suficiente para completar el teorema. Realizamos una serie de experimentos que muestran que el comportamiento de máxima entropía descrito en el Teorema 3.1 surge rápidamente para valores bastante prácticos de n y t. El primer experimento mostró que, incluso si n = 1000, alcanzamos rápidamente la distribución de máxima entropía. Promediamos 10 ejecuciones de la cadena de Markov para k = 5 donde hay suficiente dinero para que cada agente tenga $2 comenzando desde una distribución muy extrema (cada agente tiene $0 o $5) y consideramos el tiempo promedio necesario para acercarse a varias distancias de la distribución de entropía máxima. Como muestra la Figura 1, después de 2,000 pasos, en promedio, la distancia euclidiana desde la distribución promedio del dinero hasta la distribución de máxima entropía es de .008; después de 3,000 pasos, la distancia disminuye a .001. Ten en cuenta que esto realmente solo son 3 unidades de tiempo reales, ya que con 1000 jugadores tenemos 1000 transacciones por unidad de tiempo. Luego consideramos qué tan cerca se mantiene la distribución de la entropía máxima una vez que la ha alcanzado. Para simplificar las cosas, comenzamos el sistema en un estado cuya distribución estaba muy cerca de la distribución de máxima entropía y lo ejecutamos durante 106 pasos, para varios valores de n. Como muestra la Figura 2, el sistema no se aleja mucho de la distribución de máxima entropía una vez que está allí. Por ejemplo, si n = 5000, el sistema nunca está a más de una distancia de .001 de la distribución de máxima entropía; si n = 25,000, nunca está a más de .0002 de la distribución de máxima entropía. Finalmente, consideramos con más cuidado cómo rápidamente el sistema converge a la distribución de máxima entropía para varios valores de n. Hay aproximadamente kn estados posibles, por lo que el tiempo de convergencia podría ser bastante largo en principio. Sin embargo, sospechamos que la cadena de Markov que surge aquí se mezcla rápidamente, lo que significa que convergerá significativamente más rápido (ver [20] para más detalles sobre la mezcla rápida). Creemos que el tiempo necesario en realidad es O(n). Este comportamiento se ilustra en la Figura 3, que muestra que para nuestra cadena de ejemplo (nuevamente promediada en 10 ejecuciones), después de 3n pasos, la distancia euclidiana entre la distribución real del dinero en el sistema y la distribución de máxima entropía es menor que .001. EL JUEGO BAJO JUGADA ESTRATÉGICA Hemos visto que el sistema se comporta bien si los agentes siguen todos una estrategia de umbral; ahora queremos demostrar que existe un equilibrio de Nash no trivial donde lo hacen (es decir, un equilibrio de Nash donde todos los agentes usan Sk para algún k > 0). Esto no es cierto en general. Si δ es pequeño, entonces los agentes no tienen incentivo para trabajar. Intuitivamente, si la utilidad futura está suficientemente descontada, entonces todo lo que importa es el presente, y no tiene sentido ofrecerse como voluntario para trabajar. Con un δ pequeño, S0 es el único equilibrio. Sin embargo, demostramos que para δ suficientemente grande, hay otro equilibrio en estrategias de umbral. Lo hacemos primero demostrando que, si cada otro agente está jugando una estrategia de umbral, entonces hay una mejor respuesta que también es una estrategia de umbral (aunque no necesariamente la misma). Luego demostramos que debe existir alguna estrategia de umbral (mixta) para la cual esta mejor respuesta sea la misma estrategia. Se deduce que este conjunto de estrategias de umbral es un equilibrio de Nash. Como primer paso, demostramos que, para todo k, si todos excepto el agente i están jugando Sk, entonces hay una estrategia de umbral Sk que es la mejor respuesta para el agente i. Para demostrar esto, necesitamos asumir que el sistema está cerca de la distribución de estado estacionario (es decir, la distribución de máxima entropía). Sin embargo, siempre y cuando δ esté suficientemente cerca de 1, podemos ignorar lo que sucede durante el período en el que el sistema no está en estado estacionario. Hasta ahora hemos considerado estrategias de umbral de la forma Sk, donde k es un número natural; este es un conjunto discreto de estrategias. Para una futura demostración, será útil contar con un conjunto continuo de estrategias. Si γ = k + γ, donde k es un número natural y 0 ≤ γ < 1, sea Sγ la estrategia que realiza Sk con probabilidad 1 − γ y Sk+1 con probabilidad γ. (Nótese que aquí no estamos considerando estrategias de umbral mixtas arbitrarias, sino simplemente mezclando entre estrategias adyacentes con el único propósito de hacer que las estrategias sean continuas de una manera natural). El Teorema 3.1 se aplica a las estrategias Sγ (la misma prueba se realiza sin cambios), donde γ es un número real no negativo arbitrario. Teorema 4.1. Fije una estrategia Sγ y un agente i. Existe δ∗ < 1 y n∗ tal que si δ > δ∗ , n > n∗ , y cada agente que no sea i está jugando Sγ en el juego G(n, δ), entonces existe un entero k tal que la mejor respuesta para el agente i es Sk. Ya sea que k sea único (es decir, haya una única mejor respuesta que también sea una estrategia de umbral), o existe un entero k tal que Sγ sea una mejor respuesta para el agente i para todos los γ en el intervalo [k, k + 1] (y estas son las únicas mejores respuestas entre las estrategias de umbral). Prueba. (Bosquejo:) Si δ es suficientemente grande, podemos ignorar lo que sucede antes de que el sistema converja a la distribución de entropía máxima. Si n es suficientemente grande, entonces la estrategia jugada por un agente no afectará significativamente la distribución del dinero. Por lo tanto, la probabilidad de que i se mueva de un estado (cantidad de dinero) a otro depende únicamente de su estrategia (ya que podemos considerar que la probabilidad de que i sea elegido para hacer una solicitud y la probabilidad de que i sea elegido para satisfacer una solicitud son constantes). Por lo tanto, desde su punto de vista, el sistema es un proceso de decisión de Markov (MDP), y necesita calcular la política óptima (estrategia) para este MDP. Se desprende de los resultados estándar [23, Teorema 6.11.6] que existe una política óptima que es una política de umbral. El argumento de que la mejor respuesta es única o que existe un intervalo de mejores respuestas se desprende de un análisis más detallado de la función de valor para el MDP. Observamos que puede haber mejores respuestas que no son estrategias de umbral. Todo lo que el Teorema 4.1 muestra es que, entre las mejores respuestas, hay al menos una que es una estrategia de umbral. Dado que sabemos que hay una mejor respuesta que es una estrategia de umbral, podemos buscar un equilibrio de Nash en el espacio de estrategias de umbral. Teorema 4.2. Para todo M, existe δ∗ < 1 y n∗ tal que si δ > δ∗ y n > n∗, existe un equilibrio de Nash en el juego G(n, δ) donde todos los agentes juegan Sγ para algún entero γ > 0. Prueba. Se sigue fácilmente de la prueba del Teorema 4.1 que si br(δ, γ) es la estrategia umbral de mejor respuesta mínima si todos los demás agentes están jugando Sγ y el factor de descuento es δ, entonces, para δ fijo, br(δ, ·) es una función escalonada. También se sigue 3 Formalmente, necesitamos definir las estrategias cuando el sistema está lejos del equilibrio. Sin embargo, estas estrategias lejos del equilibrio (estocástico) no afectarán el comportamiento de equilibrio cuando n sea grande y las desviaciones del equilibrio estocástico sean extremadamente raras. 145 del teorema que si hay dos mejores respuestas, entonces una mezcla de ellas también es una mejor respuesta. Por lo tanto, si podemos unir los pasos con una línea vertical, obtenemos una curva de mejor respuesta. Es fácil ver que en todos los puntos donde esta curva de mejor respuesta cruza la diagonal y = x se define un equilibrio de Nash donde todos los agentes están utilizando la misma estrategia de umbral. Como ya hemos observado, uno de estos equilibrios ocurre en 0. Si solo hay $M en el sistema, podemos restringirnos a estrategias de umbral Sk donde k ≤ M + 1. Dado que nadie puede tener más de $M, todas las estrategias Sk para k > M son equivalentes a SM; estas son simplemente las estrategias en las que el agente siempre se ofrece como voluntario en respuesta a una solicitud hecha por alguien que puede pagar. Claramente br(δ, SM) ≤ M para todo δ, por lo que la función de mejor respuesta está en o por debajo del equilibrio en M. Si k ≤ M/n, cada jugador tendrá al menos k dólares y por lo tanto no estará dispuesto a trabajar, siendo la mejor respuesta simplemente 0. Considera k∗, el menor k tal que k > M/n. No es difícil demostrar que para k∗ existe un δ∗ tal que para todo δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ . Se sigue por continuidad que si δ ≥ δ∗, debe existir algún γ tal que br(δ, γ) = γ. Este es el equilibrio de Nash deseado. Este argumento también nos muestra que no podemos esperar en general que los puntos fijos sean únicos. Si br(δ, k∗ ) = k∗ y br(δ, k + 1) > k + 1 entonces nuestro argumento muestra que debe haber un segundo punto fijo. En general, puede haber múltiples puntos fijos incluso cuando br(δ, k∗ ) > k∗ , como se ilustra en la Figura 4 con n = 1000 y M = 3000. 0 5 10 15 20 25 Estrategia del Resto de Agentes 0 5 10 15 20 25 Mejor Respuesta Figura 4: La función de mejor respuesta para n = 1000 y M = 3000. El Teorema 4.2 nos permite restringir nuestro diseño a agentes que utilizan estrategias de umbral con la confianza de que habrá un equilibrio no trivial. Sin embargo, esto no descarta la posibilidad de que pueda haber otros equilibrios que no involucren estrategias de umbral. Es incluso posible (aunque parece improbable) que algunos de estos equilibrios puedan ser mejores. 5. BIENESTAR SOCIAL Y ESCALABILIDAD Nuestros teoremas muestran que para cada valor de M y n, para un δ suficientemente grande, existe un equilibrio de Nash no trivial donde todos los agentes utilizan alguna estrategia de umbral Sγ(M,n). Desde el punto de vista del diseñador del sistema, no todos los equilibrios son igualmente buenos; queremos un equilibrio en el que el menor número posible de agentes tengan $0 cuando tengan la oportunidad de hacer una solicitud (para que puedan pagar la solicitud) y relativamente pocos agentes tengan más del monto umbral de dinero (para que siempre haya suficientes agentes para cumplir con la solicitud). Existe una tensión entre estos objetivos. No es difícil demostrar que a medida que la fracción de agentes con $0 aumenta en la distribución de entropía máxima, la fracción de agentes con la cantidad máxima de dinero disminuye. Por lo tanto, nuestro objetivo es entender cuál debería ser la cantidad óptima de dinero en el sistema, dada la cantidad de agentes. Es decir, queremos conocer la cantidad de dinero M que maximiza la eficiencia, es decir, la utilidad total esperada si todos los agentes utilizan Sγ(M,n). Primero observamos que el equilibrio más eficiente depende solo de la proporción de M a n, no de los valores reales de M y n. Teorema 5.1. Existe un n∗ tal que para todos los juegos G(n1, δ) y G(n2, δ) donde n1, n2 > n∗, si M1/n1 = M2/n2, entonces Sγ(M1,n1) = Sγ(M2,n2). Prueba. El teorema 3.1 muestra que la distribución de máxima entropía depende solo de k y la razón M/n, no de M y n por separado. Por lo tanto, dado r, para cada elección de k, hay una distribución única de entropía máxima dk,r. La mejor respuesta br(δ, k) depende solo de la distribución dk,r, no de M o n. Por lo tanto, el equilibrio de Nash depende solo de la proporción r. Es decir, para todas las elecciones de M y n tales que n es suficientemente grande (para que se aplique el Teorema 3.1) y M/n = r, las estrategias de equilibrio son las mismas. A la luz del Teorema 5.1, el diseñador del sistema debe asegurarse de que haya suficiente dinero M en el sistema para que la proporción entre M/n sea óptima. Actualmente estamos explorando exactamente cuál es la proporción óptima. Como muestran nuestros resultados muy preliminares para β = 1 en la Figura 5, la proporción parece aumentar de forma monótona en δ, lo cual coincide con la intuición de que deberíamos brindar a los agentes más pacientes la oportunidad de ahorrar más dinero. Además, parece ser relativamente suave, lo que sugiere que puede tener una solución analítica agradable. 0.9 0.91 0.92 0.93 0.94 0.95 Tasa de descuento ∆ 5 5.5 6 6.5 7 Proporción óptima de Mn Figura 5: Cantidad promedio óptima de dinero al número más cercano .25 para β = 1 Se destaca que, en la práctica, puede ser más fácil para el diseñador variar el precio de cumplir una solicitud en lugar de 4 Si hay múltiples equilibrios, tomamos Sγ(M,n) como el equilibrio de Nash que tiene la mayor eficiencia para M y n fijos. 146 inyectar dinero en el sistema. Esto produce el mismo efecto. Por ejemplo, cambiar el costo de cumplir una solicitud de $1 a $2 es equivalente a reducir a la mitad la cantidad de dinero que tiene cada agente. De manera similar, reducir a la mitad el costo de cumplir una solicitud es equivalente a duplicar la cantidad de dinero que todos tienen. Con una cantidad fija de dinero M, existe un producto óptimo nc del número de agentes y el costo c de cumplir una solicitud. El Teorema 5.1 también nos dice cómo manejar un grupo dinámico de agentes. Nuestro sistema puede manejar a los recién llegados relativamente fácilmente: simplemente permítales unirse sin dinero. Esto no brinda ningún incentivo a los agentes existentes para salir y volver a unirse como recién llegados. Luego cambiamos el precio de cumplir una solicitud para que se mantenga la proporción óptima. Este método tiene la característica interesante de que puede implementarse de forma distribuida; si todos los nodos en el sistema tienen una buena estimación de n, entonces todos pueden ajustar los precios automáticamente. (Alternativamente, el número de agentes en el sistema puede ser publicado en un lugar público). Los enfoques que dependen de ajustar la cantidad de dinero pueden requerir costosos cálculos a nivel de sistema (ver [26] para un ejemplo) y deben ser cuidadosamente ajustados para evitar crear incentivos para que los agentes manipulen el sistema mediante el cual se realiza esto. Ten en cuenta que, en principio, la realización de que el costo de cumplir una solicitud puede cambiar puede afectar la estrategia de un agente. Por ejemplo, si un agente espera que el costo aumente, entonces puede querer posponer ofrecerse como voluntario para cumplir con una solicitud. Sin embargo, si el número de agentes en el sistema siempre está aumentando, entonces el costo siempre disminuye, por lo que nunca hay ninguna ventaja en esperar. Puede haber una ventaja en retrasar una solicitud, pero es mucho más costoso en términos de costos de espera que en proporcionar el servicio, ya que asumimos que la necesidad de un servicio a menudo está sujeta a costos reales de espera, mientras que la necesidad de suministrar el servicio es simplemente aumentar el suministro de dinero. (Se discuten temas relacionados en [10].) Finalmente, esperamos modificar el mecanismo para que el precio de un trabajo pueda establecerse de forma endógena dentro del sistema (como en las economías del mundo real), con agentes pujando por trabajos en lugar de que exista un costo fijo establecido externamente. Sin embargo, aún no hemos explorado los cambios necesarios para implementar este cambio. Por lo tanto, por ahora, asumimos que el costo se establece como una función del número de agentes en el sistema (y que no hay posibilidad de que los agentes satisfagan una solicitud por menos del costo oficial o de que los solicitantes ofrezcan pagar más). 6. SIBILAS Y COLUSIÓN En un sentido ingenuo, nuestro sistema es esencialmente a prueba de sibilas. Para obtener d dólares, sus sibilas juntas todavía tienen que realizar d unidades de trabajo. Además, dado que los recién llegados ingresan al sistema con $0, no hay beneficio en crear nuevos agentes simplemente para aprovechar un dotación inicial. Sin embargo, existen algunas formas menos directas en las que un agente podría aprovecharse de los sybils. Primero, al tener más identidades, tendrá una mayor probabilidad de ser elegido para hacer una solicitud. Es fácil ver que esto llevará a que el agente tenga una mayor utilidad total. Sin embargo, esto es solo un artefacto de nuestro modelo. Para simplificar el análisis de nuestro sistema, hemos asumido que las oportunidades de solicitud llegaron de manera uniforme al azar. En la práctica, se hacen peticiones para satisfacer un deseo. Nuestro modelo asumió implícitamente que todos los agentes tienen la misma probabilidad de tener un deseo en un momento particular. Tener sibilas no debería aumentar la necesidad de que se satisfaga una solicitud. De hecho, sería razonable asumir que las sibilas no hacen solicitudes en absoluto. En segundo lugar, tener sibilas hace más probable que una de las sibilas sea elegida para cumplir una petición. Esto puede permitir a un usuario aumentar su utilidad al establecer un umbral más bajo; es decir, al usar una estrategia Sk donde k es menor que el k utilizado por la estrategia de equilibrio de Nash. Intuitivamente, la necesidad de dinero no es tan crítica si el dinero es más fácil de obtener. A diferencia de la primera preocupación, esto parece ser un problema real. Parece razonable creer que cuando las personas toman una decisión entre varios nodos para satisfacer una solicitud lo hacen de forma aleatoria, al menos en cierta medida. Aunque busquen las características de los nodos anunciadas para ayudar a tomar esta decisión, los sybils permitirían a un usuario anunciar una amplia gama de características. Tercero, un agente puede reducir el costo de cumplir una solicitud al introducir muchos síbiles. Del mismo modo, podría aumentar el costo (y por ende el valor de su dinero) al hacer que un número de sibilas salgan del sistema. Concebiblemente podría alternar entre estas técnicas para magnificar los efectos del trabajo que realiza. Todavía no hemos calculado el efecto exacto de este cambio (interactúa con los otros dos efectos de tener sibilas que ya hemos notado). Dado el número de síbiles que serían necesarios para causar un cambio real en el tamaño percibido de una gran red P2P, la viabilidad de este ataque depende en gran medida de cuánto cuestan los síbiles a un atacante y qué recursos tiene disponibles. El segundo punto planteado sobre las sibilas también se aplica a la colusión si permitimos que se preste dinero. Si k agentes coluden, pueden acordar que, si uno se queda sin dinero, otro en el grupo le prestará dinero. Al juntar su dinero de esta manera, los agentes k pueden volver a mejorar al establecer un umbral más alto. Ten en cuenta que el mecanismo de préstamo no necesita estar integrado en el sistema; los agentes pueden simplemente utilizar una transacción falsa para transferir el dinero. Estos parecen ser los principales métodos para ataques colusivos, pero aún estamos explorando este tema. 7. CONCLUSIÓN Hemos realizado un análisis formal de un sistema de escritura y hemos demostrado que existe un equilibrio de Nash donde todos los agentes utilizan una estrategia de umbral. Además, podemos calcular la eficiencia de la estrategia de equilibrio y optimizar el precio (o la oferta monetaria) para maximizar la eficiencia. Por lo tanto, nuestro análisis proporciona un mecanismo formal para resolver algunos problemas importantes en la implementación de sistemas de guiones. Nos dice que con una población fija de usuarios racionales, es muy poco probable que dichos sistemas se vuelvan inestables. Por lo tanto, si esta estabilidad es una creencia común entre los agentes, no esperaríamos inflación, burbujas ni colapsos debido a la especulación de los agentes. Sin embargo, no podemos descartar la posibilidad de que esos agentes tengan otras creencias que los lleven a especular. Nuestro análisis también nos indica cómo escalar el sistema para manejar una afluencia de nuevos usuarios sin introducir estos problemas: escalar la oferta monetaria para mantener constante la cantidad promedio de dinero (o ajustar los precios de manera equivalente para lograr el mismo objetivo). Hay una serie de problemas teóricos que aún están abiertos, incluida una caracterización de la multiplicidad de equilibrios, ¿suelen ser 2? Además, esperamos que uno pueda calcular estimaciones analíticas para la función de mejor respuesta y la fijación de precios óptima, lo que nos permitiría comprender la relación entre los precios y varios parámetros en el modelo. También sería de gran interés ampliar nuestro análisis para abordar configuraciones más realistas. Mencionamos algunas posibles extensiones aquí: • Hemos asumido que el mundo es homogéneo en varios aspectos, incluyendo la frecuencia de las solicitudes, la utilidad y la capacidad para satisfacer las solicitudes. Sería interesante examinar cómo relajar cualquiera de estas suposiciones alteraría nuestros resultados. • Hemos asumido que no hay costo para un agente al ser miembro del sistema. Supongamos en cambio que imponemos un pequeño costo simplemente por estar presente en el sistema para reflejar los costos de enrutamiento de mensajes y mantenimiento de la superposición. Esta modificación podría tener un impacto significativo en los ataques de Sybil. • Hemos descrito un sistema de escritura que funciona cuando no hay altruistas y hemos demostrado que ningún sistema puede funcionar una vez que hay suficientes altruistas. ¿Qué sucede entre estos extremos? • Un tipo de comportamiento irracional que se encuentra en los sistemas de cupones es el acaparamiento. Hay algunas similitudes entre el acaparamiento y el comportamiento altruista. Mientras que un altruista brinda servicio para todos, un acumulador se ofrecerá como voluntario para todos los trabajos (con el fin de obtener más dinero) y rara vez solicitará servicio (para no gastar dinero). Sería interesante investigar en qué medida nuestro sistema es robusto contra los acaparadores. Claramente, con demasiados acumuladores, puede que no quede suficiente dinero entre los no acumuladores para garantizar que, típicamente, un no acumulador tenga suficiente dinero para satisfacer una solicitud. • Finalmente, en los sistemas de intercambio de archivos P2P, existen comunidades superpuestas de varios tamaños que tienen significativamente más probabilidades de poder satisfacer las solicitudes de los demás. Sería interesante investigar el efecto de tales comunidades en el equilibrio de nuestro sistema. También hay una serie de problemas de implementación que tendrían que resolverse en un sistema real. Por ejemplo, debemos preocuparnos por la posibilidad de que los agentes falsifiquen dinero o mientan sobre si el servicio fue realmente proporcionado. Karma [26] proporciona técnicas para lidiar con ambos problemas y varios más, pero algunas decisiones de implementación de Karma señalan problemas para nuestro modelo. Por ejemplo, resulta prohibitivamente caro asegurar que los saldos de las cuentas bancarias nunca puedan ser negativos, un hecho que nuestro modelo no captura. Otro ejemplo es que Karma tiene nodos que actúan como contables de los saldos de cuentas de otros nodos. Al igual que mantener una presencia en la red, esto impone un costo al nodo, pero a diferencia de eso, la responsabilidad puede ser fácilmente eludida. Karma sugiere varias formas de incentivar a los nodos para que realicen estas tareas. No hemos investigado si estos mecanismos pueden ser incorporados sin perturbar nuestro equilibrio. 8. AGRADECIMIENTOS Nos gustaría agradecer a Emin Gun Sirer, Shane Henderson, Jon Kleinberg y 3 árbitros anónimos por sus sugerencias útiles. EF, IK y JH cuentan con el apoyo parcial de la NSF bajo la subvención ITR-0325453. JH también cuenta con el apoyo parcial de la NSF bajo los subsidios CTC-0208535 e IIS-0534064, de la ONR bajo el subsidio N00014-01-10-511, del Programa de Iniciativa de Investigación Universitaria Multidisciplinaria (MURI) del DoD administrado por la ONR bajo los subsidios N00014-01-1-0795 y N00014-04-1-0725, y de la AFOSR bajo el subsidio F49620-021-0101. 9. REFERENCIAS [1] E. Adar y B. A. Huberman. Viajando gratis en Gnutella. Primer lunes, 5(10), 2000. [2] K. G. Anagnostakis y M. Greenwald. Mecanismos de incentivos basados en intercambio para compartir archivos entre pares. En la Conferencia Internacional sobre Sistemas de Computación Distribuida (ICDCS), páginas 524-533, 2004. [3] BitTorrent Inc. Sitio web de BitTorrent. http://www.bittorent.com. [4] A. Cheng y E. Friedman. Mecanismos de reputación a prueba de Sybil. En Taller sobre Economía de Sistemas Peer-to-Peer (P2PECON), páginas 128-132, 2005. [5] Tecnologías de la Información de Cornell. Estadísticas de uso de Internet de la Universidad de Cornell. http://www.cit.cornell.edu/computer/students/bandwidth/charts.html. [6] J. R. Douceur. El ataque de la sibila. En el Taller Internacional de Sistemas Peer-to-Peer (IPTPS), páginas 251-260, 2002. [7] G. Ellison. Cooperación en el dilema del prisionero con emparejamiento aleatorio anónimo. Revisión de Estudios Económicos, 61:567-588, 1994. [8] Proyecto eMule. Sitio web de eMule. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica y J. Chuang. Técnicas de incentivos sólidas para redes peer-to-peer. En la Conferencia ACM sobre Comercio Electrónico (EC), páginas 102-111, 2004. [10] E. J. Friedman y D. C. Parkes. Establecimiento de precios del wifi en Starbucks: problemas en el diseño de mecanismos en línea. En EC 03: Actas de la 4ta Conferencia de la ACM sobre Comercio Electrónico, páginas 240-241. ACM Press, 2003. [11] E. J. Friedman y P. Resnick. El costo social de los seudónimos baratos. Revista de Economía y Estrategia de Gestión, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan y A. Tomkins. Propagación de la confianza y la desconfianza. En la Conferencia sobre la World Wide Web (WWW), páginas 403-412, 2004. [13] M. Gupta, P. Judge y M. H. Ammar. Un sistema de reputación para redes peer-to-peer. En Network and Operating System Support for Digital Audio and Video (NOSSDAV), páginas 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina y J. Pedersen. Detección de spam de enlaces basada en estimación de masa. Informe técnico, Universidad de Stanford, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis y V. Prevelakis. Fileteller: Pagar y recibir pago por almacenamiento de archivos. En Criptografía Financiera, páginas 282-299, 2002. [16] E. T. Jaynes. ¿En qué punto nos encontramos con respecto a la entropía máxima? En R. D. Levine y M. Tribus, editores, El Formalismo de la Entropía Máxima, páginas 15-118. MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, y H. Garcia-Molina. El algoritmo Eigentrust para la gestión de reputación en redes P2P. En la Conferencia sobre la World Wide Web (WWW), páginas 640-651, 2003. [18] M. Kandori. Normas sociales y aplicación comunitaria. Revisión de Estudios Económicos, 59:63-80, 1992. [19] Corporación LogiSense. Sitio web de LogiSense. http://www.logisense.com/tm p2p.html. [20] L. Lovasz y P. Winkler. Mezcla de caminatas aleatorias y otras difusiones en un grafo. En Encuestas en Combinatoria, 1993, Walker (Ed.), Serie de Notas de Conferencias de la London Mathematical Society 187, Cambridge University Press. 1995. [21] Grupo de Tecnología de Código Abierto. Preguntas frecuentes sobre comentarios y moderación en Slashdot. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC. Sitio web de Gnutella. http://www.gnutella.com/. [23] M. L. Puterman. Procesos de Decisión de Markov. Wiley, 1994. [24] SETI@home. \n\nWiley, 1994. [24] SETI@home. Página web de SETI@home. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Sitio web de Kazaa. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar y E. Sirer. Karma: Un marco económico seguro para el intercambio de recursos entre pares. En Taller sobre Economía de Sistemas Peer-to-Peer (P2PECON), 2003. [27] L. Xiong y L. Liu. Construyendo confianza en comunidades electrónicas descentralizadas de pares a pares. En la Conferencia Internacional de Investigación en Comercio Electrónico (ICECR) de 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason y B. V. Roy. Haciendo que los sistemas de reputación basados en vectores propios sean robustos ante la colusión. En Taller sobre Algoritmos y Modelos para el Grafo Web (WAW), páginas 92-104, 2004. 149 ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "game": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed.",
                "It is shown that by adding a scrip system, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
                "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
                "Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "However, the cost of providing service can still be nontrivial.",
                "For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
                "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
                "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
                "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
                "These heavy users are some of the most expensive customers ISPs have.",
                "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
                "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
                "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems.",
                "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
                "Some of the P2P networks currently in use have implemented versions of these techniques.",
                "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
                "By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions.",
                "Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8].",
                "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
                "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
                "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
                "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
                "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
                "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
                "Unfortunately, if there are easy ways to <br>game</br> the system, once this information becomes widely available, rational users are likely to make use of it.",
                "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
                "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
                "However, to avoid penalizing new users, they gave new users an average rating.",
                "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
                "Thus Kazaas reputation system is ineffective.",
                "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
                "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
                "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
                "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
                "However, they have a different set of problems.",
                "Perhaps the most common involve determining the amount of money in the system.",
                "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
                "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
                "A related problem involves handling newcomers.",
                "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
                "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
                "In this paper, we provide a formal model in which to analyze scrip systems.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents.",
                "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
                "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
                "In systems where the goal is to do work, new users can acquire money by performing work.",
                "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
                "The rest of the paper is organized as follows.",
                "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
                "In Section 3, we examine what happens in the <br>game</br> under nonstrategic play, if all agents use the same threshold strategy.",
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the <br>game</br> where all agents use some threshold strategy.",
                "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
                "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
                "We conclude in Section 7. 2.",
                "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative <br>game</br>.",
                "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
                "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
                "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
                "This random-matching model fails to capture some salient aspects of a number of important settings.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can.",
                "For example, some people may not have the time or resources to satisfy the request.",
                "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
                "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
                "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
                "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
                "Finally, the actions and payoffs in the prisoners dilemma <br>game</br> do not obviously correspond to actual choices that can be made.",
                "For example, it is not clear what defection on the part of the requester means.",
                "In our model we try to deal with all these issues.",
                "Suppose that there are n agents.",
                "At each round, an agent is picked uniformly at random to make a request.",
                "Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request.",
                "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
                "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
                "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
                "If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
                "The agent that fulfills the request pays a cost of α < 1.",
                "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
                "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite <br>game</br>.",
                "Lastly, we assume that with more players requests come more often.",
                "Thus we assume that the time between rounds is 1/n.",
                "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this <br>game</br> with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
                "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
                "We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
                "V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request.",
                "This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
                "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
                "Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i.",
                "It is the discounted total of agent is utility in each round.",
                "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
                "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
                "Take an altruist to be someone who always fulfills requests.",
                "Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
                "Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it.",
                "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
                "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
                "While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others.",
                "For example a naive user of filesharing software with a good connection might well follow this strategy.",
                "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
                "As we have observed, such users seem to exist in some large systems.",
                "Suppose that our system has a altruists.",
                "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
                "Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system.",
                "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
                "Proposition 2.1.",
                "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
                "Proof.",
                "Consider the strategy for a standard player j in the presence of a altruists.",
                "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
                "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
                "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
                "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
                "Then we only need a > 1145.",
                "While this is a large number, it is small relative to the size of a large P2P network.",
                "Current systems all have a pool of users behaving like our altruists.",
                "This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
                "In some sense, this is not a problem at all.",
                "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
                "Indeed, current P2P network work quite well in terms of distributing content to people.",
                "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
                "Thus, it is worth looking at what can be done to make these systems work in their absence.",
                "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
                "We are interested in equilibria based on a scrip system.",
                "Each time an agent has a request satisfied he must pay the person who satisfied it some amount.",
                "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
                "We denote by M the total amount of money in the system.",
                "We assume that M > 0 (otherwise no one will ever be able to get paid).",
                "In principle, agents are free to adopt a very wide variety of strategies.",
                "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
                "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
                "The class of strategies we are interested in is easy to motivate.",
                "The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more.",
                "On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
                "The natural balance between these two is a threshold strategy.",
                "Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise.",
                "Note that S0 is the strategy where the agent never volunteers.",
                "While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
                "We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
                "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
                "The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE <br>game</br> UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
                "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
                "Suppose that everyone plays Sk.",
                "For simplicity, assume that everyone has at most k dollars.",
                "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
                "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
                "If M ≥ kn, no agent will ever be willing to work.",
                "Thus, for the purposes of this section we assume that M < kn.",
                "From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk.",
                "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
                "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
                "If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}.",
                "If there are n agents, then the state of the <br>game</br> can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
                "Since the total amount of money is constant, not all of these states can arise in the <br>game</br>.",
                "For example the state where each player has $0 is impossible to reach in any <br>game</br> with money in the system.",
                "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the <br>game</br> at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
                "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
                "It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state.",
                "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
                "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
                "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
                "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
                "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
                "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
                "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
                "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
                "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
                "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
                "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
                "We can in fact completely characterize the distribution d∗ .",
                "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
                "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
                "The statement is correct under a number of senses of close.",
                "For definiteness, we consider the Euclidean distance.",
                "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
                "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
                "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
                "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
                "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16].",
                "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
                "This fraction clearly goes to 0 as n gets large.",
                "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
                "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
                "Let Pij denote the probability of transitioning from state i to state j.",
                "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
                "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution.",
                "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
                "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
                "We then considered how close the distribution stays to the maximum entropy distribution once it has reached it.",
                "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
                "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
                "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
                "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
                "We believe that the actually time needed is O(n).",
                "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
                "THE <br>game</br> UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)",
                "This is not true in general.",
                "If δ is small, then agents have no incentive to work.",
                "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
                "With small δ, S0 is the only equilibrium.",
                "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
                "We do this by first showing that, if every other agent is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one).",
                "We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy.",
                "It follows that this tuple of threshold strategies is a Nash equilibrium.",
                "As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a threshold strategy Sk that is a best response for agent i.",
                "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
                "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
                "For a later proof, it will be helpful to have a continuous set of strategies.",
                "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
                "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
                "Theorem 4.1.",
                "Fix a strategy Sγ and an agent i.",
                "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in <br>game</br> G(n, δ), then there is an integer k such that the best response for agent i is Sk .",
                "Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
                "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
                "If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly.",
                "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
                "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
                "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
                "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
                "We remark that there may be best responses that are not threshold strategies.",
                "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy.",
                "Since we know that there is a best response that is a threshold strategy, we can look for a Nash equilibrium in the space of threshold strategies.",
                "Theorem 4.2.",
                "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the <br>game</br> G(n, δ) where all agents play Sγ for some integer γ > 0.",
                "Proof.",
                "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
                "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
                "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
                "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
                "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same threshold strategy.",
                "As we have already observed, one such equilibrium occurs at 0.",
                "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
                "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay.",
                "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
                "Consider k∗ , the smallest k such that k > M/n.",
                "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
                "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
                "This is the desired Nash equilibrium.",
                "This argument also shows us that we cannot in general expect fixed points to be unique.",
                "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
                "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
                "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
                "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
                "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
                "SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n).",
                "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
                "There is a tension between these objectives.",
                "It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases.",
                "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
                "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
                "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
                "Proof.",
                "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
                "Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r.",
                "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
                "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
                "We are currently exploring exactly what the optimal ratio is.",
                "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
                "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system.",
                "This produces the same effect.",
                "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has.",
                "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
                "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
                "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
                "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
                "This gives existing agents no incentive to leave and rejoin as newcomers.",
                "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
                "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
                "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
                "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
                "For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
                "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
                "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
                "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
                "However, we have not yet explored the changes required to implement this change.",
                "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
                "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
                "To get d dollars, his sybils together still have to perform d units of work.",
                "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
                "Nevertheless, there are some less direct ways that an agent could take advantage of sybils.",
                "First, by having more identities he will have a greater probability of getting chosen to make a request.",
                "It is easy to see that this will lead to the agent having higher total utility.",
                "However, this is just an artifact of our model.",
                "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
                "In practice, requests are made to satisfy a desire.",
                "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
                "Having sybils should not increase the need to have a request satisfied.",
                "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
                "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
                "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy.",
                "Intuitively, the need for money is not as critical if money is easier to obtain.",
                "Unlike the first concern, this seems like a real issue.",
                "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
                "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
                "Third, an agent can drive down the cost of fulfilling a request by introducing many sybils.",
                "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
                "Concievably he could alternate between these techniques to magnify the effects of work he does.",
                "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
                "Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
                "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
                "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
                "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
                "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
                "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
                "CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy.",
                "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
                "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
                "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
                "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation.",
                "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
                "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
                "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
                "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
                "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
                "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system.",
                "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
                "This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
                "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
                "There are some similarities between hoarding and altruistic behavior.",
                "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
                "It would be interesting to investigate the extent to which our system is robust against hoarders.",
                "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
                "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
                "There are also a number of implementation issues that would have to be resolved in a real system.",
                "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
                "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
                "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
                "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
                "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
                "Karma suggests several ways to incentivize nodes to perform these duties.",
                "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
                "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
                "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
                "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
                "REFERENCES [1] E. Adar and B.",
                "A. Huberman.",
                "Free riding on Gnutella.",
                "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
                "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
                "Sybilproof reputation mechanisms.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
                "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
                "The sybil attack.",
                "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
                "Cooperation in the prisoners dilemma with anonymous random matching.",
                "Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
                "Robust incentive techniques for peer-to-peer networks.",
                "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
                "Pricing wifi at starbucks: issues in online mechanism design.",
                "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
                "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
                "The social cost of cheap pseudonyms.",
                "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
                "Propagation of trust and distrust.",
                "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
                "A reputation system for peer-to-peer networks.",
                "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
                "Link spam detection based on mass estimation.",
                "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
                "Fileteller: Paying and getting paid for file storage.",
                "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
                "Where do we stand on maximum entropy?",
                "In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118.",
                "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
                "The Eigentrust algorithm for reputation management in P2P networks.",
                "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
                "Social norms and community enforcement.",
                "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
                "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
                "Mixing of random walks and other diffusions on a graph.",
                "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
                "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
                "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
                "Markov Decision Processes.",
                "Wiley, 1994. [24] SETI@home.",
                "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
                "Karma: A secure economic framework for peer-to-peer resource sharing.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
                "Building trust in decentralized peer-to-peer electronic communities.",
                "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
                "Making eigenvector-based reputation systems robust to collusion.",
                "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
            ],
            "original_annotated_samples": [
                "Unfortunately, if there are easy ways to <br>game</br> the system, once this information becomes widely available, rational users are likely to make use of it.",
                "In Section 3, we examine what happens in the <br>game</br> under nonstrategic play, if all agents use the same threshold strategy.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the <br>game</br> where all agents use some threshold strategy.",
                "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative <br>game</br>.",
                "Finally, the actions and payoffs in the prisoners dilemma <br>game</br> do not obviously correspond to actual choices that can be made."
            ],
            "translated_annotated_samples": [
                "Desafortunadamente, si existen formas fáciles de <br>manipular el sistema</br>, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen.",
                "En la Sección 3, examinamos qué sucede en el <br>juego</br> bajo un <br>juego</br> no estratégico, si todos los agentes utilizan la misma estrategia de umbral.",
                "Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el <br>juego</br> donde todos los agentes utilizan alguna estrategia de umbral.",
                "EL MODELO Para empezar, formalizamos la prestación de servicios en una red P2P como un <br>juego</br> no cooperativo.",
                "Finalmente, las acciones y recompensas en el <br>juego del dilema del prisionero</br> no corresponden claramente a las decisiones reales que se pueden tomar."
            ],
            "translated_text": "Eficiencia y equilibrios de Nash en un sistema de vales para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación. Universidad Cornell halpern@cs.cornell.edu Ian Kash Departamento de Ciencias de la Computación. La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una red P2P. Se demuestra que al agregar un sistema de script, se puede obtener un mecanismo que admita un equilibrio de Nash razonable que reduzca el comportamiento de aprovechamiento gratuito. El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el bienestar social) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia. El trabajo tiene implicaciones para muchos sistemas en línea, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; I.2.11 [Inteligencia Artificial]: Inteligencia Artificial Distribuida-Sistemas Multiagente; J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Computadoras y Sociedad]: Comercio Electrónico Términos Generales Economía, Teoría 1. INTRODUCCIÓN Una característica común de muchos sistemas distribuidos en línea es que los individuos proporcionan servicios entre sí. Las redes peer-to-peer (P2P) (como Kazaa [25] o BitTorrent [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás. El hecho de que las personas se presten servicios entre sí generalmente aumenta el bienestar social: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona. Sin embargo, el costo de brindar el servicio aún puede ser significativo. Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo. Por lo tanto, en muchos sistemas existe un fuerte incentivo para convertirse en un \"pasajero gratis\" y beneficiarse del sistema sin contribuir a él. Este no es simplemente un problema teórico; estudios de la red Gnutella [22] han demostrado que casi el 70 por ciento de los usuarios no comparten archivos y casi el 50 por ciento de las respuestas provienen del 1 por ciento superior de los anfitriones que comparten [1]. Tener relativamente pocos usuarios que proporcionen la mayor parte del servicio crea un punto de centralización; la desaparición de un pequeño porcentaje de usuarios puede afectar enormemente la funcionalidad del sistema. Además, las tendencias actuales parecen estar llevando a la eliminación de los usuarios altruistas en los que estos sistemas confían. Estos usuarios intensivos son algunos de los clientes más costosos que tienen los proveedores de servicios de Internet. Por lo tanto, a medida que la cantidad de tráfico ha aumentado, los proveedores de servicios de Internet han comenzado a buscar formas de reducir este tráfico. Algunas universidades han comenzado a cobrar a los estudiantes por el uso excesivo de ancho de banda; otras revocan el acceso a la red por ello [5]. Un número de empresas también se han formado cuyo servicio es detectar el uso excesivo de ancho de banda [19]. Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros sistemas en línea distribuidos. Se ha invertido una cantidad significativa de investigación en el diseño de sistemas de reputación para dar tratamiento preferencial a los usuarios que comparten archivos. Algunas de las redes P2P actualmente en uso han implementado versiones de estas técnicas. Sin embargo, estos enfoques tienden a caer en una de dos categorías: o son similares al trueque o se basan en la reputación. Por \"tipo trueque\", nos referimos a que cada agente basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones. Quizás el ejemplo más conocido de un sistema similar al trueque es BitTorrent, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual. Dado que el trueque está restringido a usuarios actualmente interesados en un solo archivo, esto funciona bien para archivos populares, pero tiende a tener problemas para mantener la disponibilidad de los menos populares. Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el sistema de créditos utilizado por eMule 140 [8]. Cada usuario realiza un seguimiento de su historial de interacciones con otros usuarios y da prioridad a aquellos de los que ha descargado previamente. Sin embargo, en un sistema grande, la probabilidad de que un par de usuarios elegidos al azar hayan interactuado antes es bastante baja, por lo que este historial de interacciones no será de gran ayuda. Anagnostakis y Greenwald [2] presentan una versión más sofisticada de este enfoque, pero aún parece sufrir de problemas similares. Se han realizado varios intentos de proporcionar sistemas de reputación generales (por ejemplo, [12, 13, 17, 27]). La idea básica es agregar la experiencia de cada usuario en un número global para cada individuo que represente de manera intuitiva la visión del sistema sobre la reputación de ese individuo. Sin embargo, estos intentos tienden a sufrir problemas prácticos porque implícitamente consideran a los usuarios como buenos o malos, asumen que los buenos usuarios actuarán de acuerdo con el protocolo especificado, y que hay relativamente pocos usuarios malos. Desafortunadamente, si existen formas fáciles de <br>manipular el sistema</br>, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen. No podemos depender solo de unos pocos usuarios siendo malos (en el sentido de no seguir el protocolo prescrito). Por ejemplo, Kazaa utiliza una medida de la proporción entre el número de cargas y el número de descargas para identificar usuarios buenos y malos. Sin embargo, para evitar penalizar a los nuevos usuarios, les dieron a los nuevos usuarios una calificación promedio. Los usuarios descubrieron que podían aprovechar esta calificación relativamente buena para viajar gratis por un tiempo y, una vez que comenzaba a empeorar, podían eliminar su información almacenada y regresar efectivamente como un nuevo usuario, evitando así el sistema (ver [2] para una discusión y [11] para un análisis formal de este lavado de imagen). Por lo tanto, el sistema de reputación de Kazaas es ineficaz. Este es un caso simple de una vulnerabilidad más general de tales sistemas a los ataques de sybil [6], donde un solo usuario mantiene múltiples identidades y las utiliza de manera coordinada para obtener un mejor servicio del que obtendría de otra manera. Trabajos recientes han demostrado que la mayoría de los sistemas de reputación comunes son vulnerables (en el peor de los casos) a tales ataques [4]; sin embargo, el grado de esta vulnerabilidad aún no está claro. El análisis de las vulnerabilidades prácticas y la existencia de sistemas inmunes a tales ataques sigue siendo un área de investigación activa (por ejemplo, [4, 28, 14]). Los sistemas económicos simples basados en un vale o dinero parecen evitar muchos de estos problemas, son fáciles de implementar y son bastante populares (ver, por ejemplo, [13, 15, 26]). Sin embargo, tienen un conjunto diferente de problemas. Quizás los más comunes implican determinar la cantidad de dinero en el sistema. Hablando en términos generales, si hay muy poco dinero en el sistema en relación con el número de agentes, entonces relativamente pocos usuarios pueden permitirse hacer solicitudes. Por otro lado, si hay demasiado dinero, entonces los usuarios no sentirán la necesidad de responder a una solicitud; ya tienen suficiente dinero. Un problema relacionado implica manejar a los recién llegados. Si a los recién llegados se les da una cantidad positiva de dinero, entonces el sistema está abierto a ataques de Sybil. Quizás no sorprendentemente, los sistemas de moneda fiduciaria terminan teniendo que lidiar con problemas económicos estándar como la inflación, las burbujas y las crisis [26]. En este artículo, proporcionamos un modelo formal en el cual analizar sistemas de escritura. Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero). Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (bienestar social), dado el número de agentes. También conduce a una solución para el problema de tratar con los recién llegados: simplemente asumimos que los nuevos usuarios llegan sin dinero, y ajustamos el precio del servicio (lo cual es equivalente a ajustar la oferta de dinero) para mantener la proporción que maximiza la eficiencia. Si bien asumir que los nuevos usuarios no tienen dinero no funcionará en todos los contextos, creemos que este enfoque será ampliamente aplicable. En sistemas donde el objetivo es realizar trabajo, los nuevos usuarios pueden adquirir dinero realizando trabajo. También debería funcionar en el sistema Kazaalike donde un usuario puede ingresar con algunos recursos (por ejemplo, una colección privada de MP3). El resto del documento está organizado de la siguiente manera. En la Sección 2, presentamos nuestro modelo formal y observamos que se puede utilizar para comprender el efecto de los altruistas. En la Sección 3, examinamos qué sucede en el <br>juego</br> bajo un <br>juego</br> no estratégico, si todos los agentes utilizan la misma estrategia de umbral. Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la entropía máxima. Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el <br>juego</br> donde todos los agentes utilizan alguna estrategia de umbral. Además, mostramos en la Sección 5 que el análisis conduce a una comprensión de cómo elegir la cantidad de dinero en el sistema (o, de manera equivalente, el costo para cumplir una solicitud) para maximizar la eficiencia, y también muestra cómo manejar a los nuevos usuarios. En la Sección 6, discutimos en qué medida nuestro enfoque puede manejar sybils y colusión. Concluimos en la Sección 7.2. EL MODELO Para empezar, formalizamos la prestación de servicios en una red P2P como un <br>juego</br> no cooperativo. A diferencia de gran parte de la modelización en esta área, nuestro modelo modelará las interacciones asimétricas en un sistema de intercambio de archivos en el que el emparejamiento de jugadores (aquellos que solicitan un archivo con aquellos que tienen ese archivo en particular) es una parte clave del sistema. Esto contrasta con gran parte de trabajos anteriores que utilizan emparejamiento aleatorio en un dilema del prisionero. Tales modelos fueron estudiados en la literatura económica [18, 7] y aplicados por primera vez a reputaciones en línea en [11]; una aplicación a P2P se encuentra en [9]. Este modelo de emparejamiento aleatorio no logra capturar algunos aspectos relevantes de varios entornos importantes. Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una red P2P grande), pero no todas pueden hacerlo. Por ejemplo, algunas personas pueden no tener el tiempo o los recursos para satisfacer la solicitud. El proceso de emparejamiento aleatorio ignora el hecho de que algunas personas pueden no ser capaces de satisfacer la solicitud. Presumiblemente, si la persona emparejada con el solicitante no pudiera satisfacer el emparejamiento, tendría que desertar. Además, no captura el hecho de que la decisión de si voluntariarse para satisfacer la solicitud debe tomarse antes del proceso de emparejamiento, no después. Es decir, el proceso de emparejamiento no captura el hecho de que si alguien no está dispuesto a satisfacer la solicitud, sin duda habrá otros que puedan hacerlo. Aunque nos referimos a nuestra unidad de moneda como el dólar, estos no son dólares reales ni los consideramos convertibles en dólares. Finalmente, las acciones y recompensas en el <br>juego del dilema del prisionero</br> no corresponden claramente a las decisiones reales que se pueden tomar. ",
            "candidates": [],
            "error": [
                [
                    "manipular el sistema",
                    "juego",
                    "juego",
                    "juego",
                    "juego",
                    "juego del dilema del prisionero"
                ]
            ]
        },
        "maximum entropy": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed.",
                "It is shown that by adding a scrip system, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
                "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
                "Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "However, the cost of providing service can still be nontrivial.",
                "For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
                "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
                "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
                "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
                "These heavy users are some of the most expensive customers ISPs have.",
                "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
                "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
                "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems.",
                "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
                "Some of the P2P networks currently in use have implemented versions of these techniques.",
                "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
                "By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions.",
                "Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8].",
                "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
                "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
                "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
                "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
                "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
                "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
                "Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it.",
                "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
                "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
                "However, to avoid penalizing new users, they gave new users an average rating.",
                "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
                "Thus Kazaas reputation system is ineffective.",
                "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
                "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
                "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
                "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
                "However, they have a different set of problems.",
                "Perhaps the most common involve determining the amount of money in the system.",
                "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
                "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
                "A related problem involves handling newcomers.",
                "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
                "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
                "In this paper, we provide a formal model in which to analyze scrip systems.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents.",
                "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
                "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
                "In systems where the goal is to do work, new users can acquire money by performing work.",
                "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
                "The rest of the paper is organized as follows.",
                "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
                "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same threshold strategy.",
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by <br>maximum entropy</br>.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some threshold strategy.",
                "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
                "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
                "We conclude in Section 7. 2.",
                "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative game.",
                "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
                "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
                "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
                "This random-matching model fails to capture some salient aspects of a number of important settings.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can.",
                "For example, some people may not have the time or resources to satisfy the request.",
                "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
                "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
                "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
                "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
                "Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made.",
                "For example, it is not clear what defection on the part of the requester means.",
                "In our model we try to deal with all these issues.",
                "Suppose that there are n agents.",
                "At each round, an agent is picked uniformly at random to make a request.",
                "Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request.",
                "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
                "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
                "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
                "If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
                "The agent that fulfills the request pays a cost of α < 1.",
                "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
                "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite game.",
                "Lastly, we assume that with more players requests come more often.",
                "Thus we assume that the time between rounds is 1/n.",
                "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
                "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
                "We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
                "V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request.",
                "This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
                "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
                "Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i.",
                "It is the discounted total of agent is utility in each round.",
                "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
                "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
                "Take an altruist to be someone who always fulfills requests.",
                "Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
                "Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it.",
                "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
                "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
                "While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others.",
                "For example a naive user of filesharing software with a good connection might well follow this strategy.",
                "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
                "As we have observed, such users seem to exist in some large systems.",
                "Suppose that our system has a altruists.",
                "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
                "Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system.",
                "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
                "Proposition 2.1.",
                "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
                "Proof.",
                "Consider the strategy for a standard player j in the presence of a altruists.",
                "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
                "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
                "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
                "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
                "Then we only need a > 1145.",
                "While this is a large number, it is small relative to the size of a large P2P network.",
                "Current systems all have a pool of users behaving like our altruists.",
                "This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
                "In some sense, this is not a problem at all.",
                "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
                "Indeed, current P2P network work quite well in terms of distributing content to people.",
                "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
                "Thus, it is worth looking at what can be done to make these systems work in their absence.",
                "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
                "We are interested in equilibria based on a scrip system.",
                "Each time an agent has a request satisfied he must pay the person who satisfied it some amount.",
                "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
                "We denote by M the total amount of money in the system.",
                "We assume that M > 0 (otherwise no one will ever be able to get paid).",
                "In principle, agents are free to adopt a very wide variety of strategies.",
                "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
                "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
                "The class of strategies we are interested in is easy to motivate.",
                "The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more.",
                "On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
                "The natural balance between these two is a threshold strategy.",
                "Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise.",
                "Note that S0 is the strategy where the agent never volunteers.",
                "While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
                "We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
                "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
                "The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
                "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
                "Suppose that everyone plays Sk.",
                "For simplicity, assume that everyone has at most k dollars.",
                "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
                "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
                "If M ≥ kn, no agent will ever be willing to work.",
                "Thus, for the purposes of this section we assume that M < kn.",
                "From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk.",
                "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
                "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
                "If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}.",
                "If there are n agents, then the state of the game can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
                "Since the total amount of money is constant, not all of these states can arise in the game.",
                "For example the state where each player has $0 is impossible to reach in any game with money in the system.",
                "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
                "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
                "It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state.",
                "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
                "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
                "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
                "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
                "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
                "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
                "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
                "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
                "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
                "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
                "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
                "We can in fact completely characterize the distribution d∗ .",
                "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
                "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
                "The statement is correct under a number of senses of close.",
                "For definiteness, we consider the Euclidean distance.",
                "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
                "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
                "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
                "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
                "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the <br>maximum entropy</br> distribution [16].",
                "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
                "This fraction clearly goes to 0 as n gets large.",
                "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
                "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
                "Let Pij denote the probability of transitioning from state i to state j.",
                "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
                "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the <br>maximum entropy</br> behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the <br>maximum entropy</br> distribution.",
                "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
                "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
                "We then considered how close the distribution stays to the <br>maximum entropy</br> distribution once it has reached it.",
                "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
                "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
                "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
                "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
                "We believe that the actually time needed is O(n).",
                "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)",
                "This is not true in general.",
                "If δ is small, then agents have no incentive to work.",
                "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
                "With small δ, S0 is the only equilibrium.",
                "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
                "We do this by first showing that, if every other agent is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one).",
                "We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy.",
                "It follows that this tuple of threshold strategies is a Nash equilibrium.",
                "As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a threshold strategy Sk that is a best response for agent i.",
                "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
                "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
                "For a later proof, it will be helpful to have a continuous set of strategies.",
                "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
                "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
                "Theorem 4.1.",
                "Fix a strategy Sγ and an agent i.",
                "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for agent i is Sk .",
                "Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
                "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
                "If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly.",
                "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
                "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
                "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
                "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
                "We remark that there may be best responses that are not threshold strategies.",
                "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy.",
                "Since we know that there is a best response that is a threshold strategy, we can look for a Nash equilibrium in the space of threshold strategies.",
                "Theorem 4.2.",
                "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the game G(n, δ) where all agents play Sγ for some integer γ > 0.",
                "Proof.",
                "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
                "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
                "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
                "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
                "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same threshold strategy.",
                "As we have already observed, one such equilibrium occurs at 0.",
                "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
                "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay.",
                "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
                "Consider k∗ , the smallest k such that k > M/n.",
                "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
                "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
                "This is the desired Nash equilibrium.",
                "This argument also shows us that we cannot in general expect fixed points to be unique.",
                "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
                "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
                "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
                "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
                "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
                "SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n).",
                "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
                "There is a tension between these objectives.",
                "It is not hard to show that as the fraction of agents with $0 increases in the <br>maximum entropy</br> distribution, the fraction of agents with the maximum amount of money decreases.",
                "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
                "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
                "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
                "Proof.",
                "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
                "Thus, given r, for each choice of k, there is a unique <br>maximum entropy</br> distribution dk,r.",
                "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
                "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
                "We are currently exploring exactly what the optimal ratio is.",
                "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
                "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system.",
                "This produces the same effect.",
                "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has.",
                "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
                "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
                "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
                "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
                "This gives existing agents no incentive to leave and rejoin as newcomers.",
                "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
                "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
                "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
                "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
                "For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
                "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
                "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
                "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
                "However, we have not yet explored the changes required to implement this change.",
                "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
                "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
                "To get d dollars, his sybils together still have to perform d units of work.",
                "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
                "Nevertheless, there are some less direct ways that an agent could take advantage of sybils.",
                "First, by having more identities he will have a greater probability of getting chosen to make a request.",
                "It is easy to see that this will lead to the agent having higher total utility.",
                "However, this is just an artifact of our model.",
                "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
                "In practice, requests are made to satisfy a desire.",
                "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
                "Having sybils should not increase the need to have a request satisfied.",
                "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
                "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
                "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy.",
                "Intuitively, the need for money is not as critical if money is easier to obtain.",
                "Unlike the first concern, this seems like a real issue.",
                "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
                "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
                "Third, an agent can drive down the cost of fulfilling a request by introducing many sybils.",
                "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
                "Concievably he could alternate between these techniques to magnify the effects of work he does.",
                "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
                "Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
                "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
                "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
                "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
                "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
                "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
                "CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy.",
                "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
                "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
                "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
                "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation.",
                "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
                "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
                "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
                "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
                "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
                "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system.",
                "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
                "This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
                "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
                "There are some similarities between hoarding and altruistic behavior.",
                "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
                "It would be interesting to investigate the extent to which our system is robust against hoarders.",
                "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
                "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
                "There are also a number of implementation issues that would have to be resolved in a real system.",
                "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
                "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
                "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
                "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
                "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
                "Karma suggests several ways to incentivize nodes to perform these duties.",
                "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
                "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
                "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
                "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
                "REFERENCES [1] E. Adar and B.",
                "A. Huberman.",
                "Free riding on Gnutella.",
                "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
                "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
                "Sybilproof reputation mechanisms.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
                "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
                "The sybil attack.",
                "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
                "Cooperation in the prisoners dilemma with anonymous random matching.",
                "Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
                "Robust incentive techniques for peer-to-peer networks.",
                "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
                "Pricing wifi at starbucks: issues in online mechanism design.",
                "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
                "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
                "The social cost of cheap pseudonyms.",
                "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
                "Propagation of trust and distrust.",
                "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
                "A reputation system for peer-to-peer networks.",
                "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
                "Link spam detection based on mass estimation.",
                "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
                "Fileteller: Paying and getting paid for file storage.",
                "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
                "Where do we stand on <br>maximum entropy</br>?",
                "In R. D. Levine and M. Tribus, editors, The <br>maximum entropy</br> Formalism, pages 15-118.",
                "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
                "The Eigentrust algorithm for reputation management in P2P networks.",
                "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
                "Social norms and community enforcement.",
                "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
                "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
                "Mixing of random walks and other diffusions on a graph.",
                "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
                "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
                "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
                "Markov Decision Processes.",
                "Wiley, 1994. [24] SETI@home.",
                "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
                "Karma: A secure economic framework for peer-to-peer resource sharing.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
                "Building trust in decentralized peer-to-peer electronic communities.",
                "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
                "Making eigenvector-based reputation systems robust to collusion.",
                "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
            ],
            "original_annotated_samples": [
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by <br>maximum entropy</br>.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the <br>maximum entropy</br> distribution [16].",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the <br>maximum entropy</br> behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the <br>maximum entropy</br> distribution.",
                "We then considered how close the distribution stays to the <br>maximum entropy</br> distribution once it has reached it."
            ],
            "translated_annotated_samples": [
                "Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la <br>entropía máxima</br>.",
                "Una técnica estándar de la mecánica estadística es demostrar que hay un fenómeno de concentración alrededor de la distribución de <br>entropía máxima</br> [16].",
                "Después de un tiempo suficiente, la distribución estará lo suficientemente cerca de π, de modo que las probabilidades vuelven a estar limitadas por una constante, lo cual es suficiente para completar el teorema. Realizamos una serie de experimentos que muestran que el comportamiento de <br>máxima entropía</br> descrito en el Teorema 3.1 surge rápidamente para valores bastante prácticos de n y t. El primer experimento mostró que, incluso si n = 1000, alcanzamos rápidamente la distribución de <br>máxima entropía</br>.",
                "Promediamos 10 ejecuciones de la cadena de Markov para k = 5 donde hay suficiente dinero para que cada agente tenga $2 comenzando desde una distribución muy extrema (cada agente tiene $0 o $5) y consideramos el tiempo promedio necesario para acercarse a varias distancias de la <br>distribución de entropía máxima</br>.",
                "Luego consideramos qué tan cerca se mantiene la distribución de la <br>entropía máxima</br> una vez que la ha alcanzado."
            ],
            "translated_text": "Eficiencia y equilibrios de Nash en un sistema de vales para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación. Universidad Cornell halpern@cs.cornell.edu Ian Kash Departamento de Ciencias de la Computación. La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una red P2P. Se demuestra que al agregar un sistema de script, se puede obtener un mecanismo que admita un equilibrio de Nash razonable que reduzca el comportamiento de aprovechamiento gratuito. El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el bienestar social) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia. El trabajo tiene implicaciones para muchos sistemas en línea, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; I.2.11 [Inteligencia Artificial]: Inteligencia Artificial Distribuida-Sistemas Multiagente; J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Computadoras y Sociedad]: Comercio Electrónico Términos Generales Economía, Teoría 1. INTRODUCCIÓN Una característica común de muchos sistemas distribuidos en línea es que los individuos proporcionan servicios entre sí. Las redes peer-to-peer (P2P) (como Kazaa [25] o BitTorrent [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás. El hecho de que las personas se presten servicios entre sí generalmente aumenta el bienestar social: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona. Sin embargo, el costo de brindar el servicio aún puede ser significativo. Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo. Por lo tanto, en muchos sistemas existe un fuerte incentivo para convertirse en un \"pasajero gratis\" y beneficiarse del sistema sin contribuir a él. Este no es simplemente un problema teórico; estudios de la red Gnutella [22] han demostrado que casi el 70 por ciento de los usuarios no comparten archivos y casi el 50 por ciento de las respuestas provienen del 1 por ciento superior de los anfitriones que comparten [1]. Tener relativamente pocos usuarios que proporcionen la mayor parte del servicio crea un punto de centralización; la desaparición de un pequeño porcentaje de usuarios puede afectar enormemente la funcionalidad del sistema. Además, las tendencias actuales parecen estar llevando a la eliminación de los usuarios altruistas en los que estos sistemas confían. Estos usuarios intensivos son algunos de los clientes más costosos que tienen los proveedores de servicios de Internet. Por lo tanto, a medida que la cantidad de tráfico ha aumentado, los proveedores de servicios de Internet han comenzado a buscar formas de reducir este tráfico. Algunas universidades han comenzado a cobrar a los estudiantes por el uso excesivo de ancho de banda; otras revocan el acceso a la red por ello [5]. Un número de empresas también se han formado cuyo servicio es detectar el uso excesivo de ancho de banda [19]. Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros sistemas en línea distribuidos. Se ha invertido una cantidad significativa de investigación en el diseño de sistemas de reputación para dar tratamiento preferencial a los usuarios que comparten archivos. Algunas de las redes P2P actualmente en uso han implementado versiones de estas técnicas. Sin embargo, estos enfoques tienden a caer en una de dos categorías: o son similares al trueque o se basan en la reputación. Por \"tipo trueque\", nos referimos a que cada agente basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones. Quizás el ejemplo más conocido de un sistema similar al trueque es BitTorrent, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual. Dado que el trueque está restringido a usuarios actualmente interesados en un solo archivo, esto funciona bien para archivos populares, pero tiende a tener problemas para mantener la disponibilidad de los menos populares. Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el sistema de créditos utilizado por eMule 140 [8]. Cada usuario realiza un seguimiento de su historial de interacciones con otros usuarios y da prioridad a aquellos de los que ha descargado previamente. Sin embargo, en un sistema grande, la probabilidad de que un par de usuarios elegidos al azar hayan interactuado antes es bastante baja, por lo que este historial de interacciones no será de gran ayuda. Anagnostakis y Greenwald [2] presentan una versión más sofisticada de este enfoque, pero aún parece sufrir de problemas similares. Se han realizado varios intentos de proporcionar sistemas de reputación generales (por ejemplo, [12, 13, 17, 27]). La idea básica es agregar la experiencia de cada usuario en un número global para cada individuo que represente de manera intuitiva la visión del sistema sobre la reputación de ese individuo. Sin embargo, estos intentos tienden a sufrir problemas prácticos porque implícitamente consideran a los usuarios como buenos o malos, asumen que los buenos usuarios actuarán de acuerdo con el protocolo especificado, y que hay relativamente pocos usuarios malos. Desafortunadamente, si existen formas fáciles de manipular el sistema, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen. No podemos depender solo de unos pocos usuarios siendo malos (en el sentido de no seguir el protocolo prescrito). Por ejemplo, Kazaa utiliza una medida de la proporción entre el número de cargas y el número de descargas para identificar usuarios buenos y malos. Sin embargo, para evitar penalizar a los nuevos usuarios, les dieron a los nuevos usuarios una calificación promedio. Los usuarios descubrieron que podían aprovechar esta calificación relativamente buena para viajar gratis por un tiempo y, una vez que comenzaba a empeorar, podían eliminar su información almacenada y regresar efectivamente como un nuevo usuario, evitando así el sistema (ver [2] para una discusión y [11] para un análisis formal de este lavado de imagen). Por lo tanto, el sistema de reputación de Kazaas es ineficaz. Este es un caso simple de una vulnerabilidad más general de tales sistemas a los ataques de sybil [6], donde un solo usuario mantiene múltiples identidades y las utiliza de manera coordinada para obtener un mejor servicio del que obtendría de otra manera. Trabajos recientes han demostrado que la mayoría de los sistemas de reputación comunes son vulnerables (en el peor de los casos) a tales ataques [4]; sin embargo, el grado de esta vulnerabilidad aún no está claro. El análisis de las vulnerabilidades prácticas y la existencia de sistemas inmunes a tales ataques sigue siendo un área de investigación activa (por ejemplo, [4, 28, 14]). Los sistemas económicos simples basados en un vale o dinero parecen evitar muchos de estos problemas, son fáciles de implementar y son bastante populares (ver, por ejemplo, [13, 15, 26]). Sin embargo, tienen un conjunto diferente de problemas. Quizás los más comunes implican determinar la cantidad de dinero en el sistema. Hablando en términos generales, si hay muy poco dinero en el sistema en relación con el número de agentes, entonces relativamente pocos usuarios pueden permitirse hacer solicitudes. Por otro lado, si hay demasiado dinero, entonces los usuarios no sentirán la necesidad de responder a una solicitud; ya tienen suficiente dinero. Un problema relacionado implica manejar a los recién llegados. Si a los recién llegados se les da una cantidad positiva de dinero, entonces el sistema está abierto a ataques de Sybil. Quizás no sorprendentemente, los sistemas de moneda fiduciaria terminan teniendo que lidiar con problemas económicos estándar como la inflación, las burbujas y las crisis [26]. En este artículo, proporcionamos un modelo formal en el cual analizar sistemas de escritura. Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero). Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (bienestar social), dado el número de agentes. También conduce a una solución para el problema de tratar con los recién llegados: simplemente asumimos que los nuevos usuarios llegan sin dinero, y ajustamos el precio del servicio (lo cual es equivalente a ajustar la oferta de dinero) para mantener la proporción que maximiza la eficiencia. Si bien asumir que los nuevos usuarios no tienen dinero no funcionará en todos los contextos, creemos que este enfoque será ampliamente aplicable. En sistemas donde el objetivo es realizar trabajo, los nuevos usuarios pueden adquirir dinero realizando trabajo. También debería funcionar en el sistema Kazaalike donde un usuario puede ingresar con algunos recursos (por ejemplo, una colección privada de MP3). El resto del documento está organizado de la siguiente manera. En la Sección 2, presentamos nuestro modelo formal y observamos que se puede utilizar para comprender el efecto de los altruistas. En la Sección 3, examinamos qué sucede en el juego bajo un juego no estratégico, si todos los agentes utilizan la misma estrategia de umbral. Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la <br>entropía máxima</br>. Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el juego donde todos los agentes utilizan alguna estrategia de umbral. Además, mostramos en la Sección 5 que el análisis conduce a una comprensión de cómo elegir la cantidad de dinero en el sistema (o, de manera equivalente, el costo para cumplir una solicitud) para maximizar la eficiencia, y también muestra cómo manejar a los nuevos usuarios. En la Sección 6, discutimos en qué medida nuestro enfoque puede manejar sybils y colusión. Concluimos en la Sección 7.2. EL MODELO Para empezar, formalizamos la prestación de servicios en una red P2P como un juego no cooperativo. A diferencia de gran parte de la modelización en esta área, nuestro modelo modelará las interacciones asimétricas en un sistema de intercambio de archivos en el que el emparejamiento de jugadores (aquellos que solicitan un archivo con aquellos que tienen ese archivo en particular) es una parte clave del sistema. Esto contrasta con gran parte de trabajos anteriores que utilizan emparejamiento aleatorio en un dilema del prisionero. Tales modelos fueron estudiados en la literatura económica [18, 7] y aplicados por primera vez a reputaciones en línea en [11]; una aplicación a P2P se encuentra en [9]. Este modelo de emparejamiento aleatorio no logra capturar algunos aspectos relevantes de varios entornos importantes. Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una red P2P grande), pero no todas pueden hacerlo. Por ejemplo, algunas personas pueden no tener el tiempo o los recursos para satisfacer la solicitud. El proceso de emparejamiento aleatorio ignora el hecho de que algunas personas pueden no ser capaces de satisfacer la solicitud. Presumiblemente, si la persona emparejada con el solicitante no pudiera satisfacer el emparejamiento, tendría que desertar. Además, no captura el hecho de que la decisión de si voluntariarse para satisfacer la solicitud debe tomarse antes del proceso de emparejamiento, no después. Es decir, el proceso de emparejamiento no captura el hecho de que si alguien no está dispuesto a satisfacer la solicitud, sin duda habrá otros que puedan hacerlo. Aunque nos referimos a nuestra unidad de moneda como el dólar, estos no son dólares reales ni los consideramos convertibles en dólares. Finalmente, las acciones y recompensas en el juego del dilema del prisionero no corresponden claramente a las decisiones reales que se pueden tomar. Por ejemplo, no está claro qué significa la deserción por parte del solicitante. En nuestro modelo intentamos abordar todos estos problemas. Supongamos que hay n agentes. En cada ronda, se elige de forma aleatoria y uniforme a un agente para hacer una solicitud. Cada otro agente puede satisfacer esta solicitud con una probabilidad β > 0 en todo momento, independientemente del comportamiento previo. El término β tiene la intención de capturar la probabilidad de que un agente esté ocupado o no tenga los recursos para cumplir con la solicitud. Suponer que β es independiente del tiempo no captura la intuición de que no poder cumplir una solicitud en el tiempo t puede estar correlacionado con no poder cumplirla en el tiempo t+1. Creemos que, en sistemas grandes, deberíamos poder eliminar la suposición de independencia, pero dejamos esto para trabajos futuros. En cualquier caso, aquellos agentes que sean capaces de satisfacer la solicitud deben elegir si desean o no ofrecerse como voluntarios para satisfacerla. Si al menos un agente se ofrece como voluntario, el solicitante recibe un beneficio de 1 utilidad (el trabajo se realiza) y uno de los voluntarios es elegido al azar para cumplir con la solicitud. El agente que cumple con la solicitud paga un costo de α < 1. Como es habitual en la literatura, asumimos que los agentes descuentan los beneficios futuros por un factor de δ por unidad de tiempo. Esto captura la intuición de que un util hoy vale más que un util mañana, y nos permite calcular la utilidad total derivada por un agente en un juego infinito. Por último, asumimos que con más jugadores las solicitudes llegan con más frecuencia. Por lo tanto, asumimos que el tiempo entre rondas es 1/n. Esto captura el hecho de que los sistemas que queremos modelar realmente están procesando muchas solicitudes en paralelo, por lo que esperaríamos que el número de solicitudes concurrentes sea proporcional al número de usuarios. Sea G(n, δ, α, β) este juego con n agentes, un factor de descuento de δ, un costo para satisfacer solicitudes de α y una probabilidad de poder satisfacer solicitudes de β. Cuando los dos últimos parámetros no son relevantes, a veces escribimos G(n, δ). Utilizamos la siguiente notación a lo largo del documento: • pt denota al agente elegido en la ronda t. • Bt i ∈ {0, 1} denota si el agente i puede satisfacer la solicitud en la ronda t. Bt i = 1 con probabilidad β > 0 y Bt i es independiente de Bt i para todo t = t. • V t i ∈ {0, 1} denota la decisión del agente i sobre si voluntariarse en la ronda t; 1 indica voluntariado. V t i está determinado por la estrategia del agente. • vt ∈ {j | V t j Bt j = 1} denota al agente elegido para satisfacer la solicitud. Este agente es elegido de manera uniforme al azar entre aquellos que están dispuestos (V t j = 1) y capaces (Bt j = 1) de satisfacer la solicitud. • ut i denota la utilidad del agente en la ronda t. Un agente estándar es aquel cuya utilidad se determina como se discutió en la introducción; es decir, el agente recibe 2. Para n grande, nuestro modelo converge a uno en el que los jugadores realizan solicitudes en tiempo real, y el tiempo entre las solicitudes de un jugador está distribuido de manera exponencial con media 1. Además, el tiempo entre las solicitudes atendidas por un único jugador también sigue una distribución exponencial. Una utilidad de 1 para una solicitud cumplida y una utilidad de -α por cumplir una solicitud. Por lo tanto, si i es un agente estándar, entonces ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 −α si i = vt 0 de lo contrario. • Ui = P∞ t=0 δt/n ut i denota la utilidad total para el agente i. Es el total descontado de la utilidad del agente en cada ronda. Ten en cuenta que el factor de descuento efectivo es δ1/n ya que un aumento en n conlleva a una reducción del tiempo entre rondas. Ahora que tenemos un modelo de cómo hacer y satisfacer solicitudes, lo utilizamos para analizar el comportamiento de no contribuir. Considera a un altruista como alguien que siempre cumple peticiones. El agente podría comportarse de manera altruista de manera racional si la función de utilidad del agente tiene la siguiente forma, para algún α > 0: ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 α si i = vt 0 en otro caso. Por lo tanto, en lugar de sufrir una pérdida de utilidad al satisfacer una solicitud, un agente obtiene utilidad positiva al satisfacerla. Una función de utilidad de este tipo es una representación razonable del placer que algunas personas obtienen al sentir que son quienes proporcionan la música que todos están tocando. Para agentes altruistas como estos, jugar la estrategia que establece V t i = 1 para todo t es dominante. Si bien tener una función de utilidad no estándar podría ser una razón por la cual un agente racional podría usar esta estrategia, ciertamente hay otras razones. Por ejemplo, un usuario inexperto de software de intercambio de archivos con una buena conexión bien podría seguir esta estrategia. Todo lo que importa para la siguiente discusión es que hay algunos agentes que utilizan esta estrategia, sea por la razón que sea. Como hemos observado, parece que existen usuarios de este tipo en algunos sistemas grandes. Supongamos que nuestro sistema tiene altruistas. Intuitivamente, si a es moderadamente grande, lograrán satisfacer la mayoría de las solicitudes en el sistema incluso si otros agentes no trabajan. Por lo tanto, hay poco incentivo para que cualquier otro agente se ofrezca como voluntario, porque ya está obteniendo pleno beneficio al participar en el sistema. Basándose en esta intuición, es un cálculo relativamente sencillo determinar un valor de a que depende solo de α, β y δ, pero no del número n de jugadores en el sistema, de modo que la estrategia dominante para todos los agentes estándar i sea nunca ofrecerse voluntariamente para satisfacer ninguna solicitud (es decir, V t i = 0 para todo t). Proposición 2.1. Existe un a que depende solo de α, β y δ tal que, en G(n, δ, α, β) con al menos a altruistas, no ofrecerse como voluntario en cada ronda es una estrategia dominante para todos los agentes estándar. Prueba. Considera la estrategia para un jugador estándar j en presencia de altruistas. Incluso sin dinero, el jugador j logrará que se satisfaga una solicitud con probabilidad 1 − (1 − β)a solo a través de las acciones de estos altruistas. Por lo tanto, incluso si j es elegido para hacer una solicitud en cada ronda, la utilidad adicional esperada máxima que puede esperar obtener al tener dinero es P∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ). Si (1 − β)a /(1 − δ) > α o, equivalentemente, si a > log1−β(α(1 − δ)), nunca ofrecerse como voluntario es una estrategia dominante. Considera los siguientes valores razonables para nuestros parámetros: β = .01 (para que cada jugador pueda satisfacer el 1% de las solicitudes), α = .1 (un costo bajo pero no despreciable), δ = .9999/día 142 (lo que corresponde a un factor de descuento anual de aproximadamente 0.95), y un promedio de 1 solicitud por día por jugador. Entonces solo necesitamos un > 1145. Si bien este es un número grande, es pequeño en comparación con el tamaño de una red P2P grande. Los sistemas actuales tienen un grupo de usuarios que se comportan como nuestros altruistas. Esto significa que los intentos de agregar un sistema de reputación encima de un sistema P2P existente para influir en los usuarios a cooperar no tendrán efecto en usuarios racionales. Para tener una distribución justa del trabajo, estos sistemas deben ser rediseñados fundamentalmente para eliminar el grupo de usuarios altruistas. En cierto sentido, esto no es un problema en absoluto. En un sistema con altruistas, los altruistas presumiblemente están felices, al igual que los agentes estándar, quienes ven casi todas sus solicitudes satisfechas sin tener que hacer ningún trabajo. De hecho, las redes P2P actuales funcionan bastante bien en términos de distribuir contenido a las personas. Sin embargo, como mencionamos en la introducción, hay razones para creer que estos altruistas podrían no estar presentes para siempre. Por lo tanto, vale la pena analizar qué se puede hacer para que estos sistemas funcionen en su ausencia. Para el resto de este documento asumimos que todos los agentes son estándar y tratan de maximizar la utilidad esperada. Estamos interesados en equilibrios basados en un sistema de vales. Cada vez que un agente tiene una solicitud satisfecha, debe pagarle a la persona que la satisfizo una cierta cantidad. Por ahora, asumimos que el pago es fijo; para simplificar, tomamos la cantidad como $1. Denotamos por M la cantidad total de dinero en el sistema. Suponemos que M > 0 (de lo contrario, nadie podrá cobrar nunca). En principio, los agentes son libres de adoptar una amplia variedad de estrategias. Pueden tomar decisiones basadas en los nombres de otros agentes o utilizar una estrategia que depende en gran medida de la historia, y combinar libremente estas estrategias. Para ayudar en nuestro análisis, nos gustaría poder restringir nuestra atención a una clase más simple de estrategias. La clase de estrategias en la que estamos interesados es fácil de motivar. La razón intuitiva para querer ganar dinero es para atender la posibilidad de que un agente se quede sin antes de tener la oportunidad de ganar más. Por otro lado, un agente racional con mucho dinero no querría trabajar, porque para cuando haya logrado gastar todo su dinero, la utilidad tendrá menos valor que el costo actual de trabajar. El equilibrio natural entre estos dos es una estrategia de umbral. Que Sk sea la estrategia en la que un agente se ofrece como voluntario siempre que tenga menos de k dólares y no lo haga de otra manera. Ten en cuenta que S0 es la estrategia en la que el agente nunca se ofrece como voluntario. Si bien todos los que juegan S0 conforman un equilibrio de Nash (nadie puede mejorar al ofrecerse como voluntario si nadie más está dispuesto a hacerlo), es un equilibrio poco interesante. Como mostraremos en la Sección 4, es suficiente restringir nuestra atención a esta clase de estrategias. Usamos Kt i para denotar la cantidad de dinero que el agente i tiene en el tiempo t. Claramente Kt+1 i = Kt i a menos que el agente i tenga una solicitud satisfecha, en cuyo caso Kt+1 i = Kt+1 i − 1 o el agente i cumple una solicitud, en cuyo caso Kt+1 i = Kt+1 i + 1. Formalmente, Kt+1 i = 8 < : Kt i − 1 si i = pt , P j=i V t j Bt j > 0, y Kt i > 0 Kt i + 1 si i = vt y Kt pt > 0 Kt i en otro caso. La estrategia de umbral Sk es la estrategia tal que V t i = 1 si Kt pt > 0 y Kt i < k, 0 en caso contrario. EL JUEGO BAJO JUEGO NO ESTRATÉGICO Antes de considerar el juego estratégico, examinamos qué sucede en el sistema si todos juegan simplemente la misma estrategia Sk. Nuestro objetivo general es demostrar que existe una distribución de dinero (es decir, la fracción de personas con cada cantidad de dinero) tal que el sistema converge a esta distribución en un sentido que se precisará en breve. Supongamos que todos juegan Sk. Para simplificar, asumamos que todos tienen a lo sumo k dólares. Podemos hacer esta suposición prácticamente sin pérdida de generalidad, ya que si alguien tiene más de k dólares, simplemente gastará dinero hasta tener como máximo k dólares. Después de este punto, nunca adquirirá más que k. Por lo tanto, eventualmente el sistema estará en tal estado. Si M ≥ kn, ningún agente estará dispuesto a trabajar. Por lo tanto, para los propósitos de esta sección asumimos que M < kn. Desde la perspectiva de un solo agente, en equilibrio (estocástico), el agente está experimentando un paseo aleatorio. Sin embargo, los parámetros de esta caminata aleatoria dependen de las caminatas aleatorias de los otros agentes y es bastante complicado resolverlo directamente. Por lo tanto, consideramos un análisis alternativo basado en la evolución del sistema en su conjunto. Si todos tienen a lo sumo k dólares, entonces la cantidad de dinero que tiene un agente es un elemento de {0, . . . , k}. Si hay n agentes, entonces el estado del juego puede ser descrito identificando cuánto dinero tiene cada agente, por lo que podemos representarlo mediante un elemento de Sk,n = {0, . . . , k}{1,...,n}. Dado que la cantidad total de dinero es constante, no todos estos estados pueden surgir en el juego. Por ejemplo, el estado en el que cada jugador tiene $0 es imposible de alcanzar en cualquier juego con dinero en el sistema. Sea mS(s) = P i∈{1...n} s(i) el monto total de dinero en el juego en el estado s, donde s(i) es la cantidad de dólares que el agente i tiene en el estado s. Queremos considerar solo aquellos estados donde el dinero total en el sistema es M, es decir, Sk,n,M = {s ∈ Sk,n | mS(s) = M}. Bajo el supuesto de que todos los agentes utilizan la estrategia Sk, la evolución del sistema puede ser tratada como una cadena de Markov Mk,n,M sobre el espacio de estados Sk,n,M. Es posible pasar de un estado a otro en una sola ronda si al elegir a un agente en particular para hacer una solicitud y a otro agente en particular para satisfacerla, las cantidades de dinero poseídas por cada agente se convierten en las del segundo estado. Por lo tanto, la probabilidad de una transición de un estado s a t es 0 a menos que existan dos agentes i y j tales que s(i) = t(i) para todos los i /∈ {i, j}, t(i) = s(i) + 1, y t(j) = s(j) − 1. En este caso, la probabilidad de transición de s a t es la probabilidad de que j sea elegido para gastar un dólar y tenga a alguien dispuesto y capaz de satisfacer su solicitud ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplicado por la probabilidad de que i sea elegido para satisfacer su solicitud (1/(|({i | s(i ) = k}| − Ij ). Ij es 0 si j tiene k dólares y 1 en caso contrario (es solo una corrección por el hecho de que j no puede satisfacer su propia solicitud). Sea ∆k el conjunto de distribuciones de probabilidad en {0, . . . , k}. Podemos pensar en un elemento de ∆k como la descripción de la fracción de personas con cada cantidad de dinero. Esta es una forma útil de ver el sistema, ya que normalmente no nos importa quién tiene cada cantidad de dinero, sino simplemente la fracción de personas que tienen cada cantidad. Como antes, no todos los elementos de ∆k son posibles, dada nuestra restricción de que la cantidad total de dinero es M. En lugar de pensar en términos de la cantidad total de dinero en el sistema, resultará más útil pensar en términos del monto promedio de dinero que tiene cada jugador. Por supuesto, la cantidad total de dinero en un sistema con n agentes es M si y solo si la cantidad promedio que cada jugador tiene es m = M/n. Sea ∆k m el conjunto de todas las distribuciones d ∈ ∆k tales que E(d) = m (es decir, Pk j=0 d(j)j = m). Dado un estado s ∈ Sk,n,M, sea ds ∈ ∆k m la distribución de dinero en s. Nuestro objetivo es demostrar que, si n es grande, entonces existe una distribución d∗ ∈ ∆k m tal que, con alta probabilidad, la cadena de Markov Mk,n,M estará casi siempre en un estado s tal que ds esté cerca de d∗. Por lo tanto, los agentes pueden basar sus decisiones sobre qué estrategia usar en la suposición de que estarán en ese estado. De hecho, podemos caracterizar completamente la distribución d∗. Dada una distribución d ∈ ∆k , sea H(d) = − X {j:d(j)=0} d(j) log(d(j)) la entropía de d. Si ∆ es un conjunto convexo cerrado de distribuciones, entonces es bien sabido que hay una distribución única en ∆ en la que la función de entropía alcanza su valor máximo en ∆. Dado que ∆k m se ve fácilmente como un conjunto convexo cerrado de distribuciones, se sigue que hay una distribución única en ∆k m que denotamos como d∗ k,m cuya entropía es mayor que la de todas las demás distribuciones en ∆k m. Ahora mostramos que, para n suficientemente grande, la cadena de Markov Mk,n,M está casi seguramente en un estado s tal que ds está cerca de d∗ k,M/n. La afirmación es correcta en varios sentidos de cercanía. Para mayor claridad, consideramos la distancia euclidiana. Dado > 0, sea Sk,n,m el conjunto de estados s en Sk,n,mn tal que Pk j=0 |ds (j) − d∗ k,m|2 < . Dada una cadena de Markov M sobre un espacio de estados S y S ⊆ S, sea Xt,s,S la variable aleatoria que denota que M se encuentra en un estado de S en el tiempo t, cuando se inicia en el estado s. Teorema 3.1. Para todo ε > 0, todo k y todo m, existe un n tal que para todo n > n y todos los estados s ∈ Sk,n,mn, existe un tiempo t∗ (que puede depender de k, n, m y ) tal que para t > t∗, tenemos que Pr(Xt,s,Sk,n,m, ) > 1 − . Prueba. (Bosquejo) Supongamos que en algún momento t, Pr(Xt,s,s) es uniforme para todos los s. Entonces, la probabilidad de estar en un conjunto de estados es simplemente el tamaño del conjunto dividido por el número total de estados. Una técnica estándar de la mecánica estadística es demostrar que hay un fenómeno de concentración alrededor de la distribución de <br>entropía máxima</br> [16]. Más precisamente, utilizando un argumento combinatorio directo, se puede demostrar que la fracción de estados que no están en Sk,n,m está acotada por p(n)/ecn, donde p es un polinomio. Esta fracción claramente tiende a 0 a medida que n crece. Por lo tanto, para n suficientemente grande, Pr(Xt,s,Sk,n,m, ) > 1 − si Pr(Xt,s,s ) es uniforme. Es relativamente sencillo demostrar que nuestra Cadena de Markov tiene una distribución límite π sobre Sk,n,mn, tal que para todo s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs. Que Pij denote la probabilidad de transición del estado i al estado j. Es fácil verificar mediante un cálculo explícito de las probabilidades de transición que Pij = Pji para todos los estados i y j. Se sigue inmediatamente de esta simetría que πs = πs, por lo que π es uniforme. Después de un tiempo suficiente, la distribución estará lo suficientemente cerca de π, de modo que las probabilidades vuelven a estar limitadas por una constante, lo cual es suficiente para completar el teorema. Realizamos una serie de experimentos que muestran que el comportamiento de <br>máxima entropía</br> descrito en el Teorema 3.1 surge rápidamente para valores bastante prácticos de n y t. El primer experimento mostró que, incluso si n = 1000, alcanzamos rápidamente la distribución de <br>máxima entropía</br>. Promediamos 10 ejecuciones de la cadena de Markov para k = 5 donde hay suficiente dinero para que cada agente tenga $2 comenzando desde una distribución muy extrema (cada agente tiene $0 o $5) y consideramos el tiempo promedio necesario para acercarse a varias distancias de la <br>distribución de entropía máxima</br>. Como muestra la Figura 1, después de 2,000 pasos, en promedio, la distancia euclidiana desde la distribución promedio del dinero hasta la distribución de máxima entropía es de .008; después de 3,000 pasos, la distancia disminuye a .001. Ten en cuenta que esto realmente solo son 3 unidades de tiempo reales, ya que con 1000 jugadores tenemos 1000 transacciones por unidad de tiempo. Luego consideramos qué tan cerca se mantiene la distribución de la <br>entropía máxima</br> una vez que la ha alcanzado. ",
            "candidates": [],
            "error": [
                [
                    "entropía máxima",
                    "entropía máxima",
                    "máxima entropía",
                    "máxima entropía",
                    "distribución de entropía máxima",
                    "entropía máxima"
                ]
            ]
        },
        "threshold strategy": {
            "translated_key": "estrategia de umbral",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed.",
                "It is shown that by adding a scrip system, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
                "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
                "Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "However, the cost of providing service can still be nontrivial.",
                "For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
                "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
                "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
                "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
                "These heavy users are some of the most expensive customers ISPs have.",
                "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
                "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
                "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems.",
                "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
                "Some of the P2P networks currently in use have implemented versions of these techniques.",
                "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
                "By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions.",
                "Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8].",
                "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
                "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
                "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
                "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
                "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
                "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
                "Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it.",
                "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
                "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
                "However, to avoid penalizing new users, they gave new users an average rating.",
                "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
                "Thus Kazaas reputation system is ineffective.",
                "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
                "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
                "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
                "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
                "However, they have a different set of problems.",
                "Perhaps the most common involve determining the amount of money in the system.",
                "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
                "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
                "A related problem involves handling newcomers.",
                "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
                "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
                "In this paper, we provide a formal model in which to analyze scrip systems.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents.",
                "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
                "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
                "In systems where the goal is to do work, new users can acquire money by performing work.",
                "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
                "The rest of the paper is organized as follows.",
                "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
                "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same <br>threshold strategy</br>.",
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some <br>threshold strategy</br>.",
                "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
                "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
                "We conclude in Section 7. 2.",
                "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative game.",
                "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
                "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
                "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
                "This random-matching model fails to capture some salient aspects of a number of important settings.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can.",
                "For example, some people may not have the time or resources to satisfy the request.",
                "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
                "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
                "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
                "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
                "Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made.",
                "For example, it is not clear what defection on the part of the requester means.",
                "In our model we try to deal with all these issues.",
                "Suppose that there are n agents.",
                "At each round, an agent is picked uniformly at random to make a request.",
                "Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request.",
                "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
                "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
                "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
                "If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
                "The agent that fulfills the request pays a cost of α < 1.",
                "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
                "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite game.",
                "Lastly, we assume that with more players requests come more often.",
                "Thus we assume that the time between rounds is 1/n.",
                "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
                "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
                "We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
                "V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request.",
                "This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
                "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
                "Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i.",
                "It is the discounted total of agent is utility in each round.",
                "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
                "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
                "Take an altruist to be someone who always fulfills requests.",
                "Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
                "Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it.",
                "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
                "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
                "While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others.",
                "For example a naive user of filesharing software with a good connection might well follow this strategy.",
                "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
                "As we have observed, such users seem to exist in some large systems.",
                "Suppose that our system has a altruists.",
                "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
                "Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system.",
                "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
                "Proposition 2.1.",
                "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
                "Proof.",
                "Consider the strategy for a standard player j in the presence of a altruists.",
                "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
                "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
                "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
                "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
                "Then we only need a > 1145.",
                "While this is a large number, it is small relative to the size of a large P2P network.",
                "Current systems all have a pool of users behaving like our altruists.",
                "This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
                "In some sense, this is not a problem at all.",
                "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
                "Indeed, current P2P network work quite well in terms of distributing content to people.",
                "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
                "Thus, it is worth looking at what can be done to make these systems work in their absence.",
                "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
                "We are interested in equilibria based on a scrip system.",
                "Each time an agent has a request satisfied he must pay the person who satisfied it some amount.",
                "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
                "We denote by M the total amount of money in the system.",
                "We assume that M > 0 (otherwise no one will ever be able to get paid).",
                "In principle, agents are free to adopt a very wide variety of strategies.",
                "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
                "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
                "The class of strategies we are interested in is easy to motivate.",
                "The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more.",
                "On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
                "The natural balance between these two is a <br>threshold strategy</br>.",
                "Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise.",
                "Note that S0 is the strategy where the agent never volunteers.",
                "While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
                "We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
                "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
                "The <br>threshold strategy</br> Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
                "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
                "Suppose that everyone plays Sk.",
                "For simplicity, assume that everyone has at most k dollars.",
                "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
                "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
                "If M ≥ kn, no agent will ever be willing to work.",
                "Thus, for the purposes of this section we assume that M < kn.",
                "From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk.",
                "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
                "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
                "If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}.",
                "If there are n agents, then the state of the game can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
                "Since the total amount of money is constant, not all of these states can arise in the game.",
                "For example the state where each player has $0 is impossible to reach in any game with money in the system.",
                "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
                "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
                "It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state.",
                "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
                "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
                "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
                "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
                "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
                "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
                "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
                "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
                "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
                "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
                "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
                "We can in fact completely characterize the distribution d∗ .",
                "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
                "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
                "The statement is correct under a number of senses of close.",
                "For definiteness, we consider the Euclidean distance.",
                "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
                "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
                "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
                "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
                "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16].",
                "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
                "This fraction clearly goes to 0 as n gets large.",
                "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
                "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
                "Let Pij denote the probability of transitioning from state i to state j.",
                "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
                "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution.",
                "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
                "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
                "We then considered how close the distribution stays to the maximum entropy distribution once it has reached it.",
                "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
                "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
                "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
                "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
                "We believe that the actually time needed is O(n).",
                "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a <br>threshold strategy</br>; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)",
                "This is not true in general.",
                "If δ is small, then agents have no incentive to work.",
                "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
                "With small δ, S0 is the only equilibrium.",
                "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
                "We do this by first showing that, if every other agent is playing a <br>threshold strategy</br>, then there is a best response that is also a <br>threshold strategy</br> (although not necessarily the same one).",
                "We then show that there must be some (mixed) <br>threshold strategy</br> for which this best response is the same strategy.",
                "It follows that this tuple of threshold strategies is a Nash equilibrium.",
                "As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a <br>threshold strategy</br> Sk that is a best response for agent i.",
                "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
                "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
                "For a later proof, it will be helpful to have a continuous set of strategies.",
                "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
                "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
                "Theorem 4.1.",
                "Fix a strategy Sγ and an agent i.",
                "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for agent i is Sk .",
                "Either k is unique (that is, there is a unique best response that is also a <br>threshold strategy</br>), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
                "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
                "If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly.",
                "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
                "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
                "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
                "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
                "We remark that there may be best responses that are not threshold strategies.",
                "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a <br>threshold strategy</br>.",
                "Since we know that there is a best response that is a <br>threshold strategy</br>, we can look for a Nash equilibrium in the space of threshold strategies.",
                "Theorem 4.2.",
                "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the game G(n, δ) where all agents play Sγ for some integer γ > 0.",
                "Proof.",
                "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response <br>threshold strategy</br> if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
                "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
                "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
                "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
                "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same <br>threshold strategy</br>.",
                "As we have already observed, one such equilibrium occurs at 0.",
                "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
                "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay.",
                "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
                "Consider k∗ , the smallest k such that k > M/n.",
                "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
                "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
                "This is the desired Nash equilibrium.",
                "This argument also shows us that we cannot in general expect fixed points to be unique.",
                "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
                "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
                "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
                "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
                "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
                "SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some <br>threshold strategy</br> Sγ(M,n).",
                "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
                "There is a tension between these objectives.",
                "It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases.",
                "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
                "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
                "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
                "Proof.",
                "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
                "Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r.",
                "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
                "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
                "We are currently exploring exactly what the optimal ratio is.",
                "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
                "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system.",
                "This produces the same effect.",
                "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has.",
                "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
                "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
                "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
                "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
                "This gives existing agents no incentive to leave and rejoin as newcomers.",
                "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
                "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
                "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
                "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
                "For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
                "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
                "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
                "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
                "However, we have not yet explored the changes required to implement this change.",
                "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
                "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
                "To get d dollars, his sybils together still have to perform d units of work.",
                "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
                "Nevertheless, there are some less direct ways that an agent could take advantage of sybils.",
                "First, by having more identities he will have a greater probability of getting chosen to make a request.",
                "It is easy to see that this will lead to the agent having higher total utility.",
                "However, this is just an artifact of our model.",
                "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
                "In practice, requests are made to satisfy a desire.",
                "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
                "Having sybils should not increase the need to have a request satisfied.",
                "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
                "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
                "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy.",
                "Intuitively, the need for money is not as critical if money is easier to obtain.",
                "Unlike the first concern, this seems like a real issue.",
                "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
                "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
                "Third, an agent can drive down the cost of fulfilling a request by introducing many sybils.",
                "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
                "Concievably he could alternate between these techniques to magnify the effects of work he does.",
                "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
                "Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
                "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
                "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
                "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
                "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
                "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
                "CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a Nash equilibrium where all agents use a <br>threshold strategy</br>.",
                "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
                "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
                "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
                "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation.",
                "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
                "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
                "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
                "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
                "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
                "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system.",
                "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
                "This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
                "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
                "There are some similarities between hoarding and altruistic behavior.",
                "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
                "It would be interesting to investigate the extent to which our system is robust against hoarders.",
                "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
                "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
                "There are also a number of implementation issues that would have to be resolved in a real system.",
                "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
                "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
                "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
                "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
                "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
                "Karma suggests several ways to incentivize nodes to perform these duties.",
                "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
                "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
                "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
                "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
                "REFERENCES [1] E. Adar and B.",
                "A. Huberman.",
                "Free riding on Gnutella.",
                "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
                "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
                "Sybilproof reputation mechanisms.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
                "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
                "The sybil attack.",
                "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
                "Cooperation in the prisoners dilemma with anonymous random matching.",
                "Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
                "Robust incentive techniques for peer-to-peer networks.",
                "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
                "Pricing wifi at starbucks: issues in online mechanism design.",
                "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
                "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
                "The social cost of cheap pseudonyms.",
                "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
                "Propagation of trust and distrust.",
                "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
                "A reputation system for peer-to-peer networks.",
                "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
                "Link spam detection based on mass estimation.",
                "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
                "Fileteller: Paying and getting paid for file storage.",
                "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
                "Where do we stand on maximum entropy?",
                "In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118.",
                "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
                "The Eigentrust algorithm for reputation management in P2P networks.",
                "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
                "Social norms and community enforcement.",
                "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
                "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
                "Mixing of random walks and other diffusions on a graph.",
                "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
                "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
                "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
                "Markov Decision Processes.",
                "Wiley, 1994. [24] SETI@home.",
                "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
                "Karma: A secure economic framework for peer-to-peer resource sharing.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
                "Building trust in decentralized peer-to-peer electronic communities.",
                "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
                "Making eigenvector-based reputation systems robust to collusion.",
                "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
            ],
            "original_annotated_samples": [
                "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same <br>threshold strategy</br>.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some <br>threshold strategy</br>.",
                "The natural balance between these two is a <br>threshold strategy</br>.",
                "The <br>threshold strategy</br> Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a <br>threshold strategy</br>; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)"
            ],
            "translated_annotated_samples": [
                "En la Sección 3, examinamos qué sucede en el juego bajo un juego no estratégico, si todos los agentes utilizan la misma <br>estrategia de umbral</br>.",
                "Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el juego donde todos los agentes utilizan alguna <br>estrategia de umbral</br>.",
                "El equilibrio natural entre estos dos es una <br>estrategia de umbral</br>.",
                "La <br>estrategia de umbral</br> Sk es la estrategia tal que V t i = 1 si Kt pt > 0 y Kt i < k, 0 en caso contrario.",
                "EL JUEGO BAJO JUGADA ESTRATÉGICA Hemos visto que el sistema se comporta bien si los agentes siguen todos una <br>estrategia de umbral</br>; ahora queremos demostrar que existe un equilibrio de Nash no trivial donde lo hacen (es decir, un equilibrio de Nash donde todos los agentes usan Sk para algún k > 0)."
            ],
            "translated_text": "Eficiencia y equilibrios de Nash en un sistema de vales para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación. Universidad Cornell halpern@cs.cornell.edu Ian Kash Departamento de Ciencias de la Computación. La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una red P2P. Se demuestra que al agregar un sistema de script, se puede obtener un mecanismo que admita un equilibrio de Nash razonable que reduzca el comportamiento de aprovechamiento gratuito. El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el bienestar social) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia. El trabajo tiene implicaciones para muchos sistemas en línea, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; I.2.11 [Inteligencia Artificial]: Inteligencia Artificial Distribuida-Sistemas Multiagente; J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Computadoras y Sociedad]: Comercio Electrónico Términos Generales Economía, Teoría 1. INTRODUCCIÓN Una característica común de muchos sistemas distribuidos en línea es que los individuos proporcionan servicios entre sí. Las redes peer-to-peer (P2P) (como Kazaa [25] o BitTorrent [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás. El hecho de que las personas se presten servicios entre sí generalmente aumenta el bienestar social: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona. Sin embargo, el costo de brindar el servicio aún puede ser significativo. Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo. Por lo tanto, en muchos sistemas existe un fuerte incentivo para convertirse en un \"pasajero gratis\" y beneficiarse del sistema sin contribuir a él. Este no es simplemente un problema teórico; estudios de la red Gnutella [22] han demostrado que casi el 70 por ciento de los usuarios no comparten archivos y casi el 50 por ciento de las respuestas provienen del 1 por ciento superior de los anfitriones que comparten [1]. Tener relativamente pocos usuarios que proporcionen la mayor parte del servicio crea un punto de centralización; la desaparición de un pequeño porcentaje de usuarios puede afectar enormemente la funcionalidad del sistema. Además, las tendencias actuales parecen estar llevando a la eliminación de los usuarios altruistas en los que estos sistemas confían. Estos usuarios intensivos son algunos de los clientes más costosos que tienen los proveedores de servicios de Internet. Por lo tanto, a medida que la cantidad de tráfico ha aumentado, los proveedores de servicios de Internet han comenzado a buscar formas de reducir este tráfico. Algunas universidades han comenzado a cobrar a los estudiantes por el uso excesivo de ancho de banda; otras revocan el acceso a la red por ello [5]. Un número de empresas también se han formado cuyo servicio es detectar el uso excesivo de ancho de banda [19]. Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros sistemas en línea distribuidos. Se ha invertido una cantidad significativa de investigación en el diseño de sistemas de reputación para dar tratamiento preferencial a los usuarios que comparten archivos. Algunas de las redes P2P actualmente en uso han implementado versiones de estas técnicas. Sin embargo, estos enfoques tienden a caer en una de dos categorías: o son similares al trueque o se basan en la reputación. Por \"tipo trueque\", nos referimos a que cada agente basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones. Quizás el ejemplo más conocido de un sistema similar al trueque es BitTorrent, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual. Dado que el trueque está restringido a usuarios actualmente interesados en un solo archivo, esto funciona bien para archivos populares, pero tiende a tener problemas para mantener la disponibilidad de los menos populares. Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el sistema de créditos utilizado por eMule 140 [8]. Cada usuario realiza un seguimiento de su historial de interacciones con otros usuarios y da prioridad a aquellos de los que ha descargado previamente. Sin embargo, en un sistema grande, la probabilidad de que un par de usuarios elegidos al azar hayan interactuado antes es bastante baja, por lo que este historial de interacciones no será de gran ayuda. Anagnostakis y Greenwald [2] presentan una versión más sofisticada de este enfoque, pero aún parece sufrir de problemas similares. Se han realizado varios intentos de proporcionar sistemas de reputación generales (por ejemplo, [12, 13, 17, 27]). La idea básica es agregar la experiencia de cada usuario en un número global para cada individuo que represente de manera intuitiva la visión del sistema sobre la reputación de ese individuo. Sin embargo, estos intentos tienden a sufrir problemas prácticos porque implícitamente consideran a los usuarios como buenos o malos, asumen que los buenos usuarios actuarán de acuerdo con el protocolo especificado, y que hay relativamente pocos usuarios malos. Desafortunadamente, si existen formas fáciles de manipular el sistema, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen. No podemos depender solo de unos pocos usuarios siendo malos (en el sentido de no seguir el protocolo prescrito). Por ejemplo, Kazaa utiliza una medida de la proporción entre el número de cargas y el número de descargas para identificar usuarios buenos y malos. Sin embargo, para evitar penalizar a los nuevos usuarios, les dieron a los nuevos usuarios una calificación promedio. Los usuarios descubrieron que podían aprovechar esta calificación relativamente buena para viajar gratis por un tiempo y, una vez que comenzaba a empeorar, podían eliminar su información almacenada y regresar efectivamente como un nuevo usuario, evitando así el sistema (ver [2] para una discusión y [11] para un análisis formal de este lavado de imagen). Por lo tanto, el sistema de reputación de Kazaas es ineficaz. Este es un caso simple de una vulnerabilidad más general de tales sistemas a los ataques de sybil [6], donde un solo usuario mantiene múltiples identidades y las utiliza de manera coordinada para obtener un mejor servicio del que obtendría de otra manera. Trabajos recientes han demostrado que la mayoría de los sistemas de reputación comunes son vulnerables (en el peor de los casos) a tales ataques [4]; sin embargo, el grado de esta vulnerabilidad aún no está claro. El análisis de las vulnerabilidades prácticas y la existencia de sistemas inmunes a tales ataques sigue siendo un área de investigación activa (por ejemplo, [4, 28, 14]). Los sistemas económicos simples basados en un vale o dinero parecen evitar muchos de estos problemas, son fáciles de implementar y son bastante populares (ver, por ejemplo, [13, 15, 26]). Sin embargo, tienen un conjunto diferente de problemas. Quizás los más comunes implican determinar la cantidad de dinero en el sistema. Hablando en términos generales, si hay muy poco dinero en el sistema en relación con el número de agentes, entonces relativamente pocos usuarios pueden permitirse hacer solicitudes. Por otro lado, si hay demasiado dinero, entonces los usuarios no sentirán la necesidad de responder a una solicitud; ya tienen suficiente dinero. Un problema relacionado implica manejar a los recién llegados. Si a los recién llegados se les da una cantidad positiva de dinero, entonces el sistema está abierto a ataques de Sybil. Quizás no sorprendentemente, los sistemas de moneda fiduciaria terminan teniendo que lidiar con problemas económicos estándar como la inflación, las burbujas y las crisis [26]. En este artículo, proporcionamos un modelo formal en el cual analizar sistemas de escritura. Describimos un sistema de guion simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero). Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (bienestar social), dado el número de agentes. También conduce a una solución para el problema de tratar con los recién llegados: simplemente asumimos que los nuevos usuarios llegan sin dinero, y ajustamos el precio del servicio (lo cual es equivalente a ajustar la oferta de dinero) para mantener la proporción que maximiza la eficiencia. Si bien asumir que los nuevos usuarios no tienen dinero no funcionará en todos los contextos, creemos que este enfoque será ampliamente aplicable. En sistemas donde el objetivo es realizar trabajo, los nuevos usuarios pueden adquirir dinero realizando trabajo. También debería funcionar en el sistema Kazaalike donde un usuario puede ingresar con algunos recursos (por ejemplo, una colección privada de MP3). El resto del documento está organizado de la siguiente manera. En la Sección 2, presentamos nuestro modelo formal y observamos que se puede utilizar para comprender el efecto de los altruistas. En la Sección 3, examinamos qué sucede en el juego bajo un juego no estratégico, si todos los agentes utilizan la misma <br>estrategia de umbral</br>. Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la entropía máxima. Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el juego donde todos los agentes utilizan alguna <br>estrategia de umbral</br>. Además, mostramos en la Sección 5 que el análisis conduce a una comprensión de cómo elegir la cantidad de dinero en el sistema (o, de manera equivalente, el costo para cumplir una solicitud) para maximizar la eficiencia, y también muestra cómo manejar a los nuevos usuarios. En la Sección 6, discutimos en qué medida nuestro enfoque puede manejar sybils y colusión. Concluimos en la Sección 7.2. EL MODELO Para empezar, formalizamos la prestación de servicios en una red P2P como un juego no cooperativo. A diferencia de gran parte de la modelización en esta área, nuestro modelo modelará las interacciones asimétricas en un sistema de intercambio de archivos en el que el emparejamiento de jugadores (aquellos que solicitan un archivo con aquellos que tienen ese archivo en particular) es una parte clave del sistema. Esto contrasta con gran parte de trabajos anteriores que utilizan emparejamiento aleatorio en un dilema del prisionero. Tales modelos fueron estudiados en la literatura económica [18, 7] y aplicados por primera vez a reputaciones en línea en [11]; una aplicación a P2P se encuentra en [9]. Este modelo de emparejamiento aleatorio no logra capturar algunos aspectos relevantes de varios entornos importantes. Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una red P2P grande), pero no todas pueden hacerlo. Por ejemplo, algunas personas pueden no tener el tiempo o los recursos para satisfacer la solicitud. El proceso de emparejamiento aleatorio ignora el hecho de que algunas personas pueden no ser capaces de satisfacer la solicitud. Presumiblemente, si la persona emparejada con el solicitante no pudiera satisfacer el emparejamiento, tendría que desertar. Además, no captura el hecho de que la decisión de si voluntariarse para satisfacer la solicitud debe tomarse antes del proceso de emparejamiento, no después. Es decir, el proceso de emparejamiento no captura el hecho de que si alguien no está dispuesto a satisfacer la solicitud, sin duda habrá otros que puedan hacerlo. Aunque nos referimos a nuestra unidad de moneda como el dólar, estos no son dólares reales ni los consideramos convertibles en dólares. Finalmente, las acciones y recompensas en el juego del dilema del prisionero no corresponden claramente a las decisiones reales que se pueden tomar. Por ejemplo, no está claro qué significa la deserción por parte del solicitante. En nuestro modelo intentamos abordar todos estos problemas. Supongamos que hay n agentes. En cada ronda, se elige de forma aleatoria y uniforme a un agente para hacer una solicitud. Cada otro agente puede satisfacer esta solicitud con una probabilidad β > 0 en todo momento, independientemente del comportamiento previo. El término β tiene la intención de capturar la probabilidad de que un agente esté ocupado o no tenga los recursos para cumplir con la solicitud. Suponer que β es independiente del tiempo no captura la intuición de que no poder cumplir una solicitud en el tiempo t puede estar correlacionado con no poder cumplirla en el tiempo t+1. Creemos que, en sistemas grandes, deberíamos poder eliminar la suposición de independencia, pero dejamos esto para trabajos futuros. En cualquier caso, aquellos agentes que sean capaces de satisfacer la solicitud deben elegir si desean o no ofrecerse como voluntarios para satisfacerla. Si al menos un agente se ofrece como voluntario, el solicitante recibe un beneficio de 1 utilidad (el trabajo se realiza) y uno de los voluntarios es elegido al azar para cumplir con la solicitud. El agente que cumple con la solicitud paga un costo de α < 1. Como es habitual en la literatura, asumimos que los agentes descuentan los beneficios futuros por un factor de δ por unidad de tiempo. Esto captura la intuición de que un util hoy vale más que un util mañana, y nos permite calcular la utilidad total derivada por un agente en un juego infinito. Por último, asumimos que con más jugadores las solicitudes llegan con más frecuencia. Por lo tanto, asumimos que el tiempo entre rondas es 1/n. Esto captura el hecho de que los sistemas que queremos modelar realmente están procesando muchas solicitudes en paralelo, por lo que esperaríamos que el número de solicitudes concurrentes sea proporcional al número de usuarios. Sea G(n, δ, α, β) este juego con n agentes, un factor de descuento de δ, un costo para satisfacer solicitudes de α y una probabilidad de poder satisfacer solicitudes de β. Cuando los dos últimos parámetros no son relevantes, a veces escribimos G(n, δ). Utilizamos la siguiente notación a lo largo del documento: • pt denota al agente elegido en la ronda t. • Bt i ∈ {0, 1} denota si el agente i puede satisfacer la solicitud en la ronda t. Bt i = 1 con probabilidad β > 0 y Bt i es independiente de Bt i para todo t = t. • V t i ∈ {0, 1} denota la decisión del agente i sobre si voluntariarse en la ronda t; 1 indica voluntariado. V t i está determinado por la estrategia del agente. • vt ∈ {j | V t j Bt j = 1} denota al agente elegido para satisfacer la solicitud. Este agente es elegido de manera uniforme al azar entre aquellos que están dispuestos (V t j = 1) y capaces (Bt j = 1) de satisfacer la solicitud. • ut i denota la utilidad del agente en la ronda t. Un agente estándar es aquel cuya utilidad se determina como se discutió en la introducción; es decir, el agente recibe 2. Para n grande, nuestro modelo converge a uno en el que los jugadores realizan solicitudes en tiempo real, y el tiempo entre las solicitudes de un jugador está distribuido de manera exponencial con media 1. Además, el tiempo entre las solicitudes atendidas por un único jugador también sigue una distribución exponencial. Una utilidad de 1 para una solicitud cumplida y una utilidad de -α por cumplir una solicitud. Por lo tanto, si i es un agente estándar, entonces ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 −α si i = vt 0 de lo contrario. • Ui = P∞ t=0 δt/n ut i denota la utilidad total para el agente i. Es el total descontado de la utilidad del agente en cada ronda. Ten en cuenta que el factor de descuento efectivo es δ1/n ya que un aumento en n conlleva a una reducción del tiempo entre rondas. Ahora que tenemos un modelo de cómo hacer y satisfacer solicitudes, lo utilizamos para analizar el comportamiento de no contribuir. Considera a un altruista como alguien que siempre cumple peticiones. El agente podría comportarse de manera altruista de manera racional si la función de utilidad del agente tiene la siguiente forma, para algún α > 0: ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 α si i = vt 0 en otro caso. Por lo tanto, en lugar de sufrir una pérdida de utilidad al satisfacer una solicitud, un agente obtiene utilidad positiva al satisfacerla. Una función de utilidad de este tipo es una representación razonable del placer que algunas personas obtienen al sentir que son quienes proporcionan la música que todos están tocando. Para agentes altruistas como estos, jugar la estrategia que establece V t i = 1 para todo t es dominante. Si bien tener una función de utilidad no estándar podría ser una razón por la cual un agente racional podría usar esta estrategia, ciertamente hay otras razones. Por ejemplo, un usuario inexperto de software de intercambio de archivos con una buena conexión bien podría seguir esta estrategia. Todo lo que importa para la siguiente discusión es que hay algunos agentes que utilizan esta estrategia, sea por la razón que sea. Como hemos observado, parece que existen usuarios de este tipo en algunos sistemas grandes. Supongamos que nuestro sistema tiene altruistas. Intuitivamente, si a es moderadamente grande, lograrán satisfacer la mayoría de las solicitudes en el sistema incluso si otros agentes no trabajan. Por lo tanto, hay poco incentivo para que cualquier otro agente se ofrezca como voluntario, porque ya está obteniendo pleno beneficio al participar en el sistema. Basándose en esta intuición, es un cálculo relativamente sencillo determinar un valor de a que depende solo de α, β y δ, pero no del número n de jugadores en el sistema, de modo que la estrategia dominante para todos los agentes estándar i sea nunca ofrecerse voluntariamente para satisfacer ninguna solicitud (es decir, V t i = 0 para todo t). Proposición 2.1. Existe un a que depende solo de α, β y δ tal que, en G(n, δ, α, β) con al menos a altruistas, no ofrecerse como voluntario en cada ronda es una estrategia dominante para todos los agentes estándar. Prueba. Considera la estrategia para un jugador estándar j en presencia de altruistas. Incluso sin dinero, el jugador j logrará que se satisfaga una solicitud con probabilidad 1 − (1 − β)a solo a través de las acciones de estos altruistas. Por lo tanto, incluso si j es elegido para hacer una solicitud en cada ronda, la utilidad adicional esperada máxima que puede esperar obtener al tener dinero es P∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ). Si (1 − β)a /(1 − δ) > α o, equivalentemente, si a > log1−β(α(1 − δ)), nunca ofrecerse como voluntario es una estrategia dominante. Considera los siguientes valores razonables para nuestros parámetros: β = .01 (para que cada jugador pueda satisfacer el 1% de las solicitudes), α = .1 (un costo bajo pero no despreciable), δ = .9999/día 142 (lo que corresponde a un factor de descuento anual de aproximadamente 0.95), y un promedio de 1 solicitud por día por jugador. Entonces solo necesitamos un > 1145. Si bien este es un número grande, es pequeño en comparación con el tamaño de una red P2P grande. Los sistemas actuales tienen un grupo de usuarios que se comportan como nuestros altruistas. Esto significa que los intentos de agregar un sistema de reputación encima de un sistema P2P existente para influir en los usuarios a cooperar no tendrán efecto en usuarios racionales. Para tener una distribución justa del trabajo, estos sistemas deben ser rediseñados fundamentalmente para eliminar el grupo de usuarios altruistas. En cierto sentido, esto no es un problema en absoluto. En un sistema con altruistas, los altruistas presumiblemente están felices, al igual que los agentes estándar, quienes ven casi todas sus solicitudes satisfechas sin tener que hacer ningún trabajo. De hecho, las redes P2P actuales funcionan bastante bien en términos de distribuir contenido a las personas. Sin embargo, como mencionamos en la introducción, hay razones para creer que estos altruistas podrían no estar presentes para siempre. Por lo tanto, vale la pena analizar qué se puede hacer para que estos sistemas funcionen en su ausencia. Para el resto de este documento asumimos que todos los agentes son estándar y tratan de maximizar la utilidad esperada. Estamos interesados en equilibrios basados en un sistema de vales. Cada vez que un agente tiene una solicitud satisfecha, debe pagarle a la persona que la satisfizo una cierta cantidad. Por ahora, asumimos que el pago es fijo; para simplificar, tomamos la cantidad como $1. Denotamos por M la cantidad total de dinero en el sistema. Suponemos que M > 0 (de lo contrario, nadie podrá cobrar nunca). En principio, los agentes son libres de adoptar una amplia variedad de estrategias. Pueden tomar decisiones basadas en los nombres de otros agentes o utilizar una estrategia que depende en gran medida de la historia, y combinar libremente estas estrategias. Para ayudar en nuestro análisis, nos gustaría poder restringir nuestra atención a una clase más simple de estrategias. La clase de estrategias en la que estamos interesados es fácil de motivar. La razón intuitiva para querer ganar dinero es para atender la posibilidad de que un agente se quede sin antes de tener la oportunidad de ganar más. Por otro lado, un agente racional con mucho dinero no querría trabajar, porque para cuando haya logrado gastar todo su dinero, la utilidad tendrá menos valor que el costo actual de trabajar. El equilibrio natural entre estos dos es una <br>estrategia de umbral</br>. Que Sk sea la estrategia en la que un agente se ofrece como voluntario siempre que tenga menos de k dólares y no lo haga de otra manera. Ten en cuenta que S0 es la estrategia en la que el agente nunca se ofrece como voluntario. Si bien todos los que juegan S0 conforman un equilibrio de Nash (nadie puede mejorar al ofrecerse como voluntario si nadie más está dispuesto a hacerlo), es un equilibrio poco interesante. Como mostraremos en la Sección 4, es suficiente restringir nuestra atención a esta clase de estrategias. Usamos Kt i para denotar la cantidad de dinero que el agente i tiene en el tiempo t. Claramente Kt+1 i = Kt i a menos que el agente i tenga una solicitud satisfecha, en cuyo caso Kt+1 i = Kt+1 i − 1 o el agente i cumple una solicitud, en cuyo caso Kt+1 i = Kt+1 i + 1. Formalmente, Kt+1 i = 8 < : Kt i − 1 si i = pt , P j=i V t j Bt j > 0, y Kt i > 0 Kt i + 1 si i = vt y Kt pt > 0 Kt i en otro caso. La <br>estrategia de umbral</br> Sk es la estrategia tal que V t i = 1 si Kt pt > 0 y Kt i < k, 0 en caso contrario. EL JUEGO BAJO JUEGO NO ESTRATÉGICO Antes de considerar el juego estratégico, examinamos qué sucede en el sistema si todos juegan simplemente la misma estrategia Sk. Nuestro objetivo general es demostrar que existe una distribución de dinero (es decir, la fracción de personas con cada cantidad de dinero) tal que el sistema converge a esta distribución en un sentido que se precisará en breve. Supongamos que todos juegan Sk. Para simplificar, asumamos que todos tienen a lo sumo k dólares. Podemos hacer esta suposición prácticamente sin pérdida de generalidad, ya que si alguien tiene más de k dólares, simplemente gastará dinero hasta tener como máximo k dólares. Después de este punto, nunca adquirirá más que k. Por lo tanto, eventualmente el sistema estará en tal estado. Si M ≥ kn, ningún agente estará dispuesto a trabajar. Por lo tanto, para los propósitos de esta sección asumimos que M < kn. Desde la perspectiva de un solo agente, en equilibrio (estocástico), el agente está experimentando un paseo aleatorio. Sin embargo, los parámetros de esta caminata aleatoria dependen de las caminatas aleatorias de los otros agentes y es bastante complicado resolverlo directamente. Por lo tanto, consideramos un análisis alternativo basado en la evolución del sistema en su conjunto. Si todos tienen a lo sumo k dólares, entonces la cantidad de dinero que tiene un agente es un elemento de {0, . . . , k}. Si hay n agentes, entonces el estado del juego puede ser descrito identificando cuánto dinero tiene cada agente, por lo que podemos representarlo mediante un elemento de Sk,n = {0, . . . , k}{1,...,n}. Dado que la cantidad total de dinero es constante, no todos estos estados pueden surgir en el juego. Por ejemplo, el estado en el que cada jugador tiene $0 es imposible de alcanzar en cualquier juego con dinero en el sistema. Sea mS(s) = P i∈{1...n} s(i) el monto total de dinero en el juego en el estado s, donde s(i) es la cantidad de dólares que el agente i tiene en el estado s. Queremos considerar solo aquellos estados donde el dinero total en el sistema es M, es decir, Sk,n,M = {s ∈ Sk,n | mS(s) = M}. Bajo el supuesto de que todos los agentes utilizan la estrategia Sk, la evolución del sistema puede ser tratada como una cadena de Markov Mk,n,M sobre el espacio de estados Sk,n,M. Es posible pasar de un estado a otro en una sola ronda si al elegir a un agente en particular para hacer una solicitud y a otro agente en particular para satisfacerla, las cantidades de dinero poseídas por cada agente se convierten en las del segundo estado. Por lo tanto, la probabilidad de una transición de un estado s a t es 0 a menos que existan dos agentes i y j tales que s(i) = t(i) para todos los i /∈ {i, j}, t(i) = s(i) + 1, y t(j) = s(j) − 1. En este caso, la probabilidad de transición de s a t es la probabilidad de que j sea elegido para gastar un dólar y tenga a alguien dispuesto y capaz de satisfacer su solicitud ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplicado por la probabilidad de que i sea elegido para satisfacer su solicitud (1/(|({i | s(i ) = k}| − Ij ). Ij es 0 si j tiene k dólares y 1 en caso contrario (es solo una corrección por el hecho de que j no puede satisfacer su propia solicitud). Sea ∆k el conjunto de distribuciones de probabilidad en {0, . . . , k}. Podemos pensar en un elemento de ∆k como la descripción de la fracción de personas con cada cantidad de dinero. Esta es una forma útil de ver el sistema, ya que normalmente no nos importa quién tiene cada cantidad de dinero, sino simplemente la fracción de personas que tienen cada cantidad. Como antes, no todos los elementos de ∆k son posibles, dada nuestra restricción de que la cantidad total de dinero es M. En lugar de pensar en términos de la cantidad total de dinero en el sistema, resultará más útil pensar en términos del monto promedio de dinero que tiene cada jugador. Por supuesto, la cantidad total de dinero en un sistema con n agentes es M si y solo si la cantidad promedio que cada jugador tiene es m = M/n. Sea ∆k m el conjunto de todas las distribuciones d ∈ ∆k tales que E(d) = m (es decir, Pk j=0 d(j)j = m). Dado un estado s ∈ Sk,n,M, sea ds ∈ ∆k m la distribución de dinero en s. Nuestro objetivo es demostrar que, si n es grande, entonces existe una distribución d∗ ∈ ∆k m tal que, con alta probabilidad, la cadena de Markov Mk,n,M estará casi siempre en un estado s tal que ds esté cerca de d∗. Por lo tanto, los agentes pueden basar sus decisiones sobre qué estrategia usar en la suposición de que estarán en ese estado. De hecho, podemos caracterizar completamente la distribución d∗. Dada una distribución d ∈ ∆k , sea H(d) = − X {j:d(j)=0} d(j) log(d(j)) la entropía de d. Si ∆ es un conjunto convexo cerrado de distribuciones, entonces es bien sabido que hay una distribución única en ∆ en la que la función de entropía alcanza su valor máximo en ∆. Dado que ∆k m se ve fácilmente como un conjunto convexo cerrado de distribuciones, se sigue que hay una distribución única en ∆k m que denotamos como d∗ k,m cuya entropía es mayor que la de todas las demás distribuciones en ∆k m. Ahora mostramos que, para n suficientemente grande, la cadena de Markov Mk,n,M está casi seguramente en un estado s tal que ds está cerca de d∗ k,M/n. La afirmación es correcta en varios sentidos de cercanía. Para mayor claridad, consideramos la distancia euclidiana. Dado > 0, sea Sk,n,m el conjunto de estados s en Sk,n,mn tal que Pk j=0 |ds (j) − d∗ k,m|2 < . Dada una cadena de Markov M sobre un espacio de estados S y S ⊆ S, sea Xt,s,S la variable aleatoria que denota que M se encuentra en un estado de S en el tiempo t, cuando se inicia en el estado s. Teorema 3.1. Para todo ε > 0, todo k y todo m, existe un n tal que para todo n > n y todos los estados s ∈ Sk,n,mn, existe un tiempo t∗ (que puede depender de k, n, m y ) tal que para t > t∗, tenemos que Pr(Xt,s,Sk,n,m, ) > 1 − . Prueba. (Bosquejo) Supongamos que en algún momento t, Pr(Xt,s,s) es uniforme para todos los s. Entonces, la probabilidad de estar en un conjunto de estados es simplemente el tamaño del conjunto dividido por el número total de estados. Una técnica estándar de la mecánica estadística es demostrar que hay un fenómeno de concentración alrededor de la distribución de entropía máxima [16]. Más precisamente, utilizando un argumento combinatorio directo, se puede demostrar que la fracción de estados que no están en Sk,n,m está acotada por p(n)/ecn, donde p es un polinomio. Esta fracción claramente tiende a 0 a medida que n crece. Por lo tanto, para n suficientemente grande, Pr(Xt,s,Sk,n,m, ) > 1 − si Pr(Xt,s,s ) es uniforme. Es relativamente sencillo demostrar que nuestra Cadena de Markov tiene una distribución límite π sobre Sk,n,mn, tal que para todo s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs. Que Pij denote la probabilidad de transición del estado i al estado j. Es fácil verificar mediante un cálculo explícito de las probabilidades de transición que Pij = Pji para todos los estados i y j. Se sigue inmediatamente de esta simetría que πs = πs, por lo que π es uniforme. Después de un tiempo suficiente, la distribución estará lo suficientemente cerca de π, de modo que las probabilidades vuelven a estar limitadas por una constante, lo cual es suficiente para completar el teorema. Realizamos una serie de experimentos que muestran que el comportamiento de máxima entropía descrito en el Teorema 3.1 surge rápidamente para valores bastante prácticos de n y t. El primer experimento mostró que, incluso si n = 1000, alcanzamos rápidamente la distribución de máxima entropía. Promediamos 10 ejecuciones de la cadena de Markov para k = 5 donde hay suficiente dinero para que cada agente tenga $2 comenzando desde una distribución muy extrema (cada agente tiene $0 o $5) y consideramos el tiempo promedio necesario para acercarse a varias distancias de la distribución de entropía máxima. Como muestra la Figura 1, después de 2,000 pasos, en promedio, la distancia euclidiana desde la distribución promedio del dinero hasta la distribución de máxima entropía es de .008; después de 3,000 pasos, la distancia disminuye a .001. Ten en cuenta que esto realmente solo son 3 unidades de tiempo reales, ya que con 1000 jugadores tenemos 1000 transacciones por unidad de tiempo. Luego consideramos qué tan cerca se mantiene la distribución de la entropía máxima una vez que la ha alcanzado. Para simplificar las cosas, comenzamos el sistema en un estado cuya distribución estaba muy cerca de la distribución de máxima entropía y lo ejecutamos durante 106 pasos, para varios valores de n. Como muestra la Figura 2, el sistema no se aleja mucho de la distribución de máxima entropía una vez que está allí. Por ejemplo, si n = 5000, el sistema nunca está a más de una distancia de .001 de la distribución de máxima entropía; si n = 25,000, nunca está a más de .0002 de la distribución de máxima entropía. Finalmente, consideramos con más cuidado cómo rápidamente el sistema converge a la distribución de máxima entropía para varios valores de n. Hay aproximadamente kn estados posibles, por lo que el tiempo de convergencia podría ser bastante largo en principio. Sin embargo, sospechamos que la cadena de Markov que surge aquí se mezcla rápidamente, lo que significa que convergerá significativamente más rápido (ver [20] para más detalles sobre la mezcla rápida). Creemos que el tiempo necesario en realidad es O(n). Este comportamiento se ilustra en la Figura 3, que muestra que para nuestra cadena de ejemplo (nuevamente promediada en 10 ejecuciones), después de 3n pasos, la distancia euclidiana entre la distribución real del dinero en el sistema y la distribución de máxima entropía es menor que .001. EL JUEGO BAJO JUGADA ESTRATÉGICA Hemos visto que el sistema se comporta bien si los agentes siguen todos una <br>estrategia de umbral</br>; ahora queremos demostrar que existe un equilibrio de Nash no trivial donde lo hacen (es decir, un equilibrio de Nash donde todos los agentes usan Sk para algún k > 0). ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "game theory": {
            "translated_key": "teoría de juegos",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Efficiency and Nash Equilibria in a Scrip System for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed.",
                "It is shown that by adding a scrip system, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
                "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
                "Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "However, the cost of providing service can still be nontrivial.",
                "For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
                "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
                "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
                "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
                "These heavy users are some of the most expensive customers ISPs have.",
                "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
                "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
                "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems.",
                "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
                "Some of the P2P networks currently in use have implemented versions of these techniques.",
                "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
                "By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions.",
                "Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8].",
                "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
                "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
                "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
                "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
                "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
                "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
                "Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it.",
                "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
                "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
                "However, to avoid penalizing new users, they gave new users an average rating.",
                "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
                "Thus Kazaas reputation system is ineffective.",
                "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
                "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
                "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
                "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
                "However, they have a different set of problems.",
                "Perhaps the most common involve determining the amount of money in the system.",
                "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
                "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
                "A related problem involves handling newcomers.",
                "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
                "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
                "In this paper, we provide a formal model in which to analyze scrip systems.",
                "We describe a simple scrip system and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents.",
                "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
                "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
                "In systems where the goal is to do work, new users can acquire money by performing work.",
                "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
                "The rest of the paper is organized as follows.",
                "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
                "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same threshold strategy.",
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some threshold strategy.",
                "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
                "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
                "We conclude in Section 7. 2.",
                "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative game.",
                "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
                "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
                "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
                "This random-matching model fails to capture some salient aspects of a number of important settings.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can.",
                "For example, some people may not have the time or resources to satisfy the request.",
                "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
                "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
                "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
                "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
                "Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made.",
                "For example, it is not clear what defection on the part of the requester means.",
                "In our model we try to deal with all these issues.",
                "Suppose that there are n agents.",
                "At each round, an agent is picked uniformly at random to make a request.",
                "Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request.",
                "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
                "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
                "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
                "If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
                "The agent that fulfills the request pays a cost of α < 1.",
                "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
                "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite game.",
                "Lastly, we assume that with more players requests come more often.",
                "Thus we assume that the time between rounds is 1/n.",
                "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
                "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
                "We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
                "V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request.",
                "This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
                "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
                "Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i.",
                "It is the discounted total of agent is utility in each round.",
                "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
                "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
                "Take an altruist to be someone who always fulfills requests.",
                "Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
                "Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it.",
                "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
                "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
                "While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others.",
                "For example a naive user of filesharing software with a good connection might well follow this strategy.",
                "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
                "As we have observed, such users seem to exist in some large systems.",
                "Suppose that our system has a altruists.",
                "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
                "Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system.",
                "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
                "Proposition 2.1.",
                "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
                "Proof.",
                "Consider the strategy for a standard player j in the presence of a altruists.",
                "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
                "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
                "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
                "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
                "Then we only need a > 1145.",
                "While this is a large number, it is small relative to the size of a large P2P network.",
                "Current systems all have a pool of users behaving like our altruists.",
                "This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
                "In some sense, this is not a problem at all.",
                "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
                "Indeed, current P2P network work quite well in terms of distributing content to people.",
                "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
                "Thus, it is worth looking at what can be done to make these systems work in their absence.",
                "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
                "We are interested in equilibria based on a scrip system.",
                "Each time an agent has a request satisfied he must pay the person who satisfied it some amount.",
                "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
                "We denote by M the total amount of money in the system.",
                "We assume that M > 0 (otherwise no one will ever be able to get paid).",
                "In principle, agents are free to adopt a very wide variety of strategies.",
                "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
                "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
                "The class of strategies we are interested in is easy to motivate.",
                "The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more.",
                "On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
                "The natural balance between these two is a threshold strategy.",
                "Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise.",
                "Note that S0 is the strategy where the agent never volunteers.",
                "While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
                "We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
                "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
                "The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
                "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
                "Suppose that everyone plays Sk.",
                "For simplicity, assume that everyone has at most k dollars.",
                "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
                "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
                "If M ≥ kn, no agent will ever be willing to work.",
                "Thus, for the purposes of this section we assume that M < kn.",
                "From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk.",
                "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
                "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
                "If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}.",
                "If there are n agents, then the state of the game can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
                "Since the total amount of money is constant, not all of these states can arise in the game.",
                "For example the state where each player has $0 is impossible to reach in any game with money in the system.",
                "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
                "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
                "It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state.",
                "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
                "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
                "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
                "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
                "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
                "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
                "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
                "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
                "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
                "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
                "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
                "We can in fact completely characterize the distribution d∗ .",
                "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
                "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
                "The statement is correct under a number of senses of close.",
                "For definiteness, we consider the Euclidean distance.",
                "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
                "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
                "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
                "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
                "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16].",
                "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
                "This fraction clearly goes to 0 as n gets large.",
                "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
                "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
                "Let Pij denote the probability of transitioning from state i to state j.",
                "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
                "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution.",
                "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
                "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
                "We then considered how close the distribution stays to the maximum entropy distribution once it has reached it.",
                "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
                "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
                "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
                "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
                "We believe that the actually time needed is O(n).",
                "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)",
                "This is not true in general.",
                "If δ is small, then agents have no incentive to work.",
                "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
                "With small δ, S0 is the only equilibrium.",
                "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
                "We do this by first showing that, if every other agent is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one).",
                "We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy.",
                "It follows that this tuple of threshold strategies is a Nash equilibrium.",
                "As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a threshold strategy Sk that is a best response for agent i.",
                "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
                "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
                "For a later proof, it will be helpful to have a continuous set of strategies.",
                "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
                "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
                "Theorem 4.1.",
                "Fix a strategy Sγ and an agent i.",
                "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for agent i is Sk .",
                "Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
                "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
                "If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly.",
                "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
                "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
                "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
                "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
                "We remark that there may be best responses that are not threshold strategies.",
                "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy.",
                "Since we know that there is a best response that is a threshold strategy, we can look for a Nash equilibrium in the space of threshold strategies.",
                "Theorem 4.2.",
                "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the game G(n, δ) where all agents play Sγ for some integer γ > 0.",
                "Proof.",
                "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
                "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
                "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
                "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
                "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same threshold strategy.",
                "As we have already observed, one such equilibrium occurs at 0.",
                "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
                "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay.",
                "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
                "Consider k∗ , the smallest k such that k > M/n.",
                "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
                "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
                "This is the desired Nash equilibrium.",
                "This argument also shows us that we cannot in general expect fixed points to be unique.",
                "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
                "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
                "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
                "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
                "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
                "SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n).",
                "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
                "There is a tension between these objectives.",
                "It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases.",
                "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
                "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
                "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
                "Proof.",
                "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
                "Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r.",
                "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
                "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
                "We are currently exploring exactly what the optimal ratio is.",
                "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
                "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system.",
                "This produces the same effect.",
                "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has.",
                "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
                "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
                "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
                "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
                "This gives existing agents no incentive to leave and rejoin as newcomers.",
                "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
                "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
                "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
                "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
                "For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
                "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
                "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
                "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
                "However, we have not yet explored the changes required to implement this change.",
                "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
                "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
                "To get d dollars, his sybils together still have to perform d units of work.",
                "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
                "Nevertheless, there are some less direct ways that an agent could take advantage of sybils.",
                "First, by having more identities he will have a greater probability of getting chosen to make a request.",
                "It is easy to see that this will lead to the agent having higher total utility.",
                "However, this is just an artifact of our model.",
                "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
                "In practice, requests are made to satisfy a desire.",
                "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
                "Having sybils should not increase the need to have a request satisfied.",
                "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
                "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
                "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy.",
                "Intuitively, the need for money is not as critical if money is easier to obtain.",
                "Unlike the first concern, this seems like a real issue.",
                "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
                "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
                "Third, an agent can drive down the cost of fulfilling a request by introducing many sybils.",
                "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
                "Concievably he could alternate between these techniques to magnify the effects of work he does.",
                "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
                "Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
                "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
                "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
                "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
                "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
                "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
                "CONCLUSION We have given a formal analysis of a scrip system and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy.",
                "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
                "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
                "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
                "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation.",
                "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
                "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
                "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
                "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
                "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
                "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system.",
                "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
                "This modification could have a significant impact on sybil attacks. • We have described a scrip system that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
                "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
                "There are some similarities between hoarding and altruistic behavior.",
                "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
                "It would be interesting to investigate the extent to which our system is robust against hoarders.",
                "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
                "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
                "There are also a number of implementation issues that would have to be resolved in a real system.",
                "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
                "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
                "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
                "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
                "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
                "Karma suggests several ways to incentivize nodes to perform these duties.",
                "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
                "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
                "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
                "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
                "REFERENCES [1] E. Adar and B.",
                "A. Huberman.",
                "Free riding on Gnutella.",
                "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
                "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
                "Sybilproof reputation mechanisms.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
                "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
                "The sybil attack.",
                "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
                "Cooperation in the prisoners dilemma with anonymous random matching.",
                "Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
                "Robust incentive techniques for peer-to-peer networks.",
                "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
                "Pricing wifi at starbucks: issues in online mechanism design.",
                "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
                "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
                "The social cost of cheap pseudonyms.",
                "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
                "Propagation of trust and distrust.",
                "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
                "A reputation system for peer-to-peer networks.",
                "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
                "Link spam detection based on mass estimation.",
                "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
                "Fileteller: Paying and getting paid for file storage.",
                "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
                "Where do we stand on maximum entropy?",
                "In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118.",
                "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
                "The Eigentrust algorithm for reputation management in P2P networks.",
                "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
                "Social norms and community enforcement.",
                "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
                "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
                "Mixing of random walks and other diffusions on a graph.",
                "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
                "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
                "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
                "Markov Decision Processes.",
                "Wiley, 1994. [24] SETI@home.",
                "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
                "Karma: A secure economic framework for peer-to-peer resource sharing.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
                "Building trust in decentralized peer-to-peer electronic communities.",
                "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
                "Making eigenvector-based reputation systems robust to collusion.",
                "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        },
        "scrip system": {
            "translated_key": "",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Efficiency and Nash Equilibria in a <br>scrip system</br> for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "Cornell University halpern@cs.cornell.edu Ian Kash Computer Science Dept.",
                "Cornell University kash@cs.cornell.edu ABSTRACT A model of providing service in a P2P network is analyzed.",
                "It is shown that by adding a <br>scrip system</br>, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
                "The effect of varying the total amount of money (scrip) in the system on efficiency (i.e., social welfare) is analyzed, and it is shown that by maintaining the appropriate ratio between the total amount of money and the number of agents, efficiency is maximized.",
                "The work has implications for many online systems, not only P2P networks but also a wide variety of online forums for which scrip systems are popular, but formal analyses have been lacking.",
                "Categories and Subject Descriptors C.2.4 [Computer-Communication Networks]: Distributed Systems; I.2.11 [Artificial Intelligence]: Distributed Artificial Intelligence-Multiagent systems; J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Computers and Society]: Electronic Commerce General Terms Economics, Theory 1.",
                "INTRODUCTION A common feature of many online distributed systems is that individuals provide services for each other.",
                "Peer-topeer (P2P) networks (such as Kazaa [25] or BitTorrent [3]) have proved popular as mechanisms for file sharing, and applications such as distributed computation and file storage are on the horizon; systems such as Seti@home [24] provide computational assistance; systems such as Slashdot [21] provide content, evaluations, and advice forums in which people answer each others questions.",
                "Having individuals provide each other with service typically increases the social welfare: the individual utilizing the resources of the system derives a greater benefit from it than the cost to the individual providing it.",
                "However, the cost of providing service can still be nontrivial.",
                "For example, users of Kazaa and BitTorrent may be charged for bandwidth usage; in addition, in some filesharing systems, there is the possibility of being sued, which can be viewed as part of the cost.",
                "Thus, in many systems there is a strong incentive to become a free rider and benefit from the system without contributing to it.",
                "This is not merely a theoretical problem; studies of the Gnutella [22] network have shown that almost 70 percent of users share no files and nearly 50 percent of responses are from the top 1 percent of sharing hosts [1].",
                "Having relatively few users provide most of the service creates a point of centralization; the disappearance of a small percentage of users can greatly impair the functionality of the system.",
                "Moreover, current trends seem to be leading to the elimination of the altruistic users on which these systems rely.",
                "These heavy users are some of the most expensive customers ISPs have.",
                "Thus, as the amount of traffic has grown, ISPs have begun to seek ways to reduce this traffic.",
                "Some universities have started charging students for excessive bandwidth usage; others revoke network access for it [5].",
                "A number of companies have also formed whose service is to detect excessive bandwidth usage [19].",
                "These trends make developing a system that encourages a more equal distribution of the work critical for the continued viability of P2P networks and other distributed online systems.",
                "A significant amount of research has gone into designing reputation systems to give preferential treatment to users who are sharing files.",
                "Some of the P2P networks currently in use have implemented versions of these techniques.",
                "However, these approaches tend to fall into one of two categories: either they are barter-like or reputational.",
                "By barter-like, we mean that each agent bases its decisions only on information it has derived from its own interactions.",
                "Perhaps the best-known example of a barter-like system is BitTorrent, where clients downloading a file try to find other clients with parts they are missing so that they can trade, thus creating a roughly equal amount of work.",
                "Since the barter is restricted to users currently interested in a single file, this works well for popular files, but tends to have problems maintaining availability of less popular ones.",
                "An example of a barter-like system built on top of a more traditional file-sharing system is the credit system used by eMule 140 [8].",
                "Each user tracks his history of interactions with other users and gives priority to those he has downloaded from in the past.",
                "However, in a large system, the probability that a pair of randomly-chosen users will have interacted before is quite small, so this interaction history will not be terribly helpful.",
                "Anagnostakis and Greenwald [2] present a more sophisticated version of this approach, but it still seems to suffer from similar problems.",
                "A number of attempts have been made at providing general reputation systems (e.g. [12, 13, 17, 27]).",
                "The basic idea is to aggregate each users experience into a global number for each individual that intuitively represents the systems view of that individuals reputation.",
                "However, these attempts tend to suffer from practical problems because they implicitly view users as either good or bad, assume that the good users will act according to the specified protocol, and that there are relatively few bad users.",
                "Unfortunately, if there are easy ways to game the system, once this information becomes widely available, rational users are likely to make use of it.",
                "We cannot count on only a few users being bad (in the sense of not following the prescribed protocol).",
                "For example, Kazaa uses a measure of the ratio of the number of uploads to the number of downloads to identify good and bad users.",
                "However, to avoid penalizing new users, they gave new users an average rating.",
                "Users discovered that they could use this relatively good rating to free ride for a while and, once it started to get bad, they could delete their stored information and effectively come back as a new user, thus circumventing the system (see [2] for a discussion and [11] for a formal analysis of this whitewashing).",
                "Thus Kazaas reputation system is ineffective.",
                "This is a simple case of a more general vulnerability of such systems to sybil attacks [6], where a single user maintains multiple identities and uses them in a coordinated fashion to get better service than he otherwise would.",
                "Recent work has shown that most common reputation systems are vulnerable (in the worst case)to such attacks [4]; however, the degree of this vulnerability is still unclear.",
                "The analyses of the practical vulnerabilities and the existence of such systems that are immune to such attacks remains an area of active research (e.g., [4, 28, 14]).",
                "Simple economic systems based on a scrip or money seem to avoid many of these problems, are easy to implement and are quite popular (see, e.g., [13, 15, 26]).",
                "However, they have a different set of problems.",
                "Perhaps the most common involve determining the amount of money in the system.",
                "Roughly speaking, if there is too little money in the system relative to the number of agents, then relatively few users can afford to make request.",
                "On the other hand, if there is too much money, then users will not feel the need to respond to a request; they have enough money already.",
                "A related problem involves handling newcomers.",
                "If newcomers are each given a positive amount of money, then the system is open to sybil attacks.",
                "Perhaps not surprisingly, scrip systems end up having to deal with standard economic woes such as inflation, bubbles, and crashes [26].",
                "In this paper, we provide a formal model in which to analyze scrip systems.",
                "We describe a simple <br>scrip system</br> and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "This allows us to compute the money supply that maximizes efficiency (social welfare), given the number of agents.",
                "It also leads to a solution for the problem of dealing with newcomers: we simply assume that new users come in with no money, and adjust the price of service (which is equivalent to adjusting the money supply) to maintain the ratio that maximizes efficiency.",
                "While assuming that new users come in with no money will not work in all settings, we believe the approach will be widely applicable.",
                "In systems where the goal is to do work, new users can acquire money by performing work.",
                "It should also work in Kazaalike system where a user can come in with some resources (e.g., a private collection of MP3s).",
                "The rest of the paper is organized as follows.",
                "In Section 2, we present our formal model and observe that it can be used to understand the effect of altruists.",
                "In Section 3, we examine what happens in the game under nonstrategic play, if all agents use the same threshold strategy.",
                "We show that, in this case, the system quickly converges to a situation where the distribution of money is characterized by maximum entropy.",
                "Using this analysis, we show in Section 4 that, under minimal assumptions, there is a nontrivial Nash equilibrium in the game where all agents use some threshold strategy.",
                "Moreover, we show in Section 5 that the analysis leads to an understanding of how to choose the amount of money in the system (or, equivalently, the cost to fulfill a request) so as to maximize efficiency, and also shows how to handle new users.",
                "In Section 6, we discuss the extent to which our approach can handle sybils and collusion.",
                "We conclude in Section 7. 2.",
                "THE MODEL To begin, we formalize providing service in a P2P network as a non-cooperative game.",
                "Unlike much of the modeling in this area, our model will model the asymmetric interactions in a file sharing system in which the matching of players (those requesting a file with those who have that particular file) is a key part of the system.",
                "This is in contrast with much previous work which uses random matching in a prisoners dilemma.",
                "Such models were studied in the economics literature [18, 7] and first applied to online reputations in [11]; an application to P2P is found in [9].",
                "This random-matching model fails to capture some salient aspects of a number of important settings.",
                "When a request is made, there are typically many people in the network who can potentially satisfy it (especially in a large P2P network), but not all can.",
                "For example, some people may not have the time or resources to satisfy the request.",
                "The randommatching process ignores the fact that some people may not be able to satisfy the request.",
                "Presumably, if the person matched with the requester could not satisfy the match, he would have to defect.",
                "Moreover, it does not capture the fact that the decision as to whether to volunteer to satisfy the request should be made before the matching process, not after.",
                "That is, the matching process does not capture 1 Although we refer to our unit of scrip as the dollar, these are not real dollars nor do we view them as convertible to dollars. 141 the fact that if someone is unwilling to satisfy the request, there will doubtless be others who can satisfy it.",
                "Finally, the actions and payoffs in the prisoners dilemma game do not obviously correspond to actual choices that can be made.",
                "For example, it is not clear what defection on the part of the requester means.",
                "In our model we try to deal with all these issues.",
                "Suppose that there are n agents.",
                "At each round, an agent is picked uniformly at random to make a request.",
                "Each other agent is able to satisfy this request with probability β > 0 at all times, independent of previous behavior.",
                "The term β is intended to capture the probability that an agent is busy, or does not have the resources to fulfill the request.",
                "Assuming that β is time-independent does not capture the intution that being an unable to fulfill a request at time t may well be correlated with being unable to fulfill it at time t+1.",
                "We believe that, in large systems, we should be able to drop the independence assumption, but we leave this for future work.",
                "In any case, those agents that are able to satisfy the request must choose whether or not to volunteer to satisfy it.",
                "If at least one agent volunteers, the requester gets a benefit of 1 util (the job is done) and one of volunteers is chosen at random to fulfill the request.",
                "The agent that fulfills the request pays a cost of α < 1.",
                "As is standard in the literature, we assume that agents discount future payoffs by a factor of δ per time unit.",
                "This captures the intuition that a util now is worth more than a util tomorrow, and allows us to compute the total utility derived by an agent in an infinite game.",
                "Lastly, we assume that with more players requests come more often.",
                "Thus we assume that the time between rounds is 1/n.",
                "This captures the fact that the systems we want to model are really processing many requests in parallel, so we would expect the number of concurrent requests to be proportional to the number of users.2 Let G(n, δ, α, β) denote this game with n agents, a discount factor of δ, a cost to satisfy requests of α, and a probability of being able to satisfy requests of β.",
                "When the latter two parameters are not relevant, we sometimes write G(n, δ).",
                "We use the following notation throughout the paper: • pt denotes the agent chosen in round t. • Bt i ∈ {0, 1} denotes whether agent i can satisfy the request in round t. Bt i = 1 with probability β > 0 and Bt i is independent of Bt i for all t = t. • V t i ∈ {0, 1} denotes agent is decision about whether to volunteer in round t; 1 indicates volunteering.",
                "V t i is determined by agent is strategy. • vt ∈ {j | V t j Bt j = 1} denotes the agent chosen to satisfy the request.",
                "This agent is chosen uniformly at random from those who are willing (V t j = 1) and able (Bt j = 1) to satisfy the request. • ut i denotes agent is utility in round t. A standard agent is one whose utility is determined as discussed in the introduction; namely, the agent gets 2 For large n, our model converges to one in which players make requests in real time, and the time between a players requests are exponentially distributed with mean 1.",
                "In addition, the time between requests served by a single player is also exponentially distributed. a utility of 1 for a fulfilled request and utility −α for fulfilling a request.",
                "Thus, if i is a standard agent, then ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 −α if i = vt 0 otherwise. • Ui = P∞ t=0 δt/n ut i denotes the total utility for agent i.",
                "It is the discounted total of agent is utility in each round.",
                "Note that the effective discount factor is δ1/n since an increase in n leads to a shortening of the time between rounds.",
                "Now that we have a model of making and satisfying requests, we use it to analyze free riding.",
                "Take an altruist to be someone who always fulfills requests.",
                "Agent i might rationally behave altruistically if agent is utility function has the following form, for some α > 0: ut i = 8 < : 1 if i = pt and P j=i V t j Bt j > 0 α if i = vt 0 otherwise.",
                "Thus, rather than suffering a loss of utility when satisfying a request, an agent derives positive utility from satisfying it.",
                "Such a utility function is a reasonable representation of the pleasure that some people get from the sense that they provide the music that everyone is playing.",
                "For such altruistic agents, playing the strategy that sets V t i = 1 for all t is dominant.",
                "While having a nonstandard utility function might be one reason that a rational agent might use this strategy, there are certainly others.",
                "For example a naive user of filesharing software with a good connection might well follow this strategy.",
                "All that matters for the following discussion is that there are some agents that use this strategy, for whatever reason.",
                "As we have observed, such users seem to exist in some large systems.",
                "Suppose that our system has a altruists.",
                "Intuitively, if a is moderately large, they will manage to satisfy most of the requests in the system even if other agents do no work.",
                "Thus, there is little incentive for any other agent to volunteer, because he is already getting full advantage of participating in the system.",
                "Based on this intuition, it is a relatively straightforward calculation to determine a value of a that depends only on α, β, and δ, but not the number n of players in the system, such that the dominant strategy for all standard agents i is to never volunteer to satisfy any requests (i.e., V t i = 0 for all t).",
                "Proposition 2.1.",
                "There exists an a that depends only on α, β, and δ such that, in G(n, δ, α, β) with at least a altruists, not volunteering in every round is a dominant strategy for all standard agents.",
                "Proof.",
                "Consider the strategy for a standard player j in the presence of a altruists.",
                "Even with no money, player j will get a request satisfied with probability 1 − (1 − β)a just through the actions of these altruists.",
                "Thus, even if j is chosen to make a request in every round, the most additional expected utility he can hope to gain by having money isP∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ).",
                "If (1 − β)a /(1 − δ) > α or, equivalently, if a > log1−β(α(1 − δ)), never volunteering is a dominant strategy.",
                "Consider the following reasonable values for our parameters: β = .01 (so that each player can satisfy 1% of the requests), α = .1 (a low but non-negligible cost), δ = .9999/day 142 (which corresponds to a yearly discount factor of approximately 0.95), and an average of 1 request per day per player.",
                "Then we only need a > 1145.",
                "While this is a large number, it is small relative to the size of a large P2P network.",
                "Current systems all have a pool of users behaving like our altruists.",
                "This means that attempts to add a reputation system on top of an existing P2P system to influence users to cooperate will have no effect on rational users.",
                "To have a fair distribution of work, these systems must be fundamentally redesigned to eliminate the pool of altruistic users.",
                "In some sense, this is not a problem at all.",
                "In a system with altruists, the altruists are presumably happy, as are the standard agents, who get almost all their requests satisfied without having to do any work.",
                "Indeed, current P2P network work quite well in terms of distributing content to people.",
                "However, as we said in the introduction, there is some reason to believe these altruists may not be around forever.",
                "Thus, it is worth looking at what can be done to make these systems work in their absence.",
                "For the rest of this paper we assume that all agents are standard, and try to maximize expected utility.",
                "We are interested in equilibria based on a <br>scrip system</br>.",
                "Each time an agent has a request satisfied he must pay the person who satisfied it some amount.",
                "For now, we assume that the payment is fixed; for simplicity, we take the amount to be $1.",
                "We denote by M the total amount of money in the system.",
                "We assume that M > 0 (otherwise no one will ever be able to get paid).",
                "In principle, agents are free to adopt a very wide variety of strategies.",
                "They can make decisions based on the names of other agents or use a strategy that is heavily history dependant, and mix these strategies freely.",
                "To aid our analysis, we would like to be able to restrict our attention to a simpler class of strategies.",
                "The class of strategies we are interested in is easy to motivate.",
                "The intuitive reason for wanting to earn money is to cater for the possibility that an agent will run out before he has a chance to earn more.",
                "On the other hand, a rational agent with plenty of mone would not want to work, because by the time he has managed to spend all his money, the util will have less value than the present cost of working.",
                "The natural balance between these two is a threshold strategy.",
                "Let Sk be the strategy where an agent volunteers whenever he has less than k dollars and not otherwise.",
                "Note that S0 is the strategy where the agent never volunteers.",
                "While everyone playing S0 is a Nash equilibrium (nobody can do better by volunteering if no one else is willing to), it is an uninteresting one.",
                "As we will show in Section 4, it is sufficient to restrict our attention to this class of strategies.",
                "We use Kt i to denote the amount of money agent i has at time t. Clearly Kt+1 i = Kt i unless agent i has a request satisfied, in which case Kt+1 i = Kt+1 i − 1 or agent i fulfills a request, in which case Kt+1 i = Kt+1 i + 1.",
                "Formally, Kt+1 i = 8 < : Kt i − 1 if i = pt , P j=i V t j Bt j > 0, and Kt i > 0 Kt i + 1 if i = vt and Kt pt > 0 Kt i otherwise.",
                "The threshold strategy Sk is the strategy such that V t i =  1 if Kt pt > 0 and Kt i < k 0 otherwise. 3.",
                "THE GAME UNDER NONSTRATEGIC PLAY Before we consider strategic play, we examine what happens in the system if everyone just plays the same strategy Sk.",
                "Our overall goal is to show that there is some distribution over money (i.e., the fraction of people with each amount of money) such that the system converges to this distribution in a sense to be made precise shortly.",
                "Suppose that everyone plays Sk.",
                "For simplicity, assume that everyone has at most k dollars.",
                "We can make this assumption with essentially no loss of generality, since if someone has more than k dollars, he will just spend money until he has at most k dollars.",
                "After this point he will never acquire more than k. Thus, eventually the system will be in such a state.",
                "If M ≥ kn, no agent will ever be willing to work.",
                "Thus, for the purposes of this section we assume that M < kn.",
                "From the perspective of a single agent, in (stochastic) equilibrium, the agent is undergoing a random walk.",
                "However, the parameters of this random walk depend on the random walks of the other agents and it is quite complicated to solve directly.",
                "Thus we consider an alternative analysis based on the evolution of the system as a whole.",
                "If everyone has at most k dollars, then the amount of money that an agent has is an element of {0, . . . , k}.",
                "If there are n agents, then the state of the game can be described by identifying how much money each agent has, so we can represent it by an element of Sk,n = {0, . . . , k}{1,...,n} .",
                "Since the total amount of money is constant, not all of these states can arise in the game.",
                "For example the state where each player has $0 is impossible to reach in any game with money in the system.",
                "Let mS(s) = P i∈{1...n} s(i) denote the total mount of money in the game at state s, where s(i) is the number of dollars that agent i has in state s. We want to consider only those states where the total money in the system is M, namely Sk,n,M = {s ∈ Sk,n | mS(s) = M}.",
                "Under the assumption that all agents use strategy Sk, the evolution of the system can be treated as a Markov chain Mk,n,M over the state space Sk,n,M .",
                "It is possible to move from one state to another in a single round if by choosing a particular agent to make a request and a particular agent to satisfy it, the amounts of money possesed by each agent become those in the second state.",
                "Therefore the probability of a transition from a state s to t is 0 unless there exist two agents i and j such that s(i ) = t(i ) for all i /∈ {i, j}, t(i) = s(i) + 1, and t(j) = s(j) − 1.",
                "In this case the probability of transitioning from s to t is the probability of j being chosen to spend a dollar and has someone willing and able to satisfy his request ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplied by the probability of i being chosen to satisfy his request (1/(|({i | s(i ) = k}| − Ij )).",
                "Ij is 0 if j has k dollars and 1 otherwise (it is just a correction for the fact that j cannot satisfy his own request.)",
                "Let ∆k denote the set of probability distributions on {0, . . . , k}.",
                "We can think of an element of ∆k as describing the fraction of people with each amount of money.",
                "This is a useful way of looking at the system, since we typically dont care who has each amount of money, but just the fraction of people that have each amount.",
                "As before, not all elements of ∆k are possible, given our constraint that the total amount of 143 money is M. Rather than thinking in terms of the total amount of money in the system, it will prove more useful to think in terms of the average amount of money each player has.",
                "Of course, the total amount of money in a system with n agents is M iff the average amount that each player has is m = M/n.",
                "Let ∆k m denote all distributions d ∈ ∆k such that E(d) = m (i.e., Pk j=0 d(j)j = m).",
                "Given a state s ∈ Sk,n,M , let ds ∈ ∆k m denote the distribution of money in s. Our goal is to show that, if n is large, then there is a distribution d∗ ∈ ∆k m such that, with high probability, the Markov chain Mk,n,M will almost always be in a state s such that ds is close to d∗ .",
                "Thus, agents can base their decisions about what strategy to use on the assumption that they will be in such a state.",
                "We can in fact completely characterize the distribution d∗ .",
                "Given a distribution d ∈ ∆k , let H(d) = − X {j:d(j)=0} d(j) log(d(j)) denote the entropy of d. If ∆ is a closed convex set of distributions, then it is well known that there is a unique distribution in ∆ at which the entropy function takes its maximum value in ∆.",
                "Since ∆k m is easily seen to be a closed convex set of distributions, it follows that there is a unique distribution in ∆k m that we denote d∗ k,m whose entropy is greater than that of all other distributions in ∆k m. We now show that, for n sufficiently large, the Markov chain Mk,n,M is almost surely in a state s such that ds is close to d∗ k,M/n.",
                "The statement is correct under a number of senses of close.",
                "For definiteness, we consider the Euclidean distance.",
                "Given > 0, let Sk,n,m, denote the set of states s in Sk,n,mn such that Pk j=0 |ds (j) − d∗ k,m|2 < .",
                "Given a Markov chain M over a state space S and S ⊆ S, let Xt,s,S be the random variable that denotes that M is in a state of S at time t, when started in state s. Theorem 3.1.",
                "For all > 0, all k, and all m, there exists n such that for all n > n and all states s ∈ Sk,n,mn, there exists a time t∗ (which may depend on k, n, m, and ) such that for t > t∗ , we have Pr(Xt,s,Sk,n,m, ) > 1 − .",
                "Proof. (Sketch) Suppose that at some time t, Pr(Xt,s,s ) is uniform for all s .",
                "Then the probability of being in a set of states is just the size of the set divided by the total number of states.",
                "A standard technique from statistical mechanics is to show that there is a concentration phenomenon around the maximum entropy distribution [16].",
                "More precisely, using a straightforward combinatorial argument, it can be shown that the fraction of states not in Sk,n,m, is bounded by p(n)/ecn , where p is a polynomial.",
                "This fraction clearly goes to 0 as n gets large.",
                "Thus, for sufficiently large n, Pr(Xt,s,Sk,n,m, ) > 1 − if Pr(Xt,s,s ) is uniform.",
                "It is relatively straightforward to show that our Markov Chain has a limit distribution π over Sk,n,mn, such that for all s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs .",
                "Let Pij denote the probability of transitioning from state i to state j.",
                "It is easily verified by an explicit computation of the transition probabilities that Pij = Pji for all states i and j.",
                "It immediatly follows from this symmetry that πs = πs , so π is uniform.",
                "After a sufficient amount of time, the distribution will be close enough to π, that the probabilities are again bounded by constant, which is sufficient to complete the theorem. 0 0.002 0.004 0.006 0.008 0.01 Euclidean Distance 2000 2500 3000 3500 4000 NumberofSteps Figure 1: Distance from maximum-entropy distribution with 1000 agents. 5000 10000 15000 20000 25000 Number of Agents 0.001 0.002 0.003 0.004 0.005 MaximumDistance Figure 2: Maximum distance from maximumentropy distribution over 106 timesteps. 0 5000 10000 15000 20000 25000 Number of Agents 0 20000 40000 60000 TimetoDistance.001 Figure 3: Average time to get within .001 of the maximum-entropy distribution. 144 We performed a number of experiments that show that the maximum entropy behavior described in Theorem 3.1 arises quickly for quite practical values of n and t. The first experiment showed that, even if n = 1000, we reach the maximum-entropy distribution quickly.",
                "We averaged 10 runs of the Markov chain for k = 5 where there is enough money for each agent to have $2 starting from a very extreme distribution (every agent has either $0 or $5) and considered the average time needed to come within various distances of the maximum entropy distribution.",
                "As Figure 1 shows, after 2,000 steps, on average, the Euclidean distance from the average distribution of money to the maximum-entropy distribution is .008; after 3,000 steps, the distance is down to .001.",
                "Note that this is really only 3 real time units since with 1000 players we have 1000 transactions per time unit.",
                "We then considered how close the distribution stays to the maximum entropy distribution once it has reached it.",
                "To simplify things, we started the system in a state whose distribution was very close to the maximum-entropy distribution and ran it for 106 steps, for various values of n. As Figure 2 shows, the system does not move far from the maximum-entropy distribution once it is there.",
                "For example, if n = 5000, the system is never more than distance .001 from the maximum-entropy distribution; if n = 25, 000, it is never more than .0002 from the maximum-entropy distribution.",
                "Finally, we considered how more carefully how quickly the system converges to the maximum-entropy distribution for various values of n. There are approximately kn possible states, so the convergence time could in principle be quite large.",
                "However, we suspect that the Markov chain that arises here is rapidly mixing, which means that it will converge significantly faster (see [20] for more details about rapid mixing).",
                "We believe that the actually time needed is O(n).",
                "This behavior is illustrated in Figure 3, which shows that for our example chain (again averaged over 10 runs), after 3n steps, the Euclidean distance between the actual distribution of money in the system and the maximum-entropy distribution is less than .001. 4.",
                "THE GAME UNDER STRATEGIC PLAY We have seen that the system is well behaved if the agents all follow a threshold strategy; we now want to show that there is a nontrivial Nash equilibrium where they do so (that is, a Nash equilibrium where all the agents use Sk for some k > 0.)",
                "This is not true in general.",
                "If δ is small, then agents have no incentive to work.",
                "Intuitively, if future utility is sufficiently discounted, then all that matters is the present, and there is no point in volunteering to work.",
                "With small δ, S0 is the only equilibrium.",
                "However, we show that for δ sufficiently large, there is another equilibrium in threshold strategies.",
                "We do this by first showing that, if every other agent is playing a threshold strategy, then there is a best response that is also a threshold strategy (although not necessarily the same one).",
                "We then show that there must be some (mixed) threshold strategy for which this best response is the same strategy.",
                "It follows that this tuple of threshold strategies is a Nash equilibrium.",
                "As a first step, we show that, for all k, if everyone other than agent i is playing Sk, then there is a threshold strategy Sk that is a best response for agent i.",
                "To prove this, we need to assume that the system is close to the steadystate distribution (i.e., the maximum-entropy distribution).",
                "However, as long as δ is sufficiently close to 1, we can ignore what happens during the period that the system is not in steady state.3 We have thus far considered threshold strategies of the form Sk, where k is a natural number; this is a discrete set of strategies.",
                "For a later proof, it will be helpful to have a continuous set of strategies.",
                "If γ = k + γ , where k is a natural number and 0 ≤ γ < 1, let Sγ be the strategy that performs Sk with probability 1 − γ and Sk+1 with probability γ. (Note that we are not considering arbitrary mixed threshold strategies here, but rather just mixing between adjacent strategies for the sole purpose of making out strategies continuous in a natural way.)",
                "Theorem 3.1 applies to strategies Sγ (the same proof goes through without change), where γ is an arbitrary nonnegative real number.",
                "Theorem 4.1.",
                "Fix a strategy Sγ and an agent i.",
                "There exists δ∗ < 1 and n∗ such that if δ > δ∗ , n > n∗ , and every agent other than i is playing Sγ in game G(n, δ), then there is an integer k such that the best response for agent i is Sk .",
                "Either k is unique (that is, there is a unique best response that is also a threshold strategy), or there exists an integer k such that Sγ is a best response for agent i for all γ in the interval [k , k +1] (and these are the only best responses among threshold strategies).",
                "Proof. (Sketch:) If δ is sufficiently large, we can ignore what happens before the system converges to the maximumentropy distribution.",
                "If n is sufficiently large, then the strategy played by one agent will not affect the distribution of money significantly.",
                "Thus, the probability of i moving from one state (dollar amount) to another depends only on is strategy (since we can take the probability that i will be chosen to make a request and the probability that i will be chosen to satisfy a request to be constant).",
                "Thus, from is point of view, the system is a Markov decision process (MDP), and i needs to compute the optimal policy (strategy) for this MDP.",
                "It follows from standard results [23, Theorem 6.11.6] that there is an optimal policy that is a threshold policy.",
                "The argument that the best response is either unique or there is an interval of best responses follows from a more careful analysis of the value function for the MDP.",
                "We remark that there may be best responses that are not threshold strategies.",
                "All that Theorem 4.1 shows is that, among best responses, there is at least one that is a threshold strategy.",
                "Since we know that there is a best response that is a threshold strategy, we can look for a Nash equilibrium in the space of threshold strategies.",
                "Theorem 4.2.",
                "For all M, there exists δ∗ < 1 and n∗ such that if δ > δ∗ and n > n∗ , there exists a Nash equilibrium in the game G(n, δ) where all agents play Sγ for some integer γ > 0.",
                "Proof.",
                "It follows easily from the proof Theorem 4.1 that if br(δ, γ) is the minimal best response threshold strategy if all the other agents are playing Sγ and the discount factor is δ then, for fixed δ, br(δ, ·) is a step function.",
                "It also follows 3 Formally, we need to define the strategies when the system is far from equilibrium.",
                "However, these far from (stochastic) equilibrium strategies will not affect the equilibrium behavior when n is large and deviations from stochastic equilibrium are extremely rare. 145 from the theorem that if there are two best responses, then a mixture of them is also a best response.",
                "Therefore, if we can join the steps by a vertical line, we get a best-response curve.",
                "It is easy to see that everywhere that this bestresponse curve crosses the diagonal y = x defines a Nash equilibrium where all agents are using the same threshold strategy.",
                "As we have already observed, one such equilibrium occurs at 0.",
                "If there are only $M in the system, we can restrict to threshold strategies Sk where k ≤ M + 1.",
                "Since no one can have more than $M, all strategies Sk for k > M are equivalent to SM ; these are just the strategies where the agent always volunteers in response to request made by someone who can pay.",
                "Clearly br(δ, SM ) ≤ M for all δ, so the best response function is at or below the equilibrium at M. If k ≤ M/n, every player will have at least k dollars and so will be unwilling to work and the best response is just 0.",
                "Consider k∗ , the smallest k such that k > M/n.",
                "It is not hard to show that for k∗ there exists a δ∗ such that for all δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ .",
                "It follows by continuity that if δ ≥ δ∗ , there must be some γ such that br(δ, γ) = γ.",
                "This is the desired Nash equilibrium.",
                "This argument also shows us that we cannot in general expect fixed points to be unique.",
                "If br(δ, k∗ ) = k∗ and br(δ, k + 1) > k + 1 then our argument shows there must be a second fixed point.",
                "In general there may be multiple fixed points even when br(δ, k∗ ) > k∗ , as illustrated in the Figure 4 with n = 1000 and M = 3000. 0 5 10 15 20 25 Strategy of Rest of Agents 0 5 10 15 20 25 BestResponse Figure 4: The best response function for n = 1000 and M = 3000.",
                "Theorem 4.2 allows us to restrict our design to agents using threshold strategies with the confidence that there will be a nontrivial equilibrium.",
                "However, it does not rule out the possibility that there may be other equilibria that do not involve threshold stratgies.",
                "It is even possible (although it seems unlikely) that some of these equilibria might be better. 5.",
                "SOCIAL WELFARE AND SCALABITY Our theorems show that for each value of M and n, for sufficiently large δ, there is a nontrivial Nash equilibrium where all the agents use some threshold strategy Sγ(M,n).",
                "From the point of view of the system designer, not all equilibria are equally good; we want an equilibrium where as few as possible agents have $0 when they get a chance to make a request (so that they can pay for the request) and relatively few agents have more than the threshold amount of money (so that there are always plenty of agents to fulfill the request).",
                "There is a tension between these objectives.",
                "It is not hard to show that as the fraction of agents with $0 increases in the maximum entropy distribution, the fraction of agents with the maximum amount of money decreases.",
                "Thus, our goal is to understand what the optimal amount of money should be in the system, given the number of agents.",
                "That is, we want to know the amount of money M that maximizes efficiency, i.e., the total expected utility if all the agents use Sγ(M,n). 4 We first observe that the most efficient equilibrium depends only on the ratio of M to n, not on the actual values of M and n. Theorem 5.1.",
                "There exists n∗ such that for all games G(n1, δ) and G(n2, δ) where n1, n2 > n∗ , if M1/n1 = M2/n2, then Sγ(M1,n1) = Sγ(M2,n2).",
                "Proof.",
                "Fix M/n = r. Theorem 3.1 shows that the maximum-entropy distribution depends only on k and the ratio M/n, not on M and n separately.",
                "Thus, given r, for each choice of k, there is a unique maximum entropy distribution dk,r.",
                "The best response br(δ, k) depends only on the distribution dk,r, not M or n. Thus, the Nash equilibrium depends only on the ratio r. That is, for all choices of M and n such that n is sufficiently large (so that Theorem 3.1 applies) and M/n = r, the equilibrium strategies are the same.",
                "In light of Theorem 5.1, the system designer should ensure that there is enough money M in the system so that the ratio between M/n is optimal.",
                "We are currently exploring exactly what the optimal ratio is.",
                "As our very preliminary results for β = 1 show in Figure 5, the ratio appears to be monotone increasing in δ, which matches the intuition that we should provide more patient agents with the opportunity to save more money.",
                "Additionally, it appears to be relatively smooth, which suggests that it may have a nice analytic solution. 0.9 0.91 0.92 0.93 0.94 0.95 Discount Rate ∆ 5 5.5 6 6.5 7 OptimalRatioofMn Figure 5: Optimal average amount of money to the nearest .25 for β = 1 We remark that, in practice, it may be easier for the designer to vary the price of fulfilling a request rather than 4 If there are multiple equilibria, we take Sγ(M,n) to be the Nash equilibrium that has highest efficiency for fixed M and n. 146 injecting money in the system.",
                "This produces the same effect.",
                "For example, changing the cost of fulfilling a request from $1 to $2 is equivalent to halving the amount of money that each agent has.",
                "Similarly, halving the the cost of fulfilling a request is equivalent to doubling the amount of money that everyone has.",
                "With a fixed amount of money M, there is an optimal product nc of the number of agents and the cost c of fulfilling a request.",
                "Theorem 5.1 also tells us how to deal with a dynamic pool of agents.",
                "Our system can handle newcomers relatively easily: simply allow them to join with no money.",
                "This gives existing agents no incentive to leave and rejoin as newcomers.",
                "We then change the price of fulfilling a request so that the optimal ratio is maintained.",
                "This method has the nice feature that it can be implemented in a distributed fashion; if all nodes in the system have a good estimate of n then they can all adjust prices automatically. (Alternatively, the number of agents in the system can be posted in a public place.)",
                "Approaches that rely on adjusting the amount of money may require expensive system-wide computations (see [26] for an example), and must be carefully tuned to avoid creating incentives for agents to manipulate the system by which this is done.",
                "Note that, in principle, the realization that the cost of fulfilling a request can change can affect an agents strategy.",
                "For example, if an agent expects the cost to increase, then he may want to defer volunteering to fulfill a request.",
                "However, if the number of agents in the system is always increasing, then the cost always decreases, so there is never any advantage in waiting.",
                "There may be an advantage in delaying a request, but it is far more costly, in terms of waiting costs than in providing service, since we assume the need for a service is often subject to real waiting costs, while the need to supply the service is merely to augment a money supply. (Related issues are discussed in [10].)",
                "We ultimately hope to modify the mechanism so that the price of a job can be set endogenously within the system (as in real-world economies), with agents bidding for jobs rather than there being a fixed cost set externally.",
                "However, we have not yet explored the changes required to implement this change.",
                "Thus, for now, we assume that the cost is set as a function of the number of agents in the system (and that there is no possibility for agents to satisfy a request for less than the official cost or for requesters to offer to pay more than it). 6.",
                "SYBILS AND COLLUSION In a naive sense, our system is essentially sybil-proof.",
                "To get d dollars, his sybils together still have to perform d units of work.",
                "Moreover, since newcomers enter the system with $0, there is no benefit to creating new agents simply to take advantage of an initial endowment.",
                "Nevertheless, there are some less direct ways that an agent could take advantage of sybils.",
                "First, by having more identities he will have a greater probability of getting chosen to make a request.",
                "It is easy to see that this will lead to the agent having higher total utility.",
                "However, this is just an artifact of our model.",
                "To make our system simple to analyze, we have assumed that request opportunities came uniformly at random.",
                "In practice, requests are made to satisfy a desire.",
                "Our model implicitly assumed that all agents are equally likely to have a desire at any particular time.",
                "Having sybils should not increase the need to have a request satisfied.",
                "Indeed, it would be reasonable to assume that sybils do not make requests at all.",
                "Second, having sybils makes it more likely that one of the sybils will be chosen to fulfill a request.",
                "This can allow a user to increase his utility by setting a lower threshold; that is, to use a strategy Sk where k is smaller than the k used by the Nash equilibrium strategy.",
                "Intuitively, the need for money is not as critical if money is easier to obtain.",
                "Unlike the first concern, this seems like a real issue.",
                "It seems reasonable to believe that when people make a decision between a number of nodes to satisfy a request they do so at random, at least to some extent.",
                "Even if they look for advertised node features to help make this decision, sybils would allow a user to advertise a wide range of features.",
                "Third, an agent can drive down the cost of fulfilling a request by introducing many sybils.",
                "Similarly, he could increase the cost (and thus the value of his money) by making a number of sybils leave the system.",
                "Concievably he could alternate between these techniques to magnify the effects of work he does.",
                "We have not yet calculated the exact effect of this change (it interacts with the other two effects of having sybils that we have already noted).",
                "Given the number of sybils that would be needed to cause a real change in the perceived size of a large P2P network, the practicality of this attack depends heavily on how much sybils cost an attacker and what resources he has available.",
                "The second point raised regarding sybils also applies to collusion if we allow money to be loaned.",
                "If k agents collude, they can agree that, if one runs out of money, another in the group will loan him money.",
                "By pooling their money in this way, the k agents can again do better by setting a higher threshold.",
                "Note that the loan mechanism doesnt need to be built into the system; the agents can simply use a fake transaction to transfer the money.",
                "These appear to be the main avenues for collusive attacks, but we are still exploring this issue. 7.",
                "CONCLUSION We have given a formal analysis of a <br>scrip system</br> and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy.",
                "Moreover, we can compute efficiency of equilibrium strategy and optimize the price (or money supply) to maximize efficiency.",
                "Thus, our analysis provides a formal mechanisms for solving some important problems in implementing scrip systems.",
                "It tells us that with a fixed population of rational users, such systems are very unlikely to become unstable.",
                "Thus if this stability is common belief among the agents we would not expect inflation, bubbles, or crashes because of agent speculation.",
                "However, we cannot rule out the possibility that that agents may have other beliefs that will cause them to speculate.",
                "Our analysis also tells us how to scale the system to handle an influx of new users without introducing these problems: scale the money supply to keep the average amount of money constant (or equivalently adjust prices to achieve the same goal).",
                "There are a number of theoretical issues that are still open, including a characterization of the multiplicity of equilibria - are there usually 2?",
                "In addition, we expect that one should be able to compute analytic estimates for the best response function and optimal pricing which would allow us to understand the relationship between pricing and various parameters in the model. 147 It would also be of great interest to extend our analysis to handle more realistic settings.",
                "We mention a few possible extensions here: • We have assumed that the world is homogeneous in a number of ways, including request frequency, utility, and ability to satisfy requests.",
                "It would be interesting to examine how relaxing any of these assumptions would alter our results. • We have assumed that there is no cost to an agent to be a member of the system.",
                "Suppose instead that we imposed a small cost simply for being present in the system to reflect the costs of routing messages and overlay maintainance.",
                "This modification could have a significant impact on sybil attacks. • We have described a <br>scrip system</br> that works when there are no altruists and have shown that no system can work once there there are sufficiently many altruists.",
                "What happens between these extremes? • One type of irrational behavior encountered with scrip systems is hoarding.",
                "There are some similarities between hoarding and altruistic behavior.",
                "While an altruist provide service for everyone, a hoarder will volunteer for all jobs (in order to get more money) and rarely request service (so as not to spend money).",
                "It would be interesting to investigate the extent to which our system is robust against hoarders.",
                "Clearly with too many hoarders, there may not be enough money remaining among the non-hoarders to guarantee that, typically, a non-hoarder would have enough money to satisfy a request. • Finally, in P2P filesharing systems, there are overlapping communities of various sizes that are significantly more likely to be able to satisfy each others requests.",
                "It would be interesting to investigate the effect of such communities on the equilibrium of our system.",
                "There are also a number of implementation issues that would have to be resolved in a real system.",
                "For example, we need to worry about the possibility of agents counterfeiting money or lying about whether service was actually provided.",
                "Karma [26] provdes techniques for dealing with both of these issues and a number of others, but some of Karmas implementation decisions point to problems for our model.",
                "For example, it is prohibitively expensive to ensure that bank account balances can never go negative, a fact that our model does not capture.",
                "Another example is that Karma has nodes serve as bookkeepers for other nodes account balances.",
                "Like maintaining a presence in the network, this imposes a cost on the node, but unlike that, responsibility it can be easily shirked.",
                "Karma suggests several ways to incentivize nodes to perform these duties.",
                "We have not investigated whether these mechanisms be incorporated without disturbing our equilibrium. 8.",
                "ACKNOWLEDGEMENTS We would like to thank Emin Gun Sirer, Shane Henderson, Jon Kleinberg, and 3 anonymous referees for helpful suggestions.",
                "EF, IK and JH are supported in part by NSF under grant ITR-0325453.",
                "JH is also supported in part by NSF under grants CTC-0208535 and IIS-0534064, by ONR under grant N00014-01-10-511, by the DoD Multidisciplinary University Research Initiative (MURI) program administered by the ONR under grants N00014-01-1-0795 and N00014-04-1-0725, and by AFOSR under grant F49620-021-0101. 9.",
                "REFERENCES [1] E. Adar and B.",
                "A. Huberman.",
                "Free riding on Gnutella.",
                "First Monday, 5(10), 2000. [2] K. G. Anagnostakis and M. Greenwald.",
                "Exchange-based incentive mechanisms for peer-to-peer file sharing.",
                "In International Conference on Distributed Computing Systems (ICDCS), pages 524-533, 2004. [3] BitTorrent Inc. BitTorrent web site. http://www.bittorent.com. [4] A. Cheng and E. Friedman.",
                "Sybilproof reputation mechanisms.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), pages 128-132, 2005. [5] Cornell Information Technologies.",
                "Cornells ccommodity internet usage statistics. http://www.cit.cornell.edu/computer/students/ bandwidth/charts.html. [6] J. R. Douceur.",
                "The sybil attack.",
                "In International Workshop on Peer-to-Peer Systems (IPTPS), pages 251-260, 2002. [7] G. Ellison.",
                "Cooperation in the prisoners dilemma with anonymous random matching.",
                "Review of Economic Studies, 61:567-588, 1994. [8] eMule Project. eMule web site. http://www.emule-project.net/. [9] M. Feldman, K. Lai, I. Stoica, and J. Chuang.",
                "Robust incentive techniques for peer-to-peer networks.",
                "In ACM Conference on Electronic Commerce (EC), pages 102-111, 2004. [10] E. J. Friedman and D. C. Parkes.",
                "Pricing wifi at starbucks: issues in online mechanism design.",
                "In EC 03: Proceedings of the 4th ACM Conference on Electronic Commerce, pages 240-241.",
                "ACM Press, 2003. [11] E. J. Friedman and P. Resnick.",
                "The social cost of cheap pseudonyms.",
                "Journal of Economics and Management Strategy, 10(2):173-199, 2001. [12] R. Guha, R. Kumar, P. Raghavan, and A. Tomkins.",
                "Propagation of trust and distrust.",
                "In Conference on the World Wide Web(WWW), pages 403-412, 2004. [13] M. Gupta, P. Judge, and M. H. Ammar.",
                "A reputation system for peer-to-peer networks.",
                "In Network and Operating System Support for Digital Audio and Video(NOSSDAV), pages 144-152, 2003. [14] Z. Gyongi, P. Berkhin, H. Garcia-Molina, and J. Pedersen.",
                "Link spam detection based on mass estimation.",
                "Technical report, Stanford University, 2005. [15] J. Ioannidis, S. Ioannidis, A. D. Keromytis, and V. Prevelakis.",
                "Fileteller: Paying and getting paid for file storage.",
                "In Financial Cryptography, pages 282-299, 2002. [16] E. T. Jaynes.",
                "Where do we stand on maximum entropy?",
                "In R. D. Levine and M. Tribus, editors, The Maximum Entropy Formalism, pages 15-118.",
                "MIT Press, Cambridge, Mass., 1978. 148 [17] S. D. Kamvar, M. T. Schlosser, and H. Garcia-Molina.",
                "The Eigentrust algorithm for reputation management in P2P networks.",
                "In Conference on the World Wide Web (WWW), pages 640-651, 2003. [18] M. Kandori.",
                "Social norms and community enforcement.",
                "Review of Economic Studies, 59:63-80, 1992. [19] LogiSense Corporation.",
                "LogiSense web site. http://www.logisense.com/tm p2p.html. [20] L. Lovasz and P. Winkler.",
                "Mixing of random walks and other diffusions on a graph.",
                "In Surveys in Combinatorics, 1993, Walker (Ed. ), London Mathematical Society Lecture Note Series 187, Cambridge University Press. 1995. [21] Open Source Technology Group.",
                "Slashdot FAQcomments and moderation. http://slashdot.org/faq/com-mod.shtml#cm700. [22] OSMB LLC.",
                "Gnutella web site. http://www.gnutella.com/. [23] M. L. Puterman.",
                "Markov Decision Processes.",
                "Wiley, 1994. [24] SETI@home.",
                "SETI@home web page. http://setiathome.ssl.berkeley.edu/. [25] Sharman Networks Ltd. Kazaa web site. http://www.kazaa.com/. [26] V. Vishnumurthy, S. Chandrakumar, and E. Sirer.",
                "Karma: A secure economic framework for peer-to-peer resource sharing.",
                "In Workshop on Economics of Peer-to-Peer Systems (P2PECON), 2003. [27] L. Xiong and L. Liu.",
                "Building trust in decentralized peer-to-peer electronic communities.",
                "In Internation Conference on Electronic Commerce Research (ICECR), 2002. [28] H. Zhang, A. Goel, R. Govindan, K. Mason, and B. V. Roy.",
                "Making eigenvector-based reputation systems robust to collusion.",
                "In Workshop on Algorithms and Models for the Web-Graph(WAW), pages 92-104, 2004. 149"
            ],
            "original_annotated_samples": [
                "Efficiency and Nash Equilibria in a <br>scrip system</br> for P2P Networks Eric J. Friedman School of Operations Research and Industrial Engineering Cornell University ejf27@cornell.edu Joseph Y. Halpern Computer Science Dept.",
                "It is shown that by adding a <br>scrip system</br>, a mechanism that admits a reasonable Nash equilibrium that reduces free riding can be obtained.",
                "We describe a simple <br>scrip system</br> and show that, under reasonable assumptions, for each fixed amount of money there is a nontrivial Nash equilibrium involving threshold strategies, where an agent accepts a request if he has less than $k for some threshold k.1 An interesting aspect of our analysis is that, in equilibrium, the distribution of users with each amount of money is the distribution that maximizes entropy (subject to the money supply constraint).",
                "We are interested in equilibria based on a <br>scrip system</br>.",
                "CONCLUSION We have given a formal analysis of a <br>scrip system</br> and have shown that the existence of a Nash equilibrium where all agents use a threshold strategy."
            ],
            "translated_annotated_samples": [
                "Eficiencia y equilibrios de Nash en un <br>sistema de vales</br> para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación.",
                "Se demuestra que al agregar un <br>sistema de script</br>, se puede obtener un mecanismo que admita un equilibrio de Nash razonable que reduzca el comportamiento de aprovechamiento gratuito.",
                "Describimos un <br>sistema de guion</br> simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero).",
                "Estamos interesados en equilibrios basados en un <br>sistema de vales</br>.",
                "CONCLUSIÓN Hemos realizado un análisis formal de un <br>sistema de escritura</br> y hemos demostrado que existe un equilibrio de Nash donde todos los agentes utilizan una estrategia de umbral."
            ],
            "translated_text": "Eficiencia y equilibrios de Nash en un <br>sistema de vales</br> para redes P2P. Eric J. Friedman, Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, ejf27@cornell.edu. Joseph Y. Halpern, Departamento de Ciencias de la Computación. Universidad Cornell halpern@cs.cornell.edu Ian Kash Departamento de Ciencias de la Computación. La Universidad de Cornell kash@cs.cornell.edu RESUMEN Se analiza un modelo de prestación de servicios en una red P2P. Se demuestra que al agregar un <br>sistema de script</br>, se puede obtener un mecanismo que admita un equilibrio de Nash razonable que reduzca el comportamiento de aprovechamiento gratuito. El efecto de variar la cantidad total de dinero (vales) en el sistema sobre la eficiencia (es decir, el bienestar social) se analiza, y se muestra que al mantener la proporción adecuada entre la cantidad total de dinero y el número de agentes, se maximiza la eficiencia. El trabajo tiene implicaciones para muchos sistemas en línea, no solo redes P2P sino también una amplia variedad de foros en línea para los cuales los sistemas de script son populares, pero faltan análisis formales. Categorías y Descriptores de Asignaturas C.2.4 [Redes de Computadoras-Comunicación]: Sistemas Distribuidos; I.2.11 [Inteligencia Artificial]: Inteligencia Artificial Distribuida-Sistemas Multiagente; J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Computadoras y Sociedad]: Comercio Electrónico Términos Generales Economía, Teoría 1. INTRODUCCIÓN Una característica común de muchos sistemas distribuidos en línea es que los individuos proporcionan servicios entre sí. Las redes peer-to-peer (P2P) (como Kazaa [25] o BitTorrent [3]) han demostrado ser populares como mecanismos para compartir archivos, y aplicaciones como la computación distribuida y el almacenamiento de archivos están en el horizonte; sistemas como Seti@home [24] proporcionan asistencia computacional; sistemas como Slashdot [21] ofrecen contenido, evaluaciones y foros de consejos en los que las personas responden las preguntas de los demás. El hecho de que las personas se presten servicios entre sí generalmente aumenta el bienestar social: el individuo que utiliza los recursos del sistema obtiene un beneficio mayor que el costo para la persona que lo proporciona. Sin embargo, el costo de brindar el servicio aún puede ser significativo. Por ejemplo, los usuarios de Kazaa y BitTorrent pueden ser cobrados por el uso de ancho de banda; además, en algunos sistemas de intercambio de archivos, existe la posibilidad de ser demandado, lo cual puede ser visto como parte del costo. Por lo tanto, en muchos sistemas existe un fuerte incentivo para convertirse en un \"pasajero gratis\" y beneficiarse del sistema sin contribuir a él. Este no es simplemente un problema teórico; estudios de la red Gnutella [22] han demostrado que casi el 70 por ciento de los usuarios no comparten archivos y casi el 50 por ciento de las respuestas provienen del 1 por ciento superior de los anfitriones que comparten [1]. Tener relativamente pocos usuarios que proporcionen la mayor parte del servicio crea un punto de centralización; la desaparición de un pequeño porcentaje de usuarios puede afectar enormemente la funcionalidad del sistema. Además, las tendencias actuales parecen estar llevando a la eliminación de los usuarios altruistas en los que estos sistemas confían. Estos usuarios intensivos son algunos de los clientes más costosos que tienen los proveedores de servicios de Internet. Por lo tanto, a medida que la cantidad de tráfico ha aumentado, los proveedores de servicios de Internet han comenzado a buscar formas de reducir este tráfico. Algunas universidades han comenzado a cobrar a los estudiantes por el uso excesivo de ancho de banda; otras revocan el acceso a la red por ello [5]. Un número de empresas también se han formado cuyo servicio es detectar el uso excesivo de ancho de banda [19]. Estas tendencias hacen que desarrollar un sistema que fomente una distribución más equitativa del trabajo sea crucial para la viabilidad continua de las redes P2P y otros sistemas en línea distribuidos. Se ha invertido una cantidad significativa de investigación en el diseño de sistemas de reputación para dar tratamiento preferencial a los usuarios que comparten archivos. Algunas de las redes P2P actualmente en uso han implementado versiones de estas técnicas. Sin embargo, estos enfoques tienden a caer en una de dos categorías: o son similares al trueque o se basan en la reputación. Por \"tipo trueque\", nos referimos a que cada agente basa sus decisiones únicamente en la información que ha obtenido de sus propias interacciones. Quizás el ejemplo más conocido de un sistema similar al trueque es BitTorrent, donde los clientes que descargan un archivo intentan encontrar a otros clientes con partes que les faltan para poder intercambiarlas, creando así una cantidad de trabajo aproximadamente igual. Dado que el trueque está restringido a usuarios actualmente interesados en un solo archivo, esto funciona bien para archivos populares, pero tiende a tener problemas para mantener la disponibilidad de los menos populares. Un ejemplo de un sistema similar al trueque construido sobre un sistema de intercambio de archivos más tradicional es el sistema de créditos utilizado por eMule 140 [8]. Cada usuario realiza un seguimiento de su historial de interacciones con otros usuarios y da prioridad a aquellos de los que ha descargado previamente. Sin embargo, en un sistema grande, la probabilidad de que un par de usuarios elegidos al azar hayan interactuado antes es bastante baja, por lo que este historial de interacciones no será de gran ayuda. Anagnostakis y Greenwald [2] presentan una versión más sofisticada de este enfoque, pero aún parece sufrir de problemas similares. Se han realizado varios intentos de proporcionar sistemas de reputación generales (por ejemplo, [12, 13, 17, 27]). La idea básica es agregar la experiencia de cada usuario en un número global para cada individuo que represente de manera intuitiva la visión del sistema sobre la reputación de ese individuo. Sin embargo, estos intentos tienden a sufrir problemas prácticos porque implícitamente consideran a los usuarios como buenos o malos, asumen que los buenos usuarios actuarán de acuerdo con el protocolo especificado, y que hay relativamente pocos usuarios malos. Desafortunadamente, si existen formas fáciles de manipular el sistema, una vez que esta información se vuelva ampliamente disponible, es probable que los usuarios racionales la utilicen. No podemos depender solo de unos pocos usuarios siendo malos (en el sentido de no seguir el protocolo prescrito). Por ejemplo, Kazaa utiliza una medida de la proporción entre el número de cargas y el número de descargas para identificar usuarios buenos y malos. Sin embargo, para evitar penalizar a los nuevos usuarios, les dieron a los nuevos usuarios una calificación promedio. Los usuarios descubrieron que podían aprovechar esta calificación relativamente buena para viajar gratis por un tiempo y, una vez que comenzaba a empeorar, podían eliminar su información almacenada y regresar efectivamente como un nuevo usuario, evitando así el sistema (ver [2] para una discusión y [11] para un análisis formal de este lavado de imagen). Por lo tanto, el sistema de reputación de Kazaas es ineficaz. Este es un caso simple de una vulnerabilidad más general de tales sistemas a los ataques de sybil [6], donde un solo usuario mantiene múltiples identidades y las utiliza de manera coordinada para obtener un mejor servicio del que obtendría de otra manera. Trabajos recientes han demostrado que la mayoría de los sistemas de reputación comunes son vulnerables (en el peor de los casos) a tales ataques [4]; sin embargo, el grado de esta vulnerabilidad aún no está claro. El análisis de las vulnerabilidades prácticas y la existencia de sistemas inmunes a tales ataques sigue siendo un área de investigación activa (por ejemplo, [4, 28, 14]). Los sistemas económicos simples basados en un vale o dinero parecen evitar muchos de estos problemas, son fáciles de implementar y son bastante populares (ver, por ejemplo, [13, 15, 26]). Sin embargo, tienen un conjunto diferente de problemas. Quizás los más comunes implican determinar la cantidad de dinero en el sistema. Hablando en términos generales, si hay muy poco dinero en el sistema en relación con el número de agentes, entonces relativamente pocos usuarios pueden permitirse hacer solicitudes. Por otro lado, si hay demasiado dinero, entonces los usuarios no sentirán la necesidad de responder a una solicitud; ya tienen suficiente dinero. Un problema relacionado implica manejar a los recién llegados. Si a los recién llegados se les da una cantidad positiva de dinero, entonces el sistema está abierto a ataques de Sybil. Quizás no sorprendentemente, los sistemas de moneda fiduciaria terminan teniendo que lidiar con problemas económicos estándar como la inflación, las burbujas y las crisis [26]. En este artículo, proporcionamos un modelo formal en el cual analizar sistemas de escritura. Describimos un <br>sistema de guion</br> simple y mostramos que, bajo suposiciones razonables, para cada cantidad fija de dinero existe un equilibrio de Nash no trivial que implica estrategias de umbral, donde un agente acepta una solicitud si tiene menos de $k para algún umbral k. Un aspecto interesante de nuestro análisis es que, en equilibrio, la distribución de usuarios con cada cantidad de dinero es la distribución que maximiza la entropía (sujeta a la restricción de la oferta de dinero). Esto nos permite calcular la oferta monetaria que maximiza la eficiencia (bienestar social), dado el número de agentes. También conduce a una solución para el problema de tratar con los recién llegados: simplemente asumimos que los nuevos usuarios llegan sin dinero, y ajustamos el precio del servicio (lo cual es equivalente a ajustar la oferta de dinero) para mantener la proporción que maximiza la eficiencia. Si bien asumir que los nuevos usuarios no tienen dinero no funcionará en todos los contextos, creemos que este enfoque será ampliamente aplicable. En sistemas donde el objetivo es realizar trabajo, los nuevos usuarios pueden adquirir dinero realizando trabajo. También debería funcionar en el sistema Kazaalike donde un usuario puede ingresar con algunos recursos (por ejemplo, una colección privada de MP3). El resto del documento está organizado de la siguiente manera. En la Sección 2, presentamos nuestro modelo formal y observamos que se puede utilizar para comprender el efecto de los altruistas. En la Sección 3, examinamos qué sucede en el juego bajo un juego no estratégico, si todos los agentes utilizan la misma estrategia de umbral. Mostramos que, en este caso, el sistema converge rápidamente a una situación donde la distribución del dinero está caracterizada por la entropía máxima. Usando este análisis, mostramos en la Sección 4 que, bajo suposiciones mínimas, hay un equilibrio de Nash no trivial en el juego donde todos los agentes utilizan alguna estrategia de umbral. Además, mostramos en la Sección 5 que el análisis conduce a una comprensión de cómo elegir la cantidad de dinero en el sistema (o, de manera equivalente, el costo para cumplir una solicitud) para maximizar la eficiencia, y también muestra cómo manejar a los nuevos usuarios. En la Sección 6, discutimos en qué medida nuestro enfoque puede manejar sybils y colusión. Concluimos en la Sección 7.2. EL MODELO Para empezar, formalizamos la prestación de servicios en una red P2P como un juego no cooperativo. A diferencia de gran parte de la modelización en esta área, nuestro modelo modelará las interacciones asimétricas en un sistema de intercambio de archivos en el que el emparejamiento de jugadores (aquellos que solicitan un archivo con aquellos que tienen ese archivo en particular) es una parte clave del sistema. Esto contrasta con gran parte de trabajos anteriores que utilizan emparejamiento aleatorio en un dilema del prisionero. Tales modelos fueron estudiados en la literatura económica [18, 7] y aplicados por primera vez a reputaciones en línea en [11]; una aplicación a P2P se encuentra en [9]. Este modelo de emparejamiento aleatorio no logra capturar algunos aspectos relevantes de varios entornos importantes. Cuando se realiza una solicitud, generalmente hay muchas personas en la red que potencialmente pueden satisfacerla (especialmente en una red P2P grande), pero no todas pueden hacerlo. Por ejemplo, algunas personas pueden no tener el tiempo o los recursos para satisfacer la solicitud. El proceso de emparejamiento aleatorio ignora el hecho de que algunas personas pueden no ser capaces de satisfacer la solicitud. Presumiblemente, si la persona emparejada con el solicitante no pudiera satisfacer el emparejamiento, tendría que desertar. Además, no captura el hecho de que la decisión de si voluntariarse para satisfacer la solicitud debe tomarse antes del proceso de emparejamiento, no después. Es decir, el proceso de emparejamiento no captura el hecho de que si alguien no está dispuesto a satisfacer la solicitud, sin duda habrá otros que puedan hacerlo. Aunque nos referimos a nuestra unidad de moneda como el dólar, estos no son dólares reales ni los consideramos convertibles en dólares. Finalmente, las acciones y recompensas en el juego del dilema del prisionero no corresponden claramente a las decisiones reales que se pueden tomar. Por ejemplo, no está claro qué significa la deserción por parte del solicitante. En nuestro modelo intentamos abordar todos estos problemas. Supongamos que hay n agentes. En cada ronda, se elige de forma aleatoria y uniforme a un agente para hacer una solicitud. Cada otro agente puede satisfacer esta solicitud con una probabilidad β > 0 en todo momento, independientemente del comportamiento previo. El término β tiene la intención de capturar la probabilidad de que un agente esté ocupado o no tenga los recursos para cumplir con la solicitud. Suponer que β es independiente del tiempo no captura la intuición de que no poder cumplir una solicitud en el tiempo t puede estar correlacionado con no poder cumplirla en el tiempo t+1. Creemos que, en sistemas grandes, deberíamos poder eliminar la suposición de independencia, pero dejamos esto para trabajos futuros. En cualquier caso, aquellos agentes que sean capaces de satisfacer la solicitud deben elegir si desean o no ofrecerse como voluntarios para satisfacerla. Si al menos un agente se ofrece como voluntario, el solicitante recibe un beneficio de 1 utilidad (el trabajo se realiza) y uno de los voluntarios es elegido al azar para cumplir con la solicitud. El agente que cumple con la solicitud paga un costo de α < 1. Como es habitual en la literatura, asumimos que los agentes descuentan los beneficios futuros por un factor de δ por unidad de tiempo. Esto captura la intuición de que un util hoy vale más que un util mañana, y nos permite calcular la utilidad total derivada por un agente en un juego infinito. Por último, asumimos que con más jugadores las solicitudes llegan con más frecuencia. Por lo tanto, asumimos que el tiempo entre rondas es 1/n. Esto captura el hecho de que los sistemas que queremos modelar realmente están procesando muchas solicitudes en paralelo, por lo que esperaríamos que el número de solicitudes concurrentes sea proporcional al número de usuarios. Sea G(n, δ, α, β) este juego con n agentes, un factor de descuento de δ, un costo para satisfacer solicitudes de α y una probabilidad de poder satisfacer solicitudes de β. Cuando los dos últimos parámetros no son relevantes, a veces escribimos G(n, δ). Utilizamos la siguiente notación a lo largo del documento: • pt denota al agente elegido en la ronda t. • Bt i ∈ {0, 1} denota si el agente i puede satisfacer la solicitud en la ronda t. Bt i = 1 con probabilidad β > 0 y Bt i es independiente de Bt i para todo t = t. • V t i ∈ {0, 1} denota la decisión del agente i sobre si voluntariarse en la ronda t; 1 indica voluntariado. V t i está determinado por la estrategia del agente. • vt ∈ {j | V t j Bt j = 1} denota al agente elegido para satisfacer la solicitud. Este agente es elegido de manera uniforme al azar entre aquellos que están dispuestos (V t j = 1) y capaces (Bt j = 1) de satisfacer la solicitud. • ut i denota la utilidad del agente en la ronda t. Un agente estándar es aquel cuya utilidad se determina como se discutió en la introducción; es decir, el agente recibe 2. Para n grande, nuestro modelo converge a uno en el que los jugadores realizan solicitudes en tiempo real, y el tiempo entre las solicitudes de un jugador está distribuido de manera exponencial con media 1. Además, el tiempo entre las solicitudes atendidas por un único jugador también sigue una distribución exponencial. Una utilidad de 1 para una solicitud cumplida y una utilidad de -α por cumplir una solicitud. Por lo tanto, si i es un agente estándar, entonces ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 −α si i = vt 0 de lo contrario. • Ui = P∞ t=0 δt/n ut i denota la utilidad total para el agente i. Es el total descontado de la utilidad del agente en cada ronda. Ten en cuenta que el factor de descuento efectivo es δ1/n ya que un aumento en n conlleva a una reducción del tiempo entre rondas. Ahora que tenemos un modelo de cómo hacer y satisfacer solicitudes, lo utilizamos para analizar el comportamiento de no contribuir. Considera a un altruista como alguien que siempre cumple peticiones. El agente podría comportarse de manera altruista de manera racional si la función de utilidad del agente tiene la siguiente forma, para algún α > 0: ut i = 8 < : 1 si i = pt y P j=i V t j Bt j > 0 α si i = vt 0 en otro caso. Por lo tanto, en lugar de sufrir una pérdida de utilidad al satisfacer una solicitud, un agente obtiene utilidad positiva al satisfacerla. Una función de utilidad de este tipo es una representación razonable del placer que algunas personas obtienen al sentir que son quienes proporcionan la música que todos están tocando. Para agentes altruistas como estos, jugar la estrategia que establece V t i = 1 para todo t es dominante. Si bien tener una función de utilidad no estándar podría ser una razón por la cual un agente racional podría usar esta estrategia, ciertamente hay otras razones. Por ejemplo, un usuario inexperto de software de intercambio de archivos con una buena conexión bien podría seguir esta estrategia. Todo lo que importa para la siguiente discusión es que hay algunos agentes que utilizan esta estrategia, sea por la razón que sea. Como hemos observado, parece que existen usuarios de este tipo en algunos sistemas grandes. Supongamos que nuestro sistema tiene altruistas. Intuitivamente, si a es moderadamente grande, lograrán satisfacer la mayoría de las solicitudes en el sistema incluso si otros agentes no trabajan. Por lo tanto, hay poco incentivo para que cualquier otro agente se ofrezca como voluntario, porque ya está obteniendo pleno beneficio al participar en el sistema. Basándose en esta intuición, es un cálculo relativamente sencillo determinar un valor de a que depende solo de α, β y δ, pero no del número n de jugadores en el sistema, de modo que la estrategia dominante para todos los agentes estándar i sea nunca ofrecerse voluntariamente para satisfacer ninguna solicitud (es decir, V t i = 0 para todo t). Proposición 2.1. Existe un a que depende solo de α, β y δ tal que, en G(n, δ, α, β) con al menos a altruistas, no ofrecerse como voluntario en cada ronda es una estrategia dominante para todos los agentes estándar. Prueba. Considera la estrategia para un jugador estándar j en presencia de altruistas. Incluso sin dinero, el jugador j logrará que se satisfaga una solicitud con probabilidad 1 − (1 − β)a solo a través de las acciones de estos altruistas. Por lo tanto, incluso si j es elegido para hacer una solicitud en cada ronda, la utilidad adicional esperada máxima que puede esperar obtener al tener dinero es P∞ k=1(1 − β)a δk = (1 − β)a /(1 − δ). Si (1 − β)a /(1 − δ) > α o, equivalentemente, si a > log1−β(α(1 − δ)), nunca ofrecerse como voluntario es una estrategia dominante. Considera los siguientes valores razonables para nuestros parámetros: β = .01 (para que cada jugador pueda satisfacer el 1% de las solicitudes), α = .1 (un costo bajo pero no despreciable), δ = .9999/día 142 (lo que corresponde a un factor de descuento anual de aproximadamente 0.95), y un promedio de 1 solicitud por día por jugador. Entonces solo necesitamos un > 1145. Si bien este es un número grande, es pequeño en comparación con el tamaño de una red P2P grande. Los sistemas actuales tienen un grupo de usuarios que se comportan como nuestros altruistas. Esto significa que los intentos de agregar un sistema de reputación encima de un sistema P2P existente para influir en los usuarios a cooperar no tendrán efecto en usuarios racionales. Para tener una distribución justa del trabajo, estos sistemas deben ser rediseñados fundamentalmente para eliminar el grupo de usuarios altruistas. En cierto sentido, esto no es un problema en absoluto. En un sistema con altruistas, los altruistas presumiblemente están felices, al igual que los agentes estándar, quienes ven casi todas sus solicitudes satisfechas sin tener que hacer ningún trabajo. De hecho, las redes P2P actuales funcionan bastante bien en términos de distribuir contenido a las personas. Sin embargo, como mencionamos en la introducción, hay razones para creer que estos altruistas podrían no estar presentes para siempre. Por lo tanto, vale la pena analizar qué se puede hacer para que estos sistemas funcionen en su ausencia. Para el resto de este documento asumimos que todos los agentes son estándar y tratan de maximizar la utilidad esperada. Estamos interesados en equilibrios basados en un <br>sistema de vales</br>. Cada vez que un agente tiene una solicitud satisfecha, debe pagarle a la persona que la satisfizo una cierta cantidad. Por ahora, asumimos que el pago es fijo; para simplificar, tomamos la cantidad como $1. Denotamos por M la cantidad total de dinero en el sistema. Suponemos que M > 0 (de lo contrario, nadie podrá cobrar nunca). En principio, los agentes son libres de adoptar una amplia variedad de estrategias. Pueden tomar decisiones basadas en los nombres de otros agentes o utilizar una estrategia que depende en gran medida de la historia, y combinar libremente estas estrategias. Para ayudar en nuestro análisis, nos gustaría poder restringir nuestra atención a una clase más simple de estrategias. La clase de estrategias en la que estamos interesados es fácil de motivar. La razón intuitiva para querer ganar dinero es para atender la posibilidad de que un agente se quede sin antes de tener la oportunidad de ganar más. Por otro lado, un agente racional con mucho dinero no querría trabajar, porque para cuando haya logrado gastar todo su dinero, la utilidad tendrá menos valor que el costo actual de trabajar. El equilibrio natural entre estos dos es una estrategia de umbral. Que Sk sea la estrategia en la que un agente se ofrece como voluntario siempre que tenga menos de k dólares y no lo haga de otra manera. Ten en cuenta que S0 es la estrategia en la que el agente nunca se ofrece como voluntario. Si bien todos los que juegan S0 conforman un equilibrio de Nash (nadie puede mejorar al ofrecerse como voluntario si nadie más está dispuesto a hacerlo), es un equilibrio poco interesante. Como mostraremos en la Sección 4, es suficiente restringir nuestra atención a esta clase de estrategias. Usamos Kt i para denotar la cantidad de dinero que el agente i tiene en el tiempo t. Claramente Kt+1 i = Kt i a menos que el agente i tenga una solicitud satisfecha, en cuyo caso Kt+1 i = Kt+1 i − 1 o el agente i cumple una solicitud, en cuyo caso Kt+1 i = Kt+1 i + 1. Formalmente, Kt+1 i = 8 < : Kt i − 1 si i = pt , P j=i V t j Bt j > 0, y Kt i > 0 Kt i + 1 si i = vt y Kt pt > 0 Kt i en otro caso. La estrategia de umbral Sk es la estrategia tal que V t i = 1 si Kt pt > 0 y Kt i < k, 0 en caso contrario. EL JUEGO BAJO JUEGO NO ESTRATÉGICO Antes de considerar el juego estratégico, examinamos qué sucede en el sistema si todos juegan simplemente la misma estrategia Sk. Nuestro objetivo general es demostrar que existe una distribución de dinero (es decir, la fracción de personas con cada cantidad de dinero) tal que el sistema converge a esta distribución en un sentido que se precisará en breve. Supongamos que todos juegan Sk. Para simplificar, asumamos que todos tienen a lo sumo k dólares. Podemos hacer esta suposición prácticamente sin pérdida de generalidad, ya que si alguien tiene más de k dólares, simplemente gastará dinero hasta tener como máximo k dólares. Después de este punto, nunca adquirirá más que k. Por lo tanto, eventualmente el sistema estará en tal estado. Si M ≥ kn, ningún agente estará dispuesto a trabajar. Por lo tanto, para los propósitos de esta sección asumimos que M < kn. Desde la perspectiva de un solo agente, en equilibrio (estocástico), el agente está experimentando un paseo aleatorio. Sin embargo, los parámetros de esta caminata aleatoria dependen de las caminatas aleatorias de los otros agentes y es bastante complicado resolverlo directamente. Por lo tanto, consideramos un análisis alternativo basado en la evolución del sistema en su conjunto. Si todos tienen a lo sumo k dólares, entonces la cantidad de dinero que tiene un agente es un elemento de {0, . . . , k}. Si hay n agentes, entonces el estado del juego puede ser descrito identificando cuánto dinero tiene cada agente, por lo que podemos representarlo mediante un elemento de Sk,n = {0, . . . , k}{1,...,n}. Dado que la cantidad total de dinero es constante, no todos estos estados pueden surgir en el juego. Por ejemplo, el estado en el que cada jugador tiene $0 es imposible de alcanzar en cualquier juego con dinero en el sistema. Sea mS(s) = P i∈{1...n} s(i) el monto total de dinero en el juego en el estado s, donde s(i) es la cantidad de dólares que el agente i tiene en el estado s. Queremos considerar solo aquellos estados donde el dinero total en el sistema es M, es decir, Sk,n,M = {s ∈ Sk,n | mS(s) = M}. Bajo el supuesto de que todos los agentes utilizan la estrategia Sk, la evolución del sistema puede ser tratada como una cadena de Markov Mk,n,M sobre el espacio de estados Sk,n,M. Es posible pasar de un estado a otro en una sola ronda si al elegir a un agente en particular para hacer una solicitud y a otro agente en particular para satisfacerla, las cantidades de dinero poseídas por cada agente se convierten en las del segundo estado. Por lo tanto, la probabilidad de una transición de un estado s a t es 0 a menos que existan dos agentes i y j tales que s(i) = t(i) para todos los i /∈ {i, j}, t(i) = s(i) + 1, y t(j) = s(j) − 1. En este caso, la probabilidad de transición de s a t es la probabilidad de que j sea elegido para gastar un dólar y tenga a alguien dispuesto y capaz de satisfacer su solicitud ((1/n)(1 − (1 − β)|{i |s(i )=k}|−Ij ) multiplicado por la probabilidad de que i sea elegido para satisfacer su solicitud (1/(|({i | s(i ) = k}| − Ij ). Ij es 0 si j tiene k dólares y 1 en caso contrario (es solo una corrección por el hecho de que j no puede satisfacer su propia solicitud). Sea ∆k el conjunto de distribuciones de probabilidad en {0, . . . , k}. Podemos pensar en un elemento de ∆k como la descripción de la fracción de personas con cada cantidad de dinero. Esta es una forma útil de ver el sistema, ya que normalmente no nos importa quién tiene cada cantidad de dinero, sino simplemente la fracción de personas que tienen cada cantidad. Como antes, no todos los elementos de ∆k son posibles, dada nuestra restricción de que la cantidad total de dinero es M. En lugar de pensar en términos de la cantidad total de dinero en el sistema, resultará más útil pensar en términos del monto promedio de dinero que tiene cada jugador. Por supuesto, la cantidad total de dinero en un sistema con n agentes es M si y solo si la cantidad promedio que cada jugador tiene es m = M/n. Sea ∆k m el conjunto de todas las distribuciones d ∈ ∆k tales que E(d) = m (es decir, Pk j=0 d(j)j = m). Dado un estado s ∈ Sk,n,M, sea ds ∈ ∆k m la distribución de dinero en s. Nuestro objetivo es demostrar que, si n es grande, entonces existe una distribución d∗ ∈ ∆k m tal que, con alta probabilidad, la cadena de Markov Mk,n,M estará casi siempre en un estado s tal que ds esté cerca de d∗. Por lo tanto, los agentes pueden basar sus decisiones sobre qué estrategia usar en la suposición de que estarán en ese estado. De hecho, podemos caracterizar completamente la distribución d∗. Dada una distribución d ∈ ∆k , sea H(d) = − X {j:d(j)=0} d(j) log(d(j)) la entropía de d. Si ∆ es un conjunto convexo cerrado de distribuciones, entonces es bien sabido que hay una distribución única en ∆ en la que la función de entropía alcanza su valor máximo en ∆. Dado que ∆k m se ve fácilmente como un conjunto convexo cerrado de distribuciones, se sigue que hay una distribución única en ∆k m que denotamos como d∗ k,m cuya entropía es mayor que la de todas las demás distribuciones en ∆k m. Ahora mostramos que, para n suficientemente grande, la cadena de Markov Mk,n,M está casi seguramente en un estado s tal que ds está cerca de d∗ k,M/n. La afirmación es correcta en varios sentidos de cercanía. Para mayor claridad, consideramos la distancia euclidiana. Dado > 0, sea Sk,n,m el conjunto de estados s en Sk,n,mn tal que Pk j=0 |ds (j) − d∗ k,m|2 < . Dada una cadena de Markov M sobre un espacio de estados S y S ⊆ S, sea Xt,s,S la variable aleatoria que denota que M se encuentra en un estado de S en el tiempo t, cuando se inicia en el estado s. Teorema 3.1. Para todo ε > 0, todo k y todo m, existe un n tal que para todo n > n y todos los estados s ∈ Sk,n,mn, existe un tiempo t∗ (que puede depender de k, n, m y ) tal que para t > t∗, tenemos que Pr(Xt,s,Sk,n,m, ) > 1 − . Prueba. (Bosquejo) Supongamos que en algún momento t, Pr(Xt,s,s) es uniforme para todos los s. Entonces, la probabilidad de estar en un conjunto de estados es simplemente el tamaño del conjunto dividido por el número total de estados. Una técnica estándar de la mecánica estadística es demostrar que hay un fenómeno de concentración alrededor de la distribución de entropía máxima [16]. Más precisamente, utilizando un argumento combinatorio directo, se puede demostrar que la fracción de estados que no están en Sk,n,m está acotada por p(n)/ecn, donde p es un polinomio. Esta fracción claramente tiende a 0 a medida que n crece. Por lo tanto, para n suficientemente grande, Pr(Xt,s,Sk,n,m, ) > 1 − si Pr(Xt,s,s ) es uniforme. Es relativamente sencillo demostrar que nuestra Cadena de Markov tiene una distribución límite π sobre Sk,n,mn, tal que para todo s, s ∈ Sk,n,mn, limt→∞ Pr(Xt,s,s ) = πs. Que Pij denote la probabilidad de transición del estado i al estado j. Es fácil verificar mediante un cálculo explícito de las probabilidades de transición que Pij = Pji para todos los estados i y j. Se sigue inmediatamente de esta simetría que πs = πs, por lo que π es uniforme. Después de un tiempo suficiente, la distribución estará lo suficientemente cerca de π, de modo que las probabilidades vuelven a estar limitadas por una constante, lo cual es suficiente para completar el teorema. Realizamos una serie de experimentos que muestran que el comportamiento de máxima entropía descrito en el Teorema 3.1 surge rápidamente para valores bastante prácticos de n y t. El primer experimento mostró que, incluso si n = 1000, alcanzamos rápidamente la distribución de máxima entropía. Promediamos 10 ejecuciones de la cadena de Markov para k = 5 donde hay suficiente dinero para que cada agente tenga $2 comenzando desde una distribución muy extrema (cada agente tiene $0 o $5) y consideramos el tiempo promedio necesario para acercarse a varias distancias de la distribución de entropía máxima. Como muestra la Figura 1, después de 2,000 pasos, en promedio, la distancia euclidiana desde la distribución promedio del dinero hasta la distribución de máxima entropía es de .008; después de 3,000 pasos, la distancia disminuye a .001. Ten en cuenta que esto realmente solo son 3 unidades de tiempo reales, ya que con 1000 jugadores tenemos 1000 transacciones por unidad de tiempo. Luego consideramos qué tan cerca se mantiene la distribución de la entropía máxima una vez que la ha alcanzado. Para simplificar las cosas, comenzamos el sistema en un estado cuya distribución estaba muy cerca de la distribución de máxima entropía y lo ejecutamos durante 106 pasos, para varios valores de n. Como muestra la Figura 2, el sistema no se aleja mucho de la distribución de máxima entropía una vez que está allí. Por ejemplo, si n = 5000, el sistema nunca está a más de una distancia de .001 de la distribución de máxima entropía; si n = 25,000, nunca está a más de .0002 de la distribución de máxima entropía. Finalmente, consideramos con más cuidado cómo rápidamente el sistema converge a la distribución de máxima entropía para varios valores de n. Hay aproximadamente kn estados posibles, por lo que el tiempo de convergencia podría ser bastante largo en principio. Sin embargo, sospechamos que la cadena de Markov que surge aquí se mezcla rápidamente, lo que significa que convergerá significativamente más rápido (ver [20] para más detalles sobre la mezcla rápida). Creemos que el tiempo necesario en realidad es O(n). Este comportamiento se ilustra en la Figura 3, que muestra que para nuestra cadena de ejemplo (nuevamente promediada en 10 ejecuciones), después de 3n pasos, la distancia euclidiana entre la distribución real del dinero en el sistema y la distribución de máxima entropía es menor que .001. EL JUEGO BAJO JUGADA ESTRATÉGICA Hemos visto que el sistema se comporta bien si los agentes siguen todos una estrategia de umbral; ahora queremos demostrar que existe un equilibrio de Nash no trivial donde lo hacen (es decir, un equilibrio de Nash donde todos los agentes usan Sk para algún k > 0). Esto no es cierto en general. Si δ es pequeño, entonces los agentes no tienen incentivo para trabajar. Intuitivamente, si la utilidad futura está suficientemente descontada, entonces todo lo que importa es el presente, y no tiene sentido ofrecerse como voluntario para trabajar. Con un δ pequeño, S0 es el único equilibrio. Sin embargo, demostramos que para δ suficientemente grande, hay otro equilibrio en estrategias de umbral. Lo hacemos primero demostrando que, si cada otro agente está jugando una estrategia de umbral, entonces hay una mejor respuesta que también es una estrategia de umbral (aunque no necesariamente la misma). Luego demostramos que debe existir alguna estrategia de umbral (mixta) para la cual esta mejor respuesta sea la misma estrategia. Se deduce que este conjunto de estrategias de umbral es un equilibrio de Nash. Como primer paso, demostramos que, para todo k, si todos excepto el agente i están jugando Sk, entonces hay una estrategia de umbral Sk que es la mejor respuesta para el agente i. Para demostrar esto, necesitamos asumir que el sistema está cerca de la distribución de estado estacionario (es decir, la distribución de máxima entropía). Sin embargo, siempre y cuando δ esté suficientemente cerca de 1, podemos ignorar lo que sucede durante el período en el que el sistema no está en estado estacionario. Hasta ahora hemos considerado estrategias de umbral de la forma Sk, donde k es un número natural; este es un conjunto discreto de estrategias. Para una futura demostración, será útil contar con un conjunto continuo de estrategias. Si γ = k + γ, donde k es un número natural y 0 ≤ γ < 1, sea Sγ la estrategia que realiza Sk con probabilidad 1 − γ y Sk+1 con probabilidad γ. (Nótese que aquí no estamos considerando estrategias de umbral mixtas arbitrarias, sino simplemente mezclando entre estrategias adyacentes con el único propósito de hacer que las estrategias sean continuas de una manera natural). El Teorema 3.1 se aplica a las estrategias Sγ (la misma prueba se realiza sin cambios), donde γ es un número real no negativo arbitrario. Teorema 4.1. Fije una estrategia Sγ y un agente i. Existe δ∗ < 1 y n∗ tal que si δ > δ∗ , n > n∗ , y cada agente que no sea i está jugando Sγ en el juego G(n, δ), entonces existe un entero k tal que la mejor respuesta para el agente i es Sk. Ya sea que k sea único (es decir, haya una única mejor respuesta que también sea una estrategia de umbral), o existe un entero k tal que Sγ sea una mejor respuesta para el agente i para todos los γ en el intervalo [k, k + 1] (y estas son las únicas mejores respuestas entre las estrategias de umbral). Prueba. (Bosquejo:) Si δ es suficientemente grande, podemos ignorar lo que sucede antes de que el sistema converja a la distribución de entropía máxima. Si n es suficientemente grande, entonces la estrategia jugada por un agente no afectará significativamente la distribución del dinero. Por lo tanto, la probabilidad de que i se mueva de un estado (cantidad de dinero) a otro depende únicamente de su estrategia (ya que podemos considerar que la probabilidad de que i sea elegido para hacer una solicitud y la probabilidad de que i sea elegido para satisfacer una solicitud son constantes). Por lo tanto, desde su punto de vista, el sistema es un proceso de decisión de Markov (MDP), y necesita calcular la política óptima (estrategia) para este MDP. Se desprende de los resultados estándar [23, Teorema 6.11.6] que existe una política óptima que es una política de umbral. El argumento de que la mejor respuesta es única o que existe un intervalo de mejores respuestas se desprende de un análisis más detallado de la función de valor para el MDP. Observamos que puede haber mejores respuestas que no son estrategias de umbral. Todo lo que el Teorema 4.1 muestra es que, entre las mejores respuestas, hay al menos una que es una estrategia de umbral. Dado que sabemos que hay una mejor respuesta que es una estrategia de umbral, podemos buscar un equilibrio de Nash en el espacio de estrategias de umbral. Teorema 4.2. Para todo M, existe δ∗ < 1 y n∗ tal que si δ > δ∗ y n > n∗, existe un equilibrio de Nash en el juego G(n, δ) donde todos los agentes juegan Sγ para algún entero γ > 0. Prueba. Se sigue fácilmente de la prueba del Teorema 4.1 que si br(δ, γ) es la estrategia umbral de mejor respuesta mínima si todos los demás agentes están jugando Sγ y el factor de descuento es δ, entonces, para δ fijo, br(δ, ·) es una función escalonada. También se sigue 3 Formalmente, necesitamos definir las estrategias cuando el sistema está lejos del equilibrio. Sin embargo, estas estrategias lejos del equilibrio (estocástico) no afectarán el comportamiento de equilibrio cuando n sea grande y las desviaciones del equilibrio estocástico sean extremadamente raras. 145 del teorema que si hay dos mejores respuestas, entonces una mezcla de ellas también es una mejor respuesta. Por lo tanto, si podemos unir los pasos con una línea vertical, obtenemos una curva de mejor respuesta. Es fácil ver que en todos los puntos donde esta curva de mejor respuesta cruza la diagonal y = x se define un equilibrio de Nash donde todos los agentes están utilizando la misma estrategia de umbral. Como ya hemos observado, uno de estos equilibrios ocurre en 0. Si solo hay $M en el sistema, podemos restringirnos a estrategias de umbral Sk donde k ≤ M + 1. Dado que nadie puede tener más de $M, todas las estrategias Sk para k > M son equivalentes a SM; estas son simplemente las estrategias en las que el agente siempre se ofrece como voluntario en respuesta a una solicitud hecha por alguien que puede pagar. Claramente br(δ, SM) ≤ M para todo δ, por lo que la función de mejor respuesta está en o por debajo del equilibrio en M. Si k ≤ M/n, cada jugador tendrá al menos k dólares y por lo tanto no estará dispuesto a trabajar, siendo la mejor respuesta simplemente 0. Considera k∗, el menor k tal que k > M/n. No es difícil demostrar que para k∗ existe un δ∗ tal que para todo δ ≥ δ∗ , br(δ, k∗ ) ≥ k∗ . Se sigue por continuidad que si δ ≥ δ∗, debe existir algún γ tal que br(δ, γ) = γ. Este es el equilibrio de Nash deseado. Este argumento también nos muestra que no podemos esperar en general que los puntos fijos sean únicos. Si br(δ, k∗ ) = k∗ y br(δ, k + 1) > k + 1 entonces nuestro argumento muestra que debe haber un segundo punto fijo. En general, puede haber múltiples puntos fijos incluso cuando br(δ, k∗ ) > k∗ , como se ilustra en la Figura 4 con n = 1000 y M = 3000. 0 5 10 15 20 25 Estrategia del Resto de Agentes 0 5 10 15 20 25 Mejor Respuesta Figura 4: La función de mejor respuesta para n = 1000 y M = 3000. El Teorema 4.2 nos permite restringir nuestro diseño a agentes que utilizan estrategias de umbral con la confianza de que habrá un equilibrio no trivial. Sin embargo, esto no descarta la posibilidad de que pueda haber otros equilibrios que no involucren estrategias de umbral. Es incluso posible (aunque parece improbable) que algunos de estos equilibrios puedan ser mejores. 5. BIENESTAR SOCIAL Y ESCALABILIDAD Nuestros teoremas muestran que para cada valor de M y n, para un δ suficientemente grande, existe un equilibrio de Nash no trivial donde todos los agentes utilizan alguna estrategia de umbral Sγ(M,n). Desde el punto de vista del diseñador del sistema, no todos los equilibrios son igualmente buenos; queremos un equilibrio en el que el menor número posible de agentes tengan $0 cuando tengan la oportunidad de hacer una solicitud (para que puedan pagar la solicitud) y relativamente pocos agentes tengan más del monto umbral de dinero (para que siempre haya suficientes agentes para cumplir con la solicitud). Existe una tensión entre estos objetivos. No es difícil demostrar que a medida que la fracción de agentes con $0 aumenta en la distribución de entropía máxima, la fracción de agentes con la cantidad máxima de dinero disminuye. Por lo tanto, nuestro objetivo es entender cuál debería ser la cantidad óptima de dinero en el sistema, dada la cantidad de agentes. Es decir, queremos conocer la cantidad de dinero M que maximiza la eficiencia, es decir, la utilidad total esperada si todos los agentes utilizan Sγ(M,n). Primero observamos que el equilibrio más eficiente depende solo de la proporción de M a n, no de los valores reales de M y n. Teorema 5.1. Existe un n∗ tal que para todos los juegos G(n1, δ) y G(n2, δ) donde n1, n2 > n∗, si M1/n1 = M2/n2, entonces Sγ(M1,n1) = Sγ(M2,n2). Prueba. El teorema 3.1 muestra que la distribución de máxima entropía depende solo de k y la razón M/n, no de M y n por separado. Por lo tanto, dado r, para cada elección de k, hay una distribución única de entropía máxima dk,r. La mejor respuesta br(δ, k) depende solo de la distribución dk,r, no de M o n. Por lo tanto, el equilibrio de Nash depende solo de la proporción r. Es decir, para todas las elecciones de M y n tales que n es suficientemente grande (para que se aplique el Teorema 3.1) y M/n = r, las estrategias de equilibrio son las mismas. A la luz del Teorema 5.1, el diseñador del sistema debe asegurarse de que haya suficiente dinero M en el sistema para que la proporción entre M/n sea óptima. Actualmente estamos explorando exactamente cuál es la proporción óptima. Como muestran nuestros resultados muy preliminares para β = 1 en la Figura 5, la proporción parece aumentar de forma monótona en δ, lo cual coincide con la intuición de que deberíamos brindar a los agentes más pacientes la oportunidad de ahorrar más dinero. Además, parece ser relativamente suave, lo que sugiere que puede tener una solución analítica agradable. 0.9 0.91 0.92 0.93 0.94 0.95 Tasa de descuento ∆ 5 5.5 6 6.5 7 Proporción óptima de Mn Figura 5: Cantidad promedio óptima de dinero al número más cercano .25 para β = 1 Se destaca que, en la práctica, puede ser más fácil para el diseñador variar el precio de cumplir una solicitud en lugar de 4 Si hay múltiples equilibrios, tomamos Sγ(M,n) como el equilibrio de Nash que tiene la mayor eficiencia para M y n fijos. 146 inyectar dinero en el sistema. Esto produce el mismo efecto. Por ejemplo, cambiar el costo de cumplir una solicitud de $1 a $2 es equivalente a reducir a la mitad la cantidad de dinero que tiene cada agente. De manera similar, reducir a la mitad el costo de cumplir una solicitud es equivalente a duplicar la cantidad de dinero que todos tienen. Con una cantidad fija de dinero M, existe un producto óptimo nc del número de agentes y el costo c de cumplir una solicitud. El Teorema 5.1 también nos dice cómo manejar un grupo dinámico de agentes. Nuestro sistema puede manejar a los recién llegados relativamente fácilmente: simplemente permítales unirse sin dinero. Esto no brinda ningún incentivo a los agentes existentes para salir y volver a unirse como recién llegados. Luego cambiamos el precio de cumplir una solicitud para que se mantenga la proporción óptima. Este método tiene la característica interesante de que puede implementarse de forma distribuida; si todos los nodos en el sistema tienen una buena estimación de n, entonces todos pueden ajustar los precios automáticamente. (Alternativamente, el número de agentes en el sistema puede ser publicado en un lugar público). Los enfoques que dependen de ajustar la cantidad de dinero pueden requerir costosos cálculos a nivel de sistema (ver [26] para un ejemplo) y deben ser cuidadosamente ajustados para evitar crear incentivos para que los agentes manipulen el sistema mediante el cual se realiza esto. Ten en cuenta que, en principio, la realización de que el costo de cumplir una solicitud puede cambiar puede afectar la estrategia de un agente. Por ejemplo, si un agente espera que el costo aumente, entonces puede querer posponer ofrecerse como voluntario para cumplir con una solicitud. Sin embargo, si el número de agentes en el sistema siempre está aumentando, entonces el costo siempre disminuye, por lo que nunca hay ninguna ventaja en esperar. Puede haber una ventaja en retrasar una solicitud, pero es mucho más costoso en términos de costos de espera que en proporcionar el servicio, ya que asumimos que la necesidad de un servicio a menudo está sujeta a costos reales de espera, mientras que la necesidad de suministrar el servicio es simplemente aumentar el suministro de dinero. (Se discuten temas relacionados en [10].) Finalmente, esperamos modificar el mecanismo para que el precio de un trabajo pueda establecerse de forma endógena dentro del sistema (como en las economías del mundo real), con agentes pujando por trabajos en lugar de que exista un costo fijo establecido externamente. Sin embargo, aún no hemos explorado los cambios necesarios para implementar este cambio. Por lo tanto, por ahora, asumimos que el costo se establece como una función del número de agentes en el sistema (y que no hay posibilidad de que los agentes satisfagan una solicitud por menos del costo oficial o de que los solicitantes ofrezcan pagar más). 6. SIBILAS Y COLUSIÓN En un sentido ingenuo, nuestro sistema es esencialmente a prueba de sibilas. Para obtener d dólares, sus sibilas juntas todavía tienen que realizar d unidades de trabajo. Además, dado que los recién llegados ingresan al sistema con $0, no hay beneficio en crear nuevos agentes simplemente para aprovechar un dotación inicial. Sin embargo, existen algunas formas menos directas en las que un agente podría aprovecharse de los sybils. Primero, al tener más identidades, tendrá una mayor probabilidad de ser elegido para hacer una solicitud. Es fácil ver que esto llevará a que el agente tenga una mayor utilidad total. Sin embargo, esto es solo un artefacto de nuestro modelo. Para simplificar el análisis de nuestro sistema, hemos asumido que las oportunidades de solicitud llegaron de manera uniforme al azar. En la práctica, se hacen peticiones para satisfacer un deseo. Nuestro modelo asumió implícitamente que todos los agentes tienen la misma probabilidad de tener un deseo en un momento particular. Tener sibilas no debería aumentar la necesidad de que se satisfaga una solicitud. De hecho, sería razonable asumir que las sibilas no hacen solicitudes en absoluto. En segundo lugar, tener sibilas hace más probable que una de las sibilas sea elegida para cumplir una petición. Esto puede permitir a un usuario aumentar su utilidad al establecer un umbral más bajo; es decir, al usar una estrategia Sk donde k es menor que el k utilizado por la estrategia de equilibrio de Nash. Intuitivamente, la necesidad de dinero no es tan crítica si el dinero es más fácil de obtener. A diferencia de la primera preocupación, esto parece ser un problema real. Parece razonable creer que cuando las personas toman una decisión entre varios nodos para satisfacer una solicitud lo hacen de forma aleatoria, al menos en cierta medida. Aunque busquen las características de los nodos anunciadas para ayudar a tomar esta decisión, los sybils permitirían a un usuario anunciar una amplia gama de características. Tercero, un agente puede reducir el costo de cumplir una solicitud al introducir muchos síbiles. Del mismo modo, podría aumentar el costo (y por ende el valor de su dinero) al hacer que un número de sibilas salgan del sistema. Concebiblemente podría alternar entre estas técnicas para magnificar los efectos del trabajo que realiza. Todavía no hemos calculado el efecto exacto de este cambio (interactúa con los otros dos efectos de tener sibilas que ya hemos notado). Dado el número de síbiles que serían necesarios para causar un cambio real en el tamaño percibido de una gran red P2P, la viabilidad de este ataque depende en gran medida de cuánto cuestan los síbiles a un atacante y qué recursos tiene disponibles. El segundo punto planteado sobre las sibilas también se aplica a la colusión si permitimos que se preste dinero. Si k agentes coluden, pueden acordar que, si uno se queda sin dinero, otro en el grupo le prestará dinero. Al juntar su dinero de esta manera, los agentes k pueden volver a mejorar al establecer un umbral más alto. Ten en cuenta que el mecanismo de préstamo no necesita estar integrado en el sistema; los agentes pueden simplemente utilizar una transacción falsa para transferir el dinero. Estos parecen ser los principales métodos para ataques colusivos, pero aún estamos explorando este tema. 7. CONCLUSIÓN Hemos realizado un análisis formal de un <br>sistema de escritura</br> y hemos demostrado que existe un equilibrio de Nash donde todos los agentes utilizan una estrategia de umbral. ",
            "candidates": [],
            "error": [
                [
                    "sistema de vales",
                    "sistema de script",
                    "sistema de guion",
                    "sistema de vales",
                    "sistema de escritura"
                ]
            ]
        }
    }
}