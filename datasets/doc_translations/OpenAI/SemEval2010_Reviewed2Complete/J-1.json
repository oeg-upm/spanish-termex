{
    "id": "J-1",
    "original_text": "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept. Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Research Yahoo! Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB). It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB. There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4]. In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare. We bound the welfare achieved by our procedure for a wide range of domains. In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains. Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges. Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1. INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain. Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss. In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society. However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced. Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism. To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 . For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare. In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism. For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB. Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open. Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem. For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance. Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic. Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure. The solution procedure called the Generalized Trade Reduction (GTR). GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism. The output mechanism may suffer some welfare loss as a tradeoff of achieving BB. There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss. Nevertheless for a wide class of problems we are able to bound the loss in welfare. A particularly interesting case is one in which the input mechanism is an efficient allocation. In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature. The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4]. For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all. For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare. Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism. The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups. In addition to the main contribution described above, this paper also defines an important classification of problem domains. We define class based domain and procurement class based domains. The above definitions build on the different competition powers of players in a mechanisms called internal and external competition. Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2. PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB. For some classes of mechanisms we bound the competitive approximation of welfare. In our model there are N players divided into sets of trade. The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1. A procurement set s is the smallest set of players that is required for trade to occur. For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller. In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers. We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets. Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0. For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0. The set Vi ⊆ R is the set of all possible valuations vi. The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn. Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i. We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets. For example, F can be a (non-strategic) transportation cost in a distributed market problem. Let the size of a procurement set s be denoted as |s|. It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade. The paper denotes by O the set of possible partitions of an allocation A into procurement sets. The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s). This means that W(A) = i∈A vi +maxS∈O s∈S F(s). In the case where F is identically zero, then W(A) = i∈A vi. An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A. Let the value of A be W(S∗ (A)) (note that the value can depend on F). We say that the allocation A is efficient if there is no other allocation with a higher value. The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation. We assume w.l.o.g. that there are no two allocations with the same value3 . A mechanism M defines an allocation and payment rules, M = (R, P). A payment rule P decides is payment pi where P is a function P : V → RN . We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values. An example of such a mechanism is the VCG mechanism [17, 8, 10]. The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi. Let b ∈ V be the bids of all players. An allocation rule R decides the allocation according to the reported values b ∈ V . We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers. Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V . M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players. M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative. Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0. Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme. Definition 2.2. Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated. We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms. The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism. The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one. The right conditions that need to be met are conditions of competition among the players in the given problem. The following definitions leads us to the competition conditions we are looking for. Definition 2.3. For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer. In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge. Note that a set can replace a single player. Furthermore, this relationship is transitive but not necessarily symmetric. If i is a replacement set for j, it is not necessarily true that j is a replacement set for i. Definition 2.4. For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t. T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0. Definition 2.5. For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0. We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets. In case of ties, these can be broken by using the identities of the players4 . So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition. Definition 2.6. A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB. The set X5 denotes this competition and is closed under replacement. In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement. Definition 2.7. Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1. Each player i ∈ X has an external competition. 2. Each player i /∈ X has an internal competition. 3. For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial. In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined. In appendix C we give an example where two possible choices of X yield greatly different results. Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem. Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition. So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism. The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets. The algorithms order the procurements sets defined by D in order of increasing value. For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set. The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached. The reduction of procurement sets will also be referred to as a trade reduction. Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8. D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2. The two generalized trade reduction algorithms presented accept problems in different domains. The formal domain definitions follow: Definition 2.9. A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj. Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric. We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i]. It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i. Definition 2.10. A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2. Example 2.1. A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain. For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller. The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain. In this case, the buyer is a class and each set of sellers of the same good is a class. However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in. The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain). For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers. The next sections present two algorithms GTR-1 and GTR2. GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain. We prove the GTR-2s properties with specific dividing function D0. The function will be defined in section 4. Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3. PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains. For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced. Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains. Example 3.1. The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1). In this domain there are two classes. The class of buyers and the class of sellers. Each procurement set consists of a single buyer and a single seller. Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain. In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3). Like the double-sided auctions with homogenous goods, their are two classes in the domain. Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller. The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs. These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5). The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8). In this context each seller sells a single good and each buyer wants a set of goods. The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle. A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer. A definition of the mechanism follows: Definition 3.1. The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1. Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2. Order the procurement sets by increasing value. 3. For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj. Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4. All trading players are charged the critical value for trading. All non trading players are charged nothing. Remark 3.1. The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB. To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]). Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2. An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi. Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid. Theorem 3.1. An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci). So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments. Observation 3.1. Let M1 and M2 be two IR and IC mechanisms with the same allocation rule. Then M1 and M2 must have the same payment rule. In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown. Lemma 3.1. For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition. Proof. This follows from the definition of procurement class domains. Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s). Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition. We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary. It is possible to define an X that does not intersect every possible procurement set. In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2. For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism. Proof. By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0. By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero. Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR. As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic. Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi. So the likelihood of competition can only increase if i appears in later procurement sets. This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players. Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced. Finally we prove BB: Lemma 3.3. For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism. Proof. In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive). Let s ∈ S be a procurement set that is not reduced. Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition. Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition. Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm. According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0. Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)). By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading. Thus i pays no less than min −W(Ei(A, s)). Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)). If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will. As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)). Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))). As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced. As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB. The above two lemmas yield the following theorem: Theorem 3.2. For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism. Remark 3.2. The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4. NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic. By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition. Therefore, the chance of i lacking the requisite competition is decreased. Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased. Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity. GTR-1 is IC for procurement-class domains. However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain. Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition. Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC. We therefore define a different algorithm for non procurement class domains. Our modified algorithm requires a special dividing function in order to maintain the IC property. Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4]. For ease of presentation in this section we assume that F = 0. The dividing function for general domains is defined by looking at all possible dividing functions. For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 . We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b). Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)). For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context. Remark 4.1. D0 is an element of the set of dividing functions, and therefore is a dividing function. The second generalized trade reduction algorithm GTR-2 follows. Definition 4.1. The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1. Calculate the dividing function D0 as defined above. 2. Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3. For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj. Otherwise, reduce the trade sj. 4. All trading players are charged the critical value for trading. All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB. The following lemma shows that the GTR-2 produced mechanism is IR, and IC. Lemma 4.1. For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism. Proof. By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i. Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi. Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i. Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i. Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi. Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b). Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)). However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains. Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds. That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b). Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi. Lemma 4.2. For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism. Proof. This proof is similar to the proof of lemma 3.3. Combining the two lemmas above we get: Theorem 4.1. For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism. Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0. Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare. Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases. However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied. Definition 4.2. Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj. Definition 4.3. Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj. I.e., freqk([i], S) = maxsj ∈S freqk([i], sj). Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes. Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3. For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class. Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof. Let D be an arbitrary dividing function. We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section. However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition. Once s is reduced all players of [i] have internal competition. So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition. If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk. Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists. The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2. Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare. The following corollaries are direct results of theorem 4.2. All of these corollaries either improve prior results or achieve the same welfare as prior results. Corollary 4.1. Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced. Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced. Corollary 4.2. Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced. For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2. Corollary 4.3. Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced. The following corollary solves the open problem at [3]. Corollary 4.4. For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets. Proof. Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set. This improves the naive algorithm of reducing n2 procurement sets. We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets. Corollary 4.6. If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5. CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR). GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB. The output mechanisms achieves welfare that is close to optimal for a wide range of domains. The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets. The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question. We also leave open the question of upper bounds for the quality of approximation of welfare. Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism. The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared. Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us. The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6. REFERENCES [1] A. Archer and E. Tardos. Frugal path mechanisms. Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan. Concurrent Auctions Across the Supply Chain. Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market. In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh. Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation. In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura. Negotiation-range mechanisms: exploring the limits of truthful efficient markets. EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents. In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments. In Proc. 5th Int. Conf. on Auton. Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods. In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism. Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams. In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham. Truth Revelation in Approximately Efficient Combinatorial Auctions. In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions. Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction. Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan. Truthful Approximation Mechanisms for Restricted Combinatorial Auctions. Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A. Efficient Mechanisms for Bilateral Trading. Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q. Efficient Auction Mechanisms for Supply Chain Procurement. School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders. In Journal of Finance 1961, vol. 16, pp. 8-37. APPENDIX A. CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time. We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions. Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅. We now prove that D0 is the required dividing function. Lemma A.1. For procurement class domains D0 = D0. Proof. Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare. This is achieved by D0. B. PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism. The first problem that we define is the double-sided auction with homogeneous goods. Problem B.1. Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good. We denote the set of sellers by S and the set of buyers by B. Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good. In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2. The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade. If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set. A related model is the pair related costs [9] model. Problem B.2. The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade. F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case. One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism. A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost. Problem B.3. Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv . Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge. The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case. Our paper improves on [3] result. Another graph model is the model defined in [6]. Problem B.4. Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph. All trade must pass through a trader. In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph. The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted. Problem B.5. Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships. Agents can require an input of multiple quantities of goods in order to output a single good. The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree. All of the above problems are procurement-class domains. We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems. An open problem raised in [3] is the SDM model in which edges are strategic. Problem B.6. Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv . Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge. Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology. It is easy to see that this problem is not a procurement class domain. Another interesting problem is transport networks. Problem B.7. Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V . It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players. Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open. Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players. Problem B.8. Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good. There also exists a set B of buyers each interested in bundles of 2S18 . There are two variants of this problem. In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same. In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer. We also consider problems that are non class domains. Problem B.9. Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X. As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful. In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains. We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1. Similar examples can be constructed for the other problems defined is B. The following example shows an effect on the welfare. Example C.1. There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}. If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100. Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero. The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades). On the revenue side we can not even bound the ratio as seen from the following example: Example C.2. Consider k buyers with value 100 and k+ 1 sellers with value 1. If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1. This yields a net revenue of zero. If Y = {sellers} then one must reduce a trade! This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k. Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism. The above examples refer to sets X and Y which do not intersect and are incomparable. The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y . Theorem C.1. For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1. The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2. Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external. Proof. 1. For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism. In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external. In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2. This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism. Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism. Remark C.1. For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak. Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite. This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29",
    "original_translation": "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado Reducción Comercial Generalizada (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro. Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB. Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio. Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas. Definimos dominios basados en clase y dominios basados en clase de adquisiciones. Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado competencia interna y externa. La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2. PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB. Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de intercambio. Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0. Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0. El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi. El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn. Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i. Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Que el tamaño de un conjunto de adquisiciones s se denote como |s|. Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición. El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s). Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s). En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi. Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A. Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La eficiencia de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo. Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor. Un mecanismo M define unas reglas de asignación y pago, M = (R, P). Una regla de pago P decide el pago pi donde P es una función P: V → RN. Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores. Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10]. El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad. El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores. M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa. Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0. Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados. Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio. Los dos algoritmos son tales que, dado un mecanismo IR e IC M que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte a M en un mecanismo IR, IC y BB. El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplen las condiciones correctas y el mecanismo M se convierte en uno de tipo BB. Las condiciones adecuadas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado. Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando. Definición 2.3. Para cualquier jugador i ∈ N, decimos que el conjunto Ri ⊆ N \\ {i} es un conjunto de reemplazo de i, si para cualquier conjunto de adquisición s ∈ S tal que i ∈ s y Ri∩s = ∅, s\\{i}∪Ri ∈ S. Por ejemplo, en una subasta (homogénea) de doble cara (ver problema B.1), el conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador. En una subasta de espacios de transporte (ver problema B.7), el conjunto de reemplazo de un borde es un camino entre los extremos del borde. Ten en cuenta que un conjunto puede reemplazar a un solo jugador. Además, esta relación es transitiva pero no necesariamente simétrica. Si i es un conjunto de reemplazo para j, no necesariamente es cierto que j sea un conjunto de reemplazo para i. Definición 2.4. Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una competencia interna para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i. T = s \\ {i} ∪ Ri(A, s) ∈ S y W(T) ≥ 0. Definición 2.5. Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una competencia externa para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0. Supondremos, sin pérdida de generalidad, que no hay empates entre los valores de ninguna asignación, y en particular no hay empates entre los valores de los conjuntos de adquisiciones. En caso de empate, este puede romperse utilizando las identidades de los jugadores. Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con competencia externa Ei(A, s), existe exactamente un conjunto que representa la competencia externa de mayor valor. Definición 2.6. Un conjunto X ⊂ N es cerrado bajo reemplazo si ∀i ∈ X entonces Ri ⊂ X. Lo siguiente define la competencia requerida necesaria para mantener IC, IR y BB. El conjunto X5 denota esta competencia y está cerrado bajo reemplazo. En el resto del documento asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo. Definición 2.7. Sea X ⊂ N un conjunto que está cerrado bajo reemplazo, decimos que el mecanismo es un mecanismo X-externo, si 1. Cada jugador i ∈ X tiene una competencia externa. 2. Cada jugador i /∈ X tiene una competencia interna. 3. Para todos los jugadores i1, . . . , it ∈ s \\ X existen Ri1 (A, s), . . . , Rit (A, s) tales que para cada iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. para cada conjunto de adquisiciones s ∈ S se cumple que s∩X = ∅ Para dominios generales, la elección de X puede ser crucial. De hecho, incluso para el mismo dominio, el bienestar (y los ingresos) pueden variar ampliamente dependiendo de cómo se defina X. En el apéndice C damos un ejemplo donde dos posibles elecciones de X producen resultados muy diferentes. Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la optimalidad de X y este es un importante problema abierto. Nuestros dos algoritmos de reducción de comercio generalizados garantizarán que para cualquier asignación tengamos los tipos deseados de competencia. Dado un mecanismo M que es CI e IR con asignación A, el objetivo de los algoritmos es convertir a M en un mecanismo X-externo. Los dos algoritmos de reducción de comercio generalizados utilizan una función de división D que divide la asignación A en conjuntos de adquisición disjuntos. Los algoritmos ordenan los conjuntos de adquisiciones definidos por D en orden de valor creciente. Para cualquier conjunto de adquisiciones hay un tipo deseado de competencia que depende únicamente de los jugadores que componen el conjunto de adquisiciones. Los algoritmos de reducción de comercio generalizados recorren los conjuntos de adquisiciones en orden (del más pequeño al más grande) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el conjunto. La reducción de los conjuntos de adquisiciones también se conocerá como reducción del comercio. Formalmente, los detalles sobre cómo resolver empates en las asignaciones son estándar y se omiten. Presentamos algunas compensaciones entre los diferentes conjuntos posibles en el Apéndice C. Definición 2.8. D es una función de división si para cualquier asignación A y el vector de valores de los jugadores v, D divide la asignación en conjuntos de adquisiciones disjuntos s1, . . . , sk de manera que ∪sj = A y para cualquier jugador i con valor vi si i ∈ sj1 y t ∈ sj2 tal que j1 ≥ j2 entonces para cualquier valor vi > vi del jugador i y división por D en s1, . . . , sk tal que i ∈ sj1 y t ∈ sj2 entonces j1 > j2. Los dos algoritmos de reducción de comercio generalizados presentados aceptan problemas en diferentes dominios. Las definiciones de dominio formal siguen: Definición 2.9. Un dominio es un dominio de clase si para todo i ∈ N y todos los conjuntos de reemplazo de i, Ri, |Ri| = 1 y para todo i, j, i = j si j = Ri entonces i = Rj. Intuitivamente, esto significa que los conjuntos de reemplazo son de tamaño 1 y la relación de reemplazo es simétrica. Definimos la clase de un jugador i como el conjunto de los conjuntos de reemplazo de los jugadores y denotamos la clase del jugador i por [i]. Es importante tener en cuenta que dado que los conjuntos de reemplazo son relaciones transitivas y dado que los dominios de clase también imponen relaciones simétricas en los conjuntos de reemplazo, la clase de un jugador i, [i] es en realidad una clase de equivalencia para i. Definición 2.10. Un dominio es un dominio de clase de adquisición si el dominio es un dominio basado en clases y si para cualquier jugador i tal que existan dos conjuntos de adquisición s1, s2 (no necesariamente intercambiando simultáneamente en ninguna asignación) tales que i ∈ s1 e i ∈ s2, entonces existe una biyección f: s1 → s2 tal que para cualquier j ∈ s1, f(j) es un conjunto de reemplazo para j en s2. Ejemplo 2.1. Una subasta (homogénea) de doble cara (ver problema B.1) es un dominio basado en la clase de adquisiciones. Para la subasta de doble cara (homogénea), cada conjunto de adquisición consiste en un comprador y un vendedor. La subasta combinatoria de doble cara que consiste en un único comprador con múltiples preferencias y múltiples vendedores de bienes heterogéneos (ver problema B.9), es un dominio basado en clases (ya que tenemos un único comprador) pero no es un dominio basado en clases de adquisiciones. En este caso, el comprador es una clase y cada conjunto de vendedores del mismo bien es una clase. Sin embargo, para un comprador no hay una biyección entre los diferentes conjuntos de adquisición de los paquetes de bienes en los que el comprador está interesado. El mercado distribuido espacialmente con bordes estratégicos (ver problema B.6) no es un dominio basado en clases (y por lo tanto no es un dominio de clase de adquisiciones). Por ejemplo, incluso para un comprador fijo y un vendedor fijo existen dos conjuntos de adquisición diferentes que consisten en diferentes rutas entre los compradores y vendedores. Las siguientes secciones presentan dos algoritmos GTR-1 y GTR-2. El algoritmo GTR-1 acepta problemas en dominios basados en la clase de adquisiciones, sus propiedades se demuestran con una función de división general D. El algoritmo GTR-2 acepta problemas en cualquier dominio. Demostramos las propiedades de GTR-2s con una función de división específica D0. La función será definida en la sección 4. Dado que la función de división puede tener un gran impacto práctico en el bienestar (y los ingresos), la generalidad de GTR − 1 (aunque sea en dominios especiales) puede ser una consideración práctica importante. 3. DOMINIOS BASADOS EN CLASES DE ADQUISICIÓN Esta sección se centra en los problemas que son dominios basados en clases de adquisición. Para este dominio, presentamos un algoritmo llamado GTR-1, que dado un mecanismo que es IR e IC, produce un mecanismo con bienestar reducido que es IR, IC y equilibrado presupuestariamente. Aunque los dominios de clase de adquisición parecen ser un modelo relativamente restringido, de hecho muchos de los dominios estudiados en la literatura son dominios de clase de adquisición. Ejemplo 3.1. Los siguientes dominios son dominios de clase de adquisiciones: • subastas de doble cara con bienes homogéneos [13] (problema B.1). En este dominio hay dos clases. La clase de compradores y la clase de vendedores. Cada conjunto de adquisiciones consta de un único comprador y un único vendedor. Dado que cada par de (comprador, vendedor) es un conjunto de adquisición válido (aunque posiblemente con valor negativo), este es un dominio de clase de adquisición. En este dominio, la constante asignada a los conjuntos de adquisición es F = 0. • Mercados distribuidos espacialmente con bordes no estratégicos [3, 9] (problema B.3). Al igual que las subastas de doble cara con bienes homogéneos, hay dos clases en el dominio. Clase de compradores y clase de vendedores con conjuntos de adquisición que consisten en un comprador y un vendedor. Los vendedores y compradores son nodos en un grafo y la función F es la distancia entre dos nodos (longitud de la arista) que representa los costos de transporte. Estos costos varían entre diferentes pares (comprador, vendedor). • Cadenas de suministro [2, 4] (problema B.5). La suposición de una manufactura única por [2, 4] se puede entender mejor como convertir las cadenas de suministro generales (que no necesariamente deben ser un dominio de clase de adquisiciones) en un dominio de clase de adquisiciones. • Subastas combinatorias de mente única [11] (problema B.8). En este contexto, cada vendedor vende un solo bien y cada comprador desea un conjunto de bienes. Las clases son conjuntos de vendedores que venden el mismo bien, así como los compradores que desean el mismo paquete. Un conjunto de adquisiciones consiste en un único comprador, así como un conjunto de vendedores que pueden satisfacer a ese comprador. Una definición del mecanismo sigue a continuación: Definición 3.1. El algoritmo GTR-1, dado un mecanismo M, un conjunto X ⊂ N que es cerrado bajo reemplazo, una función de división D y una asignación A, opera de la siguiente manera: 1. Utiliza la función de división D para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 2. Ordena los conjuntos de adquisición por valor creciente. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay competencia externa y para cada i ∈ sj \\ X hay competencia interna, entonces se conservan los 23 sj. De lo contrario, reduzca el intercambio sj (es decir, elimine cada i ∈ sj de la asignación). Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. A todos los jugadores no comerciales no se les cobra nada. Observación 3.1. El caso especial donde X = N ha recibido atención bajo diferentes formas en varios casos especiales, como ([13, 3, 4]). 3.1 El GTR-1 produce un mecanismo externo de X que es IR, IC y BB. En esta subsección demostramos que el algoritmo GTR-1 produce un mecanismo externo de X que es IR, IC y BB. Para demostrar las propiedades de GTR-1, hacemos uso del teorema 3.1, el cual es un resultado bien conocido (por ejemplo, [14, 11]). El Teorema 3.1 caracteriza las condiciones necesarias y suficientes para que un mecanismo para jugadores de valor único sea IR e IC: Definición 3.2. Una regla de asignación R es Bid Monotónica si para cualquier jugador i, cualquier oferta de los otros jugadores b−i ∈ V−i, y cualquier par de ofertas posibles de i, ˆbi > bi, si i negocia bajo la regla de asignación R al informar bi, entonces i también negocia al informar ˆbi. Intuitivamente, una regla de asignación monótona de oferta garantiza que ningún jugador comerciante pueda convertirse en un jugador no comerciante al mejorar su oferta. Teorema 3.1. Un mecanismo IR M con regla de asignación R es IC si y solo si R es Bid Monotónico y cada jugador comerciante i paga su valor crítico Ci (pi = Ci). Por lo tanto, para los mecanismos IR7 e IC normalizados, la regla de asignación que es bid monótona define de manera única los valores críticos para todos los jugadores y, por lo tanto, los pagos. Observación 3.1. Sean M1 y M2 dos mecanismos IR e IC con la misma regla de asignación. Entonces M1 y M2 deben tener la misma regla de pago. En lo siguiente demostramos que el algoritmo GTR-1 externo de X produce un mecanismo IR, IC y BB, pero primero se muestra un lema subsidiario. Lema 3.1. Para los dominios de clase de adquisiciones, si existe un conjunto de adquisiciones sj tal que i ∈ sj y i tiene competencia externa, entonces todos los t = i t ∈ sj, t tiene competencia interna. Prueba. Esto se deriva de la definición de los dominios de clase de adquisiciones. Supongamos que i tiene competencia externa, entonces existe un conjunto de jugadores Ei(A, s) tal que {i} ∪ Ei(A, s) ∈ S. Denotemos por sj = {i} ∪ Ei(A, s). Dado que el dominio es un dominio de clase de adquisiciones, existe una función biyectiva f entre sj y sj. f define la competencia interna requerida. Comenzamos demostrando IR e IC: Aunque la definición de un mecanismo externo X requiere que X intersecte cada conjunto de adquisiciones, esto no es estrictamente necesario. Es posible definir un X que no intersecte con cada conjunto de adquisiciones posible. En este caso, cualquier conjunto de adquisiciones s ∈ S tal que s ∩ X = ∅ se reducirá. Nótese que esto no es cierto para mecanismos que no están normalizados, por ejemplo, [7, 12] Lema 3.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR e IC. Prueba. Por la definición de un esquema de precios de valor crítico 2.2 y el algoritmo GTR-1 3.1 se sigue que para cada jugador comercial i, vi ≥ 0. Por el algoritmo GTR-1, 3.1 jugadores no comerciales tienen un pago de cero. Por lo tanto, para cada jugador i, valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que el mecanismo externo X producido es IR. Dado que el algoritmo X-external GTR-1 es IR y aplica el esquema de pago de valor crítico según el teorema 3.1, para demostrar que el mecanismo X-external producido con el esquema de pago de valor crítico es IC, queda por demostrar que la regla de asignación de mecanismos producida es bid-montónica. Dado que GTR-1 ordena los conjuntos de adquisición según el valor creciente, si el jugador i aumenta su oferta de bi a bi > bi, entonces para cualquier función de división D de conjuntos de adquisición, el conjunto de adquisición s que contiene a i siempre aparece más tarde con la oferta bi que con la oferta bi. Por lo tanto, la probabilidad de competencia solo puede aumentar si i aparece en conjuntos de adquisiciones posteriores. Esto se traduce en que GTR-1 puede reducir más de los conjuntos de adquisiciones de menor valor, lo que resultará en más jugadores no comerciales. Por lo tanto, si s tiene la competencia requerida y no se reduce con bi, entonces tendrá la competencia requerida con bi y no se reducirá. Finalmente demostramos BB: Lema 3.3. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo BB. Prueba. Para demostrar que el mecanismo producido es BB, mostramos que cada conjunto de adquisiciones que no está reducido tiene un presupuesto positivo (es decir, la suma de los pagos es positiva). Sea s ∈ S un conjunto de adquisiciones que no está reducido. Si i ∈ s ∩ X, entonces según la definición de la definición externa de X 2.7 y el algoritmo GTR-1 3.1, i tiene una competencia externa. Supongamos sin pérdida de generalidad que i es el único jugador con competencia externa en s y que todos los demás jugadores j = i, j ∈ s tienen competencia interna. Sea A la asignación después de la reducción de los conjuntos de adquisición por el algoritmo GTR-1. Según la definición de competencia externa 2.5, existe un conjunto Ei(A, s) ⊂ N \\A tal que i ∪ Ei(A, s) ∈ S y W(i ∪ Ei(A, s)) ≥ 0. Dado que W(i∪Ei(A, s)) = vi +W(Ei(A, s)), entonces vi ≥ −W(Ei(A, s)). Según la definición 2.2 del esquema de fijación de precios por valor crítico, esto significa que si el jugador i ofrece menos de −W(Ei(A, s)), no tendrá competencia externa y, por lo tanto, será eliminado del intercambio. Por lo tanto, pago no menos de min −W(Ei(A, s)). Dado que todos los demás jugadores j ∈ s tienen competencia interna, su precio crítico no puede ser menor que el valor máximo de su competidor interno (conjunto), es decir, max W(Rj(A, s)). Si algún jugador j ∈ s ofrece menos que su competidor interno máximo (conjunto), entonces él no estará en s pero su competidor interno máximo (conjunto) sí lo estará. Dado que un posible Ei(A, s) es ∪j∈sRj(A, s), se puede acotar el valor máximo de su competencia externa W(Ei(A, s)) por la suma de los valores máximos del resto de los jugadores en s 8, dado que el dominio es un dominio de clase de adquisiciones, podemos usar el lema 3.1 24 de competencia interna, es decir, j∈s max W(Rj(A, s)). Por lo tanto, min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))). Dado que la función F se define como una constante positiva, obtenemos que W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 y, por lo tanto, s es al menos equilibrado en términos presupuestarios. Dado que cada conjunto de adquisiciones que no se reduce está al menos equilibrado presupuestariamente, se deduce que el mecanismo externo X producido es BB. Los dos lemas anteriores producen el siguiente teorema: Teorema 3.2. Para los dominios de clase de adquisiciones para cualquier X, el mecanismo externo X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR, IC y BB. Observación 3.2. La prueba del teorema proporciona límites sobre los pagos que cualquier jugador tiene que hacer al mecanismo. Los dominios no basados en la clase de adquisiciones. La razón principal por la que GTR-1 funciona para los dominios no basados en la clase de adquisiciones es que la posibilidad de reducción de cada jugador es monótona. Por la definición de una función de división, si un jugador i ∈ sj aumenta su valor, i solo puede aparecer en un conjunto de adquisiciones sj posterior y, por lo tanto, tiene una mayor probabilidad de tener la competencia deseada. Por lo tanto, la probabilidad de que i carezca de la competencia necesaria disminuye. Dado que el dominio es un dominio de clase de adquisiciones, es más probable que todos los demás jugadores t = i, t ∈ sj también tengan competencia, ya que los miembros de su clase siguen apareciendo antes que i y, por lo tanto, la probabilidad de que i sea reducido disminuye. Dado que, según el teorema 3.1, una condición necesaria y suficiente para que el mecanismo sea CI es la monotonicidad. GTR-1 es IC para dominios de clase de adquisiciones. Sin embargo, para los dominios que no son de la clase de adquisiciones, esto no es suficiente incluso si el dominio es un dominio basado en clases. Aunque todos los miembros de sj siguen teniendo la competencia requerida, es posible que haya miembros de sj que no tengan análogos en sj que no tengan competencia. Por lo tanto, podría reducirse después de aumentar su valor, lo que significa, según el lema 3.1, que el mecanismo no es IC. Por lo tanto, definimos un algoritmo diferente para los dominios que no pertenecen a la clase de adquisiciones. Nuestro algoritmo modificado requiere una función de división especial para mantener la propiedad de IC. Aunque nuestra restricción a esta función de división especial parezca estricta, la función de división que utilizamos es una generalización de la forma en que se eligen los conjuntos de adquisiciones en dominios basados en clases de adquisiciones, por ejemplo, [13, 16, 9, 3, 2, 4]. Para facilitar la presentación en esta sección, asumimos que F = 0. La función de división para dominios generales se define al observar todas las posibles funciones de división. Para cada función de división Di y cada conjunto de ofertas, el algoritmo GTR-1 produce un bienestar que es una función de las ofertas y la función de división. Denotamos por D0 la función de división que divide a los jugadores en conjuntos de manera que el bienestar que encuentra GTR-1 sea máximo. Cabe destacar que para cualquier Di en particular, esto podría no ser IC, ya que GTR-1 es IC solo para dominios de clase de adquisición y no para dominios generales. En el Apéndice A mostramos cómo calcular D0 en polinómico. Formalmente, sea D el conjunto de todas las funciones de división D. Denotemos el bienestar logrado por el mecanismo producido por GTR1 al usar la función de división D y un conjunto de ofertas ¯b como GTR1(D, ¯b). Denote por D0(¯b) = argmaxD∈D(GTR1(D,¯b)). Para facilitar la presentación, denotamos D0(¯b) como D0 cuando la dependencia de b es clara en el contexto. Observación 4.1. D0 es un elemento del conjunto de funciones divisorias, y por lo tanto es una función divisoria. El segundo algoritmo de reducción de comercio generalizado GTR-2 sigue. Definición 4.1. El algoritmo GTR-2 - Dado el mecanismo M, la asignación A y un conjunto X ⊂ N cerrado bajo reemplazo, GTR-2 opera de la siguiente manera: 1. Calcula la función de división D0 como se define arriba. 2. Utilice la función de división D0 para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor, haz lo siguiente: Si para i ∈ sj ∩ X hay una competencia externa y hay a lo sumo un i ∈ sj que no tiene competencia interna, entonces conserva sj. De lo contrario, reduzca el intercambio sj. 4. Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. Todos los jugadores no comerciales no pagan nada. Demostraremos que el mecanismo producido por GTR-2 mantiene las propiedades deseadas de IR, IC y BB. El siguiente lema muestra que el mecanismo producido por GTR-2 es IR y IC. Lema 4.1. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR e IC. Prueba. Según el teorema 3.1, basta con demostrar que el mecanismo producido por el algoritmo GTR-2 es bidmonótono para cada jugador i. Supongamos que no fui reducido al ofertar bi, necesitamos demostrar que no seré reducido al ofertar bi > bi. Denote por D1 = D0(b) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por D1 = D0(bi, b−i) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por ¯D1(b) una función divisoria máxima que resulta en GTR-1 reduciendo i al informar bi. Supongamos, por el contrario, que GTR-2 redujo i del intercambio cuando i informó bi, entonces GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b). Dado que D1 ∈ D, se sigue que GTR1(D1, b) > GTR1( ¯D1, b) y por lo tanto GTR1(D1, b) > GTR1(D1, (bi, b−i)). Sin embargo, según la definición D1 ∈ D, GTR-2 no debería haber reducido el tiempo mínimo de adquisición para los dominios de clase de aprovisionamiento. Calcular D0 en tiempo polinómico para dominios generales es un problema abierto importante. En la versión completa de GTR-2 se extiende de tal manera que basta con que exista algún momento en el cual se cumpla el tercer paso. Esa extensión se omitió de la versión actual debido a la falta de espacio. 25 con la función de división D1 y obtuvo un mayor bienestar que GTR1(D1, b). Por lo tanto, surge una contradicción y GTR-2 no reduce i del intercambio cuando i informa que bi > bi. Lema 4.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo BB. Prueba. Esta prueba es similar a la prueba del lema 3.3. Combinando los dos lemas anteriores obtenemos: Teorema 4.1. Para cualquier X cerrado bajo reemplazo, el mecanismo externo de X con el esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR, IC y BB. El Apéndice A muestra cómo calcular D0 para dominios de clase de adquisiciones en tiempo polinómico, no se sabe generalmente cómo calcular D0 fácilmente. Crear un método general para calcular la función de división necesaria en tiempo polinómico sigue siendo una pregunta abierta. 4.1 Limitando el Bienestar para Dominios Basados en Clases de Adquisición y otros Casos de Dominios Generales. Esta sección muestra que, además de producir un mecanismo con las propiedades deseadas, GTR-2 también produce un mecanismo que mantiene un alto bienestar. Dado que el algoritmo GTR-2 encuentra un mecanismo equilibrado en presupuesto en dominios arbitrarios, no podemos acotar el bienestar para casos generales. Sin embargo, podemos acotar el bienestar para el dominio basado en la clase de adquisiciones y una amplia variedad de casos en dominios generales que incluyen muchos casos previamente estudiados. Definición 4.2. Denote freqk([i], sj) para indicar que una clase [i] aparece en un conjunto de adquisiciones sj, k veces y hay k miembros de [i] en sj. Definición 4.3. Denote por freqk([i], S) el máximo k tal que hay k miembros de [i] en sj. Es decir, freqk([i], S) = maxsj ∈S freqk([i], sj). Deje que el conjunto de clases de equivalencia en el mecanismo de dominio basado en la clase de adquisiciones sea ec y |ec| sea el número de esas clases de equivalencia. Usando la definición de frecuencia de apariencia de clase, podemos acotar el bienestar logrado por el mecanismo producido por GTR-2 para los dominios de clase de adquisición: Lema 4.3. Para los dominios de clase de adquisiciones con F = 0, el número de conjuntos de adquisiciones que se reducen por GTR-213 es a lo sumo |ec| veces la frecuencia máxima de cada clase. Formalmente, el número máximo de conjuntos de adquisición que se reduce es O( [i]∈ec freqk([i], S)) Demostración. Sea D una función de división arbitraria. Observamos que, por definición, cualquier conjunto de adquisiciones sj no se reducirá si cada i ∈ sj tiene tanto competencia interna como competencia externa. El bienestar logrado por GTR-1 también puede estar acotado para los casos presentados en esta sección. Sin embargo, nos enfocamos en GTR-2 ya que siempre logra un mejor bienestar. 13 o GTR-1 Cada conjunto de adquisiciones s que se reduce tiene al menos un jugador i que no tiene competencia. Una vez que s se reduce, todos los jugadores de [i] tienen competencia interna. Así, al reducir el número de clases de equivalencia |ec| de conjuntos de adquisiciones, cubrimos a todos los jugadores restantes con competencia interna. Si la frecuencia máxima de cada clase de equivalencia fuera uno, entonces cada jugador restante t en el conjunto de adquisiciones sk también tendría competencia externa, ya que todos los competidores internos de los jugadores ¯t = t, ¯t ∈ sk son competencia externa para t. Si tenemos freqk([t], S) jugadores de la clase [t] que fueron reducidos, entonces hay suficiente competencia externa para todos los jugadores en sk. Por lo tanto, basta con reducir los conjuntos de adquisición O( [i]∈ec freqk([i], S)) para garantizar que exista tanto la competencia interna como externa necesaria. El siguiente teorema se deduce como un corolario inmediato del lema 4.3: Teorema 4.2. Dado mecanismos de dominio basados en clases de adquisición con H conjuntos de adquisición, la eficiencia es al menos una fracción de 1 − O( O( [i]∈ec freqk([i],S)) H ) del bienestar óptimo. Los siguientes corolarios son resultados directos del teorema 4.2. Todos estos corolarios mejoran resultados anteriores o logran el mismo bienestar que los resultados anteriores. Corolario 4.1. Para utilizar GTR-2 en subastas homogéneas de doble cara (problema B.1), se debe reducir como máximo un conjunto de adquisición de 14. De manera similar, para mercados distribuidos espacialmente sin bordes estratégicos (problema B.3), el uso de GTR-2 mejora el resultado de [3] donde se reduce un ciclo mínimo que incluye a un comprador y un vendedor. Corolario 4.2. Usar GTR-2 para mercados distribuidos espacialmente sin bordes estratégicos reducirá a lo sumo un ciclo por componente conectado. Para las cadenas de suministro (problema B.5) el uso de GTR-2 mejora el resultado de [2, 4] de manera similar al corolario 4.2. Corolario 4.3. Usando GTR-2 para cadenas de suministro, se reducirá a lo sumo un ciclo por componente conectado. El siguiente corolario resuelve el problema abierto en [3]. Corolario 4.4. Para mercados distribuidos en n nodos con agentes estratégicos y caminos de longitud acotada K (problema B.6) basta con eliminar como máximo K * n conjuntos de adquisiciones. Prueba. Bosque de expansión: Estos crearán al menos K árboles de expansión, por lo tanto, podemos cubrir de manera disjunta cada conjunto de adquisiciones restante. Esto mejora el algoritmo ingenuo de reducir conjuntos de adquisición n2. Proporcionamos resultados para dos casos especiales de subastas de doble cara con jugadores de valor único (problema B.8). Es posible que no se realicen reducciones, por ejemplo, cuando hay un jugador no comercial que es la competencia externa requerida. Al igual que en las subastas de doble cara, a veces habrá suficiente competencia sin una reducción. Corolario 4.5. si hay como máximo M tipos diferentes de conjuntos de adquisición, basta con eliminar M conjuntos de adquisición. Corolario 4.6. Si hay K tipos de bienes y cada conjunto de adquisición consiste en a lo sumo uno de cada tipo, basta con eliminar a lo sumo K conjuntos de adquisición. CONCLUSIONES Y TRABAJOS FUTUROS En este artículo presentamos un procedimiento de solución general llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo de IR e IC como entrada y produce mecanismos que son IR, IC y BB como salida. Los mecanismos de salida logran un bienestar que se acerca a lo óptimo para una amplia gama de dominios. El procedimiento GTR mejora los resultados existentes como subastas homogéneas de doble cara, mercados distribuidos y cadenas de suministro, y resuelve varios problemas abiertos como mercados distribuidos con aristas de transporte estratégicas y caminos acotados, subastas de doble cara combinatorias con conjuntos de adquisiciones de tamaño acotado, y subastas de doble cara combinatorias con un número acotado de conjuntos de adquisiciones. La cuestión de la calidad de la aproximación del bienestar tanto en general como en dominios de clase que no son dominios de clase de adquisición es una pregunta abierta importante e interesante. También dejamos abierta la pregunta de los límites superiores para la calidad de la aproximación del bienestar. Aunque sabemos que es imposible tener IR, IC y BB en un mecanismo eficiente, sería interesante tener un límite superior en la aproximación al bienestar alcanzable en un mecanismo IR, IC y BB. El procedimiento GTR produce un mecanismo que depende de un conjunto X ⊂ N. Otra pregunta interesante es cuál es la calidad de la aproximación cuando X se elige al azar de N antes de que se declaren las valoraciones. Agradecimientos Los autores desean agradecer a Eva Tardos y colaboradores por compartir sus resultados con nosotros. Los autores también desean expresar su gratitud por los comentarios útiles de los revisores anónimos.  REFERENCIAS [1] A. Archer y E. Tardos. Mecanismos de camino frugal. Simposio sobre Algoritmos Discretos, Actas del decimotercer simposio anual de algoritmos discretos ACM-SIAM, 2002. [2] M. Babaioff y N. Nisan. Subastas simultáneas en toda la cadena de suministro. Revista de Investigación en Inteligencia Artificial, 2004. [3] Babaioff M., Nisan N. y Pavlov E. Mecanismos para un Mercado Distribuido Espacialmente. En actas de la 5ta Conferencia ACM sobre Comercio Electrónico, 2004. [4] M. Babaioff y W. E. Walsh. Subastas Incentivo-Compatible, Equilibradas en Presupuesto, pero Altamente Eficientes para la Formación de Cadenas de Suministro. En actas de la Cuarta Conferencia ACM sobre Comercio Electrónico, 2003. [5] Y. Bartal, R. Gonen y P. La Mura. Mecanismos de rango de negociación: explorando los límites de los mercados eficientes y veraces. EC 04: Actas de la 5ta conferencia de ACM sobre comercio electrónico, 2004. [6] Blume L, Easley D., Kleinberg J. y Tardos E. Redes de intercambio con agentes que fijan precios. En actas de la 8ª conferencia de la ACM sobre comercio electrónico, 2007. [7] Cavallo R. Toma de decisiones óptima con desperdicio mínimo: redistribución estratégicamente segura de pagos VCG. En Proc. 5th Int. Conf. sobre Autonomía. Agentes y Sistemas Multiagente (AAMAS06). [8] E. H. Clarke Fijación de precios múltiples de bienes públicos. En la revista Public Choice de 1971, vol. 2, pp. 17-33. [9] Chu L. Y. y Shen Zuo-Jun M. Mecanismo de Subasta Doble de Competencia de Agentes. Ciencia de la Gestión, vol. 52(8), 2006. [10] T. Groves Incentivos en equipos. En la revista Econometrica de 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan y Y. Shoham. Revelación de la verdad en subastas combinatorias aproximadamente eficientes. En Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Obtención de preferencias honestas para la asignación de individuos a posiciones. Revista de economía política, 1983. [13] McAfee R. P. Una subasta doble de estrategia dominante. Revista de Teoría Económica, vol. 56, 434-450, 1992. [14] A. Mualem y N. Nisan. Mecanismos de Aproximación Veraz para Subastas Combinatorias Restringidas. Actas de AAAI 2002. [15] Myerson R. B. y Satterthwaite M. A. Mecanismos eficientes para el comercio bilateral. Revista de Teoría Económica, vol. 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. y Zhang R. Q. Mecanismos de subasta eficientes para la adquisición de la cadena de suministro. Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, 2001. [17] W. Vickrey Contrapronóstico, Subastas y Licitaciones Competitivas Selladas. En Journal of Finance 1961, vol. 16, pp. 8-37. APÉNDICE A. CALCULANDO LA FUNCIÓN DE DIVISIÓN ÓPTIMA EN DOMINIOS DE CLASE DE ADQUISICIÓN EN TIEMPO POLINÓMICO En esta sección mostramos cómo calcular la función de división óptima para dominios de clase de adquisición en tiempo polinómico. Primero definimos una función de división especial D0 que es fácil de calcular: Definimos la función de división D0 de forma recursiva de la siguiente manera: En la etapa j, D0 divide a los jugadores comerciales en dos conjuntos Aj y Aj de manera que: • Aj es un conjunto de adquisiciones • Aj puede dividirse en una unión disjunta de conjuntos de adquisiciones. • Aj tiene un valor mínimo de todas las particiones posibles. Define sj = Aj y llame recursivamente a D0 y Aj hasta que Aj = ∅. Ahora demostramos que D0 es la función de división requerida. Lema A.1. Para los dominios de clase de adquisiciones D0 = D0. Prueba. Dado que el dominio es un dominio de clase de adquisiciones, para cada conjunto de adquisiciones reducido, el conjunto de jugadores que logran la competencia (ya sea interna o externa) está fijo. Por lo tanto, el número de conjuntos de adquisiciones que se reducen es independiente de la función de división D. Dado que el objetivo es optimizar el bienestar reduciendo los conjuntos de adquisiciones con el menor valor, podemos optimizar el bienestar. Esto se logra mediante D0. I'm sorry, but you did not provide a sentence to translate. Please provide the sentence you would like me to translate to Spanish. PROBLEMAS Y EJEMPLOS Para completitud, presentamos en esta sección las definiciones formales de los problemas que utilizamos para ilustrar nuestro mecanismo. El primer problema que definimos es la subasta de doble cara con bienes homogéneos. Problema B.1. Subasta de doble cara con bienes homogéneos: Hay m vendedores, cada uno con un solo bien (todos los bienes son idénticos) y n compradores, cada uno interesado en recibir un bien. Denotamos el conjunto de vendedores como S y el conjunto de compradores como B. Cada jugador i ∈ S ∪ B (tanto compradores como vendedores) tiene un valor vi por el bien. En este modelo, un conjunto de adquisiciones consiste en un único comprador y un único vendedor, es decir, |s| = 2. El valor de un conjunto de adquisiciones es W(s) = vj − vi donde j ∈ B e i ∈ S, es decir, la ganancia del intercambio. Si los conjuntos de adquisiciones se crean emparejando al comprador de mayor valor con el vendedor de menor valor, entonces el mecanismo de reducción de intercambio determinístico [13] reduce el conjunto de adquisiciones de menor valor. Un modelo relacionado es el modelo de costos relacionados en pares [9]. Problema B.2. Los costos relacionados en pares: una subasta de doble cara B.1 en la que cada par de jugadores i ∈ S y j ∈ B tiene un costo relacionado F(i, j) ≥ 0 para poder comerciar. F(i, j) es un costo de fricción que debe minimizarse para maximizar el bienestar. [9] define dos mecanismos equilibrados presupuestariamente para este caso. Uno de los mecanismos de [9] tiene el conjunto de compradores B como el conjunto X para el mecanismo X-externo y el otro tiene el conjunto de vendedores S como el conjunto X para el mecanismo X-externo. Un modelo similar es el modelo de mercados distribuidos espacialmente (SDM) [3] en el que hay un grafo que impone relaciones en el costo. Problema B.3. Mercados distribuidos espacialmente: existe un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene asociado un costo que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Los bordes no son estratégicos, pero todos los jugadores son estratégicos. [3] define un mecanismo equilibrado en presupuesto para este caso. Nuestro artículo mejora el resultado de [3]. Otro modelo de gráfica es el modelo definido en [6]. Problema B.4. Redes de intercambio: Dado un grafo y compradores y vendedores que se encuentran en los nodos del grafo. Todo comercio debe pasar a través de un comerciante. En este caso, los conjuntos de adquisiciones tienen la forma (comprador, vendedor, comerciante) donde los posibles conjuntos de esta forma están definidos por un gráfico. El modelo de cadena de suministro [2, 4] puede ser visto como una generalización de [6] en la que los conjuntos de adquisición consisten en la forma (productor, consumidor, comerciante1, . . . , comerciantek). También es posible aleatorizar la reducción de los conjuntos de adquisición para lograr un presupuesto esperado de cero similar a [13], los detalles son obvios y se omiten. Problema B.5. Cadena de suministro: Hay un conjunto D de agentes y un conjunto G de bienes y un grafo G = (V, E) que define posibles relaciones comerciales. Los agentes pueden requerir una entrada de múltiples cantidades de bienes para producir un solo bien. El jugador tipo productor puede producir bienes de la nada, el consumidor tiene una valoración y es necesaria toda una cadena de intermediarios para crear un conjunto de adquisiciones viable. [2, 4] consideran una tecnología de fabricación única en la que el grafo que define las posibles relaciones es un árbol. Todos los problemas anteriores son dominios de clase de adquisiciones. También consideramos varios problemas que no son dominios de la clase de adquisiciones y, en general, las cuestiones de equilibrio presupuestario se han dejado como problemas abiertos. Un problema abierto planteado en [3] es el modelo SDM en el que los bordes son estratégicos. Problema B.6. Mercados distribuidos espacialmente con bordes estratégicos: hay un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene un costo asociado que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Cada comprador, vendedor y intermediario tiene un valor para el intercambio, es decir, todas las entidades son estratégicas. [2, 4] dejó abierta la cuestión de los mecanismos equilibrados en presupuesto para cadenas de suministro donde no hay una tecnología de fabricación única. Es fácil ver que este problema no pertenece al ámbito de la clase de adquisiciones. Otro problema interesante son las redes de transporte. Problema B.7. Redes de transporte: Un grafo G = (V, E) donde las aristas son jugadores estratégicos con costos y el objetivo es encontrar una ruta de transporte de costo mínimo entre un par de nodos privilegiados Fuente y Objetivo ∈ V. Se demostró en [1] que la asignación eficiente puede tener un déficit presupuestario que es lineal en el número de jugadores. Claramente, este problema no es un dominio de clase de adquisiciones y dejó abierta la pregunta de un mecanismo de presupuesto equilibrado. Otro mecanismo de dominio no basado en la clase de adquisiciones es la subasta combinatoria de doble cara (CA) con jugadores de valor único. Problema B.8. Subasta combinatoria de doble cara (CA) con jugadores de valor único: Existe un conjunto S de vendedores, cada uno vendiendo un solo bien. También existe un conjunto B de compradores, cada uno interesado en paquetes de 2S18. Hay dos variantes de este problema. En el caso de un comprador enfocado, cada comprador tiene un valor positivo para un solo subconjunto, mientras que en el caso de múltiples intereses, cada comprador puede tener varios paquetes con valoración positiva, pero todos los valores son iguales. En ambos casos asumimos disponibilidad gratuita para que todos los paquetes que contienen el paquete deseado tengan el mismo valor para el comprador. También consideramos problemas que no pertenecen a dominios de clase. Problema B.9. Subasta combinatoria de doble cara (CA) con jugadores generales multi-mentales: igual que B.8 pero cada comprador puede tener múltiples paquetes con valoración positiva que no necesariamente son iguales. Abusamos de la notación e identificamos al vendedor con el bien. Comparando diferentes opciones de X, la elección de X puede tener un gran impacto en el bienestar (y los ingresos) del mecanismo reducido y, por lo tanto, surge la pregunta de cómo se debería elegir el conjunto X. Dado que se requiere el mecanismo X-externo para mantener la CI claramente, la elección de X no puede depender del valor de los jugadores, de lo contrario el mecanismo reducido no será veraz. En esta sección motivamos la elección de conjuntos X pequeños para dominios de clase de adquisiciones y damos intuición de que también podría ser el caso para algunos otros dominios. Comenzamos ilustrando el efecto del conjunto X sobre el bienestar y los ingresos en la subasta de doble cara con el problema de bienes homogéneos B.1. Se pueden construir ejemplos similares para los otros problemas definidos en B. El siguiente ejemplo muestra un efecto en el bienestar. Ejemplo C.1. Hay dos compradores y dos vendedores y dos conjuntos no intersectantes (incomparables) X = {compradores} e Y = {vendedores}. Si los valores de los compradores son 101, 100 y los vendedores son 150, 1, entonces el mecanismo externo X generará una ganancia del comercio de 0 y el mecanismo externo Y generará una ganancia del comercio de 100. Por el contrario, si los valores de los compradores son 100, 1 y los de los vendedores son 2, 3, el mecanismo externo X generará una ganancia comercial de 98 y el mecanismo externo Y generará una ganancia comercial de cero. El ejemplo muestra claramente que la diferencia entre el mecanismo X-externo y el mecanismo Y-externo es ilimitada, aunque como se muestra arriba, la fracción que cada uno de ellos reduce puede ser limitada y, por lo tanto, la proporción multiplicativa entre ellos puede ser limitada (como función del número de operaciones). En el lado de los ingresos ni siquiera podemos establecer un límite para la proporción, como se ve en el siguiente ejemplo: Ejemplo C.2. Considera k compradores con un valor de 100 y k+1 vendedores con un valor de 1. Si X = {compradores} entonces no es necesario reducir ningún intercambio y todos los compradores reciben el bien y pagan 1. k + 1 de los vendedores venden y cada uno recibe 1. Esto produce un ingreso neto de cero. Si Y = {vendedores} entonces se debe reducir un intercambio. Esto significa que todos los compradores pagan 100 mientras que todos los vendedores siguen recibiendo 1. La ganancia total es entonces de 99k. Del mismo modo, se puede construir un ejemplo que genere ingresos mucho más altos para el mecanismo externo X en comparación con el mecanismo externo Y. Los ejemplos anteriores se refieren a los conjuntos X e Y, los cuales no se intersectan y son incomparables. El siguiente teorema compara los mecanismos externos-X y externos-Y para dominios de clase de adquisiciones donde X es un subconjunto de Y. Teorema C.1. Para los dominios de clase de adquisiciones, si X ⊂ Y y para cualquier s ∈ S, s ∩ X ∩ Y = ∅ entonces: 1. La eficiencia del mecanismo externo X en GTR-1 (y por lo tanto GTR-2) es al menos igual a la del mecanismo externo Y. Cualquier jugador ganador que gane tanto en los mecanismos X-externo como en el Y-externo no paga menos en el Y-externo que en el X-externo y, por lo tanto, la proporción de presupuesto a bienestar no es peor en el Y-externo que en el X-externo. Prueba. 1. Para cualquier función de división D, si hay un conjunto de adquisición sj que se reduce en el mecanismo externo X, hay dos posibles razones: (a) sj carece de competencia externa en el mecanismo externo X. En este caso, sj carece de competencia externa en el mecanismo interno. (b) sj tiene todas las competencias externas requeridas en X-externo. En este caso, sj tiene todas las competencias internas requeridas en Y -externas según el lema 3.1, pero podría carecer de algunas competencias externas para sj ∪ {Y \\ X} y verse reducido, 2. Esto se deduce del hecho de que para cualquier orden D, cualquier conjunto de adquisiciones s que se reduce en el mecanismo externo X también se reduce en el mecanismo externo Y. Por lo tanto, el valor crítico no es menor en el mecanismo Yexterno que en el mecanismo Xexterno. Observación C.1. Para cualquier par de conjuntos X, Y, es fácil construir un ejemplo en el que los mecanismos externos de X y Y reduzcan los mismos conjuntos de adquisición, por lo que la desigualdad es débil. El Teorema C.1 muestra una desigualdad en el bienestar, así como en los pagos, pero es fácil construir un ejemplo en el que los ingresos pueden aumentar para X en comparación con Y, así como lo contrario. Esto sugiere que en general queremos que X sea lo más pequeño posible, aunque en algunos dominios no es posible comparar diferentes X.",
    "original_sentences": [
        "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
        "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
        "Research Yahoo!",
        "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
        "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
        "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
        "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
        "We bound the welfare achieved by our procedure for a wide range of domains.",
        "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
        "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
        "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
        "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
        "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
        "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
        "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
        "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
        "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
        "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
        "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
        "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
        "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
        "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
        "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
        "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
        "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
        "The solution procedure called the Generalized Trade Reduction (GTR).",
        "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
        "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
        "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
        "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
        "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
        "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
        "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
        "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
        "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
        "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
        "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
        "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
        "We define class based domain and procurement class based domains.",
        "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
        "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
        "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
        "For some classes of mechanisms we bound the competitive approximation of welfare.",
        "In our model there are N players divided into sets of trade.",
        "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
        "A procurement set s is the smallest set of players that is required for trade to occur.",
        "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
        "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
        "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
        "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
        "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
        "The set Vi ⊆ R is the set of all possible valuations vi.",
        "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
        "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
        "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
        "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
        "Let the size of a procurement set s be denoted as |s|.",
        "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
        "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
        "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
        "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
        "In the case where F is identically zero, then W(A) = i∈A vi.",
        "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
        "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
        "We say that the allocation A is efficient if there is no other allocation with a higher value.",
        "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
        "We assume w.l.o.g. that there are no two allocations with the same value3 .",
        "A mechanism M defines an allocation and payment rules, M = (R, P).",
        "A payment rule P decides is payment pi where P is a function P : V → RN .",
        "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
        "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
        "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
        "Let b ∈ V be the bids of all players.",
        "An allocation rule R decides the allocation according to the reported values b ∈ V .",
        "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
        "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
        "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
        "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
        "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
        "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
        "Definition 2.2.",
        "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
        "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
        "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
        "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
        "The right conditions that need to be met are conditions of competition among the players in the given problem.",
        "The following definitions leads us to the competition conditions we are looking for.",
        "Definition 2.3.",
        "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
        "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
        "Note that a set can replace a single player.",
        "Furthermore, this relationship is transitive but not necessarily symmetric.",
        "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
        "Definition 2.4.",
        "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
        "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
        "Definition 2.5.",
        "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
        "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
        "In case of ties, these can be broken by using the identities of the players4 .",
        "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
        "Definition 2.6.",
        "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
        "The set X5 denotes this competition and is closed under replacement.",
        "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
        "Definition 2.7.",
        "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
        "Each player i ∈ X has an external competition. 2.",
        "Each player i /∈ X has an internal competition. 3.",
        "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
        "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
        "In appendix C we give an example where two possible choices of X yield greatly different results.",
        "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
        "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
        "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
        "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
        "The algorithms order the procurements sets defined by D in order of increasing value.",
        "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
        "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
        "The reduction of procurement sets will also be referred to as a trade reduction.",
        "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
        "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
        "The two generalized trade reduction algorithms presented accept problems in different domains.",
        "The formal domain definitions follow: Definition 2.9.",
        "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
        "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
        "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
        "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
        "Definition 2.10.",
        "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
        "Example 2.1.",
        "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
        "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
        "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
        "In this case, the buyer is a class and each set of sellers of the same good is a class.",
        "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
        "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
        "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
        "The next sections present two algorithms GTR-1 and GTR2.",
        "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
        "We prove the GTR-2s properties with specific dividing function D0.",
        "The function will be defined in section 4.",
        "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
        "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
        "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
        "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
        "Example 3.1.",
        "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
        "In this domain there are two classes.",
        "The class of buyers and the class of sellers.",
        "Each procurement set consists of a single buyer and a single seller.",
        "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
        "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
        "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
        "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
        "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
        "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
        "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
        "In this context each seller sells a single good and each buyer wants a set of goods.",
        "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
        "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
        "A definition of the mechanism follows: Definition 3.1.",
        "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
        "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
        "Order the procurement sets by increasing value. 3.",
        "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
        "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
        "All trading players are charged the critical value for trading.",
        "All non trading players are charged nothing.",
        "Remark 3.1.",
        "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
        "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
        "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
        "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
        "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
        "Theorem 3.1.",
        "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
        "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
        "Observation 3.1.",
        "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
        "Then M1 and M2 must have the same payment rule.",
        "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
        "Lemma 3.1.",
        "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
        "Proof.",
        "This follows from the definition of procurement class domains.",
        "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
        "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
        "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
        "It is possible to define an X that does not intersect every possible procurement set.",
        "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
        "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
        "Proof.",
        "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
        "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
        "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
        "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
        "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
        "So the likelihood of competition can only increase if i appears in later procurement sets.",
        "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
        "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
        "Finally we prove BB: Lemma 3.3.",
        "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
        "Proof.",
        "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
        "Let s ∈ S be a procurement set that is not reduced.",
        "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
        "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
        "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
        "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
        "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
        "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
        "Thus i pays no less than min −W(Ei(A, s)).",
        "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
        "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
        "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
        "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
        "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
        "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
        "The above two lemmas yield the following theorem: Theorem 3.2.",
        "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
        "Remark 3.2.",
        "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
        "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
        "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
        "Therefore, the chance of i lacking the requisite competition is decreased.",
        "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
        "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
        "GTR-1 is IC for procurement-class domains.",
        "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
        "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
        "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
        "We therefore define a different algorithm for non procurement class domains.",
        "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
        "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
        "For ease of presentation in this section we assume that F = 0.",
        "The dividing function for general domains is defined by looking at all possible dividing functions.",
        "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
        "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
        "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
        "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
        "Remark 4.1.",
        "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
        "The second generalized trade reduction algorithm GTR-2 follows.",
        "Definition 4.1.",
        "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
        "Calculate the dividing function D0 as defined above. 2.",
        "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
        "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
        "Otherwise, reduce the trade sj. 4.",
        "All trading players are charged the critical value for trading.",
        "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
        "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
        "Lemma 4.1.",
        "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
        "Proof.",
        "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
        "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
        "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
        "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
        "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
        "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
        "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
        "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
        "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
        "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
        "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
        "Lemma 4.2.",
        "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
        "Proof.",
        "This proof is similar to the proof of lemma 3.3.",
        "Combining the two lemmas above we get: Theorem 4.1.",
        "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
        "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
        "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
        "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
        "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
        "Definition 4.2.",
        "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
        "Definition 4.3.",
        "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
        "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
        "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
        "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
        "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
        "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
        "Let D be an arbitrary dividing function.",
        "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
        "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
        "Once s is reduced all players of [i] have internal competition.",
        "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
        "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
        "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
        "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
        "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
        "The following corollaries are direct results of theorem 4.2.",
        "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
        "Corollary 4.1.",
        "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
        "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
        "Corollary 4.2.",
        "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
        "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
        "Corollary 4.3.",
        "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
        "The following corollary solves the open problem at [3].",
        "Corollary 4.4.",
        "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
        "Proof.",
        "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
        "This improves the naive algorithm of reducing n2 procurement sets.",
        "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
        "Corollary 4.6.",
        "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
        "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
        "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
        "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
        "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
        "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
        "We also leave open the question of upper bounds for the quality of approximation of welfare.",
        "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
        "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
        "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
        "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
        "REFERENCES [1] A. Archer and E. Tardos.",
        "Frugal path mechanisms.",
        "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
        "Concurrent Auctions Across the Supply Chain.",
        "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
        "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
        "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
        "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
        "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
        "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
        "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
        "In Proc. 5th Int.",
        "Conf. on Auton.",
        "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
        "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
        "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
        "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
        "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
        "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
        "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
        "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
        "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
        "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
        "Efficient Mechanisms for Bilateral Trading.",
        "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
        "Efficient Auction Mechanisms for Supply Chain Procurement.",
        "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
        "In Journal of Finance 1961, vol. 16, pp. 8-37.",
        "APPENDIX A.",
        "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
        "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
        "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
        "We now prove that D0 is the required dividing function.",
        "Lemma A.1.",
        "For procurement class domains D0 = D0.",
        "Proof.",
        "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
        "This is achieved by D0.",
        "B.",
        "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
        "The first problem that we define is the double-sided auction with homogeneous goods.",
        "Problem B.1.",
        "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
        "We denote the set of sellers by S and the set of buyers by B.",
        "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
        "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
        "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
        "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
        "A related model is the pair related costs [9] model.",
        "Problem B.2.",
        "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
        "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
        "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
        "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
        "Problem B.3.",
        "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
        "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
        "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
        "Our paper improves on [3] result.",
        "Another graph model is the model defined in [6].",
        "Problem B.4.",
        "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
        "All trade must pass through a trader.",
        "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
        "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
        "Problem B.5.",
        "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
        "Agents can require an input of multiple quantities of goods in order to output a single good.",
        "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
        "All of the above problems are procurement-class domains.",
        "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
        "An open problem raised in [3] is the SDM model in which edges are strategic.",
        "Problem B.6.",
        "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
        "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
        "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
        "It is easy to see that this problem is not a procurement class domain.",
        "Another interesting problem is transport networks.",
        "Problem B.7.",
        "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
        "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
        "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
        "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
        "Problem B.8.",
        "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
        "There also exists a set B of buyers each interested in bundles of 2S18 .",
        "There are two variants of this problem.",
        "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
        "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
        "We also consider problems that are non class domains.",
        "Problem B.9.",
        "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
        "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
        "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
        "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
        "Similar examples can be constructed for the other problems defined is B.",
        "The following example shows an effect on the welfare.",
        "Example C.1.",
        "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
        "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
        "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
        "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
        "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
        "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
        "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
        "This yields a net revenue of zero.",
        "If Y = {sellers} then one must reduce a trade!",
        "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
        "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
        "The above examples refer to sets X and Y which do not intersect and are incomparable.",
        "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
        "Theorem C.1.",
        "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
        "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
        "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
        "Proof. 1.",
        "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
        "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
        "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
        "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
        "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
        "Remark C.1.",
        "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
        "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
        "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
    ],
    "translated_text_sentences": [
        "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica.",
        "Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
        "Investigar Yahoo!",
        "Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB).",
        "Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB.",
        "Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4].",
        "En este documento proporcionamos un procedimiento llamado Reducción Comercial Generalizada (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar.",
        "Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios.",
        "En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro.",
        "Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte.",
        "Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1.",
        "INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener.",
        "Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas.",
        "En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad.",
        "Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente.",
        "Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo.",
        "Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares.",
        "Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social.",
        "En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB.",
        "Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB.",
        "A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta.",
        "Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse.",
        "Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario.",
        "Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos?",
        "Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único.",
        "El procedimiento de solución llamado Reducción Comercial Generalizada (GTR).",
        "GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB.",
        "El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB.",
        "Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar.",
        "Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar.",
        "Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente.",
        "Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura.",
        "Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro.",
        "Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto.",
        "Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social.",
        "Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB.",
        "Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio.",
        "Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas.",
        "Definimos dominios basados en clase y dominios basados en clase de adquisiciones.",
        "Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado competencia interna y externa.",
        "La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2.",
        "PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB.",
        "Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar.",
        "En nuestro modelo hay N jugadores divididos en conjuntos de intercambio.",
        "Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1.",
        "Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio.",
        "Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor.",
        "En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores.",
        "Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones.",
        "Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0.",
        "Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0.",
        "El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi.",
        "El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn.",
        "Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i.",
        "Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones.",
        "Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido.",
        "Que el tamaño de un conjunto de adquisiciones s se denote como |s|.",
        "Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian.",
        "El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición.",
        "El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s).",
        "Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s).",
        "En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi.",
        "Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A.",
        "Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F).",
        "Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto.",
        "La eficiencia de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo.",
        "Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor.",
        "Un mecanismo M define unas reglas de asignación y pago, M = (R, P).",
        "Una regla de pago P decide el pago pi donde P es una función P: V → RN.",
        "Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores.",
        "Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10].",
        "El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi.",
        "Sea b ∈ V las ofertas de todos los jugadores.",
        "Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V.",
        "Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad.",
        "El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V.",
        "M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores.",
        "M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa.",
        "Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0.",
        "Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico.",
        "Definición 2.2.",
        "Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados.",
        "Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio.",
        "Los dos algoritmos son tales que, dado un mecanismo IR e IC M que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte a M en un mecanismo IR, IC y BB.",
        "El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplen las condiciones correctas y el mecanismo M se convierte en uno de tipo BB.",
        "Las condiciones adecuadas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado.",
        "Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando.",
        "Definición 2.3.",
        "Para cualquier jugador i ∈ N, decimos que el conjunto Ri ⊆ N \\ {i} es un conjunto de reemplazo de i, si para cualquier conjunto de adquisición s ∈ S tal que i ∈ s y Ri∩s = ∅, s\\{i}∪Ri ∈ S. Por ejemplo, en una subasta (homogénea) de doble cara (ver problema B.1), el conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador.",
        "En una subasta de espacios de transporte (ver problema B.7), el conjunto de reemplazo de un borde es un camino entre los extremos del borde.",
        "Ten en cuenta que un conjunto puede reemplazar a un solo jugador.",
        "Además, esta relación es transitiva pero no necesariamente simétrica.",
        "Si i es un conjunto de reemplazo para j, no necesariamente es cierto que j sea un conjunto de reemplazo para i.",
        "Definición 2.4.",
        "Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una competencia interna para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i.",
        "T = s \\ {i} ∪ Ri(A, s) ∈ S y W(T) ≥ 0.",
        "Definición 2.5.",
        "Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una competencia externa para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0.",
        "Supondremos, sin pérdida de generalidad, que no hay empates entre los valores de ninguna asignación, y en particular no hay empates entre los valores de los conjuntos de adquisiciones.",
        "En caso de empate, este puede romperse utilizando las identidades de los jugadores.",
        "Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con competencia externa Ei(A, s), existe exactamente un conjunto que representa la competencia externa de mayor valor.",
        "Definición 2.6.",
        "Un conjunto X ⊂ N es cerrado bajo reemplazo si ∀i ∈ X entonces Ri ⊂ X. Lo siguiente define la competencia requerida necesaria para mantener IC, IR y BB.",
        "El conjunto X5 denota esta competencia y está cerrado bajo reemplazo.",
        "En el resto del documento asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo.",
        "Definición 2.7.",
        "Sea X ⊂ N un conjunto que está cerrado bajo reemplazo, decimos que el mecanismo es un mecanismo X-externo, si 1.",
        "Cada jugador i ∈ X tiene una competencia externa. 2.",
        "Cada jugador i /∈ X tiene una competencia interna. 3.",
        "Para todos los jugadores i1, . . . , it ∈ s \\ X existen Ri1 (A, s), . . . , Rit (A, s) tales que para cada iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. para cada conjunto de adquisiciones s ∈ S se cumple que s∩X = ∅ Para dominios generales, la elección de X puede ser crucial.",
        "De hecho, incluso para el mismo dominio, el bienestar (y los ingresos) pueden variar ampliamente dependiendo de cómo se defina X.",
        "En el apéndice C damos un ejemplo donde dos posibles elecciones de X producen resultados muy diferentes.",
        "Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la optimalidad de X y este es un importante problema abierto.",
        "Nuestros dos algoritmos de reducción de comercio generalizados garantizarán que para cualquier asignación tengamos los tipos deseados de competencia.",
        "Dado un mecanismo M que es CI e IR con asignación A, el objetivo de los algoritmos es convertir a M en un mecanismo X-externo.",
        "Los dos algoritmos de reducción de comercio generalizados utilizan una función de división D que divide la asignación A en conjuntos de adquisición disjuntos.",
        "Los algoritmos ordenan los conjuntos de adquisiciones definidos por D en orden de valor creciente.",
        "Para cualquier conjunto de adquisiciones hay un tipo deseado de competencia que depende únicamente de los jugadores que componen el conjunto de adquisiciones.",
        "Los algoritmos de reducción de comercio generalizados recorren los conjuntos de adquisiciones en orden (del más pequeño al más grande) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el conjunto.",
        "La reducción de los conjuntos de adquisiciones también se conocerá como reducción del comercio.",
        "Formalmente, los detalles sobre cómo resolver empates en las asignaciones son estándar y se omiten. Presentamos algunas compensaciones entre los diferentes conjuntos posibles en el Apéndice C. Definición 2.8.",
        "D es una función de división si para cualquier asignación A y el vector de valores de los jugadores v, D divide la asignación en conjuntos de adquisiciones disjuntos s1, . . . , sk de manera que ∪sj = A y para cualquier jugador i con valor vi si i ∈ sj1 y t ∈ sj2 tal que j1 ≥ j2 entonces para cualquier valor vi > vi del jugador i y división por D en s1, . . . , sk tal que i ∈ sj1 y t ∈ sj2 entonces j1 > j2.",
        "Los dos algoritmos de reducción de comercio generalizados presentados aceptan problemas en diferentes dominios.",
        "Las definiciones de dominio formal siguen: Definición 2.9.",
        "Un dominio es un dominio de clase si para todo i ∈ N y todos los conjuntos de reemplazo de i, Ri, |Ri| = 1 y para todo i, j, i = j si j = Ri entonces i = Rj.",
        "Intuitivamente, esto significa que los conjuntos de reemplazo son de tamaño 1 y la relación de reemplazo es simétrica.",
        "Definimos la clase de un jugador i como el conjunto de los conjuntos de reemplazo de los jugadores y denotamos la clase del jugador i por [i].",
        "Es importante tener en cuenta que dado que los conjuntos de reemplazo son relaciones transitivas y dado que los dominios de clase también imponen relaciones simétricas en los conjuntos de reemplazo, la clase de un jugador i, [i] es en realidad una clase de equivalencia para i.",
        "Definición 2.10.",
        "Un dominio es un dominio de clase de adquisición si el dominio es un dominio basado en clases y si para cualquier jugador i tal que existan dos conjuntos de adquisición s1, s2 (no necesariamente intercambiando simultáneamente en ninguna asignación) tales que i ∈ s1 e i ∈ s2, entonces existe una biyección f: s1 → s2 tal que para cualquier j ∈ s1, f(j) es un conjunto de reemplazo para j en s2.",
        "Ejemplo 2.1.",
        "Una subasta (homogénea) de doble cara (ver problema B.1) es un dominio basado en la clase de adquisiciones.",
        "Para la subasta de doble cara (homogénea), cada conjunto de adquisición consiste en un comprador y un vendedor.",
        "La subasta combinatoria de doble cara que consiste en un único comprador con múltiples preferencias y múltiples vendedores de bienes heterogéneos (ver problema B.9), es un dominio basado en clases (ya que tenemos un único comprador) pero no es un dominio basado en clases de adquisiciones.",
        "En este caso, el comprador es una clase y cada conjunto de vendedores del mismo bien es una clase.",
        "Sin embargo, para un comprador no hay una biyección entre los diferentes conjuntos de adquisición de los paquetes de bienes en los que el comprador está interesado.",
        "El mercado distribuido espacialmente con bordes estratégicos (ver problema B.6) no es un dominio basado en clases (y por lo tanto no es un dominio de clase de adquisiciones).",
        "Por ejemplo, incluso para un comprador fijo y un vendedor fijo existen dos conjuntos de adquisición diferentes que consisten en diferentes rutas entre los compradores y vendedores.",
        "Las siguientes secciones presentan dos algoritmos GTR-1 y GTR-2.",
        "El algoritmo GTR-1 acepta problemas en dominios basados en la clase de adquisiciones, sus propiedades se demuestran con una función de división general D. El algoritmo GTR-2 acepta problemas en cualquier dominio.",
        "Demostramos las propiedades de GTR-2s con una función de división específica D0.",
        "La función será definida en la sección 4.",
        "Dado que la función de división puede tener un gran impacto práctico en el bienestar (y los ingresos), la generalidad de GTR − 1 (aunque sea en dominios especiales) puede ser una consideración práctica importante. 3.",
        "DOMINIOS BASADOS EN CLASES DE ADQUISICIÓN Esta sección se centra en los problemas que son dominios basados en clases de adquisición.",
        "Para este dominio, presentamos un algoritmo llamado GTR-1, que dado un mecanismo que es IR e IC, produce un mecanismo con bienestar reducido que es IR, IC y equilibrado presupuestariamente.",
        "Aunque los dominios de clase de adquisición parecen ser un modelo relativamente restringido, de hecho muchos de los dominios estudiados en la literatura son dominios de clase de adquisición.",
        "Ejemplo 3.1.",
        "Los siguientes dominios son dominios de clase de adquisiciones: • subastas de doble cara con bienes homogéneos [13] (problema B.1).",
        "En este dominio hay dos clases.",
        "La clase de compradores y la clase de vendedores.",
        "Cada conjunto de adquisiciones consta de un único comprador y un único vendedor.",
        "Dado que cada par de (comprador, vendedor) es un conjunto de adquisición válido (aunque posiblemente con valor negativo), este es un dominio de clase de adquisición.",
        "En este dominio, la constante asignada a los conjuntos de adquisición es F = 0. • Mercados distribuidos espacialmente con bordes no estratégicos [3, 9] (problema B.3).",
        "Al igual que las subastas de doble cara con bienes homogéneos, hay dos clases en el dominio.",
        "Clase de compradores y clase de vendedores con conjuntos de adquisición que consisten en un comprador y un vendedor.",
        "Los vendedores y compradores son nodos en un grafo y la función F es la distancia entre dos nodos (longitud de la arista) que representa los costos de transporte.",
        "Estos costos varían entre diferentes pares (comprador, vendedor). • Cadenas de suministro [2, 4] (problema B.5).",
        "La suposición de una manufactura única por [2, 4] se puede entender mejor como convertir las cadenas de suministro generales (que no necesariamente deben ser un dominio de clase de adquisiciones) en un dominio de clase de adquisiciones. • Subastas combinatorias de mente única [11] (problema B.8).",
        "En este contexto, cada vendedor vende un solo bien y cada comprador desea un conjunto de bienes.",
        "Las clases son conjuntos de vendedores que venden el mismo bien, así como los compradores que desean el mismo paquete.",
        "Un conjunto de adquisiciones consiste en un único comprador, así como un conjunto de vendedores que pueden satisfacer a ese comprador.",
        "Una definición del mecanismo sigue a continuación: Definición 3.1.",
        "El algoritmo GTR-1, dado un mecanismo M, un conjunto X ⊂ N que es cerrado bajo reemplazo, una función de división D y una asignación A, opera de la siguiente manera: 1.",
        "Utiliza la función de división D para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 2.",
        "Ordena los conjuntos de adquisición por valor creciente. 3.",
        "Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay competencia externa y para cada i ∈ sj \\ X hay competencia interna, entonces se conservan los 23 sj.",
        "De lo contrario, reduzca el intercambio sj (es decir, elimine cada i ∈ sj de la asignación).",
        "Todos los jugadores comerciantes son cobrados el valor crítico por comerciar.",
        "A todos los jugadores no comerciales no se les cobra nada.",
        "Observación 3.1.",
        "El caso especial donde X = N ha recibido atención bajo diferentes formas en varios casos especiales, como ([13, 3, 4]). 3.1 El GTR-1 produce un mecanismo externo de X que es IR, IC y BB. En esta subsección demostramos que el algoritmo GTR-1 produce un mecanismo externo de X que es IR, IC y BB.",
        "Para demostrar las propiedades de GTR-1, hacemos uso del teorema 3.1, el cual es un resultado bien conocido (por ejemplo, [14, 11]).",
        "El Teorema 3.1 caracteriza las condiciones necesarias y suficientes para que un mecanismo para jugadores de valor único sea IR e IC: Definición 3.2.",
        "Una regla de asignación R es Bid Monotónica si para cualquier jugador i, cualquier oferta de los otros jugadores b−i ∈ V−i, y cualquier par de ofertas posibles de i, ˆbi > bi, si i negocia bajo la regla de asignación R al informar bi, entonces i también negocia al informar ˆbi.",
        "Intuitivamente, una regla de asignación monótona de oferta garantiza que ningún jugador comerciante pueda convertirse en un jugador no comerciante al mejorar su oferta.",
        "Teorema 3.1.",
        "Un mecanismo IR M con regla de asignación R es IC si y solo si R es Bid Monotónico y cada jugador comerciante i paga su valor crítico Ci (pi = Ci).",
        "Por lo tanto, para los mecanismos IR7 e IC normalizados, la regla de asignación que es bid monótona define de manera única los valores críticos para todos los jugadores y, por lo tanto, los pagos.",
        "Observación 3.1.",
        "Sean M1 y M2 dos mecanismos IR e IC con la misma regla de asignación.",
        "Entonces M1 y M2 deben tener la misma regla de pago.",
        "En lo siguiente demostramos que el algoritmo GTR-1 externo de X produce un mecanismo IR, IC y BB, pero primero se muestra un lema subsidiario.",
        "Lema 3.1.",
        "Para los dominios de clase de adquisiciones, si existe un conjunto de adquisiciones sj tal que i ∈ sj y i tiene competencia externa, entonces todos los t = i t ∈ sj, t tiene competencia interna.",
        "Prueba.",
        "Esto se deriva de la definición de los dominios de clase de adquisiciones.",
        "Supongamos que i tiene competencia externa, entonces existe un conjunto de jugadores Ei(A, s) tal que {i} ∪ Ei(A, s) ∈ S. Denotemos por sj = {i} ∪ Ei(A, s).",
        "Dado que el dominio es un dominio de clase de adquisiciones, existe una función biyectiva f entre sj y sj. f define la competencia interna requerida.",
        "Comenzamos demostrando IR e IC: Aunque la definición de un mecanismo externo X requiere que X intersecte cada conjunto de adquisiciones, esto no es estrictamente necesario.",
        "Es posible definir un X que no intersecte con cada conjunto de adquisiciones posible.",
        "En este caso, cualquier conjunto de adquisiciones s ∈ S tal que s ∩ X = ∅ se reducirá. Nótese que esto no es cierto para mecanismos que no están normalizados, por ejemplo, [7, 12] Lema 3.2.",
        "Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR e IC.",
        "Prueba.",
        "Por la definición de un esquema de precios de valor crítico 2.2 y el algoritmo GTR-1 3.1 se sigue que para cada jugador comercial i, vi ≥ 0.",
        "Por el algoritmo GTR-1, 3.1 jugadores no comerciales tienen un pago de cero.",
        "Por lo tanto, para cada jugador i, valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que el mecanismo externo X producido es IR.",
        "Dado que el algoritmo X-external GTR-1 es IR y aplica el esquema de pago de valor crítico según el teorema 3.1, para demostrar que el mecanismo X-external producido con el esquema de pago de valor crítico es IC, queda por demostrar que la regla de asignación de mecanismos producida es bid-montónica.",
        "Dado que GTR-1 ordena los conjuntos de adquisición según el valor creciente, si el jugador i aumenta su oferta de bi a bi > bi, entonces para cualquier función de división D de conjuntos de adquisición, el conjunto de adquisición s que contiene a i siempre aparece más tarde con la oferta bi que con la oferta bi.",
        "Por lo tanto, la probabilidad de competencia solo puede aumentar si i aparece en conjuntos de adquisiciones posteriores.",
        "Esto se traduce en que GTR-1 puede reducir más de los conjuntos de adquisiciones de menor valor, lo que resultará en más jugadores no comerciales.",
        "Por lo tanto, si s tiene la competencia requerida y no se reduce con bi, entonces tendrá la competencia requerida con bi y no se reducirá.",
        "Finalmente demostramos BB: Lema 3.3.",
        "Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo BB.",
        "Prueba.",
        "Para demostrar que el mecanismo producido es BB, mostramos que cada conjunto de adquisiciones que no está reducido tiene un presupuesto positivo (es decir, la suma de los pagos es positiva).",
        "Sea s ∈ S un conjunto de adquisiciones que no está reducido.",
        "Si i ∈ s ∩ X, entonces según la definición de la definición externa de X 2.7 y el algoritmo GTR-1 3.1, i tiene una competencia externa.",
        "Supongamos sin pérdida de generalidad que i es el único jugador con competencia externa en s y que todos los demás jugadores j = i, j ∈ s tienen competencia interna.",
        "Sea A la asignación después de la reducción de los conjuntos de adquisición por el algoritmo GTR-1.",
        "Según la definición de competencia externa 2.5, existe un conjunto Ei(A, s) ⊂ N \\A tal que i ∪ Ei(A, s) ∈ S y W(i ∪ Ei(A, s)) ≥ 0.",
        "Dado que W(i∪Ei(A, s)) = vi +W(Ei(A, s)), entonces vi ≥ −W(Ei(A, s)).",
        "Según la definición 2.2 del esquema de fijación de precios por valor crítico, esto significa que si el jugador i ofrece menos de −W(Ei(A, s)), no tendrá competencia externa y, por lo tanto, será eliminado del intercambio.",
        "Por lo tanto, pago no menos de min −W(Ei(A, s)).",
        "Dado que todos los demás jugadores j ∈ s tienen competencia interna, su precio crítico no puede ser menor que el valor máximo de su competidor interno (conjunto), es decir, max W(Rj(A, s)).",
        "Si algún jugador j ∈ s ofrece menos que su competidor interno máximo (conjunto), entonces él no estará en s pero su competidor interno máximo (conjunto) sí lo estará.",
        "Dado que un posible Ei(A, s) es ∪j∈sRj(A, s), se puede acotar el valor máximo de su competencia externa W(Ei(A, s)) por la suma de los valores máximos del resto de los jugadores en s 8, dado que el dominio es un dominio de clase de adquisiciones, podemos usar el lema 3.1 24 de competencia interna, es decir, j∈s max W(Rj(A, s)).",
        "Por lo tanto, min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
        "Dado que la función F se define como una constante positiva, obtenemos que W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 y, por lo tanto, s es al menos equilibrado en términos presupuestarios.",
        "Dado que cada conjunto de adquisiciones que no se reduce está al menos equilibrado presupuestariamente, se deduce que el mecanismo externo X producido es BB.",
        "Los dos lemas anteriores producen el siguiente teorema: Teorema 3.2.",
        "Para los dominios de clase de adquisiciones para cualquier X, el mecanismo externo X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR, IC y BB.",
        "Observación 3.2.",
        "La prueba del teorema proporciona límites sobre los pagos que cualquier jugador tiene que hacer al mecanismo.",
        "Los dominios no basados en la clase de adquisiciones. La razón principal por la que GTR-1 funciona para los dominios no basados en la clase de adquisiciones es que la posibilidad de reducción de cada jugador es monótona.",
        "Por la definición de una función de división, si un jugador i ∈ sj aumenta su valor, i solo puede aparecer en un conjunto de adquisiciones sj posterior y, por lo tanto, tiene una mayor probabilidad de tener la competencia deseada.",
        "Por lo tanto, la probabilidad de que i carezca de la competencia necesaria disminuye.",
        "Dado que el dominio es un dominio de clase de adquisiciones, es más probable que todos los demás jugadores t = i, t ∈ sj también tengan competencia, ya que los miembros de su clase siguen apareciendo antes que i y, por lo tanto, la probabilidad de que i sea reducido disminuye.",
        "Dado que, según el teorema 3.1, una condición necesaria y suficiente para que el mecanismo sea CI es la monotonicidad.",
        "GTR-1 es IC para dominios de clase de adquisiciones.",
        "Sin embargo, para los dominios que no son de la clase de adquisiciones, esto no es suficiente incluso si el dominio es un dominio basado en clases.",
        "Aunque todos los miembros de sj siguen teniendo la competencia requerida, es posible que haya miembros de sj que no tengan análogos en sj que no tengan competencia.",
        "Por lo tanto, podría reducirse después de aumentar su valor, lo que significa, según el lema 3.1, que el mecanismo no es IC.",
        "Por lo tanto, definimos un algoritmo diferente para los dominios que no pertenecen a la clase de adquisiciones.",
        "Nuestro algoritmo modificado requiere una función de división especial para mantener la propiedad de IC.",
        "Aunque nuestra restricción a esta función de división especial parezca estricta, la función de división que utilizamos es una generalización de la forma en que se eligen los conjuntos de adquisiciones en dominios basados en clases de adquisiciones, por ejemplo, [13, 16, 9, 3, 2, 4].",
        "Para facilitar la presentación en esta sección, asumimos que F = 0.",
        "La función de división para dominios generales se define al observar todas las posibles funciones de división.",
        "Para cada función de división Di y cada conjunto de ofertas, el algoritmo GTR-1 produce un bienestar que es una función de las ofertas y la función de división.",
        "Denotamos por D0 la función de división que divide a los jugadores en conjuntos de manera que el bienestar que encuentra GTR-1 sea máximo. Cabe destacar que para cualquier Di en particular, esto podría no ser IC, ya que GTR-1 es IC solo para dominios de clase de adquisición y no para dominios generales. En el Apéndice A mostramos cómo calcular D0 en polinómico. Formalmente, sea D el conjunto de todas las funciones de división D. Denotemos el bienestar logrado por el mecanismo producido por GTR1 al usar la función de división D y un conjunto de ofertas ¯b como GTR1(D, ¯b).",
        "Denote por D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
        "Para facilitar la presentación, denotamos D0(¯b) como D0 cuando la dependencia de b es clara en el contexto.",
        "Observación 4.1.",
        "D0 es un elemento del conjunto de funciones divisorias, y por lo tanto es una función divisoria.",
        "El segundo algoritmo de reducción de comercio generalizado GTR-2 sigue.",
        "Definición 4.1.",
        "El algoritmo GTR-2 - Dado el mecanismo M, la asignación A y un conjunto X ⊂ N cerrado bajo reemplazo, GTR-2 opera de la siguiente manera: 1.",
        "Calcula la función de división D0 como se define arriba. 2.",
        "Utilice la función de división D0 para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 3.",
        "Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor, haz lo siguiente: Si para i ∈ sj ∩ X hay una competencia externa y hay a lo sumo un i ∈ sj que no tiene competencia interna, entonces conserva sj.",
        "De lo contrario, reduzca el intercambio sj. 4.",
        "Todos los jugadores comerciantes son cobrados el valor crítico por comerciar.",
        "Todos los jugadores no comerciales no pagan nada. Demostraremos que el mecanismo producido por GTR-2 mantiene las propiedades deseadas de IR, IC y BB.",
        "El siguiente lema muestra que el mecanismo producido por GTR-2 es IR y IC.",
        "Lema 4.1.",
        "Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR e IC.",
        "Prueba.",
        "Según el teorema 3.1, basta con demostrar que el mecanismo producido por el algoritmo GTR-2 es bidmonótono para cada jugador i.",
        "Supongamos que no fui reducido al ofertar bi, necesitamos demostrar que no seré reducido al ofertar bi > bi.",
        "Denote por D1 = D0(b) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i.",
        "Denote por D1 = D0(bi, b−i) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i.",
        "Denote por ¯D1(b) una función divisoria máxima que resulta en GTR-1 reduciendo i al informar bi.",
        "Supongamos, por el contrario, que GTR-2 redujo i del intercambio cuando i informó bi, entonces GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
        "Dado que D1 ∈ D, se sigue que GTR1(D1, b) > GTR1( ¯D1, b) y por lo tanto GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
        "Sin embargo, según la definición D1 ∈ D, GTR-2 no debería haber reducido el tiempo mínimo de adquisición para los dominios de clase de aprovisionamiento.",
        "Calcular D0 en tiempo polinómico para dominios generales es un problema abierto importante. En la versión completa de GTR-2 se extiende de tal manera que basta con que exista algún momento en el cual se cumpla el tercer paso.",
        "Esa extensión se omitió de la versión actual debido a la falta de espacio. 25 con la función de división D1 y obtuvo un mayor bienestar que GTR1(D1, b).",
        "Por lo tanto, surge una contradicción y GTR-2 no reduce i del intercambio cuando i informa que bi > bi.",
        "Lema 4.2.",
        "Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo BB.",
        "Prueba.",
        "Esta prueba es similar a la prueba del lema 3.3.",
        "Combinando los dos lemas anteriores obtenemos: Teorema 4.1.",
        "Para cualquier X cerrado bajo reemplazo, el mecanismo externo de X con el esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR, IC y BB.",
        "El Apéndice A muestra cómo calcular D0 para dominios de clase de adquisiciones en tiempo polinómico, no se sabe generalmente cómo calcular D0 fácilmente.",
        "Crear un método general para calcular la función de división necesaria en tiempo polinómico sigue siendo una pregunta abierta. 4.1 Limitando el Bienestar para Dominios Basados en Clases de Adquisición y otros Casos de Dominios Generales. Esta sección muestra que, además de producir un mecanismo con las propiedades deseadas, GTR-2 también produce un mecanismo que mantiene un alto bienestar.",
        "Dado que el algoritmo GTR-2 encuentra un mecanismo equilibrado en presupuesto en dominios arbitrarios, no podemos acotar el bienestar para casos generales.",
        "Sin embargo, podemos acotar el bienestar para el dominio basado en la clase de adquisiciones y una amplia variedad de casos en dominios generales que incluyen muchos casos previamente estudiados.",
        "Definición 4.2.",
        "Denote freqk([i], sj) para indicar que una clase [i] aparece en un conjunto de adquisiciones sj, k veces y hay k miembros de [i] en sj.",
        "Definición 4.3.",
        "Denote por freqk([i], S) el máximo k tal que hay k miembros de [i] en sj.",
        "Es decir, freqk([i], S) = maxsj ∈S freqk([i], sj).",
        "Deje que el conjunto de clases de equivalencia en el mecanismo de dominio basado en la clase de adquisiciones sea ec y |ec| sea el número de esas clases de equivalencia.",
        "Usando la definición de frecuencia de apariencia de clase, podemos acotar el bienestar logrado por el mecanismo producido por GTR-2 para los dominios de clase de adquisición: Lema 4.3.",
        "Para los dominios de clase de adquisiciones con F = 0, el número de conjuntos de adquisiciones que se reducen por GTR-213 es a lo sumo |ec| veces la frecuencia máxima de cada clase.",
        "Formalmente, el número máximo de conjuntos de adquisición que se reduce es O( [i]∈ec freqk([i], S)) Demostración.",
        "Sea D una función de división arbitraria.",
        "Observamos que, por definición, cualquier conjunto de adquisiciones sj no se reducirá si cada i ∈ sj tiene tanto competencia interna como competencia externa. El bienestar logrado por GTR-1 también puede estar acotado para los casos presentados en esta sección.",
        "Sin embargo, nos enfocamos en GTR-2 ya que siempre logra un mejor bienestar. 13 o GTR-1 Cada conjunto de adquisiciones s que se reduce tiene al menos un jugador i que no tiene competencia.",
        "Una vez que s se reduce, todos los jugadores de [i] tienen competencia interna.",
        "Así, al reducir el número de clases de equivalencia |ec| de conjuntos de adquisiciones, cubrimos a todos los jugadores restantes con competencia interna.",
        "Si la frecuencia máxima de cada clase de equivalencia fuera uno, entonces cada jugador restante t en el conjunto de adquisiciones sk también tendría competencia externa, ya que todos los competidores internos de los jugadores ¯t = t, ¯t ∈ sk son competencia externa para t. Si tenemos freqk([t], S) jugadores de la clase [t] que fueron reducidos, entonces hay suficiente competencia externa para todos los jugadores en sk.",
        "Por lo tanto, basta con reducir los conjuntos de adquisición O( [i]∈ec freqk([i], S)) para garantizar que exista tanto la competencia interna como externa necesaria.",
        "El siguiente teorema se deduce como un corolario inmediato del lema 4.3: Teorema 4.2.",
        "Dado mecanismos de dominio basados en clases de adquisición con H conjuntos de adquisición, la eficiencia es al menos una fracción de 1 − O( O( [i]∈ec freqk([i],S)) H ) del bienestar óptimo.",
        "Los siguientes corolarios son resultados directos del teorema 4.2.",
        "Todos estos corolarios mejoran resultados anteriores o logran el mismo bienestar que los resultados anteriores.",
        "Corolario 4.1.",
        "Para utilizar GTR-2 en subastas homogéneas de doble cara (problema B.1), se debe reducir como máximo un conjunto de adquisición de 14.",
        "De manera similar, para mercados distribuidos espacialmente sin bordes estratégicos (problema B.3), el uso de GTR-2 mejora el resultado de [3] donde se reduce un ciclo mínimo que incluye a un comprador y un vendedor.",
        "Corolario 4.2.",
        "Usar GTR-2 para mercados distribuidos espacialmente sin bordes estratégicos reducirá a lo sumo un ciclo por componente conectado.",
        "Para las cadenas de suministro (problema B.5) el uso de GTR-2 mejora el resultado de [2, 4] de manera similar al corolario 4.2.",
        "Corolario 4.3.",
        "Usando GTR-2 para cadenas de suministro, se reducirá a lo sumo un ciclo por componente conectado.",
        "El siguiente corolario resuelve el problema abierto en [3].",
        "Corolario 4.4.",
        "Para mercados distribuidos en n nodos con agentes estratégicos y caminos de longitud acotada K (problema B.6) basta con eliminar como máximo K * n conjuntos de adquisiciones.",
        "Prueba.",
        "Bosque de expansión: Estos crearán al menos K árboles de expansión, por lo tanto, podemos cubrir de manera disjunta cada conjunto de adquisiciones restante.",
        "Esto mejora el algoritmo ingenuo de reducir conjuntos de adquisición n2.",
        "Proporcionamos resultados para dos casos especiales de subastas de doble cara con jugadores de valor único (problema B.8). Es posible que no se realicen reducciones, por ejemplo, cuando hay un jugador no comercial que es la competencia externa requerida. Al igual que en las subastas de doble cara, a veces habrá suficiente competencia sin una reducción. Corolario 4.5. si hay como máximo M tipos diferentes de conjuntos de adquisición, basta con eliminar M conjuntos de adquisición.",
        "Corolario 4.6.",
        "Si hay K tipos de bienes y cada conjunto de adquisición consiste en a lo sumo uno de cada tipo, basta con eliminar a lo sumo K conjuntos de adquisición.",
        "CONCLUSIONES Y TRABAJOS FUTUROS En este artículo presentamos un procedimiento de solución general llamado Reducción Comercial Generalizada (GTR).",
        "GTR acepta un mecanismo de IR e IC como entrada y produce mecanismos que son IR, IC y BB como salida.",
        "Los mecanismos de salida logran un bienestar que se acerca a lo óptimo para una amplia gama de dominios.",
        "El procedimiento GTR mejora los resultados existentes como subastas homogéneas de doble cara, mercados distribuidos y cadenas de suministro, y resuelve varios problemas abiertos como mercados distribuidos con aristas de transporte estratégicas y caminos acotados, subastas de doble cara combinatorias con conjuntos de adquisiciones de tamaño acotado, y subastas de doble cara combinatorias con un número acotado de conjuntos de adquisiciones.",
        "La cuestión de la calidad de la aproximación del bienestar tanto en general como en dominios de clase que no son dominios de clase de adquisición es una pregunta abierta importante e interesante.",
        "También dejamos abierta la pregunta de los límites superiores para la calidad de la aproximación del bienestar.",
        "Aunque sabemos que es imposible tener IR, IC y BB en un mecanismo eficiente, sería interesante tener un límite superior en la aproximación al bienestar alcanzable en un mecanismo IR, IC y BB.",
        "El procedimiento GTR produce un mecanismo que depende de un conjunto X ⊂ N. Otra pregunta interesante es cuál es la calidad de la aproximación cuando X se elige al azar de N antes de que se declaren las valoraciones.",
        "Agradecimientos Los autores desean agradecer a Eva Tardos y colaboradores por compartir sus resultados con nosotros.",
        "Los autores también desean expresar su gratitud por los comentarios útiles de los revisores anónimos. ",
        "REFERENCIAS [1] A. Archer y E. Tardos.",
        "Mecanismos de camino frugal.",
        "Simposio sobre Algoritmos Discretos, Actas del decimotercer simposio anual de algoritmos discretos ACM-SIAM, 2002. [2] M. Babaioff y N. Nisan.",
        "Subastas simultáneas en toda la cadena de suministro.",
        "Revista de Investigación en Inteligencia Artificial, 2004. [3] Babaioff M., Nisan N. y Pavlov E. Mecanismos para un Mercado Distribuido Espacialmente.",
        "En actas de la 5ta Conferencia ACM sobre Comercio Electrónico, 2004. [4] M. Babaioff y W. E. Walsh.",
        "Subastas Incentivo-Compatible, Equilibradas en Presupuesto, pero Altamente Eficientes para la Formación de Cadenas de Suministro.",
        "En actas de la Cuarta Conferencia ACM sobre Comercio Electrónico, 2003. [5] Y. Bartal, R. Gonen y P. La Mura.",
        "Mecanismos de rango de negociación: explorando los límites de los mercados eficientes y veraces.",
        "EC 04: Actas de la 5ta conferencia de ACM sobre comercio electrónico, 2004. [6] Blume L, Easley D., Kleinberg J. y Tardos E. Redes de intercambio con agentes que fijan precios.",
        "En actas de la 8ª conferencia de la ACM sobre comercio electrónico, 2007. [7] Cavallo R. Toma de decisiones óptima con desperdicio mínimo: redistribución estratégicamente segura de pagos VCG.",
        "En Proc. 5th Int.",
        "Conf. sobre Autonomía.",
        "Agentes y Sistemas Multiagente (AAMAS06). [8] E. H. Clarke Fijación de precios múltiples de bienes públicos.",
        "En la revista Public Choice de 1971, vol. 2, pp. 17-33. [9] Chu L. Y. y Shen Zuo-Jun M. Mecanismo de Subasta Doble de Competencia de Agentes.",
        "Ciencia de la Gestión, vol. 52(8), 2006. [10] T. Groves Incentivos en equipos.",
        "En la revista Econometrica de 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan y Y. Shoham.",
        "Revelación de la verdad en subastas combinatorias aproximadamente eficientes.",
        "En Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Obtención de preferencias honestas para la asignación de individuos a posiciones.",
        "Revista de economía política, 1983. [13] McAfee R. P. Una subasta doble de estrategia dominante.",
        "Revista de Teoría Económica, vol. 56, 434-450, 1992. [14] A. Mualem y N. Nisan.",
        "Mecanismos de Aproximación Veraz para Subastas Combinatorias Restringidas.",
        "Actas de AAAI 2002. [15] Myerson R. B. y Satterthwaite M. A.",
        "Mecanismos eficientes para el comercio bilateral.",
        "Revista de Teoría Económica, vol. 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. y Zhang R. Q.",
        "Mecanismos de subasta eficientes para la adquisición de la cadena de suministro.",
        "Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, 2001. [17] W. Vickrey Contrapronóstico, Subastas y Licitaciones Competitivas Selladas.",
        "En Journal of Finance 1961, vol. 16, pp. 8-37.",
        "APÉNDICE A.",
        "CALCULANDO LA FUNCIÓN DE DIVISIÓN ÓPTIMA EN DOMINIOS DE CLASE DE ADQUISICIÓN EN TIEMPO POLINÓMICO En esta sección mostramos cómo calcular la función de división óptima para dominios de clase de adquisición en tiempo polinómico.",
        "Primero definimos una función de división especial D0 que es fácil de calcular: Definimos la función de división D0 de forma recursiva de la siguiente manera: En la etapa j, D0 divide a los jugadores comerciales en dos conjuntos Aj y Aj de manera que: • Aj es un conjunto de adquisiciones • Aj puede dividirse en una unión disjunta de conjuntos de adquisiciones. • Aj tiene un valor mínimo de todas las particiones posibles.",
        "Define sj = Aj y llame recursivamente a D0 y Aj hasta que Aj = ∅.",
        "Ahora demostramos que D0 es la función de división requerida.",
        "Lema A.1.",
        "Para los dominios de clase de adquisiciones D0 = D0.",
        "Prueba.",
        "Dado que el dominio es un dominio de clase de adquisiciones, para cada conjunto de adquisiciones reducido, el conjunto de jugadores que logran la competencia (ya sea interna o externa) está fijo. Por lo tanto, el número de conjuntos de adquisiciones que se reducen es independiente de la función de división D. Dado que el objetivo es optimizar el bienestar reduciendo los conjuntos de adquisiciones con el menor valor, podemos optimizar el bienestar.",
        "Esto se logra mediante D0.",
        "I'm sorry, but you did not provide a sentence to translate. Please provide the sentence you would like me to translate to Spanish.",
        "PROBLEMAS Y EJEMPLOS Para completitud, presentamos en esta sección las definiciones formales de los problemas que utilizamos para ilustrar nuestro mecanismo.",
        "El primer problema que definimos es la subasta de doble cara con bienes homogéneos.",
        "Problema B.1.",
        "Subasta de doble cara con bienes homogéneos: Hay m vendedores, cada uno con un solo bien (todos los bienes son idénticos) y n compradores, cada uno interesado en recibir un bien.",
        "Denotamos el conjunto de vendedores como S y el conjunto de compradores como B.",
        "Cada jugador i ∈ S ∪ B (tanto compradores como vendedores) tiene un valor vi por el bien.",
        "En este modelo, un conjunto de adquisiciones consiste en un único comprador y un único vendedor, es decir, |s| = 2.",
        "El valor de un conjunto de adquisiciones es W(s) = vj − vi donde j ∈ B e i ∈ S, es decir, la ganancia del intercambio.",
        "Si los conjuntos de adquisiciones se crean emparejando al comprador de mayor valor con el vendedor de menor valor, entonces el mecanismo de reducción de intercambio determinístico [13] reduce el conjunto de adquisiciones de menor valor.",
        "Un modelo relacionado es el modelo de costos relacionados en pares [9].",
        "Problema B.2.",
        "Los costos relacionados en pares: una subasta de doble cara B.1 en la que cada par de jugadores i ∈ S y j ∈ B tiene un costo relacionado F(i, j) ≥ 0 para poder comerciar.",
        "F(i, j) es un costo de fricción que debe minimizarse para maximizar el bienestar. [9] define dos mecanismos equilibrados presupuestariamente para este caso.",
        "Uno de los mecanismos de [9] tiene el conjunto de compradores B como el conjunto X para el mecanismo X-externo y el otro tiene el conjunto de vendedores S como el conjunto X para el mecanismo X-externo.",
        "Un modelo similar es el modelo de mercados distribuidos espacialmente (SDM) [3] en el que hay un grafo que impone relaciones en el costo.",
        "Problema B.3.",
        "Mercados distribuidos espacialmente: existe un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv.",
        "Cada arista e ∈ E tiene asociado un costo que es el costo de transportar una sola unidad de mercancía a lo largo de la arista.",
        "Los bordes no son estratégicos, pero todos los jugadores son estratégicos. [3] define un mecanismo equilibrado en presupuesto para este caso.",
        "Nuestro artículo mejora el resultado de [3].",
        "Otro modelo de gráfica es el modelo definido en [6].",
        "Problema B.4.",
        "Redes de intercambio: Dado un grafo y compradores y vendedores que se encuentran en los nodos del grafo.",
        "Todo comercio debe pasar a través de un comerciante.",
        "En este caso, los conjuntos de adquisiciones tienen la forma (comprador, vendedor, comerciante) donde los posibles conjuntos de esta forma están definidos por un gráfico.",
        "El modelo de cadena de suministro [2, 4] puede ser visto como una generalización de [6] en la que los conjuntos de adquisición consisten en la forma (productor, consumidor, comerciante1, . . . , comerciantek). También es posible aleatorizar la reducción de los conjuntos de adquisición para lograr un presupuesto esperado de cero similar a [13], los detalles son obvios y se omiten.",
        "Problema B.5.",
        "Cadena de suministro: Hay un conjunto D de agentes y un conjunto G de bienes y un grafo G = (V, E) que define posibles relaciones comerciales.",
        "Los agentes pueden requerir una entrada de múltiples cantidades de bienes para producir un solo bien.",
        "El jugador tipo productor puede producir bienes de la nada, el consumidor tiene una valoración y es necesaria toda una cadena de intermediarios para crear un conjunto de adquisiciones viable. [2, 4] consideran una tecnología de fabricación única en la que el grafo que define las posibles relaciones es un árbol.",
        "Todos los problemas anteriores son dominios de clase de adquisiciones.",
        "También consideramos varios problemas que no son dominios de la clase de adquisiciones y, en general, las cuestiones de equilibrio presupuestario se han dejado como problemas abiertos.",
        "Un problema abierto planteado en [3] es el modelo SDM en el que los bordes son estratégicos.",
        "Problema B.6.",
        "Mercados distribuidos espacialmente con bordes estratégicos: hay un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv.",
        "Cada arista e ∈ E tiene un costo asociado que es el costo de transportar una sola unidad de mercancía a lo largo de la arista.",
        "Cada comprador, vendedor y intermediario tiene un valor para el intercambio, es decir, todas las entidades son estratégicas. [2, 4] dejó abierta la cuestión de los mecanismos equilibrados en presupuesto para cadenas de suministro donde no hay una tecnología de fabricación única.",
        "Es fácil ver que este problema no pertenece al ámbito de la clase de adquisiciones.",
        "Otro problema interesante son las redes de transporte.",
        "Problema B.7.",
        "Redes de transporte: Un grafo G = (V, E) donde las aristas son jugadores estratégicos con costos y el objetivo es encontrar una ruta de transporte de costo mínimo entre un par de nodos privilegiados Fuente y Objetivo ∈ V.",
        "Se demostró en [1] que la asignación eficiente puede tener un déficit presupuestario que es lineal en el número de jugadores.",
        "Claramente, este problema no es un dominio de clase de adquisiciones y dejó abierta la pregunta de un mecanismo de presupuesto equilibrado.",
        "Otro mecanismo de dominio no basado en la clase de adquisiciones es la subasta combinatoria de doble cara (CA) con jugadores de valor único.",
        "Problema B.8.",
        "Subasta combinatoria de doble cara (CA) con jugadores de valor único: Existe un conjunto S de vendedores, cada uno vendiendo un solo bien.",
        "También existe un conjunto B de compradores, cada uno interesado en paquetes de 2S18.",
        "Hay dos variantes de este problema.",
        "En el caso de un comprador enfocado, cada comprador tiene un valor positivo para un solo subconjunto, mientras que en el caso de múltiples intereses, cada comprador puede tener varios paquetes con valoración positiva, pero todos los valores son iguales.",
        "En ambos casos asumimos disponibilidad gratuita para que todos los paquetes que contienen el paquete deseado tengan el mismo valor para el comprador.",
        "También consideramos problemas que no pertenecen a dominios de clase.",
        "Problema B.9.",
        "Subasta combinatoria de doble cara (CA) con jugadores generales multi-mentales: igual que B.8 pero cada comprador puede tener múltiples paquetes con valoración positiva que no necesariamente son iguales. Abusamos de la notación e identificamos al vendedor con el bien. Comparando diferentes opciones de X, la elección de X puede tener un gran impacto en el bienestar (y los ingresos) del mecanismo reducido y, por lo tanto, surge la pregunta de cómo se debería elegir el conjunto X.",
        "Dado que se requiere el mecanismo X-externo para mantener la CI claramente, la elección de X no puede depender del valor de los jugadores, de lo contrario el mecanismo reducido no será veraz.",
        "En esta sección motivamos la elección de conjuntos X pequeños para dominios de clase de adquisiciones y damos intuición de que también podría ser el caso para algunos otros dominios.",
        "Comenzamos ilustrando el efecto del conjunto X sobre el bienestar y los ingresos en la subasta de doble cara con el problema de bienes homogéneos B.1.",
        "Se pueden construir ejemplos similares para los otros problemas definidos en B.",
        "El siguiente ejemplo muestra un efecto en el bienestar.",
        "Ejemplo C.1.",
        "Hay dos compradores y dos vendedores y dos conjuntos no intersectantes (incomparables) X = {compradores} e Y = {vendedores}.",
        "Si los valores de los compradores son 101, 100 y los vendedores son 150, 1, entonces el mecanismo externo X generará una ganancia del comercio de 0 y el mecanismo externo Y generará una ganancia del comercio de 100.",
        "Por el contrario, si los valores de los compradores son 100, 1 y los de los vendedores son 2, 3, el mecanismo externo X generará una ganancia comercial de 98 y el mecanismo externo Y generará una ganancia comercial de cero.",
        "El ejemplo muestra claramente que la diferencia entre el mecanismo X-externo y el mecanismo Y-externo es ilimitada, aunque como se muestra arriba, la fracción que cada uno de ellos reduce puede ser limitada y, por lo tanto, la proporción multiplicativa entre ellos puede ser limitada (como función del número de operaciones).",
        "En el lado de los ingresos ni siquiera podemos establecer un límite para la proporción, como se ve en el siguiente ejemplo: Ejemplo C.2.",
        "Considera k compradores con un valor de 100 y k+1 vendedores con un valor de 1.",
        "Si X = {compradores} entonces no es necesario reducir ningún intercambio y todos los compradores reciben el bien y pagan 1. k + 1 de los vendedores venden y cada uno recibe 1.",
        "Esto produce un ingreso neto de cero.",
        "Si Y = {vendedores} entonces se debe reducir un intercambio.",
        "Esto significa que todos los compradores pagan 100 mientras que todos los vendedores siguen recibiendo 1. La ganancia total es entonces de 99k.",
        "Del mismo modo, se puede construir un ejemplo que genere ingresos mucho más altos para el mecanismo externo X en comparación con el mecanismo externo Y.",
        "Los ejemplos anteriores se refieren a los conjuntos X e Y, los cuales no se intersectan y son incomparables.",
        "El siguiente teorema compara los mecanismos externos-X y externos-Y para dominios de clase de adquisiciones donde X es un subconjunto de Y.",
        "Teorema C.1.",
        "Para los dominios de clase de adquisiciones, si X ⊂ Y y para cualquier s ∈ S, s ∩ X ∩ Y = ∅ entonces: 1.",
        "La eficiencia del mecanismo externo X en GTR-1 (y por lo tanto GTR-2) es al menos igual a la del mecanismo externo Y.",
        "Cualquier jugador ganador que gane tanto en los mecanismos X-externo como en el Y-externo no paga menos en el Y-externo que en el X-externo y, por lo tanto, la proporción de presupuesto a bienestar no es peor en el Y-externo que en el X-externo.",
        "Prueba. 1.",
        "Para cualquier función de división D, si hay un conjunto de adquisición sj que se reduce en el mecanismo externo X, hay dos posibles razones: (a) sj carece de competencia externa en el mecanismo externo X.",
        "En este caso, sj carece de competencia externa en el mecanismo interno. (b) sj tiene todas las competencias externas requeridas en X-externo.",
        "En este caso, sj tiene todas las competencias internas requeridas en Y -externas según el lema 3.1, pero podría carecer de algunas competencias externas para sj ∪ {Y \\ X} y verse reducido, 2.",
        "Esto se deduce del hecho de que para cualquier orden D, cualquier conjunto de adquisiciones s que se reduce en el mecanismo externo X también se reduce en el mecanismo externo Y.",
        "Por lo tanto, el valor crítico no es menor en el mecanismo Yexterno que en el mecanismo Xexterno.",
        "Observación C.1.",
        "Para cualquier par de conjuntos X, Y, es fácil construir un ejemplo en el que los mecanismos externos de X y Y reduzcan los mismos conjuntos de adquisición, por lo que la desigualdad es débil.",
        "El Teorema C.1 muestra una desigualdad en el bienestar, así como en los pagos, pero es fácil construir un ejemplo en el que los ingresos pueden aumentar para X en comparación con Y, así como lo contrario.",
        "Esto sugiere que en general queremos que X sea lo más pequeño posible, aunque en algunos dominios no es posible comparar diferentes X."
    ],
    "error_count": 1,
    "keys": {
        "trade reduction": {
            "translated_key": "reducción de comercio",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized <br>trade reduction</br> Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized <br>trade reduction</br> (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized <br>trade reduction</br> (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no <br>trade reduction</br> at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized <br>trade reduction</br> algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized <br>trade reduction</br> algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized <br>trade reduction</br> algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized <br>trade reduction</br> algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a <br>trade reduction</br>.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized <br>trade reduction</br> algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized <br>trade reduction</br> algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized <br>trade reduction</br> (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic <br>trade reduction</br> mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [
                "Generalized <br>trade reduction</br> Mechanisms Mira Gonen Electrical Engineering Dept.",
                "In this paper we provide a procedure called a Generalized <br>trade reduction</br> (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "The solution procedure called the Generalized <br>trade reduction</br> (GTR).",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no <br>trade reduction</br> at all.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized <br>trade reduction</br> algorithms."
            ],
            "translated_annotated_samples": [
                "Mecanismos Generalizados de <br>Reducción del Comercio</br>, Mira Gonen, Departamento de Ingeniería Eléctrica.",
                "En este documento proporcionamos un procedimiento llamado <br>Reducción Comercial Generalizada</br> (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar.",
                "El procedimiento de solución llamado <br>Reducción Comercial Generalizada</br> (GTR).",
                "Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto.",
                "Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de <br>reducción de comercio</br>."
            ],
            "translated_text": "Mecanismos Generalizados de <br>Reducción del Comercio</br>, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado <br>Reducción Comercial Generalizada</br> (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado <br>Reducción Comercial Generalizada</br> (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro. Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB. Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio. Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas. Definimos dominios basados en clase y dominios basados en clase de adquisiciones. Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado competencia interna y externa. La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2. PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB. Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de intercambio. Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0. Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0. El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi. El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn. Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i. Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Que el tamaño de un conjunto de adquisiciones s se denote como |s|. Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición. El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s). Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s). En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi. Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A. Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La eficiencia de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo. Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor. Un mecanismo M define unas reglas de asignación y pago, M = (R, P). Una regla de pago P decide el pago pi donde P es una función P: V → RN. Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores. Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10]. El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad. El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores. M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa. Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0. Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados. Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de <br>reducción de comercio</br>. ",
            "candidates": [],
            "error": [
                [
                    "Reducción del Comercio",
                    "Reducción Comercial Generalizada",
                    "Reducción Comercial Generalizada",
                    "reducción de comercio"
                ]
            ]
        },
        "budget balance": {
            "translated_key": "equilibrio presupuestario",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and <br>budget balance</br> (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and <br>budget balance</br> (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve <br>budget balance</br>.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve <br>budget balance</br> in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of <br>budget balance</br> have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and <br>budget balance</br> (BB).",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and <br>budget balance</br> (BB) - not to run the mechanism on a loss.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve <br>budget balance</br>.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve <br>budget balance</br> in an IR and IC distributed market where the transportation edges are strategic.",
                "We also consider several problems which are not procurement class domains and generally the questions of <br>budget balance</br> have been left as open problems."
            ],
            "translated_annotated_samples": [
                "Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el <br>equilibrio presupuestario</br> (BB).",
                "Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el <br>equilibrio presupuestario</br> (EP) - para no operar el mecanismo con pérdidas.",
                "Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el <br>equilibrio presupuestario</br>.",
                "Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el <br>equilibrio presupuestario</br> en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos?",
                "También consideramos varios problemas que no son dominios de la clase de adquisiciones y, en general, las cuestiones de <br>equilibrio presupuestario</br> se han dejado como problemas abiertos."
            ],
            "translated_text": "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el <br>equilibrio presupuestario</br> (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado Reducción Comercial Generalizada (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el <br>equilibrio presupuestario</br> (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el <br>equilibrio presupuestario</br>. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el <br>equilibrio presupuestario</br> en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro. Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB. Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio. Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas. Definimos dominios basados en clase y dominios basados en clase de adquisiciones. Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado competencia interna y externa. La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2. PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB. Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de intercambio. Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0. Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0. El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi. El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn. Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i. Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Que el tamaño de un conjunto de adquisiciones s se denote como |s|. Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición. El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s). Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s). En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi. Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A. Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La eficiencia de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo. Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor. Un mecanismo M define unas reglas de asignación y pago, M = (R, P). Una regla de pago P decide el pago pi donde P es una función P: V → RN. Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores. Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10]. El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad. El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores. M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa. Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0. Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados. Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio. Los dos algoritmos son tales que, dado un mecanismo IR e IC M que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte a M en un mecanismo IR, IC y BB. El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplen las condiciones correctas y el mecanismo M se convierte en uno de tipo BB. Las condiciones adecuadas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado. Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando. Definición 2.3. Para cualquier jugador i ∈ N, decimos que el conjunto Ri ⊆ N \\ {i} es un conjunto de reemplazo de i, si para cualquier conjunto de adquisición s ∈ S tal que i ∈ s y Ri∩s = ∅, s\\{i}∪Ri ∈ S. Por ejemplo, en una subasta (homogénea) de doble cara (ver problema B.1), el conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador. En una subasta de espacios de transporte (ver problema B.7), el conjunto de reemplazo de un borde es un camino entre los extremos del borde. Ten en cuenta que un conjunto puede reemplazar a un solo jugador. Además, esta relación es transitiva pero no necesariamente simétrica. Si i es un conjunto de reemplazo para j, no necesariamente es cierto que j sea un conjunto de reemplazo para i. Definición 2.4. Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una competencia interna para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i. T = s \\ {i} ∪ Ri(A, s) ∈ S y W(T) ≥ 0. Definición 2.5. Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una competencia externa para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0. Supondremos, sin pérdida de generalidad, que no hay empates entre los valores de ninguna asignación, y en particular no hay empates entre los valores de los conjuntos de adquisiciones. En caso de empate, este puede romperse utilizando las identidades de los jugadores. Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con competencia externa Ei(A, s), existe exactamente un conjunto que representa la competencia externa de mayor valor. Definición 2.6. Un conjunto X ⊂ N es cerrado bajo reemplazo si ∀i ∈ X entonces Ri ⊂ X. Lo siguiente define la competencia requerida necesaria para mantener IC, IR y BB. El conjunto X5 denota esta competencia y está cerrado bajo reemplazo. En el resto del documento asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo. Definición 2.7. Sea X ⊂ N un conjunto que está cerrado bajo reemplazo, decimos que el mecanismo es un mecanismo X-externo, si 1. Cada jugador i ∈ X tiene una competencia externa. 2. Cada jugador i /∈ X tiene una competencia interna. 3. Para todos los jugadores i1, . . . , it ∈ s \\ X existen Ri1 (A, s), . . . , Rit (A, s) tales que para cada iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. para cada conjunto de adquisiciones s ∈ S se cumple que s∩X = ∅ Para dominios generales, la elección de X puede ser crucial. De hecho, incluso para el mismo dominio, el bienestar (y los ingresos) pueden variar ampliamente dependiendo de cómo se defina X. En el apéndice C damos un ejemplo donde dos posibles elecciones de X producen resultados muy diferentes. Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la optimalidad de X y este es un importante problema abierto. Nuestros dos algoritmos de reducción de comercio generalizados garantizarán que para cualquier asignación tengamos los tipos deseados de competencia. Dado un mecanismo M que es CI e IR con asignación A, el objetivo de los algoritmos es convertir a M en un mecanismo X-externo. Los dos algoritmos de reducción de comercio generalizados utilizan una función de división D que divide la asignación A en conjuntos de adquisición disjuntos. Los algoritmos ordenan los conjuntos de adquisiciones definidos por D en orden de valor creciente. Para cualquier conjunto de adquisiciones hay un tipo deseado de competencia que depende únicamente de los jugadores que componen el conjunto de adquisiciones. Los algoritmos de reducción de comercio generalizados recorren los conjuntos de adquisiciones en orden (del más pequeño al más grande) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el conjunto. La reducción de los conjuntos de adquisiciones también se conocerá como reducción del comercio. Formalmente, los detalles sobre cómo resolver empates en las asignaciones son estándar y se omiten. Presentamos algunas compensaciones entre los diferentes conjuntos posibles en el Apéndice C. Definición 2.8. D es una función de división si para cualquier asignación A y el vector de valores de los jugadores v, D divide la asignación en conjuntos de adquisiciones disjuntos s1, . . . , sk de manera que ∪sj = A y para cualquier jugador i con valor vi si i ∈ sj1 y t ∈ sj2 tal que j1 ≥ j2 entonces para cualquier valor vi > vi del jugador i y división por D en s1, . . . , sk tal que i ∈ sj1 y t ∈ sj2 entonces j1 > j2. Los dos algoritmos de reducción de comercio generalizados presentados aceptan problemas en diferentes dominios. Las definiciones de dominio formal siguen: Definición 2.9. Un dominio es un dominio de clase si para todo i ∈ N y todos los conjuntos de reemplazo de i, Ri, |Ri| = 1 y para todo i, j, i = j si j = Ri entonces i = Rj. Intuitivamente, esto significa que los conjuntos de reemplazo son de tamaño 1 y la relación de reemplazo es simétrica. Definimos la clase de un jugador i como el conjunto de los conjuntos de reemplazo de los jugadores y denotamos la clase del jugador i por [i]. Es importante tener en cuenta que dado que los conjuntos de reemplazo son relaciones transitivas y dado que los dominios de clase también imponen relaciones simétricas en los conjuntos de reemplazo, la clase de un jugador i, [i] es en realidad una clase de equivalencia para i. Definición 2.10. Un dominio es un dominio de clase de adquisición si el dominio es un dominio basado en clases y si para cualquier jugador i tal que existan dos conjuntos de adquisición s1, s2 (no necesariamente intercambiando simultáneamente en ninguna asignación) tales que i ∈ s1 e i ∈ s2, entonces existe una biyección f: s1 → s2 tal que para cualquier j ∈ s1, f(j) es un conjunto de reemplazo para j en s2. Ejemplo 2.1. Una subasta (homogénea) de doble cara (ver problema B.1) es un dominio basado en la clase de adquisiciones. Para la subasta de doble cara (homogénea), cada conjunto de adquisición consiste en un comprador y un vendedor. La subasta combinatoria de doble cara que consiste en un único comprador con múltiples preferencias y múltiples vendedores de bienes heterogéneos (ver problema B.9), es un dominio basado en clases (ya que tenemos un único comprador) pero no es un dominio basado en clases de adquisiciones. En este caso, el comprador es una clase y cada conjunto de vendedores del mismo bien es una clase. Sin embargo, para un comprador no hay una biyección entre los diferentes conjuntos de adquisición de los paquetes de bienes en los que el comprador está interesado. El mercado distribuido espacialmente con bordes estratégicos (ver problema B.6) no es un dominio basado en clases (y por lo tanto no es un dominio de clase de adquisiciones). Por ejemplo, incluso para un comprador fijo y un vendedor fijo existen dos conjuntos de adquisición diferentes que consisten en diferentes rutas entre los compradores y vendedores. Las siguientes secciones presentan dos algoritmos GTR-1 y GTR-2. El algoritmo GTR-1 acepta problemas en dominios basados en la clase de adquisiciones, sus propiedades se demuestran con una función de división general D. El algoritmo GTR-2 acepta problemas en cualquier dominio. Demostramos las propiedades de GTR-2s con una función de división específica D0. La función será definida en la sección 4. Dado que la función de división puede tener un gran impacto práctico en el bienestar (y los ingresos), la generalidad de GTR − 1 (aunque sea en dominios especiales) puede ser una consideración práctica importante. 3. DOMINIOS BASADOS EN CLASES DE ADQUISICIÓN Esta sección se centra en los problemas que son dominios basados en clases de adquisición. Para este dominio, presentamos un algoritmo llamado GTR-1, que dado un mecanismo que es IR e IC, produce un mecanismo con bienestar reducido que es IR, IC y equilibrado presupuestariamente. Aunque los dominios de clase de adquisición parecen ser un modelo relativamente restringido, de hecho muchos de los dominios estudiados en la literatura son dominios de clase de adquisición. Ejemplo 3.1. Los siguientes dominios son dominios de clase de adquisiciones: • subastas de doble cara con bienes homogéneos [13] (problema B.1). En este dominio hay dos clases. La clase de compradores y la clase de vendedores. Cada conjunto de adquisiciones consta de un único comprador y un único vendedor. Dado que cada par de (comprador, vendedor) es un conjunto de adquisición válido (aunque posiblemente con valor negativo), este es un dominio de clase de adquisición. En este dominio, la constante asignada a los conjuntos de adquisición es F = 0. • Mercados distribuidos espacialmente con bordes no estratégicos [3, 9] (problema B.3). Al igual que las subastas de doble cara con bienes homogéneos, hay dos clases en el dominio. Clase de compradores y clase de vendedores con conjuntos de adquisición que consisten en un comprador y un vendedor. Los vendedores y compradores son nodos en un grafo y la función F es la distancia entre dos nodos (longitud de la arista) que representa los costos de transporte. Estos costos varían entre diferentes pares (comprador, vendedor). • Cadenas de suministro [2, 4] (problema B.5). La suposición de una manufactura única por [2, 4] se puede entender mejor como convertir las cadenas de suministro generales (que no necesariamente deben ser un dominio de clase de adquisiciones) en un dominio de clase de adquisiciones. • Subastas combinatorias de mente única [11] (problema B.8). En este contexto, cada vendedor vende un solo bien y cada comprador desea un conjunto de bienes. Las clases son conjuntos de vendedores que venden el mismo bien, así como los compradores que desean el mismo paquete. Un conjunto de adquisiciones consiste en un único comprador, así como un conjunto de vendedores que pueden satisfacer a ese comprador. Una definición del mecanismo sigue a continuación: Definición 3.1. El algoritmo GTR-1, dado un mecanismo M, un conjunto X ⊂ N que es cerrado bajo reemplazo, una función de división D y una asignación A, opera de la siguiente manera: 1. Utiliza la función de división D para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 2. Ordena los conjuntos de adquisición por valor creciente. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay competencia externa y para cada i ∈ sj \\ X hay competencia interna, entonces se conservan los 23 sj. De lo contrario, reduzca el intercambio sj (es decir, elimine cada i ∈ sj de la asignación). Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. A todos los jugadores no comerciales no se les cobra nada. Observación 3.1. El caso especial donde X = N ha recibido atención bajo diferentes formas en varios casos especiales, como ([13, 3, 4]). 3.1 El GTR-1 produce un mecanismo externo de X que es IR, IC y BB. En esta subsección demostramos que el algoritmo GTR-1 produce un mecanismo externo de X que es IR, IC y BB. Para demostrar las propiedades de GTR-1, hacemos uso del teorema 3.1, el cual es un resultado bien conocido (por ejemplo, [14, 11]). El Teorema 3.1 caracteriza las condiciones necesarias y suficientes para que un mecanismo para jugadores de valor único sea IR e IC: Definición 3.2. Una regla de asignación R es Bid Monotónica si para cualquier jugador i, cualquier oferta de los otros jugadores b−i ∈ V−i, y cualquier par de ofertas posibles de i, ˆbi > bi, si i negocia bajo la regla de asignación R al informar bi, entonces i también negocia al informar ˆbi. Intuitivamente, una regla de asignación monótona de oferta garantiza que ningún jugador comerciante pueda convertirse en un jugador no comerciante al mejorar su oferta. Teorema 3.1. Un mecanismo IR M con regla de asignación R es IC si y solo si R es Bid Monotónico y cada jugador comerciante i paga su valor crítico Ci (pi = Ci). Por lo tanto, para los mecanismos IR7 e IC normalizados, la regla de asignación que es bid monótona define de manera única los valores críticos para todos los jugadores y, por lo tanto, los pagos. Observación 3.1. Sean M1 y M2 dos mecanismos IR e IC con la misma regla de asignación. Entonces M1 y M2 deben tener la misma regla de pago. En lo siguiente demostramos que el algoritmo GTR-1 externo de X produce un mecanismo IR, IC y BB, pero primero se muestra un lema subsidiario. Lema 3.1. Para los dominios de clase de adquisiciones, si existe un conjunto de adquisiciones sj tal que i ∈ sj y i tiene competencia externa, entonces todos los t = i t ∈ sj, t tiene competencia interna. Prueba. Esto se deriva de la definición de los dominios de clase de adquisiciones. Supongamos que i tiene competencia externa, entonces existe un conjunto de jugadores Ei(A, s) tal que {i} ∪ Ei(A, s) ∈ S. Denotemos por sj = {i} ∪ Ei(A, s). Dado que el dominio es un dominio de clase de adquisiciones, existe una función biyectiva f entre sj y sj. f define la competencia interna requerida. Comenzamos demostrando IR e IC: Aunque la definición de un mecanismo externo X requiere que X intersecte cada conjunto de adquisiciones, esto no es estrictamente necesario. Es posible definir un X que no intersecte con cada conjunto de adquisiciones posible. En este caso, cualquier conjunto de adquisiciones s ∈ S tal que s ∩ X = ∅ se reducirá. Nótese que esto no es cierto para mecanismos que no están normalizados, por ejemplo, [7, 12] Lema 3.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR e IC. Prueba. Por la definición de un esquema de precios de valor crítico 2.2 y el algoritmo GTR-1 3.1 se sigue que para cada jugador comercial i, vi ≥ 0. Por el algoritmo GTR-1, 3.1 jugadores no comerciales tienen un pago de cero. Por lo tanto, para cada jugador i, valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que el mecanismo externo X producido es IR. Dado que el algoritmo X-external GTR-1 es IR y aplica el esquema de pago de valor crítico según el teorema 3.1, para demostrar que el mecanismo X-external producido con el esquema de pago de valor crítico es IC, queda por demostrar que la regla de asignación de mecanismos producida es bid-montónica. Dado que GTR-1 ordena los conjuntos de adquisición según el valor creciente, si el jugador i aumenta su oferta de bi a bi > bi, entonces para cualquier función de división D de conjuntos de adquisición, el conjunto de adquisición s que contiene a i siempre aparece más tarde con la oferta bi que con la oferta bi. Por lo tanto, la probabilidad de competencia solo puede aumentar si i aparece en conjuntos de adquisiciones posteriores. Esto se traduce en que GTR-1 puede reducir más de los conjuntos de adquisiciones de menor valor, lo que resultará en más jugadores no comerciales. Por lo tanto, si s tiene la competencia requerida y no se reduce con bi, entonces tendrá la competencia requerida con bi y no se reducirá. Finalmente demostramos BB: Lema 3.3. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo BB. Prueba. Para demostrar que el mecanismo producido es BB, mostramos que cada conjunto de adquisiciones que no está reducido tiene un presupuesto positivo (es decir, la suma de los pagos es positiva). Sea s ∈ S un conjunto de adquisiciones que no está reducido. Si i ∈ s ∩ X, entonces según la definición de la definición externa de X 2.7 y el algoritmo GTR-1 3.1, i tiene una competencia externa. Supongamos sin pérdida de generalidad que i es el único jugador con competencia externa en s y que todos los demás jugadores j = i, j ∈ s tienen competencia interna. Sea A la asignación después de la reducción de los conjuntos de adquisición por el algoritmo GTR-1. Según la definición de competencia externa 2.5, existe un conjunto Ei(A, s) ⊂ N \\A tal que i ∪ Ei(A, s) ∈ S y W(i ∪ Ei(A, s)) ≥ 0. Dado que W(i∪Ei(A, s)) = vi +W(Ei(A, s)), entonces vi ≥ −W(Ei(A, s)). Según la definición 2.2 del esquema de fijación de precios por valor crítico, esto significa que si el jugador i ofrece menos de −W(Ei(A, s)), no tendrá competencia externa y, por lo tanto, será eliminado del intercambio. Por lo tanto, pago no menos de min −W(Ei(A, s)). Dado que todos los demás jugadores j ∈ s tienen competencia interna, su precio crítico no puede ser menor que el valor máximo de su competidor interno (conjunto), es decir, max W(Rj(A, s)). Si algún jugador j ∈ s ofrece menos que su competidor interno máximo (conjunto), entonces él no estará en s pero su competidor interno máximo (conjunto) sí lo estará. Dado que un posible Ei(A, s) es ∪j∈sRj(A, s), se puede acotar el valor máximo de su competencia externa W(Ei(A, s)) por la suma de los valores máximos del resto de los jugadores en s 8, dado que el dominio es un dominio de clase de adquisiciones, podemos usar el lema 3.1 24 de competencia interna, es decir, j∈s max W(Rj(A, s)). Por lo tanto, min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))). Dado que la función F se define como una constante positiva, obtenemos que W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 y, por lo tanto, s es al menos equilibrado en términos presupuestarios. Dado que cada conjunto de adquisiciones que no se reduce está al menos equilibrado presupuestariamente, se deduce que el mecanismo externo X producido es BB. Los dos lemas anteriores producen el siguiente teorema: Teorema 3.2. Para los dominios de clase de adquisiciones para cualquier X, el mecanismo externo X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR, IC y BB. Observación 3.2. La prueba del teorema proporciona límites sobre los pagos que cualquier jugador tiene que hacer al mecanismo. Los dominios no basados en la clase de adquisiciones. La razón principal por la que GTR-1 funciona para los dominios no basados en la clase de adquisiciones es que la posibilidad de reducción de cada jugador es monótona. Por la definición de una función de división, si un jugador i ∈ sj aumenta su valor, i solo puede aparecer en un conjunto de adquisiciones sj posterior y, por lo tanto, tiene una mayor probabilidad de tener la competencia deseada. Por lo tanto, la probabilidad de que i carezca de la competencia necesaria disminuye. Dado que el dominio es un dominio de clase de adquisiciones, es más probable que todos los demás jugadores t = i, t ∈ sj también tengan competencia, ya que los miembros de su clase siguen apareciendo antes que i y, por lo tanto, la probabilidad de que i sea reducido disminuye. Dado que, según el teorema 3.1, una condición necesaria y suficiente para que el mecanismo sea CI es la monotonicidad. GTR-1 es IC para dominios de clase de adquisiciones. Sin embargo, para los dominios que no son de la clase de adquisiciones, esto no es suficiente incluso si el dominio es un dominio basado en clases. Aunque todos los miembros de sj siguen teniendo la competencia requerida, es posible que haya miembros de sj que no tengan análogos en sj que no tengan competencia. Por lo tanto, podría reducirse después de aumentar su valor, lo que significa, según el lema 3.1, que el mecanismo no es IC. Por lo tanto, definimos un algoritmo diferente para los dominios que no pertenecen a la clase de adquisiciones. Nuestro algoritmo modificado requiere una función de división especial para mantener la propiedad de IC. Aunque nuestra restricción a esta función de división especial parezca estricta, la función de división que utilizamos es una generalización de la forma en que se eligen los conjuntos de adquisiciones en dominios basados en clases de adquisiciones, por ejemplo, [13, 16, 9, 3, 2, 4]. Para facilitar la presentación en esta sección, asumimos que F = 0. La función de división para dominios generales se define al observar todas las posibles funciones de división. Para cada función de división Di y cada conjunto de ofertas, el algoritmo GTR-1 produce un bienestar que es una función de las ofertas y la función de división. Denotamos por D0 la función de división que divide a los jugadores en conjuntos de manera que el bienestar que encuentra GTR-1 sea máximo. Cabe destacar que para cualquier Di en particular, esto podría no ser IC, ya que GTR-1 es IC solo para dominios de clase de adquisición y no para dominios generales. En el Apéndice A mostramos cómo calcular D0 en polinómico. Formalmente, sea D el conjunto de todas las funciones de división D. Denotemos el bienestar logrado por el mecanismo producido por GTR1 al usar la función de división D y un conjunto de ofertas ¯b como GTR1(D, ¯b). Denote por D0(¯b) = argmaxD∈D(GTR1(D,¯b)). Para facilitar la presentación, denotamos D0(¯b) como D0 cuando la dependencia de b es clara en el contexto. Observación 4.1. D0 es un elemento del conjunto de funciones divisorias, y por lo tanto es una función divisoria. El segundo algoritmo de reducción de comercio generalizado GTR-2 sigue. Definición 4.1. El algoritmo GTR-2 - Dado el mecanismo M, la asignación A y un conjunto X ⊂ N cerrado bajo reemplazo, GTR-2 opera de la siguiente manera: 1. Calcula la función de división D0 como se define arriba. 2. Utilice la función de división D0 para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor, haz lo siguiente: Si para i ∈ sj ∩ X hay una competencia externa y hay a lo sumo un i ∈ sj que no tiene competencia interna, entonces conserva sj. De lo contrario, reduzca el intercambio sj. 4. Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. Todos los jugadores no comerciales no pagan nada. Demostraremos que el mecanismo producido por GTR-2 mantiene las propiedades deseadas de IR, IC y BB. El siguiente lema muestra que el mecanismo producido por GTR-2 es IR y IC. Lema 4.1. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR e IC. Prueba. Según el teorema 3.1, basta con demostrar que el mecanismo producido por el algoritmo GTR-2 es bidmonótono para cada jugador i. Supongamos que no fui reducido al ofertar bi, necesitamos demostrar que no seré reducido al ofertar bi > bi. Denote por D1 = D0(b) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por D1 = D0(bi, b−i) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por ¯D1(b) una función divisoria máxima que resulta en GTR-1 reduciendo i al informar bi. Supongamos, por el contrario, que GTR-2 redujo i del intercambio cuando i informó bi, entonces GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b). Dado que D1 ∈ D, se sigue que GTR1(D1, b) > GTR1( ¯D1, b) y por lo tanto GTR1(D1, b) > GTR1(D1, (bi, b−i)). Sin embargo, según la definición D1 ∈ D, GTR-2 no debería haber reducido el tiempo mínimo de adquisición para los dominios de clase de aprovisionamiento. Calcular D0 en tiempo polinómico para dominios generales es un problema abierto importante. En la versión completa de GTR-2 se extiende de tal manera que basta con que exista algún momento en el cual se cumpla el tercer paso. Esa extensión se omitió de la versión actual debido a la falta de espacio. 25 con la función de división D1 y obtuvo un mayor bienestar que GTR1(D1, b). Por lo tanto, surge una contradicción y GTR-2 no reduce i del intercambio cuando i informa que bi > bi. Lema 4.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo BB. Prueba. Esta prueba es similar a la prueba del lema 3.3. Combinando los dos lemas anteriores obtenemos: Teorema 4.1. Para cualquier X cerrado bajo reemplazo, el mecanismo externo de X con el esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR, IC y BB. El Apéndice A muestra cómo calcular D0 para dominios de clase de adquisiciones en tiempo polinómico, no se sabe generalmente cómo calcular D0 fácilmente. Crear un método general para calcular la función de división necesaria en tiempo polinómico sigue siendo una pregunta abierta. 4.1 Limitando el Bienestar para Dominios Basados en Clases de Adquisición y otros Casos de Dominios Generales. Esta sección muestra que, además de producir un mecanismo con las propiedades deseadas, GTR-2 también produce un mecanismo que mantiene un alto bienestar. Dado que el algoritmo GTR-2 encuentra un mecanismo equilibrado en presupuesto en dominios arbitrarios, no podemos acotar el bienestar para casos generales. Sin embargo, podemos acotar el bienestar para el dominio basado en la clase de adquisiciones y una amplia variedad de casos en dominios generales que incluyen muchos casos previamente estudiados. Definición 4.2. Denote freqk([i], sj) para indicar que una clase [i] aparece en un conjunto de adquisiciones sj, k veces y hay k miembros de [i] en sj. Definición 4.3. Denote por freqk([i], S) el máximo k tal que hay k miembros de [i] en sj. Es decir, freqk([i], S) = maxsj ∈S freqk([i], sj). Deje que el conjunto de clases de equivalencia en el mecanismo de dominio basado en la clase de adquisiciones sea ec y |ec| sea el número de esas clases de equivalencia. Usando la definición de frecuencia de apariencia de clase, podemos acotar el bienestar logrado por el mecanismo producido por GTR-2 para los dominios de clase de adquisición: Lema 4.3. Para los dominios de clase de adquisiciones con F = 0, el número de conjuntos de adquisiciones que se reducen por GTR-213 es a lo sumo |ec| veces la frecuencia máxima de cada clase. Formalmente, el número máximo de conjuntos de adquisición que se reduce es O( [i]∈ec freqk([i], S)) Demostración. Sea D una función de división arbitraria. Observamos que, por definición, cualquier conjunto de adquisiciones sj no se reducirá si cada i ∈ sj tiene tanto competencia interna como competencia externa. El bienestar logrado por GTR-1 también puede estar acotado para los casos presentados en esta sección. Sin embargo, nos enfocamos en GTR-2 ya que siempre logra un mejor bienestar. 13 o GTR-1 Cada conjunto de adquisiciones s que se reduce tiene al menos un jugador i que no tiene competencia. Una vez que s se reduce, todos los jugadores de [i] tienen competencia interna. Así, al reducir el número de clases de equivalencia |ec| de conjuntos de adquisiciones, cubrimos a todos los jugadores restantes con competencia interna. Si la frecuencia máxima de cada clase de equivalencia fuera uno, entonces cada jugador restante t en el conjunto de adquisiciones sk también tendría competencia externa, ya que todos los competidores internos de los jugadores ¯t = t, ¯t ∈ sk son competencia externa para t. Si tenemos freqk([t], S) jugadores de la clase [t] que fueron reducidos, entonces hay suficiente competencia externa para todos los jugadores en sk. Por lo tanto, basta con reducir los conjuntos de adquisición O( [i]∈ec freqk([i], S)) para garantizar que exista tanto la competencia interna como externa necesaria. El siguiente teorema se deduce como un corolario inmediato del lema 4.3: Teorema 4.2. Dado mecanismos de dominio basados en clases de adquisición con H conjuntos de adquisición, la eficiencia es al menos una fracción de 1 − O( O( [i]∈ec freqk([i],S)) H ) del bienestar óptimo. Los siguientes corolarios son resultados directos del teorema 4.2. Todos estos corolarios mejoran resultados anteriores o logran el mismo bienestar que los resultados anteriores. Corolario 4.1. Para utilizar GTR-2 en subastas homogéneas de doble cara (problema B.1), se debe reducir como máximo un conjunto de adquisición de 14. De manera similar, para mercados distribuidos espacialmente sin bordes estratégicos (problema B.3), el uso de GTR-2 mejora el resultado de [3] donde se reduce un ciclo mínimo que incluye a un comprador y un vendedor. Corolario 4.2. Usar GTR-2 para mercados distribuidos espacialmente sin bordes estratégicos reducirá a lo sumo un ciclo por componente conectado. Para las cadenas de suministro (problema B.5) el uso de GTR-2 mejora el resultado de [2, 4] de manera similar al corolario 4.2. Corolario 4.3. Usando GTR-2 para cadenas de suministro, se reducirá a lo sumo un ciclo por componente conectado. El siguiente corolario resuelve el problema abierto en [3]. Corolario 4.4. Para mercados distribuidos en n nodos con agentes estratégicos y caminos de longitud acotada K (problema B.6) basta con eliminar como máximo K * n conjuntos de adquisiciones. Prueba. Bosque de expansión: Estos crearán al menos K árboles de expansión, por lo tanto, podemos cubrir de manera disjunta cada conjunto de adquisiciones restante. Esto mejora el algoritmo ingenuo de reducir conjuntos de adquisición n2. Proporcionamos resultados para dos casos especiales de subastas de doble cara con jugadores de valor único (problema B.8). Es posible que no se realicen reducciones, por ejemplo, cuando hay un jugador no comercial que es la competencia externa requerida. Al igual que en las subastas de doble cara, a veces habrá suficiente competencia sin una reducción. Corolario 4.5. si hay como máximo M tipos diferentes de conjuntos de adquisición, basta con eliminar M conjuntos de adquisición. Corolario 4.6. Si hay K tipos de bienes y cada conjunto de adquisición consiste en a lo sumo uno de cada tipo, basta con eliminar a lo sumo K conjuntos de adquisición. CONCLUSIONES Y TRABAJOS FUTUROS En este artículo presentamos un procedimiento de solución general llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo de IR e IC como entrada y produce mecanismos que son IR, IC y BB como salida. Los mecanismos de salida logran un bienestar que se acerca a lo óptimo para una amplia gama de dominios. El procedimiento GTR mejora los resultados existentes como subastas homogéneas de doble cara, mercados distribuidos y cadenas de suministro, y resuelve varios problemas abiertos como mercados distribuidos con aristas de transporte estratégicas y caminos acotados, subastas de doble cara combinatorias con conjuntos de adquisiciones de tamaño acotado, y subastas de doble cara combinatorias con un número acotado de conjuntos de adquisiciones. La cuestión de la calidad de la aproximación del bienestar tanto en general como en dominios de clase que no son dominios de clase de adquisición es una pregunta abierta importante e interesante. También dejamos abierta la pregunta de los límites superiores para la calidad de la aproximación del bienestar. Aunque sabemos que es imposible tener IR, IC y BB en un mecanismo eficiente, sería interesante tener un límite superior en la aproximación al bienestar alcanzable en un mecanismo IR, IC y BB. El procedimiento GTR produce un mecanismo que depende de un conjunto X ⊂ N. Otra pregunta interesante es cuál es la calidad de la aproximación cuando X se elige al azar de N antes de que se declaren las valoraciones. Agradecimientos Los autores desean agradecer a Eva Tardos y colaboradores por compartir sus resultados con nosotros. Los autores también desean expresar su gratitud por los comentarios útiles de los revisores anónimos.  REFERENCIAS [1] A. Archer y E. Tardos. Mecanismos de camino frugal. Simposio sobre Algoritmos Discretos, Actas del decimotercer simposio anual de algoritmos discretos ACM-SIAM, 2002. [2] M. Babaioff y N. Nisan. Subastas simultáneas en toda la cadena de suministro. Revista de Investigación en Inteligencia Artificial, 2004. [3] Babaioff M., Nisan N. y Pavlov E. Mecanismos para un Mercado Distribuido Espacialmente. En actas de la 5ta Conferencia ACM sobre Comercio Electrónico, 2004. [4] M. Babaioff y W. E. Walsh. Subastas Incentivo-Compatible, Equilibradas en Presupuesto, pero Altamente Eficientes para la Formación de Cadenas de Suministro. En actas de la Cuarta Conferencia ACM sobre Comercio Electrónico, 2003. [5] Y. Bartal, R. Gonen y P. La Mura. Mecanismos de rango de negociación: explorando los límites de los mercados eficientes y veraces. EC 04: Actas de la 5ta conferencia de ACM sobre comercio electrónico, 2004. [6] Blume L, Easley D., Kleinberg J. y Tardos E. Redes de intercambio con agentes que fijan precios. En actas de la 8ª conferencia de la ACM sobre comercio electrónico, 2007. [7] Cavallo R. Toma de decisiones óptima con desperdicio mínimo: redistribución estratégicamente segura de pagos VCG. En Proc. 5th Int. Conf. sobre Autonomía. Agentes y Sistemas Multiagente (AAMAS06). [8] E. H. Clarke Fijación de precios múltiples de bienes públicos. En la revista Public Choice de 1971, vol. 2, pp. 17-33. [9] Chu L. Y. y Shen Zuo-Jun M. Mecanismo de Subasta Doble de Competencia de Agentes. Ciencia de la Gestión, vol. 52(8), 2006. [10] T. Groves Incentivos en equipos. En la revista Econometrica de 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan y Y. Shoham. Revelación de la verdad en subastas combinatorias aproximadamente eficientes. En Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Obtención de preferencias honestas para la asignación de individuos a posiciones. Revista de economía política, 1983. [13] McAfee R. P. Una subasta doble de estrategia dominante. Revista de Teoría Económica, vol. 56, 434-450, 1992. [14] A. Mualem y N. Nisan. Mecanismos de Aproximación Veraz para Subastas Combinatorias Restringidas. Actas de AAAI 2002. [15] Myerson R. B. y Satterthwaite M. A. Mecanismos eficientes para el comercio bilateral. Revista de Teoría Económica, vol. 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. y Zhang R. Q. Mecanismos de subasta eficientes para la adquisición de la cadena de suministro. Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, 2001. [17] W. Vickrey Contrapronóstico, Subastas y Licitaciones Competitivas Selladas. En Journal of Finance 1961, vol. 16, pp. 8-37. APÉNDICE A. CALCULANDO LA FUNCIÓN DE DIVISIÓN ÓPTIMA EN DOMINIOS DE CLASE DE ADQUISICIÓN EN TIEMPO POLINÓMICO En esta sección mostramos cómo calcular la función de división óptima para dominios de clase de adquisición en tiempo polinómico. Primero definimos una función de división especial D0 que es fácil de calcular: Definimos la función de división D0 de forma recursiva de la siguiente manera: En la etapa j, D0 divide a los jugadores comerciales en dos conjuntos Aj y Aj de manera que: • Aj es un conjunto de adquisiciones • Aj puede dividirse en una unión disjunta de conjuntos de adquisiciones. • Aj tiene un valor mínimo de todas las particiones posibles. Define sj = Aj y llame recursivamente a D0 y Aj hasta que Aj = ∅. Ahora demostramos que D0 es la función de división requerida. Lema A.1. Para los dominios de clase de adquisiciones D0 = D0. Prueba. Dado que el dominio es un dominio de clase de adquisiciones, para cada conjunto de adquisiciones reducido, el conjunto de jugadores que logran la competencia (ya sea interna o externa) está fijo. Por lo tanto, el número de conjuntos de adquisiciones que se reducen es independiente de la función de división D. Dado que el objetivo es optimizar el bienestar reduciendo los conjuntos de adquisiciones con el menor valor, podemos optimizar el bienestar. Esto se logra mediante D0. I'm sorry, but you did not provide a sentence to translate. Please provide the sentence you would like me to translate to Spanish. PROBLEMAS Y EJEMPLOS Para completitud, presentamos en esta sección las definiciones formales de los problemas que utilizamos para ilustrar nuestro mecanismo. El primer problema que definimos es la subasta de doble cara con bienes homogéneos. Problema B.1. Subasta de doble cara con bienes homogéneos: Hay m vendedores, cada uno con un solo bien (todos los bienes son idénticos) y n compradores, cada uno interesado en recibir un bien. Denotamos el conjunto de vendedores como S y el conjunto de compradores como B. Cada jugador i ∈ S ∪ B (tanto compradores como vendedores) tiene un valor vi por el bien. En este modelo, un conjunto de adquisiciones consiste en un único comprador y un único vendedor, es decir, |s| = 2. El valor de un conjunto de adquisiciones es W(s) = vj − vi donde j ∈ B e i ∈ S, es decir, la ganancia del intercambio. Si los conjuntos de adquisiciones se crean emparejando al comprador de mayor valor con el vendedor de menor valor, entonces el mecanismo de reducción de intercambio determinístico [13] reduce el conjunto de adquisiciones de menor valor. Un modelo relacionado es el modelo de costos relacionados en pares [9]. Problema B.2. Los costos relacionados en pares: una subasta de doble cara B.1 en la que cada par de jugadores i ∈ S y j ∈ B tiene un costo relacionado F(i, j) ≥ 0 para poder comerciar. F(i, j) es un costo de fricción que debe minimizarse para maximizar el bienestar. [9] define dos mecanismos equilibrados presupuestariamente para este caso. Uno de los mecanismos de [9] tiene el conjunto de compradores B como el conjunto X para el mecanismo X-externo y el otro tiene el conjunto de vendedores S como el conjunto X para el mecanismo X-externo. Un modelo similar es el modelo de mercados distribuidos espacialmente (SDM) [3] en el que hay un grafo que impone relaciones en el costo. Problema B.3. Mercados distribuidos espacialmente: existe un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene asociado un costo que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Los bordes no son estratégicos, pero todos los jugadores son estratégicos. [3] define un mecanismo equilibrado en presupuesto para este caso. Nuestro artículo mejora el resultado de [3]. Otro modelo de gráfica es el modelo definido en [6]. Problema B.4. Redes de intercambio: Dado un grafo y compradores y vendedores que se encuentran en los nodos del grafo. Todo comercio debe pasar a través de un comerciante. En este caso, los conjuntos de adquisiciones tienen la forma (comprador, vendedor, comerciante) donde los posibles conjuntos de esta forma están definidos por un gráfico. El modelo de cadena de suministro [2, 4] puede ser visto como una generalización de [6] en la que los conjuntos de adquisición consisten en la forma (productor, consumidor, comerciante1, . . . , comerciantek). También es posible aleatorizar la reducción de los conjuntos de adquisición para lograr un presupuesto esperado de cero similar a [13], los detalles son obvios y se omiten. Problema B.5. Cadena de suministro: Hay un conjunto D de agentes y un conjunto G de bienes y un grafo G = (V, E) que define posibles relaciones comerciales. Los agentes pueden requerir una entrada de múltiples cantidades de bienes para producir un solo bien. El jugador tipo productor puede producir bienes de la nada, el consumidor tiene una valoración y es necesaria toda una cadena de intermediarios para crear un conjunto de adquisiciones viable. [2, 4] consideran una tecnología de fabricación única en la que el grafo que define las posibles relaciones es un árbol. Todos los problemas anteriores son dominios de clase de adquisiciones. También consideramos varios problemas que no son dominios de la clase de adquisiciones y, en general, las cuestiones de <br>equilibrio presupuestario</br> se han dejado como problemas abiertos. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "internal competition": {
            "translated_key": "competencia interna",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an <br>internal competition</br> for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an <br>internal competition</br>. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is <br>internal competition</br> then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has <br>internal competition</br>.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required <br>internal competition</br>.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have <br>internal competition</br>.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have <br>internal competition</br> their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 <br>internal competition</br> i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an <br>internal competition</br> then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both <br>internal competition</br> and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have <br>internal competition</br>.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with <br>internal competition</br>.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an <br>internal competition</br> for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "Each player i /∈ X has an <br>internal competition</br>. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is <br>internal competition</br> then 23 keep sj.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has <br>internal competition</br>.",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required <br>internal competition</br>."
            ],
            "translated_annotated_samples": [
                "Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una <br>competencia interna</br> para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i.",
                "Cada jugador i /∈ X tiene una <br>competencia interna</br>. 3.",
                "Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay competencia externa y para cada i ∈ sj \\ X hay <br>competencia interna</br>, entonces se conservan los 23 sj.",
                "Para los dominios de clase de adquisiciones, si existe un conjunto de adquisiciones sj tal que i ∈ sj y i tiene competencia externa, entonces todos los t = i t ∈ sj, t tiene <br>competencia interna</br>.",
                "Dado que el dominio es un dominio de clase de adquisiciones, existe una función biyectiva f entre sj y sj. f define la <br>competencia interna</br> requerida."
            ],
            "translated_text": "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado Reducción Comercial Generalizada (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro. Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB. Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio. Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas. Definimos dominios basados en clase y dominios basados en clase de adquisiciones. Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado competencia interna y externa. La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2. PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB. Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de intercambio. Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0. Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0. El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi. El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn. Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i. Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Que el tamaño de un conjunto de adquisiciones s se denote como |s|. Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición. El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s). Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s). En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi. Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A. Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La eficiencia de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo. Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor. Un mecanismo M define unas reglas de asignación y pago, M = (R, P). Una regla de pago P decide el pago pi donde P es una función P: V → RN. Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores. Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10]. El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad. El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores. M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa. Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0. Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados. Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio. Los dos algoritmos son tales que, dado un mecanismo IR e IC M que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte a M en un mecanismo IR, IC y BB. El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplen las condiciones correctas y el mecanismo M se convierte en uno de tipo BB. Las condiciones adecuadas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado. Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando. Definición 2.3. Para cualquier jugador i ∈ N, decimos que el conjunto Ri ⊆ N \\ {i} es un conjunto de reemplazo de i, si para cualquier conjunto de adquisición s ∈ S tal que i ∈ s y Ri∩s = ∅, s\\{i}∪Ri ∈ S. Por ejemplo, en una subasta (homogénea) de doble cara (ver problema B.1), el conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador. En una subasta de espacios de transporte (ver problema B.7), el conjunto de reemplazo de un borde es un camino entre los extremos del borde. Ten en cuenta que un conjunto puede reemplazar a un solo jugador. Además, esta relación es transitiva pero no necesariamente simétrica. Si i es un conjunto de reemplazo para j, no necesariamente es cierto que j sea un conjunto de reemplazo para i. Definición 2.4. Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una <br>competencia interna</br> para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i. T = s \\ {i} ∪ Ri(A, s) ∈ S y W(T) ≥ 0. Definición 2.5. Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una competencia externa para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0. Supondremos, sin pérdida de generalidad, que no hay empates entre los valores de ninguna asignación, y en particular no hay empates entre los valores de los conjuntos de adquisiciones. En caso de empate, este puede romperse utilizando las identidades de los jugadores. Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con competencia externa Ei(A, s), existe exactamente un conjunto que representa la competencia externa de mayor valor. Definición 2.6. Un conjunto X ⊂ N es cerrado bajo reemplazo si ∀i ∈ X entonces Ri ⊂ X. Lo siguiente define la competencia requerida necesaria para mantener IC, IR y BB. El conjunto X5 denota esta competencia y está cerrado bajo reemplazo. En el resto del documento asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo. Definición 2.7. Sea X ⊂ N un conjunto que está cerrado bajo reemplazo, decimos que el mecanismo es un mecanismo X-externo, si 1. Cada jugador i ∈ X tiene una competencia externa. 2. Cada jugador i /∈ X tiene una <br>competencia interna</br>. 3. Para todos los jugadores i1, . . . , it ∈ s \\ X existen Ri1 (A, s), . . . , Rit (A, s) tales que para cada iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. para cada conjunto de adquisiciones s ∈ S se cumple que s∩X = ∅ Para dominios generales, la elección de X puede ser crucial. De hecho, incluso para el mismo dominio, el bienestar (y los ingresos) pueden variar ampliamente dependiendo de cómo se defina X. En el apéndice C damos un ejemplo donde dos posibles elecciones de X producen resultados muy diferentes. Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la optimalidad de X y este es un importante problema abierto. Nuestros dos algoritmos de reducción de comercio generalizados garantizarán que para cualquier asignación tengamos los tipos deseados de competencia. Dado un mecanismo M que es CI e IR con asignación A, el objetivo de los algoritmos es convertir a M en un mecanismo X-externo. Los dos algoritmos de reducción de comercio generalizados utilizan una función de división D que divide la asignación A en conjuntos de adquisición disjuntos. Los algoritmos ordenan los conjuntos de adquisiciones definidos por D en orden de valor creciente. Para cualquier conjunto de adquisiciones hay un tipo deseado de competencia que depende únicamente de los jugadores que componen el conjunto de adquisiciones. Los algoritmos de reducción de comercio generalizados recorren los conjuntos de adquisiciones en orden (del más pequeño al más grande) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el conjunto. La reducción de los conjuntos de adquisiciones también se conocerá como reducción del comercio. Formalmente, los detalles sobre cómo resolver empates en las asignaciones son estándar y se omiten. Presentamos algunas compensaciones entre los diferentes conjuntos posibles en el Apéndice C. Definición 2.8. D es una función de división si para cualquier asignación A y el vector de valores de los jugadores v, D divide la asignación en conjuntos de adquisiciones disjuntos s1, . . . , sk de manera que ∪sj = A y para cualquier jugador i con valor vi si i ∈ sj1 y t ∈ sj2 tal que j1 ≥ j2 entonces para cualquier valor vi > vi del jugador i y división por D en s1, . . . , sk tal que i ∈ sj1 y t ∈ sj2 entonces j1 > j2. Los dos algoritmos de reducción de comercio generalizados presentados aceptan problemas en diferentes dominios. Las definiciones de dominio formal siguen: Definición 2.9. Un dominio es un dominio de clase si para todo i ∈ N y todos los conjuntos de reemplazo de i, Ri, |Ri| = 1 y para todo i, j, i = j si j = Ri entonces i = Rj. Intuitivamente, esto significa que los conjuntos de reemplazo son de tamaño 1 y la relación de reemplazo es simétrica. Definimos la clase de un jugador i como el conjunto de los conjuntos de reemplazo de los jugadores y denotamos la clase del jugador i por [i]. Es importante tener en cuenta que dado que los conjuntos de reemplazo son relaciones transitivas y dado que los dominios de clase también imponen relaciones simétricas en los conjuntos de reemplazo, la clase de un jugador i, [i] es en realidad una clase de equivalencia para i. Definición 2.10. Un dominio es un dominio de clase de adquisición si el dominio es un dominio basado en clases y si para cualquier jugador i tal que existan dos conjuntos de adquisición s1, s2 (no necesariamente intercambiando simultáneamente en ninguna asignación) tales que i ∈ s1 e i ∈ s2, entonces existe una biyección f: s1 → s2 tal que para cualquier j ∈ s1, f(j) es un conjunto de reemplazo para j en s2. Ejemplo 2.1. Una subasta (homogénea) de doble cara (ver problema B.1) es un dominio basado en la clase de adquisiciones. Para la subasta de doble cara (homogénea), cada conjunto de adquisición consiste en un comprador y un vendedor. La subasta combinatoria de doble cara que consiste en un único comprador con múltiples preferencias y múltiples vendedores de bienes heterogéneos (ver problema B.9), es un dominio basado en clases (ya que tenemos un único comprador) pero no es un dominio basado en clases de adquisiciones. En este caso, el comprador es una clase y cada conjunto de vendedores del mismo bien es una clase. Sin embargo, para un comprador no hay una biyección entre los diferentes conjuntos de adquisición de los paquetes de bienes en los que el comprador está interesado. El mercado distribuido espacialmente con bordes estratégicos (ver problema B.6) no es un dominio basado en clases (y por lo tanto no es un dominio de clase de adquisiciones). Por ejemplo, incluso para un comprador fijo y un vendedor fijo existen dos conjuntos de adquisición diferentes que consisten en diferentes rutas entre los compradores y vendedores. Las siguientes secciones presentan dos algoritmos GTR-1 y GTR-2. El algoritmo GTR-1 acepta problemas en dominios basados en la clase de adquisiciones, sus propiedades se demuestran con una función de división general D. El algoritmo GTR-2 acepta problemas en cualquier dominio. Demostramos las propiedades de GTR-2s con una función de división específica D0. La función será definida en la sección 4. Dado que la función de división puede tener un gran impacto práctico en el bienestar (y los ingresos), la generalidad de GTR − 1 (aunque sea en dominios especiales) puede ser una consideración práctica importante. 3. DOMINIOS BASADOS EN CLASES DE ADQUISICIÓN Esta sección se centra en los problemas que son dominios basados en clases de adquisición. Para este dominio, presentamos un algoritmo llamado GTR-1, que dado un mecanismo que es IR e IC, produce un mecanismo con bienestar reducido que es IR, IC y equilibrado presupuestariamente. Aunque los dominios de clase de adquisición parecen ser un modelo relativamente restringido, de hecho muchos de los dominios estudiados en la literatura son dominios de clase de adquisición. Ejemplo 3.1. Los siguientes dominios son dominios de clase de adquisiciones: • subastas de doble cara con bienes homogéneos [13] (problema B.1). En este dominio hay dos clases. La clase de compradores y la clase de vendedores. Cada conjunto de adquisiciones consta de un único comprador y un único vendedor. Dado que cada par de (comprador, vendedor) es un conjunto de adquisición válido (aunque posiblemente con valor negativo), este es un dominio de clase de adquisición. En este dominio, la constante asignada a los conjuntos de adquisición es F = 0. • Mercados distribuidos espacialmente con bordes no estratégicos [3, 9] (problema B.3). Al igual que las subastas de doble cara con bienes homogéneos, hay dos clases en el dominio. Clase de compradores y clase de vendedores con conjuntos de adquisición que consisten en un comprador y un vendedor. Los vendedores y compradores son nodos en un grafo y la función F es la distancia entre dos nodos (longitud de la arista) que representa los costos de transporte. Estos costos varían entre diferentes pares (comprador, vendedor). • Cadenas de suministro [2, 4] (problema B.5). La suposición de una manufactura única por [2, 4] se puede entender mejor como convertir las cadenas de suministro generales (que no necesariamente deben ser un dominio de clase de adquisiciones) en un dominio de clase de adquisiciones. • Subastas combinatorias de mente única [11] (problema B.8). En este contexto, cada vendedor vende un solo bien y cada comprador desea un conjunto de bienes. Las clases son conjuntos de vendedores que venden el mismo bien, así como los compradores que desean el mismo paquete. Un conjunto de adquisiciones consiste en un único comprador, así como un conjunto de vendedores que pueden satisfacer a ese comprador. Una definición del mecanismo sigue a continuación: Definición 3.1. El algoritmo GTR-1, dado un mecanismo M, un conjunto X ⊂ N que es cerrado bajo reemplazo, una función de división D y una asignación A, opera de la siguiente manera: 1. Utiliza la función de división D para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 2. Ordena los conjuntos de adquisición por valor creciente. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay competencia externa y para cada i ∈ sj \\ X hay <br>competencia interna</br>, entonces se conservan los 23 sj. De lo contrario, reduzca el intercambio sj (es decir, elimine cada i ∈ sj de la asignación). Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. A todos los jugadores no comerciales no se les cobra nada. Observación 3.1. El caso especial donde X = N ha recibido atención bajo diferentes formas en varios casos especiales, como ([13, 3, 4]). 3.1 El GTR-1 produce un mecanismo externo de X que es IR, IC y BB. En esta subsección demostramos que el algoritmo GTR-1 produce un mecanismo externo de X que es IR, IC y BB. Para demostrar las propiedades de GTR-1, hacemos uso del teorema 3.1, el cual es un resultado bien conocido (por ejemplo, [14, 11]). El Teorema 3.1 caracteriza las condiciones necesarias y suficientes para que un mecanismo para jugadores de valor único sea IR e IC: Definición 3.2. Una regla de asignación R es Bid Monotónica si para cualquier jugador i, cualquier oferta de los otros jugadores b−i ∈ V−i, y cualquier par de ofertas posibles de i, ˆbi > bi, si i negocia bajo la regla de asignación R al informar bi, entonces i también negocia al informar ˆbi. Intuitivamente, una regla de asignación monótona de oferta garantiza que ningún jugador comerciante pueda convertirse en un jugador no comerciante al mejorar su oferta. Teorema 3.1. Un mecanismo IR M con regla de asignación R es IC si y solo si R es Bid Monotónico y cada jugador comerciante i paga su valor crítico Ci (pi = Ci). Por lo tanto, para los mecanismos IR7 e IC normalizados, la regla de asignación que es bid monótona define de manera única los valores críticos para todos los jugadores y, por lo tanto, los pagos. Observación 3.1. Sean M1 y M2 dos mecanismos IR e IC con la misma regla de asignación. Entonces M1 y M2 deben tener la misma regla de pago. En lo siguiente demostramos que el algoritmo GTR-1 externo de X produce un mecanismo IR, IC y BB, pero primero se muestra un lema subsidiario. Lema 3.1. Para los dominios de clase de adquisiciones, si existe un conjunto de adquisiciones sj tal que i ∈ sj y i tiene competencia externa, entonces todos los t = i t ∈ sj, t tiene <br>competencia interna</br>. Prueba. Esto se deriva de la definición de los dominios de clase de adquisiciones. Supongamos que i tiene competencia externa, entonces existe un conjunto de jugadores Ei(A, s) tal que {i} ∪ Ei(A, s) ∈ S. Denotemos por sj = {i} ∪ Ei(A, s). Dado que el dominio es un dominio de clase de adquisiciones, existe una función biyectiva f entre sj y sj. f define la <br>competencia interna</br> requerida. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "external competition": {
            "translated_key": "competencia externa",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and <br>external competition</br>.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an <br>external competition</br> for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with <br>external competition</br> Ei(A, s), there exists exactly one set representing the maximally valued <br>external competition</br>.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an <br>external competition</br>. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is <br>external competition</br> and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has <br>external competition</br> than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has <br>external competition</br>, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an <br>external competition</br>.",
                "Assume w.l.o.g.8 that i is the only player with <br>external competition</br> in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of <br>external competition</br> 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have <br>external competition</br> and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is <br>external competition</br> W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an <br>external competition</br> and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and <br>external competition</br>. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have <br>external competition</br> as all the internal competitors of players ¯t = t, ¯t ∈ sk are an <br>external competition</br> for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and <br>external competition</br> exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite <br>external competition</br>. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks <br>external competition</br> in the X-external mechanism.",
                "In this case sj lacks <br>external competition</br> in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some <br>external competition</br> for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [
                "The above definitions build on the different competition powers of players in a mechanisms called internal and <br>external competition</br>.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an <br>external competition</br> for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "So for any allocation A, procurement set s and player i with <br>external competition</br> Ei(A, s), there exists exactly one set representing the maximally valued <br>external competition</br>.",
                "Each player i ∈ X has an <br>external competition</br>. 2.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is <br>external competition</br> and every i ∈ sj \\ X there is internal competition then 23 keep sj."
            ],
            "translated_annotated_samples": [
                "Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado <br>competencia interna y externa</br>.",
                "Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una <br>competencia externa</br> para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0.",
                "Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con <br>competencia externa</br> Ei(A, s), existe exactamente un conjunto que representa la <br>competencia externa</br> de mayor valor.",
                "Cada jugador i ∈ X tiene una <br>competencia externa</br>. 2.",
                "Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay <br>competencia externa</br> y para cada i ∈ sj \\ X hay competencia interna, entonces se conservan los 23 sj."
            ],
            "translated_text": "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado Reducción Comercial Generalizada (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro. Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB. Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio. Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas. Definimos dominios basados en clase y dominios basados en clase de adquisiciones. Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado <br>competencia interna y externa</br>. La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2. PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB. Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de intercambio. Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0. Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0. El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi. El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn. Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i. Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Que el tamaño de un conjunto de adquisiciones s se denote como |s|. Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición. El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s). Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s). En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi. Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A. Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La eficiencia de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo. Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor. Un mecanismo M define unas reglas de asignación y pago, M = (R, P). Una regla de pago P decide el pago pi donde P es una función P: V → RN. Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores. Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10]. El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad. El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores. M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa. Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0. Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados. Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio. Los dos algoritmos son tales que, dado un mecanismo IR e IC M que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte a M en un mecanismo IR, IC y BB. El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplen las condiciones correctas y el mecanismo M se convierte en uno de tipo BB. Las condiciones adecuadas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado. Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando. Definición 2.3. Para cualquier jugador i ∈ N, decimos que el conjunto Ri ⊆ N \\ {i} es un conjunto de reemplazo de i, si para cualquier conjunto de adquisición s ∈ S tal que i ∈ s y Ri∩s = ∅, s\\{i}∪Ri ∈ S. Por ejemplo, en una subasta (homogénea) de doble cara (ver problema B.1), el conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador. En una subasta de espacios de transporte (ver problema B.7), el conjunto de reemplazo de un borde es un camino entre los extremos del borde. Ten en cuenta que un conjunto puede reemplazar a un solo jugador. Además, esta relación es transitiva pero no necesariamente simétrica. Si i es un conjunto de reemplazo para j, no necesariamente es cierto que j sea un conjunto de reemplazo para i. Definición 2.4. Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una competencia interna para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i. T = s \\ {i} ∪ Ri(A, s) ∈ S y W(T) ≥ 0. Definición 2.5. Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una <br>competencia externa</br> para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0. Supondremos, sin pérdida de generalidad, que no hay empates entre los valores de ninguna asignación, y en particular no hay empates entre los valores de los conjuntos de adquisiciones. En caso de empate, este puede romperse utilizando las identidades de los jugadores. Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con <br>competencia externa</br> Ei(A, s), existe exactamente un conjunto que representa la <br>competencia externa</br> de mayor valor. Definición 2.6. Un conjunto X ⊂ N es cerrado bajo reemplazo si ∀i ∈ X entonces Ri ⊂ X. Lo siguiente define la competencia requerida necesaria para mantener IC, IR y BB. El conjunto X5 denota esta competencia y está cerrado bajo reemplazo. En el resto del documento asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo. Definición 2.7. Sea X ⊂ N un conjunto que está cerrado bajo reemplazo, decimos que el mecanismo es un mecanismo X-externo, si 1. Cada jugador i ∈ X tiene una <br>competencia externa</br>. 2. Cada jugador i /∈ X tiene una competencia interna. 3. Para todos los jugadores i1, . . . , it ∈ s \\ X existen Ri1 (A, s), . . . , Rit (A, s) tales que para cada iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. para cada conjunto de adquisiciones s ∈ S se cumple que s∩X = ∅ Para dominios generales, la elección de X puede ser crucial. De hecho, incluso para el mismo dominio, el bienestar (y los ingresos) pueden variar ampliamente dependiendo de cómo se defina X. En el apéndice C damos un ejemplo donde dos posibles elecciones de X producen resultados muy diferentes. Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la optimalidad de X y este es un importante problema abierto. Nuestros dos algoritmos de reducción de comercio generalizados garantizarán que para cualquier asignación tengamos los tipos deseados de competencia. Dado un mecanismo M que es CI e IR con asignación A, el objetivo de los algoritmos es convertir a M en un mecanismo X-externo. Los dos algoritmos de reducción de comercio generalizados utilizan una función de división D que divide la asignación A en conjuntos de adquisición disjuntos. Los algoritmos ordenan los conjuntos de adquisiciones definidos por D en orden de valor creciente. Para cualquier conjunto de adquisiciones hay un tipo deseado de competencia que depende únicamente de los jugadores que componen el conjunto de adquisiciones. Los algoritmos de reducción de comercio generalizados recorren los conjuntos de adquisiciones en orden (del más pequeño al más grande) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el conjunto. La reducción de los conjuntos de adquisiciones también se conocerá como reducción del comercio. Formalmente, los detalles sobre cómo resolver empates en las asignaciones son estándar y se omiten. Presentamos algunas compensaciones entre los diferentes conjuntos posibles en el Apéndice C. Definición 2.8. D es una función de división si para cualquier asignación A y el vector de valores de los jugadores v, D divide la asignación en conjuntos de adquisiciones disjuntos s1, . . . , sk de manera que ∪sj = A y para cualquier jugador i con valor vi si i ∈ sj1 y t ∈ sj2 tal que j1 ≥ j2 entonces para cualquier valor vi > vi del jugador i y división por D en s1, . . . , sk tal que i ∈ sj1 y t ∈ sj2 entonces j1 > j2. Los dos algoritmos de reducción de comercio generalizados presentados aceptan problemas en diferentes dominios. Las definiciones de dominio formal siguen: Definición 2.9. Un dominio es un dominio de clase si para todo i ∈ N y todos los conjuntos de reemplazo de i, Ri, |Ri| = 1 y para todo i, j, i = j si j = Ri entonces i = Rj. Intuitivamente, esto significa que los conjuntos de reemplazo son de tamaño 1 y la relación de reemplazo es simétrica. Definimos la clase de un jugador i como el conjunto de los conjuntos de reemplazo de los jugadores y denotamos la clase del jugador i por [i]. Es importante tener en cuenta que dado que los conjuntos de reemplazo son relaciones transitivas y dado que los dominios de clase también imponen relaciones simétricas en los conjuntos de reemplazo, la clase de un jugador i, [i] es en realidad una clase de equivalencia para i. Definición 2.10. Un dominio es un dominio de clase de adquisición si el dominio es un dominio basado en clases y si para cualquier jugador i tal que existan dos conjuntos de adquisición s1, s2 (no necesariamente intercambiando simultáneamente en ninguna asignación) tales que i ∈ s1 e i ∈ s2, entonces existe una biyección f: s1 → s2 tal que para cualquier j ∈ s1, f(j) es un conjunto de reemplazo para j en s2. Ejemplo 2.1. Una subasta (homogénea) de doble cara (ver problema B.1) es un dominio basado en la clase de adquisiciones. Para la subasta de doble cara (homogénea), cada conjunto de adquisición consiste en un comprador y un vendedor. La subasta combinatoria de doble cara que consiste en un único comprador con múltiples preferencias y múltiples vendedores de bienes heterogéneos (ver problema B.9), es un dominio basado en clases (ya que tenemos un único comprador) pero no es un dominio basado en clases de adquisiciones. En este caso, el comprador es una clase y cada conjunto de vendedores del mismo bien es una clase. Sin embargo, para un comprador no hay una biyección entre los diferentes conjuntos de adquisición de los paquetes de bienes en los que el comprador está interesado. El mercado distribuido espacialmente con bordes estratégicos (ver problema B.6) no es un dominio basado en clases (y por lo tanto no es un dominio de clase de adquisiciones). Por ejemplo, incluso para un comprador fijo y un vendedor fijo existen dos conjuntos de adquisición diferentes que consisten en diferentes rutas entre los compradores y vendedores. Las siguientes secciones presentan dos algoritmos GTR-1 y GTR-2. El algoritmo GTR-1 acepta problemas en dominios basados en la clase de adquisiciones, sus propiedades se demuestran con una función de división general D. El algoritmo GTR-2 acepta problemas en cualquier dominio. Demostramos las propiedades de GTR-2s con una función de división específica D0. La función será definida en la sección 4. Dado que la función de división puede tener un gran impacto práctico en el bienestar (y los ingresos), la generalidad de GTR − 1 (aunque sea en dominios especiales) puede ser una consideración práctica importante. 3. DOMINIOS BASADOS EN CLASES DE ADQUISICIÓN Esta sección se centra en los problemas que son dominios basados en clases de adquisición. Para este dominio, presentamos un algoritmo llamado GTR-1, que dado un mecanismo que es IR e IC, produce un mecanismo con bienestar reducido que es IR, IC y equilibrado presupuestariamente. Aunque los dominios de clase de adquisición parecen ser un modelo relativamente restringido, de hecho muchos de los dominios estudiados en la literatura son dominios de clase de adquisición. Ejemplo 3.1. Los siguientes dominios son dominios de clase de adquisiciones: • subastas de doble cara con bienes homogéneos [13] (problema B.1). En este dominio hay dos clases. La clase de compradores y la clase de vendedores. Cada conjunto de adquisiciones consta de un único comprador y un único vendedor. Dado que cada par de (comprador, vendedor) es un conjunto de adquisición válido (aunque posiblemente con valor negativo), este es un dominio de clase de adquisición. En este dominio, la constante asignada a los conjuntos de adquisición es F = 0. • Mercados distribuidos espacialmente con bordes no estratégicos [3, 9] (problema B.3). Al igual que las subastas de doble cara con bienes homogéneos, hay dos clases en el dominio. Clase de compradores y clase de vendedores con conjuntos de adquisición que consisten en un comprador y un vendedor. Los vendedores y compradores son nodos en un grafo y la función F es la distancia entre dos nodos (longitud de la arista) que representa los costos de transporte. Estos costos varían entre diferentes pares (comprador, vendedor). • Cadenas de suministro [2, 4] (problema B.5). La suposición de una manufactura única por [2, 4] se puede entender mejor como convertir las cadenas de suministro generales (que no necesariamente deben ser un dominio de clase de adquisiciones) en un dominio de clase de adquisiciones. • Subastas combinatorias de mente única [11] (problema B.8). En este contexto, cada vendedor vende un solo bien y cada comprador desea un conjunto de bienes. Las clases son conjuntos de vendedores que venden el mismo bien, así como los compradores que desean el mismo paquete. Un conjunto de adquisiciones consiste en un único comprador, así como un conjunto de vendedores que pueden satisfacer a ese comprador. Una definición del mecanismo sigue a continuación: Definición 3.1. El algoritmo GTR-1, dado un mecanismo M, un conjunto X ⊂ N que es cerrado bajo reemplazo, una función de división D y una asignación A, opera de la siguiente manera: 1. Utiliza la función de división D para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 2. Ordena los conjuntos de adquisición por valor creciente. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay <br>competencia externa</br> y para cada i ∈ sj \\ X hay competencia interna, entonces se conservan los 23 sj. ",
            "candidates": [],
            "error": [
                [
                    "competencia interna y externa",
                    "competencia externa",
                    "competencia externa",
                    "competencia externa",
                    "competencia externa",
                    "competencia externa"
                ]
            ]
        },
        "efficiency": {
            "translated_key": "eficiencia",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as <br>efficiency</br> in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The <br>efficiency</br> of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the <br>efficiency</br> is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The <br>efficiency</br> of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as <br>efficiency</br> in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "The <br>efficiency</br> of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "Given procurement-class based domain mechanisms with H procurement sets, the <br>efficiency</br> is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The <br>efficiency</br> of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2."
            ],
            "translated_annotated_samples": [
                "Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como <br>eficiencia</br> en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse.",
                "La <br>eficiencia</br> de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo.",
                "Dado mecanismos de dominio basados en clases de adquisición con H conjuntos de adquisición, la <br>eficiencia</br> es al menos una fracción de 1 − O( O( [i]∈ec freqk([i],S)) H ) del bienestar óptimo.",
                "La <br>eficiencia</br> del mecanismo externo X en GTR-1 (y por lo tanto GTR-2) es al menos igual a la del mecanismo externo Y."
            ],
            "translated_text": "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado Reducción Comercial Generalizada (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como <br>eficiencia</br> en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro. Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB. Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio. Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas. Definimos dominios basados en clase y dominios basados en clase de adquisiciones. Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado competencia interna y externa. La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2. PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB. Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de intercambio. Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0. Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0. El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi. El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn. Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i. Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Que el tamaño de un conjunto de adquisiciones s se denote como |s|. Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición. El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s). Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s). En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi. Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A. Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La <br>eficiencia</br> de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo. Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor. Un mecanismo M define unas reglas de asignación y pago, M = (R, P). Una regla de pago P decide el pago pi donde P es una función P: V → RN. Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores. Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10]. El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad. El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores. M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa. Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0. Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados. Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio. Los dos algoritmos son tales que, dado un mecanismo IR e IC M que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte a M en un mecanismo IR, IC y BB. El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplen las condiciones correctas y el mecanismo M se convierte en uno de tipo BB. Las condiciones adecuadas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado. Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando. Definición 2.3. Para cualquier jugador i ∈ N, decimos que el conjunto Ri ⊆ N \\ {i} es un conjunto de reemplazo de i, si para cualquier conjunto de adquisición s ∈ S tal que i ∈ s y Ri∩s = ∅, s\\{i}∪Ri ∈ S. Por ejemplo, en una subasta (homogénea) de doble cara (ver problema B.1), el conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador. En una subasta de espacios de transporte (ver problema B.7), el conjunto de reemplazo de un borde es un camino entre los extremos del borde. Ten en cuenta que un conjunto puede reemplazar a un solo jugador. Además, esta relación es transitiva pero no necesariamente simétrica. Si i es un conjunto de reemplazo para j, no necesariamente es cierto que j sea un conjunto de reemplazo para i. Definición 2.4. Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una competencia interna para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i. T = s \\ {i} ∪ Ri(A, s) ∈ S y W(T) ≥ 0. Definición 2.5. Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una competencia externa para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0. Supondremos, sin pérdida de generalidad, que no hay empates entre los valores de ninguna asignación, y en particular no hay empates entre los valores de los conjuntos de adquisiciones. En caso de empate, este puede romperse utilizando las identidades de los jugadores. Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con competencia externa Ei(A, s), existe exactamente un conjunto que representa la competencia externa de mayor valor. Definición 2.6. Un conjunto X ⊂ N es cerrado bajo reemplazo si ∀i ∈ X entonces Ri ⊂ X. Lo siguiente define la competencia requerida necesaria para mantener IC, IR y BB. El conjunto X5 denota esta competencia y está cerrado bajo reemplazo. En el resto del documento asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo. Definición 2.7. Sea X ⊂ N un conjunto que está cerrado bajo reemplazo, decimos que el mecanismo es un mecanismo X-externo, si 1. Cada jugador i ∈ X tiene una competencia externa. 2. Cada jugador i /∈ X tiene una competencia interna. 3. Para todos los jugadores i1, . . . , it ∈ s \\ X existen Ri1 (A, s), . . . , Rit (A, s) tales que para cada iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. para cada conjunto de adquisiciones s ∈ S se cumple que s∩X = ∅ Para dominios generales, la elección de X puede ser crucial. De hecho, incluso para el mismo dominio, el bienestar (y los ingresos) pueden variar ampliamente dependiendo de cómo se defina X. En el apéndice C damos un ejemplo donde dos posibles elecciones de X producen resultados muy diferentes. Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la optimalidad de X y este es un importante problema abierto. Nuestros dos algoritmos de reducción de comercio generalizados garantizarán que para cualquier asignación tengamos los tipos deseados de competencia. Dado un mecanismo M que es CI e IR con asignación A, el objetivo de los algoritmos es convertir a M en un mecanismo X-externo. Los dos algoritmos de reducción de comercio generalizados utilizan una función de división D que divide la asignación A en conjuntos de adquisición disjuntos. Los algoritmos ordenan los conjuntos de adquisiciones definidos por D en orden de valor creciente. Para cualquier conjunto de adquisiciones hay un tipo deseado de competencia que depende únicamente de los jugadores que componen el conjunto de adquisiciones. Los algoritmos de reducción de comercio generalizados recorren los conjuntos de adquisiciones en orden (del más pequeño al más grande) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el conjunto. La reducción de los conjuntos de adquisiciones también se conocerá como reducción del comercio. Formalmente, los detalles sobre cómo resolver empates en las asignaciones son estándar y se omiten. Presentamos algunas compensaciones entre los diferentes conjuntos posibles en el Apéndice C. Definición 2.8. D es una función de división si para cualquier asignación A y el vector de valores de los jugadores v, D divide la asignación en conjuntos de adquisiciones disjuntos s1, . . . , sk de manera que ∪sj = A y para cualquier jugador i con valor vi si i ∈ sj1 y t ∈ sj2 tal que j1 ≥ j2 entonces para cualquier valor vi > vi del jugador i y división por D en s1, . . . , sk tal que i ∈ sj1 y t ∈ sj2 entonces j1 > j2. Los dos algoritmos de reducción de comercio generalizados presentados aceptan problemas en diferentes dominios. Las definiciones de dominio formal siguen: Definición 2.9. Un dominio es un dominio de clase si para todo i ∈ N y todos los conjuntos de reemplazo de i, Ri, |Ri| = 1 y para todo i, j, i = j si j = Ri entonces i = Rj. Intuitivamente, esto significa que los conjuntos de reemplazo son de tamaño 1 y la relación de reemplazo es simétrica. Definimos la clase de un jugador i como el conjunto de los conjuntos de reemplazo de los jugadores y denotamos la clase del jugador i por [i]. Es importante tener en cuenta que dado que los conjuntos de reemplazo son relaciones transitivas y dado que los dominios de clase también imponen relaciones simétricas en los conjuntos de reemplazo, la clase de un jugador i, [i] es en realidad una clase de equivalencia para i. Definición 2.10. Un dominio es un dominio de clase de adquisición si el dominio es un dominio basado en clases y si para cualquier jugador i tal que existan dos conjuntos de adquisición s1, s2 (no necesariamente intercambiando simultáneamente en ninguna asignación) tales que i ∈ s1 e i ∈ s2, entonces existe una biyección f: s1 → s2 tal que para cualquier j ∈ s1, f(j) es un conjunto de reemplazo para j en s2. Ejemplo 2.1. Una subasta (homogénea) de doble cara (ver problema B.1) es un dominio basado en la clase de adquisiciones. Para la subasta de doble cara (homogénea), cada conjunto de adquisición consiste en un comprador y un vendedor. La subasta combinatoria de doble cara que consiste en un único comprador con múltiples preferencias y múltiples vendedores de bienes heterogéneos (ver problema B.9), es un dominio basado en clases (ya que tenemos un único comprador) pero no es un dominio basado en clases de adquisiciones. En este caso, el comprador es una clase y cada conjunto de vendedores del mismo bien es una clase. Sin embargo, para un comprador no hay una biyección entre los diferentes conjuntos de adquisición de los paquetes de bienes en los que el comprador está interesado. El mercado distribuido espacialmente con bordes estratégicos (ver problema B.6) no es un dominio basado en clases (y por lo tanto no es un dominio de clase de adquisiciones). Por ejemplo, incluso para un comprador fijo y un vendedor fijo existen dos conjuntos de adquisición diferentes que consisten en diferentes rutas entre los compradores y vendedores. Las siguientes secciones presentan dos algoritmos GTR-1 y GTR-2. El algoritmo GTR-1 acepta problemas en dominios basados en la clase de adquisiciones, sus propiedades se demuestran con una función de división general D. El algoritmo GTR-2 acepta problemas en cualquier dominio. Demostramos las propiedades de GTR-2s con una función de división específica D0. La función será definida en la sección 4. Dado que la función de división puede tener un gran impacto práctico en el bienestar (y los ingresos), la generalidad de GTR − 1 (aunque sea en dominios especiales) puede ser una consideración práctica importante. 3. DOMINIOS BASADOS EN CLASES DE ADQUISICIÓN Esta sección se centra en los problemas que son dominios basados en clases de adquisición. Para este dominio, presentamos un algoritmo llamado GTR-1, que dado un mecanismo que es IR e IC, produce un mecanismo con bienestar reducido que es IR, IC y equilibrado presupuestariamente. Aunque los dominios de clase de adquisición parecen ser un modelo relativamente restringido, de hecho muchos de los dominios estudiados en la literatura son dominios de clase de adquisición. Ejemplo 3.1. Los siguientes dominios son dominios de clase de adquisiciones: • subastas de doble cara con bienes homogéneos [13] (problema B.1). En este dominio hay dos clases. La clase de compradores y la clase de vendedores. Cada conjunto de adquisiciones consta de un único comprador y un único vendedor. Dado que cada par de (comprador, vendedor) es un conjunto de adquisición válido (aunque posiblemente con valor negativo), este es un dominio de clase de adquisición. En este dominio, la constante asignada a los conjuntos de adquisición es F = 0. • Mercados distribuidos espacialmente con bordes no estratégicos [3, 9] (problema B.3). Al igual que las subastas de doble cara con bienes homogéneos, hay dos clases en el dominio. Clase de compradores y clase de vendedores con conjuntos de adquisición que consisten en un comprador y un vendedor. Los vendedores y compradores son nodos en un grafo y la función F es la distancia entre dos nodos (longitud de la arista) que representa los costos de transporte. Estos costos varían entre diferentes pares (comprador, vendedor). • Cadenas de suministro [2, 4] (problema B.5). La suposición de una manufactura única por [2, 4] se puede entender mejor como convertir las cadenas de suministro generales (que no necesariamente deben ser un dominio de clase de adquisiciones) en un dominio de clase de adquisiciones. • Subastas combinatorias de mente única [11] (problema B.8). En este contexto, cada vendedor vende un solo bien y cada comprador desea un conjunto de bienes. Las clases son conjuntos de vendedores que venden el mismo bien, así como los compradores que desean el mismo paquete. Un conjunto de adquisiciones consiste en un único comprador, así como un conjunto de vendedores que pueden satisfacer a ese comprador. Una definición del mecanismo sigue a continuación: Definición 3.1. El algoritmo GTR-1, dado un mecanismo M, un conjunto X ⊂ N que es cerrado bajo reemplazo, una función de división D y una asignación A, opera de la siguiente manera: 1. Utiliza la función de división D para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 2. Ordena los conjuntos de adquisición por valor creciente. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay competencia externa y para cada i ∈ sj \\ X hay competencia interna, entonces se conservan los 23 sj. De lo contrario, reduzca el intercambio sj (es decir, elimine cada i ∈ sj de la asignación). Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. A todos los jugadores no comerciales no se les cobra nada. Observación 3.1. El caso especial donde X = N ha recibido atención bajo diferentes formas en varios casos especiales, como ([13, 3, 4]). 3.1 El GTR-1 produce un mecanismo externo de X que es IR, IC y BB. En esta subsección demostramos que el algoritmo GTR-1 produce un mecanismo externo de X que es IR, IC y BB. Para demostrar las propiedades de GTR-1, hacemos uso del teorema 3.1, el cual es un resultado bien conocido (por ejemplo, [14, 11]). El Teorema 3.1 caracteriza las condiciones necesarias y suficientes para que un mecanismo para jugadores de valor único sea IR e IC: Definición 3.2. Una regla de asignación R es Bid Monotónica si para cualquier jugador i, cualquier oferta de los otros jugadores b−i ∈ V−i, y cualquier par de ofertas posibles de i, ˆbi > bi, si i negocia bajo la regla de asignación R al informar bi, entonces i también negocia al informar ˆbi. Intuitivamente, una regla de asignación monótona de oferta garantiza que ningún jugador comerciante pueda convertirse en un jugador no comerciante al mejorar su oferta. Teorema 3.1. Un mecanismo IR M con regla de asignación R es IC si y solo si R es Bid Monotónico y cada jugador comerciante i paga su valor crítico Ci (pi = Ci). Por lo tanto, para los mecanismos IR7 e IC normalizados, la regla de asignación que es bid monótona define de manera única los valores críticos para todos los jugadores y, por lo tanto, los pagos. Observación 3.1. Sean M1 y M2 dos mecanismos IR e IC con la misma regla de asignación. Entonces M1 y M2 deben tener la misma regla de pago. En lo siguiente demostramos que el algoritmo GTR-1 externo de X produce un mecanismo IR, IC y BB, pero primero se muestra un lema subsidiario. Lema 3.1. Para los dominios de clase de adquisiciones, si existe un conjunto de adquisiciones sj tal que i ∈ sj y i tiene competencia externa, entonces todos los t = i t ∈ sj, t tiene competencia interna. Prueba. Esto se deriva de la definición de los dominios de clase de adquisiciones. Supongamos que i tiene competencia externa, entonces existe un conjunto de jugadores Ei(A, s) tal que {i} ∪ Ei(A, s) ∈ S. Denotemos por sj = {i} ∪ Ei(A, s). Dado que el dominio es un dominio de clase de adquisiciones, existe una función biyectiva f entre sj y sj. f define la competencia interna requerida. Comenzamos demostrando IR e IC: Aunque la definición de un mecanismo externo X requiere que X intersecte cada conjunto de adquisiciones, esto no es estrictamente necesario. Es posible definir un X que no intersecte con cada conjunto de adquisiciones posible. En este caso, cualquier conjunto de adquisiciones s ∈ S tal que s ∩ X = ∅ se reducirá. Nótese que esto no es cierto para mecanismos que no están normalizados, por ejemplo, [7, 12] Lema 3.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR e IC. Prueba. Por la definición de un esquema de precios de valor crítico 2.2 y el algoritmo GTR-1 3.1 se sigue que para cada jugador comercial i, vi ≥ 0. Por el algoritmo GTR-1, 3.1 jugadores no comerciales tienen un pago de cero. Por lo tanto, para cada jugador i, valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que el mecanismo externo X producido es IR. Dado que el algoritmo X-external GTR-1 es IR y aplica el esquema de pago de valor crítico según el teorema 3.1, para demostrar que el mecanismo X-external producido con el esquema de pago de valor crítico es IC, queda por demostrar que la regla de asignación de mecanismos producida es bid-montónica. Dado que GTR-1 ordena los conjuntos de adquisición según el valor creciente, si el jugador i aumenta su oferta de bi a bi > bi, entonces para cualquier función de división D de conjuntos de adquisición, el conjunto de adquisición s que contiene a i siempre aparece más tarde con la oferta bi que con la oferta bi. Por lo tanto, la probabilidad de competencia solo puede aumentar si i aparece en conjuntos de adquisiciones posteriores. Esto se traduce en que GTR-1 puede reducir más de los conjuntos de adquisiciones de menor valor, lo que resultará en más jugadores no comerciales. Por lo tanto, si s tiene la competencia requerida y no se reduce con bi, entonces tendrá la competencia requerida con bi y no se reducirá. Finalmente demostramos BB: Lema 3.3. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo BB. Prueba. Para demostrar que el mecanismo producido es BB, mostramos que cada conjunto de adquisiciones que no está reducido tiene un presupuesto positivo (es decir, la suma de los pagos es positiva). Sea s ∈ S un conjunto de adquisiciones que no está reducido. Si i ∈ s ∩ X, entonces según la definición de la definición externa de X 2.7 y el algoritmo GTR-1 3.1, i tiene una competencia externa. Supongamos sin pérdida de generalidad que i es el único jugador con competencia externa en s y que todos los demás jugadores j = i, j ∈ s tienen competencia interna. Sea A la asignación después de la reducción de los conjuntos de adquisición por el algoritmo GTR-1. Según la definición de competencia externa 2.5, existe un conjunto Ei(A, s) ⊂ N \\A tal que i ∪ Ei(A, s) ∈ S y W(i ∪ Ei(A, s)) ≥ 0. Dado que W(i∪Ei(A, s)) = vi +W(Ei(A, s)), entonces vi ≥ −W(Ei(A, s)). Según la definición 2.2 del esquema de fijación de precios por valor crítico, esto significa que si el jugador i ofrece menos de −W(Ei(A, s)), no tendrá competencia externa y, por lo tanto, será eliminado del intercambio. Por lo tanto, pago no menos de min −W(Ei(A, s)). Dado que todos los demás jugadores j ∈ s tienen competencia interna, su precio crítico no puede ser menor que el valor máximo de su competidor interno (conjunto), es decir, max W(Rj(A, s)). Si algún jugador j ∈ s ofrece menos que su competidor interno máximo (conjunto), entonces él no estará en s pero su competidor interno máximo (conjunto) sí lo estará. Dado que un posible Ei(A, s) es ∪j∈sRj(A, s), se puede acotar el valor máximo de su competencia externa W(Ei(A, s)) por la suma de los valores máximos del resto de los jugadores en s 8, dado que el dominio es un dominio de clase de adquisiciones, podemos usar el lema 3.1 24 de competencia interna, es decir, j∈s max W(Rj(A, s)). Por lo tanto, min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))). Dado que la función F se define como una constante positiva, obtenemos que W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 y, por lo tanto, s es al menos equilibrado en términos presupuestarios. Dado que cada conjunto de adquisiciones que no se reduce está al menos equilibrado presupuestariamente, se deduce que el mecanismo externo X producido es BB. Los dos lemas anteriores producen el siguiente teorema: Teorema 3.2. Para los dominios de clase de adquisiciones para cualquier X, el mecanismo externo X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR, IC y BB. Observación 3.2. La prueba del teorema proporciona límites sobre los pagos que cualquier jugador tiene que hacer al mecanismo. Los dominios no basados en la clase de adquisiciones. La razón principal por la que GTR-1 funciona para los dominios no basados en la clase de adquisiciones es que la posibilidad de reducción de cada jugador es monótona. Por la definición de una función de división, si un jugador i ∈ sj aumenta su valor, i solo puede aparecer en un conjunto de adquisiciones sj posterior y, por lo tanto, tiene una mayor probabilidad de tener la competencia deseada. Por lo tanto, la probabilidad de que i carezca de la competencia necesaria disminuye. Dado que el dominio es un dominio de clase de adquisiciones, es más probable que todos los demás jugadores t = i, t ∈ sj también tengan competencia, ya que los miembros de su clase siguen apareciendo antes que i y, por lo tanto, la probabilidad de que i sea reducido disminuye. Dado que, según el teorema 3.1, una condición necesaria y suficiente para que el mecanismo sea CI es la monotonicidad. GTR-1 es IC para dominios de clase de adquisiciones. Sin embargo, para los dominios que no son de la clase de adquisiciones, esto no es suficiente incluso si el dominio es un dominio basado en clases. Aunque todos los miembros de sj siguen teniendo la competencia requerida, es posible que haya miembros de sj que no tengan análogos en sj que no tengan competencia. Por lo tanto, podría reducirse después de aumentar su valor, lo que significa, según el lema 3.1, que el mecanismo no es IC. Por lo tanto, definimos un algoritmo diferente para los dominios que no pertenecen a la clase de adquisiciones. Nuestro algoritmo modificado requiere una función de división especial para mantener la propiedad de IC. Aunque nuestra restricción a esta función de división especial parezca estricta, la función de división que utilizamos es una generalización de la forma en que se eligen los conjuntos de adquisiciones en dominios basados en clases de adquisiciones, por ejemplo, [13, 16, 9, 3, 2, 4]. Para facilitar la presentación en esta sección, asumimos que F = 0. La función de división para dominios generales se define al observar todas las posibles funciones de división. Para cada función de división Di y cada conjunto de ofertas, el algoritmo GTR-1 produce un bienestar que es una función de las ofertas y la función de división. Denotamos por D0 la función de división que divide a los jugadores en conjuntos de manera que el bienestar que encuentra GTR-1 sea máximo. Cabe destacar que para cualquier Di en particular, esto podría no ser IC, ya que GTR-1 es IC solo para dominios de clase de adquisición y no para dominios generales. En el Apéndice A mostramos cómo calcular D0 en polinómico. Formalmente, sea D el conjunto de todas las funciones de división D. Denotemos el bienestar logrado por el mecanismo producido por GTR1 al usar la función de división D y un conjunto de ofertas ¯b como GTR1(D, ¯b). Denote por D0(¯b) = argmaxD∈D(GTR1(D,¯b)). Para facilitar la presentación, denotamos D0(¯b) como D0 cuando la dependencia de b es clara en el contexto. Observación 4.1. D0 es un elemento del conjunto de funciones divisorias, y por lo tanto es una función divisoria. El segundo algoritmo de reducción de comercio generalizado GTR-2 sigue. Definición 4.1. El algoritmo GTR-2 - Dado el mecanismo M, la asignación A y un conjunto X ⊂ N cerrado bajo reemplazo, GTR-2 opera de la siguiente manera: 1. Calcula la función de división D0 como se define arriba. 2. Utilice la función de división D0 para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor, haz lo siguiente: Si para i ∈ sj ∩ X hay una competencia externa y hay a lo sumo un i ∈ sj que no tiene competencia interna, entonces conserva sj. De lo contrario, reduzca el intercambio sj. 4. Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. Todos los jugadores no comerciales no pagan nada. Demostraremos que el mecanismo producido por GTR-2 mantiene las propiedades deseadas de IR, IC y BB. El siguiente lema muestra que el mecanismo producido por GTR-2 es IR y IC. Lema 4.1. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR e IC. Prueba. Según el teorema 3.1, basta con demostrar que el mecanismo producido por el algoritmo GTR-2 es bidmonótono para cada jugador i. Supongamos que no fui reducido al ofertar bi, necesitamos demostrar que no seré reducido al ofertar bi > bi. Denote por D1 = D0(b) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por D1 = D0(bi, b−i) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por ¯D1(b) una función divisoria máxima que resulta en GTR-1 reduciendo i al informar bi. Supongamos, por el contrario, que GTR-2 redujo i del intercambio cuando i informó bi, entonces GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b). Dado que D1 ∈ D, se sigue que GTR1(D1, b) > GTR1( ¯D1, b) y por lo tanto GTR1(D1, b) > GTR1(D1, (bi, b−i)). Sin embargo, según la definición D1 ∈ D, GTR-2 no debería haber reducido el tiempo mínimo de adquisición para los dominios de clase de aprovisionamiento. Calcular D0 en tiempo polinómico para dominios generales es un problema abierto importante. En la versión completa de GTR-2 se extiende de tal manera que basta con que exista algún momento en el cual se cumpla el tercer paso. Esa extensión se omitió de la versión actual debido a la falta de espacio. 25 con la función de división D1 y obtuvo un mayor bienestar que GTR1(D1, b). Por lo tanto, surge una contradicción y GTR-2 no reduce i del intercambio cuando i informa que bi > bi. Lema 4.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo BB. Prueba. Esta prueba es similar a la prueba del lema 3.3. Combinando los dos lemas anteriores obtenemos: Teorema 4.1. Para cualquier X cerrado bajo reemplazo, el mecanismo externo de X con el esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR, IC y BB. El Apéndice A muestra cómo calcular D0 para dominios de clase de adquisiciones en tiempo polinómico, no se sabe generalmente cómo calcular D0 fácilmente. Crear un método general para calcular la función de división necesaria en tiempo polinómico sigue siendo una pregunta abierta. 4.1 Limitando el Bienestar para Dominios Basados en Clases de Adquisición y otros Casos de Dominios Generales. Esta sección muestra que, además de producir un mecanismo con las propiedades deseadas, GTR-2 también produce un mecanismo que mantiene un alto bienestar. Dado que el algoritmo GTR-2 encuentra un mecanismo equilibrado en presupuesto en dominios arbitrarios, no podemos acotar el bienestar para casos generales. Sin embargo, podemos acotar el bienestar para el dominio basado en la clase de adquisiciones y una amplia variedad de casos en dominios generales que incluyen muchos casos previamente estudiados. Definición 4.2. Denote freqk([i], sj) para indicar que una clase [i] aparece en un conjunto de adquisiciones sj, k veces y hay k miembros de [i] en sj. Definición 4.3. Denote por freqk([i], S) el máximo k tal que hay k miembros de [i] en sj. Es decir, freqk([i], S) = maxsj ∈S freqk([i], sj). Deje que el conjunto de clases de equivalencia en el mecanismo de dominio basado en la clase de adquisiciones sea ec y |ec| sea el número de esas clases de equivalencia. Usando la definición de frecuencia de apariencia de clase, podemos acotar el bienestar logrado por el mecanismo producido por GTR-2 para los dominios de clase de adquisición: Lema 4.3. Para los dominios de clase de adquisiciones con F = 0, el número de conjuntos de adquisiciones que se reducen por GTR-213 es a lo sumo |ec| veces la frecuencia máxima de cada clase. Formalmente, el número máximo de conjuntos de adquisición que se reduce es O( [i]∈ec freqk([i], S)) Demostración. Sea D una función de división arbitraria. Observamos que, por definición, cualquier conjunto de adquisiciones sj no se reducirá si cada i ∈ sj tiene tanto competencia interna como competencia externa. El bienestar logrado por GTR-1 también puede estar acotado para los casos presentados en esta sección. Sin embargo, nos enfocamos en GTR-2 ya que siempre logra un mejor bienestar. 13 o GTR-1 Cada conjunto de adquisiciones s que se reduce tiene al menos un jugador i que no tiene competencia. Una vez que s se reduce, todos los jugadores de [i] tienen competencia interna. Así, al reducir el número de clases de equivalencia |ec| de conjuntos de adquisiciones, cubrimos a todos los jugadores restantes con competencia interna. Si la frecuencia máxima de cada clase de equivalencia fuera uno, entonces cada jugador restante t en el conjunto de adquisiciones sk también tendría competencia externa, ya que todos los competidores internos de los jugadores ¯t = t, ¯t ∈ sk son competencia externa para t. Si tenemos freqk([t], S) jugadores de la clase [t] que fueron reducidos, entonces hay suficiente competencia externa para todos los jugadores en sk. Por lo tanto, basta con reducir los conjuntos de adquisición O( [i]∈ec freqk([i], S)) para garantizar que exista tanto la competencia interna como externa necesaria. El siguiente teorema se deduce como un corolario inmediato del lema 4.3: Teorema 4.2. Dado mecanismos de dominio basados en clases de adquisición con H conjuntos de adquisición, la <br>eficiencia</br> es al menos una fracción de 1 − O( O( [i]∈ec freqk([i],S)) H ) del bienestar óptimo. Los siguientes corolarios son resultados directos del teorema 4.2. Todos estos corolarios mejoran resultados anteriores o logran el mismo bienestar que los resultados anteriores. Corolario 4.1. Para utilizar GTR-2 en subastas homogéneas de doble cara (problema B.1), se debe reducir como máximo un conjunto de adquisición de 14. De manera similar, para mercados distribuidos espacialmente sin bordes estratégicos (problema B.3), el uso de GTR-2 mejora el resultado de [3] donde se reduce un ciclo mínimo que incluye a un comprador y un vendedor. Corolario 4.2. Usar GTR-2 para mercados distribuidos espacialmente sin bordes estratégicos reducirá a lo sumo un ciclo por componente conectado. Para las cadenas de suministro (problema B.5) el uso de GTR-2 mejora el resultado de [2, 4] de manera similar al corolario 4.2. Corolario 4.3. Usando GTR-2 para cadenas de suministro, se reducirá a lo sumo un ciclo por componente conectado. El siguiente corolario resuelve el problema abierto en [3]. Corolario 4.4. Para mercados distribuidos en n nodos con agentes estratégicos y caminos de longitud acotada K (problema B.6) basta con eliminar como máximo K * n conjuntos de adquisiciones. Prueba. Bosque de expansión: Estos crearán al menos K árboles de expansión, por lo tanto, podemos cubrir de manera disjunta cada conjunto de adquisiciones restante. Esto mejora el algoritmo ingenuo de reducir conjuntos de adquisición n2. Proporcionamos resultados para dos casos especiales de subastas de doble cara con jugadores de valor único (problema B.8). Es posible que no se realicen reducciones, por ejemplo, cuando hay un jugador no comercial que es la competencia externa requerida. Al igual que en las subastas de doble cara, a veces habrá suficiente competencia sin una reducción. Corolario 4.5. si hay como máximo M tipos diferentes de conjuntos de adquisición, basta con eliminar M conjuntos de adquisición. Corolario 4.6. Si hay K tipos de bienes y cada conjunto de adquisición consiste en a lo sumo uno de cada tipo, basta con eliminar a lo sumo K conjuntos de adquisición. CONCLUSIONES Y TRABAJOS FUTUROS En este artículo presentamos un procedimiento de solución general llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo de IR e IC como entrada y produce mecanismos que son IR, IC y BB como salida. Los mecanismos de salida logran un bienestar que se acerca a lo óptimo para una amplia gama de dominios. El procedimiento GTR mejora los resultados existentes como subastas homogéneas de doble cara, mercados distribuidos y cadenas de suministro, y resuelve varios problemas abiertos como mercados distribuidos con aristas de transporte estratégicas y caminos acotados, subastas de doble cara combinatorias con conjuntos de adquisiciones de tamaño acotado, y subastas de doble cara combinatorias con un número acotado de conjuntos de adquisiciones. La cuestión de la calidad de la aproximación del bienestar tanto en general como en dominios de clase que no son dominios de clase de adquisición es una pregunta abierta importante e interesante. También dejamos abierta la pregunta de los límites superiores para la calidad de la aproximación del bienestar. Aunque sabemos que es imposible tener IR, IC y BB en un mecanismo eficiente, sería interesante tener un límite superior en la aproximación al bienestar alcanzable en un mecanismo IR, IC y BB. El procedimiento GTR produce un mecanismo que depende de un conjunto X ⊂ N. Otra pregunta interesante es cuál es la calidad de la aproximación cuando X se elige al azar de N antes de que se declaren las valoraciones. Agradecimientos Los autores desean agradecer a Eva Tardos y colaboradores por compartir sus resultados con nosotros. Los autores también desean expresar su gratitud por los comentarios útiles de los revisores anónimos.  REFERENCIAS [1] A. Archer y E. Tardos. Mecanismos de camino frugal. Simposio sobre Algoritmos Discretos, Actas del decimotercer simposio anual de algoritmos discretos ACM-SIAM, 2002. [2] M. Babaioff y N. Nisan. Subastas simultáneas en toda la cadena de suministro. Revista de Investigación en Inteligencia Artificial, 2004. [3] Babaioff M., Nisan N. y Pavlov E. Mecanismos para un Mercado Distribuido Espacialmente. En actas de la 5ta Conferencia ACM sobre Comercio Electrónico, 2004. [4] M. Babaioff y W. E. Walsh. Subastas Incentivo-Compatible, Equilibradas en Presupuesto, pero Altamente Eficientes para la Formación de Cadenas de Suministro. En actas de la Cuarta Conferencia ACM sobre Comercio Electrónico, 2003. [5] Y. Bartal, R. Gonen y P. La Mura. Mecanismos de rango de negociación: explorando los límites de los mercados eficientes y veraces. EC 04: Actas de la 5ta conferencia de ACM sobre comercio electrónico, 2004. [6] Blume L, Easley D., Kleinberg J. y Tardos E. Redes de intercambio con agentes que fijan precios. En actas de la 8ª conferencia de la ACM sobre comercio electrónico, 2007. [7] Cavallo R. Toma de decisiones óptima con desperdicio mínimo: redistribución estratégicamente segura de pagos VCG. En Proc. 5th Int. Conf. sobre Autonomía. Agentes y Sistemas Multiagente (AAMAS06). [8] E. H. Clarke Fijación de precios múltiples de bienes públicos. En la revista Public Choice de 1971, vol. 2, pp. 17-33. [9] Chu L. Y. y Shen Zuo-Jun M. Mecanismo de Subasta Doble de Competencia de Agentes. Ciencia de la Gestión, vol. 52(8), 2006. [10] T. Groves Incentivos en equipos. En la revista Econometrica de 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan y Y. Shoham. Revelación de la verdad en subastas combinatorias aproximadamente eficientes. En Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Obtención de preferencias honestas para la asignación de individuos a posiciones. Revista de economía política, 1983. [13] McAfee R. P. Una subasta doble de estrategia dominante. Revista de Teoría Económica, vol. 56, 434-450, 1992. [14] A. Mualem y N. Nisan. Mecanismos de Aproximación Veraz para Subastas Combinatorias Restringidas. Actas de AAAI 2002. [15] Myerson R. B. y Satterthwaite M. A. Mecanismos eficientes para el comercio bilateral. Revista de Teoría Económica, vol. 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. y Zhang R. Q. Mecanismos de subasta eficientes para la adquisición de la cadena de suministro. Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, 2001. [17] W. Vickrey Contrapronóstico, Subastas y Licitaciones Competitivas Selladas. En Journal of Finance 1961, vol. 16, pp. 8-37. APÉNDICE A. CALCULANDO LA FUNCIÓN DE DIVISIÓN ÓPTIMA EN DOMINIOS DE CLASE DE ADQUISICIÓN EN TIEMPO POLINÓMICO En esta sección mostramos cómo calcular la función de división óptima para dominios de clase de adquisición en tiempo polinómico. Primero definimos una función de división especial D0 que es fácil de calcular: Definimos la función de división D0 de forma recursiva de la siguiente manera: En la etapa j, D0 divide a los jugadores comerciales en dos conjuntos Aj y Aj de manera que: • Aj es un conjunto de adquisiciones • Aj puede dividirse en una unión disjunta de conjuntos de adquisiciones. • Aj tiene un valor mínimo de todas las particiones posibles. Define sj = Aj y llame recursivamente a D0 y Aj hasta que Aj = ∅. Ahora demostramos que D0 es la función de división requerida. Lema A.1. Para los dominios de clase de adquisiciones D0 = D0. Prueba. Dado que el dominio es un dominio de clase de adquisiciones, para cada conjunto de adquisiciones reducido, el conjunto de jugadores que logran la competencia (ya sea interna o externa) está fijo. Por lo tanto, el número de conjuntos de adquisiciones que se reducen es independiente de la función de división D. Dado que el objetivo es optimizar el bienestar reduciendo los conjuntos de adquisiciones con el menor valor, podemos optimizar el bienestar. Esto se logra mediante D0. I'm sorry, but you did not provide a sentence to translate. Please provide the sentence you would like me to translate to Spanish. PROBLEMAS Y EJEMPLOS Para completitud, presentamos en esta sección las definiciones formales de los problemas que utilizamos para ilustrar nuestro mecanismo. El primer problema que definimos es la subasta de doble cara con bienes homogéneos. Problema B.1. Subasta de doble cara con bienes homogéneos: Hay m vendedores, cada uno con un solo bien (todos los bienes son idénticos) y n compradores, cada uno interesado en recibir un bien. Denotamos el conjunto de vendedores como S y el conjunto de compradores como B. Cada jugador i ∈ S ∪ B (tanto compradores como vendedores) tiene un valor vi por el bien. En este modelo, un conjunto de adquisiciones consiste en un único comprador y un único vendedor, es decir, |s| = 2. El valor de un conjunto de adquisiciones es W(s) = vj − vi donde j ∈ B e i ∈ S, es decir, la ganancia del intercambio. Si los conjuntos de adquisiciones se crean emparejando al comprador de mayor valor con el vendedor de menor valor, entonces el mecanismo de reducción de intercambio determinístico [13] reduce el conjunto de adquisiciones de menor valor. Un modelo relacionado es el modelo de costos relacionados en pares [9]. Problema B.2. Los costos relacionados en pares: una subasta de doble cara B.1 en la que cada par de jugadores i ∈ S y j ∈ B tiene un costo relacionado F(i, j) ≥ 0 para poder comerciar. F(i, j) es un costo de fricción que debe minimizarse para maximizar el bienestar. [9] define dos mecanismos equilibrados presupuestariamente para este caso. Uno de los mecanismos de [9] tiene el conjunto de compradores B como el conjunto X para el mecanismo X-externo y el otro tiene el conjunto de vendedores S como el conjunto X para el mecanismo X-externo. Un modelo similar es el modelo de mercados distribuidos espacialmente (SDM) [3] en el que hay un grafo que impone relaciones en el costo. Problema B.3. Mercados distribuidos espacialmente: existe un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene asociado un costo que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Los bordes no son estratégicos, pero todos los jugadores son estratégicos. [3] define un mecanismo equilibrado en presupuesto para este caso. Nuestro artículo mejora el resultado de [3]. Otro modelo de gráfica es el modelo definido en [6]. Problema B.4. Redes de intercambio: Dado un grafo y compradores y vendedores que se encuentran en los nodos del grafo. Todo comercio debe pasar a través de un comerciante. En este caso, los conjuntos de adquisiciones tienen la forma (comprador, vendedor, comerciante) donde los posibles conjuntos de esta forma están definidos por un gráfico. El modelo de cadena de suministro [2, 4] puede ser visto como una generalización de [6] en la que los conjuntos de adquisición consisten en la forma (productor, consumidor, comerciante1, . . . , comerciantek). También es posible aleatorizar la reducción de los conjuntos de adquisición para lograr un presupuesto esperado de cero similar a [13], los detalles son obvios y se omiten. Problema B.5. Cadena de suministro: Hay un conjunto D de agentes y un conjunto G de bienes y un grafo G = (V, E) que define posibles relaciones comerciales. Los agentes pueden requerir una entrada de múltiples cantidades de bienes para producir un solo bien. El jugador tipo productor puede producir bienes de la nada, el consumidor tiene una valoración y es necesaria toda una cadena de intermediarios para crear un conjunto de adquisiciones viable. [2, 4] consideran una tecnología de fabricación única en la que el grafo que define las posibles relaciones es un árbol. Todos los problemas anteriores son dominios de clase de adquisiciones. También consideramos varios problemas que no son dominios de la clase de adquisiciones y, en general, las cuestiones de equilibrio presupuestario se han dejado como problemas abiertos. Un problema abierto planteado en [3] es el modelo SDM en el que los bordes son estratégicos. Problema B.6. Mercados distribuidos espacialmente con bordes estratégicos: hay un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene un costo asociado que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Cada comprador, vendedor y intermediario tiene un valor para el intercambio, es decir, todas las entidades son estratégicas. [2, 4] dejó abierta la cuestión de los mecanismos equilibrados en presupuesto para cadenas de suministro donde no hay una tecnología de fabricación única. Es fácil ver que este problema no pertenece al ámbito de la clase de adquisiciones. Otro problema interesante son las redes de transporte. Problema B.7. Redes de transporte: Un grafo G = (V, E) donde las aristas son jugadores estratégicos con costos y el objetivo es encontrar una ruta de transporte de costo mínimo entre un par de nodos privilegiados Fuente y Objetivo ∈ V. Se demostró en [1] que la asignación eficiente puede tener un déficit presupuestario que es lineal en el número de jugadores. Claramente, este problema no es un dominio de clase de adquisiciones y dejó abierta la pregunta de un mecanismo de presupuesto equilibrado. Otro mecanismo de dominio no basado en la clase de adquisiciones es la subasta combinatoria de doble cara (CA) con jugadores de valor único. Problema B.8. Subasta combinatoria de doble cara (CA) con jugadores de valor único: Existe un conjunto S de vendedores, cada uno vendiendo un solo bien. También existe un conjunto B de compradores, cada uno interesado en paquetes de 2S18. Hay dos variantes de este problema. En el caso de un comprador enfocado, cada comprador tiene un valor positivo para un solo subconjunto, mientras que en el caso de múltiples intereses, cada comprador puede tener varios paquetes con valoración positiva, pero todos los valores son iguales. En ambos casos asumimos disponibilidad gratuita para que todos los paquetes que contienen el paquete deseado tengan el mismo valor para el comprador. También consideramos problemas que no pertenecen a dominios de clase. Problema B.9. Subasta combinatoria de doble cara (CA) con jugadores generales multi-mentales: igual que B.8 pero cada comprador puede tener múltiples paquetes con valoración positiva que no necesariamente son iguales. Abusamos de la notación e identificamos al vendedor con el bien. Comparando diferentes opciones de X, la elección de X puede tener un gran impacto en el bienestar (y los ingresos) del mecanismo reducido y, por lo tanto, surge la pregunta de cómo se debería elegir el conjunto X. Dado que se requiere el mecanismo X-externo para mantener la CI claramente, la elección de X no puede depender del valor de los jugadores, de lo contrario el mecanismo reducido no será veraz. En esta sección motivamos la elección de conjuntos X pequeños para dominios de clase de adquisiciones y damos intuición de que también podría ser el caso para algunos otros dominios. Comenzamos ilustrando el efecto del conjunto X sobre el bienestar y los ingresos en la subasta de doble cara con el problema de bienes homogéneos B.1. Se pueden construir ejemplos similares para los otros problemas definidos en B. El siguiente ejemplo muestra un efecto en el bienestar. Ejemplo C.1. Hay dos compradores y dos vendedores y dos conjuntos no intersectantes (incomparables) X = {compradores} e Y = {vendedores}. Si los valores de los compradores son 101, 100 y los vendedores son 150, 1, entonces el mecanismo externo X generará una ganancia del comercio de 0 y el mecanismo externo Y generará una ganancia del comercio de 100. Por el contrario, si los valores de los compradores son 100, 1 y los de los vendedores son 2, 3, el mecanismo externo X generará una ganancia comercial de 98 y el mecanismo externo Y generará una ganancia comercial de cero. El ejemplo muestra claramente que la diferencia entre el mecanismo X-externo y el mecanismo Y-externo es ilimitada, aunque como se muestra arriba, la fracción que cada uno de ellos reduce puede ser limitada y, por lo tanto, la proporción multiplicativa entre ellos puede ser limitada (como función del número de operaciones). En el lado de los ingresos ni siquiera podemos establecer un límite para la proporción, como se ve en el siguiente ejemplo: Ejemplo C.2. Considera k compradores con un valor de 100 y k+1 vendedores con un valor de 1. Si X = {compradores} entonces no es necesario reducir ningún intercambio y todos los compradores reciben el bien y pagan 1. k + 1 de los vendedores venden y cada uno recibe 1. Esto produce un ingreso neto de cero. Si Y = {vendedores} entonces se debe reducir un intercambio. Esto significa que todos los compradores pagan 100 mientras que todos los vendedores siguen recibiendo 1. La ganancia total es entonces de 99k. Del mismo modo, se puede construir un ejemplo que genere ingresos mucho más altos para el mecanismo externo X en comparación con el mecanismo externo Y. Los ejemplos anteriores se refieren a los conjuntos X e Y, los cuales no se intersectan y son incomparables. El siguiente teorema compara los mecanismos externos-X y externos-Y para dominios de clase de adquisiciones donde X es un subconjunto de Y. Teorema C.1. Para los dominios de clase de adquisiciones, si X ⊂ Y y para cualquier s ∈ S, s ∩ X ∩ Y = ∅ entonces: 1. La <br>eficiencia</br> del mecanismo externo X en GTR-1 (y por lo tanto GTR-2) es al menos igual a la del mecanismo externo Y. Cualquier jugador ganador que gane tanto en los mecanismos X-externo como en el Y-externo no paga menos en el Y-externo que en el X-externo y, por lo tanto, la proporción de presupuesto a bienestar no es peor en el Y-externo que en el X-externo. Prueba. 1. Para cualquier función de división D, si hay un conjunto de adquisición sj que se reduce en el mecanismo externo X, hay dos posibles razones: (a) sj carece de competencia externa en el mecanismo externo X. En este caso, sj carece de competencia externa en el mecanismo interno. (b) sj tiene todas las competencias externas requeridas en X-externo. En este caso, sj tiene todas las competencias internas requeridas en Y -externas según el lema 3.1, pero podría carecer de algunas competencias externas para sj ∪ {Y \\ X} y verse reducido, 2. Esto se deduce del hecho de que para cualquier orden D, cualquier conjunto de adquisiciones s que se reduce en el mecanismo externo X también se reduce en el mecanismo externo Y. Por lo tanto, el valor crítico no es menor en el mecanismo Yexterno que en el mecanismo Xexterno. Observación C.1. Para cualquier par de conjuntos X, Y, es fácil construir un ejemplo en el que los mecanismos externos de X y Y reduzcan los mismos conjuntos de adquisición, por lo que la desigualdad es débil. El Teorema C.1 muestra una desigualdad en el bienestar, así como en los pagos, pero es fácil construir un ejemplo en el que los ingresos pueden aumentar para X en comparación con Y, así como lo contrario. Esto sugiere que en general queremos que X sea lo más pequeño posible, aunque en algunos dominios no es posible comparar diferentes X. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "powers of players": {
            "translated_key": "capacidades de competencia de los jugadores",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition <br>powers of players</br> in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [
                "The above definitions build on the different competition <br>powers of players</br> in a mechanisms called internal and external competition."
            ],
            "translated_annotated_samples": [
                "Las definiciones anteriores se basan en las diferentes <br>capacidades de competencia de los jugadores</br> en un mecanismo llamado competencia interna y externa."
            ],
            "translated_text": "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado Reducción Comercial Generalizada (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro. Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB. Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio. Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas. Definimos dominios basados en clase y dominios basados en clase de adquisiciones. Las definiciones anteriores se basan en las diferentes <br>capacidades de competencia de los jugadores</br> en un mecanismo llamado competencia interna y externa. La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2. PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB. Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de intercambio. Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0. Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0. El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi. El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn. Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i. Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Que el tamaño de un conjunto de adquisiciones s se denote como |s|. Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición. El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s). Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s). En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi. Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A. Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La eficiencia de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo. Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor. Un mecanismo M define unas reglas de asignación y pago, M = (R, P). Una regla de pago P decide el pago pi donde P es una función P: V → RN. Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores. Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10]. El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad. El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores. M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa. Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0. Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados. Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio. Los dos algoritmos son tales que, dado un mecanismo IR e IC M que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte a M en un mecanismo IR, IC y BB. El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplen las condiciones correctas y el mecanismo M se convierte en uno de tipo BB. Las condiciones adecuadas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado. Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando. Definición 2.3. Para cualquier jugador i ∈ N, decimos que el conjunto Ri ⊆ N \\ {i} es un conjunto de reemplazo de i, si para cualquier conjunto de adquisición s ∈ S tal que i ∈ s y Ri∩s = ∅, s\\{i}∪Ri ∈ S. Por ejemplo, en una subasta (homogénea) de doble cara (ver problema B.1), el conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador. En una subasta de espacios de transporte (ver problema B.7), el conjunto de reemplazo de un borde es un camino entre los extremos del borde. Ten en cuenta que un conjunto puede reemplazar a un solo jugador. Además, esta relación es transitiva pero no necesariamente simétrica. Si i es un conjunto de reemplazo para j, no necesariamente es cierto que j sea un conjunto de reemplazo para i. Definición 2.4. Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una competencia interna para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i. T = s \\ {i} ∪ Ri(A, s) ∈ S y W(T) ≥ 0. Definición 2.5. Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una competencia externa para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0. Supondremos, sin pérdida de generalidad, que no hay empates entre los valores de ninguna asignación, y en particular no hay empates entre los valores de los conjuntos de adquisiciones. En caso de empate, este puede romperse utilizando las identidades de los jugadores. Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con competencia externa Ei(A, s), existe exactamente un conjunto que representa la competencia externa de mayor valor. Definición 2.6. Un conjunto X ⊂ N es cerrado bajo reemplazo si ∀i ∈ X entonces Ri ⊂ X. Lo siguiente define la competencia requerida necesaria para mantener IC, IR y BB. El conjunto X5 denota esta competencia y está cerrado bajo reemplazo. En el resto del documento asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo. Definición 2.7. Sea X ⊂ N un conjunto que está cerrado bajo reemplazo, decimos que el mecanismo es un mecanismo X-externo, si 1. Cada jugador i ∈ X tiene una competencia externa. 2. Cada jugador i /∈ X tiene una competencia interna. 3. Para todos los jugadores i1, . . . , it ∈ s \\ X existen Ri1 (A, s), . . . , Rit (A, s) tales que para cada iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. para cada conjunto de adquisiciones s ∈ S se cumple que s∩X = ∅ Para dominios generales, la elección de X puede ser crucial. De hecho, incluso para el mismo dominio, el bienestar (y los ingresos) pueden variar ampliamente dependiendo de cómo se defina X. En el apéndice C damos un ejemplo donde dos posibles elecciones de X producen resultados muy diferentes. Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la optimalidad de X y este es un importante problema abierto. Nuestros dos algoritmos de reducción de comercio generalizados garantizarán que para cualquier asignación tengamos los tipos deseados de competencia. Dado un mecanismo M que es CI e IR con asignación A, el objetivo de los algoritmos es convertir a M en un mecanismo X-externo. Los dos algoritmos de reducción de comercio generalizados utilizan una función de división D que divide la asignación A en conjuntos de adquisición disjuntos. Los algoritmos ordenan los conjuntos de adquisiciones definidos por D en orden de valor creciente. Para cualquier conjunto de adquisiciones hay un tipo deseado de competencia que depende únicamente de los jugadores que componen el conjunto de adquisiciones. Los algoritmos de reducción de comercio generalizados recorren los conjuntos de adquisiciones en orden (del más pequeño al más grande) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el conjunto. La reducción de los conjuntos de adquisiciones también se conocerá como reducción del comercio. Formalmente, los detalles sobre cómo resolver empates en las asignaciones son estándar y se omiten. Presentamos algunas compensaciones entre los diferentes conjuntos posibles en el Apéndice C. Definición 2.8. D es una función de división si para cualquier asignación A y el vector de valores de los jugadores v, D divide la asignación en conjuntos de adquisiciones disjuntos s1, . . . , sk de manera que ∪sj = A y para cualquier jugador i con valor vi si i ∈ sj1 y t ∈ sj2 tal que j1 ≥ j2 entonces para cualquier valor vi > vi del jugador i y división por D en s1, . . . , sk tal que i ∈ sj1 y t ∈ sj2 entonces j1 > j2. Los dos algoritmos de reducción de comercio generalizados presentados aceptan problemas en diferentes dominios. Las definiciones de dominio formal siguen: Definición 2.9. Un dominio es un dominio de clase si para todo i ∈ N y todos los conjuntos de reemplazo de i, Ri, |Ri| = 1 y para todo i, j, i = j si j = Ri entonces i = Rj. Intuitivamente, esto significa que los conjuntos de reemplazo son de tamaño 1 y la relación de reemplazo es simétrica. Definimos la clase de un jugador i como el conjunto de los conjuntos de reemplazo de los jugadores y denotamos la clase del jugador i por [i]. Es importante tener en cuenta que dado que los conjuntos de reemplazo son relaciones transitivas y dado que los dominios de clase también imponen relaciones simétricas en los conjuntos de reemplazo, la clase de un jugador i, [i] es en realidad una clase de equivalencia para i. Definición 2.10. Un dominio es un dominio de clase de adquisición si el dominio es un dominio basado en clases y si para cualquier jugador i tal que existan dos conjuntos de adquisición s1, s2 (no necesariamente intercambiando simultáneamente en ninguna asignación) tales que i ∈ s1 e i ∈ s2, entonces existe una biyección f: s1 → s2 tal que para cualquier j ∈ s1, f(j) es un conjunto de reemplazo para j en s2. Ejemplo 2.1. Una subasta (homogénea) de doble cara (ver problema B.1) es un dominio basado en la clase de adquisiciones. Para la subasta de doble cara (homogénea), cada conjunto de adquisición consiste en un comprador y un vendedor. La subasta combinatoria de doble cara que consiste en un único comprador con múltiples preferencias y múltiples vendedores de bienes heterogéneos (ver problema B.9), es un dominio basado en clases (ya que tenemos un único comprador) pero no es un dominio basado en clases de adquisiciones. En este caso, el comprador es una clase y cada conjunto de vendedores del mismo bien es una clase. Sin embargo, para un comprador no hay una biyección entre los diferentes conjuntos de adquisición de los paquetes de bienes en los que el comprador está interesado. El mercado distribuido espacialmente con bordes estratégicos (ver problema B.6) no es un dominio basado en clases (y por lo tanto no es un dominio de clase de adquisiciones). Por ejemplo, incluso para un comprador fijo y un vendedor fijo existen dos conjuntos de adquisición diferentes que consisten en diferentes rutas entre los compradores y vendedores. Las siguientes secciones presentan dos algoritmos GTR-1 y GTR-2. El algoritmo GTR-1 acepta problemas en dominios basados en la clase de adquisiciones, sus propiedades se demuestran con una función de división general D. El algoritmo GTR-2 acepta problemas en cualquier dominio. Demostramos las propiedades de GTR-2s con una función de división específica D0. La función será definida en la sección 4. Dado que la función de división puede tener un gran impacto práctico en el bienestar (y los ingresos), la generalidad de GTR − 1 (aunque sea en dominios especiales) puede ser una consideración práctica importante. 3. DOMINIOS BASADOS EN CLASES DE ADQUISICIÓN Esta sección se centra en los problemas que son dominios basados en clases de adquisición. Para este dominio, presentamos un algoritmo llamado GTR-1, que dado un mecanismo que es IR e IC, produce un mecanismo con bienestar reducido que es IR, IC y equilibrado presupuestariamente. Aunque los dominios de clase de adquisición parecen ser un modelo relativamente restringido, de hecho muchos de los dominios estudiados en la literatura son dominios de clase de adquisición. Ejemplo 3.1. Los siguientes dominios son dominios de clase de adquisiciones: • subastas de doble cara con bienes homogéneos [13] (problema B.1). En este dominio hay dos clases. La clase de compradores y la clase de vendedores. Cada conjunto de adquisiciones consta de un único comprador y un único vendedor. Dado que cada par de (comprador, vendedor) es un conjunto de adquisición válido (aunque posiblemente con valor negativo), este es un dominio de clase de adquisición. En este dominio, la constante asignada a los conjuntos de adquisición es F = 0. • Mercados distribuidos espacialmente con bordes no estratégicos [3, 9] (problema B.3). Al igual que las subastas de doble cara con bienes homogéneos, hay dos clases en el dominio. Clase de compradores y clase de vendedores con conjuntos de adquisición que consisten en un comprador y un vendedor. Los vendedores y compradores son nodos en un grafo y la función F es la distancia entre dos nodos (longitud de la arista) que representa los costos de transporte. Estos costos varían entre diferentes pares (comprador, vendedor). • Cadenas de suministro [2, 4] (problema B.5). La suposición de una manufactura única por [2, 4] se puede entender mejor como convertir las cadenas de suministro generales (que no necesariamente deben ser un dominio de clase de adquisiciones) en un dominio de clase de adquisiciones. • Subastas combinatorias de mente única [11] (problema B.8). En este contexto, cada vendedor vende un solo bien y cada comprador desea un conjunto de bienes. Las clases son conjuntos de vendedores que venden el mismo bien, así como los compradores que desean el mismo paquete. Un conjunto de adquisiciones consiste en un único comprador, así como un conjunto de vendedores que pueden satisfacer a ese comprador. Una definición del mecanismo sigue a continuación: Definición 3.1. El algoritmo GTR-1, dado un mecanismo M, un conjunto X ⊂ N que es cerrado bajo reemplazo, una función de división D y una asignación A, opera de la siguiente manera: 1. Utiliza la función de división D para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 2. Ordena los conjuntos de adquisición por valor creciente. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay competencia externa y para cada i ∈ sj \\ X hay competencia interna, entonces se conservan los 23 sj. De lo contrario, reduzca el intercambio sj (es decir, elimine cada i ∈ sj de la asignación). Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. A todos los jugadores no comerciales no se les cobra nada. Observación 3.1. El caso especial donde X = N ha recibido atención bajo diferentes formas en varios casos especiales, como ([13, 3, 4]). 3.1 El GTR-1 produce un mecanismo externo de X que es IR, IC y BB. En esta subsección demostramos que el algoritmo GTR-1 produce un mecanismo externo de X que es IR, IC y BB. Para demostrar las propiedades de GTR-1, hacemos uso del teorema 3.1, el cual es un resultado bien conocido (por ejemplo, [14, 11]). El Teorema 3.1 caracteriza las condiciones necesarias y suficientes para que un mecanismo para jugadores de valor único sea IR e IC: Definición 3.2. Una regla de asignación R es Bid Monotónica si para cualquier jugador i, cualquier oferta de los otros jugadores b−i ∈ V−i, y cualquier par de ofertas posibles de i, ˆbi > bi, si i negocia bajo la regla de asignación R al informar bi, entonces i también negocia al informar ˆbi. Intuitivamente, una regla de asignación monótona de oferta garantiza que ningún jugador comerciante pueda convertirse en un jugador no comerciante al mejorar su oferta. Teorema 3.1. Un mecanismo IR M con regla de asignación R es IC si y solo si R es Bid Monotónico y cada jugador comerciante i paga su valor crítico Ci (pi = Ci). Por lo tanto, para los mecanismos IR7 e IC normalizados, la regla de asignación que es bid monótona define de manera única los valores críticos para todos los jugadores y, por lo tanto, los pagos. Observación 3.1. Sean M1 y M2 dos mecanismos IR e IC con la misma regla de asignación. Entonces M1 y M2 deben tener la misma regla de pago. En lo siguiente demostramos que el algoritmo GTR-1 externo de X produce un mecanismo IR, IC y BB, pero primero se muestra un lema subsidiario. Lema 3.1. Para los dominios de clase de adquisiciones, si existe un conjunto de adquisiciones sj tal que i ∈ sj y i tiene competencia externa, entonces todos los t = i t ∈ sj, t tiene competencia interna. Prueba. Esto se deriva de la definición de los dominios de clase de adquisiciones. Supongamos que i tiene competencia externa, entonces existe un conjunto de jugadores Ei(A, s) tal que {i} ∪ Ei(A, s) ∈ S. Denotemos por sj = {i} ∪ Ei(A, s). Dado que el dominio es un dominio de clase de adquisiciones, existe una función biyectiva f entre sj y sj. f define la competencia interna requerida. Comenzamos demostrando IR e IC: Aunque la definición de un mecanismo externo X requiere que X intersecte cada conjunto de adquisiciones, esto no es estrictamente necesario. Es posible definir un X que no intersecte con cada conjunto de adquisiciones posible. En este caso, cualquier conjunto de adquisiciones s ∈ S tal que s ∩ X = ∅ se reducirá. Nótese que esto no es cierto para mecanismos que no están normalizados, por ejemplo, [7, 12] Lema 3.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR e IC. Prueba. Por la definición de un esquema de precios de valor crítico 2.2 y el algoritmo GTR-1 3.1 se sigue que para cada jugador comercial i, vi ≥ 0. Por el algoritmo GTR-1, 3.1 jugadores no comerciales tienen un pago de cero. Por lo tanto, para cada jugador i, valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que el mecanismo externo X producido es IR. Dado que el algoritmo X-external GTR-1 es IR y aplica el esquema de pago de valor crítico según el teorema 3.1, para demostrar que el mecanismo X-external producido con el esquema de pago de valor crítico es IC, queda por demostrar que la regla de asignación de mecanismos producida es bid-montónica. Dado que GTR-1 ordena los conjuntos de adquisición según el valor creciente, si el jugador i aumenta su oferta de bi a bi > bi, entonces para cualquier función de división D de conjuntos de adquisición, el conjunto de adquisición s que contiene a i siempre aparece más tarde con la oferta bi que con la oferta bi. Por lo tanto, la probabilidad de competencia solo puede aumentar si i aparece en conjuntos de adquisiciones posteriores. Esto se traduce en que GTR-1 puede reducir más de los conjuntos de adquisiciones de menor valor, lo que resultará en más jugadores no comerciales. Por lo tanto, si s tiene la competencia requerida y no se reduce con bi, entonces tendrá la competencia requerida con bi y no se reducirá. Finalmente demostramos BB: Lema 3.3. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo BB. Prueba. Para demostrar que el mecanismo producido es BB, mostramos que cada conjunto de adquisiciones que no está reducido tiene un presupuesto positivo (es decir, la suma de los pagos es positiva). Sea s ∈ S un conjunto de adquisiciones que no está reducido. Si i ∈ s ∩ X, entonces según la definición de la definición externa de X 2.7 y el algoritmo GTR-1 3.1, i tiene una competencia externa. Supongamos sin pérdida de generalidad que i es el único jugador con competencia externa en s y que todos los demás jugadores j = i, j ∈ s tienen competencia interna. Sea A la asignación después de la reducción de los conjuntos de adquisición por el algoritmo GTR-1. Según la definición de competencia externa 2.5, existe un conjunto Ei(A, s) ⊂ N \\A tal que i ∪ Ei(A, s) ∈ S y W(i ∪ Ei(A, s)) ≥ 0. Dado que W(i∪Ei(A, s)) = vi +W(Ei(A, s)), entonces vi ≥ −W(Ei(A, s)). Según la definición 2.2 del esquema de fijación de precios por valor crítico, esto significa que si el jugador i ofrece menos de −W(Ei(A, s)), no tendrá competencia externa y, por lo tanto, será eliminado del intercambio. Por lo tanto, pago no menos de min −W(Ei(A, s)). Dado que todos los demás jugadores j ∈ s tienen competencia interna, su precio crítico no puede ser menor que el valor máximo de su competidor interno (conjunto), es decir, max W(Rj(A, s)). Si algún jugador j ∈ s ofrece menos que su competidor interno máximo (conjunto), entonces él no estará en s pero su competidor interno máximo (conjunto) sí lo estará. Dado que un posible Ei(A, s) es ∪j∈sRj(A, s), se puede acotar el valor máximo de su competencia externa W(Ei(A, s)) por la suma de los valores máximos del resto de los jugadores en s 8, dado que el dominio es un dominio de clase de adquisiciones, podemos usar el lema 3.1 24 de competencia interna, es decir, j∈s max W(Rj(A, s)). Por lo tanto, min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))). Dado que la función F se define como una constante positiva, obtenemos que W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 y, por lo tanto, s es al menos equilibrado en términos presupuestarios. Dado que cada conjunto de adquisiciones que no se reduce está al menos equilibrado presupuestariamente, se deduce que el mecanismo externo X producido es BB. Los dos lemas anteriores producen el siguiente teorema: Teorema 3.2. Para los dominios de clase de adquisiciones para cualquier X, el mecanismo externo X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR, IC y BB. Observación 3.2. La prueba del teorema proporciona límites sobre los pagos que cualquier jugador tiene que hacer al mecanismo. Los dominios no basados en la clase de adquisiciones. La razón principal por la que GTR-1 funciona para los dominios no basados en la clase de adquisiciones es que la posibilidad de reducción de cada jugador es monótona. Por la definición de una función de división, si un jugador i ∈ sj aumenta su valor, i solo puede aparecer en un conjunto de adquisiciones sj posterior y, por lo tanto, tiene una mayor probabilidad de tener la competencia deseada. Por lo tanto, la probabilidad de que i carezca de la competencia necesaria disminuye. Dado que el dominio es un dominio de clase de adquisiciones, es más probable que todos los demás jugadores t = i, t ∈ sj también tengan competencia, ya que los miembros de su clase siguen apareciendo antes que i y, por lo tanto, la probabilidad de que i sea reducido disminuye. Dado que, según el teorema 3.1, una condición necesaria y suficiente para que el mecanismo sea CI es la monotonicidad. GTR-1 es IC para dominios de clase de adquisiciones. Sin embargo, para los dominios que no son de la clase de adquisiciones, esto no es suficiente incluso si el dominio es un dominio basado en clases. Aunque todos los miembros de sj siguen teniendo la competencia requerida, es posible que haya miembros de sj que no tengan análogos en sj que no tengan competencia. Por lo tanto, podría reducirse después de aumentar su valor, lo que significa, según el lema 3.1, que el mecanismo no es IC. Por lo tanto, definimos un algoritmo diferente para los dominios que no pertenecen a la clase de adquisiciones. Nuestro algoritmo modificado requiere una función de división especial para mantener la propiedad de IC. Aunque nuestra restricción a esta función de división especial parezca estricta, la función de división que utilizamos es una generalización de la forma en que se eligen los conjuntos de adquisiciones en dominios basados en clases de adquisiciones, por ejemplo, [13, 16, 9, 3, 2, 4]. Para facilitar la presentación en esta sección, asumimos que F = 0. La función de división para dominios generales se define al observar todas las posibles funciones de división. Para cada función de división Di y cada conjunto de ofertas, el algoritmo GTR-1 produce un bienestar que es una función de las ofertas y la función de división. Denotamos por D0 la función de división que divide a los jugadores en conjuntos de manera que el bienestar que encuentra GTR-1 sea máximo. Cabe destacar que para cualquier Di en particular, esto podría no ser IC, ya que GTR-1 es IC solo para dominios de clase de adquisición y no para dominios generales. En el Apéndice A mostramos cómo calcular D0 en polinómico. Formalmente, sea D el conjunto de todas las funciones de división D. Denotemos el bienestar logrado por el mecanismo producido por GTR1 al usar la función de división D y un conjunto de ofertas ¯b como GTR1(D, ¯b). Denote por D0(¯b) = argmaxD∈D(GTR1(D,¯b)). Para facilitar la presentación, denotamos D0(¯b) como D0 cuando la dependencia de b es clara en el contexto. Observación 4.1. D0 es un elemento del conjunto de funciones divisorias, y por lo tanto es una función divisoria. El segundo algoritmo de reducción de comercio generalizado GTR-2 sigue. Definición 4.1. El algoritmo GTR-2 - Dado el mecanismo M, la asignación A y un conjunto X ⊂ N cerrado bajo reemplazo, GTR-2 opera de la siguiente manera: 1. Calcula la función de división D0 como se define arriba. 2. Utilice la función de división D0 para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor, haz lo siguiente: Si para i ∈ sj ∩ X hay una competencia externa y hay a lo sumo un i ∈ sj que no tiene competencia interna, entonces conserva sj. De lo contrario, reduzca el intercambio sj. 4. Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. Todos los jugadores no comerciales no pagan nada. Demostraremos que el mecanismo producido por GTR-2 mantiene las propiedades deseadas de IR, IC y BB. El siguiente lema muestra que el mecanismo producido por GTR-2 es IR y IC. Lema 4.1. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR e IC. Prueba. Según el teorema 3.1, basta con demostrar que el mecanismo producido por el algoritmo GTR-2 es bidmonótono para cada jugador i. Supongamos que no fui reducido al ofertar bi, necesitamos demostrar que no seré reducido al ofertar bi > bi. Denote por D1 = D0(b) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por D1 = D0(bi, b−i) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por ¯D1(b) una función divisoria máxima que resulta en GTR-1 reduciendo i al informar bi. Supongamos, por el contrario, que GTR-2 redujo i del intercambio cuando i informó bi, entonces GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b). Dado que D1 ∈ D, se sigue que GTR1(D1, b) > GTR1( ¯D1, b) y por lo tanto GTR1(D1, b) > GTR1(D1, (bi, b−i)). Sin embargo, según la definición D1 ∈ D, GTR-2 no debería haber reducido el tiempo mínimo de adquisición para los dominios de clase de aprovisionamiento. Calcular D0 en tiempo polinómico para dominios generales es un problema abierto importante. En la versión completa de GTR-2 se extiende de tal manera que basta con que exista algún momento en el cual se cumpla el tercer paso. Esa extensión se omitió de la versión actual debido a la falta de espacio. 25 con la función de división D1 y obtuvo un mayor bienestar que GTR1(D1, b). Por lo tanto, surge una contradicción y GTR-2 no reduce i del intercambio cuando i informa que bi > bi. Lema 4.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo BB. Prueba. Esta prueba es similar a la prueba del lema 3.3. Combinando los dos lemas anteriores obtenemos: Teorema 4.1. Para cualquier X cerrado bajo reemplazo, el mecanismo externo de X con el esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR, IC y BB. El Apéndice A muestra cómo calcular D0 para dominios de clase de adquisiciones en tiempo polinómico, no se sabe generalmente cómo calcular D0 fácilmente. Crear un método general para calcular la función de división necesaria en tiempo polinómico sigue siendo una pregunta abierta. 4.1 Limitando el Bienestar para Dominios Basados en Clases de Adquisición y otros Casos de Dominios Generales. Esta sección muestra que, además de producir un mecanismo con las propiedades deseadas, GTR-2 también produce un mecanismo que mantiene un alto bienestar. Dado que el algoritmo GTR-2 encuentra un mecanismo equilibrado en presupuesto en dominios arbitrarios, no podemos acotar el bienestar para casos generales. Sin embargo, podemos acotar el bienestar para el dominio basado en la clase de adquisiciones y una amplia variedad de casos en dominios generales que incluyen muchos casos previamente estudiados. Definición 4.2. Denote freqk([i], sj) para indicar que una clase [i] aparece en un conjunto de adquisiciones sj, k veces y hay k miembros de [i] en sj. Definición 4.3. Denote por freqk([i], S) el máximo k tal que hay k miembros de [i] en sj. Es decir, freqk([i], S) = maxsj ∈S freqk([i], sj). Deje que el conjunto de clases de equivalencia en el mecanismo de dominio basado en la clase de adquisiciones sea ec y |ec| sea el número de esas clases de equivalencia. Usando la definición de frecuencia de apariencia de clase, podemos acotar el bienestar logrado por el mecanismo producido por GTR-2 para los dominios de clase de adquisición: Lema 4.3. Para los dominios de clase de adquisiciones con F = 0, el número de conjuntos de adquisiciones que se reducen por GTR-213 es a lo sumo |ec| veces la frecuencia máxima de cada clase. Formalmente, el número máximo de conjuntos de adquisición que se reduce es O( [i]∈ec freqk([i], S)) Demostración. Sea D una función de división arbitraria. Observamos que, por definición, cualquier conjunto de adquisiciones sj no se reducirá si cada i ∈ sj tiene tanto competencia interna como competencia externa. El bienestar logrado por GTR-1 también puede estar acotado para los casos presentados en esta sección. Sin embargo, nos enfocamos en GTR-2 ya que siempre logra un mejor bienestar. 13 o GTR-1 Cada conjunto de adquisiciones s que se reduce tiene al menos un jugador i que no tiene competencia. Una vez que s se reduce, todos los jugadores de [i] tienen competencia interna. Así, al reducir el número de clases de equivalencia |ec| de conjuntos de adquisiciones, cubrimos a todos los jugadores restantes con competencia interna. Si la frecuencia máxima de cada clase de equivalencia fuera uno, entonces cada jugador restante t en el conjunto de adquisiciones sk también tendría competencia externa, ya que todos los competidores internos de los jugadores ¯t = t, ¯t ∈ sk son competencia externa para t. Si tenemos freqk([t], S) jugadores de la clase [t] que fueron reducidos, entonces hay suficiente competencia externa para todos los jugadores en sk. Por lo tanto, basta con reducir los conjuntos de adquisición O( [i]∈ec freqk([i], S)) para garantizar que exista tanto la competencia interna como externa necesaria. El siguiente teorema se deduce como un corolario inmediato del lema 4.3: Teorema 4.2. Dado mecanismos de dominio basados en clases de adquisición con H conjuntos de adquisición, la eficiencia es al menos una fracción de 1 − O( O( [i]∈ec freqk([i],S)) H ) del bienestar óptimo. Los siguientes corolarios son resultados directos del teorema 4.2. Todos estos corolarios mejoran resultados anteriores o logran el mismo bienestar que los resultados anteriores. Corolario 4.1. Para utilizar GTR-2 en subastas homogéneas de doble cara (problema B.1), se debe reducir como máximo un conjunto de adquisición de 14. De manera similar, para mercados distribuidos espacialmente sin bordes estratégicos (problema B.3), el uso de GTR-2 mejora el resultado de [3] donde se reduce un ciclo mínimo que incluye a un comprador y un vendedor. Corolario 4.2. Usar GTR-2 para mercados distribuidos espacialmente sin bordes estratégicos reducirá a lo sumo un ciclo por componente conectado. Para las cadenas de suministro (problema B.5) el uso de GTR-2 mejora el resultado de [2, 4] de manera similar al corolario 4.2. Corolario 4.3. Usando GTR-2 para cadenas de suministro, se reducirá a lo sumo un ciclo por componente conectado. El siguiente corolario resuelve el problema abierto en [3]. Corolario 4.4. Para mercados distribuidos en n nodos con agentes estratégicos y caminos de longitud acotada K (problema B.6) basta con eliminar como máximo K * n conjuntos de adquisiciones. Prueba. Bosque de expansión: Estos crearán al menos K árboles de expansión, por lo tanto, podemos cubrir de manera disjunta cada conjunto de adquisiciones restante. Esto mejora el algoritmo ingenuo de reducir conjuntos de adquisición n2. Proporcionamos resultados para dos casos especiales de subastas de doble cara con jugadores de valor único (problema B.8). Es posible que no se realicen reducciones, por ejemplo, cuando hay un jugador no comercial que es la competencia externa requerida. Al igual que en las subastas de doble cara, a veces habrá suficiente competencia sin una reducción. Corolario 4.5. si hay como máximo M tipos diferentes de conjuntos de adquisición, basta con eliminar M conjuntos de adquisición. Corolario 4.6. Si hay K tipos de bienes y cada conjunto de adquisición consiste en a lo sumo uno de cada tipo, basta con eliminar a lo sumo K conjuntos de adquisición. CONCLUSIONES Y TRABAJOS FUTUROS En este artículo presentamos un procedimiento de solución general llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo de IR e IC como entrada y produce mecanismos que son IR, IC y BB como salida. Los mecanismos de salida logran un bienestar que se acerca a lo óptimo para una amplia gama de dominios. El procedimiento GTR mejora los resultados existentes como subastas homogéneas de doble cara, mercados distribuidos y cadenas de suministro, y resuelve varios problemas abiertos como mercados distribuidos con aristas de transporte estratégicas y caminos acotados, subastas de doble cara combinatorias con conjuntos de adquisiciones de tamaño acotado, y subastas de doble cara combinatorias con un número acotado de conjuntos de adquisiciones. La cuestión de la calidad de la aproximación del bienestar tanto en general como en dominios de clase que no son dominios de clase de adquisición es una pregunta abierta importante e interesante. También dejamos abierta la pregunta de los límites superiores para la calidad de la aproximación del bienestar. Aunque sabemos que es imposible tener IR, IC y BB en un mecanismo eficiente, sería interesante tener un límite superior en la aproximación al bienestar alcanzable en un mecanismo IR, IC y BB. El procedimiento GTR produce un mecanismo que depende de un conjunto X ⊂ N. Otra pregunta interesante es cuál es la calidad de la aproximación cuando X se elige al azar de N antes de que se declaren las valoraciones. Agradecimientos Los autores desean agradecer a Eva Tardos y colaboradores por compartir sus resultados con nosotros. Los autores también desean expresar su gratitud por los comentarios útiles de los revisores anónimos.  REFERENCIAS [1] A. Archer y E. Tardos. Mecanismos de camino frugal. Simposio sobre Algoritmos Discretos, Actas del decimotercer simposio anual de algoritmos discretos ACM-SIAM, 2002. [2] M. Babaioff y N. Nisan. Subastas simultáneas en toda la cadena de suministro. Revista de Investigación en Inteligencia Artificial, 2004. [3] Babaioff M., Nisan N. y Pavlov E. Mecanismos para un Mercado Distribuido Espacialmente. En actas de la 5ta Conferencia ACM sobre Comercio Electrónico, 2004. [4] M. Babaioff y W. E. Walsh. Subastas Incentivo-Compatible, Equilibradas en Presupuesto, pero Altamente Eficientes para la Formación de Cadenas de Suministro. En actas de la Cuarta Conferencia ACM sobre Comercio Electrónico, 2003. [5] Y. Bartal, R. Gonen y P. La Mura. Mecanismos de rango de negociación: explorando los límites de los mercados eficientes y veraces. EC 04: Actas de la 5ta conferencia de ACM sobre comercio electrónico, 2004. [6] Blume L, Easley D., Kleinberg J. y Tardos E. Redes de intercambio con agentes que fijan precios. En actas de la 8ª conferencia de la ACM sobre comercio electrónico, 2007. [7] Cavallo R. Toma de decisiones óptima con desperdicio mínimo: redistribución estratégicamente segura de pagos VCG. En Proc. 5th Int. Conf. sobre Autonomía. Agentes y Sistemas Multiagente (AAMAS06). [8] E. H. Clarke Fijación de precios múltiples de bienes públicos. En la revista Public Choice de 1971, vol. 2, pp. 17-33. [9] Chu L. Y. y Shen Zuo-Jun M. Mecanismo de Subasta Doble de Competencia de Agentes. Ciencia de la Gestión, vol. 52(8), 2006. [10] T. Groves Incentivos en equipos. En la revista Econometrica de 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan y Y. Shoham. Revelación de la verdad en subastas combinatorias aproximadamente eficientes. En Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Obtención de preferencias honestas para la asignación de individuos a posiciones. Revista de economía política, 1983. [13] McAfee R. P. Una subasta doble de estrategia dominante. Revista de Teoría Económica, vol. 56, 434-450, 1992. [14] A. Mualem y N. Nisan. Mecanismos de Aproximación Veraz para Subastas Combinatorias Restringidas. Actas de AAAI 2002. [15] Myerson R. B. y Satterthwaite M. A. Mecanismos eficientes para el comercio bilateral. Revista de Teoría Económica, vol. 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. y Zhang R. Q. Mecanismos de subasta eficientes para la adquisición de la cadena de suministro. Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, 2001. [17] W. Vickrey Contrapronóstico, Subastas y Licitaciones Competitivas Selladas. En Journal of Finance 1961, vol. 16, pp. 8-37. APÉNDICE A. CALCULANDO LA FUNCIÓN DE DIVISIÓN ÓPTIMA EN DOMINIOS DE CLASE DE ADQUISICIÓN EN TIEMPO POLINÓMICO En esta sección mostramos cómo calcular la función de división óptima para dominios de clase de adquisición en tiempo polinómico. Primero definimos una función de división especial D0 que es fácil de calcular: Definimos la función de división D0 de forma recursiva de la siguiente manera: En la etapa j, D0 divide a los jugadores comerciales en dos conjuntos Aj y Aj de manera que: • Aj es un conjunto de adquisiciones • Aj puede dividirse en una unión disjunta de conjuntos de adquisiciones. • Aj tiene un valor mínimo de todas las particiones posibles. Define sj = Aj y llame recursivamente a D0 y Aj hasta que Aj = ∅. Ahora demostramos que D0 es la función de división requerida. Lema A.1. Para los dominios de clase de adquisiciones D0 = D0. Prueba. Dado que el dominio es un dominio de clase de adquisiciones, para cada conjunto de adquisiciones reducido, el conjunto de jugadores que logran la competencia (ya sea interna o externa) está fijo. Por lo tanto, el número de conjuntos de adquisiciones que se reducen es independiente de la función de división D. Dado que el objetivo es optimizar el bienestar reduciendo los conjuntos de adquisiciones con el menor valor, podemos optimizar el bienestar. Esto se logra mediante D0. I'm sorry, but you did not provide a sentence to translate. Please provide the sentence you would like me to translate to Spanish. PROBLEMAS Y EJEMPLOS Para completitud, presentamos en esta sección las definiciones formales de los problemas que utilizamos para ilustrar nuestro mecanismo. El primer problema que definimos es la subasta de doble cara con bienes homogéneos. Problema B.1. Subasta de doble cara con bienes homogéneos: Hay m vendedores, cada uno con un solo bien (todos los bienes son idénticos) y n compradores, cada uno interesado en recibir un bien. Denotamos el conjunto de vendedores como S y el conjunto de compradores como B. Cada jugador i ∈ S ∪ B (tanto compradores como vendedores) tiene un valor vi por el bien. En este modelo, un conjunto de adquisiciones consiste en un único comprador y un único vendedor, es decir, |s| = 2. El valor de un conjunto de adquisiciones es W(s) = vj − vi donde j ∈ B e i ∈ S, es decir, la ganancia del intercambio. Si los conjuntos de adquisiciones se crean emparejando al comprador de mayor valor con el vendedor de menor valor, entonces el mecanismo de reducción de intercambio determinístico [13] reduce el conjunto de adquisiciones de menor valor. Un modelo relacionado es el modelo de costos relacionados en pares [9]. Problema B.2. Los costos relacionados en pares: una subasta de doble cara B.1 en la que cada par de jugadores i ∈ S y j ∈ B tiene un costo relacionado F(i, j) ≥ 0 para poder comerciar. F(i, j) es un costo de fricción que debe minimizarse para maximizar el bienestar. [9] define dos mecanismos equilibrados presupuestariamente para este caso. Uno de los mecanismos de [9] tiene el conjunto de compradores B como el conjunto X para el mecanismo X-externo y el otro tiene el conjunto de vendedores S como el conjunto X para el mecanismo X-externo. Un modelo similar es el modelo de mercados distribuidos espacialmente (SDM) [3] en el que hay un grafo que impone relaciones en el costo. Problema B.3. Mercados distribuidos espacialmente: existe un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene asociado un costo que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Los bordes no son estratégicos, pero todos los jugadores son estratégicos. [3] define un mecanismo equilibrado en presupuesto para este caso. Nuestro artículo mejora el resultado de [3]. Otro modelo de gráfica es el modelo definido en [6]. Problema B.4. Redes de intercambio: Dado un grafo y compradores y vendedores que se encuentran en los nodos del grafo. Todo comercio debe pasar a través de un comerciante. En este caso, los conjuntos de adquisiciones tienen la forma (comprador, vendedor, comerciante) donde los posibles conjuntos de esta forma están definidos por un gráfico. El modelo de cadena de suministro [2, 4] puede ser visto como una generalización de [6] en la que los conjuntos de adquisición consisten en la forma (productor, consumidor, comerciante1, . . . , comerciantek). También es posible aleatorizar la reducción de los conjuntos de adquisición para lograr un presupuesto esperado de cero similar a [13], los detalles son obvios y se omiten. Problema B.5. Cadena de suministro: Hay un conjunto D de agentes y un conjunto G de bienes y un grafo G = (V, E) que define posibles relaciones comerciales. Los agentes pueden requerir una entrada de múltiples cantidades de bienes para producir un solo bien. El jugador tipo productor puede producir bienes de la nada, el consumidor tiene una valoración y es necesaria toda una cadena de intermediarios para crear un conjunto de adquisiciones viable. [2, 4] consideran una tecnología de fabricación única en la que el grafo que define las posibles relaciones es un árbol. Todos los problemas anteriores son dominios de clase de adquisiciones. También consideramos varios problemas que no son dominios de la clase de adquisiciones y, en general, las cuestiones de equilibrio presupuestario se han dejado como problemas abiertos. Un problema abierto planteado en [3] es el modelo SDM en el que los bordes son estratégicos. Problema B.6. Mercados distribuidos espacialmente con bordes estratégicos: hay un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene un costo asociado que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Cada comprador, vendedor y intermediario tiene un valor para el intercambio, es decir, todas las entidades son estratégicas. [2, 4] dejó abierta la cuestión de los mecanismos equilibrados en presupuesto para cadenas de suministro donde no hay una tecnología de fabricación única. Es fácil ver que este problema no pertenece al ámbito de la clase de adquisiciones. Otro problema interesante son las redes de transporte. Problema B.7. Redes de transporte: Un grafo G = (V, E) donde las aristas son jugadores estratégicos con costos y el objetivo es encontrar una ruta de transporte de costo mínimo entre un par de nodos privilegiados Fuente y Objetivo ∈ V. Se demostró en [1] que la asignación eficiente puede tener un déficit presupuestario que es lineal en el número de jugadores. Claramente, este problema no es un dominio de clase de adquisiciones y dejó abierta la pregunta de un mecanismo de presupuesto equilibrado. Otro mecanismo de dominio no basado en la clase de adquisiciones es la subasta combinatoria de doble cara (CA) con jugadores de valor único. Problema B.8. Subasta combinatoria de doble cara (CA) con jugadores de valor único: Existe un conjunto S de vendedores, cada uno vendiendo un solo bien. También existe un conjunto B de compradores, cada uno interesado en paquetes de 2S18. Hay dos variantes de este problema. En el caso de un comprador enfocado, cada comprador tiene un valor positivo para un solo subconjunto, mientras que en el caso de múltiples intereses, cada comprador puede tener varios paquetes con valoración positiva, pero todos los valores son iguales. En ambos casos asumimos disponibilidad gratuita para que todos los paquetes que contienen el paquete deseado tengan el mismo valor para el comprador. También consideramos problemas que no pertenecen a dominios de clase. Problema B.9. Subasta combinatoria de doble cara (CA) con jugadores generales multi-mentales: igual que B.8 pero cada comprador puede tener múltiples paquetes con valoración positiva que no necesariamente son iguales. Abusamos de la notación e identificamos al vendedor con el bien. Comparando diferentes opciones de X, la elección de X puede tener un gran impacto en el bienestar (y los ingresos) del mecanismo reducido y, por lo tanto, surge la pregunta de cómo se debería elegir el conjunto X. Dado que se requiere el mecanismo X-externo para mantener la CI claramente, la elección de X no puede depender del valor de los jugadores, de lo contrario el mecanismo reducido no será veraz. En esta sección motivamos la elección de conjuntos X pequeños para dominios de clase de adquisiciones y damos intuición de que también podría ser el caso para algunos otros dominios. Comenzamos ilustrando el efecto del conjunto X sobre el bienestar y los ingresos en la subasta de doble cara con el problema de bienes homogéneos B.1. Se pueden construir ejemplos similares para los otros problemas definidos en B. El siguiente ejemplo muestra un efecto en el bienestar. Ejemplo C.1. Hay dos compradores y dos vendedores y dos conjuntos no intersectantes (incomparables) X = {compradores} e Y = {vendedores}. Si los valores de los compradores son 101, 100 y los vendedores son 150, 1, entonces el mecanismo externo X generará una ganancia del comercio de 0 y el mecanismo externo Y generará una ganancia del comercio de 100. Por el contrario, si los valores de los compradores son 100, 1 y los de los vendedores son 2, 3, el mecanismo externo X generará una ganancia comercial de 98 y el mecanismo externo Y generará una ganancia comercial de cero. El ejemplo muestra claramente que la diferencia entre el mecanismo X-externo y el mecanismo Y-externo es ilimitada, aunque como se muestra arriba, la fracción que cada uno de ellos reduce puede ser limitada y, por lo tanto, la proporción multiplicativa entre ellos puede ser limitada (como función del número de operaciones). En el lado de los ingresos ni siquiera podemos establecer un límite para la proporción, como se ve en el siguiente ejemplo: Ejemplo C.2. Considera k compradores con un valor de 100 y k+1 vendedores con un valor de 1. Si X = {compradores} entonces no es necesario reducir ningún intercambio y todos los compradores reciben el bien y pagan 1. k + 1 de los vendedores venden y cada uno recibe 1. Esto produce un ingreso neto de cero. Si Y = {vendedores} entonces se debe reducir un intercambio. Esto significa que todos los compradores pagan 100 mientras que todos los vendedores siguen recibiendo 1. La ganancia total es entonces de 99k. Del mismo modo, se puede construir un ejemplo que genere ingresos mucho más altos para el mecanismo externo X en comparación con el mecanismo externo Y. Los ejemplos anteriores se refieren a los conjuntos X e Y, los cuales no se intersectan y son incomparables. El siguiente teorema compara los mecanismos externos-X y externos-Y para dominios de clase de adquisiciones donde X es un subconjunto de Y. Teorema C.1. Para los dominios de clase de adquisiciones, si X ⊂ Y y para cualquier s ∈ S, s ∩ X ∩ Y = ∅ entonces: 1. La eficiencia del mecanismo externo X en GTR-1 (y por lo tanto GTR-2) es al menos igual a la del mecanismo externo Y. Cualquier jugador ganador que gane tanto en los mecanismos X-externo como en el Y-externo no paga menos en el Y-externo que en el X-externo y, por lo tanto, la proporción de presupuesto a bienestar no es peor en el Y-externo que en el X-externo. Prueba. 1. Para cualquier función de división D, si hay un conjunto de adquisición sj que se reduce en el mecanismo externo X, hay dos posibles razones: (a) sj carece de competencia externa en el mecanismo externo X. En este caso, sj carece de competencia externa en el mecanismo interno. (b) sj tiene todas las competencias externas requeridas en X-externo. En este caso, sj tiene todas las competencias internas requeridas en Y -externas según el lema 3.1, pero podría carecer de algunas competencias externas para sj ∪ {Y \\ X} y verse reducido, 2. Esto se deduce del hecho de que para cualquier orden D, cualquier conjunto de adquisiciones s que se reduce en el mecanismo externo X también se reduce en el mecanismo externo Y. Por lo tanto, el valor crítico no es menor en el mecanismo Yexterno que en el mecanismo Xexterno. Observación C.1. Para cualquier par de conjuntos X, Y, es fácil construir un ejemplo en el que los mecanismos externos de X y Y reduzcan los mismos conjuntos de adquisición, por lo que la desigualdad es débil. El Teorema C.1 muestra una desigualdad en el bienestar, así como en los pagos, pero es fácil construir un ejemplo en el que los ingresos pueden aumentar para X en comparación con Y, así como lo contrario. Esto sugiere que en general queremos que X sea lo más pequeño posible, aunque en algunos dominios no es posible comparar diferentes X. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "player power": {
            "translated_key": "poder del jugador",
            "is_in_text": false,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [],
            "translated_annotated_samples": [],
            "translated_text": "",
            "candidates": [],
            "error": [
                []
            ]
        },
        "generalized trade reduction": {
            "translated_key": "generalized trade reduction",
            "is_in_text": true,
            "original_annotated_sentences": [
                "<br>generalized trade reduction</br> Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a <br>generalized trade reduction</br> (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the <br>generalized trade reduction</br> (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two <br>generalized trade reduction</br> algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two <br>generalized trade reduction</br> algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two <br>generalized trade reduction</br> algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The <br>generalized trade reduction</br> algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two <br>generalized trade reduction</br> algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second <br>generalized trade reduction</br> algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the <br>generalized trade reduction</br> (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [
                "<br>generalized trade reduction</br> Mechanisms Mira Gonen Electrical Engineering Dept.",
                "In this paper we provide a procedure called a <br>generalized trade reduction</br> (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "The solution procedure called the <br>generalized trade reduction</br> (GTR).",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two <br>generalized trade reduction</br> algorithms.",
                "Our two <br>generalized trade reduction</br> algorithms will ensure that for any allocation we have the desired types of competition."
            ],
            "translated_annotated_samples": [
                "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica.",
                "En este documento proporcionamos un procedimiento llamado <br>Reducción Comercial Generalizada</br> (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar.",
                "El procedimiento de solución llamado <br>Reducción Comercial Generalizada</br> (GTR).",
                "Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio.",
                "Nuestros dos <br>algoritmos de reducción de comercio generalizados</br> garantizarán que para cualquier asignación tengamos los tipos deseados de competencia."
            ],
            "translated_text": "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado <br>Reducción Comercial Generalizada</br> (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado <br>Reducción Comercial Generalizada</br> (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro. Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB. Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio. Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas. Definimos dominios basados en clase y dominios basados en clase de adquisiciones. Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado competencia interna y externa. La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2. PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB. Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de intercambio. Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0. Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0. El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi. El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn. Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i. Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Que el tamaño de un conjunto de adquisiciones s se denote como |s|. Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición. El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s). Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s). En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi. Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A. Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La eficiencia de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo. Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor. Un mecanismo M define unas reglas de asignación y pago, M = (R, P). Una regla de pago P decide el pago pi donde P es una función P: V → RN. Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores. Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10]. El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad. El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores. M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa. Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0. Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados. Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio. Los dos algoritmos son tales que, dado un mecanismo IR e IC M que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte a M en un mecanismo IR, IC y BB. El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplen las condiciones correctas y el mecanismo M se convierte en uno de tipo BB. Las condiciones adecuadas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado. Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando. Definición 2.3. Para cualquier jugador i ∈ N, decimos que el conjunto Ri ⊆ N \\ {i} es un conjunto de reemplazo de i, si para cualquier conjunto de adquisición s ∈ S tal que i ∈ s y Ri∩s = ∅, s\\{i}∪Ri ∈ S. Por ejemplo, en una subasta (homogénea) de doble cara (ver problema B.1), el conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador. En una subasta de espacios de transporte (ver problema B.7), el conjunto de reemplazo de un borde es un camino entre los extremos del borde. Ten en cuenta que un conjunto puede reemplazar a un solo jugador. Además, esta relación es transitiva pero no necesariamente simétrica. Si i es un conjunto de reemplazo para j, no necesariamente es cierto que j sea un conjunto de reemplazo para i. Definición 2.4. Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una competencia interna para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i. T = s \\ {i} ∪ Ri(A, s) ∈ S y W(T) ≥ 0. Definición 2.5. Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una competencia externa para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0. Supondremos, sin pérdida de generalidad, que no hay empates entre los valores de ninguna asignación, y en particular no hay empates entre los valores de los conjuntos de adquisiciones. En caso de empate, este puede romperse utilizando las identidades de los jugadores. Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con competencia externa Ei(A, s), existe exactamente un conjunto que representa la competencia externa de mayor valor. Definición 2.6. Un conjunto X ⊂ N es cerrado bajo reemplazo si ∀i ∈ X entonces Ri ⊂ X. Lo siguiente define la competencia requerida necesaria para mantener IC, IR y BB. El conjunto X5 denota esta competencia y está cerrado bajo reemplazo. En el resto del documento asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo. Definición 2.7. Sea X ⊂ N un conjunto que está cerrado bajo reemplazo, decimos que el mecanismo es un mecanismo X-externo, si 1. Cada jugador i ∈ X tiene una competencia externa. 2. Cada jugador i /∈ X tiene una competencia interna. 3. Para todos los jugadores i1, . . . , it ∈ s \\ X existen Ri1 (A, s), . . . , Rit (A, s) tales que para cada iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. para cada conjunto de adquisiciones s ∈ S se cumple que s∩X = ∅ Para dominios generales, la elección de X puede ser crucial. De hecho, incluso para el mismo dominio, el bienestar (y los ingresos) pueden variar ampliamente dependiendo de cómo se defina X. En el apéndice C damos un ejemplo donde dos posibles elecciones de X producen resultados muy diferentes. Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la optimalidad de X y este es un importante problema abierto. Nuestros dos <br>algoritmos de reducción de comercio generalizados</br> garantizarán que para cualquier asignación tengamos los tipos deseados de competencia. ",
            "candidates": [],
            "error": [
                [
                    "Reducción Comercial Generalizada",
                    "Reducción Comercial Generalizada",
                    "algoritmos de reducción de comercio generalizados"
                ]
            ]
        },
        "gtr": {
            "translated_key": "gtr",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (<br>gtr</br>) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (<br>gtr</br>).",
                "<br>gtr</br> accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the <br>gtr</br> procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our <br>gtr</br> procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the <br>gtr</br> solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the <br>gtr</br> solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the <br>gtr</br> procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by <br>gtr</br> are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms <br>gtr</br>-1 and GTR2.",
                "<br>gtr</br>-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The <br>gtr</br>-2 algorithm accepts problems in any domain.",
                "We prove the <br>gtr</br>-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of <br>gtr</br> − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called <br>gtr</br>-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The <br>gtr</br>-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, <br>gtr</br>-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The <br>gtr</br>-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the <br>gtr</br>-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove <br>gtr</br>-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external <br>gtr</br>-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the <br>gtr</br>-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the <br>gtr</br>-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the <br>gtr</br>-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external <br>gtr</br>-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since <br>gtr</br>-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as <br>gtr</br>-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the <br>gtr</br>-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the <br>gtr</br>-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the <br>gtr</br>-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the <br>gtr</br>-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that <br>gtr</br>-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "<br>gtr</br>-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the <br>gtr</br>-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that <br>gtr</br>-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as <br>gtr</br>-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm <br>gtr</br>-2 follows.",
                "Definition 4.1.",
                "The <br>gtr</br>-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, <br>gtr</br>-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by <br>gtr</br>-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the <br>gtr</br>-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the <br>gtr</br>-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the <br>gtr</br>-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by <br>gtr</br>-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by <br>gtr</br>-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in <br>gtr</br>-1 reducing i when reporting bi.",
                "Assume to the contrary that <br>gtr</br>-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, <br>gtr</br>-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version <br>gtr</br>-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and <br>gtr</br>-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the <br>gtr</br>-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the <br>gtr</br>-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, <br>gtr</br>-2 also produces a mechanism that maintains high welfare.",
                "Since the <br>gtr</br>-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the <br>gtr</br>-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by <br>gtr</br>-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by <br>gtr</br>-1 can also be bounded for the cases presented in this section.",
                "However, we focus on <br>gtr</br>-2 as it always achieves better welfare. 13 or <br>gtr</br>-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using <br>gtr</br>-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using <br>gtr</br>-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using <br>gtr</br>-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using <br>gtr</br>-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using <br>gtr</br>-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (<br>gtr</br>).",
                "<br>gtr</br> accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The <br>gtr</br> procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The <br>gtr</br> procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in <br>gtr</br>-1 (and hence <br>gtr</br>-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [
                "In this paper we provide a procedure called a Generalized Trade Reduction (<br>gtr</br>) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "The solution procedure called the Generalized Trade Reduction (<br>gtr</br>).",
                "<br>gtr</br> accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "In addition to unifying many of the BB problems under a single solution concept, the <br>gtr</br> procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our <br>gtr</br> procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4]."
            ],
            "translated_annotated_samples": [
                "En este documento proporcionamos un procedimiento llamado <br>Reducción Comercial Generalizada</br> (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar.",
                "El procedimiento de solución llamado <br>Reducción Comercial Generalizada</br> (GTR).",
                "GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un <br>mecanismo IR, IC y BB</br>.",
                "Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el <br>procedimiento GTR</br> mejora los resultados existentes y resuelve varios problemas abiertos en la literatura.",
                "Las soluciones existentes que mejora nuestro procedimiento GTR son <br>subastas homogéneas de doble cara</br>, mercados distribuidos y cadena de suministro."
            ],
            "translated_text": "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado <br>Reducción Comercial Generalizada</br> (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado <br>Reducción Comercial Generalizada</br> (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un <br>mecanismo IR, IC y BB</br>. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el <br>procedimiento GTR</br> mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son <br>subastas homogéneas de doble cara</br>, mercados distribuidos y cadena de suministro. ",
            "candidates": [],
            "error": [
                [
                    "Reducción Comercial Generalizada",
                    "Reducción Comercial Generalizada",
                    "mecanismo IR, IC y BB",
                    "procedimiento GTR",
                    "subastas homogéneas de doble cara"
                ]
            ]
        },
        "optimality": {
            "translated_key": "optimalidad",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the <br>optimality</br> of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the <br>optimality</br> of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the <br>optimality</br> of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the <br>optimality</br> of X and this is an important open problem."
            ],
            "translated_annotated_samples": [
                "Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la <br>optimalidad</br> del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares.",
                "Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la <br>optimalidad</br> de X y este es un importante problema abierto."
            ],
            "translated_text": "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado Reducción Comercial Generalizada (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la <br>optimalidad</br> del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro. Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB. Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio. Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas. Definimos dominios basados en clase y dominios basados en clase de adquisiciones. Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado competencia interna y externa. La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2. PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB. Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de intercambio. Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0. Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0. El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi. El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn. Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i. Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Que el tamaño de un conjunto de adquisiciones s se denote como |s|. Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición. El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s). Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s). En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi. Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A. Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La eficiencia de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo. Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor. Un mecanismo M define unas reglas de asignación y pago, M = (R, P). Una regla de pago P decide el pago pi donde P es una función P: V → RN. Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores. Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10]. El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad. El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores. M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa. Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0. Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados. Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio. Los dos algoritmos son tales que, dado un mecanismo IR e IC M que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte a M en un mecanismo IR, IC y BB. El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplen las condiciones correctas y el mecanismo M se convierte en uno de tipo BB. Las condiciones adecuadas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado. Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando. Definición 2.3. Para cualquier jugador i ∈ N, decimos que el conjunto Ri ⊆ N \\ {i} es un conjunto de reemplazo de i, si para cualquier conjunto de adquisición s ∈ S tal que i ∈ s y Ri∩s = ∅, s\\{i}∪Ri ∈ S. Por ejemplo, en una subasta (homogénea) de doble cara (ver problema B.1), el conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador. En una subasta de espacios de transporte (ver problema B.7), el conjunto de reemplazo de un borde es un camino entre los extremos del borde. Ten en cuenta que un conjunto puede reemplazar a un solo jugador. Además, esta relación es transitiva pero no necesariamente simétrica. Si i es un conjunto de reemplazo para j, no necesariamente es cierto que j sea un conjunto de reemplazo para i. Definición 2.4. Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una competencia interna para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i. T = s \\ {i} ∪ Ri(A, s) ∈ S y W(T) ≥ 0. Definición 2.5. Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una competencia externa para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0. Supondremos, sin pérdida de generalidad, que no hay empates entre los valores de ninguna asignación, y en particular no hay empates entre los valores de los conjuntos de adquisiciones. En caso de empate, este puede romperse utilizando las identidades de los jugadores. Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con competencia externa Ei(A, s), existe exactamente un conjunto que representa la competencia externa de mayor valor. Definición 2.6. Un conjunto X ⊂ N es cerrado bajo reemplazo si ∀i ∈ X entonces Ri ⊂ X. Lo siguiente define la competencia requerida necesaria para mantener IC, IR y BB. El conjunto X5 denota esta competencia y está cerrado bajo reemplazo. En el resto del documento asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo. Definición 2.7. Sea X ⊂ N un conjunto que está cerrado bajo reemplazo, decimos que el mecanismo es un mecanismo X-externo, si 1. Cada jugador i ∈ X tiene una competencia externa. 2. Cada jugador i /∈ X tiene una competencia interna. 3. Para todos los jugadores i1, . . . , it ∈ s \\ X existen Ri1 (A, s), . . . , Rit (A, s) tales que para cada iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. para cada conjunto de adquisiciones s ∈ S se cumple que s∩X = ∅ Para dominios generales, la elección de X puede ser crucial. De hecho, incluso para el mismo dominio, el bienestar (y los ingresos) pueden variar ampliamente dependiendo de cómo se defina X. En el apéndice C damos un ejemplo donde dos posibles elecciones de X producen resultados muy diferentes. Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la <br>optimalidad</br> de X y este es un importante problema abierto. Nuestros dos algoritmos de reducción de comercio generalizados garantizarán que para cualquier asignación tengamos los tipos deseados de competencia. Dado un mecanismo M que es CI e IR con asignación A, el objetivo de los algoritmos es convertir a M en un mecanismo X-externo. Los dos algoritmos de reducción de comercio generalizados utilizan una función de división D que divide la asignación A en conjuntos de adquisición disjuntos. Los algoritmos ordenan los conjuntos de adquisiciones definidos por D en orden de valor creciente. Para cualquier conjunto de adquisiciones hay un tipo deseado de competencia que depende únicamente de los jugadores que componen el conjunto de adquisiciones. Los algoritmos de reducción de comercio generalizados recorren los conjuntos de adquisiciones en orden (del más pequeño al más grande) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el conjunto. La reducción de los conjuntos de adquisiciones también se conocerá como reducción del comercio. Formalmente, los detalles sobre cómo resolver empates en las asignaciones son estándar y se omiten. Presentamos algunas compensaciones entre los diferentes conjuntos posibles en el Apéndice C. Definición 2.8. D es una función de división si para cualquier asignación A y el vector de valores de los jugadores v, D divide la asignación en conjuntos de adquisiciones disjuntos s1, . . . , sk de manera que ∪sj = A y para cualquier jugador i con valor vi si i ∈ sj1 y t ∈ sj2 tal que j1 ≥ j2 entonces para cualquier valor vi > vi del jugador i y división por D en s1, . . . , sk tal que i ∈ sj1 y t ∈ sj2 entonces j1 > j2. Los dos algoritmos de reducción de comercio generalizados presentados aceptan problemas en diferentes dominios. Las definiciones de dominio formal siguen: Definición 2.9. Un dominio es un dominio de clase si para todo i ∈ N y todos los conjuntos de reemplazo de i, Ri, |Ri| = 1 y para todo i, j, i = j si j = Ri entonces i = Rj. Intuitivamente, esto significa que los conjuntos de reemplazo son de tamaño 1 y la relación de reemplazo es simétrica. Definimos la clase de un jugador i como el conjunto de los conjuntos de reemplazo de los jugadores y denotamos la clase del jugador i por [i]. Es importante tener en cuenta que dado que los conjuntos de reemplazo son relaciones transitivas y dado que los dominios de clase también imponen relaciones simétricas en los conjuntos de reemplazo, la clase de un jugador i, [i] es en realidad una clase de equivalencia para i. Definición 2.10. Un dominio es un dominio de clase de adquisición si el dominio es un dominio basado en clases y si para cualquier jugador i tal que existan dos conjuntos de adquisición s1, s2 (no necesariamente intercambiando simultáneamente en ninguna asignación) tales que i ∈ s1 e i ∈ s2, entonces existe una biyección f: s1 → s2 tal que para cualquier j ∈ s1, f(j) es un conjunto de reemplazo para j en s2. Ejemplo 2.1. Una subasta (homogénea) de doble cara (ver problema B.1) es un dominio basado en la clase de adquisiciones. Para la subasta de doble cara (homogénea), cada conjunto de adquisición consiste en un comprador y un vendedor. La subasta combinatoria de doble cara que consiste en un único comprador con múltiples preferencias y múltiples vendedores de bienes heterogéneos (ver problema B.9), es un dominio basado en clases (ya que tenemos un único comprador) pero no es un dominio basado en clases de adquisiciones. En este caso, el comprador es una clase y cada conjunto de vendedores del mismo bien es una clase. Sin embargo, para un comprador no hay una biyección entre los diferentes conjuntos de adquisición de los paquetes de bienes en los que el comprador está interesado. El mercado distribuido espacialmente con bordes estratégicos (ver problema B.6) no es un dominio basado en clases (y por lo tanto no es un dominio de clase de adquisiciones). Por ejemplo, incluso para un comprador fijo y un vendedor fijo existen dos conjuntos de adquisición diferentes que consisten en diferentes rutas entre los compradores y vendedores. Las siguientes secciones presentan dos algoritmos GTR-1 y GTR-2. El algoritmo GTR-1 acepta problemas en dominios basados en la clase de adquisiciones, sus propiedades se demuestran con una función de división general D. El algoritmo GTR-2 acepta problemas en cualquier dominio. Demostramos las propiedades de GTR-2s con una función de división específica D0. La función será definida en la sección 4. Dado que la función de división puede tener un gran impacto práctico en el bienestar (y los ingresos), la generalidad de GTR − 1 (aunque sea en dominios especiales) puede ser una consideración práctica importante. 3. DOMINIOS BASADOS EN CLASES DE ADQUISICIÓN Esta sección se centra en los problemas que son dominios basados en clases de adquisición. Para este dominio, presentamos un algoritmo llamado GTR-1, que dado un mecanismo que es IR e IC, produce un mecanismo con bienestar reducido que es IR, IC y equilibrado presupuestariamente. Aunque los dominios de clase de adquisición parecen ser un modelo relativamente restringido, de hecho muchos de los dominios estudiados en la literatura son dominios de clase de adquisición. Ejemplo 3.1. Los siguientes dominios son dominios de clase de adquisiciones: • subastas de doble cara con bienes homogéneos [13] (problema B.1). En este dominio hay dos clases. La clase de compradores y la clase de vendedores. Cada conjunto de adquisiciones consta de un único comprador y un único vendedor. Dado que cada par de (comprador, vendedor) es un conjunto de adquisición válido (aunque posiblemente con valor negativo), este es un dominio de clase de adquisición. En este dominio, la constante asignada a los conjuntos de adquisición es F = 0. • Mercados distribuidos espacialmente con bordes no estratégicos [3, 9] (problema B.3). Al igual que las subastas de doble cara con bienes homogéneos, hay dos clases en el dominio. Clase de compradores y clase de vendedores con conjuntos de adquisición que consisten en un comprador y un vendedor. Los vendedores y compradores son nodos en un grafo y la función F es la distancia entre dos nodos (longitud de la arista) que representa los costos de transporte. Estos costos varían entre diferentes pares (comprador, vendedor). • Cadenas de suministro [2, 4] (problema B.5). La suposición de una manufactura única por [2, 4] se puede entender mejor como convertir las cadenas de suministro generales (que no necesariamente deben ser un dominio de clase de adquisiciones) en un dominio de clase de adquisiciones. • Subastas combinatorias de mente única [11] (problema B.8). En este contexto, cada vendedor vende un solo bien y cada comprador desea un conjunto de bienes. Las clases son conjuntos de vendedores que venden el mismo bien, así como los compradores que desean el mismo paquete. Un conjunto de adquisiciones consiste en un único comprador, así como un conjunto de vendedores que pueden satisfacer a ese comprador. Una definición del mecanismo sigue a continuación: Definición 3.1. El algoritmo GTR-1, dado un mecanismo M, un conjunto X ⊂ N que es cerrado bajo reemplazo, una función de división D y una asignación A, opera de la siguiente manera: 1. Utiliza la función de división D para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 2. Ordena los conjuntos de adquisición por valor creciente. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay competencia externa y para cada i ∈ sj \\ X hay competencia interna, entonces se conservan los 23 sj. De lo contrario, reduzca el intercambio sj (es decir, elimine cada i ∈ sj de la asignación). Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. A todos los jugadores no comerciales no se les cobra nada. Observación 3.1. El caso especial donde X = N ha recibido atención bajo diferentes formas en varios casos especiales, como ([13, 3, 4]). 3.1 El GTR-1 produce un mecanismo externo de X que es IR, IC y BB. En esta subsección demostramos que el algoritmo GTR-1 produce un mecanismo externo de X que es IR, IC y BB. Para demostrar las propiedades de GTR-1, hacemos uso del teorema 3.1, el cual es un resultado bien conocido (por ejemplo, [14, 11]). El Teorema 3.1 caracteriza las condiciones necesarias y suficientes para que un mecanismo para jugadores de valor único sea IR e IC: Definición 3.2. Una regla de asignación R es Bid Monotónica si para cualquier jugador i, cualquier oferta de los otros jugadores b−i ∈ V−i, y cualquier par de ofertas posibles de i, ˆbi > bi, si i negocia bajo la regla de asignación R al informar bi, entonces i también negocia al informar ˆbi. Intuitivamente, una regla de asignación monótona de oferta garantiza que ningún jugador comerciante pueda convertirse en un jugador no comerciante al mejorar su oferta. Teorema 3.1. Un mecanismo IR M con regla de asignación R es IC si y solo si R es Bid Monotónico y cada jugador comerciante i paga su valor crítico Ci (pi = Ci). Por lo tanto, para los mecanismos IR7 e IC normalizados, la regla de asignación que es bid monótona define de manera única los valores críticos para todos los jugadores y, por lo tanto, los pagos. Observación 3.1. Sean M1 y M2 dos mecanismos IR e IC con la misma regla de asignación. Entonces M1 y M2 deben tener la misma regla de pago. En lo siguiente demostramos que el algoritmo GTR-1 externo de X produce un mecanismo IR, IC y BB, pero primero se muestra un lema subsidiario. Lema 3.1. Para los dominios de clase de adquisiciones, si existe un conjunto de adquisiciones sj tal que i ∈ sj y i tiene competencia externa, entonces todos los t = i t ∈ sj, t tiene competencia interna. Prueba. Esto se deriva de la definición de los dominios de clase de adquisiciones. Supongamos que i tiene competencia externa, entonces existe un conjunto de jugadores Ei(A, s) tal que {i} ∪ Ei(A, s) ∈ S. Denotemos por sj = {i} ∪ Ei(A, s). Dado que el dominio es un dominio de clase de adquisiciones, existe una función biyectiva f entre sj y sj. f define la competencia interna requerida. Comenzamos demostrando IR e IC: Aunque la definición de un mecanismo externo X requiere que X intersecte cada conjunto de adquisiciones, esto no es estrictamente necesario. Es posible definir un X que no intersecte con cada conjunto de adquisiciones posible. En este caso, cualquier conjunto de adquisiciones s ∈ S tal que s ∩ X = ∅ se reducirá. Nótese que esto no es cierto para mecanismos que no están normalizados, por ejemplo, [7, 12] Lema 3.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR e IC. Prueba. Por la definición de un esquema de precios de valor crítico 2.2 y el algoritmo GTR-1 3.1 se sigue que para cada jugador comercial i, vi ≥ 0. Por el algoritmo GTR-1, 3.1 jugadores no comerciales tienen un pago de cero. Por lo tanto, para cada jugador i, valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que el mecanismo externo X producido es IR. Dado que el algoritmo X-external GTR-1 es IR y aplica el esquema de pago de valor crítico según el teorema 3.1, para demostrar que el mecanismo X-external producido con el esquema de pago de valor crítico es IC, queda por demostrar que la regla de asignación de mecanismos producida es bid-montónica. Dado que GTR-1 ordena los conjuntos de adquisición según el valor creciente, si el jugador i aumenta su oferta de bi a bi > bi, entonces para cualquier función de división D de conjuntos de adquisición, el conjunto de adquisición s que contiene a i siempre aparece más tarde con la oferta bi que con la oferta bi. Por lo tanto, la probabilidad de competencia solo puede aumentar si i aparece en conjuntos de adquisiciones posteriores. Esto se traduce en que GTR-1 puede reducir más de los conjuntos de adquisiciones de menor valor, lo que resultará en más jugadores no comerciales. Por lo tanto, si s tiene la competencia requerida y no se reduce con bi, entonces tendrá la competencia requerida con bi y no se reducirá. Finalmente demostramos BB: Lema 3.3. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo BB. Prueba. Para demostrar que el mecanismo producido es BB, mostramos que cada conjunto de adquisiciones que no está reducido tiene un presupuesto positivo (es decir, la suma de los pagos es positiva). Sea s ∈ S un conjunto de adquisiciones que no está reducido. Si i ∈ s ∩ X, entonces según la definición de la definición externa de X 2.7 y el algoritmo GTR-1 3.1, i tiene una competencia externa. Supongamos sin pérdida de generalidad que i es el único jugador con competencia externa en s y que todos los demás jugadores j = i, j ∈ s tienen competencia interna. Sea A la asignación después de la reducción de los conjuntos de adquisición por el algoritmo GTR-1. Según la definición de competencia externa 2.5, existe un conjunto Ei(A, s) ⊂ N \\A tal que i ∪ Ei(A, s) ∈ S y W(i ∪ Ei(A, s)) ≥ 0. Dado que W(i∪Ei(A, s)) = vi +W(Ei(A, s)), entonces vi ≥ −W(Ei(A, s)). Según la definición 2.2 del esquema de fijación de precios por valor crítico, esto significa que si el jugador i ofrece menos de −W(Ei(A, s)), no tendrá competencia externa y, por lo tanto, será eliminado del intercambio. Por lo tanto, pago no menos de min −W(Ei(A, s)). Dado que todos los demás jugadores j ∈ s tienen competencia interna, su precio crítico no puede ser menor que el valor máximo de su competidor interno (conjunto), es decir, max W(Rj(A, s)). Si algún jugador j ∈ s ofrece menos que su competidor interno máximo (conjunto), entonces él no estará en s pero su competidor interno máximo (conjunto) sí lo estará. Dado que un posible Ei(A, s) es ∪j∈sRj(A, s), se puede acotar el valor máximo de su competencia externa W(Ei(A, s)) por la suma de los valores máximos del resto de los jugadores en s 8, dado que el dominio es un dominio de clase de adquisiciones, podemos usar el lema 3.1 24 de competencia interna, es decir, j∈s max W(Rj(A, s)). Por lo tanto, min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))). Dado que la función F se define como una constante positiva, obtenemos que W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 y, por lo tanto, s es al menos equilibrado en términos presupuestarios. Dado que cada conjunto de adquisiciones que no se reduce está al menos equilibrado presupuestariamente, se deduce que el mecanismo externo X producido es BB. Los dos lemas anteriores producen el siguiente teorema: Teorema 3.2. Para los dominios de clase de adquisiciones para cualquier X, el mecanismo externo X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR, IC y BB. Observación 3.2. La prueba del teorema proporciona límites sobre los pagos que cualquier jugador tiene que hacer al mecanismo. Los dominios no basados en la clase de adquisiciones. La razón principal por la que GTR-1 funciona para los dominios no basados en la clase de adquisiciones es que la posibilidad de reducción de cada jugador es monótona. Por la definición de una función de división, si un jugador i ∈ sj aumenta su valor, i solo puede aparecer en un conjunto de adquisiciones sj posterior y, por lo tanto, tiene una mayor probabilidad de tener la competencia deseada. Por lo tanto, la probabilidad de que i carezca de la competencia necesaria disminuye. Dado que el dominio es un dominio de clase de adquisiciones, es más probable que todos los demás jugadores t = i, t ∈ sj también tengan competencia, ya que los miembros de su clase siguen apareciendo antes que i y, por lo tanto, la probabilidad de que i sea reducido disminuye. Dado que, según el teorema 3.1, una condición necesaria y suficiente para que el mecanismo sea CI es la monotonicidad. GTR-1 es IC para dominios de clase de adquisiciones. Sin embargo, para los dominios que no son de la clase de adquisiciones, esto no es suficiente incluso si el dominio es un dominio basado en clases. Aunque todos los miembros de sj siguen teniendo la competencia requerida, es posible que haya miembros de sj que no tengan análogos en sj que no tengan competencia. Por lo tanto, podría reducirse después de aumentar su valor, lo que significa, según el lema 3.1, que el mecanismo no es IC. Por lo tanto, definimos un algoritmo diferente para los dominios que no pertenecen a la clase de adquisiciones. Nuestro algoritmo modificado requiere una función de división especial para mantener la propiedad de IC. Aunque nuestra restricción a esta función de división especial parezca estricta, la función de división que utilizamos es una generalización de la forma en que se eligen los conjuntos de adquisiciones en dominios basados en clases de adquisiciones, por ejemplo, [13, 16, 9, 3, 2, 4]. Para facilitar la presentación en esta sección, asumimos que F = 0. La función de división para dominios generales se define al observar todas las posibles funciones de división. Para cada función de división Di y cada conjunto de ofertas, el algoritmo GTR-1 produce un bienestar que es una función de las ofertas y la función de división. Denotamos por D0 la función de división que divide a los jugadores en conjuntos de manera que el bienestar que encuentra GTR-1 sea máximo. Cabe destacar que para cualquier Di en particular, esto podría no ser IC, ya que GTR-1 es IC solo para dominios de clase de adquisición y no para dominios generales. En el Apéndice A mostramos cómo calcular D0 en polinómico. Formalmente, sea D el conjunto de todas las funciones de división D. Denotemos el bienestar logrado por el mecanismo producido por GTR1 al usar la función de división D y un conjunto de ofertas ¯b como GTR1(D, ¯b). Denote por D0(¯b) = argmaxD∈D(GTR1(D,¯b)). Para facilitar la presentación, denotamos D0(¯b) como D0 cuando la dependencia de b es clara en el contexto. Observación 4.1. D0 es un elemento del conjunto de funciones divisorias, y por lo tanto es una función divisoria. El segundo algoritmo de reducción de comercio generalizado GTR-2 sigue. Definición 4.1. El algoritmo GTR-2 - Dado el mecanismo M, la asignación A y un conjunto X ⊂ N cerrado bajo reemplazo, GTR-2 opera de la siguiente manera: 1. Calcula la función de división D0 como se define arriba. 2. Utilice la función de división D0 para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor, haz lo siguiente: Si para i ∈ sj ∩ X hay una competencia externa y hay a lo sumo un i ∈ sj que no tiene competencia interna, entonces conserva sj. De lo contrario, reduzca el intercambio sj. 4. Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. Todos los jugadores no comerciales no pagan nada. Demostraremos que el mecanismo producido por GTR-2 mantiene las propiedades deseadas de IR, IC y BB. El siguiente lema muestra que el mecanismo producido por GTR-2 es IR y IC. Lema 4.1. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR e IC. Prueba. Según el teorema 3.1, basta con demostrar que el mecanismo producido por el algoritmo GTR-2 es bidmonótono para cada jugador i. Supongamos que no fui reducido al ofertar bi, necesitamos demostrar que no seré reducido al ofertar bi > bi. Denote por D1 = D0(b) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por D1 = D0(bi, b−i) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por ¯D1(b) una función divisoria máxima que resulta en GTR-1 reduciendo i al informar bi. Supongamos, por el contrario, que GTR-2 redujo i del intercambio cuando i informó bi, entonces GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b). Dado que D1 ∈ D, se sigue que GTR1(D1, b) > GTR1( ¯D1, b) y por lo tanto GTR1(D1, b) > GTR1(D1, (bi, b−i)). Sin embargo, según la definición D1 ∈ D, GTR-2 no debería haber reducido el tiempo mínimo de adquisición para los dominios de clase de aprovisionamiento. Calcular D0 en tiempo polinómico para dominios generales es un problema abierto importante. En la versión completa de GTR-2 se extiende de tal manera que basta con que exista algún momento en el cual se cumpla el tercer paso. Esa extensión se omitió de la versión actual debido a la falta de espacio. 25 con la función de división D1 y obtuvo un mayor bienestar que GTR1(D1, b). Por lo tanto, surge una contradicción y GTR-2 no reduce i del intercambio cuando i informa que bi > bi. Lema 4.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo BB. Prueba. Esta prueba es similar a la prueba del lema 3.3. Combinando los dos lemas anteriores obtenemos: Teorema 4.1. Para cualquier X cerrado bajo reemplazo, el mecanismo externo de X con el esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR, IC y BB. El Apéndice A muestra cómo calcular D0 para dominios de clase de adquisiciones en tiempo polinómico, no se sabe generalmente cómo calcular D0 fácilmente. Crear un método general para calcular la función de división necesaria en tiempo polinómico sigue siendo una pregunta abierta. 4.1 Limitando el Bienestar para Dominios Basados en Clases de Adquisición y otros Casos de Dominios Generales. Esta sección muestra que, además de producir un mecanismo con las propiedades deseadas, GTR-2 también produce un mecanismo que mantiene un alto bienestar. Dado que el algoritmo GTR-2 encuentra un mecanismo equilibrado en presupuesto en dominios arbitrarios, no podemos acotar el bienestar para casos generales. Sin embargo, podemos acotar el bienestar para el dominio basado en la clase de adquisiciones y una amplia variedad de casos en dominios generales que incluyen muchos casos previamente estudiados. Definición 4.2. Denote freqk([i], sj) para indicar que una clase [i] aparece en un conjunto de adquisiciones sj, k veces y hay k miembros de [i] en sj. Definición 4.3. Denote por freqk([i], S) el máximo k tal que hay k miembros de [i] en sj. Es decir, freqk([i], S) = maxsj ∈S freqk([i], sj). Deje que el conjunto de clases de equivalencia en el mecanismo de dominio basado en la clase de adquisiciones sea ec y |ec| sea el número de esas clases de equivalencia. Usando la definición de frecuencia de apariencia de clase, podemos acotar el bienestar logrado por el mecanismo producido por GTR-2 para los dominios de clase de adquisición: Lema 4.3. Para los dominios de clase de adquisiciones con F = 0, el número de conjuntos de adquisiciones que se reducen por GTR-213 es a lo sumo |ec| veces la frecuencia máxima de cada clase. Formalmente, el número máximo de conjuntos de adquisición que se reduce es O( [i]∈ec freqk([i], S)) Demostración. Sea D una función de división arbitraria. Observamos que, por definición, cualquier conjunto de adquisiciones sj no se reducirá si cada i ∈ sj tiene tanto competencia interna como competencia externa. El bienestar logrado por GTR-1 también puede estar acotado para los casos presentados en esta sección. Sin embargo, nos enfocamos en GTR-2 ya que siempre logra un mejor bienestar. 13 o GTR-1 Cada conjunto de adquisiciones s que se reduce tiene al menos un jugador i que no tiene competencia. Una vez que s se reduce, todos los jugadores de [i] tienen competencia interna. Así, al reducir el número de clases de equivalencia |ec| de conjuntos de adquisiciones, cubrimos a todos los jugadores restantes con competencia interna. Si la frecuencia máxima de cada clase de equivalencia fuera uno, entonces cada jugador restante t en el conjunto de adquisiciones sk también tendría competencia externa, ya que todos los competidores internos de los jugadores ¯t = t, ¯t ∈ sk son competencia externa para t. Si tenemos freqk([t], S) jugadores de la clase [t] que fueron reducidos, entonces hay suficiente competencia externa para todos los jugadores en sk. Por lo tanto, basta con reducir los conjuntos de adquisición O( [i]∈ec freqk([i], S)) para garantizar que exista tanto la competencia interna como externa necesaria. El siguiente teorema se deduce como un corolario inmediato del lema 4.3: Teorema 4.2. Dado mecanismos de dominio basados en clases de adquisición con H conjuntos de adquisición, la eficiencia es al menos una fracción de 1 − O( O( [i]∈ec freqk([i],S)) H ) del bienestar óptimo. Los siguientes corolarios son resultados directos del teorema 4.2. Todos estos corolarios mejoran resultados anteriores o logran el mismo bienestar que los resultados anteriores. Corolario 4.1. Para utilizar GTR-2 en subastas homogéneas de doble cara (problema B.1), se debe reducir como máximo un conjunto de adquisición de 14. De manera similar, para mercados distribuidos espacialmente sin bordes estratégicos (problema B.3), el uso de GTR-2 mejora el resultado de [3] donde se reduce un ciclo mínimo que incluye a un comprador y un vendedor. Corolario 4.2. Usar GTR-2 para mercados distribuidos espacialmente sin bordes estratégicos reducirá a lo sumo un ciclo por componente conectado. Para las cadenas de suministro (problema B.5) el uso de GTR-2 mejora el resultado de [2, 4] de manera similar al corolario 4.2. Corolario 4.3. Usando GTR-2 para cadenas de suministro, se reducirá a lo sumo un ciclo por componente conectado. El siguiente corolario resuelve el problema abierto en [3]. Corolario 4.4. Para mercados distribuidos en n nodos con agentes estratégicos y caminos de longitud acotada K (problema B.6) basta con eliminar como máximo K * n conjuntos de adquisiciones. Prueba. Bosque de expansión: Estos crearán al menos K árboles de expansión, por lo tanto, podemos cubrir de manera disjunta cada conjunto de adquisiciones restante. Esto mejora el algoritmo ingenuo de reducir conjuntos de adquisición n2. Proporcionamos resultados para dos casos especiales de subastas de doble cara con jugadores de valor único (problema B.8). Es posible que no se realicen reducciones, por ejemplo, cuando hay un jugador no comercial que es la competencia externa requerida. Al igual que en las subastas de doble cara, a veces habrá suficiente competencia sin una reducción. Corolario 4.5. si hay como máximo M tipos diferentes de conjuntos de adquisición, basta con eliminar M conjuntos de adquisición. Corolario 4.6. Si hay K tipos de bienes y cada conjunto de adquisición consiste en a lo sumo uno de cada tipo, basta con eliminar a lo sumo K conjuntos de adquisición. CONCLUSIONES Y TRABAJOS FUTUROS En este artículo presentamos un procedimiento de solución general llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo de IR e IC como entrada y produce mecanismos que son IR, IC y BB como salida. Los mecanismos de salida logran un bienestar que se acerca a lo óptimo para una amplia gama de dominios. El procedimiento GTR mejora los resultados existentes como subastas homogéneas de doble cara, mercados distribuidos y cadenas de suministro, y resuelve varios problemas abiertos como mercados distribuidos con aristas de transporte estratégicas y caminos acotados, subastas de doble cara combinatorias con conjuntos de adquisiciones de tamaño acotado, y subastas de doble cara combinatorias con un número acotado de conjuntos de adquisiciones. La cuestión de la calidad de la aproximación del bienestar tanto en general como en dominios de clase que no son dominios de clase de adquisición es una pregunta abierta importante e interesante. También dejamos abierta la pregunta de los límites superiores para la calidad de la aproximación del bienestar. Aunque sabemos que es imposible tener IR, IC y BB en un mecanismo eficiente, sería interesante tener un límite superior en la aproximación al bienestar alcanzable en un mecanismo IR, IC y BB. El procedimiento GTR produce un mecanismo que depende de un conjunto X ⊂ N. Otra pregunta interesante es cuál es la calidad de la aproximación cuando X se elige al azar de N antes de que se declaren las valoraciones. Agradecimientos Los autores desean agradecer a Eva Tardos y colaboradores por compartir sus resultados con nosotros. Los autores también desean expresar su gratitud por los comentarios útiles de los revisores anónimos.  REFERENCIAS [1] A. Archer y E. Tardos. Mecanismos de camino frugal. Simposio sobre Algoritmos Discretos, Actas del decimotercer simposio anual de algoritmos discretos ACM-SIAM, 2002. [2] M. Babaioff y N. Nisan. Subastas simultáneas en toda la cadena de suministro. Revista de Investigación en Inteligencia Artificial, 2004. [3] Babaioff M., Nisan N. y Pavlov E. Mecanismos para un Mercado Distribuido Espacialmente. En actas de la 5ta Conferencia ACM sobre Comercio Electrónico, 2004. [4] M. Babaioff y W. E. Walsh. Subastas Incentivo-Compatible, Equilibradas en Presupuesto, pero Altamente Eficientes para la Formación de Cadenas de Suministro. En actas de la Cuarta Conferencia ACM sobre Comercio Electrónico, 2003. [5] Y. Bartal, R. Gonen y P. La Mura. Mecanismos de rango de negociación: explorando los límites de los mercados eficientes y veraces. EC 04: Actas de la 5ta conferencia de ACM sobre comercio electrónico, 2004. [6] Blume L, Easley D., Kleinberg J. y Tardos E. Redes de intercambio con agentes que fijan precios. En actas de la 8ª conferencia de la ACM sobre comercio electrónico, 2007. [7] Cavallo R. Toma de decisiones óptima con desperdicio mínimo: redistribución estratégicamente segura de pagos VCG. En Proc. 5th Int. Conf. sobre Autonomía. Agentes y Sistemas Multiagente (AAMAS06). [8] E. H. Clarke Fijación de precios múltiples de bienes públicos. En la revista Public Choice de 1971, vol. 2, pp. 17-33. [9] Chu L. Y. y Shen Zuo-Jun M. Mecanismo de Subasta Doble de Competencia de Agentes. Ciencia de la Gestión, vol. 52(8), 2006. [10] T. Groves Incentivos en equipos. En la revista Econometrica de 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan y Y. Shoham. Revelación de la verdad en subastas combinatorias aproximadamente eficientes. En Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Obtención de preferencias honestas para la asignación de individuos a posiciones. Revista de economía política, 1983. [13] McAfee R. P. Una subasta doble de estrategia dominante. Revista de Teoría Económica, vol. 56, 434-450, 1992. [14] A. Mualem y N. Nisan. Mecanismos de Aproximación Veraz para Subastas Combinatorias Restringidas. Actas de AAAI 2002. [15] Myerson R. B. y Satterthwaite M. A. Mecanismos eficientes para el comercio bilateral. Revista de Teoría Económica, vol. 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. y Zhang R. Q. Mecanismos de subasta eficientes para la adquisición de la cadena de suministro. Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, 2001. [17] W. Vickrey Contrapronóstico, Subastas y Licitaciones Competitivas Selladas. En Journal of Finance 1961, vol. 16, pp. 8-37. APÉNDICE A. CALCULANDO LA FUNCIÓN DE DIVISIÓN ÓPTIMA EN DOMINIOS DE CLASE DE ADQUISICIÓN EN TIEMPO POLINÓMICO En esta sección mostramos cómo calcular la función de división óptima para dominios de clase de adquisición en tiempo polinómico. Primero definimos una función de división especial D0 que es fácil de calcular: Definimos la función de división D0 de forma recursiva de la siguiente manera: En la etapa j, D0 divide a los jugadores comerciales en dos conjuntos Aj y Aj de manera que: • Aj es un conjunto de adquisiciones • Aj puede dividirse en una unión disjunta de conjuntos de adquisiciones. • Aj tiene un valor mínimo de todas las particiones posibles. Define sj = Aj y llame recursivamente a D0 y Aj hasta que Aj = ∅. Ahora demostramos que D0 es la función de división requerida. Lema A.1. Para los dominios de clase de adquisiciones D0 = D0. Prueba. Dado que el dominio es un dominio de clase de adquisiciones, para cada conjunto de adquisiciones reducido, el conjunto de jugadores que logran la competencia (ya sea interna o externa) está fijo. Por lo tanto, el número de conjuntos de adquisiciones que se reducen es independiente de la función de división D. Dado que el objetivo es optimizar el bienestar reduciendo los conjuntos de adquisiciones con el menor valor, podemos optimizar el bienestar. Esto se logra mediante D0. I'm sorry, but you did not provide a sentence to translate. Please provide the sentence you would like me to translate to Spanish. PROBLEMAS Y EJEMPLOS Para completitud, presentamos en esta sección las definiciones formales de los problemas que utilizamos para ilustrar nuestro mecanismo. El primer problema que definimos es la subasta de doble cara con bienes homogéneos. Problema B.1. Subasta de doble cara con bienes homogéneos: Hay m vendedores, cada uno con un solo bien (todos los bienes son idénticos) y n compradores, cada uno interesado en recibir un bien. Denotamos el conjunto de vendedores como S y el conjunto de compradores como B. Cada jugador i ∈ S ∪ B (tanto compradores como vendedores) tiene un valor vi por el bien. En este modelo, un conjunto de adquisiciones consiste en un único comprador y un único vendedor, es decir, |s| = 2. El valor de un conjunto de adquisiciones es W(s) = vj − vi donde j ∈ B e i ∈ S, es decir, la ganancia del intercambio. Si los conjuntos de adquisiciones se crean emparejando al comprador de mayor valor con el vendedor de menor valor, entonces el mecanismo de reducción de intercambio determinístico [13] reduce el conjunto de adquisiciones de menor valor. Un modelo relacionado es el modelo de costos relacionados en pares [9]. Problema B.2. Los costos relacionados en pares: una subasta de doble cara B.1 en la que cada par de jugadores i ∈ S y j ∈ B tiene un costo relacionado F(i, j) ≥ 0 para poder comerciar. F(i, j) es un costo de fricción que debe minimizarse para maximizar el bienestar. [9] define dos mecanismos equilibrados presupuestariamente para este caso. Uno de los mecanismos de [9] tiene el conjunto de compradores B como el conjunto X para el mecanismo X-externo y el otro tiene el conjunto de vendedores S como el conjunto X para el mecanismo X-externo. Un modelo similar es el modelo de mercados distribuidos espacialmente (SDM) [3] en el que hay un grafo que impone relaciones en el costo. Problema B.3. Mercados distribuidos espacialmente: existe un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene asociado un costo que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Los bordes no son estratégicos, pero todos los jugadores son estratégicos. [3] define un mecanismo equilibrado en presupuesto para este caso. Nuestro artículo mejora el resultado de [3]. Otro modelo de gráfica es el modelo definido en [6]. Problema B.4. Redes de intercambio: Dado un grafo y compradores y vendedores que se encuentran en los nodos del grafo. Todo comercio debe pasar a través de un comerciante. En este caso, los conjuntos de adquisiciones tienen la forma (comprador, vendedor, comerciante) donde los posibles conjuntos de esta forma están definidos por un gráfico. El modelo de cadena de suministro [2, 4] puede ser visto como una generalización de [6] en la que los conjuntos de adquisición consisten en la forma (productor, consumidor, comerciante1, . . . , comerciantek). También es posible aleatorizar la reducción de los conjuntos de adquisición para lograr un presupuesto esperado de cero similar a [13], los detalles son obvios y se omiten. Problema B.5. Cadena de suministro: Hay un conjunto D de agentes y un conjunto G de bienes y un grafo G = (V, E) que define posibles relaciones comerciales. Los agentes pueden requerir una entrada de múltiples cantidades de bienes para producir un solo bien. El jugador tipo productor puede producir bienes de la nada, el consumidor tiene una valoración y es necesaria toda una cadena de intermediarios para crear un conjunto de adquisiciones viable. [2, 4] consideran una tecnología de fabricación única en la que el grafo que define las posibles relaciones es un árbol. Todos los problemas anteriores son dominios de clase de adquisiciones. También consideramos varios problemas que no son dominios de la clase de adquisiciones y, en general, las cuestiones de equilibrio presupuestario se han dejado como problemas abiertos. Un problema abierto planteado en [3] es el modelo SDM en el que los bordes son estratégicos. Problema B.6. Mercados distribuidos espacialmente con bordes estratégicos: hay un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene un costo asociado que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Cada comprador, vendedor y intermediario tiene un valor para el intercambio, es decir, todas las entidades son estratégicas. [2, 4] dejó abierta la cuestión de los mecanismos equilibrados en presupuesto para cadenas de suministro donde no hay una tecnología de fabricación única. Es fácil ver que este problema no pertenece al ámbito de la clase de adquisiciones. Otro problema interesante son las redes de transporte. Problema B.7. Redes de transporte: Un grafo G = (V, E) donde las aristas son jugadores estratégicos con costos y el objetivo es encontrar una ruta de transporte de costo mínimo entre un par de nodos privilegiados Fuente y Objetivo ∈ V. Se demostró en [1] que la asignación eficiente puede tener un déficit presupuestario que es lineal en el número de jugadores. Claramente, este problema no es un dominio de clase de adquisiciones y dejó abierta la pregunta de un mecanismo de presupuesto equilibrado. Otro mecanismo de dominio no basado en la clase de adquisiciones es la subasta combinatoria de doble cara (CA) con jugadores de valor único. Problema B.8. Subasta combinatoria de doble cara (CA) con jugadores de valor único: Existe un conjunto S de vendedores, cada uno vendiendo un solo bien. También existe un conjunto B de compradores, cada uno interesado en paquetes de 2S18. Hay dos variantes de este problema. En el caso de un comprador enfocado, cada comprador tiene un valor positivo para un solo subconjunto, mientras que en el caso de múltiples intereses, cada comprador puede tener varios paquetes con valoración positiva, pero todos los valores son iguales. En ambos casos asumimos disponibilidad gratuita para que todos los paquetes que contienen el paquete deseado tengan el mismo valor para el comprador. También consideramos problemas que no pertenecen a dominios de clase. Problema B.9. Subasta combinatoria de doble cara (CA) con jugadores generales multi-mentales: igual que B.8 pero cada comprador puede tener múltiples paquetes con valoración positiva que no necesariamente son iguales. Abusamos de la notación e identificamos al vendedor con el bien. Comparando diferentes opciones de X, la elección de X puede tener un gran impacto en el bienestar (y los ingresos) del mecanismo reducido y, por lo tanto, surge la pregunta de cómo se debería elegir el conjunto X. Dado que se requiere el mecanismo X-externo para mantener la CI claramente, la elección de X no puede depender del valor de los jugadores, de lo contrario el mecanismo reducido no será veraz. En esta sección motivamos la elección de conjuntos X pequeños para dominios de clase de adquisiciones y damos intuición de que también podría ser el caso para algunos otros dominios. Comenzamos ilustrando el efecto del conjunto X sobre el bienestar y los ingresos en la subasta de doble cara con el problema de bienes homogéneos B.1. Se pueden construir ejemplos similares para los otros problemas definidos en B. El siguiente ejemplo muestra un efecto en el bienestar. Ejemplo C.1. Hay dos compradores y dos vendedores y dos conjuntos no intersectantes (incomparables) X = {compradores} e Y = {vendedores}. Si los valores de los compradores son 101, 100 y los vendedores son 150, 1, entonces el mecanismo externo X generará una ganancia del comercio de 0 y el mecanismo externo Y generará una ganancia del comercio de 100. Por el contrario, si los valores de los compradores son 100, 1 y los de los vendedores son 2, 3, el mecanismo externo X generará una ganancia comercial de 98 y el mecanismo externo Y generará una ganancia comercial de cero. El ejemplo muestra claramente que la diferencia entre el mecanismo X-externo y el mecanismo Y-externo es ilimitada, aunque como se muestra arriba, la fracción que cada uno de ellos reduce puede ser limitada y, por lo tanto, la proporción multiplicativa entre ellos puede ser limitada (como función del número de operaciones). En el lado de los ingresos ni siquiera podemos establecer un límite para la proporción, como se ve en el siguiente ejemplo: Ejemplo C.2. Considera k compradores con un valor de 100 y k+1 vendedores con un valor de 1. Si X = {compradores} entonces no es necesario reducir ningún intercambio y todos los compradores reciben el bien y pagan 1. k + 1 de los vendedores venden y cada uno recibe 1. Esto produce un ingreso neto de cero. Si Y = {vendedores} entonces se debe reducir un intercambio. Esto significa que todos los compradores pagan 100 mientras que todos los vendedores siguen recibiendo 1. La ganancia total es entonces de 99k. Del mismo modo, se puede construir un ejemplo que genere ingresos mucho más altos para el mecanismo externo X en comparación con el mecanismo externo Y. Los ejemplos anteriores se refieren a los conjuntos X e Y, los cuales no se intersectan y son incomparables. El siguiente teorema compara los mecanismos externos-X y externos-Y para dominios de clase de adquisiciones donde X es un subconjunto de Y. Teorema C.1. Para los dominios de clase de adquisiciones, si X ⊂ Y y para cualquier s ∈ S, s ∩ X ∩ Y = ∅ entonces: 1. La eficiencia del mecanismo externo X en GTR-1 (y por lo tanto GTR-2) es al menos igual a la del mecanismo externo Y. Cualquier jugador ganador que gane tanto en los mecanismos X-externo como en el Y-externo no paga menos en el Y-externo que en el X-externo y, por lo tanto, la proporción de presupuesto a bienestar no es peor en el Y-externo que en el X-externo. Prueba. 1. Para cualquier función de división D, si hay un conjunto de adquisición sj que se reduce en el mecanismo externo X, hay dos posibles razones: (a) sj carece de competencia externa en el mecanismo externo X. En este caso, sj carece de competencia externa en el mecanismo interno. (b) sj tiene todas las competencias externas requeridas en X-externo. En este caso, sj tiene todas las competencias internas requeridas en Y -externas según el lema 3.1, pero podría carecer de algunas competencias externas para sj ∪ {Y \\ X} y verse reducido, 2. Esto se deduce del hecho de que para cualquier orden D, cualquier conjunto de adquisiciones s que se reduce en el mecanismo externo X también se reduce en el mecanismo externo Y. Por lo tanto, el valor crítico no es menor en el mecanismo Yexterno que en el mecanismo Xexterno. Observación C.1. Para cualquier par de conjuntos X, Y, es fácil construir un ejemplo en el que los mecanismos externos de X y Y reduzcan los mismos conjuntos de adquisición, por lo que la desigualdad es débil. El Teorema C.1 muestra una desigualdad en el bienestar, así como en los pagos, pero es fácil construir un ejemplo en el que los ingresos pueden aumentar para X en comparación con Y, así como lo contrario. Esto sugiere que en general queremos que X sea lo más pequeño posible, aunque en algunos dominios no es posible comparar diferentes X. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "inequality in welfare": {
            "translated_key": "desigualdad en el bienestar",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an <br>inequality in welfare</br> as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [
                "Theorem C.1 shows an <br>inequality in welfare</br> as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite."
            ],
            "translated_annotated_samples": [
                "El Teorema C.1 muestra una <br>desigualdad en el bienestar</br>, así como en los pagos, pero es fácil construir un ejemplo en el que los ingresos pueden aumentar para X en comparación con Y, así como lo contrario."
            ],
            "translated_text": "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado Reducción Comercial Generalizada (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro. Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB. Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio. Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas. Definimos dominios basados en clase y dominios basados en clase de adquisiciones. Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado competencia interna y externa. La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2. PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB. Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de intercambio. Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0. Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0. El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi. El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn. Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i. Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Que el tamaño de un conjunto de adquisiciones s se denote como |s|. Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición. El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s). Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s). En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi. Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A. Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La eficiencia de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo. Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor. Un mecanismo M define unas reglas de asignación y pago, M = (R, P). Una regla de pago P decide el pago pi donde P es una función P: V → RN. Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores. Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10]. El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad. El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores. M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa. Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0. Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados. Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio. Los dos algoritmos son tales que, dado un mecanismo IR e IC M que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte a M en un mecanismo IR, IC y BB. El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplen las condiciones correctas y el mecanismo M se convierte en uno de tipo BB. Las condiciones adecuadas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado. Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando. Definición 2.3. Para cualquier jugador i ∈ N, decimos que el conjunto Ri ⊆ N \\ {i} es un conjunto de reemplazo de i, si para cualquier conjunto de adquisición s ∈ S tal que i ∈ s y Ri∩s = ∅, s\\{i}∪Ri ∈ S. Por ejemplo, en una subasta (homogénea) de doble cara (ver problema B.1), el conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador. En una subasta de espacios de transporte (ver problema B.7), el conjunto de reemplazo de un borde es un camino entre los extremos del borde. Ten en cuenta que un conjunto puede reemplazar a un solo jugador. Además, esta relación es transitiva pero no necesariamente simétrica. Si i es un conjunto de reemplazo para j, no necesariamente es cierto que j sea un conjunto de reemplazo para i. Definición 2.4. Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una competencia interna para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i. T = s \\ {i} ∪ Ri(A, s) ∈ S y W(T) ≥ 0. Definición 2.5. Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una competencia externa para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0. Supondremos, sin pérdida de generalidad, que no hay empates entre los valores de ninguna asignación, y en particular no hay empates entre los valores de los conjuntos de adquisiciones. En caso de empate, este puede romperse utilizando las identidades de los jugadores. Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con competencia externa Ei(A, s), existe exactamente un conjunto que representa la competencia externa de mayor valor. Definición 2.6. Un conjunto X ⊂ N es cerrado bajo reemplazo si ∀i ∈ X entonces Ri ⊂ X. Lo siguiente define la competencia requerida necesaria para mantener IC, IR y BB. El conjunto X5 denota esta competencia y está cerrado bajo reemplazo. En el resto del documento asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo. Definición 2.7. Sea X ⊂ N un conjunto que está cerrado bajo reemplazo, decimos que el mecanismo es un mecanismo X-externo, si 1. Cada jugador i ∈ X tiene una competencia externa. 2. Cada jugador i /∈ X tiene una competencia interna. 3. Para todos los jugadores i1, . . . , it ∈ s \\ X existen Ri1 (A, s), . . . , Rit (A, s) tales que para cada iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. para cada conjunto de adquisiciones s ∈ S se cumple que s∩X = ∅ Para dominios generales, la elección de X puede ser crucial. De hecho, incluso para el mismo dominio, el bienestar (y los ingresos) pueden variar ampliamente dependiendo de cómo se defina X. En el apéndice C damos un ejemplo donde dos posibles elecciones de X producen resultados muy diferentes. Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la optimalidad de X y este es un importante problema abierto. Nuestros dos algoritmos de reducción de comercio generalizados garantizarán que para cualquier asignación tengamos los tipos deseados de competencia. Dado un mecanismo M que es CI e IR con asignación A, el objetivo de los algoritmos es convertir a M en un mecanismo X-externo. Los dos algoritmos de reducción de comercio generalizados utilizan una función de división D que divide la asignación A en conjuntos de adquisición disjuntos. Los algoritmos ordenan los conjuntos de adquisiciones definidos por D en orden de valor creciente. Para cualquier conjunto de adquisiciones hay un tipo deseado de competencia que depende únicamente de los jugadores que componen el conjunto de adquisiciones. Los algoritmos de reducción de comercio generalizados recorren los conjuntos de adquisiciones en orden (del más pequeño al más grande) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el conjunto. La reducción de los conjuntos de adquisiciones también se conocerá como reducción del comercio. Formalmente, los detalles sobre cómo resolver empates en las asignaciones son estándar y se omiten. Presentamos algunas compensaciones entre los diferentes conjuntos posibles en el Apéndice C. Definición 2.8. D es una función de división si para cualquier asignación A y el vector de valores de los jugadores v, D divide la asignación en conjuntos de adquisiciones disjuntos s1, . . . , sk de manera que ∪sj = A y para cualquier jugador i con valor vi si i ∈ sj1 y t ∈ sj2 tal que j1 ≥ j2 entonces para cualquier valor vi > vi del jugador i y división por D en s1, . . . , sk tal que i ∈ sj1 y t ∈ sj2 entonces j1 > j2. Los dos algoritmos de reducción de comercio generalizados presentados aceptan problemas en diferentes dominios. Las definiciones de dominio formal siguen: Definición 2.9. Un dominio es un dominio de clase si para todo i ∈ N y todos los conjuntos de reemplazo de i, Ri, |Ri| = 1 y para todo i, j, i = j si j = Ri entonces i = Rj. Intuitivamente, esto significa que los conjuntos de reemplazo son de tamaño 1 y la relación de reemplazo es simétrica. Definimos la clase de un jugador i como el conjunto de los conjuntos de reemplazo de los jugadores y denotamos la clase del jugador i por [i]. Es importante tener en cuenta que dado que los conjuntos de reemplazo son relaciones transitivas y dado que los dominios de clase también imponen relaciones simétricas en los conjuntos de reemplazo, la clase de un jugador i, [i] es en realidad una clase de equivalencia para i. Definición 2.10. Un dominio es un dominio de clase de adquisición si el dominio es un dominio basado en clases y si para cualquier jugador i tal que existan dos conjuntos de adquisición s1, s2 (no necesariamente intercambiando simultáneamente en ninguna asignación) tales que i ∈ s1 e i ∈ s2, entonces existe una biyección f: s1 → s2 tal que para cualquier j ∈ s1, f(j) es un conjunto de reemplazo para j en s2. Ejemplo 2.1. Una subasta (homogénea) de doble cara (ver problema B.1) es un dominio basado en la clase de adquisiciones. Para la subasta de doble cara (homogénea), cada conjunto de adquisición consiste en un comprador y un vendedor. La subasta combinatoria de doble cara que consiste en un único comprador con múltiples preferencias y múltiples vendedores de bienes heterogéneos (ver problema B.9), es un dominio basado en clases (ya que tenemos un único comprador) pero no es un dominio basado en clases de adquisiciones. En este caso, el comprador es una clase y cada conjunto de vendedores del mismo bien es una clase. Sin embargo, para un comprador no hay una biyección entre los diferentes conjuntos de adquisición de los paquetes de bienes en los que el comprador está interesado. El mercado distribuido espacialmente con bordes estratégicos (ver problema B.6) no es un dominio basado en clases (y por lo tanto no es un dominio de clase de adquisiciones). Por ejemplo, incluso para un comprador fijo y un vendedor fijo existen dos conjuntos de adquisición diferentes que consisten en diferentes rutas entre los compradores y vendedores. Las siguientes secciones presentan dos algoritmos GTR-1 y GTR-2. El algoritmo GTR-1 acepta problemas en dominios basados en la clase de adquisiciones, sus propiedades se demuestran con una función de división general D. El algoritmo GTR-2 acepta problemas en cualquier dominio. Demostramos las propiedades de GTR-2s con una función de división específica D0. La función será definida en la sección 4. Dado que la función de división puede tener un gran impacto práctico en el bienestar (y los ingresos), la generalidad de GTR − 1 (aunque sea en dominios especiales) puede ser una consideración práctica importante. 3. DOMINIOS BASADOS EN CLASES DE ADQUISICIÓN Esta sección se centra en los problemas que son dominios basados en clases de adquisición. Para este dominio, presentamos un algoritmo llamado GTR-1, que dado un mecanismo que es IR e IC, produce un mecanismo con bienestar reducido que es IR, IC y equilibrado presupuestariamente. Aunque los dominios de clase de adquisición parecen ser un modelo relativamente restringido, de hecho muchos de los dominios estudiados en la literatura son dominios de clase de adquisición. Ejemplo 3.1. Los siguientes dominios son dominios de clase de adquisiciones: • subastas de doble cara con bienes homogéneos [13] (problema B.1). En este dominio hay dos clases. La clase de compradores y la clase de vendedores. Cada conjunto de adquisiciones consta de un único comprador y un único vendedor. Dado que cada par de (comprador, vendedor) es un conjunto de adquisición válido (aunque posiblemente con valor negativo), este es un dominio de clase de adquisición. En este dominio, la constante asignada a los conjuntos de adquisición es F = 0. • Mercados distribuidos espacialmente con bordes no estratégicos [3, 9] (problema B.3). Al igual que las subastas de doble cara con bienes homogéneos, hay dos clases en el dominio. Clase de compradores y clase de vendedores con conjuntos de adquisición que consisten en un comprador y un vendedor. Los vendedores y compradores son nodos en un grafo y la función F es la distancia entre dos nodos (longitud de la arista) que representa los costos de transporte. Estos costos varían entre diferentes pares (comprador, vendedor). • Cadenas de suministro [2, 4] (problema B.5). La suposición de una manufactura única por [2, 4] se puede entender mejor como convertir las cadenas de suministro generales (que no necesariamente deben ser un dominio de clase de adquisiciones) en un dominio de clase de adquisiciones. • Subastas combinatorias de mente única [11] (problema B.8). En este contexto, cada vendedor vende un solo bien y cada comprador desea un conjunto de bienes. Las clases son conjuntos de vendedores que venden el mismo bien, así como los compradores que desean el mismo paquete. Un conjunto de adquisiciones consiste en un único comprador, así como un conjunto de vendedores que pueden satisfacer a ese comprador. Una definición del mecanismo sigue a continuación: Definición 3.1. El algoritmo GTR-1, dado un mecanismo M, un conjunto X ⊂ N que es cerrado bajo reemplazo, una función de división D y una asignación A, opera de la siguiente manera: 1. Utiliza la función de división D para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 2. Ordena los conjuntos de adquisición por valor creciente. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay competencia externa y para cada i ∈ sj \\ X hay competencia interna, entonces se conservan los 23 sj. De lo contrario, reduzca el intercambio sj (es decir, elimine cada i ∈ sj de la asignación). Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. A todos los jugadores no comerciales no se les cobra nada. Observación 3.1. El caso especial donde X = N ha recibido atención bajo diferentes formas en varios casos especiales, como ([13, 3, 4]). 3.1 El GTR-1 produce un mecanismo externo de X que es IR, IC y BB. En esta subsección demostramos que el algoritmo GTR-1 produce un mecanismo externo de X que es IR, IC y BB. Para demostrar las propiedades de GTR-1, hacemos uso del teorema 3.1, el cual es un resultado bien conocido (por ejemplo, [14, 11]). El Teorema 3.1 caracteriza las condiciones necesarias y suficientes para que un mecanismo para jugadores de valor único sea IR e IC: Definición 3.2. Una regla de asignación R es Bid Monotónica si para cualquier jugador i, cualquier oferta de los otros jugadores b−i ∈ V−i, y cualquier par de ofertas posibles de i, ˆbi > bi, si i negocia bajo la regla de asignación R al informar bi, entonces i también negocia al informar ˆbi. Intuitivamente, una regla de asignación monótona de oferta garantiza que ningún jugador comerciante pueda convertirse en un jugador no comerciante al mejorar su oferta. Teorema 3.1. Un mecanismo IR M con regla de asignación R es IC si y solo si R es Bid Monotónico y cada jugador comerciante i paga su valor crítico Ci (pi = Ci). Por lo tanto, para los mecanismos IR7 e IC normalizados, la regla de asignación que es bid monótona define de manera única los valores críticos para todos los jugadores y, por lo tanto, los pagos. Observación 3.1. Sean M1 y M2 dos mecanismos IR e IC con la misma regla de asignación. Entonces M1 y M2 deben tener la misma regla de pago. En lo siguiente demostramos que el algoritmo GTR-1 externo de X produce un mecanismo IR, IC y BB, pero primero se muestra un lema subsidiario. Lema 3.1. Para los dominios de clase de adquisiciones, si existe un conjunto de adquisiciones sj tal que i ∈ sj y i tiene competencia externa, entonces todos los t = i t ∈ sj, t tiene competencia interna. Prueba. Esto se deriva de la definición de los dominios de clase de adquisiciones. Supongamos que i tiene competencia externa, entonces existe un conjunto de jugadores Ei(A, s) tal que {i} ∪ Ei(A, s) ∈ S. Denotemos por sj = {i} ∪ Ei(A, s). Dado que el dominio es un dominio de clase de adquisiciones, existe una función biyectiva f entre sj y sj. f define la competencia interna requerida. Comenzamos demostrando IR e IC: Aunque la definición de un mecanismo externo X requiere que X intersecte cada conjunto de adquisiciones, esto no es estrictamente necesario. Es posible definir un X que no intersecte con cada conjunto de adquisiciones posible. En este caso, cualquier conjunto de adquisiciones s ∈ S tal que s ∩ X = ∅ se reducirá. Nótese que esto no es cierto para mecanismos que no están normalizados, por ejemplo, [7, 12] Lema 3.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR e IC. Prueba. Por la definición de un esquema de precios de valor crítico 2.2 y el algoritmo GTR-1 3.1 se sigue que para cada jugador comercial i, vi ≥ 0. Por el algoritmo GTR-1, 3.1 jugadores no comerciales tienen un pago de cero. Por lo tanto, para cada jugador i, valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que el mecanismo externo X producido es IR. Dado que el algoritmo X-external GTR-1 es IR y aplica el esquema de pago de valor crítico según el teorema 3.1, para demostrar que el mecanismo X-external producido con el esquema de pago de valor crítico es IC, queda por demostrar que la regla de asignación de mecanismos producida es bid-montónica. Dado que GTR-1 ordena los conjuntos de adquisición según el valor creciente, si el jugador i aumenta su oferta de bi a bi > bi, entonces para cualquier función de división D de conjuntos de adquisición, el conjunto de adquisición s que contiene a i siempre aparece más tarde con la oferta bi que con la oferta bi. Por lo tanto, la probabilidad de competencia solo puede aumentar si i aparece en conjuntos de adquisiciones posteriores. Esto se traduce en que GTR-1 puede reducir más de los conjuntos de adquisiciones de menor valor, lo que resultará en más jugadores no comerciales. Por lo tanto, si s tiene la competencia requerida y no se reduce con bi, entonces tendrá la competencia requerida con bi y no se reducirá. Finalmente demostramos BB: Lema 3.3. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo BB. Prueba. Para demostrar que el mecanismo producido es BB, mostramos que cada conjunto de adquisiciones que no está reducido tiene un presupuesto positivo (es decir, la suma de los pagos es positiva). Sea s ∈ S un conjunto de adquisiciones que no está reducido. Si i ∈ s ∩ X, entonces según la definición de la definición externa de X 2.7 y el algoritmo GTR-1 3.1, i tiene una competencia externa. Supongamos sin pérdida de generalidad que i es el único jugador con competencia externa en s y que todos los demás jugadores j = i, j ∈ s tienen competencia interna. Sea A la asignación después de la reducción de los conjuntos de adquisición por el algoritmo GTR-1. Según la definición de competencia externa 2.5, existe un conjunto Ei(A, s) ⊂ N \\A tal que i ∪ Ei(A, s) ∈ S y W(i ∪ Ei(A, s)) ≥ 0. Dado que W(i∪Ei(A, s)) = vi +W(Ei(A, s)), entonces vi ≥ −W(Ei(A, s)). Según la definición 2.2 del esquema de fijación de precios por valor crítico, esto significa que si el jugador i ofrece menos de −W(Ei(A, s)), no tendrá competencia externa y, por lo tanto, será eliminado del intercambio. Por lo tanto, pago no menos de min −W(Ei(A, s)). Dado que todos los demás jugadores j ∈ s tienen competencia interna, su precio crítico no puede ser menor que el valor máximo de su competidor interno (conjunto), es decir, max W(Rj(A, s)). Si algún jugador j ∈ s ofrece menos que su competidor interno máximo (conjunto), entonces él no estará en s pero su competidor interno máximo (conjunto) sí lo estará. Dado que un posible Ei(A, s) es ∪j∈sRj(A, s), se puede acotar el valor máximo de su competencia externa W(Ei(A, s)) por la suma de los valores máximos del resto de los jugadores en s 8, dado que el dominio es un dominio de clase de adquisiciones, podemos usar el lema 3.1 24 de competencia interna, es decir, j∈s max W(Rj(A, s)). Por lo tanto, min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))). Dado que la función F se define como una constante positiva, obtenemos que W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 y, por lo tanto, s es al menos equilibrado en términos presupuestarios. Dado que cada conjunto de adquisiciones que no se reduce está al menos equilibrado presupuestariamente, se deduce que el mecanismo externo X producido es BB. Los dos lemas anteriores producen el siguiente teorema: Teorema 3.2. Para los dominios de clase de adquisiciones para cualquier X, el mecanismo externo X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR, IC y BB. Observación 3.2. La prueba del teorema proporciona límites sobre los pagos que cualquier jugador tiene que hacer al mecanismo. Los dominios no basados en la clase de adquisiciones. La razón principal por la que GTR-1 funciona para los dominios no basados en la clase de adquisiciones es que la posibilidad de reducción de cada jugador es monótona. Por la definición de una función de división, si un jugador i ∈ sj aumenta su valor, i solo puede aparecer en un conjunto de adquisiciones sj posterior y, por lo tanto, tiene una mayor probabilidad de tener la competencia deseada. Por lo tanto, la probabilidad de que i carezca de la competencia necesaria disminuye. Dado que el dominio es un dominio de clase de adquisiciones, es más probable que todos los demás jugadores t = i, t ∈ sj también tengan competencia, ya que los miembros de su clase siguen apareciendo antes que i y, por lo tanto, la probabilidad de que i sea reducido disminuye. Dado que, según el teorema 3.1, una condición necesaria y suficiente para que el mecanismo sea CI es la monotonicidad. GTR-1 es IC para dominios de clase de adquisiciones. Sin embargo, para los dominios que no son de la clase de adquisiciones, esto no es suficiente incluso si el dominio es un dominio basado en clases. Aunque todos los miembros de sj siguen teniendo la competencia requerida, es posible que haya miembros de sj que no tengan análogos en sj que no tengan competencia. Por lo tanto, podría reducirse después de aumentar su valor, lo que significa, según el lema 3.1, que el mecanismo no es IC. Por lo tanto, definimos un algoritmo diferente para los dominios que no pertenecen a la clase de adquisiciones. Nuestro algoritmo modificado requiere una función de división especial para mantener la propiedad de IC. Aunque nuestra restricción a esta función de división especial parezca estricta, la función de división que utilizamos es una generalización de la forma en que se eligen los conjuntos de adquisiciones en dominios basados en clases de adquisiciones, por ejemplo, [13, 16, 9, 3, 2, 4]. Para facilitar la presentación en esta sección, asumimos que F = 0. La función de división para dominios generales se define al observar todas las posibles funciones de división. Para cada función de división Di y cada conjunto de ofertas, el algoritmo GTR-1 produce un bienestar que es una función de las ofertas y la función de división. Denotamos por D0 la función de división que divide a los jugadores en conjuntos de manera que el bienestar que encuentra GTR-1 sea máximo. Cabe destacar que para cualquier Di en particular, esto podría no ser IC, ya que GTR-1 es IC solo para dominios de clase de adquisición y no para dominios generales. En el Apéndice A mostramos cómo calcular D0 en polinómico. Formalmente, sea D el conjunto de todas las funciones de división D. Denotemos el bienestar logrado por el mecanismo producido por GTR1 al usar la función de división D y un conjunto de ofertas ¯b como GTR1(D, ¯b). Denote por D0(¯b) = argmaxD∈D(GTR1(D,¯b)). Para facilitar la presentación, denotamos D0(¯b) como D0 cuando la dependencia de b es clara en el contexto. Observación 4.1. D0 es un elemento del conjunto de funciones divisorias, y por lo tanto es una función divisoria. El segundo algoritmo de reducción de comercio generalizado GTR-2 sigue. Definición 4.1. El algoritmo GTR-2 - Dado el mecanismo M, la asignación A y un conjunto X ⊂ N cerrado bajo reemplazo, GTR-2 opera de la siguiente manera: 1. Calcula la función de división D0 como se define arriba. 2. Utilice la función de división D0 para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor, haz lo siguiente: Si para i ∈ sj ∩ X hay una competencia externa y hay a lo sumo un i ∈ sj que no tiene competencia interna, entonces conserva sj. De lo contrario, reduzca el intercambio sj. 4. Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. Todos los jugadores no comerciales no pagan nada. Demostraremos que el mecanismo producido por GTR-2 mantiene las propiedades deseadas de IR, IC y BB. El siguiente lema muestra que el mecanismo producido por GTR-2 es IR y IC. Lema 4.1. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR e IC. Prueba. Según el teorema 3.1, basta con demostrar que el mecanismo producido por el algoritmo GTR-2 es bidmonótono para cada jugador i. Supongamos que no fui reducido al ofertar bi, necesitamos demostrar que no seré reducido al ofertar bi > bi. Denote por D1 = D0(b) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por D1 = D0(bi, b−i) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por ¯D1(b) una función divisoria máxima que resulta en GTR-1 reduciendo i al informar bi. Supongamos, por el contrario, que GTR-2 redujo i del intercambio cuando i informó bi, entonces GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b). Dado que D1 ∈ D, se sigue que GTR1(D1, b) > GTR1( ¯D1, b) y por lo tanto GTR1(D1, b) > GTR1(D1, (bi, b−i)). Sin embargo, según la definición D1 ∈ D, GTR-2 no debería haber reducido el tiempo mínimo de adquisición para los dominios de clase de aprovisionamiento. Calcular D0 en tiempo polinómico para dominios generales es un problema abierto importante. En la versión completa de GTR-2 se extiende de tal manera que basta con que exista algún momento en el cual se cumpla el tercer paso. Esa extensión se omitió de la versión actual debido a la falta de espacio. 25 con la función de división D1 y obtuvo un mayor bienestar que GTR1(D1, b). Por lo tanto, surge una contradicción y GTR-2 no reduce i del intercambio cuando i informa que bi > bi. Lema 4.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo BB. Prueba. Esta prueba es similar a la prueba del lema 3.3. Combinando los dos lemas anteriores obtenemos: Teorema 4.1. Para cualquier X cerrado bajo reemplazo, el mecanismo externo de X con el esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR, IC y BB. El Apéndice A muestra cómo calcular D0 para dominios de clase de adquisiciones en tiempo polinómico, no se sabe generalmente cómo calcular D0 fácilmente. Crear un método general para calcular la función de división necesaria en tiempo polinómico sigue siendo una pregunta abierta. 4.1 Limitando el Bienestar para Dominios Basados en Clases de Adquisición y otros Casos de Dominios Generales. Esta sección muestra que, además de producir un mecanismo con las propiedades deseadas, GTR-2 también produce un mecanismo que mantiene un alto bienestar. Dado que el algoritmo GTR-2 encuentra un mecanismo equilibrado en presupuesto en dominios arbitrarios, no podemos acotar el bienestar para casos generales. Sin embargo, podemos acotar el bienestar para el dominio basado en la clase de adquisiciones y una amplia variedad de casos en dominios generales que incluyen muchos casos previamente estudiados. Definición 4.2. Denote freqk([i], sj) para indicar que una clase [i] aparece en un conjunto de adquisiciones sj, k veces y hay k miembros de [i] en sj. Definición 4.3. Denote por freqk([i], S) el máximo k tal que hay k miembros de [i] en sj. Es decir, freqk([i], S) = maxsj ∈S freqk([i], sj). Deje que el conjunto de clases de equivalencia en el mecanismo de dominio basado en la clase de adquisiciones sea ec y |ec| sea el número de esas clases de equivalencia. Usando la definición de frecuencia de apariencia de clase, podemos acotar el bienestar logrado por el mecanismo producido por GTR-2 para los dominios de clase de adquisición: Lema 4.3. Para los dominios de clase de adquisiciones con F = 0, el número de conjuntos de adquisiciones que se reducen por GTR-213 es a lo sumo |ec| veces la frecuencia máxima de cada clase. Formalmente, el número máximo de conjuntos de adquisición que se reduce es O( [i]∈ec freqk([i], S)) Demostración. Sea D una función de división arbitraria. Observamos que, por definición, cualquier conjunto de adquisiciones sj no se reducirá si cada i ∈ sj tiene tanto competencia interna como competencia externa. El bienestar logrado por GTR-1 también puede estar acotado para los casos presentados en esta sección. Sin embargo, nos enfocamos en GTR-2 ya que siempre logra un mejor bienestar. 13 o GTR-1 Cada conjunto de adquisiciones s que se reduce tiene al menos un jugador i que no tiene competencia. Una vez que s se reduce, todos los jugadores de [i] tienen competencia interna. Así, al reducir el número de clases de equivalencia |ec| de conjuntos de adquisiciones, cubrimos a todos los jugadores restantes con competencia interna. Si la frecuencia máxima de cada clase de equivalencia fuera uno, entonces cada jugador restante t en el conjunto de adquisiciones sk también tendría competencia externa, ya que todos los competidores internos de los jugadores ¯t = t, ¯t ∈ sk son competencia externa para t. Si tenemos freqk([t], S) jugadores de la clase [t] que fueron reducidos, entonces hay suficiente competencia externa para todos los jugadores en sk. Por lo tanto, basta con reducir los conjuntos de adquisición O( [i]∈ec freqk([i], S)) para garantizar que exista tanto la competencia interna como externa necesaria. El siguiente teorema se deduce como un corolario inmediato del lema 4.3: Teorema 4.2. Dado mecanismos de dominio basados en clases de adquisición con H conjuntos de adquisición, la eficiencia es al menos una fracción de 1 − O( O( [i]∈ec freqk([i],S)) H ) del bienestar óptimo. Los siguientes corolarios son resultados directos del teorema 4.2. Todos estos corolarios mejoran resultados anteriores o logran el mismo bienestar que los resultados anteriores. Corolario 4.1. Para utilizar GTR-2 en subastas homogéneas de doble cara (problema B.1), se debe reducir como máximo un conjunto de adquisición de 14. De manera similar, para mercados distribuidos espacialmente sin bordes estratégicos (problema B.3), el uso de GTR-2 mejora el resultado de [3] donde se reduce un ciclo mínimo que incluye a un comprador y un vendedor. Corolario 4.2. Usar GTR-2 para mercados distribuidos espacialmente sin bordes estratégicos reducirá a lo sumo un ciclo por componente conectado. Para las cadenas de suministro (problema B.5) el uso de GTR-2 mejora el resultado de [2, 4] de manera similar al corolario 4.2. Corolario 4.3. Usando GTR-2 para cadenas de suministro, se reducirá a lo sumo un ciclo por componente conectado. El siguiente corolario resuelve el problema abierto en [3]. Corolario 4.4. Para mercados distribuidos en n nodos con agentes estratégicos y caminos de longitud acotada K (problema B.6) basta con eliminar como máximo K * n conjuntos de adquisiciones. Prueba. Bosque de expansión: Estos crearán al menos K árboles de expansión, por lo tanto, podemos cubrir de manera disjunta cada conjunto de adquisiciones restante. Esto mejora el algoritmo ingenuo de reducir conjuntos de adquisición n2. Proporcionamos resultados para dos casos especiales de subastas de doble cara con jugadores de valor único (problema B.8). Es posible que no se realicen reducciones, por ejemplo, cuando hay un jugador no comercial que es la competencia externa requerida. Al igual que en las subastas de doble cara, a veces habrá suficiente competencia sin una reducción. Corolario 4.5. si hay como máximo M tipos diferentes de conjuntos de adquisición, basta con eliminar M conjuntos de adquisición. Corolario 4.6. Si hay K tipos de bienes y cada conjunto de adquisición consiste en a lo sumo uno de cada tipo, basta con eliminar a lo sumo K conjuntos de adquisición. CONCLUSIONES Y TRABAJOS FUTUROS En este artículo presentamos un procedimiento de solución general llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo de IR e IC como entrada y produce mecanismos que son IR, IC y BB como salida. Los mecanismos de salida logran un bienestar que se acerca a lo óptimo para una amplia gama de dominios. El procedimiento GTR mejora los resultados existentes como subastas homogéneas de doble cara, mercados distribuidos y cadenas de suministro, y resuelve varios problemas abiertos como mercados distribuidos con aristas de transporte estratégicas y caminos acotados, subastas de doble cara combinatorias con conjuntos de adquisiciones de tamaño acotado, y subastas de doble cara combinatorias con un número acotado de conjuntos de adquisiciones. La cuestión de la calidad de la aproximación del bienestar tanto en general como en dominios de clase que no son dominios de clase de adquisición es una pregunta abierta importante e interesante. También dejamos abierta la pregunta de los límites superiores para la calidad de la aproximación del bienestar. Aunque sabemos que es imposible tener IR, IC y BB en un mecanismo eficiente, sería interesante tener un límite superior en la aproximación al bienestar alcanzable en un mecanismo IR, IC y BB. El procedimiento GTR produce un mecanismo que depende de un conjunto X ⊂ N. Otra pregunta interesante es cuál es la calidad de la aproximación cuando X se elige al azar de N antes de que se declaren las valoraciones. Agradecimientos Los autores desean agradecer a Eva Tardos y colaboradores por compartir sus resultados con nosotros. Los autores también desean expresar su gratitud por los comentarios útiles de los revisores anónimos.  REFERENCIAS [1] A. Archer y E. Tardos. Mecanismos de camino frugal. Simposio sobre Algoritmos Discretos, Actas del decimotercer simposio anual de algoritmos discretos ACM-SIAM, 2002. [2] M. Babaioff y N. Nisan. Subastas simultáneas en toda la cadena de suministro. Revista de Investigación en Inteligencia Artificial, 2004. [3] Babaioff M., Nisan N. y Pavlov E. Mecanismos para un Mercado Distribuido Espacialmente. En actas de la 5ta Conferencia ACM sobre Comercio Electrónico, 2004. [4] M. Babaioff y W. E. Walsh. Subastas Incentivo-Compatible, Equilibradas en Presupuesto, pero Altamente Eficientes para la Formación de Cadenas de Suministro. En actas de la Cuarta Conferencia ACM sobre Comercio Electrónico, 2003. [5] Y. Bartal, R. Gonen y P. La Mura. Mecanismos de rango de negociación: explorando los límites de los mercados eficientes y veraces. EC 04: Actas de la 5ta conferencia de ACM sobre comercio electrónico, 2004. [6] Blume L, Easley D., Kleinberg J. y Tardos E. Redes de intercambio con agentes que fijan precios. En actas de la 8ª conferencia de la ACM sobre comercio electrónico, 2007. [7] Cavallo R. Toma de decisiones óptima con desperdicio mínimo: redistribución estratégicamente segura de pagos VCG. En Proc. 5th Int. Conf. sobre Autonomía. Agentes y Sistemas Multiagente (AAMAS06). [8] E. H. Clarke Fijación de precios múltiples de bienes públicos. En la revista Public Choice de 1971, vol. 2, pp. 17-33. [9] Chu L. Y. y Shen Zuo-Jun M. Mecanismo de Subasta Doble de Competencia de Agentes. Ciencia de la Gestión, vol. 52(8), 2006. [10] T. Groves Incentivos en equipos. En la revista Econometrica de 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan y Y. Shoham. Revelación de la verdad en subastas combinatorias aproximadamente eficientes. En Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Obtención de preferencias honestas para la asignación de individuos a posiciones. Revista de economía política, 1983. [13] McAfee R. P. Una subasta doble de estrategia dominante. Revista de Teoría Económica, vol. 56, 434-450, 1992. [14] A. Mualem y N. Nisan. Mecanismos de Aproximación Veraz para Subastas Combinatorias Restringidas. Actas de AAAI 2002. [15] Myerson R. B. y Satterthwaite M. A. Mecanismos eficientes para el comercio bilateral. Revista de Teoría Económica, vol. 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. y Zhang R. Q. Mecanismos de subasta eficientes para la adquisición de la cadena de suministro. Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, 2001. [17] W. Vickrey Contrapronóstico, Subastas y Licitaciones Competitivas Selladas. En Journal of Finance 1961, vol. 16, pp. 8-37. APÉNDICE A. CALCULANDO LA FUNCIÓN DE DIVISIÓN ÓPTIMA EN DOMINIOS DE CLASE DE ADQUISICIÓN EN TIEMPO POLINÓMICO En esta sección mostramos cómo calcular la función de división óptima para dominios de clase de adquisición en tiempo polinómico. Primero definimos una función de división especial D0 que es fácil de calcular: Definimos la función de división D0 de forma recursiva de la siguiente manera: En la etapa j, D0 divide a los jugadores comerciales en dos conjuntos Aj y Aj de manera que: • Aj es un conjunto de adquisiciones • Aj puede dividirse en una unión disjunta de conjuntos de adquisiciones. • Aj tiene un valor mínimo de todas las particiones posibles. Define sj = Aj y llame recursivamente a D0 y Aj hasta que Aj = ∅. Ahora demostramos que D0 es la función de división requerida. Lema A.1. Para los dominios de clase de adquisiciones D0 = D0. Prueba. Dado que el dominio es un dominio de clase de adquisiciones, para cada conjunto de adquisiciones reducido, el conjunto de jugadores que logran la competencia (ya sea interna o externa) está fijo. Por lo tanto, el número de conjuntos de adquisiciones que se reducen es independiente de la función de división D. Dado que el objetivo es optimizar el bienestar reduciendo los conjuntos de adquisiciones con el menor valor, podemos optimizar el bienestar. Esto se logra mediante D0. I'm sorry, but you did not provide a sentence to translate. Please provide the sentence you would like me to translate to Spanish. PROBLEMAS Y EJEMPLOS Para completitud, presentamos en esta sección las definiciones formales de los problemas que utilizamos para ilustrar nuestro mecanismo. El primer problema que definimos es la subasta de doble cara con bienes homogéneos. Problema B.1. Subasta de doble cara con bienes homogéneos: Hay m vendedores, cada uno con un solo bien (todos los bienes son idénticos) y n compradores, cada uno interesado en recibir un bien. Denotamos el conjunto de vendedores como S y el conjunto de compradores como B. Cada jugador i ∈ S ∪ B (tanto compradores como vendedores) tiene un valor vi por el bien. En este modelo, un conjunto de adquisiciones consiste en un único comprador y un único vendedor, es decir, |s| = 2. El valor de un conjunto de adquisiciones es W(s) = vj − vi donde j ∈ B e i ∈ S, es decir, la ganancia del intercambio. Si los conjuntos de adquisiciones se crean emparejando al comprador de mayor valor con el vendedor de menor valor, entonces el mecanismo de reducción de intercambio determinístico [13] reduce el conjunto de adquisiciones de menor valor. Un modelo relacionado es el modelo de costos relacionados en pares [9]. Problema B.2. Los costos relacionados en pares: una subasta de doble cara B.1 en la que cada par de jugadores i ∈ S y j ∈ B tiene un costo relacionado F(i, j) ≥ 0 para poder comerciar. F(i, j) es un costo de fricción que debe minimizarse para maximizar el bienestar. [9] define dos mecanismos equilibrados presupuestariamente para este caso. Uno de los mecanismos de [9] tiene el conjunto de compradores B como el conjunto X para el mecanismo X-externo y el otro tiene el conjunto de vendedores S como el conjunto X para el mecanismo X-externo. Un modelo similar es el modelo de mercados distribuidos espacialmente (SDM) [3] en el que hay un grafo que impone relaciones en el costo. Problema B.3. Mercados distribuidos espacialmente: existe un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene asociado un costo que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Los bordes no son estratégicos, pero todos los jugadores son estratégicos. [3] define un mecanismo equilibrado en presupuesto para este caso. Nuestro artículo mejora el resultado de [3]. Otro modelo de gráfica es el modelo definido en [6]. Problema B.4. Redes de intercambio: Dado un grafo y compradores y vendedores que se encuentran en los nodos del grafo. Todo comercio debe pasar a través de un comerciante. En este caso, los conjuntos de adquisiciones tienen la forma (comprador, vendedor, comerciante) donde los posibles conjuntos de esta forma están definidos por un gráfico. El modelo de cadena de suministro [2, 4] puede ser visto como una generalización de [6] en la que los conjuntos de adquisición consisten en la forma (productor, consumidor, comerciante1, . . . , comerciantek). También es posible aleatorizar la reducción de los conjuntos de adquisición para lograr un presupuesto esperado de cero similar a [13], los detalles son obvios y se omiten. Problema B.5. Cadena de suministro: Hay un conjunto D de agentes y un conjunto G de bienes y un grafo G = (V, E) que define posibles relaciones comerciales. Los agentes pueden requerir una entrada de múltiples cantidades de bienes para producir un solo bien. El jugador tipo productor puede producir bienes de la nada, el consumidor tiene una valoración y es necesaria toda una cadena de intermediarios para crear un conjunto de adquisiciones viable. [2, 4] consideran una tecnología de fabricación única en la que el grafo que define las posibles relaciones es un árbol. Todos los problemas anteriores son dominios de clase de adquisiciones. También consideramos varios problemas que no son dominios de la clase de adquisiciones y, en general, las cuestiones de equilibrio presupuestario se han dejado como problemas abiertos. Un problema abierto planteado en [3] es el modelo SDM en el que los bordes son estratégicos. Problema B.6. Mercados distribuidos espacialmente con bordes estratégicos: hay un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene un costo asociado que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Cada comprador, vendedor y intermediario tiene un valor para el intercambio, es decir, todas las entidades son estratégicas. [2, 4] dejó abierta la cuestión de los mecanismos equilibrados en presupuesto para cadenas de suministro donde no hay una tecnología de fabricación única. Es fácil ver que este problema no pertenece al ámbito de la clase de adquisiciones. Otro problema interesante son las redes de transporte. Problema B.7. Redes de transporte: Un grafo G = (V, E) donde las aristas son jugadores estratégicos con costos y el objetivo es encontrar una ruta de transporte de costo mínimo entre un par de nodos privilegiados Fuente y Objetivo ∈ V. Se demostró en [1] que la asignación eficiente puede tener un déficit presupuestario que es lineal en el número de jugadores. Claramente, este problema no es un dominio de clase de adquisiciones y dejó abierta la pregunta de un mecanismo de presupuesto equilibrado. Otro mecanismo de dominio no basado en la clase de adquisiciones es la subasta combinatoria de doble cara (CA) con jugadores de valor único. Problema B.8. Subasta combinatoria de doble cara (CA) con jugadores de valor único: Existe un conjunto S de vendedores, cada uno vendiendo un solo bien. También existe un conjunto B de compradores, cada uno interesado en paquetes de 2S18. Hay dos variantes de este problema. En el caso de un comprador enfocado, cada comprador tiene un valor positivo para un solo subconjunto, mientras que en el caso de múltiples intereses, cada comprador puede tener varios paquetes con valoración positiva, pero todos los valores son iguales. En ambos casos asumimos disponibilidad gratuita para que todos los paquetes que contienen el paquete deseado tengan el mismo valor para el comprador. También consideramos problemas que no pertenecen a dominios de clase. Problema B.9. Subasta combinatoria de doble cara (CA) con jugadores generales multi-mentales: igual que B.8 pero cada comprador puede tener múltiples paquetes con valoración positiva que no necesariamente son iguales. Abusamos de la notación e identificamos al vendedor con el bien. Comparando diferentes opciones de X, la elección de X puede tener un gran impacto en el bienestar (y los ingresos) del mecanismo reducido y, por lo tanto, surge la pregunta de cómo se debería elegir el conjunto X. Dado que se requiere el mecanismo X-externo para mantener la CI claramente, la elección de X no puede depender del valor de los jugadores, de lo contrario el mecanismo reducido no será veraz. En esta sección motivamos la elección de conjuntos X pequeños para dominios de clase de adquisiciones y damos intuición de que también podría ser el caso para algunos otros dominios. Comenzamos ilustrando el efecto del conjunto X sobre el bienestar y los ingresos en la subasta de doble cara con el problema de bienes homogéneos B.1. Se pueden construir ejemplos similares para los otros problemas definidos en B. El siguiente ejemplo muestra un efecto en el bienestar. Ejemplo C.1. Hay dos compradores y dos vendedores y dos conjuntos no intersectantes (incomparables) X = {compradores} e Y = {vendedores}. Si los valores de los compradores son 101, 100 y los vendedores son 150, 1, entonces el mecanismo externo X generará una ganancia del comercio de 0 y el mecanismo externo Y generará una ganancia del comercio de 100. Por el contrario, si los valores de los compradores son 100, 1 y los de los vendedores son 2, 3, el mecanismo externo X generará una ganancia comercial de 98 y el mecanismo externo Y generará una ganancia comercial de cero. El ejemplo muestra claramente que la diferencia entre el mecanismo X-externo y el mecanismo Y-externo es ilimitada, aunque como se muestra arriba, la fracción que cada uno de ellos reduce puede ser limitada y, por lo tanto, la proporción multiplicativa entre ellos puede ser limitada (como función del número de operaciones). En el lado de los ingresos ni siquiera podemos establecer un límite para la proporción, como se ve en el siguiente ejemplo: Ejemplo C.2. Considera k compradores con un valor de 100 y k+1 vendedores con un valor de 1. Si X = {compradores} entonces no es necesario reducir ningún intercambio y todos los compradores reciben el bien y pagan 1. k + 1 de los vendedores venden y cada uno recibe 1. Esto produce un ingreso neto de cero. Si Y = {vendedores} entonces se debe reducir un intercambio. Esto significa que todos los compradores pagan 100 mientras que todos los vendedores siguen recibiendo 1. La ganancia total es entonces de 99k. Del mismo modo, se puede construir un ejemplo que genere ingresos mucho más altos para el mecanismo externo X en comparación con el mecanismo externo Y. Los ejemplos anteriores se refieren a los conjuntos X e Y, los cuales no se intersectan y son incomparables. El siguiente teorema compara los mecanismos externos-X y externos-Y para dominios de clase de adquisiciones donde X es un subconjunto de Y. Teorema C.1. Para los dominios de clase de adquisiciones, si X ⊂ Y y para cualquier s ∈ S, s ∩ X ∩ Y = ∅ entonces: 1. La eficiencia del mecanismo externo X en GTR-1 (y por lo tanto GTR-2) es al menos igual a la del mecanismo externo Y. Cualquier jugador ganador que gane tanto en los mecanismos X-externo como en el Y-externo no paga menos en el Y-externo que en el X-externo y, por lo tanto, la proporción de presupuesto a bienestar no es peor en el Y-externo que en el X-externo. Prueba. 1. Para cualquier función de división D, si hay un conjunto de adquisición sj que se reduce en el mecanismo externo X, hay dos posibles razones: (a) sj carece de competencia externa en el mecanismo externo X. En este caso, sj carece de competencia externa en el mecanismo interno. (b) sj tiene todas las competencias externas requeridas en X-externo. En este caso, sj tiene todas las competencias internas requeridas en Y -externas según el lema 3.1, pero podría carecer de algunas competencias externas para sj ∪ {Y \\ X} y verse reducido, 2. Esto se deduce del hecho de que para cualquier orden D, cualquier conjunto de adquisiciones s que se reduce en el mecanismo externo X también se reduce en el mecanismo externo Y. Por lo tanto, el valor crítico no es menor en el mecanismo Yexterno que en el mecanismo Xexterno. Observación C.1. Para cualquier par de conjuntos X, Y, es fácil construir un ejemplo en el que los mecanismos externos de X y Y reduzcan los mismos conjuntos de adquisición, por lo que la desigualdad es débil. El Teorema C.1 muestra una <br>desigualdad en el bienestar</br>, así como en los pagos, pero es fácil construir un ejemplo en el que los ingresos pueden aumentar para X en comparación con Y, así como lo contrario. Esto sugiere que en general queremos que X sea lo más pequeño posible, aunque en algunos dominios no es posible comparar diferentes X. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "multi-minded player": {
            "translated_key": "jugadores generales multi-mentales",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general <br>multi-minded player</br>s: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [
                "Double-sided combinatorial auction (CA) with general <br>multi-minded player</br>s: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X."
            ],
            "translated_annotated_samples": [
                "Subasta combinatoria de doble cara (CA) con <br>jugadores generales multi-mentales</br>: igual que B.8 pero cada comprador puede tener múltiples paquetes con valoración positiva que no necesariamente son iguales. Abusamos de la notación e identificamos al vendedor con el bien. Comparando diferentes opciones de X, la elección de X puede tener un gran impacto en el bienestar (y los ingresos) del mecanismo reducido y, por lo tanto, surge la pregunta de cómo se debería elegir el conjunto X."
            ],
            "translated_text": "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado Reducción Comercial Generalizada (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro. Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB. Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio. Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas. Definimos dominios basados en clase y dominios basados en clase de adquisiciones. Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado competencia interna y externa. La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2. PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB. Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de intercambio. Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0. Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0. El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi. El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn. Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i. Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Que el tamaño de un conjunto de adquisiciones s se denote como |s|. Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición. El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s). Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s). En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi. Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A. Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La eficiencia de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo. Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor. Un mecanismo M define unas reglas de asignación y pago, M = (R, P). Una regla de pago P decide el pago pi donde P es una función P: V → RN. Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores. Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10]. El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad. El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores. M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa. Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0. Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados. Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio. Los dos algoritmos son tales que, dado un mecanismo IR e IC M que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte a M en un mecanismo IR, IC y BB. El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplen las condiciones correctas y el mecanismo M se convierte en uno de tipo BB. Las condiciones adecuadas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado. Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando. Definición 2.3. Para cualquier jugador i ∈ N, decimos que el conjunto Ri ⊆ N \\ {i} es un conjunto de reemplazo de i, si para cualquier conjunto de adquisición s ∈ S tal que i ∈ s y Ri∩s = ∅, s\\{i}∪Ri ∈ S. Por ejemplo, en una subasta (homogénea) de doble cara (ver problema B.1), el conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador. En una subasta de espacios de transporte (ver problema B.7), el conjunto de reemplazo de un borde es un camino entre los extremos del borde. Ten en cuenta que un conjunto puede reemplazar a un solo jugador. Además, esta relación es transitiva pero no necesariamente simétrica. Si i es un conjunto de reemplazo para j, no necesariamente es cierto que j sea un conjunto de reemplazo para i. Definición 2.4. Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una competencia interna para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i. T = s \\ {i} ∪ Ri(A, s) ∈ S y W(T) ≥ 0. Definición 2.5. Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una competencia externa para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0. Supondremos, sin pérdida de generalidad, que no hay empates entre los valores de ninguna asignación, y en particular no hay empates entre los valores de los conjuntos de adquisiciones. En caso de empate, este puede romperse utilizando las identidades de los jugadores. Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con competencia externa Ei(A, s), existe exactamente un conjunto que representa la competencia externa de mayor valor. Definición 2.6. Un conjunto X ⊂ N es cerrado bajo reemplazo si ∀i ∈ X entonces Ri ⊂ X. Lo siguiente define la competencia requerida necesaria para mantener IC, IR y BB. El conjunto X5 denota esta competencia y está cerrado bajo reemplazo. En el resto del documento asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo. Definición 2.7. Sea X ⊂ N un conjunto que está cerrado bajo reemplazo, decimos que el mecanismo es un mecanismo X-externo, si 1. Cada jugador i ∈ X tiene una competencia externa. 2. Cada jugador i /∈ X tiene una competencia interna. 3. Para todos los jugadores i1, . . . , it ∈ s \\ X existen Ri1 (A, s), . . . , Rit (A, s) tales que para cada iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. para cada conjunto de adquisiciones s ∈ S se cumple que s∩X = ∅ Para dominios generales, la elección de X puede ser crucial. De hecho, incluso para el mismo dominio, el bienestar (y los ingresos) pueden variar ampliamente dependiendo de cómo se defina X. En el apéndice C damos un ejemplo donde dos posibles elecciones de X producen resultados muy diferentes. Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la optimalidad de X y este es un importante problema abierto. Nuestros dos algoritmos de reducción de comercio generalizados garantizarán que para cualquier asignación tengamos los tipos deseados de competencia. Dado un mecanismo M que es CI e IR con asignación A, el objetivo de los algoritmos es convertir a M en un mecanismo X-externo. Los dos algoritmos de reducción de comercio generalizados utilizan una función de división D que divide la asignación A en conjuntos de adquisición disjuntos. Los algoritmos ordenan los conjuntos de adquisiciones definidos por D en orden de valor creciente. Para cualquier conjunto de adquisiciones hay un tipo deseado de competencia que depende únicamente de los jugadores que componen el conjunto de adquisiciones. Los algoritmos de reducción de comercio generalizados recorren los conjuntos de adquisiciones en orden (del más pequeño al más grande) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el conjunto. La reducción de los conjuntos de adquisiciones también se conocerá como reducción del comercio. Formalmente, los detalles sobre cómo resolver empates en las asignaciones son estándar y se omiten. Presentamos algunas compensaciones entre los diferentes conjuntos posibles en el Apéndice C. Definición 2.8. D es una función de división si para cualquier asignación A y el vector de valores de los jugadores v, D divide la asignación en conjuntos de adquisiciones disjuntos s1, . . . , sk de manera que ∪sj = A y para cualquier jugador i con valor vi si i ∈ sj1 y t ∈ sj2 tal que j1 ≥ j2 entonces para cualquier valor vi > vi del jugador i y división por D en s1, . . . , sk tal que i ∈ sj1 y t ∈ sj2 entonces j1 > j2. Los dos algoritmos de reducción de comercio generalizados presentados aceptan problemas en diferentes dominios. Las definiciones de dominio formal siguen: Definición 2.9. Un dominio es un dominio de clase si para todo i ∈ N y todos los conjuntos de reemplazo de i, Ri, |Ri| = 1 y para todo i, j, i = j si j = Ri entonces i = Rj. Intuitivamente, esto significa que los conjuntos de reemplazo son de tamaño 1 y la relación de reemplazo es simétrica. Definimos la clase de un jugador i como el conjunto de los conjuntos de reemplazo de los jugadores y denotamos la clase del jugador i por [i]. Es importante tener en cuenta que dado que los conjuntos de reemplazo son relaciones transitivas y dado que los dominios de clase también imponen relaciones simétricas en los conjuntos de reemplazo, la clase de un jugador i, [i] es en realidad una clase de equivalencia para i. Definición 2.10. Un dominio es un dominio de clase de adquisición si el dominio es un dominio basado en clases y si para cualquier jugador i tal que existan dos conjuntos de adquisición s1, s2 (no necesariamente intercambiando simultáneamente en ninguna asignación) tales que i ∈ s1 e i ∈ s2, entonces existe una biyección f: s1 → s2 tal que para cualquier j ∈ s1, f(j) es un conjunto de reemplazo para j en s2. Ejemplo 2.1. Una subasta (homogénea) de doble cara (ver problema B.1) es un dominio basado en la clase de adquisiciones. Para la subasta de doble cara (homogénea), cada conjunto de adquisición consiste en un comprador y un vendedor. La subasta combinatoria de doble cara que consiste en un único comprador con múltiples preferencias y múltiples vendedores de bienes heterogéneos (ver problema B.9), es un dominio basado en clases (ya que tenemos un único comprador) pero no es un dominio basado en clases de adquisiciones. En este caso, el comprador es una clase y cada conjunto de vendedores del mismo bien es una clase. Sin embargo, para un comprador no hay una biyección entre los diferentes conjuntos de adquisición de los paquetes de bienes en los que el comprador está interesado. El mercado distribuido espacialmente con bordes estratégicos (ver problema B.6) no es un dominio basado en clases (y por lo tanto no es un dominio de clase de adquisiciones). Por ejemplo, incluso para un comprador fijo y un vendedor fijo existen dos conjuntos de adquisición diferentes que consisten en diferentes rutas entre los compradores y vendedores. Las siguientes secciones presentan dos algoritmos GTR-1 y GTR-2. El algoritmo GTR-1 acepta problemas en dominios basados en la clase de adquisiciones, sus propiedades se demuestran con una función de división general D. El algoritmo GTR-2 acepta problemas en cualquier dominio. Demostramos las propiedades de GTR-2s con una función de división específica D0. La función será definida en la sección 4. Dado que la función de división puede tener un gran impacto práctico en el bienestar (y los ingresos), la generalidad de GTR − 1 (aunque sea en dominios especiales) puede ser una consideración práctica importante. 3. DOMINIOS BASADOS EN CLASES DE ADQUISICIÓN Esta sección se centra en los problemas que son dominios basados en clases de adquisición. Para este dominio, presentamos un algoritmo llamado GTR-1, que dado un mecanismo que es IR e IC, produce un mecanismo con bienestar reducido que es IR, IC y equilibrado presupuestariamente. Aunque los dominios de clase de adquisición parecen ser un modelo relativamente restringido, de hecho muchos de los dominios estudiados en la literatura son dominios de clase de adquisición. Ejemplo 3.1. Los siguientes dominios son dominios de clase de adquisiciones: • subastas de doble cara con bienes homogéneos [13] (problema B.1). En este dominio hay dos clases. La clase de compradores y la clase de vendedores. Cada conjunto de adquisiciones consta de un único comprador y un único vendedor. Dado que cada par de (comprador, vendedor) es un conjunto de adquisición válido (aunque posiblemente con valor negativo), este es un dominio de clase de adquisición. En este dominio, la constante asignada a los conjuntos de adquisición es F = 0. • Mercados distribuidos espacialmente con bordes no estratégicos [3, 9] (problema B.3). Al igual que las subastas de doble cara con bienes homogéneos, hay dos clases en el dominio. Clase de compradores y clase de vendedores con conjuntos de adquisición que consisten en un comprador y un vendedor. Los vendedores y compradores son nodos en un grafo y la función F es la distancia entre dos nodos (longitud de la arista) que representa los costos de transporte. Estos costos varían entre diferentes pares (comprador, vendedor). • Cadenas de suministro [2, 4] (problema B.5). La suposición de una manufactura única por [2, 4] se puede entender mejor como convertir las cadenas de suministro generales (que no necesariamente deben ser un dominio de clase de adquisiciones) en un dominio de clase de adquisiciones. • Subastas combinatorias de mente única [11] (problema B.8). En este contexto, cada vendedor vende un solo bien y cada comprador desea un conjunto de bienes. Las clases son conjuntos de vendedores que venden el mismo bien, así como los compradores que desean el mismo paquete. Un conjunto de adquisiciones consiste en un único comprador, así como un conjunto de vendedores que pueden satisfacer a ese comprador. Una definición del mecanismo sigue a continuación: Definición 3.1. El algoritmo GTR-1, dado un mecanismo M, un conjunto X ⊂ N que es cerrado bajo reemplazo, una función de división D y una asignación A, opera de la siguiente manera: 1. Utiliza la función de división D para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 2. Ordena los conjuntos de adquisición por valor creciente. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay competencia externa y para cada i ∈ sj \\ X hay competencia interna, entonces se conservan los 23 sj. De lo contrario, reduzca el intercambio sj (es decir, elimine cada i ∈ sj de la asignación). Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. A todos los jugadores no comerciales no se les cobra nada. Observación 3.1. El caso especial donde X = N ha recibido atención bajo diferentes formas en varios casos especiales, como ([13, 3, 4]). 3.1 El GTR-1 produce un mecanismo externo de X que es IR, IC y BB. En esta subsección demostramos que el algoritmo GTR-1 produce un mecanismo externo de X que es IR, IC y BB. Para demostrar las propiedades de GTR-1, hacemos uso del teorema 3.1, el cual es un resultado bien conocido (por ejemplo, [14, 11]). El Teorema 3.1 caracteriza las condiciones necesarias y suficientes para que un mecanismo para jugadores de valor único sea IR e IC: Definición 3.2. Una regla de asignación R es Bid Monotónica si para cualquier jugador i, cualquier oferta de los otros jugadores b−i ∈ V−i, y cualquier par de ofertas posibles de i, ˆbi > bi, si i negocia bajo la regla de asignación R al informar bi, entonces i también negocia al informar ˆbi. Intuitivamente, una regla de asignación monótona de oferta garantiza que ningún jugador comerciante pueda convertirse en un jugador no comerciante al mejorar su oferta. Teorema 3.1. Un mecanismo IR M con regla de asignación R es IC si y solo si R es Bid Monotónico y cada jugador comerciante i paga su valor crítico Ci (pi = Ci). Por lo tanto, para los mecanismos IR7 e IC normalizados, la regla de asignación que es bid monótona define de manera única los valores críticos para todos los jugadores y, por lo tanto, los pagos. Observación 3.1. Sean M1 y M2 dos mecanismos IR e IC con la misma regla de asignación. Entonces M1 y M2 deben tener la misma regla de pago. En lo siguiente demostramos que el algoritmo GTR-1 externo de X produce un mecanismo IR, IC y BB, pero primero se muestra un lema subsidiario. Lema 3.1. Para los dominios de clase de adquisiciones, si existe un conjunto de adquisiciones sj tal que i ∈ sj y i tiene competencia externa, entonces todos los t = i t ∈ sj, t tiene competencia interna. Prueba. Esto se deriva de la definición de los dominios de clase de adquisiciones. Supongamos que i tiene competencia externa, entonces existe un conjunto de jugadores Ei(A, s) tal que {i} ∪ Ei(A, s) ∈ S. Denotemos por sj = {i} ∪ Ei(A, s). Dado que el dominio es un dominio de clase de adquisiciones, existe una función biyectiva f entre sj y sj. f define la competencia interna requerida. Comenzamos demostrando IR e IC: Aunque la definición de un mecanismo externo X requiere que X intersecte cada conjunto de adquisiciones, esto no es estrictamente necesario. Es posible definir un X que no intersecte con cada conjunto de adquisiciones posible. En este caso, cualquier conjunto de adquisiciones s ∈ S tal que s ∩ X = ∅ se reducirá. Nótese que esto no es cierto para mecanismos que no están normalizados, por ejemplo, [7, 12] Lema 3.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR e IC. Prueba. Por la definición de un esquema de precios de valor crítico 2.2 y el algoritmo GTR-1 3.1 se sigue que para cada jugador comercial i, vi ≥ 0. Por el algoritmo GTR-1, 3.1 jugadores no comerciales tienen un pago de cero. Por lo tanto, para cada jugador i, valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que el mecanismo externo X producido es IR. Dado que el algoritmo X-external GTR-1 es IR y aplica el esquema de pago de valor crítico según el teorema 3.1, para demostrar que el mecanismo X-external producido con el esquema de pago de valor crítico es IC, queda por demostrar que la regla de asignación de mecanismos producida es bid-montónica. Dado que GTR-1 ordena los conjuntos de adquisición según el valor creciente, si el jugador i aumenta su oferta de bi a bi > bi, entonces para cualquier función de división D de conjuntos de adquisición, el conjunto de adquisición s que contiene a i siempre aparece más tarde con la oferta bi que con la oferta bi. Por lo tanto, la probabilidad de competencia solo puede aumentar si i aparece en conjuntos de adquisiciones posteriores. Esto se traduce en que GTR-1 puede reducir más de los conjuntos de adquisiciones de menor valor, lo que resultará en más jugadores no comerciales. Por lo tanto, si s tiene la competencia requerida y no se reduce con bi, entonces tendrá la competencia requerida con bi y no se reducirá. Finalmente demostramos BB: Lema 3.3. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo BB. Prueba. Para demostrar que el mecanismo producido es BB, mostramos que cada conjunto de adquisiciones que no está reducido tiene un presupuesto positivo (es decir, la suma de los pagos es positiva). Sea s ∈ S un conjunto de adquisiciones que no está reducido. Si i ∈ s ∩ X, entonces según la definición de la definición externa de X 2.7 y el algoritmo GTR-1 3.1, i tiene una competencia externa. Supongamos sin pérdida de generalidad que i es el único jugador con competencia externa en s y que todos los demás jugadores j = i, j ∈ s tienen competencia interna. Sea A la asignación después de la reducción de los conjuntos de adquisición por el algoritmo GTR-1. Según la definición de competencia externa 2.5, existe un conjunto Ei(A, s) ⊂ N \\A tal que i ∪ Ei(A, s) ∈ S y W(i ∪ Ei(A, s)) ≥ 0. Dado que W(i∪Ei(A, s)) = vi +W(Ei(A, s)), entonces vi ≥ −W(Ei(A, s)). Según la definición 2.2 del esquema de fijación de precios por valor crítico, esto significa que si el jugador i ofrece menos de −W(Ei(A, s)), no tendrá competencia externa y, por lo tanto, será eliminado del intercambio. Por lo tanto, pago no menos de min −W(Ei(A, s)). Dado que todos los demás jugadores j ∈ s tienen competencia interna, su precio crítico no puede ser menor que el valor máximo de su competidor interno (conjunto), es decir, max W(Rj(A, s)). Si algún jugador j ∈ s ofrece menos que su competidor interno máximo (conjunto), entonces él no estará en s pero su competidor interno máximo (conjunto) sí lo estará. Dado que un posible Ei(A, s) es ∪j∈sRj(A, s), se puede acotar el valor máximo de su competencia externa W(Ei(A, s)) por la suma de los valores máximos del resto de los jugadores en s 8, dado que el dominio es un dominio de clase de adquisiciones, podemos usar el lema 3.1 24 de competencia interna, es decir, j∈s max W(Rj(A, s)). Por lo tanto, min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))). Dado que la función F se define como una constante positiva, obtenemos que W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 y, por lo tanto, s es al menos equilibrado en términos presupuestarios. Dado que cada conjunto de adquisiciones que no se reduce está al menos equilibrado presupuestariamente, se deduce que el mecanismo externo X producido es BB. Los dos lemas anteriores producen el siguiente teorema: Teorema 3.2. Para los dominios de clase de adquisiciones para cualquier X, el mecanismo externo X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR, IC y BB. Observación 3.2. La prueba del teorema proporciona límites sobre los pagos que cualquier jugador tiene que hacer al mecanismo. Los dominios no basados en la clase de adquisiciones. La razón principal por la que GTR-1 funciona para los dominios no basados en la clase de adquisiciones es que la posibilidad de reducción de cada jugador es monótona. Por la definición de una función de división, si un jugador i ∈ sj aumenta su valor, i solo puede aparecer en un conjunto de adquisiciones sj posterior y, por lo tanto, tiene una mayor probabilidad de tener la competencia deseada. Por lo tanto, la probabilidad de que i carezca de la competencia necesaria disminuye. Dado que el dominio es un dominio de clase de adquisiciones, es más probable que todos los demás jugadores t = i, t ∈ sj también tengan competencia, ya que los miembros de su clase siguen apareciendo antes que i y, por lo tanto, la probabilidad de que i sea reducido disminuye. Dado que, según el teorema 3.1, una condición necesaria y suficiente para que el mecanismo sea CI es la monotonicidad. GTR-1 es IC para dominios de clase de adquisiciones. Sin embargo, para los dominios que no son de la clase de adquisiciones, esto no es suficiente incluso si el dominio es un dominio basado en clases. Aunque todos los miembros de sj siguen teniendo la competencia requerida, es posible que haya miembros de sj que no tengan análogos en sj que no tengan competencia. Por lo tanto, podría reducirse después de aumentar su valor, lo que significa, según el lema 3.1, que el mecanismo no es IC. Por lo tanto, definimos un algoritmo diferente para los dominios que no pertenecen a la clase de adquisiciones. Nuestro algoritmo modificado requiere una función de división especial para mantener la propiedad de IC. Aunque nuestra restricción a esta función de división especial parezca estricta, la función de división que utilizamos es una generalización de la forma en que se eligen los conjuntos de adquisiciones en dominios basados en clases de adquisiciones, por ejemplo, [13, 16, 9, 3, 2, 4]. Para facilitar la presentación en esta sección, asumimos que F = 0. La función de división para dominios generales se define al observar todas las posibles funciones de división. Para cada función de división Di y cada conjunto de ofertas, el algoritmo GTR-1 produce un bienestar que es una función de las ofertas y la función de división. Denotamos por D0 la función de división que divide a los jugadores en conjuntos de manera que el bienestar que encuentra GTR-1 sea máximo. Cabe destacar que para cualquier Di en particular, esto podría no ser IC, ya que GTR-1 es IC solo para dominios de clase de adquisición y no para dominios generales. En el Apéndice A mostramos cómo calcular D0 en polinómico. Formalmente, sea D el conjunto de todas las funciones de división D. Denotemos el bienestar logrado por el mecanismo producido por GTR1 al usar la función de división D y un conjunto de ofertas ¯b como GTR1(D, ¯b). Denote por D0(¯b) = argmaxD∈D(GTR1(D,¯b)). Para facilitar la presentación, denotamos D0(¯b) como D0 cuando la dependencia de b es clara en el contexto. Observación 4.1. D0 es un elemento del conjunto de funciones divisorias, y por lo tanto es una función divisoria. El segundo algoritmo de reducción de comercio generalizado GTR-2 sigue. Definición 4.1. El algoritmo GTR-2 - Dado el mecanismo M, la asignación A y un conjunto X ⊂ N cerrado bajo reemplazo, GTR-2 opera de la siguiente manera: 1. Calcula la función de división D0 como se define arriba. 2. Utilice la función de división D0 para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor, haz lo siguiente: Si para i ∈ sj ∩ X hay una competencia externa y hay a lo sumo un i ∈ sj que no tiene competencia interna, entonces conserva sj. De lo contrario, reduzca el intercambio sj. 4. Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. Todos los jugadores no comerciales no pagan nada. Demostraremos que el mecanismo producido por GTR-2 mantiene las propiedades deseadas de IR, IC y BB. El siguiente lema muestra que el mecanismo producido por GTR-2 es IR y IC. Lema 4.1. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR e IC. Prueba. Según el teorema 3.1, basta con demostrar que el mecanismo producido por el algoritmo GTR-2 es bidmonótono para cada jugador i. Supongamos que no fui reducido al ofertar bi, necesitamos demostrar que no seré reducido al ofertar bi > bi. Denote por D1 = D0(b) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por D1 = D0(bi, b−i) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por ¯D1(b) una función divisoria máxima que resulta en GTR-1 reduciendo i al informar bi. Supongamos, por el contrario, que GTR-2 redujo i del intercambio cuando i informó bi, entonces GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b). Dado que D1 ∈ D, se sigue que GTR1(D1, b) > GTR1( ¯D1, b) y por lo tanto GTR1(D1, b) > GTR1(D1, (bi, b−i)). Sin embargo, según la definición D1 ∈ D, GTR-2 no debería haber reducido el tiempo mínimo de adquisición para los dominios de clase de aprovisionamiento. Calcular D0 en tiempo polinómico para dominios generales es un problema abierto importante. En la versión completa de GTR-2 se extiende de tal manera que basta con que exista algún momento en el cual se cumpla el tercer paso. Esa extensión se omitió de la versión actual debido a la falta de espacio. 25 con la función de división D1 y obtuvo un mayor bienestar que GTR1(D1, b). Por lo tanto, surge una contradicción y GTR-2 no reduce i del intercambio cuando i informa que bi > bi. Lema 4.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo BB. Prueba. Esta prueba es similar a la prueba del lema 3.3. Combinando los dos lemas anteriores obtenemos: Teorema 4.1. Para cualquier X cerrado bajo reemplazo, el mecanismo externo de X con el esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR, IC y BB. El Apéndice A muestra cómo calcular D0 para dominios de clase de adquisiciones en tiempo polinómico, no se sabe generalmente cómo calcular D0 fácilmente. Crear un método general para calcular la función de división necesaria en tiempo polinómico sigue siendo una pregunta abierta. 4.1 Limitando el Bienestar para Dominios Basados en Clases de Adquisición y otros Casos de Dominios Generales. Esta sección muestra que, además de producir un mecanismo con las propiedades deseadas, GTR-2 también produce un mecanismo que mantiene un alto bienestar. Dado que el algoritmo GTR-2 encuentra un mecanismo equilibrado en presupuesto en dominios arbitrarios, no podemos acotar el bienestar para casos generales. Sin embargo, podemos acotar el bienestar para el dominio basado en la clase de adquisiciones y una amplia variedad de casos en dominios generales que incluyen muchos casos previamente estudiados. Definición 4.2. Denote freqk([i], sj) para indicar que una clase [i] aparece en un conjunto de adquisiciones sj, k veces y hay k miembros de [i] en sj. Definición 4.3. Denote por freqk([i], S) el máximo k tal que hay k miembros de [i] en sj. Es decir, freqk([i], S) = maxsj ∈S freqk([i], sj). Deje que el conjunto de clases de equivalencia en el mecanismo de dominio basado en la clase de adquisiciones sea ec y |ec| sea el número de esas clases de equivalencia. Usando la definición de frecuencia de apariencia de clase, podemos acotar el bienestar logrado por el mecanismo producido por GTR-2 para los dominios de clase de adquisición: Lema 4.3. Para los dominios de clase de adquisiciones con F = 0, el número de conjuntos de adquisiciones que se reducen por GTR-213 es a lo sumo |ec| veces la frecuencia máxima de cada clase. Formalmente, el número máximo de conjuntos de adquisición que se reduce es O( [i]∈ec freqk([i], S)) Demostración. Sea D una función de división arbitraria. Observamos que, por definición, cualquier conjunto de adquisiciones sj no se reducirá si cada i ∈ sj tiene tanto competencia interna como competencia externa. El bienestar logrado por GTR-1 también puede estar acotado para los casos presentados en esta sección. Sin embargo, nos enfocamos en GTR-2 ya que siempre logra un mejor bienestar. 13 o GTR-1 Cada conjunto de adquisiciones s que se reduce tiene al menos un jugador i que no tiene competencia. Una vez que s se reduce, todos los jugadores de [i] tienen competencia interna. Así, al reducir el número de clases de equivalencia |ec| de conjuntos de adquisiciones, cubrimos a todos los jugadores restantes con competencia interna. Si la frecuencia máxima de cada clase de equivalencia fuera uno, entonces cada jugador restante t en el conjunto de adquisiciones sk también tendría competencia externa, ya que todos los competidores internos de los jugadores ¯t = t, ¯t ∈ sk son competencia externa para t. Si tenemos freqk([t], S) jugadores de la clase [t] que fueron reducidos, entonces hay suficiente competencia externa para todos los jugadores en sk. Por lo tanto, basta con reducir los conjuntos de adquisición O( [i]∈ec freqk([i], S)) para garantizar que exista tanto la competencia interna como externa necesaria. El siguiente teorema se deduce como un corolario inmediato del lema 4.3: Teorema 4.2. Dado mecanismos de dominio basados en clases de adquisición con H conjuntos de adquisición, la eficiencia es al menos una fracción de 1 − O( O( [i]∈ec freqk([i],S)) H ) del bienestar óptimo. Los siguientes corolarios son resultados directos del teorema 4.2. Todos estos corolarios mejoran resultados anteriores o logran el mismo bienestar que los resultados anteriores. Corolario 4.1. Para utilizar GTR-2 en subastas homogéneas de doble cara (problema B.1), se debe reducir como máximo un conjunto de adquisición de 14. De manera similar, para mercados distribuidos espacialmente sin bordes estratégicos (problema B.3), el uso de GTR-2 mejora el resultado de [3] donde se reduce un ciclo mínimo que incluye a un comprador y un vendedor. Corolario 4.2. Usar GTR-2 para mercados distribuidos espacialmente sin bordes estratégicos reducirá a lo sumo un ciclo por componente conectado. Para las cadenas de suministro (problema B.5) el uso de GTR-2 mejora el resultado de [2, 4] de manera similar al corolario 4.2. Corolario 4.3. Usando GTR-2 para cadenas de suministro, se reducirá a lo sumo un ciclo por componente conectado. El siguiente corolario resuelve el problema abierto en [3]. Corolario 4.4. Para mercados distribuidos en n nodos con agentes estratégicos y caminos de longitud acotada K (problema B.6) basta con eliminar como máximo K * n conjuntos de adquisiciones. Prueba. Bosque de expansión: Estos crearán al menos K árboles de expansión, por lo tanto, podemos cubrir de manera disjunta cada conjunto de adquisiciones restante. Esto mejora el algoritmo ingenuo de reducir conjuntos de adquisición n2. Proporcionamos resultados para dos casos especiales de subastas de doble cara con jugadores de valor único (problema B.8). Es posible que no se realicen reducciones, por ejemplo, cuando hay un jugador no comercial que es la competencia externa requerida. Al igual que en las subastas de doble cara, a veces habrá suficiente competencia sin una reducción. Corolario 4.5. si hay como máximo M tipos diferentes de conjuntos de adquisición, basta con eliminar M conjuntos de adquisición. Corolario 4.6. Si hay K tipos de bienes y cada conjunto de adquisición consiste en a lo sumo uno de cada tipo, basta con eliminar a lo sumo K conjuntos de adquisición. CONCLUSIONES Y TRABAJOS FUTUROS En este artículo presentamos un procedimiento de solución general llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo de IR e IC como entrada y produce mecanismos que son IR, IC y BB como salida. Los mecanismos de salida logran un bienestar que se acerca a lo óptimo para una amplia gama de dominios. El procedimiento GTR mejora los resultados existentes como subastas homogéneas de doble cara, mercados distribuidos y cadenas de suministro, y resuelve varios problemas abiertos como mercados distribuidos con aristas de transporte estratégicas y caminos acotados, subastas de doble cara combinatorias con conjuntos de adquisiciones de tamaño acotado, y subastas de doble cara combinatorias con un número acotado de conjuntos de adquisiciones. La cuestión de la calidad de la aproximación del bienestar tanto en general como en dominios de clase que no son dominios de clase de adquisición es una pregunta abierta importante e interesante. También dejamos abierta la pregunta de los límites superiores para la calidad de la aproximación del bienestar. Aunque sabemos que es imposible tener IR, IC y BB en un mecanismo eficiente, sería interesante tener un límite superior en la aproximación al bienestar alcanzable en un mecanismo IR, IC y BB. El procedimiento GTR produce un mecanismo que depende de un conjunto X ⊂ N. Otra pregunta interesante es cuál es la calidad de la aproximación cuando X se elige al azar de N antes de que se declaren las valoraciones. Agradecimientos Los autores desean agradecer a Eva Tardos y colaboradores por compartir sus resultados con nosotros. Los autores también desean expresar su gratitud por los comentarios útiles de los revisores anónimos.  REFERENCIAS [1] A. Archer y E. Tardos. Mecanismos de camino frugal. Simposio sobre Algoritmos Discretos, Actas del decimotercer simposio anual de algoritmos discretos ACM-SIAM, 2002. [2] M. Babaioff y N. Nisan. Subastas simultáneas en toda la cadena de suministro. Revista de Investigación en Inteligencia Artificial, 2004. [3] Babaioff M., Nisan N. y Pavlov E. Mecanismos para un Mercado Distribuido Espacialmente. En actas de la 5ta Conferencia ACM sobre Comercio Electrónico, 2004. [4] M. Babaioff y W. E. Walsh. Subastas Incentivo-Compatible, Equilibradas en Presupuesto, pero Altamente Eficientes para la Formación de Cadenas de Suministro. En actas de la Cuarta Conferencia ACM sobre Comercio Electrónico, 2003. [5] Y. Bartal, R. Gonen y P. La Mura. Mecanismos de rango de negociación: explorando los límites de los mercados eficientes y veraces. EC 04: Actas de la 5ta conferencia de ACM sobre comercio electrónico, 2004. [6] Blume L, Easley D., Kleinberg J. y Tardos E. Redes de intercambio con agentes que fijan precios. En actas de la 8ª conferencia de la ACM sobre comercio electrónico, 2007. [7] Cavallo R. Toma de decisiones óptima con desperdicio mínimo: redistribución estratégicamente segura de pagos VCG. En Proc. 5th Int. Conf. sobre Autonomía. Agentes y Sistemas Multiagente (AAMAS06). [8] E. H. Clarke Fijación de precios múltiples de bienes públicos. En la revista Public Choice de 1971, vol. 2, pp. 17-33. [9] Chu L. Y. y Shen Zuo-Jun M. Mecanismo de Subasta Doble de Competencia de Agentes. Ciencia de la Gestión, vol. 52(8), 2006. [10] T. Groves Incentivos en equipos. En la revista Econometrica de 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan y Y. Shoham. Revelación de la verdad en subastas combinatorias aproximadamente eficientes. En Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Obtención de preferencias honestas para la asignación de individuos a posiciones. Revista de economía política, 1983. [13] McAfee R. P. Una subasta doble de estrategia dominante. Revista de Teoría Económica, vol. 56, 434-450, 1992. [14] A. Mualem y N. Nisan. Mecanismos de Aproximación Veraz para Subastas Combinatorias Restringidas. Actas de AAAI 2002. [15] Myerson R. B. y Satterthwaite M. A. Mecanismos eficientes para el comercio bilateral. Revista de Teoría Económica, vol. 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. y Zhang R. Q. Mecanismos de subasta eficientes para la adquisición de la cadena de suministro. Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, 2001. [17] W. Vickrey Contrapronóstico, Subastas y Licitaciones Competitivas Selladas. En Journal of Finance 1961, vol. 16, pp. 8-37. APÉNDICE A. CALCULANDO LA FUNCIÓN DE DIVISIÓN ÓPTIMA EN DOMINIOS DE CLASE DE ADQUISICIÓN EN TIEMPO POLINÓMICO En esta sección mostramos cómo calcular la función de división óptima para dominios de clase de adquisición en tiempo polinómico. Primero definimos una función de división especial D0 que es fácil de calcular: Definimos la función de división D0 de forma recursiva de la siguiente manera: En la etapa j, D0 divide a los jugadores comerciales en dos conjuntos Aj y Aj de manera que: • Aj es un conjunto de adquisiciones • Aj puede dividirse en una unión disjunta de conjuntos de adquisiciones. • Aj tiene un valor mínimo de todas las particiones posibles. Define sj = Aj y llame recursivamente a D0 y Aj hasta que Aj = ∅. Ahora demostramos que D0 es la función de división requerida. Lema A.1. Para los dominios de clase de adquisiciones D0 = D0. Prueba. Dado que el dominio es un dominio de clase de adquisiciones, para cada conjunto de adquisiciones reducido, el conjunto de jugadores que logran la competencia (ya sea interna o externa) está fijo. Por lo tanto, el número de conjuntos de adquisiciones que se reducen es independiente de la función de división D. Dado que el objetivo es optimizar el bienestar reduciendo los conjuntos de adquisiciones con el menor valor, podemos optimizar el bienestar. Esto se logra mediante D0. I'm sorry, but you did not provide a sentence to translate. Please provide the sentence you would like me to translate to Spanish. PROBLEMAS Y EJEMPLOS Para completitud, presentamos en esta sección las definiciones formales de los problemas que utilizamos para ilustrar nuestro mecanismo. El primer problema que definimos es la subasta de doble cara con bienes homogéneos. Problema B.1. Subasta de doble cara con bienes homogéneos: Hay m vendedores, cada uno con un solo bien (todos los bienes son idénticos) y n compradores, cada uno interesado en recibir un bien. Denotamos el conjunto de vendedores como S y el conjunto de compradores como B. Cada jugador i ∈ S ∪ B (tanto compradores como vendedores) tiene un valor vi por el bien. En este modelo, un conjunto de adquisiciones consiste en un único comprador y un único vendedor, es decir, |s| = 2. El valor de un conjunto de adquisiciones es W(s) = vj − vi donde j ∈ B e i ∈ S, es decir, la ganancia del intercambio. Si los conjuntos de adquisiciones se crean emparejando al comprador de mayor valor con el vendedor de menor valor, entonces el mecanismo de reducción de intercambio determinístico [13] reduce el conjunto de adquisiciones de menor valor. Un modelo relacionado es el modelo de costos relacionados en pares [9]. Problema B.2. Los costos relacionados en pares: una subasta de doble cara B.1 en la que cada par de jugadores i ∈ S y j ∈ B tiene un costo relacionado F(i, j) ≥ 0 para poder comerciar. F(i, j) es un costo de fricción que debe minimizarse para maximizar el bienestar. [9] define dos mecanismos equilibrados presupuestariamente para este caso. Uno de los mecanismos de [9] tiene el conjunto de compradores B como el conjunto X para el mecanismo X-externo y el otro tiene el conjunto de vendedores S como el conjunto X para el mecanismo X-externo. Un modelo similar es el modelo de mercados distribuidos espacialmente (SDM) [3] en el que hay un grafo que impone relaciones en el costo. Problema B.3. Mercados distribuidos espacialmente: existe un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene asociado un costo que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Los bordes no son estratégicos, pero todos los jugadores son estratégicos. [3] define un mecanismo equilibrado en presupuesto para este caso. Nuestro artículo mejora el resultado de [3]. Otro modelo de gráfica es el modelo definido en [6]. Problema B.4. Redes de intercambio: Dado un grafo y compradores y vendedores que se encuentran en los nodos del grafo. Todo comercio debe pasar a través de un comerciante. En este caso, los conjuntos de adquisiciones tienen la forma (comprador, vendedor, comerciante) donde los posibles conjuntos de esta forma están definidos por un gráfico. El modelo de cadena de suministro [2, 4] puede ser visto como una generalización de [6] en la que los conjuntos de adquisición consisten en la forma (productor, consumidor, comerciante1, . . . , comerciantek). También es posible aleatorizar la reducción de los conjuntos de adquisición para lograr un presupuesto esperado de cero similar a [13], los detalles son obvios y se omiten. Problema B.5. Cadena de suministro: Hay un conjunto D de agentes y un conjunto G de bienes y un grafo G = (V, E) que define posibles relaciones comerciales. Los agentes pueden requerir una entrada de múltiples cantidades de bienes para producir un solo bien. El jugador tipo productor puede producir bienes de la nada, el consumidor tiene una valoración y es necesaria toda una cadena de intermediarios para crear un conjunto de adquisiciones viable. [2, 4] consideran una tecnología de fabricación única en la que el grafo que define las posibles relaciones es un árbol. Todos los problemas anteriores son dominios de clase de adquisiciones. También consideramos varios problemas que no son dominios de la clase de adquisiciones y, en general, las cuestiones de equilibrio presupuestario se han dejado como problemas abiertos. Un problema abierto planteado en [3] es el modelo SDM en el que los bordes son estratégicos. Problema B.6. Mercados distribuidos espacialmente con bordes estratégicos: hay un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene un costo asociado que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Cada comprador, vendedor y intermediario tiene un valor para el intercambio, es decir, todas las entidades son estratégicas. [2, 4] dejó abierta la cuestión de los mecanismos equilibrados en presupuesto para cadenas de suministro donde no hay una tecnología de fabricación única. Es fácil ver que este problema no pertenece al ámbito de la clase de adquisiciones. Otro problema interesante son las redes de transporte. Problema B.7. Redes de transporte: Un grafo G = (V, E) donde las aristas son jugadores estratégicos con costos y el objetivo es encontrar una ruta de transporte de costo mínimo entre un par de nodos privilegiados Fuente y Objetivo ∈ V. Se demostró en [1] que la asignación eficiente puede tener un déficit presupuestario que es lineal en el número de jugadores. Claramente, este problema no es un dominio de clase de adquisiciones y dejó abierta la pregunta de un mecanismo de presupuesto equilibrado. Otro mecanismo de dominio no basado en la clase de adquisiciones es la subasta combinatoria de doble cara (CA) con jugadores de valor único. Problema B.8. Subasta combinatoria de doble cara (CA) con jugadores de valor único: Existe un conjunto S de vendedores, cada uno vendiendo un solo bien. También existe un conjunto B de compradores, cada uno interesado en paquetes de 2S18. Hay dos variantes de este problema. En el caso de un comprador enfocado, cada comprador tiene un valor positivo para un solo subconjunto, mientras que en el caso de múltiples intereses, cada comprador puede tener varios paquetes con valoración positiva, pero todos los valores son iguales. En ambos casos asumimos disponibilidad gratuita para que todos los paquetes que contienen el paquete deseado tengan el mismo valor para el comprador. También consideramos problemas que no pertenecen a dominios de clase. Problema B.9. Subasta combinatoria de doble cara (CA) con <br>jugadores generales multi-mentales</br>: igual que B.8 pero cada comprador puede tener múltiples paquetes con valoración positiva que no necesariamente son iguales. Abusamos de la notación e identificamos al vendedor con el bien. Comparando diferentes opciones de X, la elección de X puede tener un gran impacto en el bienestar (y los ingresos) del mecanismo reducido y, por lo tanto, surge la pregunta de cómo se debería elegir el conjunto X. Dado que se requiere el mecanismo X-externo para mantener la CI claramente, la elección de X no puede depender del valor de los jugadores, de lo contrario el mecanismo reducido no será veraz. En esta sección motivamos la elección de conjuntos X pequeños para dominios de clase de adquisiciones y damos intuición de que también podría ser el caso para algunos otros dominios. Comenzamos ilustrando el efecto del conjunto X sobre el bienestar y los ingresos en la subasta de doble cara con el problema de bienes homogéneos B.1. Se pueden construir ejemplos similares para los otros problemas definidos en B. El siguiente ejemplo muestra un efecto en el bienestar. Ejemplo C.1. Hay dos compradores y dos vendedores y dos conjuntos no intersectantes (incomparables) X = {compradores} e Y = {vendedores}. Si los valores de los compradores son 101, 100 y los vendedores son 150, 1, entonces el mecanismo externo X generará una ganancia del comercio de 0 y el mecanismo externo Y generará una ganancia del comercio de 100. Por el contrario, si los valores de los compradores son 100, 1 y los de los vendedores son 2, 3, el mecanismo externo X generará una ganancia comercial de 98 y el mecanismo externo Y generará una ganancia comercial de cero. El ejemplo muestra claramente que la diferencia entre el mecanismo X-externo y el mecanismo Y-externo es ilimitada, aunque como se muestra arriba, la fracción que cada uno de ellos reduce puede ser limitada y, por lo tanto, la proporción multiplicativa entre ellos puede ser limitada (como función del número de operaciones). En el lado de los ingresos ni siquiera podemos establecer un límite para la proporción, como se ve en el siguiente ejemplo: Ejemplo C.2. Considera k compradores con un valor de 100 y k+1 vendedores con un valor de 1. Si X = {compradores} entonces no es necesario reducir ningún intercambio y todos los compradores reciben el bien y pagan 1. k + 1 de los vendedores venden y cada uno recibe 1. Esto produce un ingreso neto de cero. Si Y = {vendedores} entonces se debe reducir un intercambio. Esto significa que todos los compradores pagan 100 mientras que todos los vendedores siguen recibiendo 1. La ganancia total es entonces de 99k. Del mismo modo, se puede construir un ejemplo que genere ingresos mucho más altos para el mecanismo externo X en comparación con el mecanismo externo Y. Los ejemplos anteriores se refieren a los conjuntos X e Y, los cuales no se intersectan y son incomparables. El siguiente teorema compara los mecanismos externos-X y externos-Y para dominios de clase de adquisiciones donde X es un subconjunto de Y. Teorema C.1. Para los dominios de clase de adquisiciones, si X ⊂ Y y para cualquier s ∈ S, s ∩ X ∩ Y = ∅ entonces: 1. La eficiencia del mecanismo externo X en GTR-1 (y por lo tanto GTR-2) es al menos igual a la del mecanismo externo Y. Cualquier jugador ganador que gane tanto en los mecanismos X-externo como en el Y-externo no paga menos en el Y-externo que en el X-externo y, por lo tanto, la proporción de presupuesto a bienestar no es peor en el Y-externo que en el X-externo. Prueba. 1. Para cualquier función de división D, si hay un conjunto de adquisición sj que se reduce en el mecanismo externo X, hay dos posibles razones: (a) sj carece de competencia externa en el mecanismo externo X. En este caso, sj carece de competencia externa en el mecanismo interno. (b) sj tiene todas las competencias externas requeridas en X-externo. En este caso, sj tiene todas las competencias internas requeridas en Y -externas según el lema 3.1, pero podría carecer de algunas competencias externas para sj ∪ {Y \\ X} y verse reducido, 2. Esto se deduce del hecho de que para cualquier orden D, cualquier conjunto de adquisiciones s que se reduce en el mecanismo externo X también se reduce en el mecanismo externo Y. Por lo tanto, el valor crítico no es menor en el mecanismo Yexterno que en el mecanismo Xexterno. Observación C.1. Para cualquier par de conjuntos X, Y, es fácil construir un ejemplo en el que los mecanismos externos de X y Y reduzcan los mismos conjuntos de adquisición, por lo que la desigualdad es débil. El Teorema C.1 muestra una desigualdad en el bienestar, así como en los pagos, pero es fácil construir un ejemplo en el que los ingresos pueden aumentar para X en comparación con Y, así como lo contrario. Esto sugiere que en general queremos que X sea lo más pequeño posible, aunque en algunos dominios no es posible comparar diferentes X. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "budget-balanced mechanism": {
            "translated_key": "mecanismos equilibrados presupuestariamente",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two <br>budget-balanced mechanism</br>s for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two <br>budget-balanced mechanism</br>s for this case."
            ],
            "translated_annotated_samples": [
                "F(i, j) es un costo de fricción que debe minimizarse para maximizar el bienestar. [9] define dos <br>mecanismos equilibrados presupuestariamente</br> para este caso."
            ],
            "translated_text": "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado Reducción Comercial Generalizada (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro. Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB. Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio. Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas. Definimos dominios basados en clase y dominios basados en clase de adquisiciones. Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado competencia interna y externa. La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2. PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB. Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de intercambio. Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0. Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0. El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi. El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn. Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i. Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Que el tamaño de un conjunto de adquisiciones s se denote como |s|. Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición. El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s). Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s). En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi. Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A. Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La eficiencia de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo. Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor. Un mecanismo M define unas reglas de asignación y pago, M = (R, P). Una regla de pago P decide el pago pi donde P es una función P: V → RN. Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores. Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10]. El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad. El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores. M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa. Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0. Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados. Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio. Los dos algoritmos son tales que, dado un mecanismo IR e IC M que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte a M en un mecanismo IR, IC y BB. El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplen las condiciones correctas y el mecanismo M se convierte en uno de tipo BB. Las condiciones adecuadas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado. Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando. Definición 2.3. Para cualquier jugador i ∈ N, decimos que el conjunto Ri ⊆ N \\ {i} es un conjunto de reemplazo de i, si para cualquier conjunto de adquisición s ∈ S tal que i ∈ s y Ri∩s = ∅, s\\{i}∪Ri ∈ S. Por ejemplo, en una subasta (homogénea) de doble cara (ver problema B.1), el conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador. En una subasta de espacios de transporte (ver problema B.7), el conjunto de reemplazo de un borde es un camino entre los extremos del borde. Ten en cuenta que un conjunto puede reemplazar a un solo jugador. Además, esta relación es transitiva pero no necesariamente simétrica. Si i es un conjunto de reemplazo para j, no necesariamente es cierto que j sea un conjunto de reemplazo para i. Definición 2.4. Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una competencia interna para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i. T = s \\ {i} ∪ Ri(A, s) ∈ S y W(T) ≥ 0. Definición 2.5. Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una competencia externa para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0. Supondremos, sin pérdida de generalidad, que no hay empates entre los valores de ninguna asignación, y en particular no hay empates entre los valores de los conjuntos de adquisiciones. En caso de empate, este puede romperse utilizando las identidades de los jugadores. Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con competencia externa Ei(A, s), existe exactamente un conjunto que representa la competencia externa de mayor valor. Definición 2.6. Un conjunto X ⊂ N es cerrado bajo reemplazo si ∀i ∈ X entonces Ri ⊂ X. Lo siguiente define la competencia requerida necesaria para mantener IC, IR y BB. El conjunto X5 denota esta competencia y está cerrado bajo reemplazo. En el resto del documento asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo. Definición 2.7. Sea X ⊂ N un conjunto que está cerrado bajo reemplazo, decimos que el mecanismo es un mecanismo X-externo, si 1. Cada jugador i ∈ X tiene una competencia externa. 2. Cada jugador i /∈ X tiene una competencia interna. 3. Para todos los jugadores i1, . . . , it ∈ s \\ X existen Ri1 (A, s), . . . , Rit (A, s) tales que para cada iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. para cada conjunto de adquisiciones s ∈ S se cumple que s∩X = ∅ Para dominios generales, la elección de X puede ser crucial. De hecho, incluso para el mismo dominio, el bienestar (y los ingresos) pueden variar ampliamente dependiendo de cómo se defina X. En el apéndice C damos un ejemplo donde dos posibles elecciones de X producen resultados muy diferentes. Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la optimalidad de X y este es un importante problema abierto. Nuestros dos algoritmos de reducción de comercio generalizados garantizarán que para cualquier asignación tengamos los tipos deseados de competencia. Dado un mecanismo M que es CI e IR con asignación A, el objetivo de los algoritmos es convertir a M en un mecanismo X-externo. Los dos algoritmos de reducción de comercio generalizados utilizan una función de división D que divide la asignación A en conjuntos de adquisición disjuntos. Los algoritmos ordenan los conjuntos de adquisiciones definidos por D en orden de valor creciente. Para cualquier conjunto de adquisiciones hay un tipo deseado de competencia que depende únicamente de los jugadores que componen el conjunto de adquisiciones. Los algoritmos de reducción de comercio generalizados recorren los conjuntos de adquisiciones en orden (del más pequeño al más grande) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el conjunto. La reducción de los conjuntos de adquisiciones también se conocerá como reducción del comercio. Formalmente, los detalles sobre cómo resolver empates en las asignaciones son estándar y se omiten. Presentamos algunas compensaciones entre los diferentes conjuntos posibles en el Apéndice C. Definición 2.8. D es una función de división si para cualquier asignación A y el vector de valores de los jugadores v, D divide la asignación en conjuntos de adquisiciones disjuntos s1, . . . , sk de manera que ∪sj = A y para cualquier jugador i con valor vi si i ∈ sj1 y t ∈ sj2 tal que j1 ≥ j2 entonces para cualquier valor vi > vi del jugador i y división por D en s1, . . . , sk tal que i ∈ sj1 y t ∈ sj2 entonces j1 > j2. Los dos algoritmos de reducción de comercio generalizados presentados aceptan problemas en diferentes dominios. Las definiciones de dominio formal siguen: Definición 2.9. Un dominio es un dominio de clase si para todo i ∈ N y todos los conjuntos de reemplazo de i, Ri, |Ri| = 1 y para todo i, j, i = j si j = Ri entonces i = Rj. Intuitivamente, esto significa que los conjuntos de reemplazo son de tamaño 1 y la relación de reemplazo es simétrica. Definimos la clase de un jugador i como el conjunto de los conjuntos de reemplazo de los jugadores y denotamos la clase del jugador i por [i]. Es importante tener en cuenta que dado que los conjuntos de reemplazo son relaciones transitivas y dado que los dominios de clase también imponen relaciones simétricas en los conjuntos de reemplazo, la clase de un jugador i, [i] es en realidad una clase de equivalencia para i. Definición 2.10. Un dominio es un dominio de clase de adquisición si el dominio es un dominio basado en clases y si para cualquier jugador i tal que existan dos conjuntos de adquisición s1, s2 (no necesariamente intercambiando simultáneamente en ninguna asignación) tales que i ∈ s1 e i ∈ s2, entonces existe una biyección f: s1 → s2 tal que para cualquier j ∈ s1, f(j) es un conjunto de reemplazo para j en s2. Ejemplo 2.1. Una subasta (homogénea) de doble cara (ver problema B.1) es un dominio basado en la clase de adquisiciones. Para la subasta de doble cara (homogénea), cada conjunto de adquisición consiste en un comprador y un vendedor. La subasta combinatoria de doble cara que consiste en un único comprador con múltiples preferencias y múltiples vendedores de bienes heterogéneos (ver problema B.9), es un dominio basado en clases (ya que tenemos un único comprador) pero no es un dominio basado en clases de adquisiciones. En este caso, el comprador es una clase y cada conjunto de vendedores del mismo bien es una clase. Sin embargo, para un comprador no hay una biyección entre los diferentes conjuntos de adquisición de los paquetes de bienes en los que el comprador está interesado. El mercado distribuido espacialmente con bordes estratégicos (ver problema B.6) no es un dominio basado en clases (y por lo tanto no es un dominio de clase de adquisiciones). Por ejemplo, incluso para un comprador fijo y un vendedor fijo existen dos conjuntos de adquisición diferentes que consisten en diferentes rutas entre los compradores y vendedores. Las siguientes secciones presentan dos algoritmos GTR-1 y GTR-2. El algoritmo GTR-1 acepta problemas en dominios basados en la clase de adquisiciones, sus propiedades se demuestran con una función de división general D. El algoritmo GTR-2 acepta problemas en cualquier dominio. Demostramos las propiedades de GTR-2s con una función de división específica D0. La función será definida en la sección 4. Dado que la función de división puede tener un gran impacto práctico en el bienestar (y los ingresos), la generalidad de GTR − 1 (aunque sea en dominios especiales) puede ser una consideración práctica importante. 3. DOMINIOS BASADOS EN CLASES DE ADQUISICIÓN Esta sección se centra en los problemas que son dominios basados en clases de adquisición. Para este dominio, presentamos un algoritmo llamado GTR-1, que dado un mecanismo que es IR e IC, produce un mecanismo con bienestar reducido que es IR, IC y equilibrado presupuestariamente. Aunque los dominios de clase de adquisición parecen ser un modelo relativamente restringido, de hecho muchos de los dominios estudiados en la literatura son dominios de clase de adquisición. Ejemplo 3.1. Los siguientes dominios son dominios de clase de adquisiciones: • subastas de doble cara con bienes homogéneos [13] (problema B.1). En este dominio hay dos clases. La clase de compradores y la clase de vendedores. Cada conjunto de adquisiciones consta de un único comprador y un único vendedor. Dado que cada par de (comprador, vendedor) es un conjunto de adquisición válido (aunque posiblemente con valor negativo), este es un dominio de clase de adquisición. En este dominio, la constante asignada a los conjuntos de adquisición es F = 0. • Mercados distribuidos espacialmente con bordes no estratégicos [3, 9] (problema B.3). Al igual que las subastas de doble cara con bienes homogéneos, hay dos clases en el dominio. Clase de compradores y clase de vendedores con conjuntos de adquisición que consisten en un comprador y un vendedor. Los vendedores y compradores son nodos en un grafo y la función F es la distancia entre dos nodos (longitud de la arista) que representa los costos de transporte. Estos costos varían entre diferentes pares (comprador, vendedor). • Cadenas de suministro [2, 4] (problema B.5). La suposición de una manufactura única por [2, 4] se puede entender mejor como convertir las cadenas de suministro generales (que no necesariamente deben ser un dominio de clase de adquisiciones) en un dominio de clase de adquisiciones. • Subastas combinatorias de mente única [11] (problema B.8). En este contexto, cada vendedor vende un solo bien y cada comprador desea un conjunto de bienes. Las clases son conjuntos de vendedores que venden el mismo bien, así como los compradores que desean el mismo paquete. Un conjunto de adquisiciones consiste en un único comprador, así como un conjunto de vendedores que pueden satisfacer a ese comprador. Una definición del mecanismo sigue a continuación: Definición 3.1. El algoritmo GTR-1, dado un mecanismo M, un conjunto X ⊂ N que es cerrado bajo reemplazo, una función de división D y una asignación A, opera de la siguiente manera: 1. Utiliza la función de división D para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 2. Ordena los conjuntos de adquisición por valor creciente. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay competencia externa y para cada i ∈ sj \\ X hay competencia interna, entonces se conservan los 23 sj. De lo contrario, reduzca el intercambio sj (es decir, elimine cada i ∈ sj de la asignación). Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. A todos los jugadores no comerciales no se les cobra nada. Observación 3.1. El caso especial donde X = N ha recibido atención bajo diferentes formas en varios casos especiales, como ([13, 3, 4]). 3.1 El GTR-1 produce un mecanismo externo de X que es IR, IC y BB. En esta subsección demostramos que el algoritmo GTR-1 produce un mecanismo externo de X que es IR, IC y BB. Para demostrar las propiedades de GTR-1, hacemos uso del teorema 3.1, el cual es un resultado bien conocido (por ejemplo, [14, 11]). El Teorema 3.1 caracteriza las condiciones necesarias y suficientes para que un mecanismo para jugadores de valor único sea IR e IC: Definición 3.2. Una regla de asignación R es Bid Monotónica si para cualquier jugador i, cualquier oferta de los otros jugadores b−i ∈ V−i, y cualquier par de ofertas posibles de i, ˆbi > bi, si i negocia bajo la regla de asignación R al informar bi, entonces i también negocia al informar ˆbi. Intuitivamente, una regla de asignación monótona de oferta garantiza que ningún jugador comerciante pueda convertirse en un jugador no comerciante al mejorar su oferta. Teorema 3.1. Un mecanismo IR M con regla de asignación R es IC si y solo si R es Bid Monotónico y cada jugador comerciante i paga su valor crítico Ci (pi = Ci). Por lo tanto, para los mecanismos IR7 e IC normalizados, la regla de asignación que es bid monótona define de manera única los valores críticos para todos los jugadores y, por lo tanto, los pagos. Observación 3.1. Sean M1 y M2 dos mecanismos IR e IC con la misma regla de asignación. Entonces M1 y M2 deben tener la misma regla de pago. En lo siguiente demostramos que el algoritmo GTR-1 externo de X produce un mecanismo IR, IC y BB, pero primero se muestra un lema subsidiario. Lema 3.1. Para los dominios de clase de adquisiciones, si existe un conjunto de adquisiciones sj tal que i ∈ sj y i tiene competencia externa, entonces todos los t = i t ∈ sj, t tiene competencia interna. Prueba. Esto se deriva de la definición de los dominios de clase de adquisiciones. Supongamos que i tiene competencia externa, entonces existe un conjunto de jugadores Ei(A, s) tal que {i} ∪ Ei(A, s) ∈ S. Denotemos por sj = {i} ∪ Ei(A, s). Dado que el dominio es un dominio de clase de adquisiciones, existe una función biyectiva f entre sj y sj. f define la competencia interna requerida. Comenzamos demostrando IR e IC: Aunque la definición de un mecanismo externo X requiere que X intersecte cada conjunto de adquisiciones, esto no es estrictamente necesario. Es posible definir un X que no intersecte con cada conjunto de adquisiciones posible. En este caso, cualquier conjunto de adquisiciones s ∈ S tal que s ∩ X = ∅ se reducirá. Nótese que esto no es cierto para mecanismos que no están normalizados, por ejemplo, [7, 12] Lema 3.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR e IC. Prueba. Por la definición de un esquema de precios de valor crítico 2.2 y el algoritmo GTR-1 3.1 se sigue que para cada jugador comercial i, vi ≥ 0. Por el algoritmo GTR-1, 3.1 jugadores no comerciales tienen un pago de cero. Por lo tanto, para cada jugador i, valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que el mecanismo externo X producido es IR. Dado que el algoritmo X-external GTR-1 es IR y aplica el esquema de pago de valor crítico según el teorema 3.1, para demostrar que el mecanismo X-external producido con el esquema de pago de valor crítico es IC, queda por demostrar que la regla de asignación de mecanismos producida es bid-montónica. Dado que GTR-1 ordena los conjuntos de adquisición según el valor creciente, si el jugador i aumenta su oferta de bi a bi > bi, entonces para cualquier función de división D de conjuntos de adquisición, el conjunto de adquisición s que contiene a i siempre aparece más tarde con la oferta bi que con la oferta bi. Por lo tanto, la probabilidad de competencia solo puede aumentar si i aparece en conjuntos de adquisiciones posteriores. Esto se traduce en que GTR-1 puede reducir más de los conjuntos de adquisiciones de menor valor, lo que resultará en más jugadores no comerciales. Por lo tanto, si s tiene la competencia requerida y no se reduce con bi, entonces tendrá la competencia requerida con bi y no se reducirá. Finalmente demostramos BB: Lema 3.3. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo BB. Prueba. Para demostrar que el mecanismo producido es BB, mostramos que cada conjunto de adquisiciones que no está reducido tiene un presupuesto positivo (es decir, la suma de los pagos es positiva). Sea s ∈ S un conjunto de adquisiciones que no está reducido. Si i ∈ s ∩ X, entonces según la definición de la definición externa de X 2.7 y el algoritmo GTR-1 3.1, i tiene una competencia externa. Supongamos sin pérdida de generalidad que i es el único jugador con competencia externa en s y que todos los demás jugadores j = i, j ∈ s tienen competencia interna. Sea A la asignación después de la reducción de los conjuntos de adquisición por el algoritmo GTR-1. Según la definición de competencia externa 2.5, existe un conjunto Ei(A, s) ⊂ N \\A tal que i ∪ Ei(A, s) ∈ S y W(i ∪ Ei(A, s)) ≥ 0. Dado que W(i∪Ei(A, s)) = vi +W(Ei(A, s)), entonces vi ≥ −W(Ei(A, s)). Según la definición 2.2 del esquema de fijación de precios por valor crítico, esto significa que si el jugador i ofrece menos de −W(Ei(A, s)), no tendrá competencia externa y, por lo tanto, será eliminado del intercambio. Por lo tanto, pago no menos de min −W(Ei(A, s)). Dado que todos los demás jugadores j ∈ s tienen competencia interna, su precio crítico no puede ser menor que el valor máximo de su competidor interno (conjunto), es decir, max W(Rj(A, s)). Si algún jugador j ∈ s ofrece menos que su competidor interno máximo (conjunto), entonces él no estará en s pero su competidor interno máximo (conjunto) sí lo estará. Dado que un posible Ei(A, s) es ∪j∈sRj(A, s), se puede acotar el valor máximo de su competencia externa W(Ei(A, s)) por la suma de los valores máximos del resto de los jugadores en s 8, dado que el dominio es un dominio de clase de adquisiciones, podemos usar el lema 3.1 24 de competencia interna, es decir, j∈s max W(Rj(A, s)). Por lo tanto, min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))). Dado que la función F se define como una constante positiva, obtenemos que W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 y, por lo tanto, s es al menos equilibrado en términos presupuestarios. Dado que cada conjunto de adquisiciones que no se reduce está al menos equilibrado presupuestariamente, se deduce que el mecanismo externo X producido es BB. Los dos lemas anteriores producen el siguiente teorema: Teorema 3.2. Para los dominios de clase de adquisiciones para cualquier X, el mecanismo externo X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR, IC y BB. Observación 3.2. La prueba del teorema proporciona límites sobre los pagos que cualquier jugador tiene que hacer al mecanismo. Los dominios no basados en la clase de adquisiciones. La razón principal por la que GTR-1 funciona para los dominios no basados en la clase de adquisiciones es que la posibilidad de reducción de cada jugador es monótona. Por la definición de una función de división, si un jugador i ∈ sj aumenta su valor, i solo puede aparecer en un conjunto de adquisiciones sj posterior y, por lo tanto, tiene una mayor probabilidad de tener la competencia deseada. Por lo tanto, la probabilidad de que i carezca de la competencia necesaria disminuye. Dado que el dominio es un dominio de clase de adquisiciones, es más probable que todos los demás jugadores t = i, t ∈ sj también tengan competencia, ya que los miembros de su clase siguen apareciendo antes que i y, por lo tanto, la probabilidad de que i sea reducido disminuye. Dado que, según el teorema 3.1, una condición necesaria y suficiente para que el mecanismo sea CI es la monotonicidad. GTR-1 es IC para dominios de clase de adquisiciones. Sin embargo, para los dominios que no son de la clase de adquisiciones, esto no es suficiente incluso si el dominio es un dominio basado en clases. Aunque todos los miembros de sj siguen teniendo la competencia requerida, es posible que haya miembros de sj que no tengan análogos en sj que no tengan competencia. Por lo tanto, podría reducirse después de aumentar su valor, lo que significa, según el lema 3.1, que el mecanismo no es IC. Por lo tanto, definimos un algoritmo diferente para los dominios que no pertenecen a la clase de adquisiciones. Nuestro algoritmo modificado requiere una función de división especial para mantener la propiedad de IC. Aunque nuestra restricción a esta función de división especial parezca estricta, la función de división que utilizamos es una generalización de la forma en que se eligen los conjuntos de adquisiciones en dominios basados en clases de adquisiciones, por ejemplo, [13, 16, 9, 3, 2, 4]. Para facilitar la presentación en esta sección, asumimos que F = 0. La función de división para dominios generales se define al observar todas las posibles funciones de división. Para cada función de división Di y cada conjunto de ofertas, el algoritmo GTR-1 produce un bienestar que es una función de las ofertas y la función de división. Denotamos por D0 la función de división que divide a los jugadores en conjuntos de manera que el bienestar que encuentra GTR-1 sea máximo. Cabe destacar que para cualquier Di en particular, esto podría no ser IC, ya que GTR-1 es IC solo para dominios de clase de adquisición y no para dominios generales. En el Apéndice A mostramos cómo calcular D0 en polinómico. Formalmente, sea D el conjunto de todas las funciones de división D. Denotemos el bienestar logrado por el mecanismo producido por GTR1 al usar la función de división D y un conjunto de ofertas ¯b como GTR1(D, ¯b). Denote por D0(¯b) = argmaxD∈D(GTR1(D,¯b)). Para facilitar la presentación, denotamos D0(¯b) como D0 cuando la dependencia de b es clara en el contexto. Observación 4.1. D0 es un elemento del conjunto de funciones divisorias, y por lo tanto es una función divisoria. El segundo algoritmo de reducción de comercio generalizado GTR-2 sigue. Definición 4.1. El algoritmo GTR-2 - Dado el mecanismo M, la asignación A y un conjunto X ⊂ N cerrado bajo reemplazo, GTR-2 opera de la siguiente manera: 1. Calcula la función de división D0 como se define arriba. 2. Utilice la función de división D0 para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor, haz lo siguiente: Si para i ∈ sj ∩ X hay una competencia externa y hay a lo sumo un i ∈ sj que no tiene competencia interna, entonces conserva sj. De lo contrario, reduzca el intercambio sj. 4. Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. Todos los jugadores no comerciales no pagan nada. Demostraremos que el mecanismo producido por GTR-2 mantiene las propiedades deseadas de IR, IC y BB. El siguiente lema muestra que el mecanismo producido por GTR-2 es IR y IC. Lema 4.1. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR e IC. Prueba. Según el teorema 3.1, basta con demostrar que el mecanismo producido por el algoritmo GTR-2 es bidmonótono para cada jugador i. Supongamos que no fui reducido al ofertar bi, necesitamos demostrar que no seré reducido al ofertar bi > bi. Denote por D1 = D0(b) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por D1 = D0(bi, b−i) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por ¯D1(b) una función divisoria máxima que resulta en GTR-1 reduciendo i al informar bi. Supongamos, por el contrario, que GTR-2 redujo i del intercambio cuando i informó bi, entonces GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b). Dado que D1 ∈ D, se sigue que GTR1(D1, b) > GTR1( ¯D1, b) y por lo tanto GTR1(D1, b) > GTR1(D1, (bi, b−i)). Sin embargo, según la definición D1 ∈ D, GTR-2 no debería haber reducido el tiempo mínimo de adquisición para los dominios de clase de aprovisionamiento. Calcular D0 en tiempo polinómico para dominios generales es un problema abierto importante. En la versión completa de GTR-2 se extiende de tal manera que basta con que exista algún momento en el cual se cumpla el tercer paso. Esa extensión se omitió de la versión actual debido a la falta de espacio. 25 con la función de división D1 y obtuvo un mayor bienestar que GTR1(D1, b). Por lo tanto, surge una contradicción y GTR-2 no reduce i del intercambio cuando i informa que bi > bi. Lema 4.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo BB. Prueba. Esta prueba es similar a la prueba del lema 3.3. Combinando los dos lemas anteriores obtenemos: Teorema 4.1. Para cualquier X cerrado bajo reemplazo, el mecanismo externo de X con el esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR, IC y BB. El Apéndice A muestra cómo calcular D0 para dominios de clase de adquisiciones en tiempo polinómico, no se sabe generalmente cómo calcular D0 fácilmente. Crear un método general para calcular la función de división necesaria en tiempo polinómico sigue siendo una pregunta abierta. 4.1 Limitando el Bienestar para Dominios Basados en Clases de Adquisición y otros Casos de Dominios Generales. Esta sección muestra que, además de producir un mecanismo con las propiedades deseadas, GTR-2 también produce un mecanismo que mantiene un alto bienestar. Dado que el algoritmo GTR-2 encuentra un mecanismo equilibrado en presupuesto en dominios arbitrarios, no podemos acotar el bienestar para casos generales. Sin embargo, podemos acotar el bienestar para el dominio basado en la clase de adquisiciones y una amplia variedad de casos en dominios generales que incluyen muchos casos previamente estudiados. Definición 4.2. Denote freqk([i], sj) para indicar que una clase [i] aparece en un conjunto de adquisiciones sj, k veces y hay k miembros de [i] en sj. Definición 4.3. Denote por freqk([i], S) el máximo k tal que hay k miembros de [i] en sj. Es decir, freqk([i], S) = maxsj ∈S freqk([i], sj). Deje que el conjunto de clases de equivalencia en el mecanismo de dominio basado en la clase de adquisiciones sea ec y |ec| sea el número de esas clases de equivalencia. Usando la definición de frecuencia de apariencia de clase, podemos acotar el bienestar logrado por el mecanismo producido por GTR-2 para los dominios de clase de adquisición: Lema 4.3. Para los dominios de clase de adquisiciones con F = 0, el número de conjuntos de adquisiciones que se reducen por GTR-213 es a lo sumo |ec| veces la frecuencia máxima de cada clase. Formalmente, el número máximo de conjuntos de adquisición que se reduce es O( [i]∈ec freqk([i], S)) Demostración. Sea D una función de división arbitraria. Observamos que, por definición, cualquier conjunto de adquisiciones sj no se reducirá si cada i ∈ sj tiene tanto competencia interna como competencia externa. El bienestar logrado por GTR-1 también puede estar acotado para los casos presentados en esta sección. Sin embargo, nos enfocamos en GTR-2 ya que siempre logra un mejor bienestar. 13 o GTR-1 Cada conjunto de adquisiciones s que se reduce tiene al menos un jugador i que no tiene competencia. Una vez que s se reduce, todos los jugadores de [i] tienen competencia interna. Así, al reducir el número de clases de equivalencia |ec| de conjuntos de adquisiciones, cubrimos a todos los jugadores restantes con competencia interna. Si la frecuencia máxima de cada clase de equivalencia fuera uno, entonces cada jugador restante t en el conjunto de adquisiciones sk también tendría competencia externa, ya que todos los competidores internos de los jugadores ¯t = t, ¯t ∈ sk son competencia externa para t. Si tenemos freqk([t], S) jugadores de la clase [t] que fueron reducidos, entonces hay suficiente competencia externa para todos los jugadores en sk. Por lo tanto, basta con reducir los conjuntos de adquisición O( [i]∈ec freqk([i], S)) para garantizar que exista tanto la competencia interna como externa necesaria. El siguiente teorema se deduce como un corolario inmediato del lema 4.3: Teorema 4.2. Dado mecanismos de dominio basados en clases de adquisición con H conjuntos de adquisición, la eficiencia es al menos una fracción de 1 − O( O( [i]∈ec freqk([i],S)) H ) del bienestar óptimo. Los siguientes corolarios son resultados directos del teorema 4.2. Todos estos corolarios mejoran resultados anteriores o logran el mismo bienestar que los resultados anteriores. Corolario 4.1. Para utilizar GTR-2 en subastas homogéneas de doble cara (problema B.1), se debe reducir como máximo un conjunto de adquisición de 14. De manera similar, para mercados distribuidos espacialmente sin bordes estratégicos (problema B.3), el uso de GTR-2 mejora el resultado de [3] donde se reduce un ciclo mínimo que incluye a un comprador y un vendedor. Corolario 4.2. Usar GTR-2 para mercados distribuidos espacialmente sin bordes estratégicos reducirá a lo sumo un ciclo por componente conectado. Para las cadenas de suministro (problema B.5) el uso de GTR-2 mejora el resultado de [2, 4] de manera similar al corolario 4.2. Corolario 4.3. Usando GTR-2 para cadenas de suministro, se reducirá a lo sumo un ciclo por componente conectado. El siguiente corolario resuelve el problema abierto en [3]. Corolario 4.4. Para mercados distribuidos en n nodos con agentes estratégicos y caminos de longitud acotada K (problema B.6) basta con eliminar como máximo K * n conjuntos de adquisiciones. Prueba. Bosque de expansión: Estos crearán al menos K árboles de expansión, por lo tanto, podemos cubrir de manera disjunta cada conjunto de adquisiciones restante. Esto mejora el algoritmo ingenuo de reducir conjuntos de adquisición n2. Proporcionamos resultados para dos casos especiales de subastas de doble cara con jugadores de valor único (problema B.8). Es posible que no se realicen reducciones, por ejemplo, cuando hay un jugador no comercial que es la competencia externa requerida. Al igual que en las subastas de doble cara, a veces habrá suficiente competencia sin una reducción. Corolario 4.5. si hay como máximo M tipos diferentes de conjuntos de adquisición, basta con eliminar M conjuntos de adquisición. Corolario 4.6. Si hay K tipos de bienes y cada conjunto de adquisición consiste en a lo sumo uno de cada tipo, basta con eliminar a lo sumo K conjuntos de adquisición. CONCLUSIONES Y TRABAJOS FUTUROS En este artículo presentamos un procedimiento de solución general llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo de IR e IC como entrada y produce mecanismos que son IR, IC y BB como salida. Los mecanismos de salida logran un bienestar que se acerca a lo óptimo para una amplia gama de dominios. El procedimiento GTR mejora los resultados existentes como subastas homogéneas de doble cara, mercados distribuidos y cadenas de suministro, y resuelve varios problemas abiertos como mercados distribuidos con aristas de transporte estratégicas y caminos acotados, subastas de doble cara combinatorias con conjuntos de adquisiciones de tamaño acotado, y subastas de doble cara combinatorias con un número acotado de conjuntos de adquisiciones. La cuestión de la calidad de la aproximación del bienestar tanto en general como en dominios de clase que no son dominios de clase de adquisición es una pregunta abierta importante e interesante. También dejamos abierta la pregunta de los límites superiores para la calidad de la aproximación del bienestar. Aunque sabemos que es imposible tener IR, IC y BB en un mecanismo eficiente, sería interesante tener un límite superior en la aproximación al bienestar alcanzable en un mecanismo IR, IC y BB. El procedimiento GTR produce un mecanismo que depende de un conjunto X ⊂ N. Otra pregunta interesante es cuál es la calidad de la aproximación cuando X se elige al azar de N antes de que se declaren las valoraciones. Agradecimientos Los autores desean agradecer a Eva Tardos y colaboradores por compartir sus resultados con nosotros. Los autores también desean expresar su gratitud por los comentarios útiles de los revisores anónimos.  REFERENCIAS [1] A. Archer y E. Tardos. Mecanismos de camino frugal. Simposio sobre Algoritmos Discretos, Actas del decimotercer simposio anual de algoritmos discretos ACM-SIAM, 2002. [2] M. Babaioff y N. Nisan. Subastas simultáneas en toda la cadena de suministro. Revista de Investigación en Inteligencia Artificial, 2004. [3] Babaioff M., Nisan N. y Pavlov E. Mecanismos para un Mercado Distribuido Espacialmente. En actas de la 5ta Conferencia ACM sobre Comercio Electrónico, 2004. [4] M. Babaioff y W. E. Walsh. Subastas Incentivo-Compatible, Equilibradas en Presupuesto, pero Altamente Eficientes para la Formación de Cadenas de Suministro. En actas de la Cuarta Conferencia ACM sobre Comercio Electrónico, 2003. [5] Y. Bartal, R. Gonen y P. La Mura. Mecanismos de rango de negociación: explorando los límites de los mercados eficientes y veraces. EC 04: Actas de la 5ta conferencia de ACM sobre comercio electrónico, 2004. [6] Blume L, Easley D., Kleinberg J. y Tardos E. Redes de intercambio con agentes que fijan precios. En actas de la 8ª conferencia de la ACM sobre comercio electrónico, 2007. [7] Cavallo R. Toma de decisiones óptima con desperdicio mínimo: redistribución estratégicamente segura de pagos VCG. En Proc. 5th Int. Conf. sobre Autonomía. Agentes y Sistemas Multiagente (AAMAS06). [8] E. H. Clarke Fijación de precios múltiples de bienes públicos. En la revista Public Choice de 1971, vol. 2, pp. 17-33. [9] Chu L. Y. y Shen Zuo-Jun M. Mecanismo de Subasta Doble de Competencia de Agentes. Ciencia de la Gestión, vol. 52(8), 2006. [10] T. Groves Incentivos en equipos. En la revista Econometrica de 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan y Y. Shoham. Revelación de la verdad en subastas combinatorias aproximadamente eficientes. En Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Obtención de preferencias honestas para la asignación de individuos a posiciones. Revista de economía política, 1983. [13] McAfee R. P. Una subasta doble de estrategia dominante. Revista de Teoría Económica, vol. 56, 434-450, 1992. [14] A. Mualem y N. Nisan. Mecanismos de Aproximación Veraz para Subastas Combinatorias Restringidas. Actas de AAAI 2002. [15] Myerson R. B. y Satterthwaite M. A. Mecanismos eficientes para el comercio bilateral. Revista de Teoría Económica, vol. 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. y Zhang R. Q. Mecanismos de subasta eficientes para la adquisición de la cadena de suministro. Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, 2001. [17] W. Vickrey Contrapronóstico, Subastas y Licitaciones Competitivas Selladas. En Journal of Finance 1961, vol. 16, pp. 8-37. APÉNDICE A. CALCULANDO LA FUNCIÓN DE DIVISIÓN ÓPTIMA EN DOMINIOS DE CLASE DE ADQUISICIÓN EN TIEMPO POLINÓMICO En esta sección mostramos cómo calcular la función de división óptima para dominios de clase de adquisición en tiempo polinómico. Primero definimos una función de división especial D0 que es fácil de calcular: Definimos la función de división D0 de forma recursiva de la siguiente manera: En la etapa j, D0 divide a los jugadores comerciales en dos conjuntos Aj y Aj de manera que: • Aj es un conjunto de adquisiciones • Aj puede dividirse en una unión disjunta de conjuntos de adquisiciones. • Aj tiene un valor mínimo de todas las particiones posibles. Define sj = Aj y llame recursivamente a D0 y Aj hasta que Aj = ∅. Ahora demostramos que D0 es la función de división requerida. Lema A.1. Para los dominios de clase de adquisiciones D0 = D0. Prueba. Dado que el dominio es un dominio de clase de adquisiciones, para cada conjunto de adquisiciones reducido, el conjunto de jugadores que logran la competencia (ya sea interna o externa) está fijo. Por lo tanto, el número de conjuntos de adquisiciones que se reducen es independiente de la función de división D. Dado que el objetivo es optimizar el bienestar reduciendo los conjuntos de adquisiciones con el menor valor, podemos optimizar el bienestar. Esto se logra mediante D0. I'm sorry, but you did not provide a sentence to translate. Please provide the sentence you would like me to translate to Spanish. PROBLEMAS Y EJEMPLOS Para completitud, presentamos en esta sección las definiciones formales de los problemas que utilizamos para ilustrar nuestro mecanismo. El primer problema que definimos es la subasta de doble cara con bienes homogéneos. Problema B.1. Subasta de doble cara con bienes homogéneos: Hay m vendedores, cada uno con un solo bien (todos los bienes son idénticos) y n compradores, cada uno interesado en recibir un bien. Denotamos el conjunto de vendedores como S y el conjunto de compradores como B. Cada jugador i ∈ S ∪ B (tanto compradores como vendedores) tiene un valor vi por el bien. En este modelo, un conjunto de adquisiciones consiste en un único comprador y un único vendedor, es decir, |s| = 2. El valor de un conjunto de adquisiciones es W(s) = vj − vi donde j ∈ B e i ∈ S, es decir, la ganancia del intercambio. Si los conjuntos de adquisiciones se crean emparejando al comprador de mayor valor con el vendedor de menor valor, entonces el mecanismo de reducción de intercambio determinístico [13] reduce el conjunto de adquisiciones de menor valor. Un modelo relacionado es el modelo de costos relacionados en pares [9]. Problema B.2. Los costos relacionados en pares: una subasta de doble cara B.1 en la que cada par de jugadores i ∈ S y j ∈ B tiene un costo relacionado F(i, j) ≥ 0 para poder comerciar. F(i, j) es un costo de fricción que debe minimizarse para maximizar el bienestar. [9] define dos <br>mecanismos equilibrados presupuestariamente</br> para este caso. Uno de los mecanismos de [9] tiene el conjunto de compradores B como el conjunto X para el mecanismo X-externo y el otro tiene el conjunto de vendedores S como el conjunto X para el mecanismo X-externo. Un modelo similar es el modelo de mercados distribuidos espacialmente (SDM) [3] en el que hay un grafo que impone relaciones en el costo. Problema B.3. Mercados distribuidos espacialmente: existe un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene asociado un costo que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Los bordes no son estratégicos, pero todos los jugadores son estratégicos. [3] define un mecanismo equilibrado en presupuesto para este caso. Nuestro artículo mejora el resultado de [3]. Otro modelo de gráfica es el modelo definido en [6]. Problema B.4. Redes de intercambio: Dado un grafo y compradores y vendedores que se encuentran en los nodos del grafo. Todo comercio debe pasar a través de un comerciante. En este caso, los conjuntos de adquisiciones tienen la forma (comprador, vendedor, comerciante) donde los posibles conjuntos de esta forma están definidos por un gráfico. El modelo de cadena de suministro [2, 4] puede ser visto como una generalización de [6] en la que los conjuntos de adquisición consisten en la forma (productor, consumidor, comerciante1, . . . , comerciantek). También es posible aleatorizar la reducción de los conjuntos de adquisición para lograr un presupuesto esperado de cero similar a [13], los detalles son obvios y se omiten. Problema B.5. Cadena de suministro: Hay un conjunto D de agentes y un conjunto G de bienes y un grafo G = (V, E) que define posibles relaciones comerciales. Los agentes pueden requerir una entrada de múltiples cantidades de bienes para producir un solo bien. El jugador tipo productor puede producir bienes de la nada, el consumidor tiene una valoración y es necesaria toda una cadena de intermediarios para crear un conjunto de adquisiciones viable. [2, 4] consideran una tecnología de fabricación única en la que el grafo que define las posibles relaciones es un árbol. Todos los problemas anteriores son dominios de clase de adquisiciones. También consideramos varios problemas que no son dominios de la clase de adquisiciones y, en general, las cuestiones de equilibrio presupuestario se han dejado como problemas abiertos. Un problema abierto planteado en [3] es el modelo SDM en el que los bordes son estratégicos. Problema B.6. Mercados distribuidos espacialmente con bordes estratégicos: hay un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene un costo asociado que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Cada comprador, vendedor y intermediario tiene un valor para el intercambio, es decir, todas las entidades son estratégicas. [2, 4] dejó abierta la cuestión de los mecanismos equilibrados en presupuesto para cadenas de suministro donde no hay una tecnología de fabricación única. Es fácil ver que este problema no pertenece al ámbito de la clase de adquisiciones. Otro problema interesante son las redes de transporte. Problema B.7. Redes de transporte: Un grafo G = (V, E) donde las aristas son jugadores estratégicos con costos y el objetivo es encontrar una ruta de transporte de costo mínimo entre un par de nodos privilegiados Fuente y Objetivo ∈ V. Se demostró en [1] que la asignación eficiente puede tener un déficit presupuestario que es lineal en el número de jugadores. Claramente, este problema no es un dominio de clase de adquisiciones y dejó abierta la pregunta de un mecanismo de presupuesto equilibrado. Otro mecanismo de dominio no basado en la clase de adquisiciones es la subasta combinatoria de doble cara (CA) con jugadores de valor único. Problema B.8. Subasta combinatoria de doble cara (CA) con jugadores de valor único: Existe un conjunto S de vendedores, cada uno vendiendo un solo bien. También existe un conjunto B de compradores, cada uno interesado en paquetes de 2S18. Hay dos variantes de este problema. En el caso de un comprador enfocado, cada comprador tiene un valor positivo para un solo subconjunto, mientras que en el caso de múltiples intereses, cada comprador puede tener varios paquetes con valoración positiva, pero todos los valores son iguales. En ambos casos asumimos disponibilidad gratuita para que todos los paquetes que contienen el paquete deseado tengan el mismo valor para el comprador. También consideramos problemas que no pertenecen a dominios de clase. Problema B.9. Subasta combinatoria de doble cara (CA) con jugadores generales multi-mentales: igual que B.8 pero cada comprador puede tener múltiples paquetes con valoración positiva que no necesariamente son iguales. Abusamos de la notación e identificamos al vendedor con el bien. Comparando diferentes opciones de X, la elección de X puede tener un gran impacto en el bienestar (y los ingresos) del mecanismo reducido y, por lo tanto, surge la pregunta de cómo se debería elegir el conjunto X. Dado que se requiere el mecanismo X-externo para mantener la CI claramente, la elección de X no puede depender del valor de los jugadores, de lo contrario el mecanismo reducido no será veraz. En esta sección motivamos la elección de conjuntos X pequeños para dominios de clase de adquisiciones y damos intuición de que también podría ser el caso para algunos otros dominios. Comenzamos ilustrando el efecto del conjunto X sobre el bienestar y los ingresos en la subasta de doble cara con el problema de bienes homogéneos B.1. Se pueden construir ejemplos similares para los otros problemas definidos en B. El siguiente ejemplo muestra un efecto en el bienestar. Ejemplo C.1. Hay dos compradores y dos vendedores y dos conjuntos no intersectantes (incomparables) X = {compradores} e Y = {vendedores}. Si los valores de los compradores son 101, 100 y los vendedores son 150, 1, entonces el mecanismo externo X generará una ganancia del comercio de 0 y el mecanismo externo Y generará una ganancia del comercio de 100. Por el contrario, si los valores de los compradores son 100, 1 y los de los vendedores son 2, 3, el mecanismo externo X generará una ganancia comercial de 98 y el mecanismo externo Y generará una ganancia comercial de cero. El ejemplo muestra claramente que la diferencia entre el mecanismo X-externo y el mecanismo Y-externo es ilimitada, aunque como se muestra arriba, la fracción que cada uno de ellos reduce puede ser limitada y, por lo tanto, la proporción multiplicativa entre ellos puede ser limitada (como función del número de operaciones). En el lado de los ingresos ni siquiera podemos establecer un límite para la proporción, como se ve en el siguiente ejemplo: Ejemplo C.2. Considera k compradores con un valor de 100 y k+1 vendedores con un valor de 1. Si X = {compradores} entonces no es necesario reducir ningún intercambio y todos los compradores reciben el bien y pagan 1. k + 1 de los vendedores venden y cada uno recibe 1. Esto produce un ingreso neto de cero. Si Y = {vendedores} entonces se debe reducir un intercambio. Esto significa que todos los compradores pagan 100 mientras que todos los vendedores siguen recibiendo 1. La ganancia total es entonces de 99k. Del mismo modo, se puede construir un ejemplo que genere ingresos mucho más altos para el mecanismo externo X en comparación con el mecanismo externo Y. Los ejemplos anteriores se refieren a los conjuntos X e Y, los cuales no se intersectan y son incomparables. El siguiente teorema compara los mecanismos externos-X y externos-Y para dominios de clase de adquisiciones donde X es un subconjunto de Y. Teorema C.1. Para los dominios de clase de adquisiciones, si X ⊂ Y y para cualquier s ∈ S, s ∩ X ∩ Y = ∅ entonces: 1. La eficiencia del mecanismo externo X en GTR-1 (y por lo tanto GTR-2) es al menos igual a la del mecanismo externo Y. Cualquier jugador ganador que gane tanto en los mecanismos X-externo como en el Y-externo no paga menos en el Y-externo que en el X-externo y, por lo tanto, la proporción de presupuesto a bienestar no es peor en el Y-externo que en el X-externo. Prueba. 1. Para cualquier función de división D, si hay un conjunto de adquisición sj que se reduce en el mecanismo externo X, hay dos posibles razones: (a) sj carece de competencia externa en el mecanismo externo X. En este caso, sj carece de competencia externa en el mecanismo interno. (b) sj tiene todas las competencias externas requeridas en X-externo. En este caso, sj tiene todas las competencias internas requeridas en Y -externas según el lema 3.1, pero podría carecer de algunas competencias externas para sj ∪ {Y \\ X} y verse reducido, 2. Esto se deduce del hecho de que para cualquier orden D, cualquier conjunto de adquisiciones s que se reduce en el mecanismo externo X también se reduce en el mecanismo externo Y. Por lo tanto, el valor crítico no es menor en el mecanismo Yexterno que en el mecanismo Xexterno. Observación C.1. Para cualquier par de conjuntos X, Y, es fácil construir un ejemplo en el que los mecanismos externos de X y Y reduzcan los mismos conjuntos de adquisición, por lo que la desigualdad es débil. El Teorema C.1 muestra una desigualdad en el bienestar, así como en los pagos, pero es fácil construir un ejemplo en el que los ingresos pueden aumentar para X en comparación con Y, así como lo contrario. Esto sugiere que en general queremos que X sea lo más pequeño posible, aunque en algunos dominios no es posible comparar diferentes X. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "homogeneous good": {
            "translated_key": "bienes homogéneos",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a Spatially Distributed Market.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with <br>homogeneous good</br>s.",
                "Problem B.1.",
                "Double-sided auction with <br>homogeneous good</br>s: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with <br>homogeneous good</br>s problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [
                "The first problem that we define is the double-sided auction with <br>homogeneous good</br>s.",
                "Double-sided auction with <br>homogeneous good</br>s: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with <br>homogeneous good</br>s problem B.1."
            ],
            "translated_annotated_samples": [
                "El primer problema que definimos es la subasta de doble cara con <br>bienes homogéneos</br>.",
                "Subasta de doble cara con <br>bienes homogéneos</br>: Hay m vendedores, cada uno con un solo bien (todos los bienes son idénticos) y n compradores, cada uno interesado en recibir un bien.",
                "Comenzamos ilustrando el efecto del conjunto X sobre el bienestar y los ingresos en la subasta de doble cara con el problema de <br>bienes homogéneos</br> B.1."
            ],
            "translated_text": "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado Reducción Comercial Generalizada (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro. Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB. Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio. Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas. Definimos dominios basados en clase y dominios basados en clase de adquisiciones. Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado competencia interna y externa. La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2. PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB. Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de intercambio. Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0. Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0. El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi. El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn. Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i. Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Que el tamaño de un conjunto de adquisiciones s se denote como |s|. Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición. El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s). Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s). En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi. Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A. Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La eficiencia de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo. Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor. Un mecanismo M define unas reglas de asignación y pago, M = (R, P). Una regla de pago P decide el pago pi donde P es una función P: V → RN. Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores. Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10]. El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad. El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores. M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa. Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0. Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados. Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio. Los dos algoritmos son tales que, dado un mecanismo IR e IC M que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte a M en un mecanismo IR, IC y BB. El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplen las condiciones correctas y el mecanismo M se convierte en uno de tipo BB. Las condiciones adecuadas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado. Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando. Definición 2.3. Para cualquier jugador i ∈ N, decimos que el conjunto Ri ⊆ N \\ {i} es un conjunto de reemplazo de i, si para cualquier conjunto de adquisición s ∈ S tal que i ∈ s y Ri∩s = ∅, s\\{i}∪Ri ∈ S. Por ejemplo, en una subasta (homogénea) de doble cara (ver problema B.1), el conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador. En una subasta de espacios de transporte (ver problema B.7), el conjunto de reemplazo de un borde es un camino entre los extremos del borde. Ten en cuenta que un conjunto puede reemplazar a un solo jugador. Además, esta relación es transitiva pero no necesariamente simétrica. Si i es un conjunto de reemplazo para j, no necesariamente es cierto que j sea un conjunto de reemplazo para i. Definición 2.4. Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una competencia interna para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i. T = s \\ {i} ∪ Ri(A, s) ∈ S y W(T) ≥ 0. Definición 2.5. Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una competencia externa para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0. Supondremos, sin pérdida de generalidad, que no hay empates entre los valores de ninguna asignación, y en particular no hay empates entre los valores de los conjuntos de adquisiciones. En caso de empate, este puede romperse utilizando las identidades de los jugadores. Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con competencia externa Ei(A, s), existe exactamente un conjunto que representa la competencia externa de mayor valor. Definición 2.6. Un conjunto X ⊂ N es cerrado bajo reemplazo si ∀i ∈ X entonces Ri ⊂ X. Lo siguiente define la competencia requerida necesaria para mantener IC, IR y BB. El conjunto X5 denota esta competencia y está cerrado bajo reemplazo. En el resto del documento asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo. Definición 2.7. Sea X ⊂ N un conjunto que está cerrado bajo reemplazo, decimos que el mecanismo es un mecanismo X-externo, si 1. Cada jugador i ∈ X tiene una competencia externa. 2. Cada jugador i /∈ X tiene una competencia interna. 3. Para todos los jugadores i1, . . . , it ∈ s \\ X existen Ri1 (A, s), . . . , Rit (A, s) tales que para cada iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. para cada conjunto de adquisiciones s ∈ S se cumple que s∩X = ∅ Para dominios generales, la elección de X puede ser crucial. De hecho, incluso para el mismo dominio, el bienestar (y los ingresos) pueden variar ampliamente dependiendo de cómo se defina X. En el apéndice C damos un ejemplo donde dos posibles elecciones de X producen resultados muy diferentes. Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la optimalidad de X y este es un importante problema abierto. Nuestros dos algoritmos de reducción de comercio generalizados garantizarán que para cualquier asignación tengamos los tipos deseados de competencia. Dado un mecanismo M que es CI e IR con asignación A, el objetivo de los algoritmos es convertir a M en un mecanismo X-externo. Los dos algoritmos de reducción de comercio generalizados utilizan una función de división D que divide la asignación A en conjuntos de adquisición disjuntos. Los algoritmos ordenan los conjuntos de adquisiciones definidos por D en orden de valor creciente. Para cualquier conjunto de adquisiciones hay un tipo deseado de competencia que depende únicamente de los jugadores que componen el conjunto de adquisiciones. Los algoritmos de reducción de comercio generalizados recorren los conjuntos de adquisiciones en orden (del más pequeño al más grande) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el conjunto. La reducción de los conjuntos de adquisiciones también se conocerá como reducción del comercio. Formalmente, los detalles sobre cómo resolver empates en las asignaciones son estándar y se omiten. Presentamos algunas compensaciones entre los diferentes conjuntos posibles en el Apéndice C. Definición 2.8. D es una función de división si para cualquier asignación A y el vector de valores de los jugadores v, D divide la asignación en conjuntos de adquisiciones disjuntos s1, . . . , sk de manera que ∪sj = A y para cualquier jugador i con valor vi si i ∈ sj1 y t ∈ sj2 tal que j1 ≥ j2 entonces para cualquier valor vi > vi del jugador i y división por D en s1, . . . , sk tal que i ∈ sj1 y t ∈ sj2 entonces j1 > j2. Los dos algoritmos de reducción de comercio generalizados presentados aceptan problemas en diferentes dominios. Las definiciones de dominio formal siguen: Definición 2.9. Un dominio es un dominio de clase si para todo i ∈ N y todos los conjuntos de reemplazo de i, Ri, |Ri| = 1 y para todo i, j, i = j si j = Ri entonces i = Rj. Intuitivamente, esto significa que los conjuntos de reemplazo son de tamaño 1 y la relación de reemplazo es simétrica. Definimos la clase de un jugador i como el conjunto de los conjuntos de reemplazo de los jugadores y denotamos la clase del jugador i por [i]. Es importante tener en cuenta que dado que los conjuntos de reemplazo son relaciones transitivas y dado que los dominios de clase también imponen relaciones simétricas en los conjuntos de reemplazo, la clase de un jugador i, [i] es en realidad una clase de equivalencia para i. Definición 2.10. Un dominio es un dominio de clase de adquisición si el dominio es un dominio basado en clases y si para cualquier jugador i tal que existan dos conjuntos de adquisición s1, s2 (no necesariamente intercambiando simultáneamente en ninguna asignación) tales que i ∈ s1 e i ∈ s2, entonces existe una biyección f: s1 → s2 tal que para cualquier j ∈ s1, f(j) es un conjunto de reemplazo para j en s2. Ejemplo 2.1. Una subasta (homogénea) de doble cara (ver problema B.1) es un dominio basado en la clase de adquisiciones. Para la subasta de doble cara (homogénea), cada conjunto de adquisición consiste en un comprador y un vendedor. La subasta combinatoria de doble cara que consiste en un único comprador con múltiples preferencias y múltiples vendedores de bienes heterogéneos (ver problema B.9), es un dominio basado en clases (ya que tenemos un único comprador) pero no es un dominio basado en clases de adquisiciones. En este caso, el comprador es una clase y cada conjunto de vendedores del mismo bien es una clase. Sin embargo, para un comprador no hay una biyección entre los diferentes conjuntos de adquisición de los paquetes de bienes en los que el comprador está interesado. El mercado distribuido espacialmente con bordes estratégicos (ver problema B.6) no es un dominio basado en clases (y por lo tanto no es un dominio de clase de adquisiciones). Por ejemplo, incluso para un comprador fijo y un vendedor fijo existen dos conjuntos de adquisición diferentes que consisten en diferentes rutas entre los compradores y vendedores. Las siguientes secciones presentan dos algoritmos GTR-1 y GTR-2. El algoritmo GTR-1 acepta problemas en dominios basados en la clase de adquisiciones, sus propiedades se demuestran con una función de división general D. El algoritmo GTR-2 acepta problemas en cualquier dominio. Demostramos las propiedades de GTR-2s con una función de división específica D0. La función será definida en la sección 4. Dado que la función de división puede tener un gran impacto práctico en el bienestar (y los ingresos), la generalidad de GTR − 1 (aunque sea en dominios especiales) puede ser una consideración práctica importante. 3. DOMINIOS BASADOS EN CLASES DE ADQUISICIÓN Esta sección se centra en los problemas que son dominios basados en clases de adquisición. Para este dominio, presentamos un algoritmo llamado GTR-1, que dado un mecanismo que es IR e IC, produce un mecanismo con bienestar reducido que es IR, IC y equilibrado presupuestariamente. Aunque los dominios de clase de adquisición parecen ser un modelo relativamente restringido, de hecho muchos de los dominios estudiados en la literatura son dominios de clase de adquisición. Ejemplo 3.1. Los siguientes dominios son dominios de clase de adquisiciones: • subastas de doble cara con bienes homogéneos [13] (problema B.1). En este dominio hay dos clases. La clase de compradores y la clase de vendedores. Cada conjunto de adquisiciones consta de un único comprador y un único vendedor. Dado que cada par de (comprador, vendedor) es un conjunto de adquisición válido (aunque posiblemente con valor negativo), este es un dominio de clase de adquisición. En este dominio, la constante asignada a los conjuntos de adquisición es F = 0. • Mercados distribuidos espacialmente con bordes no estratégicos [3, 9] (problema B.3). Al igual que las subastas de doble cara con bienes homogéneos, hay dos clases en el dominio. Clase de compradores y clase de vendedores con conjuntos de adquisición que consisten en un comprador y un vendedor. Los vendedores y compradores son nodos en un grafo y la función F es la distancia entre dos nodos (longitud de la arista) que representa los costos de transporte. Estos costos varían entre diferentes pares (comprador, vendedor). • Cadenas de suministro [2, 4] (problema B.5). La suposición de una manufactura única por [2, 4] se puede entender mejor como convertir las cadenas de suministro generales (que no necesariamente deben ser un dominio de clase de adquisiciones) en un dominio de clase de adquisiciones. • Subastas combinatorias de mente única [11] (problema B.8). En este contexto, cada vendedor vende un solo bien y cada comprador desea un conjunto de bienes. Las clases son conjuntos de vendedores que venden el mismo bien, así como los compradores que desean el mismo paquete. Un conjunto de adquisiciones consiste en un único comprador, así como un conjunto de vendedores que pueden satisfacer a ese comprador. Una definición del mecanismo sigue a continuación: Definición 3.1. El algoritmo GTR-1, dado un mecanismo M, un conjunto X ⊂ N que es cerrado bajo reemplazo, una función de división D y una asignación A, opera de la siguiente manera: 1. Utiliza la función de división D para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 2. Ordena los conjuntos de adquisición por valor creciente. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay competencia externa y para cada i ∈ sj \\ X hay competencia interna, entonces se conservan los 23 sj. De lo contrario, reduzca el intercambio sj (es decir, elimine cada i ∈ sj de la asignación). Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. A todos los jugadores no comerciales no se les cobra nada. Observación 3.1. El caso especial donde X = N ha recibido atención bajo diferentes formas en varios casos especiales, como ([13, 3, 4]). 3.1 El GTR-1 produce un mecanismo externo de X que es IR, IC y BB. En esta subsección demostramos que el algoritmo GTR-1 produce un mecanismo externo de X que es IR, IC y BB. Para demostrar las propiedades de GTR-1, hacemos uso del teorema 3.1, el cual es un resultado bien conocido (por ejemplo, [14, 11]). El Teorema 3.1 caracteriza las condiciones necesarias y suficientes para que un mecanismo para jugadores de valor único sea IR e IC: Definición 3.2. Una regla de asignación R es Bid Monotónica si para cualquier jugador i, cualquier oferta de los otros jugadores b−i ∈ V−i, y cualquier par de ofertas posibles de i, ˆbi > bi, si i negocia bajo la regla de asignación R al informar bi, entonces i también negocia al informar ˆbi. Intuitivamente, una regla de asignación monótona de oferta garantiza que ningún jugador comerciante pueda convertirse en un jugador no comerciante al mejorar su oferta. Teorema 3.1. Un mecanismo IR M con regla de asignación R es IC si y solo si R es Bid Monotónico y cada jugador comerciante i paga su valor crítico Ci (pi = Ci). Por lo tanto, para los mecanismos IR7 e IC normalizados, la regla de asignación que es bid monótona define de manera única los valores críticos para todos los jugadores y, por lo tanto, los pagos. Observación 3.1. Sean M1 y M2 dos mecanismos IR e IC con la misma regla de asignación. Entonces M1 y M2 deben tener la misma regla de pago. En lo siguiente demostramos que el algoritmo GTR-1 externo de X produce un mecanismo IR, IC y BB, pero primero se muestra un lema subsidiario. Lema 3.1. Para los dominios de clase de adquisiciones, si existe un conjunto de adquisiciones sj tal que i ∈ sj y i tiene competencia externa, entonces todos los t = i t ∈ sj, t tiene competencia interna. Prueba. Esto se deriva de la definición de los dominios de clase de adquisiciones. Supongamos que i tiene competencia externa, entonces existe un conjunto de jugadores Ei(A, s) tal que {i} ∪ Ei(A, s) ∈ S. Denotemos por sj = {i} ∪ Ei(A, s). Dado que el dominio es un dominio de clase de adquisiciones, existe una función biyectiva f entre sj y sj. f define la competencia interna requerida. Comenzamos demostrando IR e IC: Aunque la definición de un mecanismo externo X requiere que X intersecte cada conjunto de adquisiciones, esto no es estrictamente necesario. Es posible definir un X que no intersecte con cada conjunto de adquisiciones posible. En este caso, cualquier conjunto de adquisiciones s ∈ S tal que s ∩ X = ∅ se reducirá. Nótese que esto no es cierto para mecanismos que no están normalizados, por ejemplo, [7, 12] Lema 3.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR e IC. Prueba. Por la definición de un esquema de precios de valor crítico 2.2 y el algoritmo GTR-1 3.1 se sigue que para cada jugador comercial i, vi ≥ 0. Por el algoritmo GTR-1, 3.1 jugadores no comerciales tienen un pago de cero. Por lo tanto, para cada jugador i, valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que el mecanismo externo X producido es IR. Dado que el algoritmo X-external GTR-1 es IR y aplica el esquema de pago de valor crítico según el teorema 3.1, para demostrar que el mecanismo X-external producido con el esquema de pago de valor crítico es IC, queda por demostrar que la regla de asignación de mecanismos producida es bid-montónica. Dado que GTR-1 ordena los conjuntos de adquisición según el valor creciente, si el jugador i aumenta su oferta de bi a bi > bi, entonces para cualquier función de división D de conjuntos de adquisición, el conjunto de adquisición s que contiene a i siempre aparece más tarde con la oferta bi que con la oferta bi. Por lo tanto, la probabilidad de competencia solo puede aumentar si i aparece en conjuntos de adquisiciones posteriores. Esto se traduce en que GTR-1 puede reducir más de los conjuntos de adquisiciones de menor valor, lo que resultará en más jugadores no comerciales. Por lo tanto, si s tiene la competencia requerida y no se reduce con bi, entonces tendrá la competencia requerida con bi y no se reducirá. Finalmente demostramos BB: Lema 3.3. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo BB. Prueba. Para demostrar que el mecanismo producido es BB, mostramos que cada conjunto de adquisiciones que no está reducido tiene un presupuesto positivo (es decir, la suma de los pagos es positiva). Sea s ∈ S un conjunto de adquisiciones que no está reducido. Si i ∈ s ∩ X, entonces según la definición de la definición externa de X 2.7 y el algoritmo GTR-1 3.1, i tiene una competencia externa. Supongamos sin pérdida de generalidad que i es el único jugador con competencia externa en s y que todos los demás jugadores j = i, j ∈ s tienen competencia interna. Sea A la asignación después de la reducción de los conjuntos de adquisición por el algoritmo GTR-1. Según la definición de competencia externa 2.5, existe un conjunto Ei(A, s) ⊂ N \\A tal que i ∪ Ei(A, s) ∈ S y W(i ∪ Ei(A, s)) ≥ 0. Dado que W(i∪Ei(A, s)) = vi +W(Ei(A, s)), entonces vi ≥ −W(Ei(A, s)). Según la definición 2.2 del esquema de fijación de precios por valor crítico, esto significa que si el jugador i ofrece menos de −W(Ei(A, s)), no tendrá competencia externa y, por lo tanto, será eliminado del intercambio. Por lo tanto, pago no menos de min −W(Ei(A, s)). Dado que todos los demás jugadores j ∈ s tienen competencia interna, su precio crítico no puede ser menor que el valor máximo de su competidor interno (conjunto), es decir, max W(Rj(A, s)). Si algún jugador j ∈ s ofrece menos que su competidor interno máximo (conjunto), entonces él no estará en s pero su competidor interno máximo (conjunto) sí lo estará. Dado que un posible Ei(A, s) es ∪j∈sRj(A, s), se puede acotar el valor máximo de su competencia externa W(Ei(A, s)) por la suma de los valores máximos del resto de los jugadores en s 8, dado que el dominio es un dominio de clase de adquisiciones, podemos usar el lema 3.1 24 de competencia interna, es decir, j∈s max W(Rj(A, s)). Por lo tanto, min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))). Dado que la función F se define como una constante positiva, obtenemos que W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 y, por lo tanto, s es al menos equilibrado en términos presupuestarios. Dado que cada conjunto de adquisiciones que no se reduce está al menos equilibrado presupuestariamente, se deduce que el mecanismo externo X producido es BB. Los dos lemas anteriores producen el siguiente teorema: Teorema 3.2. Para los dominios de clase de adquisiciones para cualquier X, el mecanismo externo X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR, IC y BB. Observación 3.2. La prueba del teorema proporciona límites sobre los pagos que cualquier jugador tiene que hacer al mecanismo. Los dominios no basados en la clase de adquisiciones. La razón principal por la que GTR-1 funciona para los dominios no basados en la clase de adquisiciones es que la posibilidad de reducción de cada jugador es monótona. Por la definición de una función de división, si un jugador i ∈ sj aumenta su valor, i solo puede aparecer en un conjunto de adquisiciones sj posterior y, por lo tanto, tiene una mayor probabilidad de tener la competencia deseada. Por lo tanto, la probabilidad de que i carezca de la competencia necesaria disminuye. Dado que el dominio es un dominio de clase de adquisiciones, es más probable que todos los demás jugadores t = i, t ∈ sj también tengan competencia, ya que los miembros de su clase siguen apareciendo antes que i y, por lo tanto, la probabilidad de que i sea reducido disminuye. Dado que, según el teorema 3.1, una condición necesaria y suficiente para que el mecanismo sea CI es la monotonicidad. GTR-1 es IC para dominios de clase de adquisiciones. Sin embargo, para los dominios que no son de la clase de adquisiciones, esto no es suficiente incluso si el dominio es un dominio basado en clases. Aunque todos los miembros de sj siguen teniendo la competencia requerida, es posible que haya miembros de sj que no tengan análogos en sj que no tengan competencia. Por lo tanto, podría reducirse después de aumentar su valor, lo que significa, según el lema 3.1, que el mecanismo no es IC. Por lo tanto, definimos un algoritmo diferente para los dominios que no pertenecen a la clase de adquisiciones. Nuestro algoritmo modificado requiere una función de división especial para mantener la propiedad de IC. Aunque nuestra restricción a esta función de división especial parezca estricta, la función de división que utilizamos es una generalización de la forma en que se eligen los conjuntos de adquisiciones en dominios basados en clases de adquisiciones, por ejemplo, [13, 16, 9, 3, 2, 4]. Para facilitar la presentación en esta sección, asumimos que F = 0. La función de división para dominios generales se define al observar todas las posibles funciones de división. Para cada función de división Di y cada conjunto de ofertas, el algoritmo GTR-1 produce un bienestar que es una función de las ofertas y la función de división. Denotamos por D0 la función de división que divide a los jugadores en conjuntos de manera que el bienestar que encuentra GTR-1 sea máximo. Cabe destacar que para cualquier Di en particular, esto podría no ser IC, ya que GTR-1 es IC solo para dominios de clase de adquisición y no para dominios generales. En el Apéndice A mostramos cómo calcular D0 en polinómico. Formalmente, sea D el conjunto de todas las funciones de división D. Denotemos el bienestar logrado por el mecanismo producido por GTR1 al usar la función de división D y un conjunto de ofertas ¯b como GTR1(D, ¯b). Denote por D0(¯b) = argmaxD∈D(GTR1(D,¯b)). Para facilitar la presentación, denotamos D0(¯b) como D0 cuando la dependencia de b es clara en el contexto. Observación 4.1. D0 es un elemento del conjunto de funciones divisorias, y por lo tanto es una función divisoria. El segundo algoritmo de reducción de comercio generalizado GTR-2 sigue. Definición 4.1. El algoritmo GTR-2 - Dado el mecanismo M, la asignación A y un conjunto X ⊂ N cerrado bajo reemplazo, GTR-2 opera de la siguiente manera: 1. Calcula la función de división D0 como se define arriba. 2. Utilice la función de división D0 para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor, haz lo siguiente: Si para i ∈ sj ∩ X hay una competencia externa y hay a lo sumo un i ∈ sj que no tiene competencia interna, entonces conserva sj. De lo contrario, reduzca el intercambio sj. 4. Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. Todos los jugadores no comerciales no pagan nada. Demostraremos que el mecanismo producido por GTR-2 mantiene las propiedades deseadas de IR, IC y BB. El siguiente lema muestra que el mecanismo producido por GTR-2 es IR y IC. Lema 4.1. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR e IC. Prueba. Según el teorema 3.1, basta con demostrar que el mecanismo producido por el algoritmo GTR-2 es bidmonótono para cada jugador i. Supongamos que no fui reducido al ofertar bi, necesitamos demostrar que no seré reducido al ofertar bi > bi. Denote por D1 = D0(b) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por D1 = D0(bi, b−i) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por ¯D1(b) una función divisoria máxima que resulta en GTR-1 reduciendo i al informar bi. Supongamos, por el contrario, que GTR-2 redujo i del intercambio cuando i informó bi, entonces GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b). Dado que D1 ∈ D, se sigue que GTR1(D1, b) > GTR1( ¯D1, b) y por lo tanto GTR1(D1, b) > GTR1(D1, (bi, b−i)). Sin embargo, según la definición D1 ∈ D, GTR-2 no debería haber reducido el tiempo mínimo de adquisición para los dominios de clase de aprovisionamiento. Calcular D0 en tiempo polinómico para dominios generales es un problema abierto importante. En la versión completa de GTR-2 se extiende de tal manera que basta con que exista algún momento en el cual se cumpla el tercer paso. Esa extensión se omitió de la versión actual debido a la falta de espacio. 25 con la función de división D1 y obtuvo un mayor bienestar que GTR1(D1, b). Por lo tanto, surge una contradicción y GTR-2 no reduce i del intercambio cuando i informa que bi > bi. Lema 4.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo BB. Prueba. Esta prueba es similar a la prueba del lema 3.3. Combinando los dos lemas anteriores obtenemos: Teorema 4.1. Para cualquier X cerrado bajo reemplazo, el mecanismo externo de X con el esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR, IC y BB. El Apéndice A muestra cómo calcular D0 para dominios de clase de adquisiciones en tiempo polinómico, no se sabe generalmente cómo calcular D0 fácilmente. Crear un método general para calcular la función de división necesaria en tiempo polinómico sigue siendo una pregunta abierta. 4.1 Limitando el Bienestar para Dominios Basados en Clases de Adquisición y otros Casos de Dominios Generales. Esta sección muestra que, además de producir un mecanismo con las propiedades deseadas, GTR-2 también produce un mecanismo que mantiene un alto bienestar. Dado que el algoritmo GTR-2 encuentra un mecanismo equilibrado en presupuesto en dominios arbitrarios, no podemos acotar el bienestar para casos generales. Sin embargo, podemos acotar el bienestar para el dominio basado en la clase de adquisiciones y una amplia variedad de casos en dominios generales que incluyen muchos casos previamente estudiados. Definición 4.2. Denote freqk([i], sj) para indicar que una clase [i] aparece en un conjunto de adquisiciones sj, k veces y hay k miembros de [i] en sj. Definición 4.3. Denote por freqk([i], S) el máximo k tal que hay k miembros de [i] en sj. Es decir, freqk([i], S) = maxsj ∈S freqk([i], sj). Deje que el conjunto de clases de equivalencia en el mecanismo de dominio basado en la clase de adquisiciones sea ec y |ec| sea el número de esas clases de equivalencia. Usando la definición de frecuencia de apariencia de clase, podemos acotar el bienestar logrado por el mecanismo producido por GTR-2 para los dominios de clase de adquisición: Lema 4.3. Para los dominios de clase de adquisiciones con F = 0, el número de conjuntos de adquisiciones que se reducen por GTR-213 es a lo sumo |ec| veces la frecuencia máxima de cada clase. Formalmente, el número máximo de conjuntos de adquisición que se reduce es O( [i]∈ec freqk([i], S)) Demostración. Sea D una función de división arbitraria. Observamos que, por definición, cualquier conjunto de adquisiciones sj no se reducirá si cada i ∈ sj tiene tanto competencia interna como competencia externa. El bienestar logrado por GTR-1 también puede estar acotado para los casos presentados en esta sección. Sin embargo, nos enfocamos en GTR-2 ya que siempre logra un mejor bienestar. 13 o GTR-1 Cada conjunto de adquisiciones s que se reduce tiene al menos un jugador i que no tiene competencia. Una vez que s se reduce, todos los jugadores de [i] tienen competencia interna. Así, al reducir el número de clases de equivalencia |ec| de conjuntos de adquisiciones, cubrimos a todos los jugadores restantes con competencia interna. Si la frecuencia máxima de cada clase de equivalencia fuera uno, entonces cada jugador restante t en el conjunto de adquisiciones sk también tendría competencia externa, ya que todos los competidores internos de los jugadores ¯t = t, ¯t ∈ sk son competencia externa para t. Si tenemos freqk([t], S) jugadores de la clase [t] que fueron reducidos, entonces hay suficiente competencia externa para todos los jugadores en sk. Por lo tanto, basta con reducir los conjuntos de adquisición O( [i]∈ec freqk([i], S)) para garantizar que exista tanto la competencia interna como externa necesaria. El siguiente teorema se deduce como un corolario inmediato del lema 4.3: Teorema 4.2. Dado mecanismos de dominio basados en clases de adquisición con H conjuntos de adquisición, la eficiencia es al menos una fracción de 1 − O( O( [i]∈ec freqk([i],S)) H ) del bienestar óptimo. Los siguientes corolarios son resultados directos del teorema 4.2. Todos estos corolarios mejoran resultados anteriores o logran el mismo bienestar que los resultados anteriores. Corolario 4.1. Para utilizar GTR-2 en subastas homogéneas de doble cara (problema B.1), se debe reducir como máximo un conjunto de adquisición de 14. De manera similar, para mercados distribuidos espacialmente sin bordes estratégicos (problema B.3), el uso de GTR-2 mejora el resultado de [3] donde se reduce un ciclo mínimo que incluye a un comprador y un vendedor. Corolario 4.2. Usar GTR-2 para mercados distribuidos espacialmente sin bordes estratégicos reducirá a lo sumo un ciclo por componente conectado. Para las cadenas de suministro (problema B.5) el uso de GTR-2 mejora el resultado de [2, 4] de manera similar al corolario 4.2. Corolario 4.3. Usando GTR-2 para cadenas de suministro, se reducirá a lo sumo un ciclo por componente conectado. El siguiente corolario resuelve el problema abierto en [3]. Corolario 4.4. Para mercados distribuidos en n nodos con agentes estratégicos y caminos de longitud acotada K (problema B.6) basta con eliminar como máximo K * n conjuntos de adquisiciones. Prueba. Bosque de expansión: Estos crearán al menos K árboles de expansión, por lo tanto, podemos cubrir de manera disjunta cada conjunto de adquisiciones restante. Esto mejora el algoritmo ingenuo de reducir conjuntos de adquisición n2. Proporcionamos resultados para dos casos especiales de subastas de doble cara con jugadores de valor único (problema B.8). Es posible que no se realicen reducciones, por ejemplo, cuando hay un jugador no comercial que es la competencia externa requerida. Al igual que en las subastas de doble cara, a veces habrá suficiente competencia sin una reducción. Corolario 4.5. si hay como máximo M tipos diferentes de conjuntos de adquisición, basta con eliminar M conjuntos de adquisición. Corolario 4.6. Si hay K tipos de bienes y cada conjunto de adquisición consiste en a lo sumo uno de cada tipo, basta con eliminar a lo sumo K conjuntos de adquisición. CONCLUSIONES Y TRABAJOS FUTUROS En este artículo presentamos un procedimiento de solución general llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo de IR e IC como entrada y produce mecanismos que son IR, IC y BB como salida. Los mecanismos de salida logran un bienestar que se acerca a lo óptimo para una amplia gama de dominios. El procedimiento GTR mejora los resultados existentes como subastas homogéneas de doble cara, mercados distribuidos y cadenas de suministro, y resuelve varios problemas abiertos como mercados distribuidos con aristas de transporte estratégicas y caminos acotados, subastas de doble cara combinatorias con conjuntos de adquisiciones de tamaño acotado, y subastas de doble cara combinatorias con un número acotado de conjuntos de adquisiciones. La cuestión de la calidad de la aproximación del bienestar tanto en general como en dominios de clase que no son dominios de clase de adquisición es una pregunta abierta importante e interesante. También dejamos abierta la pregunta de los límites superiores para la calidad de la aproximación del bienestar. Aunque sabemos que es imposible tener IR, IC y BB en un mecanismo eficiente, sería interesante tener un límite superior en la aproximación al bienestar alcanzable en un mecanismo IR, IC y BB. El procedimiento GTR produce un mecanismo que depende de un conjunto X ⊂ N. Otra pregunta interesante es cuál es la calidad de la aproximación cuando X se elige al azar de N antes de que se declaren las valoraciones. Agradecimientos Los autores desean agradecer a Eva Tardos y colaboradores por compartir sus resultados con nosotros. Los autores también desean expresar su gratitud por los comentarios útiles de los revisores anónimos.  REFERENCIAS [1] A. Archer y E. Tardos. Mecanismos de camino frugal. Simposio sobre Algoritmos Discretos, Actas del decimotercer simposio anual de algoritmos discretos ACM-SIAM, 2002. [2] M. Babaioff y N. Nisan. Subastas simultáneas en toda la cadena de suministro. Revista de Investigación en Inteligencia Artificial, 2004. [3] Babaioff M., Nisan N. y Pavlov E. Mecanismos para un Mercado Distribuido Espacialmente. En actas de la 5ta Conferencia ACM sobre Comercio Electrónico, 2004. [4] M. Babaioff y W. E. Walsh. Subastas Incentivo-Compatible, Equilibradas en Presupuesto, pero Altamente Eficientes para la Formación de Cadenas de Suministro. En actas de la Cuarta Conferencia ACM sobre Comercio Electrónico, 2003. [5] Y. Bartal, R. Gonen y P. La Mura. Mecanismos de rango de negociación: explorando los límites de los mercados eficientes y veraces. EC 04: Actas de la 5ta conferencia de ACM sobre comercio electrónico, 2004. [6] Blume L, Easley D., Kleinberg J. y Tardos E. Redes de intercambio con agentes que fijan precios. En actas de la 8ª conferencia de la ACM sobre comercio electrónico, 2007. [7] Cavallo R. Toma de decisiones óptima con desperdicio mínimo: redistribución estratégicamente segura de pagos VCG. En Proc. 5th Int. Conf. sobre Autonomía. Agentes y Sistemas Multiagente (AAMAS06). [8] E. H. Clarke Fijación de precios múltiples de bienes públicos. En la revista Public Choice de 1971, vol. 2, pp. 17-33. [9] Chu L. Y. y Shen Zuo-Jun M. Mecanismo de Subasta Doble de Competencia de Agentes. Ciencia de la Gestión, vol. 52(8), 2006. [10] T. Groves Incentivos en equipos. En la revista Econometrica de 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan y Y. Shoham. Revelación de la verdad en subastas combinatorias aproximadamente eficientes. En Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Obtención de preferencias honestas para la asignación de individuos a posiciones. Revista de economía política, 1983. [13] McAfee R. P. Una subasta doble de estrategia dominante. Revista de Teoría Económica, vol. 56, 434-450, 1992. [14] A. Mualem y N. Nisan. Mecanismos de Aproximación Veraz para Subastas Combinatorias Restringidas. Actas de AAAI 2002. [15] Myerson R. B. y Satterthwaite M. A. Mecanismos eficientes para el comercio bilateral. Revista de Teoría Económica, vol. 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. y Zhang R. Q. Mecanismos de subasta eficientes para la adquisición de la cadena de suministro. Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, 2001. [17] W. Vickrey Contrapronóstico, Subastas y Licitaciones Competitivas Selladas. En Journal of Finance 1961, vol. 16, pp. 8-37. APÉNDICE A. CALCULANDO LA FUNCIÓN DE DIVISIÓN ÓPTIMA EN DOMINIOS DE CLASE DE ADQUISICIÓN EN TIEMPO POLINÓMICO En esta sección mostramos cómo calcular la función de división óptima para dominios de clase de adquisición en tiempo polinómico. Primero definimos una función de división especial D0 que es fácil de calcular: Definimos la función de división D0 de forma recursiva de la siguiente manera: En la etapa j, D0 divide a los jugadores comerciales en dos conjuntos Aj y Aj de manera que: • Aj es un conjunto de adquisiciones • Aj puede dividirse en una unión disjunta de conjuntos de adquisiciones. • Aj tiene un valor mínimo de todas las particiones posibles. Define sj = Aj y llame recursivamente a D0 y Aj hasta que Aj = ∅. Ahora demostramos que D0 es la función de división requerida. Lema A.1. Para los dominios de clase de adquisiciones D0 = D0. Prueba. Dado que el dominio es un dominio de clase de adquisiciones, para cada conjunto de adquisiciones reducido, el conjunto de jugadores que logran la competencia (ya sea interna o externa) está fijo. Por lo tanto, el número de conjuntos de adquisiciones que se reducen es independiente de la función de división D. Dado que el objetivo es optimizar el bienestar reduciendo los conjuntos de adquisiciones con el menor valor, podemos optimizar el bienestar. Esto se logra mediante D0. I'm sorry, but you did not provide a sentence to translate. Please provide the sentence you would like me to translate to Spanish. PROBLEMAS Y EJEMPLOS Para completitud, presentamos en esta sección las definiciones formales de los problemas que utilizamos para ilustrar nuestro mecanismo. El primer problema que definimos es la subasta de doble cara con <br>bienes homogéneos</br>. Problema B.1. Subasta de doble cara con <br>bienes homogéneos</br>: Hay m vendedores, cada uno con un solo bien (todos los bienes son idénticos) y n compradores, cada uno interesado en recibir un bien. Denotamos el conjunto de vendedores como S y el conjunto de compradores como B. Cada jugador i ∈ S ∪ B (tanto compradores como vendedores) tiene un valor vi por el bien. En este modelo, un conjunto de adquisiciones consiste en un único comprador y un único vendedor, es decir, |s| = 2. El valor de un conjunto de adquisiciones es W(s) = vj − vi donde j ∈ B e i ∈ S, es decir, la ganancia del intercambio. Si los conjuntos de adquisiciones se crean emparejando al comprador de mayor valor con el vendedor de menor valor, entonces el mecanismo de reducción de intercambio determinístico [13] reduce el conjunto de adquisiciones de menor valor. Un modelo relacionado es el modelo de costos relacionados en pares [9]. Problema B.2. Los costos relacionados en pares: una subasta de doble cara B.1 en la que cada par de jugadores i ∈ S y j ∈ B tiene un costo relacionado F(i, j) ≥ 0 para poder comerciar. F(i, j) es un costo de fricción que debe minimizarse para maximizar el bienestar. [9] define dos mecanismos equilibrados presupuestariamente para este caso. Uno de los mecanismos de [9] tiene el conjunto de compradores B como el conjunto X para el mecanismo X-externo y el otro tiene el conjunto de vendedores S como el conjunto X para el mecanismo X-externo. Un modelo similar es el modelo de mercados distribuidos espacialmente (SDM) [3] en el que hay un grafo que impone relaciones en el costo. Problema B.3. Mercados distribuidos espacialmente: existe un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene asociado un costo que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Los bordes no son estratégicos, pero todos los jugadores son estratégicos. [3] define un mecanismo equilibrado en presupuesto para este caso. Nuestro artículo mejora el resultado de [3]. Otro modelo de gráfica es el modelo definido en [6]. Problema B.4. Redes de intercambio: Dado un grafo y compradores y vendedores que se encuentran en los nodos del grafo. Todo comercio debe pasar a través de un comerciante. En este caso, los conjuntos de adquisiciones tienen la forma (comprador, vendedor, comerciante) donde los posibles conjuntos de esta forma están definidos por un gráfico. El modelo de cadena de suministro [2, 4] puede ser visto como una generalización de [6] en la que los conjuntos de adquisición consisten en la forma (productor, consumidor, comerciante1, . . . , comerciantek). También es posible aleatorizar la reducción de los conjuntos de adquisición para lograr un presupuesto esperado de cero similar a [13], los detalles son obvios y se omiten. Problema B.5. Cadena de suministro: Hay un conjunto D de agentes y un conjunto G de bienes y un grafo G = (V, E) que define posibles relaciones comerciales. Los agentes pueden requerir una entrada de múltiples cantidades de bienes para producir un solo bien. El jugador tipo productor puede producir bienes de la nada, el consumidor tiene una valoración y es necesaria toda una cadena de intermediarios para crear un conjunto de adquisiciones viable. [2, 4] consideran una tecnología de fabricación única en la que el grafo que define las posibles relaciones es un árbol. Todos los problemas anteriores son dominios de clase de adquisiciones. También consideramos varios problemas que no son dominios de la clase de adquisiciones y, en general, las cuestiones de equilibrio presupuestario se han dejado como problemas abiertos. Un problema abierto planteado en [3] es el modelo SDM en el que los bordes son estratégicos. Problema B.6. Mercados distribuidos espacialmente con bordes estratégicos: hay un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene un costo asociado que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Cada comprador, vendedor y intermediario tiene un valor para el intercambio, es decir, todas las entidades son estratégicas. [2, 4] dejó abierta la cuestión de los mecanismos equilibrados en presupuesto para cadenas de suministro donde no hay una tecnología de fabricación única. Es fácil ver que este problema no pertenece al ámbito de la clase de adquisiciones. Otro problema interesante son las redes de transporte. Problema B.7. Redes de transporte: Un grafo G = (V, E) donde las aristas son jugadores estratégicos con costos y el objetivo es encontrar una ruta de transporte de costo mínimo entre un par de nodos privilegiados Fuente y Objetivo ∈ V. Se demostró en [1] que la asignación eficiente puede tener un déficit presupuestario que es lineal en el número de jugadores. Claramente, este problema no es un dominio de clase de adquisiciones y dejó abierta la pregunta de un mecanismo de presupuesto equilibrado. Otro mecanismo de dominio no basado en la clase de adquisiciones es la subasta combinatoria de doble cara (CA) con jugadores de valor único. Problema B.8. Subasta combinatoria de doble cara (CA) con jugadores de valor único: Existe un conjunto S de vendedores, cada uno vendiendo un solo bien. También existe un conjunto B de compradores, cada uno interesado en paquetes de 2S18. Hay dos variantes de este problema. En el caso de un comprador enfocado, cada comprador tiene un valor positivo para un solo subconjunto, mientras que en el caso de múltiples intereses, cada comprador puede tener varios paquetes con valoración positiva, pero todos los valores son iguales. En ambos casos asumimos disponibilidad gratuita para que todos los paquetes que contienen el paquete deseado tengan el mismo valor para el comprador. También consideramos problemas que no pertenecen a dominios de clase. Problema B.9. Subasta combinatoria de doble cara (CA) con jugadores generales multi-mentales: igual que B.8 pero cada comprador puede tener múltiples paquetes con valoración positiva que no necesariamente son iguales. Abusamos de la notación e identificamos al vendedor con el bien. Comparando diferentes opciones de X, la elección de X puede tener un gran impacto en el bienestar (y los ingresos) del mecanismo reducido y, por lo tanto, surge la pregunta de cómo se debería elegir el conjunto X. Dado que se requiere el mecanismo X-externo para mantener la CI claramente, la elección de X no puede depender del valor de los jugadores, de lo contrario el mecanismo reducido no será veraz. En esta sección motivamos la elección de conjuntos X pequeños para dominios de clase de adquisiciones y damos intuición de que también podría ser el caso para algunos otros dominios. Comenzamos ilustrando el efecto del conjunto X sobre el bienestar y los ingresos en la subasta de doble cara con el problema de <br>bienes homogéneos</br> B.1. Se pueden construir ejemplos similares para los otros problemas definidos en B. El siguiente ejemplo muestra un efecto en el bienestar. Ejemplo C.1. Hay dos compradores y dos vendedores y dos conjuntos no intersectantes (incomparables) X = {compradores} e Y = {vendedores}. Si los valores de los compradores son 101, 100 y los vendedores son 150, 1, entonces el mecanismo externo X generará una ganancia del comercio de 0 y el mecanismo externo Y generará una ganancia del comercio de 100. Por el contrario, si los valores de los compradores son 100, 1 y los de los vendedores son 2, 3, el mecanismo externo X generará una ganancia comercial de 98 y el mecanismo externo Y generará una ganancia comercial de cero. El ejemplo muestra claramente que la diferencia entre el mecanismo X-externo y el mecanismo Y-externo es ilimitada, aunque como se muestra arriba, la fracción que cada uno de ellos reduce puede ser limitada y, por lo tanto, la proporción multiplicativa entre ellos puede ser limitada (como función del número de operaciones). En el lado de los ingresos ni siquiera podemos establecer un límite para la proporción, como se ve en el siguiente ejemplo: Ejemplo C.2. Considera k compradores con un valor de 100 y k+1 vendedores con un valor de 1. Si X = {compradores} entonces no es necesario reducir ningún intercambio y todos los compradores reciben el bien y pagan 1. k + 1 de los vendedores venden y cada uno recibe 1. Esto produce un ingreso neto de cero. Si Y = {vendedores} entonces se debe reducir un intercambio. Esto significa que todos los compradores pagan 100 mientras que todos los vendedores siguen recibiendo 1. La ganancia total es entonces de 99k. Del mismo modo, se puede construir un ejemplo que genere ingresos mucho más altos para el mecanismo externo X en comparación con el mecanismo externo Y. Los ejemplos anteriores se refieren a los conjuntos X e Y, los cuales no se intersectan y son incomparables. El siguiente teorema compara los mecanismos externos-X y externos-Y para dominios de clase de adquisiciones donde X es un subconjunto de Y. Teorema C.1. Para los dominios de clase de adquisiciones, si X ⊂ Y y para cualquier s ∈ S, s ∩ X ∩ Y = ∅ entonces: 1. La eficiencia del mecanismo externo X en GTR-1 (y por lo tanto GTR-2) es al menos igual a la del mecanismo externo Y. Cualquier jugador ganador que gane tanto en los mecanismos X-externo como en el Y-externo no paga menos en el Y-externo que en el X-externo y, por lo tanto, la proporción de presupuesto a bienestar no es peor en el Y-externo que en el X-externo. Prueba. 1. Para cualquier función de división D, si hay un conjunto de adquisición sj que se reduce en el mecanismo externo X, hay dos posibles razones: (a) sj carece de competencia externa en el mecanismo externo X. En este caso, sj carece de competencia externa en el mecanismo interno. (b) sj tiene todas las competencias externas requeridas en X-externo. En este caso, sj tiene todas las competencias internas requeridas en Y -externas según el lema 3.1, pero podría carecer de algunas competencias externas para sj ∪ {Y \\ X} y verse reducido, 2. Esto se deduce del hecho de que para cualquier orden D, cualquier conjunto de adquisiciones s que se reduce en el mecanismo externo X también se reduce en el mecanismo externo Y. Por lo tanto, el valor crítico no es menor en el mecanismo Yexterno que en el mecanismo Xexterno. Observación C.1. Para cualquier par de conjuntos X, Y, es fácil construir un ejemplo en el que los mecanismos externos de X y Y reduzcan los mismos conjuntos de adquisición, por lo que la desigualdad es débil. El Teorema C.1 muestra una desigualdad en el bienestar, así como en los pagos, pero es fácil construir un ejemplo en el que los ingresos pueden aumentar para X en comparación con Y, así como lo contrario. Esto sugiere que en general queremos que X sea lo más pequeño posible, aunque en algunos dominios no es posible comparar diferentes X. ",
            "candidates": [],
            "error": [
                [
                    ""
                ]
            ]
        },
        "spatially distributed market": {
            "translated_key": "mercado distribuido espacialmente",
            "is_in_text": true,
            "original_annotated_sentences": [
                "Generalized Trade Reduction Mechanisms Mira Gonen Electrical Engineering Dept.",
                "Tel Aviv University Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo!",
                "Research Yahoo!",
                "Sunnyvale, CA 94089 gonenr@yahoo-inc.com Elan Pavlov Media Lab MIT Cambridge MA, 02149 elan@mit.edu ABSTRACT When designing a mechanism there are several desirable properties to maintain such as incentive compatibility (IC), individual rationality (IR), and budget balance (BB).",
                "It is well known [15] that it is impossible for a mechanism to maximize social welfare whilst also being IR, IC, and BB.",
                "There have been several attempts to circumvent [15] by trading welfare for BB, e.g., in domains such as double-sided auctions[13], distributed markets[3] and supply chain problems[2, 4].",
                "In this paper we provide a procedure called a Generalized Trade Reduction (GTR) for single-value players, which given an IR and IC mechanism, outputs a mechanism which is IR, IC and BB with a loss of welfare.",
                "We bound the welfare achieved by our procedure for a wide range of domains.",
                "In particular, our results improve on existing solutions for problems such as double sided markets with homogenous goods, distributed markets and several kinds of supply chains.",
                "Furthermore, our solution provides budget balanced mechanisms for several open problems such as combinatorial double-sided auctions and distributed markets with strategic transportation edges.",
                "Categories and Subject Descriptors J.4 [Social and Behavioral Sciences]: Economics; K.4.4 [Electronic Commerce]: Payment scheme General Terms Algorithms, Design, Economics, Theory 1.",
                "INTRODUCTION When designing a mechanism there are several key properties that are desirable to maintain.",
                "Some of the more important ones are individual rationality (IR) - to make it worthwhile for all players to participate, incentive compatibility (IC) - to give incentive to players to report their true value to the mechanism and budget balance (BB) - not to run the mechanism on a loss.",
                "In many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.",
                "However, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.",
                "Of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.",
                "To maintain the BB property in an IR and IC mechanism it is necessary to compromise on the optimality of the social welfare. 1.1 Related Work and Specific Solutions There have been several attempts to design budget balanced mechanisms for particular domains2 .",
                "For instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]). [13] developed a mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is IR, IC, and BB while retaining most of the social welfare.",
                "In the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation. [16, 9, 3] present mechanisms that approximate the social welfare while achieving an IR, IC and BB mechanism.",
                "For supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of IR, IC, and BB.",
                "Despite the works discussed above, the question of how to design a general mechanism that achieves IR, IC, and BB independently of the problem domain remains open.",
                "Furthermore, there are several domains where the question of how to design an IR, IC and BB mechanism which approx1 Social Welfare is also referred to as efficiency in the economics literature. 2 A brief reminder of all of the problems used in this paper can be found in Appendix B 20 imates the social welfare remains an open problem.",
                "For example, in the important domain of combinatorial doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.",
                "Another interesting example is the open question left by [3]:How can one bound the loss in social welfare that is needed to achieve budget balance in an IR and IC distributed market where the transportation edges are strategic.",
                "Naturally an answer to the BB distributed market with strategic edges has vast practical implications, for example to transportation networks. 1.2 Our Contribution In this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.",
                "The solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism for single-valued players and outputs an IR, IC and BB mechanism.",
                "The output mechanism may suffer some welfare loss as a tradeoff of achieving BB.",
                "There are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.",
                "Nevertheless for a wide class of problems we are able to bound the loss in welfare.",
                "A particularly interesting case is one in which the input mechanism is an efficient allocation.",
                "In addition to unifying many of the BB problems under a single solution concept, the GTR procedure improves on existing results and solves several open problems in the literature.",
                "The existing solutions our GTR procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].",
                "For the homogeneous doublesided auctions the GTR solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.",
                "For the distributed markets [3] and the supply chain [2, 4] the GTR solution procedure improves on the welfare losses bound, i.e., allows one to achieve an IR, IC and BB mechanism with smaller loss on the social welfare.",
                "Recently we also learned that the GTR procedure allows one to turn the model newly presented [6] into a BB mechanism.",
                "The open problems that are answered by GTR are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size of the trading group i.e., a buyer and its bundle goods sellers, combinatorial double-sided auctions with bounded number of possible trading groups.",
                "In addition to the main contribution described above, this paper also defines an important classification of problem domains.",
                "We define class based domain and procurement class based domains.",
                "The above definitions build on the different competition powers of players in a mechanisms called internal and external competition.",
                "Most of the studied problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 2.",
                "PRELIMINARIES 2.1 The Model In this paper we design a method which given any IR and IC mechanism outputs a mechanism that maintains the IC and IR properties while achieving BB.",
                "For some classes of mechanisms we bound the competitive approximation of welfare.",
                "In our model there are N players divided into sets of trade.",
                "The sets of trade are called procurement sets and are defined (following [2]) as follows: Definition 2.1.",
                "A procurement set s is the smallest set of players that is required for trade to occur.",
                "For example, in a double-sided auction, a procurement set is a pair consisting of a buyer and a seller.",
                "In a combinatorial double-sided auction a procurement set can consist of a buyer and several sellers.",
                "We mark the set of all procurement sets as S and assume that any allocation is a disjoint union of procurement sets.",
                "Each player i, 1 ≤ i ≤ n, assigns a real value vi(s) to each possible procurement set s ∈ S. Namely, vi(s) is the valuation of player i on procurement set s. We assume that for each player i vi(s) is is private value and that i is a single value player, meaning that if vi(sj) > 0 then for every other sk, k = j, either vi(sk) = vi(sj) or vi(sk) = 0.",
                "For the ease of notation we will mark by vi the value of player i for any procurement set s such that vi(s) > 0.",
                "The set Vi ⊆ R is the set of all possible valuations vi.",
                "The set of all possible valuations of all the players is denoted by V = V1 × ... × Vn.",
                "Let v−i = (v1, ..., vi−1, vi+1, ..., vn) be the vector of valuations of all the players besides player i, and let V−i be the set of all possible vectors v−i.",
                "We denote by W(s) the value of a procurement set s ∈ S such that W(s) = i∈s vi(s) + F(s), where F is some function that assigns a constant to procurement sets.",
                "For example, F can be a (non-strategic) transportation cost in a distributed market problem.",
                "Let the size of a procurement set s be denoted as |s|.",
                "It is assumed that any allocation is a disjoint union of procurement sets and therefore one can say that an allocation partitions the players into two sets; a set of players that trade and a set of players that do not trade.",
                "The paper denotes by O the set of possible partitions of an allocation A into procurement sets.",
                "The value W(A) of an allocation A is the sum of the values of its most efficient partition to procurement sets, that is W(A) = maxS∈O s∈S W(s).",
                "This means that W(A) = i∈A vi +maxS∈O s∈S F(s).",
                "In the case where F is identically zero, then W(A) = i∈A vi.",
                "An optimal partition S∗ (A) is a partition that maximizes the above sum for an allocation A.",
                "Let the value of A be W(S∗ (A)) (note that the value can depend on F).",
                "We say that the allocation A is efficient if there is no other allocation with a higher value.",
                "The efficiency of the allocation ˆA is W ( ˆA) W (A) , where A is a maximal valued allocation.",
                "We assume w.l.o.g. that there are no two allocations with the same value3 .",
                "A mechanism M defines an allocation and payment rules, M = (R, P).",
                "A payment rule P decides is payment pi where P is a function P : V → RN .",
                "We work with mechanisms 3 Ties can be broken using the identities of the players. 21 in which players are required to report their values.",
                "An example of such a mechanism is the VCG mechanism [17, 8, 10].",
                "The reported value bi ∈ Vi of player i is called a bid and might be different from his private value vi.",
                "Let b ∈ V be the bids of all players.",
                "An allocation rule R decides the allocation according to the reported values b ∈ V .",
                "We make the standard assumption that players have quasi-linear utility so that when player i trades and pays pi then his utility is ui(vi, b−i) = vi − pi, ui : V ⇒ R. We also assume that players are rational utility maximizers.",
                "Mechanism M is Budget Balanced (BB) if i∈N pi ≥ 0 for any bids b ∈ V .",
                "M is Incentive-Compatible (IC) in dominant strategies if for any player i, value vi and any b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) meaning that for any player i, bidding vi maximized is utility over all possible bids of the other players.",
                "M is (ex-post) Individually Rational (IR) if for any player i value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0 meaning that for all possible bids of the other players, players i utility is non-negative.",
                "Note that since our mechanisms are normalized IR, if a player does not trade then the player pays 0 and has utility 0.",
                "Our algorithm presented in the next section employs a commonly used payment scheme, the critical value payment scheme.",
                "Definition 2.2.",
                "Critical value payment scheme: A mechanism uses a critical value payment scheme if given an allocation it charges players the minimum value they need to report to the mechanism in order to remain allocated.",
                "We denote by Ci the critical value price computed for player i. 2.2 Competitions and Domains In this paper we present two generalized trade reduction algorithms.",
                "The two algorithms are such that given an IR and IC mechanism M that solves a problem in some domain (different domains are formally defined below), turns M into IR, IC and BB mechanism.",
                "The algorithm presented finds procurement sets and removes them in iterations until the right conditions are fulfilled and the mechanism M is turned into a BB one.",
                "The right conditions that need to be met are conditions of competition among the players in the given problem.",
                "The following definitions leads us to the competition conditions we are looking for.",
                "Definition 2.3.",
                "For any player i ∈ N, we say that the set Ri ⊆ N \\ {i} is a replacing set of i, if for any procurement set s ∈ S such that i ∈ s and Ri∩s = ∅, s\\{i}∪Ri ∈ S. For example, in a (homogeneous) double-sided auction (see problem B.1) the replacement set for any buyer is simply any other buyer.",
                "In an auction for transportation slots (see problem B.7), the replacement set of an edge is a path between the endpoints of the edge.",
                "Note that a set can replace a single player.",
                "Furthermore, this relationship is transitive but not necessarily symmetric.",
                "If i is a replacement set for j, it is not necessarily true that j is a replacement set for i.",
                "Definition 2.4.",
                "For any allocation A, procurement set s ⊆ A, and any i ∈ s we say Ri(A, s) is an internal competition for i with respect to A and s, if Ri(A, s) ⊆ N \\ A is a replacement set for i s.t.",
                "T = s \\ {i} ∪ Ri(A, s) ∈ S and W(T) ≥ 0.",
                "Definition 2.5.",
                "For any allocation A and procurement set s ⊆ A and any i ∈ s we say that Ei(A, s) is an external competition for i with respect to A and s, if Ei(A, s) ⊆ N \\ A is a set s.t., T = {i} ∪ Ei(A, s) ∈ S and W(T) ≥ 0.",
                "We will assume, without loss of generality, that there are no ties between the values of any allocations, and in particular there are no ties between values of procurement sets.",
                "In case of ties, these can be broken by using the identities of the players4 .",
                "So for any allocation A, procurement set s and player i with external competition Ei(A, s), there exists exactly one set representing the maximally valued external competition.",
                "Definition 2.6.",
                "A set X ⊂ N is closed under replacement if ∀i ∈ X then Ri ⊂ X The following defines the required competition needed to maintain IC, IR and BB.",
                "The set X5 denotes this competition and is closed under replacement.",
                "In the remainder of the paper we will assume that all of our sets which define competition in a mechanism are closed under replacement.",
                "Definition 2.7.",
                "Let X ⊂ N be a set that is closed under replacement, we say that the mechanism is an X-external mechanism, if 1.",
                "Each player i ∈ X has an external competition. 2.",
                "Each player i /∈ X has an internal competition. 3.",
                "For all players i1, . . . , it ∈ s \\ X there exist Ri1 (A, s), . . . , Rit (A, s) such that for every iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. for every procurement set s ∈ S it holds that s∩X = ∅ For general domains the choice of X can be crucial.",
                "In fact even for the same domain the welfare (and revenue) can vary widely depending on how X is defined.",
                "In appendix C we give an example where two possible choices of X yield greatly different results.",
                "Although we show that X should be chosen as small as possible we do not give any characterization of the optimality of X and this is an important open problem.",
                "Our two generalized trade reduction algorithms will ensure that for any allocation we have the desired types of competition.",
                "So given a mechanism M that is IC and IR with allocation A, the goal of the algorithms is to turn M into an X-external mechanism.",
                "The two generalized trade reduction algorithms utilize a dividing function D which divides allocation A into disjoint procurement sets.",
                "The algorithms order the procurements sets defined by D in order of increasing value.",
                "For any procurement set there is a desired type of competition that depends only on the players who compose the procurement set.",
                "The generalized trade reduction algorithms go over the procurement sets in order (from the smallest to the largest) and remove any procurement set that does not have the desired competition when the set is reached.",
                "The reduction of procurement sets will also be referred to as a trade reduction.",
                "Formally, 4 The details of how to break ties in allocations are standard and are omitted. 5 We present some tradeoffs between the different possible sets in Appendix C. 22 Definition 2.8.",
                "D is a dividing function if for any allocation A and the players value vector v, D divides the allocation into disjoint procurements sets s1, . . . , sk s.t. ∪sj = A and for any player i with value vi if i ∈ sj1 and t ∈ sj2 s.t. j1 ≥ j2 then for any value vi > vi of player i and division by D into s1, . . . , sk such that i ∈ sj1 and t ∈ sj2 then j1 > j2.",
                "The two generalized trade reduction algorithms presented accept problems in different domains.",
                "The formal domain definitions follow: Definition 2.9.",
                "A domain is a class domain if for all i ∈ N and all replacement sets of i, Ri, |Ri| = 1 and for all i, j, i = j if j = Ri then i = Rj.",
                "Intuitively, this means that replacement sets are of size 1 and the replacing relationship is symmetric.",
                "We define the class of a player i as the set of the players replacement sets and denote the class of player i by [i].",
                "It is important to note that since replacement sets are transitive relations and since class domains also impose symmetric relations on the replacement sets, the class of a player i, [i] is actually an equivalence class for i.",
                "Definition 2.10.",
                "A domain is a procurement-class domain if the domain is a class-based domain and if for any player i such that there exists two procurement sets s1, s2 (not necessarily trading simultaneously in any allocation) such that i ∈ s1 and i ∈ s2 then there exists a bijection f : s1 → s2 such that for any j ∈ s1, f(j) is a replacement set for j in s2.",
                "Example 2.1.",
                "A (homogeneous) double-sided auction (see problem B.1) is a procurement-class based domain.",
                "For the (homogeneous) double-sided auction each procurement set consists of a buyer and a seller.",
                "The double sided combinatorial auction consisting of a single multi-minded buyer and multiple sellers of heterogenous goods (see problem B.9), is a class based domain (as we have a single buyer) but not a procurement-class based domain.",
                "In this case, the buyer is a class and each set of sellers of the same good is a class.",
                "However, for a buyer there is no bijection between the different the procurement sets of the bundles of goods the buyer is interested in.",
                "The spatial-distributed market with strategic edges (see problem B.6) is not a class-based domain (and therefore not a procurement-class domain).",
                "For example, even for a fixed buyer and a fixed seller there are two different procurement sets consisting of different paths between the buyers and sellers.",
                "The next sections present two algorithms GTR-1 and GTR2.",
                "GTR-1 accepts problems in procurement-class based domains, its properties are proved with a general dividing function D. The GTR-2 algorithm accepts problems in any domain.",
                "We prove the GTR-2s properties with specific dividing function D0.",
                "The function will be defined in section 4.",
                "Since the dividing function can have a large practical impact on welfare (and revenue) the generality of GTR − 1 (albeit in special domains) can be an important practical consideration. 3.",
                "PROCUREMENT-CLASS BASED DOMAINS This section focuses on the problems that are procurementclass based domains.",
                "For this domain, we present an algorithm called GTR-1, which given a mechanism that is IR and IC outputs a mechanism with reduced welfare which is IR, IC and budget balanced.",
                "Although procurement class domains appear to be a relatively restricted model, in fact many domains studied in the literature are procurement class domains.",
                "Example 3.1.",
                "The following domains are procurement class domains: • double-sided auctions with homogenous goods [13](problem B.1).",
                "In this domain there are two classes.",
                "The class of buyers and the class of sellers.",
                "Each procurement set consists of a single buyer and a single seller.",
                "Since every pair of (buyer, seller) is a valid procurement set (albeit possible with negative value) this is a procurement class domain.",
                "In this domain the constant assigned to the procurement sets is F = 0. • Spatially distributed markets with non strategic edges [3, 9](problem B.3).",
                "Like the double-sided auctions with homogenous goods, their are two classes in the domain.",
                "Class of buyers and class of sellers with procurement sets consisting of single buyer and single seller.",
                "The sellers and buyers are nodes in a graph and the function F is the distance of two nodes (length of the edge) which represent transport costs.",
                "These costs differ between different (buyer, seller) pairs. • Supply chains [2, 4] (problem B.5).",
                "The assumption of unique manufactory by [2, 4] can best be understood as turning general supply chains (which need not be a procurement class domain) into a procurement class domain. • Single minded combinatorial auctions [11] (problem B.8).",
                "In this context each seller sells a single good and each buyer wants a set of goods.",
                "The classes are the sets of sellers selling the same good as well as the buyers who desire the same bundle.",
                "A procurement set consists of a single buyer as well as a set of sellers who can satisfy that buyer.",
                "A definition of the mechanism follows: Definition 3.1.",
                "The GTR-1 algorithm - given a mechanism M, a set X ⊂ N which is closed under replacement, a dividing function D, and allocation A, GTR-1 operates as follows: 1.",
                "Use the dividing function D to divide A into procurement sets s1, . . . , sk ∈ S. 2.",
                "Order the procurement sets by increasing value. 3.",
                "For each sj, starting from the lowest value procurement set: If for every i ∈ sj ∩ X there is external competition and every i ∈ sj \\ X there is internal competition then 23 keep sj.",
                "Otherwise reduce the trade sj (i.e., remove every i ∈ sj from the allocation).6 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged nothing.",
                "Remark 3.1.",
                "The special case where X = N has received attention under different guises in various special cases, such as ([13, 3, 4]). 3.1 The GTR-1 Produces an X-external Mechanism that is IR, IC and BB In this subsection we prove that the GTR-1 algorithm produces an X-external mechanism that is IR, IC and BB.",
                "To prove GTR-1s properties we make use of theorem 3.1 which is a well known result (e.g., [14, 11]).",
                "Theorem 3.1 characterizes necessary and sufficient conditions for a mechanism for single value players to be IR and IC: Definition 3.2.",
                "An allocation rule R is Bid Monotonic if for any player i, any bids of the other players b−i ∈ V−i, and any two possible bids of i, ˆbi > bi, if i trades under the allocation rule R when reporting bi, then i also trades when reporting ˆbi.",
                "Intuitively, a bid monotonic allocation rule ensures that no trading player can become a non-trading player by improving his bid.",
                "Theorem 3.1.",
                "An IR mechanism M with allocation rule R is IC if and only if R is Bid Monotonic and each trading player i pays his critical value Ci (pi = Ci).",
                "So for normalized IR7 and IC mechanisms, the allocation rule which is bid monotonic uniquely defines the critical values for all the players and thus the payments.",
                "Observation 3.1.",
                "Let M1 and M2 be two IR and IC mechanisms with the same allocation rule.",
                "Then M1 and M2 must have the same payment rule.",
                "In the following we prove that the X-external GTR-1 algorithm produces a IR, IC and BB mechanism, but first a subsidiary lemma is shown.",
                "Lemma 3.1.",
                "For procurement class domains if there exists a procurement set sj s.t. i ∈ sj and i has external competition than all t = i t ∈ sj, t has internal competition.",
                "Proof.",
                "This follows from the definition of procurement class domains.",
                "Suppose that i has external competition, then there exists a set of players Ei(A, s) such that {i} ∪ Ei(A, s) ∈ S. Let us denote by sj = {i} ∪ Ei(A, s).",
                "Since the domain is a procurement-class domain there exists a bijection function f between sj and sj. f defines the required internal competition.",
                "We start by proving IR and IC: 6 Although the definition of an X-external mechanism requires that X intersects every procurement set, this is not strictly necessary.",
                "It is possible to define an X that does not intersect every possible procurement set.",
                "In this case, any procurement set s ∈ S s.t. s ∩ X = ∅ will be reduced. 7 Note that this is not true for mechanisms which are not normalized e.g., [7, 12] Lemma 3.2.",
                "For any X, the X-external mechanism with a critical value pricing scheme produced by the GTR-1 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By the definition of a critical value pricing scheme 2.2 and the GTR-1 algorithm 3.1 it follows that for every trading player i, vi ≥ 0.",
                "By the GTR-1 algorithm 3.1 nontrading players i have a payment of zero.",
                "Thus for every player i, value vi, and any b−i ∈ V−i ui(vi, b−i) ≥ 0, meaning the produced X-external mechanism is IR.",
                "As the X-external GTR-1 algorithm is IR and applies the critical value payment scheme according to theorem 3.1, in order to show that the produced X-external mechanism with the critical value payment scheme is IC, it remains to show that the produced mechanisms allocation rule is bid monotonic.",
                "Since GTR-1 orders the procurement sets according to increasing value, if player i increases his bid from bi to bi > bi then for any division function D of procurement sets, the procurement set s containing i always appears later with the bid bi than with the bid bi.",
                "So the likelihood of competition can only increase if i appears in later procurement sets.",
                "This follows as GTR-1 can reduce more of the lower value procurement sets which will result in more non-trading players.",
                "Therefore if s has the required competition and is not reduced with bi then it will have the required competition with bi and will not be reduced.",
                "Finally we prove BB: Lemma 3.3.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is a BB mechanism.",
                "Proof.",
                "In order to show that the produced mechanism is BB we show that each procurement set that is not reduced has a positive budget (i.e., the sum of payments is positive).",
                "Let s ∈ S be a procurement set that is not reduced.",
                "Let i ∈ s ∩ X then according to the definition of X-external definition 2.7 and the GTR-1 algorithm 3.1 i has an external competition.",
                "Assume w.l.o.g.8 that i is the only player with external competition in s and all other players j = i, j ∈ s have internal competition.",
                "Let A be the allocation after the procurement sets reduction by the GTR-1 algorithm.",
                "According to the definition of external competition 2.5, there exists a set Ei(A, s) ⊂ N \\A such that i ∪ Ei(A, s) ∈ S and W(i ∪ Ei(A, s)) ≥ 0.",
                "Since W(i∪Ei(A, s)) = vi +W(Ei(A, s)) then vi ≥ −W(Ei(A, s)).",
                "By the critical value pricing scheme definition 2.2 it means that if player i bids any less than −W(Ei(A, s)) he will not have external competition and therefore will be removed from trading.",
                "Thus i pays no less than min −W(Ei(A, s)).",
                "Since all other players j ∈ s have internal competition their critical price can not be less than their maximal value internal competitor (set) i.e., max W(Rj(A, s)).",
                "If any player j ∈ s bids less then its maximal internal competitor (set) then he will not be in s but his maximal internal competitor (set) will.",
                "As a possible Ei(A, s) is ∪j∈sRj(A, s) one can bound the maximal value of is external competition W(Ei(A, s)) by the sum of the maximal values of the rest of the players in s 8 since the domain is a procurement class domain we can use lemma 3.1 24 internal competition i.e., j∈s max W(Rj(A, s)).",
                "Therefore min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))).",
                "As the F function is defined to be a positive constant we get that W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 and thus s is at least budget balanced.",
                "As each procurement set that is not reduced is at least budget balanced, it follows that the produced X-external mechanism is BB.",
                "The above two lemmas yield the following theorem: Theorem 3.2.",
                "For procurement class domains for any X, the X-external mechanism with critical value pricing scheme produced by the GTR-1 algorithm is an IR, IC and BB mechanism.",
                "Remark 3.2.",
                "The proof of the theorem yields bounds on the payments any player has to make to the mechanism. 4.",
                "NON PROCUREMENT-CLASS BASED DOMAINS The main reason that GTR-1 works for the procurementclass domains is that each players possibility of being reduced is monotonic.",
                "By the definition of a dividing function if a player i ∈ sj increases his value, i can only appear in later procurement set sj and hence has a higher chance of having the desired competition.",
                "Therefore, the chance of i lacking the requisite competition is decreased.",
                "Since the domain is a procurement class domain, all other players t = i,t ∈ sj are also more likely to have competition since members of their class continue to appear before i and hence the likelihood that i will be reduced is decreased.",
                "Since by theorem 3.1 a necessary and sufficient condition for the mechanism to be IC is monotonicity.",
                "GTR-1 is IC for procurement-class domains.",
                "However, for domains that are not procurement class domains this does not suffice even if the domain is a class based domain.",
                "Although, all members of sj continue to have the required competition it is possible that there are members of sj who do not have analogues in sj who do not have competition.",
                "Hence i might be reduced after increasing his value which by lemma 3.1 means the mechanism is not IC.",
                "We therefore define a different algorithm for non procurement class domains.",
                "Our modified algorithm requires a special dividing function in order to maintain the IC property.",
                "Although our restriction to this special dividing function appears stringent, the dividing function we use is a generalization of the way that procurement sets are chosen in procurement-class based domains e.g., [13, 16, 9, 3, 2, 4].",
                "For ease of presentation in this section we assume that F = 0.",
                "The dividing function for general domains is defined by looking at all possible dividing functions.",
                "For each dividing function Di and each set of bids, the GTR-1 algorithm yields a welfare that is a function of the bids and the dividing function9 .",
                "We denote by D0 the dividing function that divides the players into sets s.t. the welfare that GTR-1 finds is maximal10 . 9 Note that for any particular Di this might not be IC as GTR-1 is IC only for procurement class domains and not for general domains 10 In Appendix A we show how to calculate D0 in polynoFormally, Let D be the set of all dividing functions D. Denote the welfare achieved by the mechanism produced by GTR1 when using dividing function D and a set of bids ¯b by GTR1(D,¯b).",
                "Denote by D0(¯b) = argmaxD∈D(GTR1(D,¯b)).",
                "For ease of presentation we denote D0(¯b) by D0 when the dependence on b is clear from the context.",
                "Remark 4.1.",
                "D0 is an element of the set of dividing functions, and therefore is a dividing function.",
                "The second generalized trade reduction algorithm GTR-2 follows.",
                "Definition 4.1.",
                "The GTR-2 algorithm - Given mechanism M, allocation A, and a set X ⊂ N closed under replacement, GTR-2 operates as follows: 1.",
                "Calculate the dividing function D0 as defined above. 2.",
                "Use the dividing function D0 to divide A into procurement sets s1, . . . , sk ∈ S. 3.",
                "For each sj, starting from the lowest value procurement set, do the following: If for i ∈ sj ∩ X there is an external competition and there is at most one i ∈ sj that does not have an internal competition then keep sj.",
                "Otherwise, reduce the trade sj. 4.",
                "All trading players are charged the critical value for trading.",
                "All non trading players are charged zero. 11 We will prove that the mechanism produced by GTR-2 maintains the desired properties of IR, IC, and BB.",
                "The following lemma shows that the GTR-2 produced mechanism is IR, and IC.",
                "Lemma 4.1.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR and IC mechanism.",
                "Proof.",
                "By theorem 3.1 it suffices to prove that the produced mechanism by the GTR-2 algorithm is bid monotonic for every player i.",
                "Suppose that i was not reduced when bidding bi we need to prove that i will not be reduced when bidding bi > bi.",
                "Denote by D1 = D0(b) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by D1 = D0(bi, b−i) the dividing function used by GTR-2 when i reported bi and the rest of the players reported b−i.",
                "Denote by ¯D1(b) a maximal dividing function that results in GTR-1 reducing i when reporting bi.",
                "Assume to the contrary that GTR-2 reduced i from the trade when i reported bi then GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b).",
                "Since D1 ∈ D it follows that GTR1(D1, b) > GTR1( ¯D1, b) and therefore GTR1(D1, b) > GTR1(D1, (bi, b−i)).",
                "However according to the definition D1 ∈ D, GTR-2 should not have reduced i mial time for procurement-class domains.",
                "Calculating D0 in polynomial time for general domains is an important open problem. 11 In the full version GTR-2 is extend such that it suffices that there exists some time in which the third step holds.",
                "That extension is omitted from current version due to lack of space. 25 with the dividing function D1 and gained a greater welfare than GTR1(D1, b).",
                "Thus a contradiction arises and and GTR-2 does not reduce i from the trade when i reports bi > bi.",
                "Lemma 4.2.",
                "For any X, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is a BB mechanism.",
                "Proof.",
                "This proof is similar to the proof of lemma 3.3.",
                "Combining the two lemmas above we get: Theorem 4.1.",
                "For any X closed under replacement, the X-external mechanism with critical value pricing scheme produced by the GTR-2 algorithm is an IR, IC and BB mechanism.",
                "Appendix A shows how to calculate D0 for procurement class domains in polynomial time, it is not generally known how to easily calculate D0.",
                "Creating a general method for calculating the needed dividing function in polynomial time remains as an open question. 4.1 Bounding the Welfare for ProcurementClass Based Domains and other General Domains Cases This section shows that in addition to producing a mechanism with the desired properties, GTR-2 also produces a mechanism that maintains high welfare.",
                "Since the GTR-2 algorithm finds a budget balanced mechanism in arbitrary domains we are unable to bound the welfare for general cases.",
                "However we can bound the welfare for procurementclass based domain and a wide variety of cases in general domains which includes many cases previously studied.",
                "Definition 4.2.",
                "Denote freqk([i], sj) to indicate that a class [i] appears in a procurement set sj, k times and there are k members of [i] in sj.",
                "Definition 4.3.",
                "Denote by freqk([i], S) the maximal k s.t. there are k members of [i] in sj.",
                "I.e., freqk([i], S) = maxsj ∈S freqk([i], sj).",
                "Let the set of equivalence classes in procurement class based domain mechanism be ec and |ec| be the number of those equivalence classes.",
                "Using the definition of class appearance frequency we can bound the welfare achieved by the GTR-2 produced mechanism for procurement class domains12 : Lemma 4.3.",
                "For procurement class domains with F = 0, the number of procurement sets that are reduced by GTR-213 is at most |ec| times the maximal frequency of each class.",
                "Formally, the maximal number of procurement sets that is reduced is O( [i]∈ec freqk([i], S)) Proof.",
                "Let D be an arbitrary dividing function.",
                "We note that by definition any procurement set sj will not be reduced if every i ∈ sj has both internal competition and external competition. 12 The welfare achieved by GTR-1 can also be bounded for the cases presented in this section.",
                "However, we focus on GTR-2 as it always achieves better welfare. 13 or GTR-1 Every procurement set s that is reduced has at least one player i who has no competition.",
                "Once s is reduced all players of [i] have internal competition.",
                "So by reducing the number of equivalence classes |ec| procurement sets we cover all the remaining players with internal competition.",
                "If the maximal frequency of every equivalence classes was one then each remaining player t in procurement set sk also have external competition as all the internal competitors of players ¯t = t, ¯t ∈ sk are an external competition for t. If we have freqk([t], S) players from class [t] who were reduced then there is sufficient external competition for all players in sk.",
                "Therefore it suffices to reduce O( [i]∈ec freqk([i], S)) procurement sets in order to ensure that both the requisite internal and external competition exists.",
                "The next theorem follows as an immediate corollary for lemma 4.3: Theorem 4.2.",
                "Given procurement-class based domain mechanisms with H procurement sets, the efficiency is at least a 1 − O( O( [i]∈ec freqk([i],S)) H ) fraction of the optimal welfare.",
                "The following corollaries are direct results of theorem 4.2.",
                "All of these corollaries either improve prior results or achieve the same welfare as prior results.",
                "Corollary 4.1.",
                "Using GTR-2 for homogenous doublesided auctions (problem B.1) at most14 one procurement set must be reduced.",
                "Similarly, for spatially distributed markets without strategic edges (problem B.3) using GTR-2 improves the result of [3] where a minimum cycle including a buyer and seller is reduced.",
                "Corollary 4.2.",
                "Using GTR-2 for spatially distributed markets without strategic edges at most one cycle per connected component15 will be reduced.",
                "For supply chains (problem B.5) using GTR-2 improves the result of [2, 4] similar to corollary 4.2.",
                "Corollary 4.3.",
                "Using GTR-2 for supply chains at most one cycle per connected component16 will be reduced.",
                "The following corollary solves the open problem at [3].",
                "Corollary 4.4.",
                "For distributed markets on n nodes with strategic agents and paths of bounded length K (problem B.6) it suffices to remove at most K ∗ n procurements sets.",
                "Proof.",
                "Sketch: These will create at least K spanning trees, hence we can disjointly cover every remaining procurement set.",
                "This improves the naive algorithm of reducing n2 procurement sets.",
                "We provide results for two special cases of double sided CA with single value players (problem B.8). 14 It is possible that no reductions will be made, for instance when there is a non-trading player who is the requisite external competition. 15 Similar to the double-sided auctions, sometimes there will be enough competition without a reduction. 16 Similar to double-sided auctions, sometimes there will be enough competition without a reduction. 26 Corollary 4.5. if there are at most M different kinds of procurement sets it suffices to remove M procurement sets.",
                "Corollary 4.6.",
                "If there are K types of goods and each procurement set consists of at most one of each type it suffices to remove at most K procurement sets. 5.",
                "CONCLUSIONS AND FUTURE WORK In this paper we presented a general solution procedure called the Generalized Trade Reduction (GTR).",
                "GTR accepts an IR and IC mechanism as an input and outputs mechanisms that are IR, IC and BB.",
                "The output mechanisms achieves welfare that is close to optimal for a wide range of domains.",
                "The GTR procedure improves on existing results such as homogeneous double-sided auctions, distributed markets, and supply chains, and solves several open problems such as distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided auctions with bounded size procurements sets, and combinatorial doublesided auctions with a bounded number of procurement sets.",
                "The question of the quality of welfare approximation both in general and in class domains that are not procurement class domains is an important and interesting open question.",
                "We also leave open the question of upper bounds for the quality of approximation of welfare.",
                "Although we know that it is impossible to have IR, IC and BB in an efficient mechanism it would be interesting to have an upper bound on the approximation to welfare achievable in an IR, IC and BB mechanism.",
                "The GTR procedure outputs a mechanism which depends on a set X ⊂ N. Another interesting question is what the quality of approximation is when X is chosen randomly from N before valuations are declared.",
                "Acknowledgements The authors wish to thank Eva Tardos et al for sharing their results with us.",
                "The authors also wish to express their gratitude to the helpful comments of the anonymous reviewers. 6.",
                "REFERENCES [1] A. Archer and E. Tardos.",
                "Frugal path mechanisms.",
                "Symposium on Discrete Algorithms, Proceedings of the thirteenth annual ACM-SIAM symposium on Discrete algorithms,2002. [2] M. Babaioff and N. Nisan.",
                "Concurrent Auctions Across the Supply Chain.",
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a <br>spatially distributed market</br>.",
                "In proceedings of the 5th ACM Conference on Electronic Commerce,2004. [4] M. Babaioff and W. E. Walsh.",
                "Incentive-Compatible, Budget-Balanced, yet Highly Efficient Auctions for Supply Chain Formation.",
                "In proceedings of Fourth ACM Conference on Electronic Commerce,2003. [5] Y. Bartal, R. Gonen and P. La Mura.",
                "Negotiation-range mechanisms: exploring the limits of truthful efficient markets.",
                "EC 04: Proceedings of the 5th ACM conference on Electronic commerce, 2004. [6] Blume L, Easley D., Kleinberg J. and Tardos E. Trading Networks with Price-Setting Agents.",
                "In proceedings of the 8th ACM conference on Electronic commerce,2007. [7] Cavallo R. Optimal decision-making with minimal waste: Strategyproof redistribution of VCG payments.",
                "In Proc. 5th Int.",
                "Conf. on Auton.",
                "Agents and Multi-Agent Systems (AAMAS06). [8] E. H. Clarke Multipart Pricing of Public Goods.",
                "In journal Public Choice 1971, vol. 2, pp. 17-33. [9] Chu L. Y. and Shen Zuo-Jun M. Agent Competition Double Auction Mechanism.",
                "Management Science,vol 52(8),2006. [10] T. Groves Incentives in teams.",
                "In journal Econometrica 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan, and Y. Shoham.",
                "Truth Revelation in Approximately Efficient Combinatorial Auctions.",
                "In Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Elicitation of Honest Preferences for the Assignment of Individuals to Positions.",
                "Journal of political econ,1983. [13] McAfee R. P. A Dominant Strategy Double Auction.",
                "Journal of Economic Theory,vol 56, 434-450, 1992. [14] A. Mualem, and N. Nisan.",
                "Truthful Approximation Mechanisms for Restricted Combinatorial Auctions.",
                "Proceeding of AAAI 2002. [15] Myerson R. B. and Satterthwaite M. A.",
                "Efficient Mechanisms for Bilateral Trading.",
                "Journal of Economic Theory,vol 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. and Zhang R. Q.",
                "Efficient Auction Mechanisms for Supply Chain Procurement.",
                "School of Operations Research and Industrial Engineering, Cornell University,2001. [17] W. Vickrey Counterspeculation, Auctions and Competitive Sealed Tenders.",
                "In Journal of Finance 1961, vol. 16, pp. 8-37.",
                "APPENDIX A.",
                "CALCULATING THE OPTIMAL DIVIDING FUNCTION IN PROCUREMENT CLASS DOMAINS IN POLYNOMIAL TIME In this section we show how to calculate the optimal dividing function for procurement class domains in polynomial time.",
                "We first define a special dividing function D0 which is easy to calculate: We define the dividing function D0 recursively as follows: At stage j, D0 divides the trading players into two sets Aj and Aj s.t. • Aj is a procurement set • Aj can be divided into a disjoint union of procurement sets. • Aj has minimal value from all possible such partitions.",
                "Define sj = Aj and recursively invoke D0 and Aj until Aj = ∅.",
                "We now prove that D0 is the required dividing function.",
                "Lemma A.1.",
                "For procurement class domains D0 = D0.",
                "Proof.",
                "Since the domain is a procurement class domain, for every reduced procurement set the set of players which achieve competition (either internal or external) is fixed. 27 Therefore, the number of procurement sets which are reduced is independent of the dividing function D. Since the goal is to optimize welfare by reducing procurement sets with the least value we can optimize welfare.",
                "This is achieved by D0.",
                "B.",
                "PROBLEMS AND EXAMPLES For completeness we present in this section the formal definitions of the problems that we use to illustrate our mechanism.",
                "The first problem that we define is the double-sided auction with homogeneous goods.",
                "Problem B.1.",
                "Double-sided auction with homogeneous goods: There are m sellers each of which have a single good (all goods are identical) and n buyers each of which are interested in receiving a good.",
                "We denote the set of sellers by S and the set of buyers by B.",
                "Every player i ∈ S ∪ B (both buyers and sellers) has a value vi for the good.",
                "In this model a procurement set consists of a single buyer and a single seller, i.e., |s| = 2.",
                "The value of a procurement set is W(s) = vj − vi where j ∈ B and i ∈ S, i.e., the gain from trade.",
                "If procurement sets are created by matching the highest value buyer to the lowest value seller then [13]s deterministic trade reduction mechanism17 reduces the lowest value procurement set.",
                "A related model is the pair related costs [9] model.",
                "Problem B.2.",
                "The pair related costs: A double-sided auction B.1 in which every pair of players i ∈ S and j ∈ B has a related cost F(i, j) ≥ 0 in order to trade.",
                "F(i, j) is a friction cost which should be minimized in order to maximize welfare. [9] defines two budget-balanced mechanisms for this case.",
                "One of [9]s mechanisms has the set of buyers B as the X set for the X-external mechanism and the other has the set of sellers S as the X set for the X-external mechanism.",
                "A similar model is the spatially distributed markets (SDM) model [3] in which there is a graph imposing relationships on the cost.",
                "Problem B.3.",
                "Spatially distributed markets: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "The edges are non strategic but all players are strategic. [3] defines a budget balanced mechanism for this case.",
                "Our paper improves on [3] result.",
                "Another graph model is the model defined in [6].",
                "Problem B.4.",
                "Trading Networks: Given a graph and buyers and sellers who are situated on nodes of the graph.",
                "All trade must pass through a trader.",
                "In this case procurement sets are of the form (buyer, seller, trader) where the possible sets of this form are defined by a graph.",
                "The supply chain model [2, 4] can be seen as a generalization of [6] in which procurement sets consist of the form (producer, consumer, trader1, . . . , traderk). 17 It is also possible to randomize the reduction of procurements sets so as to achieve an expected budget of zero similar to [13], details are obvious and omitted.",
                "Problem B.5.",
                "Supply Chain: There is a set D of agents and a set G of goods and a graph G = (V, E) which defines possible trading relationships.",
                "Agents can require an input of multiple quantities of goods in order to output a single good.",
                "The producer type of player can produce goods out of nothing, the consumer has a valuation and an entire chain of interim traders is necessary to create a viable procurement set. [2, 4] consider unique manufacturing technology in which the graph defining possible relationships is a tree.",
                "All of the above problems are procurement-class domains.",
                "We also consider several problems which are not procurement class domains and generally the questions of budget balance have been left as open problems.",
                "An open problem raised in [3] is the SDM model in which edges are strategic.",
                "Problem B.6.",
                "Spatially distributed markets with strategic edges: there is a graph G = (V, E) such that each v ∈ V has a set of sellers Sv and a set of buyers Bv .",
                "Each edge e ∈ E has an associated cost which is the cost to transport a single unit of good along the edge.",
                "Each buyer,seller and edge has a value for the trade, i.e., all entities are strategic. [2, 4] left open the question of budget balanced mechanisms for supply chains where there is no unique manufacturing technology.",
                "It is easy to see that this problem is not a procurement class domain.",
                "Another interesting problem is transport networks.",
                "Problem B.7.",
                "Transport networks: A graph G = (V, E) where the edges are strategic players with costs and the goal is to find a minimum cost transportation route between a pair of privileged nodes Source, Target ∈ V .",
                "It was shown in [1] that the efficient allocation can have a budget deficit that is linear in the number of players.",
                "Clearly, this problem is not a procurement class domain and [1] left the question of a budget balanced mechanism open.",
                "Another non procurement-class based domain mechanism is the double-sided combinatorial auction (CA) with singlevalue players.",
                "Problem B.8.",
                "Double-sided combinatorial auction (CA) with single value players: There exists a set S of sellers each selling a single good.",
                "There also exists a set B of buyers each interested in bundles of 2S18 .",
                "There are two variants of this problem.",
                "In the single minded case each buyer has a positive value for only a single subset whereas in the multi minded case each buyer can have multiple bundles with positive valuation but all of the values are the same.",
                "In both cases we assume free disposal so that all bundles containing the desired bundle have the same value for the buyer.",
                "We also consider problems that are non class domains.",
                "Problem B.9.",
                "Double-sided combinatorial auction (CA) with general multi-minded players: same as B.8 but each buyer can have multiple bundles with positive valuation which are not necessarily the same. 18 We abuse notation and identify the seller with the good. 28 C. COMPARING DIFFERENT CHOICES OF X The choice of X can have a large impact on the welfare (and revenue) of the reduced mechanism and therefore the question arises of how one should choose the set X.",
                "As the X-external mechanism is required to maintain IC clearly the choice of X can not depend on the value of the players as otherwise the reduced mechanism will not be truthful.",
                "In this section we motivate the choice of small X sets for procurement class domains and give intuition that it may also be the case for some other domains.",
                "We start by illustrating the effect of the set X over the welfare and revenue in the double-sided auction with homogeneous goods problem B.1.",
                "Similar examples can be constructed for the other problems defined is B.",
                "The following example shows an effect on the welfare.",
                "Example C.1.",
                "There are two buyers and two sellers and two non intersecting (incomparable) sets X = {buyers} and Y = {sellers}.",
                "If the values of the buyers are 101, 100 and the sellers are 150, 1 then the X-external mechanism will yield a gain from trade of 0 and the Y -external mechanism will yield a gain from trade of 100.",
                "Conversely, if the buyers values are 100, 1 and the sellers are 2, 3 the X-external mechanism will yield a gain from trade of 98 and and the Y -external mechanism will yield a gain from trade of zero.",
                "The example clearly shows that the difference between the X-external and the Y -external mechanism is unbounded although as shown above the fraction each of them reduces can be bound and therefore the multiplicative ratio between them can be bound (as a function of the number of trades).",
                "On the revenue side we can not even bound the ratio as seen from the following example: Example C.2.",
                "Consider k buyers with value 100 and k+ 1 sellers with value 1.",
                "If X = {buyers} then there is no need to reduce any trade and all of the buyer receive the good and pay 1. k + 1 of the sellers sell and each of them receive 1.",
                "This yields a net revenue of zero.",
                "If Y = {sellers} then one must reduce a trade!",
                "This means that all of the buyers pay 100 while all of the sellers still receive 1. the revenue is then 99k.",
                "Similarly, an example can be constructed that yields much higher revenue for the X-external mechanism as compared to the Y -external mechanism.",
                "The above examples refer to sets X and Y which do not intersect and are incomparable.",
                "The following theorem compares the X-external and Y -external mechanisms for procurement class domains where X is a subset of Y .",
                "Theorem C.1.",
                "For procurement class domains, if X ⊂ Y and for any s ∈ S, s ∩ X ∩ Y = ∅ then: 1.",
                "The efficiency of the X external mechanism in GTR-1 (and hence GTR-2) is at least that of the Y -external mechanism. 2.",
                "Any winning player that wins in both the X-external and Y -external mechanisms pays no less in the Y -external than in the X-external and therefore the ratio of budget to welfare is no worse in the Y external then the X-external.",
                "Proof. 1.",
                "For any dividing function D if there is a procurement set sj that is reduced in the X-external mechanism there are two possible reasons: (a) sj lacks external competition in the X-external mechanism.",
                "In this case sj lacks external competition in the internal mechanism. (b) sj has all required external competitions in X-external.",
                "In this case sj has all required internal competitions in Y -external by lemma 3.1 but might lack some external competition for sj ∪ {Y \\ X} and be reduced, 2.",
                "This follows from the fact that for any ordering D any procurement set s that is reduced in the X-external mechanism is also reduced in the Y -external mechanism.",
                "Therefore, the critical value is no less in the Yexternal mechanism than the X-external mechanism.",
                "Remark C.1.",
                "For any two sets X, Y it is easy to build an example in which the X-external and Y -external mechanisms reduce the same procurement sets so the inequality is weak.",
                "Theorem C.1 shows an inequality in welfare as well as for payments but it is easy to construct an example in which the revenue can increase for X as compared to Y as well as the opposite.",
                "This suggests that in general we want X to be as small as possible although in some domains it is not possible to compare different Xs. 29"
            ],
            "original_annotated_samples": [
                "Journal of Artificial Intelligence Research,2004. [3] Babaioff M., Nisan N. and Pavlov E. Mechanisms for a <br>spatially distributed market</br>."
            ],
            "translated_annotated_samples": [
                "Revista de Investigación en Inteligencia Artificial, 2004. [3] Babaioff M., Nisan N. y Pavlov E. Mecanismos para un Mercado Distribuido Espacialmente."
            ],
            "translated_text": "Mecanismos Generalizados de Reducción del Comercio, Mira Gonen, Departamento de Ingeniería Eléctrica. Universidad de Tel Aviv Ramat Aviv 69978, Israel gonenmir@post.tau.ac.il Rica Gonen∗ Yahoo! Investigar Yahoo! Al diseñar un mecanismo, hay varias propiedades deseables que se deben mantener, como la compatibilidad de incentivos (IC), la racionalidad individual (IR) y el equilibrio presupuestario (BB). Es bien sabido [15] que es imposible para un mecanismo maximizar el bienestar social y al mismo tiempo ser IR, IC y BB. Ha habido varios intentos de eludir [15] mediante el intercambio de bienestar por BB, por ejemplo, en dominios como subastas de doble cara[13], mercados distribuidos[3] y problemas de cadena de suministro[2, 4]. En este documento proporcionamos un procedimiento llamado Reducción Comercial Generalizada (GTR) para jugadores de valor único, el cual, dado un mecanismo IR e IC, produce un mecanismo que es IR, IC y BB con una pérdida de bienestar. Limitamos el bienestar logrado por nuestro procedimiento para una amplia gama de dominios. En particular, nuestros resultados mejoran las soluciones existentes para problemas como mercados de doble cara con bienes homogéneos, mercados distribuidos y varios tipos de cadenas de suministro. Además, nuestra solución proporciona mecanismos equilibrados presupuestarios para varios problemas abiertos como subastas combinatorias de doble cara y mercados distribuidos con aristas estratégicas de transporte. Categorías y Descriptores de Asignaturas J.4 [Ciencias Sociales y del Comportamiento]: Economía; K.4.4 [Comercio Electrónico]: Esquema de pago Términos Generales Algoritmos, Diseño, Economía, Teoría 1. INTRODUCCIÓN Al diseñar un mecanismo, hay varias propiedades clave que son deseables de mantener. Algunos de los más importantes son la racionalidad individual (RI) - para que sea valioso para todos los jugadores participar, la compatibilidad de incentivos (CI) - para dar incentivos a los jugadores para informar su valor real al mecanismo y el equilibrio presupuestario (EP) - para no operar el mecanismo con pérdidas. En muchos de los mecanismos, la función objetivo que un diseñador de mecanismos intenta maximizar es el bienestar social, es decir, el beneficio total para la sociedad. Sin embargo, es bien sabido a partir de [15] que cualquier mecanismo que maximice el bienestar social mientras mantiene la racionalidad individual y la compatibilidad de incentivos, genera un déficit por necesidad, es decir, no está equilibrado presupuestariamente. Por supuesto, para muchas aplicaciones de importancia práctica nos falta la voluntad y la capacidad para permitir que el mecanismo opere con déficit, por lo tanto, es necesario equilibrar los pagos realizados por el mecanismo. Para mantener la propiedad de equilibrio presupuestario en un mecanismo de IR e IC, es necesario comprometer la optimalidad del bienestar social. 1.1 Trabajo Relacionado y Soluciones Específicas Ha habido varios intentos de diseñar mecanismos equilibrados presupuestariamente para dominios particulares. Por ejemplo, para subastas de doble cara donde tanto los compradores como los vendedores son estratégicos y los bienes son homogéneos [13] (o cuando los bienes son heterogéneos [5]). [13] desarrolló un mecanismo que, dadas las valoraciones de los compradores y vendedores, produce una asignación (que son los jugadores comerciales) y un emparejamiento entre compradores y vendedores de manera que el mecanismo sea IR, IC y BB, manteniendo la mayor parte del bienestar social. En el problema de los mercados distribuidos (y problemas relacionados) los bienes son transportados entre ubicaciones geográficas incurriendo en un costo constante por transporte. [16, 9, 3] presentan mecanismos que aproximan el bienestar social mientras logran un mecanismo IR, IC y BB. Para problemas de cadena de suministro, [2, 4] limita la pérdida de bienestar social que es necesario infligir en el mecanismo para lograr la combinación deseada de IR, IC y BB. A pesar de los trabajos discutidos anteriormente, la pregunta de cómo diseñar un mecanismo general que logre IR, IC y BB de forma independiente al dominio del problema sigue abierta. Además, existen varios ámbitos donde la pregunta de cómo diseñar un mecanismo de IR, IC y BB que aproxime el Bienestar Social también se conoce como eficiencia en la literatura económica. Un breve recordatorio de todos los problemas utilizados en este documento se puede encontrar en el Apéndice B, y el problema abierto de estimar el bienestar social sigue sin resolverse. Por ejemplo, en el importante ámbito de las subastas combinatorias de doble cara no se conoce ningún resultado que limite la pérdida de bienestar social necesaria para lograr el equilibrio presupuestario. Otro ejemplo interesante es la pregunta abierta dejada por [3]: ¿Cómo se puede limitar la pérdida en el bienestar social que se necesita para lograr el equilibrio presupuestario en un mercado distribuido IR e IC donde los bordes de transporte son estratégicos? Naturalmente, una respuesta al mercado distribuido de BB con ventajas estratégicas tiene vastas implicaciones prácticas, por ejemplo para las redes de transporte. 1.2 Nuestra Contribución En este documento unificamos todos los problemas discutidos anteriormente (tanto los resueltos como los pendientes) en un procedimiento de concepto de solución único. El procedimiento de solución llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo IR e IC para jugadores de valor único y produce un mecanismo IR, IC y BB. El mecanismo de salida puede sufrir cierta pérdida de bienestar como un compromiso para lograr BB. Hay instancias del problema en las que no es necesario incurrir en pérdida de bienestar, pero según [15], hay instancias del problema en las que sí hay pérdida de bienestar. Sin embargo, para una amplia clase de problemas podemos limitar la pérdida en el bienestar. Un caso particularmente interesante es aquel en el que el mecanismo de entrada es una asignación eficiente. Además de unificar muchos de los problemas de BB bajo un único concepto de solución, el procedimiento GTR mejora los resultados existentes y resuelve varios problemas abiertos en la literatura. Las soluciones existentes que mejora nuestro procedimiento GTR son subastas homogéneas de doble cara, mercados distribuidos y cadena de suministro. Para las subastas homogéneas de doble cara, el procedimiento de solución GTR mejora la solución bien conocida [13] al permitir en algunos casos una reducción de no comercio en absoluto. Para los mercados distribuidos [3] y la cadena de suministro [2, 4], el procedimiento de solución GTR mejora el límite de pérdidas de bienestar, es decir, permite lograr un mecanismo IR, IC y BB con una pérdida menor en el bienestar social. Recientemente también aprendimos que el procedimiento GTR permite convertir el modelo recién presentado [6] en un mecanismo BB. Los problemas abiertos que son respondidos por GTR son mercados distribuidos con bordes de transporte estratégico y caminos acotados, subastas combinatorias de doble cara con tamaño acotado del grupo de intercambio, es decir, un comprador y sus vendedores de bienes en paquete, subastas combinatorias de doble cara con número acotado de posibles grupos de intercambio. Además de la contribución principal descrita anteriormente, este artículo también define una clasificación importante de dominios de problemas. Definimos dominios basados en clase y dominios basados en clase de adquisiciones. Las definiciones anteriores se basan en las diferentes capacidades de competencia de los jugadores en un mecanismo llamado competencia interna y externa. La mayoría de los dominios de problemas estudiados pertenecen a la clase de dominios de adquisiciones más restrictiva y creemos que el entorno más general inspirará más investigación. 2. PRELIMINARES 2.1 El Modelo En este documento diseñamos un método que, dado cualquier mecanismo de IR e IC, produce un mecanismo que mantiene las propiedades de IC e IR al mismo tiempo que logra BB. Para algunas clases de mecanismos limitamos la aproximación competitiva del bienestar. En nuestro modelo hay N jugadores divididos en conjuntos de intercambio. Los conjuntos de comercio se llaman conjuntos de adquisición y se definen (siguiendo [2]) de la siguiente manera: Definición 2.1. Un conjunto de adquisiciones s es el conjunto más pequeño de jugadores que se requiere para que ocurra el intercambio. Por ejemplo, en una subasta de doble cara, un conjunto de adquisición es un par que consiste en un comprador y un vendedor. En una subasta combinatoria de doble cara, un conjunto de adquisiciones puede consistir en un comprador y varios vendedores. Marcamos el conjunto de todos los conjuntos de adquisiciones como S y asumimos que cualquier asignación es una unión disjunta de conjuntos de adquisiciones. Cada jugador i, 1 ≤ i ≤ n, asigna un valor real vi(s) a cada posible conjunto de adquisición s ∈ S. Es decir, vi(s) es la valoración del jugador i sobre el conjunto de adquisición s. Suponemos que para cada jugador i, vi(s) es un valor privado y que i es un jugador de valor único, lo que significa que si vi(sj) > 0 entonces para cada otro sk, k = j, o bien vi(sk) = vi(sj) o vi(sk) = 0. Para facilitar la notación, marcaremos con vi el valor del jugador i para cualquier conjunto de adquisición s tal que vi(s) > 0. El conjunto Vi ⊆ R es el conjunto de todas las posibles valoraciones vi. El conjunto de todas las posibles valoraciones de todos los jugadores se denota por V = V1 × ... × Vn. Sea v−i = (v1, ..., vi−1, vi+1, ..., vn) el vector de valoraciones de todos los jugadores excepto el jugador i, y sea V−i el conjunto de todos los posibles vectores v−i. Denotamos por W(s) el valor de un conjunto de adquisiciones s ∈ S tal que W(s) = i∈s vi(s) + F(s), donde F es alguna función que asigna una constante a conjuntos de adquisiciones. Por ejemplo, F puede ser un costo de transporte (no estratégico) en un problema de mercado distribuido. Que el tamaño de un conjunto de adquisiciones s se denote como |s|. Se asume que cualquier asignación es una unión disjunta de conjuntos de adquisición y, por lo tanto, se puede decir que una asignación divide a los jugadores en dos conjuntos; un conjunto de jugadores que comercian y un conjunto de jugadores que no comercian. El documento denota por O al conjunto de posibles particiones de una asignación A en conjuntos de adquisición. El valor W(A) de una asignación A es la suma de los valores de su partición más eficiente en conjuntos de adquisición, es decir, W(A) = maxS∈O s∈S W(s). Esto significa que W(A) = i∈A vi + maxS∈O s∈S F(s). En el caso en que F sea identicamente cero, entonces W(A) = i∈A vi. Una partición óptima S∗(A) es una partición que maximiza la suma anterior para una asignación A. Que el valor de A sea W(S∗ (A)) (nota que el valor puede depender de F). Decimos que la asignación A es eficiente si no hay otra asignación con un valor más alto. La eficiencia de la asignación ˆA es W ( ˆA) / W (A), donde A es una asignación de valor máximo. Suponemos sin pérdida de generalidad que no hay dos asignaciones con el mismo valor. Un mecanismo M define unas reglas de asignación y pago, M = (R, P). Una regla de pago P decide el pago pi donde P es una función P: V → RN. Trabajamos con mecanismos en los que se pueden romper los lazos utilizando las identidades de los jugadores, en los cuales se requiere que los jugadores informen sus valores. Un ejemplo de dicho mecanismo es el mecanismo VCG [17, 8, 10]. El valor reportado bi ∈ Vi del jugador i se llama una oferta y puede ser diferente de su valor privado vi. Sea b ∈ V las ofertas de todos los jugadores. Una regla de asignación R decide la asignación de acuerdo a los valores reportados b ∈ V. Hacemos la suposición estándar de que los jugadores tienen una utilidad cuasi-lineal, de modo que cuando el jugador i intercambia y paga pi, su utilidad es ui(vi, b−i) = vi − pi, ui : V ⇒ R. También asumimos que los jugadores son maximizadores racionales de utilidad. El mecanismo M es Balanceado en Presupuesto (BB) si i∈N pi ≥ 0 para cualquier oferta b ∈ V. M es Incentive-Compatible (IC) en estrategias dominantes si para cualquier jugador i, valor vi y cualquier b−i ∈ V−i, ui(vi, b−i) ≥ ui(b) lo que significa que para cualquier jugador i, ofertar vi maximiza su utilidad sobre todas las posibles ofertas de los otros jugadores. M es (ex-post) Individualmente Racional (IR) si para cualquier jugador i con valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que para todas las posibles ofertas de los otros jugadores, la utilidad del jugador i es no negativa. Ten en cuenta que, dado que nuestros mecanismos están normalizados IR, si un jugador no realiza intercambios, entonces el jugador paga 0 y tiene una utilidad de 0. Nuestro algoritmo presentado en la siguiente sección utiliza un esquema de pago comúnmente utilizado, el esquema de pago de valor crítico. Definición 2.2. Esquema de pago de valor crítico: Un mecanismo utiliza un esquema de pago de valor crítico si, dada una asignación, cobra a los jugadores el valor mínimo que necesitan reportar al mecanismo para permanecer asignados. Denotamos por Ci el valor crítico de precio calculado para el jugador i. 2.2 Competencias y Dominios En este documento presentamos dos algoritmos generalizados de reducción de comercio. Los dos algoritmos son tales que, dado un mecanismo IR e IC M que resuelve un problema en algún dominio (diferentes dominios se definen formalmente a continuación), convierte a M en un mecanismo IR, IC y BB. El algoritmo presentado encuentra conjuntos de adquisiciones y los elimina en iteraciones hasta que se cumplen las condiciones correctas y el mecanismo M se convierte en uno de tipo BB. Las condiciones adecuadas que deben cumplirse son las condiciones de competencia entre los jugadores en el problema dado. Las siguientes definiciones nos llevan a las condiciones de competencia que estamos buscando. Definición 2.3. Para cualquier jugador i ∈ N, decimos que el conjunto Ri ⊆ N \\ {i} es un conjunto de reemplazo de i, si para cualquier conjunto de adquisición s ∈ S tal que i ∈ s y Ri∩s = ∅, s\\{i}∪Ri ∈ S. Por ejemplo, en una subasta (homogénea) de doble cara (ver problema B.1), el conjunto de reemplazo para cualquier comprador es simplemente cualquier otro comprador. En una subasta de espacios de transporte (ver problema B.7), el conjunto de reemplazo de un borde es un camino entre los extremos del borde. Ten en cuenta que un conjunto puede reemplazar a un solo jugador. Además, esta relación es transitiva pero no necesariamente simétrica. Si i es un conjunto de reemplazo para j, no necesariamente es cierto que j sea un conjunto de reemplazo para i. Definición 2.4. Para cualquier asignación A, conjunto de adquisiciones s ⊆ A, y cualquier i ∈ s, decimos que Ri(A, s) es una competencia interna para i con respecto a A y s, si Ri(A, s) ⊆ N \\ A es un conjunto de reemplazo para i. T = s \\ {i} ∪ Ri(A, s) ∈ S y W(T) ≥ 0. Definición 2.5. Para cualquier asignación A y conjunto de adquisición s ⊆ A y cualquier i ∈ s, decimos que Ei(A, s) es una competencia externa para i con respecto a A y s, si Ei(A, s) ⊆ N \\ A es un conjunto tal que T = {i} ∪ Ei(A, s) ∈ S y W(T) ≥ 0. Supondremos, sin pérdida de generalidad, que no hay empates entre los valores de ninguna asignación, y en particular no hay empates entre los valores de los conjuntos de adquisiciones. En caso de empate, este puede romperse utilizando las identidades de los jugadores. Entonces, para cualquier asignación A, conjunto de adquisiciones s y jugador i con competencia externa Ei(A, s), existe exactamente un conjunto que representa la competencia externa de mayor valor. Definición 2.6. Un conjunto X ⊂ N es cerrado bajo reemplazo si ∀i ∈ X entonces Ri ⊂ X. Lo siguiente define la competencia requerida necesaria para mantener IC, IR y BB. El conjunto X5 denota esta competencia y está cerrado bajo reemplazo. En el resto del documento asumiremos que todos nuestros conjuntos que definen la competencia en un mecanismo están cerrados bajo reemplazo. Definición 2.7. Sea X ⊂ N un conjunto que está cerrado bajo reemplazo, decimos que el mecanismo es un mecanismo X-externo, si 1. Cada jugador i ∈ X tiene una competencia externa. 2. Cada jugador i /∈ X tiene una competencia interna. 3. Para todos los jugadores i1, . . . , it ∈ s \\ X existen Ri1 (A, s), . . . , Rit (A, s) tales que para cada iz = iq, Riz (A, s) ∩ Riq (A, s) = ∅ 4. para cada conjunto de adquisiciones s ∈ S se cumple que s∩X = ∅ Para dominios generales, la elección de X puede ser crucial. De hecho, incluso para el mismo dominio, el bienestar (y los ingresos) pueden variar ampliamente dependiendo de cómo se defina X. En el apéndice C damos un ejemplo donde dos posibles elecciones de X producen resultados muy diferentes. Aunque demostramos que X debería ser elegido lo más pequeño posible, no proporcionamos ninguna caracterización de la optimalidad de X y este es un importante problema abierto. Nuestros dos algoritmos de reducción de comercio generalizados garantizarán que para cualquier asignación tengamos los tipos deseados de competencia. Dado un mecanismo M que es CI e IR con asignación A, el objetivo de los algoritmos es convertir a M en un mecanismo X-externo. Los dos algoritmos de reducción de comercio generalizados utilizan una función de división D que divide la asignación A en conjuntos de adquisición disjuntos. Los algoritmos ordenan los conjuntos de adquisiciones definidos por D en orden de valor creciente. Para cualquier conjunto de adquisiciones hay un tipo deseado de competencia que depende únicamente de los jugadores que componen el conjunto de adquisiciones. Los algoritmos de reducción de comercio generalizados recorren los conjuntos de adquisiciones en orden (del más pequeño al más grande) y eliminan cualquier conjunto de adquisiciones que no tenga la competencia deseada cuando se alcanza el conjunto. La reducción de los conjuntos de adquisiciones también se conocerá como reducción del comercio. Formalmente, los detalles sobre cómo resolver empates en las asignaciones son estándar y se omiten. Presentamos algunas compensaciones entre los diferentes conjuntos posibles en el Apéndice C. Definición 2.8. D es una función de división si para cualquier asignación A y el vector de valores de los jugadores v, D divide la asignación en conjuntos de adquisiciones disjuntos s1, . . . , sk de manera que ∪sj = A y para cualquier jugador i con valor vi si i ∈ sj1 y t ∈ sj2 tal que j1 ≥ j2 entonces para cualquier valor vi > vi del jugador i y división por D en s1, . . . , sk tal que i ∈ sj1 y t ∈ sj2 entonces j1 > j2. Los dos algoritmos de reducción de comercio generalizados presentados aceptan problemas en diferentes dominios. Las definiciones de dominio formal siguen: Definición 2.9. Un dominio es un dominio de clase si para todo i ∈ N y todos los conjuntos de reemplazo de i, Ri, |Ri| = 1 y para todo i, j, i = j si j = Ri entonces i = Rj. Intuitivamente, esto significa que los conjuntos de reemplazo son de tamaño 1 y la relación de reemplazo es simétrica. Definimos la clase de un jugador i como el conjunto de los conjuntos de reemplazo de los jugadores y denotamos la clase del jugador i por [i]. Es importante tener en cuenta que dado que los conjuntos de reemplazo son relaciones transitivas y dado que los dominios de clase también imponen relaciones simétricas en los conjuntos de reemplazo, la clase de un jugador i, [i] es en realidad una clase de equivalencia para i. Definición 2.10. Un dominio es un dominio de clase de adquisición si el dominio es un dominio basado en clases y si para cualquier jugador i tal que existan dos conjuntos de adquisición s1, s2 (no necesariamente intercambiando simultáneamente en ninguna asignación) tales que i ∈ s1 e i ∈ s2, entonces existe una biyección f: s1 → s2 tal que para cualquier j ∈ s1, f(j) es un conjunto de reemplazo para j en s2. Ejemplo 2.1. Una subasta (homogénea) de doble cara (ver problema B.1) es un dominio basado en la clase de adquisiciones. Para la subasta de doble cara (homogénea), cada conjunto de adquisición consiste en un comprador y un vendedor. La subasta combinatoria de doble cara que consiste en un único comprador con múltiples preferencias y múltiples vendedores de bienes heterogéneos (ver problema B.9), es un dominio basado en clases (ya que tenemos un único comprador) pero no es un dominio basado en clases de adquisiciones. En este caso, el comprador es una clase y cada conjunto de vendedores del mismo bien es una clase. Sin embargo, para un comprador no hay una biyección entre los diferentes conjuntos de adquisición de los paquetes de bienes en los que el comprador está interesado. El mercado distribuido espacialmente con bordes estratégicos (ver problema B.6) no es un dominio basado en clases (y por lo tanto no es un dominio de clase de adquisiciones). Por ejemplo, incluso para un comprador fijo y un vendedor fijo existen dos conjuntos de adquisición diferentes que consisten en diferentes rutas entre los compradores y vendedores. Las siguientes secciones presentan dos algoritmos GTR-1 y GTR-2. El algoritmo GTR-1 acepta problemas en dominios basados en la clase de adquisiciones, sus propiedades se demuestran con una función de división general D. El algoritmo GTR-2 acepta problemas en cualquier dominio. Demostramos las propiedades de GTR-2s con una función de división específica D0. La función será definida en la sección 4. Dado que la función de división puede tener un gran impacto práctico en el bienestar (y los ingresos), la generalidad de GTR − 1 (aunque sea en dominios especiales) puede ser una consideración práctica importante. 3. DOMINIOS BASADOS EN CLASES DE ADQUISICIÓN Esta sección se centra en los problemas que son dominios basados en clases de adquisición. Para este dominio, presentamos un algoritmo llamado GTR-1, que dado un mecanismo que es IR e IC, produce un mecanismo con bienestar reducido que es IR, IC y equilibrado presupuestariamente. Aunque los dominios de clase de adquisición parecen ser un modelo relativamente restringido, de hecho muchos de los dominios estudiados en la literatura son dominios de clase de adquisición. Ejemplo 3.1. Los siguientes dominios son dominios de clase de adquisiciones: • subastas de doble cara con bienes homogéneos [13] (problema B.1). En este dominio hay dos clases. La clase de compradores y la clase de vendedores. Cada conjunto de adquisiciones consta de un único comprador y un único vendedor. Dado que cada par de (comprador, vendedor) es un conjunto de adquisición válido (aunque posiblemente con valor negativo), este es un dominio de clase de adquisición. En este dominio, la constante asignada a los conjuntos de adquisición es F = 0. • Mercados distribuidos espacialmente con bordes no estratégicos [3, 9] (problema B.3). Al igual que las subastas de doble cara con bienes homogéneos, hay dos clases en el dominio. Clase de compradores y clase de vendedores con conjuntos de adquisición que consisten en un comprador y un vendedor. Los vendedores y compradores son nodos en un grafo y la función F es la distancia entre dos nodos (longitud de la arista) que representa los costos de transporte. Estos costos varían entre diferentes pares (comprador, vendedor). • Cadenas de suministro [2, 4] (problema B.5). La suposición de una manufactura única por [2, 4] se puede entender mejor como convertir las cadenas de suministro generales (que no necesariamente deben ser un dominio de clase de adquisiciones) en un dominio de clase de adquisiciones. • Subastas combinatorias de mente única [11] (problema B.8). En este contexto, cada vendedor vende un solo bien y cada comprador desea un conjunto de bienes. Las clases son conjuntos de vendedores que venden el mismo bien, así como los compradores que desean el mismo paquete. Un conjunto de adquisiciones consiste en un único comprador, así como un conjunto de vendedores que pueden satisfacer a ese comprador. Una definición del mecanismo sigue a continuación: Definición 3.1. El algoritmo GTR-1, dado un mecanismo M, un conjunto X ⊂ N que es cerrado bajo reemplazo, una función de división D y una asignación A, opera de la siguiente manera: 1. Utiliza la función de división D para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 2. Ordena los conjuntos de adquisición por valor creciente. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor: Si para cada i ∈ sj ∩ X hay competencia externa y para cada i ∈ sj \\ X hay competencia interna, entonces se conservan los 23 sj. De lo contrario, reduzca el intercambio sj (es decir, elimine cada i ∈ sj de la asignación). Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. A todos los jugadores no comerciales no se les cobra nada. Observación 3.1. El caso especial donde X = N ha recibido atención bajo diferentes formas en varios casos especiales, como ([13, 3, 4]). 3.1 El GTR-1 produce un mecanismo externo de X que es IR, IC y BB. En esta subsección demostramos que el algoritmo GTR-1 produce un mecanismo externo de X que es IR, IC y BB. Para demostrar las propiedades de GTR-1, hacemos uso del teorema 3.1, el cual es un resultado bien conocido (por ejemplo, [14, 11]). El Teorema 3.1 caracteriza las condiciones necesarias y suficientes para que un mecanismo para jugadores de valor único sea IR e IC: Definición 3.2. Una regla de asignación R es Bid Monotónica si para cualquier jugador i, cualquier oferta de los otros jugadores b−i ∈ V−i, y cualquier par de ofertas posibles de i, ˆbi > bi, si i negocia bajo la regla de asignación R al informar bi, entonces i también negocia al informar ˆbi. Intuitivamente, una regla de asignación monótona de oferta garantiza que ningún jugador comerciante pueda convertirse en un jugador no comerciante al mejorar su oferta. Teorema 3.1. Un mecanismo IR M con regla de asignación R es IC si y solo si R es Bid Monotónico y cada jugador comerciante i paga su valor crítico Ci (pi = Ci). Por lo tanto, para los mecanismos IR7 e IC normalizados, la regla de asignación que es bid monótona define de manera única los valores críticos para todos los jugadores y, por lo tanto, los pagos. Observación 3.1. Sean M1 y M2 dos mecanismos IR e IC con la misma regla de asignación. Entonces M1 y M2 deben tener la misma regla de pago. En lo siguiente demostramos que el algoritmo GTR-1 externo de X produce un mecanismo IR, IC y BB, pero primero se muestra un lema subsidiario. Lema 3.1. Para los dominios de clase de adquisiciones, si existe un conjunto de adquisiciones sj tal que i ∈ sj y i tiene competencia externa, entonces todos los t = i t ∈ sj, t tiene competencia interna. Prueba. Esto se deriva de la definición de los dominios de clase de adquisiciones. Supongamos que i tiene competencia externa, entonces existe un conjunto de jugadores Ei(A, s) tal que {i} ∪ Ei(A, s) ∈ S. Denotemos por sj = {i} ∪ Ei(A, s). Dado que el dominio es un dominio de clase de adquisiciones, existe una función biyectiva f entre sj y sj. f define la competencia interna requerida. Comenzamos demostrando IR e IC: Aunque la definición de un mecanismo externo X requiere que X intersecte cada conjunto de adquisiciones, esto no es estrictamente necesario. Es posible definir un X que no intersecte con cada conjunto de adquisiciones posible. En este caso, cualquier conjunto de adquisiciones s ∈ S tal que s ∩ X = ∅ se reducirá. Nótese que esto no es cierto para mecanismos que no están normalizados, por ejemplo, [7, 12] Lema 3.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR e IC. Prueba. Por la definición de un esquema de precios de valor crítico 2.2 y el algoritmo GTR-1 3.1 se sigue que para cada jugador comercial i, vi ≥ 0. Por el algoritmo GTR-1, 3.1 jugadores no comerciales tienen un pago de cero. Por lo tanto, para cada jugador i, valor vi, y cualquier b−i ∈ V−i ui(vi, b−i) ≥ 0, lo que significa que el mecanismo externo X producido es IR. Dado que el algoritmo X-external GTR-1 es IR y aplica el esquema de pago de valor crítico según el teorema 3.1, para demostrar que el mecanismo X-external producido con el esquema de pago de valor crítico es IC, queda por demostrar que la regla de asignación de mecanismos producida es bid-montónica. Dado que GTR-1 ordena los conjuntos de adquisición según el valor creciente, si el jugador i aumenta su oferta de bi a bi > bi, entonces para cualquier función de división D de conjuntos de adquisición, el conjunto de adquisición s que contiene a i siempre aparece más tarde con la oferta bi que con la oferta bi. Por lo tanto, la probabilidad de competencia solo puede aumentar si i aparece en conjuntos de adquisiciones posteriores. Esto se traduce en que GTR-1 puede reducir más de los conjuntos de adquisiciones de menor valor, lo que resultará en más jugadores no comerciales. Por lo tanto, si s tiene la competencia requerida y no se reduce con bi, entonces tendrá la competencia requerida con bi y no se reducirá. Finalmente demostramos BB: Lema 3.3. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo BB. Prueba. Para demostrar que el mecanismo producido es BB, mostramos que cada conjunto de adquisiciones que no está reducido tiene un presupuesto positivo (es decir, la suma de los pagos es positiva). Sea s ∈ S un conjunto de adquisiciones que no está reducido. Si i ∈ s ∩ X, entonces según la definición de la definición externa de X 2.7 y el algoritmo GTR-1 3.1, i tiene una competencia externa. Supongamos sin pérdida de generalidad que i es el único jugador con competencia externa en s y que todos los demás jugadores j = i, j ∈ s tienen competencia interna. Sea A la asignación después de la reducción de los conjuntos de adquisición por el algoritmo GTR-1. Según la definición de competencia externa 2.5, existe un conjunto Ei(A, s) ⊂ N \\A tal que i ∪ Ei(A, s) ∈ S y W(i ∪ Ei(A, s)) ≥ 0. Dado que W(i∪Ei(A, s)) = vi +W(Ei(A, s)), entonces vi ≥ −W(Ei(A, s)). Según la definición 2.2 del esquema de fijación de precios por valor crítico, esto significa que si el jugador i ofrece menos de −W(Ei(A, s)), no tendrá competencia externa y, por lo tanto, será eliminado del intercambio. Por lo tanto, pago no menos de min −W(Ei(A, s)). Dado que todos los demás jugadores j ∈ s tienen competencia interna, su precio crítico no puede ser menor que el valor máximo de su competidor interno (conjunto), es decir, max W(Rj(A, s)). Si algún jugador j ∈ s ofrece menos que su competidor interno máximo (conjunto), entonces él no estará en s pero su competidor interno máximo (conjunto) sí lo estará. Dado que un posible Ei(A, s) es ∪j∈sRj(A, s), se puede acotar el valor máximo de su competencia externa W(Ei(A, s)) por la suma de los valores máximos del resto de los jugadores en s 8, dado que el dominio es un dominio de clase de adquisiciones, podemos usar el lema 3.1 24 de competencia interna, es decir, j∈s max W(Rj(A, s)). Por lo tanto, min −W(Ei(A, s)) = −( j∈s max W(Rj(A, s))). Dado que la función F se define como una constante positiva, obtenemos que W(s) = min −W(Ei(A, s))+( j∈s max W(Rj(A, s)))+F(s) ≥ 0 y, por lo tanto, s es al menos equilibrado en términos presupuestarios. Dado que cada conjunto de adquisiciones que no se reduce está al menos equilibrado presupuestariamente, se deduce que el mecanismo externo X producido es BB. Los dos lemas anteriores producen el siguiente teorema: Teorema 3.2. Para los dominios de clase de adquisiciones para cualquier X, el mecanismo externo X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-1 es un mecanismo IR, IC y BB. Observación 3.2. La prueba del teorema proporciona límites sobre los pagos que cualquier jugador tiene que hacer al mecanismo. Los dominios no basados en la clase de adquisiciones. La razón principal por la que GTR-1 funciona para los dominios no basados en la clase de adquisiciones es que la posibilidad de reducción de cada jugador es monótona. Por la definición de una función de división, si un jugador i ∈ sj aumenta su valor, i solo puede aparecer en un conjunto de adquisiciones sj posterior y, por lo tanto, tiene una mayor probabilidad de tener la competencia deseada. Por lo tanto, la probabilidad de que i carezca de la competencia necesaria disminuye. Dado que el dominio es un dominio de clase de adquisiciones, es más probable que todos los demás jugadores t = i, t ∈ sj también tengan competencia, ya que los miembros de su clase siguen apareciendo antes que i y, por lo tanto, la probabilidad de que i sea reducido disminuye. Dado que, según el teorema 3.1, una condición necesaria y suficiente para que el mecanismo sea CI es la monotonicidad. GTR-1 es IC para dominios de clase de adquisiciones. Sin embargo, para los dominios que no son de la clase de adquisiciones, esto no es suficiente incluso si el dominio es un dominio basado en clases. Aunque todos los miembros de sj siguen teniendo la competencia requerida, es posible que haya miembros de sj que no tengan análogos en sj que no tengan competencia. Por lo tanto, podría reducirse después de aumentar su valor, lo que significa, según el lema 3.1, que el mecanismo no es IC. Por lo tanto, definimos un algoritmo diferente para los dominios que no pertenecen a la clase de adquisiciones. Nuestro algoritmo modificado requiere una función de división especial para mantener la propiedad de IC. Aunque nuestra restricción a esta función de división especial parezca estricta, la función de división que utilizamos es una generalización de la forma en que se eligen los conjuntos de adquisiciones en dominios basados en clases de adquisiciones, por ejemplo, [13, 16, 9, 3, 2, 4]. Para facilitar la presentación en esta sección, asumimos que F = 0. La función de división para dominios generales se define al observar todas las posibles funciones de división. Para cada función de división Di y cada conjunto de ofertas, el algoritmo GTR-1 produce un bienestar que es una función de las ofertas y la función de división. Denotamos por D0 la función de división que divide a los jugadores en conjuntos de manera que el bienestar que encuentra GTR-1 sea máximo. Cabe destacar que para cualquier Di en particular, esto podría no ser IC, ya que GTR-1 es IC solo para dominios de clase de adquisición y no para dominios generales. En el Apéndice A mostramos cómo calcular D0 en polinómico. Formalmente, sea D el conjunto de todas las funciones de división D. Denotemos el bienestar logrado por el mecanismo producido por GTR1 al usar la función de división D y un conjunto de ofertas ¯b como GTR1(D, ¯b). Denote por D0(¯b) = argmaxD∈D(GTR1(D,¯b)). Para facilitar la presentación, denotamos D0(¯b) como D0 cuando la dependencia de b es clara en el contexto. Observación 4.1. D0 es un elemento del conjunto de funciones divisorias, y por lo tanto es una función divisoria. El segundo algoritmo de reducción de comercio generalizado GTR-2 sigue. Definición 4.1. El algoritmo GTR-2 - Dado el mecanismo M, la asignación A y un conjunto X ⊂ N cerrado bajo reemplazo, GTR-2 opera de la siguiente manera: 1. Calcula la función de división D0 como se define arriba. 2. Utilice la función de división D0 para dividir A en conjuntos de adquisiciones s1, . . . , sk ∈ S. 3. Para cada sj, comenzando desde el conjunto de adquisiciones de menor valor, haz lo siguiente: Si para i ∈ sj ∩ X hay una competencia externa y hay a lo sumo un i ∈ sj que no tiene competencia interna, entonces conserva sj. De lo contrario, reduzca el intercambio sj. 4. Todos los jugadores comerciantes son cobrados el valor crítico por comerciar. Todos los jugadores no comerciales no pagan nada. Demostraremos que el mecanismo producido por GTR-2 mantiene las propiedades deseadas de IR, IC y BB. El siguiente lema muestra que el mecanismo producido por GTR-2 es IR y IC. Lema 4.1. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR e IC. Prueba. Según el teorema 3.1, basta con demostrar que el mecanismo producido por el algoritmo GTR-2 es bidmonótono para cada jugador i. Supongamos que no fui reducido al ofertar bi, necesitamos demostrar que no seré reducido al ofertar bi > bi. Denote por D1 = D0(b) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por D1 = D0(bi, b−i) la función de división utilizada por GTR-2 cuando yo reporté bi y el resto de los jugadores reportaron b−i. Denote por ¯D1(b) una función divisoria máxima que resulta en GTR-1 reduciendo i al informar bi. Supongamos, por el contrario, que GTR-2 redujo i del intercambio cuando i informó bi, entonces GTR1(D1, (bi, b−i)) = GTR1( ¯D1, b). Dado que D1 ∈ D, se sigue que GTR1(D1, b) > GTR1( ¯D1, b) y por lo tanto GTR1(D1, b) > GTR1(D1, (bi, b−i)). Sin embargo, según la definición D1 ∈ D, GTR-2 no debería haber reducido el tiempo mínimo de adquisición para los dominios de clase de aprovisionamiento. Calcular D0 en tiempo polinómico para dominios generales es un problema abierto importante. En la versión completa de GTR-2 se extiende de tal manera que basta con que exista algún momento en el cual se cumpla el tercer paso. Esa extensión se omitió de la versión actual debido a la falta de espacio. 25 con la función de división D1 y obtuvo un mayor bienestar que GTR1(D1, b). Por lo tanto, surge una contradicción y GTR-2 no reduce i del intercambio cuando i informa que bi > bi. Lema 4.2. Para cualquier X, el mecanismo externo de X con un esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo BB. Prueba. Esta prueba es similar a la prueba del lema 3.3. Combinando los dos lemas anteriores obtenemos: Teorema 4.1. Para cualquier X cerrado bajo reemplazo, el mecanismo externo de X con el esquema de fijación de precios de valor crítico producido por el algoritmo GTR-2 es un mecanismo IR, IC y BB. El Apéndice A muestra cómo calcular D0 para dominios de clase de adquisiciones en tiempo polinómico, no se sabe generalmente cómo calcular D0 fácilmente. Crear un método general para calcular la función de división necesaria en tiempo polinómico sigue siendo una pregunta abierta. 4.1 Limitando el Bienestar para Dominios Basados en Clases de Adquisición y otros Casos de Dominios Generales. Esta sección muestra que, además de producir un mecanismo con las propiedades deseadas, GTR-2 también produce un mecanismo que mantiene un alto bienestar. Dado que el algoritmo GTR-2 encuentra un mecanismo equilibrado en presupuesto en dominios arbitrarios, no podemos acotar el bienestar para casos generales. Sin embargo, podemos acotar el bienestar para el dominio basado en la clase de adquisiciones y una amplia variedad de casos en dominios generales que incluyen muchos casos previamente estudiados. Definición 4.2. Denote freqk([i], sj) para indicar que una clase [i] aparece en un conjunto de adquisiciones sj, k veces y hay k miembros de [i] en sj. Definición 4.3. Denote por freqk([i], S) el máximo k tal que hay k miembros de [i] en sj. Es decir, freqk([i], S) = maxsj ∈S freqk([i], sj). Deje que el conjunto de clases de equivalencia en el mecanismo de dominio basado en la clase de adquisiciones sea ec y |ec| sea el número de esas clases de equivalencia. Usando la definición de frecuencia de apariencia de clase, podemos acotar el bienestar logrado por el mecanismo producido por GTR-2 para los dominios de clase de adquisición: Lema 4.3. Para los dominios de clase de adquisiciones con F = 0, el número de conjuntos de adquisiciones que se reducen por GTR-213 es a lo sumo |ec| veces la frecuencia máxima de cada clase. Formalmente, el número máximo de conjuntos de adquisición que se reduce es O( [i]∈ec freqk([i], S)) Demostración. Sea D una función de división arbitraria. Observamos que, por definición, cualquier conjunto de adquisiciones sj no se reducirá si cada i ∈ sj tiene tanto competencia interna como competencia externa. El bienestar logrado por GTR-1 también puede estar acotado para los casos presentados en esta sección. Sin embargo, nos enfocamos en GTR-2 ya que siempre logra un mejor bienestar. 13 o GTR-1 Cada conjunto de adquisiciones s que se reduce tiene al menos un jugador i que no tiene competencia. Una vez que s se reduce, todos los jugadores de [i] tienen competencia interna. Así, al reducir el número de clases de equivalencia |ec| de conjuntos de adquisiciones, cubrimos a todos los jugadores restantes con competencia interna. Si la frecuencia máxima de cada clase de equivalencia fuera uno, entonces cada jugador restante t en el conjunto de adquisiciones sk también tendría competencia externa, ya que todos los competidores internos de los jugadores ¯t = t, ¯t ∈ sk son competencia externa para t. Si tenemos freqk([t], S) jugadores de la clase [t] que fueron reducidos, entonces hay suficiente competencia externa para todos los jugadores en sk. Por lo tanto, basta con reducir los conjuntos de adquisición O( [i]∈ec freqk([i], S)) para garantizar que exista tanto la competencia interna como externa necesaria. El siguiente teorema se deduce como un corolario inmediato del lema 4.3: Teorema 4.2. Dado mecanismos de dominio basados en clases de adquisición con H conjuntos de adquisición, la eficiencia es al menos una fracción de 1 − O( O( [i]∈ec freqk([i],S)) H ) del bienestar óptimo. Los siguientes corolarios son resultados directos del teorema 4.2. Todos estos corolarios mejoran resultados anteriores o logran el mismo bienestar que los resultados anteriores. Corolario 4.1. Para utilizar GTR-2 en subastas homogéneas de doble cara (problema B.1), se debe reducir como máximo un conjunto de adquisición de 14. De manera similar, para mercados distribuidos espacialmente sin bordes estratégicos (problema B.3), el uso de GTR-2 mejora el resultado de [3] donde se reduce un ciclo mínimo que incluye a un comprador y un vendedor. Corolario 4.2. Usar GTR-2 para mercados distribuidos espacialmente sin bordes estratégicos reducirá a lo sumo un ciclo por componente conectado. Para las cadenas de suministro (problema B.5) el uso de GTR-2 mejora el resultado de [2, 4] de manera similar al corolario 4.2. Corolario 4.3. Usando GTR-2 para cadenas de suministro, se reducirá a lo sumo un ciclo por componente conectado. El siguiente corolario resuelve el problema abierto en [3]. Corolario 4.4. Para mercados distribuidos en n nodos con agentes estratégicos y caminos de longitud acotada K (problema B.6) basta con eliminar como máximo K * n conjuntos de adquisiciones. Prueba. Bosque de expansión: Estos crearán al menos K árboles de expansión, por lo tanto, podemos cubrir de manera disjunta cada conjunto de adquisiciones restante. Esto mejora el algoritmo ingenuo de reducir conjuntos de adquisición n2. Proporcionamos resultados para dos casos especiales de subastas de doble cara con jugadores de valor único (problema B.8). Es posible que no se realicen reducciones, por ejemplo, cuando hay un jugador no comercial que es la competencia externa requerida. Al igual que en las subastas de doble cara, a veces habrá suficiente competencia sin una reducción. Corolario 4.5. si hay como máximo M tipos diferentes de conjuntos de adquisición, basta con eliminar M conjuntos de adquisición. Corolario 4.6. Si hay K tipos de bienes y cada conjunto de adquisición consiste en a lo sumo uno de cada tipo, basta con eliminar a lo sumo K conjuntos de adquisición. CONCLUSIONES Y TRABAJOS FUTUROS En este artículo presentamos un procedimiento de solución general llamado Reducción Comercial Generalizada (GTR). GTR acepta un mecanismo de IR e IC como entrada y produce mecanismos que son IR, IC y BB como salida. Los mecanismos de salida logran un bienestar que se acerca a lo óptimo para una amplia gama de dominios. El procedimiento GTR mejora los resultados existentes como subastas homogéneas de doble cara, mercados distribuidos y cadenas de suministro, y resuelve varios problemas abiertos como mercados distribuidos con aristas de transporte estratégicas y caminos acotados, subastas de doble cara combinatorias con conjuntos de adquisiciones de tamaño acotado, y subastas de doble cara combinatorias con un número acotado de conjuntos de adquisiciones. La cuestión de la calidad de la aproximación del bienestar tanto en general como en dominios de clase que no son dominios de clase de adquisición es una pregunta abierta importante e interesante. También dejamos abierta la pregunta de los límites superiores para la calidad de la aproximación del bienestar. Aunque sabemos que es imposible tener IR, IC y BB en un mecanismo eficiente, sería interesante tener un límite superior en la aproximación al bienestar alcanzable en un mecanismo IR, IC y BB. El procedimiento GTR produce un mecanismo que depende de un conjunto X ⊂ N. Otra pregunta interesante es cuál es la calidad de la aproximación cuando X se elige al azar de N antes de que se declaren las valoraciones. Agradecimientos Los autores desean agradecer a Eva Tardos y colaboradores por compartir sus resultados con nosotros. Los autores también desean expresar su gratitud por los comentarios útiles de los revisores anónimos.  REFERENCIAS [1] A. Archer y E. Tardos. Mecanismos de camino frugal. Simposio sobre Algoritmos Discretos, Actas del decimotercer simposio anual de algoritmos discretos ACM-SIAM, 2002. [2] M. Babaioff y N. Nisan. Subastas simultáneas en toda la cadena de suministro. Revista de Investigación en Inteligencia Artificial, 2004. [3] Babaioff M., Nisan N. y Pavlov E. Mecanismos para un Mercado Distribuido Espacialmente. En actas de la 5ta Conferencia ACM sobre Comercio Electrónico, 2004. [4] M. Babaioff y W. E. Walsh. Subastas Incentivo-Compatible, Equilibradas en Presupuesto, pero Altamente Eficientes para la Formación de Cadenas de Suministro. En actas de la Cuarta Conferencia ACM sobre Comercio Electrónico, 2003. [5] Y. Bartal, R. Gonen y P. La Mura. Mecanismos de rango de negociación: explorando los límites de los mercados eficientes y veraces. EC 04: Actas de la 5ta conferencia de ACM sobre comercio electrónico, 2004. [6] Blume L, Easley D., Kleinberg J. y Tardos E. Redes de intercambio con agentes que fijan precios. En actas de la 8ª conferencia de la ACM sobre comercio electrónico, 2007. [7] Cavallo R. Toma de decisiones óptima con desperdicio mínimo: redistribución estratégicamente segura de pagos VCG. En Proc. 5th Int. Conf. sobre Autonomía. Agentes y Sistemas Multiagente (AAMAS06). [8] E. H. Clarke Fijación de precios múltiples de bienes públicos. En la revista Public Choice de 1971, vol. 2, pp. 17-33. [9] Chu L. Y. y Shen Zuo-Jun M. Mecanismo de Subasta Doble de Competencia de Agentes. Ciencia de la Gestión, vol. 52(8), 2006. [10] T. Groves Incentivos en equipos. En la revista Econometrica de 1973, vol. 41, pp. 617-631. [11] D. Lehmann, L. I. OCallaghan y Y. Shoham. Revelación de la verdad en subastas combinatorias aproximadamente eficientes. En Journal of ACM 2002, vol. 49(5), pp. 577-602. [12] Leonard H. Obtención de preferencias honestas para la asignación de individuos a posiciones. Revista de economía política, 1983. [13] McAfee R. P. Una subasta doble de estrategia dominante. Revista de Teoría Económica, vol. 56, 434-450, 1992. [14] A. Mualem y N. Nisan. Mecanismos de Aproximación Veraz para Subastas Combinatorias Restringidas. Actas de AAAI 2002. [15] Myerson R. B. y Satterthwaite M. A. Mecanismos eficientes para el comercio bilateral. Revista de Teoría Económica, vol. 29, 265-281, 1983. [16] Roundy R., Chen R., Janakriraman G. y Zhang R. Q. Mecanismos de subasta eficientes para la adquisición de la cadena de suministro. Escuela de Investigación de Operaciones e Ingeniería Industrial, Universidad de Cornell, 2001. [17] W. Vickrey Contrapronóstico, Subastas y Licitaciones Competitivas Selladas. En Journal of Finance 1961, vol. 16, pp. 8-37. APÉNDICE A. CALCULANDO LA FUNCIÓN DE DIVISIÓN ÓPTIMA EN DOMINIOS DE CLASE DE ADQUISICIÓN EN TIEMPO POLINÓMICO En esta sección mostramos cómo calcular la función de división óptima para dominios de clase de adquisición en tiempo polinómico. Primero definimos una función de división especial D0 que es fácil de calcular: Definimos la función de división D0 de forma recursiva de la siguiente manera: En la etapa j, D0 divide a los jugadores comerciales en dos conjuntos Aj y Aj de manera que: • Aj es un conjunto de adquisiciones • Aj puede dividirse en una unión disjunta de conjuntos de adquisiciones. • Aj tiene un valor mínimo de todas las particiones posibles. Define sj = Aj y llame recursivamente a D0 y Aj hasta que Aj = ∅. Ahora demostramos que D0 es la función de división requerida. Lema A.1. Para los dominios de clase de adquisiciones D0 = D0. Prueba. Dado que el dominio es un dominio de clase de adquisiciones, para cada conjunto de adquisiciones reducido, el conjunto de jugadores que logran la competencia (ya sea interna o externa) está fijo. Por lo tanto, el número de conjuntos de adquisiciones que se reducen es independiente de la función de división D. Dado que el objetivo es optimizar el bienestar reduciendo los conjuntos de adquisiciones con el menor valor, podemos optimizar el bienestar. Esto se logra mediante D0. I'm sorry, but you did not provide a sentence to translate. Please provide the sentence you would like me to translate to Spanish. PROBLEMAS Y EJEMPLOS Para completitud, presentamos en esta sección las definiciones formales de los problemas que utilizamos para ilustrar nuestro mecanismo. El primer problema que definimos es la subasta de doble cara con bienes homogéneos. Problema B.1. Subasta de doble cara con bienes homogéneos: Hay m vendedores, cada uno con un solo bien (todos los bienes son idénticos) y n compradores, cada uno interesado en recibir un bien. Denotamos el conjunto de vendedores como S y el conjunto de compradores como B. Cada jugador i ∈ S ∪ B (tanto compradores como vendedores) tiene un valor vi por el bien. En este modelo, un conjunto de adquisiciones consiste en un único comprador y un único vendedor, es decir, |s| = 2. El valor de un conjunto de adquisiciones es W(s) = vj − vi donde j ∈ B e i ∈ S, es decir, la ganancia del intercambio. Si los conjuntos de adquisiciones se crean emparejando al comprador de mayor valor con el vendedor de menor valor, entonces el mecanismo de reducción de intercambio determinístico [13] reduce el conjunto de adquisiciones de menor valor. Un modelo relacionado es el modelo de costos relacionados en pares [9]. Problema B.2. Los costos relacionados en pares: una subasta de doble cara B.1 en la que cada par de jugadores i ∈ S y j ∈ B tiene un costo relacionado F(i, j) ≥ 0 para poder comerciar. F(i, j) es un costo de fricción que debe minimizarse para maximizar el bienestar. [9] define dos mecanismos equilibrados presupuestariamente para este caso. Uno de los mecanismos de [9] tiene el conjunto de compradores B como el conjunto X para el mecanismo X-externo y el otro tiene el conjunto de vendedores S como el conjunto X para el mecanismo X-externo. Un modelo similar es el modelo de mercados distribuidos espacialmente (SDM) [3] en el que hay un grafo que impone relaciones en el costo. Problema B.3. Mercados distribuidos espacialmente: existe un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene asociado un costo que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Los bordes no son estratégicos, pero todos los jugadores son estratégicos. [3] define un mecanismo equilibrado en presupuesto para este caso. Nuestro artículo mejora el resultado de [3]. Otro modelo de gráfica es el modelo definido en [6]. Problema B.4. Redes de intercambio: Dado un grafo y compradores y vendedores que se encuentran en los nodos del grafo. Todo comercio debe pasar a través de un comerciante. En este caso, los conjuntos de adquisiciones tienen la forma (comprador, vendedor, comerciante) donde los posibles conjuntos de esta forma están definidos por un gráfico. El modelo de cadena de suministro [2, 4] puede ser visto como una generalización de [6] en la que los conjuntos de adquisición consisten en la forma (productor, consumidor, comerciante1, . . . , comerciantek). También es posible aleatorizar la reducción de los conjuntos de adquisición para lograr un presupuesto esperado de cero similar a [13], los detalles son obvios y se omiten. Problema B.5. Cadena de suministro: Hay un conjunto D de agentes y un conjunto G de bienes y un grafo G = (V, E) que define posibles relaciones comerciales. Los agentes pueden requerir una entrada de múltiples cantidades de bienes para producir un solo bien. El jugador tipo productor puede producir bienes de la nada, el consumidor tiene una valoración y es necesaria toda una cadena de intermediarios para crear un conjunto de adquisiciones viable. [2, 4] consideran una tecnología de fabricación única en la que el grafo que define las posibles relaciones es un árbol. Todos los problemas anteriores son dominios de clase de adquisiciones. También consideramos varios problemas que no son dominios de la clase de adquisiciones y, en general, las cuestiones de equilibrio presupuestario se han dejado como problemas abiertos. Un problema abierto planteado en [3] es el modelo SDM en el que los bordes son estratégicos. Problema B.6. Mercados distribuidos espacialmente con bordes estratégicos: hay un grafo G = (V, E) tal que cada v ∈ V tiene un conjunto de vendedores Sv y un conjunto de compradores Bv. Cada arista e ∈ E tiene un costo asociado que es el costo de transportar una sola unidad de mercancía a lo largo de la arista. Cada comprador, vendedor y intermediario tiene un valor para el intercambio, es decir, todas las entidades son estratégicas. [2, 4] dejó abierta la cuestión de los mecanismos equilibrados en presupuesto para cadenas de suministro donde no hay una tecnología de fabricación única. Es fácil ver que este problema no pertenece al ámbito de la clase de adquisiciones. Otro problema interesante son las redes de transporte. Problema B.7. Redes de transporte: Un grafo G = (V, E) donde las aristas son jugadores estratégicos con costos y el objetivo es encontrar una ruta de transporte de costo mínimo entre un par de nodos privilegiados Fuente y Objetivo ∈ V. Se demostró en [1] que la asignación eficiente puede tener un déficit presupuestario que es lineal en el número de jugadores. Claramente, este problema no es un dominio de clase de adquisiciones y dejó abierta la pregunta de un mecanismo de presupuesto equilibrado. Otro mecanismo de dominio no basado en la clase de adquisiciones es la subasta combinatoria de doble cara (CA) con jugadores de valor único. Problema B.8. Subasta combinatoria de doble cara (CA) con jugadores de valor único: Existe un conjunto S de vendedores, cada uno vendiendo un solo bien. También existe un conjunto B de compradores, cada uno interesado en paquetes de 2S18. Hay dos variantes de este problema. En el caso de un comprador enfocado, cada comprador tiene un valor positivo para un solo subconjunto, mientras que en el caso de múltiples intereses, cada comprador puede tener varios paquetes con valoración positiva, pero todos los valores son iguales. En ambos casos asumimos disponibilidad gratuita para que todos los paquetes que contienen el paquete deseado tengan el mismo valor para el comprador. También consideramos problemas que no pertenecen a dominios de clase. Problema B.9. Subasta combinatoria de doble cara (CA) con jugadores generales multi-mentales: igual que B.8 pero cada comprador puede tener múltiples paquetes con valoración positiva que no necesariamente son iguales. Abusamos de la notación e identificamos al vendedor con el bien. Comparando diferentes opciones de X, la elección de X puede tener un gran impacto en el bienestar (y los ingresos) del mecanismo reducido y, por lo tanto, surge la pregunta de cómo se debería elegir el conjunto X. Dado que se requiere el mecanismo X-externo para mantener la CI claramente, la elección de X no puede depender del valor de los jugadores, de lo contrario el mecanismo reducido no será veraz. En esta sección motivamos la elección de conjuntos X pequeños para dominios de clase de adquisiciones y damos intuición de que también podría ser el caso para algunos otros dominios. Comenzamos ilustrando el efecto del conjunto X sobre el bienestar y los ingresos en la subasta de doble cara con el problema de bienes homogéneos B.1. Se pueden construir ejemplos similares para los otros problemas definidos en B. El siguiente ejemplo muestra un efecto en el bienestar. Ejemplo C.1. Hay dos compradores y dos vendedores y dos conjuntos no intersectantes (incomparables) X = {compradores} e Y = {vendedores}. Si los valores de los compradores son 101, 100 y los vendedores son 150, 1, entonces el mecanismo externo X generará una ganancia del comercio de 0 y el mecanismo externo Y generará una ganancia del comercio de 100. Por el contrario, si los valores de los compradores son 100, 1 y los de los vendedores son 2, 3, el mecanismo externo X generará una ganancia comercial de 98 y el mecanismo externo Y generará una ganancia comercial de cero. El ejemplo muestra claramente que la diferencia entre el mecanismo X-externo y el mecanismo Y-externo es ilimitada, aunque como se muestra arriba, la fracción que cada uno de ellos reduce puede ser limitada y, por lo tanto, la proporción multiplicativa entre ellos puede ser limitada (como función del número de operaciones). En el lado de los ingresos ni siquiera podemos establecer un límite para la proporción, como se ve en el siguiente ejemplo: Ejemplo C.2. Considera k compradores con un valor de 100 y k+1 vendedores con un valor de 1. Si X = {compradores} entonces no es necesario reducir ningún intercambio y todos los compradores reciben el bien y pagan 1. k + 1 de los vendedores venden y cada uno recibe 1. Esto produce un ingreso neto de cero. Si Y = {vendedores} entonces se debe reducir un intercambio. Esto significa que todos los compradores pagan 100 mientras que todos los vendedores siguen recibiendo 1. La ganancia total es entonces de 99k. Del mismo modo, se puede construir un ejemplo que genere ingresos mucho más altos para el mecanismo externo X en comparación con el mecanismo externo Y. Los ejemplos anteriores se refieren a los conjuntos X e Y, los cuales no se intersectan y son incomparables. El siguiente teorema compara los mecanismos externos-X y externos-Y para dominios de clase de adquisiciones donde X es un subconjunto de Y. Teorema C.1. Para los dominios de clase de adquisiciones, si X ⊂ Y y para cualquier s ∈ S, s ∩ X ∩ Y = ∅ entonces: 1. La eficiencia del mecanismo externo X en GTR-1 (y por lo tanto GTR-2) es al menos igual a la del mecanismo externo Y. Cualquier jugador ganador que gane tanto en los mecanismos X-externo como en el Y-externo no paga menos en el Y-externo que en el X-externo y, por lo tanto, la proporción de presupuesto a bienestar no es peor en el Y-externo que en el X-externo. Prueba. 1. Para cualquier función de división D, si hay un conjunto de adquisición sj que se reduce en el mecanismo externo X, hay dos posibles razones: (a) sj carece de competencia externa en el mecanismo externo X. En este caso, sj carece de competencia externa en el mecanismo interno. (b) sj tiene todas las competencias externas requeridas en X-externo. En este caso, sj tiene todas las competencias internas requeridas en Y -externas según el lema 3.1, pero podría carecer de algunas competencias externas para sj ∪ {Y \\ X} y verse reducido, 2. Esto se deduce del hecho de que para cualquier orden D, cualquier conjunto de adquisiciones s que se reduce en el mecanismo externo X también se reduce en el mecanismo externo Y. Por lo tanto, el valor crítico no es menor en el mecanismo Yexterno que en el mecanismo Xexterno. Observación C.1. Para cualquier par de conjuntos X, Y, es fácil construir un ejemplo en el que los mecanismos externos de X y Y reduzcan los mismos conjuntos de adquisición, por lo que la desigualdad es débil. El Teorema C.1 muestra una desigualdad en el bienestar, así como en los pagos, pero es fácil construir un ejemplo en el que los ingresos pueden aumentar para X en comparación con Y, así como lo contrario. Esto sugiere que en general queremos que X sea lo más pequeño posible, aunque en algunos dominios no es posible comparar diferentes X. ",
            "candidates": [],
            "error": [
                []
            ]
        }
    }
}